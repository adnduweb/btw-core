var NE=(_r,Be)=>()=>(Be||_r((Be={exports:{}}).exports,Be),Be.exports);var BE=NE((exports,module)=>{function _mergeNamespaces(_r,Be){for(var Dr=0;Dr<Be.length;Dr++){const Mr=Be[Dr];if(typeof Mr!="string"&&!Array.isArray(Mr)){for(const $r in Mr)if($r!=="default"&&!($r in _r)){const Br=Object.getOwnPropertyDescriptor(Mr,$r);Br&&Object.defineProperty(_r,$r,Br.get?Br:{enumerable:!0,get:()=>Mr[$r]})}}}return Object.freeze(Object.defineProperty(_r,Symbol.toStringTag,{value:"Module"}))}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_r){return _r&&_r.__esModule&&Object.prototype.hasOwnProperty.call(_r,"default")?_r.default:_r}function getAugmentedNamespace(_r){if(_r.__esModule)return _r;var Be=_r.default;if(typeof Be=="function"){var Dr=function Mr(){return this instanceof Mr?Reflect.construct(Be,arguments,this.constructor):Be.apply(this,arguments)};Dr.prototype=Be.prototype}else Dr={};return Object.defineProperty(Dr,"__esModule",{value:!0}),Object.keys(_r).forEach(function(Mr){var $r=Object.getOwnPropertyDescriptor(_r,Mr);Object.defineProperty(Dr,Mr,$r.get?$r:{enumerable:!0,get:function(){return _r[Mr]}})}),Dr}var jquery={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(_r){(function(Be,Dr){_r.exports=Be.document?Dr(Be,!0):function(Mr){if(!Mr.document)throw new Error("jQuery requires a window with a document");return Dr(Mr)}})(typeof window<"u"?window:commonjsGlobal,function(Be,Dr){var Mr=[],$r=Object.getPrototypeOf,Br=Mr.slice,zr=Mr.flat?function(_n){return Mr.flat.call(_n)}:function(_n){return Mr.concat.apply([],_n)},Vr=Mr.push,jr=Mr.indexOf,Gr={},Wr=Gr.toString,Kr=Gr.hasOwnProperty,Zr=Kr.toString,Jr=Zr.call(Object),rn={},nn=function(Sn){return typeof Sn=="function"&&typeof Sn.nodeType!="number"&&typeof Sn.item!="function"},ln=function(Sn){return Sn!=null&&Sn===Sn.window},cn=Be.document,hn={type:!0,src:!0,nonce:!0,noModule:!0};function mn(_n,Sn,Pn){Pn=Pn||cn;var Nn,qn,Kn=Pn.createElement("script");if(Kn.text=_n,Sn)for(Nn in hn)qn=Sn[Nn]||Sn.getAttribute&&Sn.getAttribute(Nn),qn&&Kn.setAttribute(Nn,qn);Pn.head.appendChild(Kn).parentNode.removeChild(Kn)}function bn(_n){return _n==null?_n+"":typeof _n=="object"||typeof _n=="function"?Gr[Wr.call(_n)]||"object":typeof _n}var An="3.7.1",vn=/HTML$/i,dn=function(_n,Sn){return new dn.fn.init(_n,Sn)};dn.fn=dn.prototype={jquery:An,constructor:dn,length:0,toArray:function(){return Br.call(this)},get:function(_n){return _n==null?Br.call(this):_n<0?this[_n+this.length]:this[_n]},pushStack:function(_n){var Sn=dn.merge(this.constructor(),_n);return Sn.prevObject=this,Sn},each:function(_n){return dn.each(this,_n)},map:function(_n){return this.pushStack(dn.map(this,function(Sn,Pn){return _n.call(Sn,Pn,Sn)}))},slice:function(){return this.pushStack(Br.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(dn.grep(this,function(_n,Sn){return(Sn+1)%2}))},odd:function(){return this.pushStack(dn.grep(this,function(_n,Sn){return Sn%2}))},eq:function(_n){var Sn=this.length,Pn=+_n+(_n<0?Sn:0);return this.pushStack(Pn>=0&&Pn<Sn?[this[Pn]]:[])},end:function(){return this.prevObject||this.constructor()},push:Vr,sort:Mr.sort,splice:Mr.splice},dn.extend=dn.fn.extend=function(){var _n,Sn,Pn,Nn,qn,Kn,ti=arguments[0]||{},yi=1,gi=arguments.length,Ei=!1;for(typeof ti=="boolean"&&(Ei=ti,ti=arguments[yi]||{},yi++),typeof ti!="object"&&!nn(ti)&&(ti={}),yi===gi&&(ti=this,yi--);yi<gi;yi++)if((_n=arguments[yi])!=null)for(Sn in _n)Nn=_n[Sn],!(Sn==="__proto__"||ti===Nn)&&(Ei&&Nn&&(dn.isPlainObject(Nn)||(qn=Array.isArray(Nn)))?(Pn=ti[Sn],qn&&!Array.isArray(Pn)?Kn=[]:!qn&&!dn.isPlainObject(Pn)?Kn={}:Kn=Pn,qn=!1,ti[Sn]=dn.extend(Ei,Kn,Nn)):Nn!==void 0&&(ti[Sn]=Nn));return ti},dn.extend({expando:"jQuery"+(An+Math.random()).replace(/\D/g,""),isReady:!0,error:function(_n){throw new Error(_n)},noop:function(){},isPlainObject:function(_n){var Sn,Pn;return!_n||Wr.call(_n)!=="[object Object]"?!1:(Sn=$r(_n),Sn?(Pn=Kr.call(Sn,"constructor")&&Sn.constructor,typeof Pn=="function"&&Zr.call(Pn)===Jr):!0)},isEmptyObject:function(_n){var Sn;for(Sn in _n)return!1;return!0},globalEval:function(_n,Sn,Pn){mn(_n,{nonce:Sn&&Sn.nonce},Pn)},each:function(_n,Sn){var Pn,Nn=0;if(wn(_n))for(Pn=_n.length;Nn<Pn&&Sn.call(_n[Nn],Nn,_n[Nn])!==!1;Nn++);else for(Nn in _n)if(Sn.call(_n[Nn],Nn,_n[Nn])===!1)break;return _n},text:function(_n){var Sn,Pn="",Nn=0,qn=_n.nodeType;if(!qn)for(;Sn=_n[Nn++];)Pn+=dn.text(Sn);return qn===1||qn===11?_n.textContent:qn===9?_n.documentElement.textContent:qn===3||qn===4?_n.nodeValue:Pn},makeArray:function(_n,Sn){var Pn=Sn||[];return _n!=null&&(wn(Object(_n))?dn.merge(Pn,typeof _n=="string"?[_n]:_n):Vr.call(Pn,_n)),Pn},inArray:function(_n,Sn,Pn){return Sn==null?-1:jr.call(Sn,_n,Pn)},isXMLDoc:function(_n){var Sn=_n&&_n.namespaceURI,Pn=_n&&(_n.ownerDocument||_n).documentElement;return!vn.test(Sn||Pn&&Pn.nodeName||"HTML")},merge:function(_n,Sn){for(var Pn=+Sn.length,Nn=0,qn=_n.length;Nn<Pn;Nn++)_n[qn++]=Sn[Nn];return _n.length=qn,_n},grep:function(_n,Sn,Pn){for(var Nn,qn=[],Kn=0,ti=_n.length,yi=!Pn;Kn<ti;Kn++)Nn=!Sn(_n[Kn],Kn),Nn!==yi&&qn.push(_n[Kn]);return qn},map:function(_n,Sn,Pn){var Nn,qn,Kn=0,ti=[];if(wn(_n))for(Nn=_n.length;Kn<Nn;Kn++)qn=Sn(_n[Kn],Kn,Pn),qn!=null&&ti.push(qn);else for(Kn in _n)qn=Sn(_n[Kn],Kn,Pn),qn!=null&&ti.push(qn);return zr(ti)},guid:1,support:rn}),typeof Symbol=="function"&&(dn.fn[Symbol.iterator]=Mr[Symbol.iterator]),dn.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(_n,Sn){Gr["[object "+Sn+"]"]=Sn.toLowerCase()});function wn(_n){var Sn=!!_n&&"length"in _n&&_n.length,Pn=bn(_n);return nn(_n)||ln(_n)?!1:Pn==="array"||Sn===0||typeof Sn=="number"&&Sn>0&&Sn-1 in _n}function xn(_n,Sn){return _n.nodeName&&_n.nodeName.toLowerCase()===Sn.toLowerCase()}var Mn=Mr.pop,In=Mr.sort,Hn=Mr.splice,$n="[\\x20\\t\\r\\n\\f]",jn=new RegExp("^"+$n+"+|((?:^|[^\\\\])(?:\\\\.)*)"+$n+"+$","g");dn.contains=function(_n,Sn){var Pn=Sn&&Sn.parentNode;return _n===Pn||!!(Pn&&Pn.nodeType===1&&(_n.contains?_n.contains(Pn):_n.compareDocumentPosition&&_n.compareDocumentPosition(Pn)&16))};var Bn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Gn(_n,Sn){return Sn?_n==="\0"?"ï¿½":_n.slice(0,-1)+"\\"+_n.charCodeAt(_n.length-1).toString(16)+" ":"\\"+_n}dn.escapeSelector=function(_n){return(_n+"").replace(Bn,Gn)};var ei=cn,ri=Vr;(function(){var _n,Sn,Pn,Nn,qn,Kn=ri,ti,yi,gi,Ei,ji,eo=dn.expando,$i=0,uo=0,da=qc(),Fa=qc(),fa=qc(),Ps=qc(),Ks=function(li,Ai){return li===Ai&&(qn=!0),0},Kl="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ul="(?:\\\\[\\da-fA-F]{1,6}"+$n+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ma="\\["+$n+"*("+Ul+")(?:"+$n+"*([*^$|!~]?=)"+$n+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ul+"))|)"+$n+"*\\]",vs=":("+Ul+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ma+")*)|.*)\\)|)",Ka=new RegExp($n+"+","g"),Es=new RegExp("^"+$n+"*,"+$n+"*"),Jl=new RegExp("^"+$n+"*([>+~]|"+$n+")"+$n+"*"),Gc=new RegExp($n+"|>"),_l=new RegExp(vs),Lc=new RegExp("^"+Ul+"$"),Pl={ID:new RegExp("^#("+Ul+")"),CLASS:new RegExp("^\\.("+Ul+")"),TAG:new RegExp("^("+Ul+"|[*])"),ATTR:new RegExp("^"+Ma),PSEUDO:new RegExp("^"+vs),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+$n+"*(even|odd|(([+-]|)(\\d*)n|)"+$n+"*(?:([+-]|)"+$n+"*(\\d+)|))"+$n+"*\\)|)","i"),bool:new RegExp("^(?:"+Kl+")$","i"),needsContext:new RegExp("^"+$n+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+$n+"*((?:-\\d)?\\d*)"+$n+"*\\)|)(?=[^-]|$)","i")},ec=/^(?:input|select|textarea|button)$/i,tc=/^h\d$/i,Ol=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Wc=/[+~]/,rc=new RegExp("\\\\[\\da-fA-F]{1,6}"+$n+"?|\\\\([^\\r\\n\\f])","g"),hc=function(li,Ai){var Oi="0x"+li.slice(1)-65536;return Ai||(Oi<0?String.fromCharCode(Oi+65536):String.fromCharCode(Oi>>10|55296,Oi&1023|56320))},Yc=function(){Gl()},mc=Xc(function(li){return li.disabled===!0&&xn(li,"fieldset")},{dir:"parentNode",next:"legend"});function hu(){try{return ti.activeElement}catch{}}try{Kn.apply(Mr=Br.call(ei.childNodes),ei.childNodes),Mr[ei.childNodes.length].nodeType}catch{Kn={apply:function(Ai,Oi){ri.apply(Ai,Br.call(Oi))},call:function(Ai){ri.apply(Ai,Br.call(arguments,1))}}}function ns(li,Ai,Oi,Bi){var Yi,wo,Ro,_o,Oo,La,ta,pa=Ai&&Ai.ownerDocument,za=Ai?Ai.nodeType:9;if(Oi=Oi||[],typeof li!="string"||!li||za!==1&&za!==9&&za!==11)return Oi;if(!Bi&&(Gl(Ai),Ai=Ai||ti,gi)){if(za!==11&&(Oo=Ol.exec(li)))if(Yi=Oo[1]){if(za===9)if(Ro=Ai.getElementById(Yi)){if(Ro.id===Yi)return Kn.call(Oi,Ro),Oi}else return Oi;else if(pa&&(Ro=pa.getElementById(Yi))&&ns.contains(Ai,Ro)&&Ro.id===Yi)return Kn.call(Oi,Ro),Oi}else{if(Oo[2])return Kn.apply(Oi,Ai.getElementsByTagName(li)),Oi;if((Yi=Oo[3])&&Ai.getElementsByClassName)return Kn.apply(Oi,Ai.getElementsByClassName(Yi)),Oi}if(!Ps[li+" "]&&(!Ei||!Ei.test(li))){if(ta=li,pa=Ai,za===1&&(Gc.test(li)||Jl.test(li))){for(pa=Wc.test(li)&&Kc(Ai.parentNode)||Ai,(pa!=Ai||!rn.scope)&&((_o=Ai.getAttribute("id"))?_o=dn.escapeSelector(_o):Ai.setAttribute("id",_o=eo)),La=Rl(li),wo=La.length;wo--;)La[wo]=(_o?"#"+_o:":scope")+" "+Zc(La[wo]);ta=La.join(",")}try{return Kn.apply(Oi,pa.querySelectorAll(ta)),Oi}catch{Ps(li,!0)}finally{_o===eo&&Ai.removeAttribute("id")}}}return Lu(li.replace(jn,"$1"),Ai,Oi,Bi)}function qc(){var li=[];function Ai(Oi,Bi){return li.push(Oi+" ")>Sn.cacheLength&&delete Ai[li.shift()],Ai[Oi+" "]=Bi}return Ai}function Zs(li){return li[eo]=!0,li}function Js(li){var Ai=ti.createElement("fieldset");try{return!!li(Ai)}catch{return!1}finally{Ai.parentNode&&Ai.parentNode.removeChild(Ai),Ai=null}}function vc(li){return function(Ai){return xn(Ai,"input")&&Ai.type===li}}function $d(li){return function(Ai){return(xn(Ai,"input")||xn(Ai,"button"))&&Ai.type===li}}function Ku(li){return function(Ai){return"form"in Ai?Ai.parentNode&&Ai.disabled===!1?"label"in Ai?"label"in Ai.parentNode?Ai.parentNode.disabled===li:Ai.disabled===li:Ai.isDisabled===li||Ai.isDisabled!==!li&&mc(Ai)===li:Ai.disabled===li:"label"in Ai?Ai.disabled===li:!1}}function fc(li){return Zs(function(Ai){return Ai=+Ai,Zs(function(Oi,Bi){for(var Yi,wo=li([],Oi.length,Ai),Ro=wo.length;Ro--;)Oi[Yi=wo[Ro]]&&(Oi[Yi]=!(Bi[Yi]=Oi[Yi]))})})}function Kc(li){return li&&typeof li.getElementsByTagName<"u"&&li}function Gl(li){var Ai,Oi=li?li.ownerDocument||li:ei;return Oi==ti||Oi.nodeType!==9||!Oi.documentElement||(ti=Oi,yi=ti.documentElement,gi=!dn.isXMLDoc(ti),ji=yi.matches||yi.webkitMatchesSelector||yi.msMatchesSelector,yi.msMatchesSelector&&ei!=ti&&(Ai=ti.defaultView)&&Ai.top!==Ai&&Ai.addEventListener("unload",Yc),rn.getById=Js(function(Bi){return yi.appendChild(Bi).id=dn.expando,!ti.getElementsByName||!ti.getElementsByName(dn.expando).length}),rn.disconnectedMatch=Js(function(Bi){return ji.call(Bi,"*")}),rn.scope=Js(function(){return ti.querySelectorAll(":scope")}),rn.cssHas=Js(function(){try{return ti.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),rn.getById?(Sn.filter.ID=function(Bi){var Yi=Bi.replace(rc,hc);return function(wo){return wo.getAttribute("id")===Yi}},Sn.find.ID=function(Bi,Yi){if(typeof Yi.getElementById<"u"&&gi){var wo=Yi.getElementById(Bi);return wo?[wo]:[]}}):(Sn.filter.ID=function(Bi){var Yi=Bi.replace(rc,hc);return function(wo){var Ro=typeof wo.getAttributeNode<"u"&&wo.getAttributeNode("id");return Ro&&Ro.value===Yi}},Sn.find.ID=function(Bi,Yi){if(typeof Yi.getElementById<"u"&&gi){var wo,Ro,_o,Oo=Yi.getElementById(Bi);if(Oo){if(wo=Oo.getAttributeNode("id"),wo&&wo.value===Bi)return[Oo];for(_o=Yi.getElementsByName(Bi),Ro=0;Oo=_o[Ro++];)if(wo=Oo.getAttributeNode("id"),wo&&wo.value===Bi)return[Oo]}return[]}}),Sn.find.TAG=function(Bi,Yi){return typeof Yi.getElementsByTagName<"u"?Yi.getElementsByTagName(Bi):Yi.querySelectorAll(Bi)},Sn.find.CLASS=function(Bi,Yi){if(typeof Yi.getElementsByClassName<"u"&&gi)return Yi.getElementsByClassName(Bi)},Ei=[],Js(function(Bi){var Yi;yi.appendChild(Bi).innerHTML="<a id='"+eo+"' href='' disabled='disabled'></a><select id='"+eo+"-\r\\' disabled='disabled'><option selected=''></option></select>",Bi.querySelectorAll("[selected]").length||Ei.push("\\["+$n+"*(?:value|"+Kl+")"),Bi.querySelectorAll("[id~="+eo+"-]").length||Ei.push("~="),Bi.querySelectorAll("a#"+eo+"+*").length||Ei.push(".#.+[+~]"),Bi.querySelectorAll(":checked").length||Ei.push(":checked"),Yi=ti.createElement("input"),Yi.setAttribute("type","hidden"),Bi.appendChild(Yi).setAttribute("name","D"),yi.appendChild(Bi).disabled=!0,Bi.querySelectorAll(":disabled").length!==2&&Ei.push(":enabled",":disabled"),Yi=ti.createElement("input"),Yi.setAttribute("name",""),Bi.appendChild(Yi),Bi.querySelectorAll("[name='']").length||Ei.push("\\["+$n+"*name"+$n+"*="+$n+`*(?:''|"")`)}),rn.cssHas||Ei.push(":has"),Ei=Ei.length&&new RegExp(Ei.join("|")),Ks=function(Bi,Yi){if(Bi===Yi)return qn=!0,0;var wo=!Bi.compareDocumentPosition-!Yi.compareDocumentPosition;return wo||(wo=(Bi.ownerDocument||Bi)==(Yi.ownerDocument||Yi)?Bi.compareDocumentPosition(Yi):1,wo&1||!rn.sortDetached&&Yi.compareDocumentPosition(Bi)===wo?Bi===ti||Bi.ownerDocument==ei&&ns.contains(ei,Bi)?-1:Yi===ti||Yi.ownerDocument==ei&&ns.contains(ei,Yi)?1:Nn?jr.call(Nn,Bi)-jr.call(Nn,Yi):0:wo&4?-1:1)}),ti}ns.matches=function(li,Ai){return ns(li,null,null,Ai)},ns.matchesSelector=function(li,Ai){if(Gl(li),gi&&!Ps[Ai+" "]&&(!Ei||!Ei.test(Ai)))try{var Oi=ji.call(li,Ai);if(Oi||rn.disconnectedMatch||li.document&&li.document.nodeType!==11)return Oi}catch{Ps(Ai,!0)}return ns(Ai,ti,null,[li]).length>0},ns.contains=function(li,Ai){return(li.ownerDocument||li)!=ti&&Gl(li),dn.contains(li,Ai)},ns.attr=function(li,Ai){(li.ownerDocument||li)!=ti&&Gl(li);var Oi=Sn.attrHandle[Ai.toLowerCase()],Bi=Oi&&Kr.call(Sn.attrHandle,Ai.toLowerCase())?Oi(li,Ai,!gi):void 0;return Bi!==void 0?Bi:li.getAttribute(Ai)},ns.error=function(li){throw new Error("Syntax error, unrecognized expression: "+li)},dn.uniqueSort=function(li){var Ai,Oi=[],Bi=0,Yi=0;if(qn=!rn.sortStable,Nn=!rn.sortStable&&Br.call(li,0),In.call(li,Ks),qn){for(;Ai=li[Yi++];)Ai===li[Yi]&&(Bi=Oi.push(Yi));for(;Bi--;)Hn.call(li,Oi[Bi],1)}return Nn=null,li},dn.fn.uniqueSort=function(){return this.pushStack(dn.uniqueSort(Br.apply(this)))},Sn=dn.expr={cacheLength:50,createPseudo:Zs,match:Pl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(li){return li[1]=li[1].replace(rc,hc),li[3]=(li[3]||li[4]||li[5]||"").replace(rc,hc),li[2]==="~="&&(li[3]=" "+li[3]+" "),li.slice(0,4)},CHILD:function(li){return li[1]=li[1].toLowerCase(),li[1].slice(0,3)==="nth"?(li[3]||ns.error(li[0]),li[4]=+(li[4]?li[5]+(li[6]||1):2*(li[3]==="even"||li[3]==="odd")),li[5]=+(li[7]+li[8]||li[3]==="odd")):li[3]&&ns.error(li[0]),li},PSEUDO:function(li){var Ai,Oi=!li[6]&&li[2];return Pl.CHILD.test(li[0])?null:(li[3]?li[2]=li[4]||li[5]||"":Oi&&_l.test(Oi)&&(Ai=Rl(Oi,!0))&&(Ai=Oi.indexOf(")",Oi.length-Ai)-Oi.length)&&(li[0]=li[0].slice(0,Ai),li[2]=Oi.slice(0,Ai)),li.slice(0,3))}},filter:{TAG:function(li){var Ai=li.replace(rc,hc).toLowerCase();return li==="*"?function(){return!0}:function(Oi){return xn(Oi,Ai)}},CLASS:function(li){var Ai=da[li+" "];return Ai||(Ai=new RegExp("(^|"+$n+")"+li+"("+$n+"|$)"))&&da(li,function(Oi){return Ai.test(typeof Oi.className=="string"&&Oi.className||typeof Oi.getAttribute<"u"&&Oi.getAttribute("class")||"")})},ATTR:function(li,Ai,Oi){return function(Bi){var Yi=ns.attr(Bi,li);return Yi==null?Ai==="!=":Ai?(Yi+="",Ai==="="?Yi===Oi:Ai==="!="?Yi!==Oi:Ai==="^="?Oi&&Yi.indexOf(Oi)===0:Ai==="*="?Oi&&Yi.indexOf(Oi)>-1:Ai==="$="?Oi&&Yi.slice(-Oi.length)===Oi:Ai==="~="?(" "+Yi.replace(Ka," ")+" ").indexOf(Oi)>-1:Ai==="|="?Yi===Oi||Yi.slice(0,Oi.length+1)===Oi+"-":!1):!0}},CHILD:function(li,Ai,Oi,Bi,Yi){var wo=li.slice(0,3)!=="nth",Ro=li.slice(-4)!=="last",_o=Ai==="of-type";return Bi===1&&Yi===0?function(Oo){return!!Oo.parentNode}:function(Oo,La,ta){var pa,za,ia,$a,zs,Hs=wo!==Ro?"nextSibling":"previousSibling",Ys=Oo.parentNode,ll=_o&&Oo.nodeName.toLowerCase(),yc=!ta&&!_o,el=!1;if(Ys){if(wo){for(;Hs;){for(ia=Oo;ia=ia[Hs];)if(_o?xn(ia,ll):ia.nodeType===1)return!1;zs=Hs=li==="only"&&!zs&&"nextSibling"}return!0}if(zs=[Ro?Ys.firstChild:Ys.lastChild],Ro&&yc){for(za=Ys[eo]||(Ys[eo]={}),pa=za[li]||[],$a=pa[0]===$i&&pa[1],el=$a&&pa[2],ia=$a&&Ys.childNodes[$a];ia=++$a&&ia&&ia[Hs]||(el=$a=0)||zs.pop();)if(ia.nodeType===1&&++el&&ia===Oo){za[li]=[$i,$a,el];break}}else if(yc&&(za=Oo[eo]||(Oo[eo]={}),pa=za[li]||[],$a=pa[0]===$i&&pa[1],el=$a),el===!1)for(;(ia=++$a&&ia&&ia[Hs]||(el=$a=0)||zs.pop())&&!((_o?xn(ia,ll):ia.nodeType===1)&&++el&&(yc&&(za=ia[eo]||(ia[eo]={}),za[li]=[$i,el]),ia===Oo)););return el-=Yi,el===Bi||el%Bi===0&&el/Bi>=0}}},PSEUDO:function(li,Ai){var Oi,Bi=Sn.pseudos[li]||Sn.setFilters[li.toLowerCase()]||ns.error("unsupported pseudo: "+li);return Bi[eo]?Bi(Ai):Bi.length>1?(Oi=[li,li,"",Ai],Sn.setFilters.hasOwnProperty(li.toLowerCase())?Zs(function(Yi,wo){for(var Ro,_o=Bi(Yi,Ai),Oo=_o.length;Oo--;)Ro=jr.call(Yi,_o[Oo]),Yi[Ro]=!(wo[Ro]=_o[Oo])}):function(Yi){return Bi(Yi,0,Oi)}):Bi}},pseudos:{not:Zs(function(li){var Ai=[],Oi=[],Bi=pu(li.replace(jn,"$1"));return Bi[eo]?Zs(function(Yi,wo,Ro,_o){for(var Oo,La=Bi(Yi,null,_o,[]),ta=Yi.length;ta--;)(Oo=La[ta])&&(Yi[ta]=!(wo[ta]=Oo))}):function(Yi,wo,Ro){return Ai[0]=Yi,Bi(Ai,null,Ro,Oi),Ai[0]=null,!Oi.pop()}}),has:Zs(function(li){return function(Ai){return ns(li,Ai).length>0}}),contains:Zs(function(li){return li=li.replace(rc,hc),function(Ai){return(Ai.textContent||dn.text(Ai)).indexOf(li)>-1}}),lang:Zs(function(li){return Lc.test(li||"")||ns.error("unsupported lang: "+li),li=li.replace(rc,hc).toLowerCase(),function(Ai){var Oi;do if(Oi=gi?Ai.lang:Ai.getAttribute("xml:lang")||Ai.getAttribute("lang"))return Oi=Oi.toLowerCase(),Oi===li||Oi.indexOf(li+"-")===0;while((Ai=Ai.parentNode)&&Ai.nodeType===1);return!1}}),target:function(li){var Ai=Be.location&&Be.location.hash;return Ai&&Ai.slice(1)===li.id},root:function(li){return li===yi},focus:function(li){return li===hu()&&ti.hasFocus()&&!!(li.type||li.href||~li.tabIndex)},enabled:Ku(!1),disabled:Ku(!0),checked:function(li){return xn(li,"input")&&!!li.checked||xn(li,"option")&&!!li.selected},selected:function(li){return li.parentNode&&li.parentNode.selectedIndex,li.selected===!0},empty:function(li){for(li=li.firstChild;li;li=li.nextSibling)if(li.nodeType<6)return!1;return!0},parent:function(li){return!Sn.pseudos.empty(li)},header:function(li){return tc.test(li.nodeName)},input:function(li){return ec.test(li.nodeName)},button:function(li){return xn(li,"input")&&li.type==="button"||xn(li,"button")},text:function(li){var Ai;return xn(li,"input")&&li.type==="text"&&((Ai=li.getAttribute("type"))==null||Ai.toLowerCase()==="text")},first:fc(function(){return[0]}),last:fc(function(li,Ai){return[Ai-1]}),eq:fc(function(li,Ai,Oi){return[Oi<0?Oi+Ai:Oi]}),even:fc(function(li,Ai){for(var Oi=0;Oi<Ai;Oi+=2)li.push(Oi);return li}),odd:fc(function(li,Ai){for(var Oi=1;Oi<Ai;Oi+=2)li.push(Oi);return li}),lt:fc(function(li,Ai,Oi){var Bi;for(Oi<0?Bi=Oi+Ai:Oi>Ai?Bi=Ai:Bi=Oi;--Bi>=0;)li.push(Bi);return li}),gt:fc(function(li,Ai,Oi){for(var Bi=Oi<0?Oi+Ai:Oi;++Bi<Ai;)li.push(Bi);return li})}},Sn.pseudos.nth=Sn.pseudos.eq;for(_n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Sn.pseudos[_n]=vc(_n);for(_n in{submit:!0,reset:!0})Sn.pseudos[_n]=$d(_n);function Pc(){}Pc.prototype=Sn.filters=Sn.pseudos,Sn.setFilters=new Pc;function Rl(li,Ai){var Oi,Bi,Yi,wo,Ro,_o,Oo,La=Fa[li+" "];if(La)return Ai?0:La.slice(0);for(Ro=li,_o=[],Oo=Sn.preFilter;Ro;){(!Oi||(Bi=Es.exec(Ro)))&&(Bi&&(Ro=Ro.slice(Bi[0].length)||Ro),_o.push(Yi=[])),Oi=!1,(Bi=Jl.exec(Ro))&&(Oi=Bi.shift(),Yi.push({value:Oi,type:Bi[0].replace(jn," ")}),Ro=Ro.slice(Oi.length));for(wo in Sn.filter)(Bi=Pl[wo].exec(Ro))&&(!Oo[wo]||(Bi=Oo[wo](Bi)))&&(Oi=Bi.shift(),Yi.push({value:Oi,type:wo,matches:Bi}),Ro=Ro.slice(Oi.length));if(!Oi)break}return Ai?Ro.length:Ro?ns.error(li):Fa(li,_o).slice(0)}function Zc(li){for(var Ai=0,Oi=li.length,Bi="";Ai<Oi;Ai++)Bi+=li[Ai].value;return Bi}function Xc(li,Ai,Oi){var Bi=Ai.dir,Yi=Ai.next,wo=Yi||Bi,Ro=Oi&&wo==="parentNode",_o=uo++;return Ai.first?function(Oo,La,ta){for(;Oo=Oo[Bi];)if(Oo.nodeType===1||Ro)return li(Oo,La,ta);return!1}:function(Oo,La,ta){var pa,za,ia=[$i,_o];if(ta){for(;Oo=Oo[Bi];)if((Oo.nodeType===1||Ro)&&li(Oo,La,ta))return!0}else for(;Oo=Oo[Bi];)if(Oo.nodeType===1||Ro)if(za=Oo[eo]||(Oo[eo]={}),Yi&&xn(Oo,Yi))Oo=Oo[Bi]||Oo;else{if((pa=za[wo])&&pa[0]===$i&&pa[1]===_o)return ia[2]=pa[2];if(za[wo]=ia,ia[2]=li(Oo,La,ta))return!0}return!1}}function Tu(li){return li.length>1?function(Ai,Oi,Bi){for(var Yi=li.length;Yi--;)if(!li[Yi](Ai,Oi,Bi))return!1;return!0}:li[0]}function gd(li,Ai,Oi){for(var Bi=0,Yi=Ai.length;Bi<Yi;Bi++)ns(li,Ai[Bi],Oi);return Oi}function Mu(li,Ai,Oi,Bi,Yi){for(var wo,Ro=[],_o=0,Oo=li.length,La=Ai!=null;_o<Oo;_o++)(wo=li[_o])&&(!Oi||Oi(wo,Bi,Yi))&&(Ro.push(wo),La&&Ai.push(_o));return Ro}function fu(li,Ai,Oi,Bi,Yi,wo){return Bi&&!Bi[eo]&&(Bi=fu(Bi)),Yi&&!Yi[eo]&&(Yi=fu(Yi,wo)),Zs(function(Ro,_o,Oo,La){var ta,pa,za,ia,$a=[],zs=[],Hs=_o.length,Ys=Ro||gd(Ai||"*",Oo.nodeType?[Oo]:Oo,[]),ll=li&&(Ro||!Ai)?Mu(Ys,$a,li,Oo,La):Ys;if(Oi?(ia=Yi||(Ro?li:Hs||Bi)?[]:_o,Oi(ll,ia,Oo,La)):ia=ll,Bi)for(ta=Mu(ia,zs),Bi(ta,[],Oo,La),pa=ta.length;pa--;)(za=ta[pa])&&(ia[zs[pa]]=!(ll[zs[pa]]=za));if(Ro){if(Yi||li){if(Yi){for(ta=[],pa=ia.length;pa--;)(za=ia[pa])&&ta.push(ll[pa]=za);Yi(null,ia=[],ta,La)}for(pa=ia.length;pa--;)(za=ia[pa])&&(ta=Yi?jr.call(Ro,za):$a[pa])>-1&&(Ro[ta]=!(_o[ta]=za))}}else ia=Mu(ia===_o?ia.splice(Hs,ia.length):ia),Yi?Yi(null,_o,ia,La):Kn.apply(_o,ia)})}function Iu(li){for(var Ai,Oi,Bi,Yi=li.length,wo=Sn.relative[li[0].type],Ro=wo||Sn.relative[" "],_o=wo?1:0,Oo=Xc(function(pa){return pa===Ai},Ro,!0),La=Xc(function(pa){return jr.call(Ai,pa)>-1},Ro,!0),ta=[function(pa,za,ia){var $a=!wo&&(ia||za!=Pn)||((Ai=za).nodeType?Oo(pa,za,ia):La(pa,za,ia));return Ai=null,$a}];_o<Yi;_o++)if(Oi=Sn.relative[li[_o].type])ta=[Xc(Tu(ta),Oi)];else{if(Oi=Sn.filter[li[_o].type].apply(null,li[_o].matches),Oi[eo]){for(Bi=++_o;Bi<Yi&&!Sn.relative[li[Bi].type];Bi++);return fu(_o>1&&Tu(ta),_o>1&&Zc(li.slice(0,_o-1).concat({value:li[_o-2].type===" "?"*":""})).replace(jn,"$1"),Oi,_o<Bi&&Iu(li.slice(_o,Bi)),Bi<Yi&&Iu(li=li.slice(Bi)),Bi<Yi&&Zc(li))}ta.push(Oi)}return Tu(ta)}function Oc(li,Ai){var Oi=Ai.length>0,Bi=li.length>0,Yi=function(wo,Ro,_o,Oo,La){var ta,pa,za,ia=0,$a="0",zs=wo&&[],Hs=[],Ys=Pn,ll=wo||Bi&&Sn.find.TAG("*",La),yc=$i+=Ys==null?1:Math.random()||.1,el=ll.length;for(La&&(Pn=Ro==ti||Ro||La);$a!==el&&(ta=ll[$a])!=null;$a++){if(Bi&&ta){for(pa=0,!Ro&&ta.ownerDocument!=ti&&(Gl(ta),_o=!gi);za=li[pa++];)if(za(ta,Ro||ti,_o)){Kn.call(Oo,ta);break}La&&($i=yc)}Oi&&((ta=!za&&ta)&&ia--,wo&&zs.push(ta))}if(ia+=$a,Oi&&$a!==ia){for(pa=0;za=Ai[pa++];)za(zs,Hs,Ro,_o);if(wo){if(ia>0)for(;$a--;)zs[$a]||Hs[$a]||(Hs[$a]=Mn.call(Oo));Hs=Mu(Hs)}Kn.apply(Oo,Hs),La&&!wo&&Hs.length>0&&ia+Ai.length>1&&dn.uniqueSort(Oo)}return La&&($i=yc,Pn=Ys),zs};return Oi?Zs(Yi):Yi}function pu(li,Ai){var Oi,Bi=[],Yi=[],wo=fa[li+" "];if(!wo){for(Ai||(Ai=Rl(li)),Oi=Ai.length;Oi--;)wo=Iu(Ai[Oi]),wo[eo]?Bi.push(wo):Yi.push(wo);wo=fa(li,Oc(Yi,Bi)),wo.selector=li}return wo}function Lu(li,Ai,Oi,Bi){var Yi,wo,Ro,_o,Oo,La=typeof li=="function"&&li,ta=!Bi&&Rl(li=La.selector||li);if(Oi=Oi||[],ta.length===1){if(wo=ta[0]=ta[0].slice(0),wo.length>2&&(Ro=wo[0]).type==="ID"&&Ai.nodeType===9&&gi&&Sn.relative[wo[1].type]){if(Ai=(Sn.find.ID(Ro.matches[0].replace(rc,hc),Ai)||[])[0],Ai)La&&(Ai=Ai.parentNode);else return Oi;li=li.slice(wo.shift().value.length)}for(Yi=Pl.needsContext.test(li)?0:wo.length;Yi--&&(Ro=wo[Yi],!Sn.relative[_o=Ro.type]);)if((Oo=Sn.find[_o])&&(Bi=Oo(Ro.matches[0].replace(rc,hc),Wc.test(wo[0].type)&&Kc(Ai.parentNode)||Ai))){if(wo.splice(Yi,1),li=Bi.length&&Zc(wo),!li)return Kn.apply(Oi,Bi),Oi;break}}return(La||pu(li,ta))(Bi,Ai,!gi,Oi,!Ai||Wc.test(li)&&Kc(Ai.parentNode)||Ai),Oi}rn.sortStable=eo.split("").sort(Ks).join("")===eo,Gl(),rn.sortDetached=Js(function(li){return li.compareDocumentPosition(ti.createElement("fieldset"))&1}),dn.find=ns,dn.expr[":"]=dn.expr.pseudos,dn.unique=dn.uniqueSort,ns.compile=pu,ns.select=Lu,ns.setDocument=Gl,ns.tokenize=Rl,ns.escape=dn.escapeSelector,ns.getText=dn.text,ns.isXML=dn.isXMLDoc,ns.selectors=dn.expr,ns.support=dn.support,ns.uniqueSort=dn.uniqueSort})();var vi=function(_n,Sn,Pn){for(var Nn=[],qn=Pn!==void 0;(_n=_n[Sn])&&_n.nodeType!==9;)if(_n.nodeType===1){if(qn&&dn(_n).is(Pn))break;Nn.push(_n)}return Nn},wi=function(_n,Sn){for(var Pn=[];_n;_n=_n.nextSibling)_n.nodeType===1&&_n!==Sn&&Pn.push(_n);return Pn},Ni=dn.expr.match.needsContext,Yn=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Vn(_n,Sn,Pn){return nn(Sn)?dn.grep(_n,function(Nn,qn){return!!Sn.call(Nn,qn,Nn)!==Pn}):Sn.nodeType?dn.grep(_n,function(Nn){return Nn===Sn!==Pn}):typeof Sn!="string"?dn.grep(_n,function(Nn){return jr.call(Sn,Nn)>-1!==Pn}):dn.filter(Sn,_n,Pn)}dn.filter=function(_n,Sn,Pn){var Nn=Sn[0];return Pn&&(_n=":not("+_n+")"),Sn.length===1&&Nn.nodeType===1?dn.find.matchesSelector(Nn,_n)?[Nn]:[]:dn.find.matches(_n,dn.grep(Sn,function(qn){return qn.nodeType===1}))},dn.fn.extend({find:function(_n){var Sn,Pn,Nn=this.length,qn=this;if(typeof _n!="string")return this.pushStack(dn(_n).filter(function(){for(Sn=0;Sn<Nn;Sn++)if(dn.contains(qn[Sn],this))return!0}));for(Pn=this.pushStack([]),Sn=0;Sn<Nn;Sn++)dn.find(_n,qn[Sn],Pn);return Nn>1?dn.uniqueSort(Pn):Pn},filter:function(_n){return this.pushStack(Vn(this,_n||[],!1))},not:function(_n){return this.pushStack(Vn(this,_n||[],!0))},is:function(_n){return!!Vn(this,typeof _n=="string"&&Ni.test(_n)?dn(_n):_n||[],!1).length}});var si,Ri=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Pi=dn.fn.init=function(_n,Sn,Pn){var Nn,qn;if(!_n)return this;if(Pn=Pn||si,typeof _n=="string")if(_n[0]==="<"&&_n[_n.length-1]===">"&&_n.length>=3?Nn=[null,_n,null]:Nn=Ri.exec(_n),Nn&&(Nn[1]||!Sn))if(Nn[1]){if(Sn=Sn instanceof dn?Sn[0]:Sn,dn.merge(this,dn.parseHTML(Nn[1],Sn&&Sn.nodeType?Sn.ownerDocument||Sn:cn,!0)),Yn.test(Nn[1])&&dn.isPlainObject(Sn))for(Nn in Sn)nn(this[Nn])?this[Nn](Sn[Nn]):this.attr(Nn,Sn[Nn]);return this}else return qn=cn.getElementById(Nn[2]),qn&&(this[0]=qn,this.length=1),this;else return!Sn||Sn.jquery?(Sn||Pn).find(_n):this.constructor(Sn).find(_n);else{if(_n.nodeType)return this[0]=_n,this.length=1,this;if(nn(_n))return Pn.ready!==void 0?Pn.ready(_n):_n(dn)}return dn.makeArray(_n,this)};Pi.prototype=dn.fn,si=dn(cn);var Fi=/^(?:parents|prev(?:Until|All))/,zi={children:!0,contents:!0,next:!0,prev:!0};dn.fn.extend({has:function(_n){var Sn=dn(_n,this),Pn=Sn.length;return this.filter(function(){for(var Nn=0;Nn<Pn;Nn++)if(dn.contains(this,Sn[Nn]))return!0})},closest:function(_n,Sn){var Pn,Nn=0,qn=this.length,Kn=[],ti=typeof _n!="string"&&dn(_n);if(!Ni.test(_n)){for(;Nn<qn;Nn++)for(Pn=this[Nn];Pn&&Pn!==Sn;Pn=Pn.parentNode)if(Pn.nodeType<11&&(ti?ti.index(Pn)>-1:Pn.nodeType===1&&dn.find.matchesSelector(Pn,_n))){Kn.push(Pn);break}}return this.pushStack(Kn.length>1?dn.uniqueSort(Kn):Kn)},index:function(_n){return _n?typeof _n=="string"?jr.call(dn(_n),this[0]):jr.call(this,_n.jquery?_n[0]:_n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(_n,Sn){return this.pushStack(dn.uniqueSort(dn.merge(this.get(),dn(_n,Sn))))},addBack:function(_n){return this.add(_n==null?this.prevObject:this.prevObject.filter(_n))}});function oo(_n,Sn){for(;(_n=_n[Sn])&&_n.nodeType!==1;);return _n}dn.each({parent:function(_n){var Sn=_n.parentNode;return Sn&&Sn.nodeType!==11?Sn:null},parents:function(_n){return vi(_n,"parentNode")},parentsUntil:function(_n,Sn,Pn){return vi(_n,"parentNode",Pn)},next:function(_n){return oo(_n,"nextSibling")},prev:function(_n){return oo(_n,"previousSibling")},nextAll:function(_n){return vi(_n,"nextSibling")},prevAll:function(_n){return vi(_n,"previousSibling")},nextUntil:function(_n,Sn,Pn){return vi(_n,"nextSibling",Pn)},prevUntil:function(_n,Sn,Pn){return vi(_n,"previousSibling",Pn)},siblings:function(_n){return wi((_n.parentNode||{}).firstChild,_n)},children:function(_n){return wi(_n.firstChild)},contents:function(_n){return _n.contentDocument!=null&&$r(_n.contentDocument)?_n.contentDocument:(xn(_n,"template")&&(_n=_n.content||_n),dn.merge([],_n.childNodes))}},function(_n,Sn){dn.fn[_n]=function(Pn,Nn){var qn=dn.map(this,Sn,Pn);return _n.slice(-5)!=="Until"&&(Nn=Pn),Nn&&typeof Nn=="string"&&(qn=dn.filter(Nn,qn)),this.length>1&&(zi[_n]||dn.uniqueSort(qn),Fi.test(_n)&&qn.reverse()),this.pushStack(qn)}});var lo=/[^\x20\t\r\n\f]+/g;function io(_n){var Sn={};return dn.each(_n.match(lo)||[],function(Pn,Nn){Sn[Nn]=!0}),Sn}dn.Callbacks=function(_n){_n=typeof _n=="string"?io(_n):dn.extend({},_n);var Sn,Pn,Nn,qn,Kn=[],ti=[],yi=-1,gi=function(){for(qn=qn||_n.once,Nn=Sn=!0;ti.length;yi=-1)for(Pn=ti.shift();++yi<Kn.length;)Kn[yi].apply(Pn[0],Pn[1])===!1&&_n.stopOnFalse&&(yi=Kn.length,Pn=!1);_n.memory||(Pn=!1),Sn=!1,qn&&(Pn?Kn=[]:Kn="")},Ei={add:function(){return Kn&&(Pn&&!Sn&&(yi=Kn.length-1,ti.push(Pn)),function ji(eo){dn.each(eo,function($i,uo){nn(uo)?(!_n.unique||!Ei.has(uo))&&Kn.push(uo):uo&&uo.length&&bn(uo)!=="string"&&ji(uo)})}(arguments),Pn&&!Sn&&gi()),this},remove:function(){return dn.each(arguments,function(ji,eo){for(var $i;($i=dn.inArray(eo,Kn,$i))>-1;)Kn.splice($i,1),$i<=yi&&yi--}),this},has:function(ji){return ji?dn.inArray(ji,Kn)>-1:Kn.length>0},empty:function(){return Kn&&(Kn=[]),this},disable:function(){return qn=ti=[],Kn=Pn="",this},disabled:function(){return!Kn},lock:function(){return qn=ti=[],!Pn&&!Sn&&(Kn=Pn=""),this},locked:function(){return!!qn},fireWith:function(ji,eo){return qn||(eo=eo||[],eo=[ji,eo.slice?eo.slice():eo],ti.push(eo),Sn||gi()),this},fire:function(){return Ei.fireWith(this,arguments),this},fired:function(){return!!Nn}};return Ei};function Wi(_n){return _n}function Bo(_n){throw _n}function Mo(_n,Sn,Pn,Nn){var qn;try{_n&&nn(qn=_n.promise)?qn.call(_n).done(Sn).fail(Pn):_n&&nn(qn=_n.then)?qn.call(_n,Sn,Pn):Sn.apply(void 0,[_n].slice(Nn))}catch(Kn){Pn.apply(void 0,[Kn])}}dn.extend({Deferred:function(_n){var Sn=[["notify","progress",dn.Callbacks("memory"),dn.Callbacks("memory"),2],["resolve","done",dn.Callbacks("once memory"),dn.Callbacks("once memory"),0,"resolved"],["reject","fail",dn.Callbacks("once memory"),dn.Callbacks("once memory"),1,"rejected"]],Pn="pending",Nn={state:function(){return Pn},always:function(){return qn.done(arguments).fail(arguments),this},catch:function(Kn){return Nn.then(null,Kn)},pipe:function(){var Kn=arguments;return dn.Deferred(function(ti){dn.each(Sn,function(yi,gi){var Ei=nn(Kn[gi[4]])&&Kn[gi[4]];qn[gi[1]](function(){var ji=Ei&&Ei.apply(this,arguments);ji&&nn(ji.promise)?ji.promise().progress(ti.notify).done(ti.resolve).fail(ti.reject):ti[gi[0]+"With"](this,Ei?[ji]:arguments)})}),Kn=null}).promise()},then:function(Kn,ti,yi){var gi=0;function Ei(ji,eo,$i,uo){return function(){var da=this,Fa=arguments,fa=function(){var Ks,Kl;if(!(ji<gi)){if(Ks=$i.apply(da,Fa),Ks===eo.promise())throw new TypeError("Thenable self-resolution");Kl=Ks&&(typeof Ks=="object"||typeof Ks=="function")&&Ks.then,nn(Kl)?uo?Kl.call(Ks,Ei(gi,eo,Wi,uo),Ei(gi,eo,Bo,uo)):(gi++,Kl.call(Ks,Ei(gi,eo,Wi,uo),Ei(gi,eo,Bo,uo),Ei(gi,eo,Wi,eo.notifyWith))):($i!==Wi&&(da=void 0,Fa=[Ks]),(uo||eo.resolveWith)(da,Fa))}},Ps=uo?fa:function(){try{fa()}catch(Ks){dn.Deferred.exceptionHook&&dn.Deferred.exceptionHook(Ks,Ps.error),ji+1>=gi&&($i!==Bo&&(da=void 0,Fa=[Ks]),eo.rejectWith(da,Fa))}};ji?Ps():(dn.Deferred.getErrorHook?Ps.error=dn.Deferred.getErrorHook():dn.Deferred.getStackHook&&(Ps.error=dn.Deferred.getStackHook()),Be.setTimeout(Ps))}}return dn.Deferred(function(ji){Sn[0][3].add(Ei(0,ji,nn(yi)?yi:Wi,ji.notifyWith)),Sn[1][3].add(Ei(0,ji,nn(Kn)?Kn:Wi)),Sn[2][3].add(Ei(0,ji,nn(ti)?ti:Bo))}).promise()},promise:function(Kn){return Kn!=null?dn.extend(Kn,Nn):Nn}},qn={};return dn.each(Sn,function(Kn,ti){var yi=ti[2],gi=ti[5];Nn[ti[1]]=yi.add,gi&&yi.add(function(){Pn=gi},Sn[3-Kn][2].disable,Sn[3-Kn][3].disable,Sn[0][2].lock,Sn[0][3].lock),yi.add(ti[3].fire),qn[ti[0]]=function(){return qn[ti[0]+"With"](this===qn?void 0:this,arguments),this},qn[ti[0]+"With"]=yi.fireWith}),Nn.promise(qn),_n&&_n.call(qn,qn),qn},when:function(_n){var Sn=arguments.length,Pn=Sn,Nn=Array(Pn),qn=Br.call(arguments),Kn=dn.Deferred(),ti=function(yi){return function(gi){Nn[yi]=this,qn[yi]=arguments.length>1?Br.call(arguments):gi,--Sn||Kn.resolveWith(Nn,qn)}};if(Sn<=1&&(Mo(_n,Kn.done(ti(Pn)).resolve,Kn.reject,!Sn),Kn.state()==="pending"||nn(qn[Pn]&&qn[Pn].then)))return Kn.then();for(;Pn--;)Mo(qn[Pn],ti(Pn),Kn.reject);return Kn.promise()}});var Zi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;dn.Deferred.exceptionHook=function(_n,Sn){Be.console&&Be.console.warn&&_n&&Zi.test(_n.name)&&Be.console.warn("jQuery.Deferred exception: "+_n.message,_n.stack,Sn)},dn.readyException=function(_n){Be.setTimeout(function(){throw _n})};var Zo=dn.Deferred();dn.fn.ready=function(_n){return Zo.then(_n).catch(function(Sn){dn.readyException(Sn)}),this},dn.extend({isReady:!1,readyWait:1,ready:function(_n){(_n===!0?--dn.readyWait:dn.isReady)||(dn.isReady=!0,!(_n!==!0&&--dn.readyWait>0)&&Zo.resolveWith(cn,[dn]))}}),dn.ready.then=Zo.then;function Wo(){cn.removeEventListener("DOMContentLoaded",Wo),Be.removeEventListener("load",Wo),dn.ready()}cn.readyState==="complete"||cn.readyState!=="loading"&&!cn.documentElement.doScroll?Be.setTimeout(dn.ready):(cn.addEventListener("DOMContentLoaded",Wo),Be.addEventListener("load",Wo));var Ao=function(_n,Sn,Pn,Nn,qn,Kn,ti){var yi=0,gi=_n.length,Ei=Pn==null;if(bn(Pn)==="object"){qn=!0;for(yi in Pn)Ao(_n,Sn,yi,Pn[yi],!0,Kn,ti)}else if(Nn!==void 0&&(qn=!0,nn(Nn)||(ti=!0),Ei&&(ti?(Sn.call(_n,Nn),Sn=null):(Ei=Sn,Sn=function(ji,eo,$i){return Ei.call(dn(ji),$i)})),Sn))for(;yi<gi;yi++)Sn(_n[yi],Pn,ti?Nn:Nn.call(_n[yi],yi,Sn(_n[yi],Pn)));return qn?_n:Ei?Sn.call(_n):gi?Sn(_n[0],Pn):Kn},ba=/^-ms-/,Va=/-([a-z])/g;function Ia(_n,Sn){return Sn.toUpperCase()}function Ua(_n){return _n.replace(ba,"ms-").replace(Va,Ia)}var ka=function(_n){return _n.nodeType===1||_n.nodeType===9||!+_n.nodeType};function xi(){this.expando=dn.expando+xi.uid++}xi.uid=1,xi.prototype={cache:function(_n){var Sn=_n[this.expando];return Sn||(Sn={},ka(_n)&&(_n.nodeType?_n[this.expando]=Sn:Object.defineProperty(_n,this.expando,{value:Sn,configurable:!0}))),Sn},set:function(_n,Sn,Pn){var Nn,qn=this.cache(_n);if(typeof Sn=="string")qn[Ua(Sn)]=Pn;else for(Nn in Sn)qn[Ua(Nn)]=Sn[Nn];return qn},get:function(_n,Sn){return Sn===void 0?this.cache(_n):_n[this.expando]&&_n[this.expando][Ua(Sn)]},access:function(_n,Sn,Pn){return Sn===void 0||Sn&&typeof Sn=="string"&&Pn===void 0?this.get(_n,Sn):(this.set(_n,Sn,Pn),Pn!==void 0?Pn:Sn)},remove:function(_n,Sn){var Pn,Nn=_n[this.expando];if(Nn!==void 0){if(Sn!==void 0)for(Array.isArray(Sn)?Sn=Sn.map(Ua):(Sn=Ua(Sn),Sn=Sn in Nn?[Sn]:Sn.match(lo)||[]),Pn=Sn.length;Pn--;)delete Nn[Sn[Pn]];(Sn===void 0||dn.isEmptyObject(Nn))&&(_n.nodeType?_n[this.expando]=void 0:delete _n[this.expando])}},hasData:function(_n){var Sn=_n[this.expando];return Sn!==void 0&&!dn.isEmptyObject(Sn)}};var ci=new xi,_i=new xi,Jn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ni=/[A-Z]/g;function mi(_n){return _n==="true"?!0:_n==="false"?!1:_n==="null"?null:_n===+_n+""?+_n:Jn.test(_n)?JSON.parse(_n):_n}function di(_n,Sn,Pn){var Nn;if(Pn===void 0&&_n.nodeType===1)if(Nn="data-"+Sn.replace(ni,"-$&").toLowerCase(),Pn=_n.getAttribute(Nn),typeof Pn=="string"){try{Pn=mi(Pn)}catch{}_i.set(_n,Sn,Pn)}else Pn=void 0;return Pn}dn.extend({hasData:function(_n){return _i.hasData(_n)||ci.hasData(_n)},data:function(_n,Sn,Pn){return _i.access(_n,Sn,Pn)},removeData:function(_n,Sn){_i.remove(_n,Sn)},_data:function(_n,Sn,Pn){return ci.access(_n,Sn,Pn)},_removeData:function(_n,Sn){ci.remove(_n,Sn)}}),dn.fn.extend({data:function(_n,Sn){var Pn,Nn,qn,Kn=this[0],ti=Kn&&Kn.attributes;if(_n===void 0){if(this.length&&(qn=_i.get(Kn),Kn.nodeType===1&&!ci.get(Kn,"hasDataAttrs"))){for(Pn=ti.length;Pn--;)ti[Pn]&&(Nn=ti[Pn].name,Nn.indexOf("data-")===0&&(Nn=Ua(Nn.slice(5)),di(Kn,Nn,qn[Nn])));ci.set(Kn,"hasDataAttrs",!0)}return qn}return typeof _n=="object"?this.each(function(){_i.set(this,_n)}):Ao(this,function(yi){var gi;if(Kn&&yi===void 0)return gi=_i.get(Kn,_n),gi!==void 0||(gi=di(Kn,_n),gi!==void 0)?gi:void 0;this.each(function(){_i.set(this,_n,yi)})},null,Sn,arguments.length>1,null,!0)},removeData:function(_n){return this.each(function(){_i.remove(this,_n)})}}),dn.extend({queue:function(_n,Sn,Pn){var Nn;if(_n)return Sn=(Sn||"fx")+"queue",Nn=ci.get(_n,Sn),Pn&&(!Nn||Array.isArray(Pn)?Nn=ci.access(_n,Sn,dn.makeArray(Pn)):Nn.push(Pn)),Nn||[]},dequeue:function(_n,Sn){Sn=Sn||"fx";var Pn=dn.queue(_n,Sn),Nn=Pn.length,qn=Pn.shift(),Kn=dn._queueHooks(_n,Sn),ti=function(){dn.dequeue(_n,Sn)};qn==="inprogress"&&(qn=Pn.shift(),Nn--),qn&&(Sn==="fx"&&Pn.unshift("inprogress"),delete Kn.stop,qn.call(_n,ti,Kn)),!Nn&&Kn&&Kn.empty.fire()},_queueHooks:function(_n,Sn){var Pn=Sn+"queueHooks";return ci.get(_n,Pn)||ci.access(_n,Pn,{empty:dn.Callbacks("once memory").add(function(){ci.remove(_n,[Sn+"queue",Pn])})})}}),dn.fn.extend({queue:function(_n,Sn){var Pn=2;return typeof _n!="string"&&(Sn=_n,_n="fx",Pn--),arguments.length<Pn?dn.queue(this[0],_n):Sn===void 0?this:this.each(function(){var Nn=dn.queue(this,_n,Sn);dn._queueHooks(this,_n),_n==="fx"&&Nn[0]!=="inprogress"&&dn.dequeue(this,_n)})},dequeue:function(_n){return this.each(function(){dn.dequeue(this,_n)})},clearQueue:function(_n){return this.queue(_n||"fx",[])},promise:function(_n,Sn){var Pn,Nn=1,qn=dn.Deferred(),Kn=this,ti=this.length,yi=function(){--Nn||qn.resolveWith(Kn,[Kn])};for(typeof _n!="string"&&(Sn=_n,_n=void 0),_n=_n||"fx";ti--;)Pn=ci.get(Kn[ti],_n+"queueHooks"),Pn&&Pn.empty&&(Nn++,Pn.empty.add(yi));return yi(),qn.promise(Sn)}});var ki=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ao=new RegExp("^(?:([+-])=|)("+ki+")([a-z%]*)$","i"),so=["Top","Right","Bottom","Left"],vo=cn.documentElement,Eo=function(_n){return dn.contains(_n.ownerDocument,_n)},Xo={composed:!0};vo.getRootNode&&(Eo=function(_n){return dn.contains(_n.ownerDocument,_n)||_n.getRootNode(Xo)===_n.ownerDocument});var Hi=function(_n,Sn){return _n=Sn||_n,_n.style.display==="none"||_n.style.display===""&&Eo(_n)&&dn.css(_n,"display")==="none"};function Po(_n,Sn,Pn,Nn){var qn,Kn,ti=20,yi=Nn?function(){return Nn.cur()}:function(){return dn.css(_n,Sn,"")},gi=yi(),Ei=Pn&&Pn[3]||(dn.cssNumber[Sn]?"":"px"),ji=_n.nodeType&&(dn.cssNumber[Sn]||Ei!=="px"&&+gi)&&ao.exec(dn.css(_n,Sn));if(ji&&ji[3]!==Ei){for(gi=gi/2,Ei=Ei||ji[3],ji=+gi||1;ti--;)dn.style(_n,Sn,ji+Ei),(1-Kn)*(1-(Kn=yi()/gi||.5))<=0&&(ti=0),ji=ji/Kn;ji=ji*2,dn.style(_n,Sn,ji+Ei),Pn=Pn||[]}return Pn&&(ji=+ji||+gi||0,qn=Pn[1]?ji+(Pn[1]+1)*Pn[2]:+Pn[2],Nn&&(Nn.unit=Ei,Nn.start=ji,Nn.end=qn)),qn}var ro={};function ea(_n){var Sn,Pn=_n.ownerDocument,Nn=_n.nodeName,qn=ro[Nn];return qn||(Sn=Pn.body.appendChild(Pn.createElement(Nn)),qn=dn.css(Sn,"display"),Sn.parentNode.removeChild(Sn),qn==="none"&&(qn="block"),ro[Nn]=qn,qn)}function la(_n,Sn){for(var Pn,Nn,qn=[],Kn=0,ti=_n.length;Kn<ti;Kn++)Nn=_n[Kn],Nn.style&&(Pn=Nn.style.display,Sn?(Pn==="none"&&(qn[Kn]=ci.get(Nn,"display")||null,qn[Kn]||(Nn.style.display="")),Nn.style.display===""&&Hi(Nn)&&(qn[Kn]=ea(Nn))):Pn!=="none"&&(qn[Kn]="none",ci.set(Nn,"display",Pn)));for(Kn=0;Kn<ti;Kn++)qn[Kn]!=null&&(_n[Kn].style.display=qn[Kn]);return _n}dn.fn.extend({show:function(){return la(this,!0)},hide:function(){return la(this)},toggle:function(_n){return typeof _n=="boolean"?_n?this.show():this.hide():this.each(function(){Hi(this)?dn(this).show():dn(this).hide()})}});var rs=/^(?:checkbox|radio)$/i,ca=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,es=/^$|^module$|\/(?:java|ecma)script/i;(function(){var _n=cn.createDocumentFragment(),Sn=_n.appendChild(cn.createElement("div")),Pn=cn.createElement("input");Pn.setAttribute("type","radio"),Pn.setAttribute("checked","checked"),Pn.setAttribute("name","t"),Sn.appendChild(Pn),rn.checkClone=Sn.cloneNode(!0).cloneNode(!0).lastChild.checked,Sn.innerHTML="<textarea>x</textarea>",rn.noCloneChecked=!!Sn.cloneNode(!0).lastChild.defaultValue,Sn.innerHTML="<option></option>",rn.option=!!Sn.lastChild})();var Pa={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pa.tbody=Pa.tfoot=Pa.colgroup=Pa.caption=Pa.thead,Pa.th=Pa.td,rn.option||(Pa.optgroup=Pa.option=[1,"<select multiple='multiple'>","</select>"]);function bs(_n,Sn){var Pn;return typeof _n.getElementsByTagName<"u"?Pn=_n.getElementsByTagName(Sn||"*"):typeof _n.querySelectorAll<"u"?Pn=_n.querySelectorAll(Sn||"*"):Pn=[],Sn===void 0||Sn&&xn(_n,Sn)?dn.merge([_n],Pn):Pn}function qs(_n,Sn){for(var Pn=0,Nn=_n.length;Pn<Nn;Pn++)ci.set(_n[Pn],"globalEval",!Sn||ci.get(Sn[Pn],"globalEval"))}var il=/<|&#?\w+;/;function us(_n,Sn,Pn,Nn,qn){for(var Kn,ti,yi,gi,Ei,ji,eo=Sn.createDocumentFragment(),$i=[],uo=0,da=_n.length;uo<da;uo++)if(Kn=_n[uo],Kn||Kn===0)if(bn(Kn)==="object")dn.merge($i,Kn.nodeType?[Kn]:Kn);else if(!il.test(Kn))$i.push(Sn.createTextNode(Kn));else{for(ti=ti||eo.appendChild(Sn.createElement("div")),yi=(ca.exec(Kn)||["",""])[1].toLowerCase(),gi=Pa[yi]||Pa._default,ti.innerHTML=gi[1]+dn.htmlPrefilter(Kn)+gi[2],ji=gi[0];ji--;)ti=ti.lastChild;dn.merge($i,ti.childNodes),ti=eo.firstChild,ti.textContent=""}for(eo.textContent="",uo=0;Kn=$i[uo++];){if(Nn&&dn.inArray(Kn,Nn)>-1){qn&&qn.push(Kn);continue}if(Ei=Eo(Kn),ti=bs(eo.appendChild(Kn),"script"),Ei&&qs(ti),Pn)for(ji=0;Kn=ti[ji++];)es.test(Kn.type||"")&&Pn.push(Kn)}return eo}var Vl=/^([^.]*)(?:\.(.+)|)/;function Bs(){return!0}function Ts(){return!1}function Si(_n,Sn,Pn,Nn,qn,Kn){var ti,yi;if(typeof Sn=="object"){typeof Pn!="string"&&(Nn=Nn||Pn,Pn=void 0);for(yi in Sn)Si(_n,yi,Pn,Nn,Sn[yi],Kn);return _n}if(Nn==null&&qn==null?(qn=Pn,Nn=Pn=void 0):qn==null&&(typeof Pn=="string"?(qn=Nn,Nn=void 0):(qn=Nn,Nn=Pn,Pn=void 0)),qn===!1)qn=Ts;else if(!qn)return _n;return Kn===1&&(ti=qn,qn=function(gi){return dn().off(gi),ti.apply(this,arguments)},qn.guid=ti.guid||(ti.guid=dn.guid++)),_n.each(function(){dn.event.add(this,Sn,qn,Nn,Pn)})}dn.event={global:{},add:function(_n,Sn,Pn,Nn,qn){var Kn,ti,yi,gi,Ei,ji,eo,$i,uo,da,Fa,fa=ci.get(_n);if(ka(_n))for(Pn.handler&&(Kn=Pn,Pn=Kn.handler,qn=Kn.selector),qn&&dn.find.matchesSelector(vo,qn),Pn.guid||(Pn.guid=dn.guid++),(gi=fa.events)||(gi=fa.events=Object.create(null)),(ti=fa.handle)||(ti=fa.handle=function(Ps){return typeof dn<"u"&&dn.event.triggered!==Ps.type?dn.event.dispatch.apply(_n,arguments):void 0}),Sn=(Sn||"").match(lo)||[""],Ei=Sn.length;Ei--;)yi=Vl.exec(Sn[Ei])||[],uo=Fa=yi[1],da=(yi[2]||"").split(".").sort(),uo&&(eo=dn.event.special[uo]||{},uo=(qn?eo.delegateType:eo.bindType)||uo,eo=dn.event.special[uo]||{},ji=dn.extend({type:uo,origType:Fa,data:Nn,handler:Pn,guid:Pn.guid,selector:qn,needsContext:qn&&dn.expr.match.needsContext.test(qn),namespace:da.join(".")},Kn),($i=gi[uo])||($i=gi[uo]=[],$i.delegateCount=0,(!eo.setup||eo.setup.call(_n,Nn,da,ti)===!1)&&_n.addEventListener&&_n.addEventListener(uo,ti)),eo.add&&(eo.add.call(_n,ji),ji.handler.guid||(ji.handler.guid=Pn.guid)),qn?$i.splice($i.delegateCount++,0,ji):$i.push(ji),dn.event.global[uo]=!0)},remove:function(_n,Sn,Pn,Nn,qn){var Kn,ti,yi,gi,Ei,ji,eo,$i,uo,da,Fa,fa=ci.hasData(_n)&&ci.get(_n);if(!(!fa||!(gi=fa.events))){for(Sn=(Sn||"").match(lo)||[""],Ei=Sn.length;Ei--;){if(yi=Vl.exec(Sn[Ei])||[],uo=Fa=yi[1],da=(yi[2]||"").split(".").sort(),!uo){for(uo in gi)dn.event.remove(_n,uo+Sn[Ei],Pn,Nn,!0);continue}for(eo=dn.event.special[uo]||{},uo=(Nn?eo.delegateType:eo.bindType)||uo,$i=gi[uo]||[],yi=yi[2]&&new RegExp("(^|\\.)"+da.join("\\.(?:.*\\.|)")+"(\\.|$)"),ti=Kn=$i.length;Kn--;)ji=$i[Kn],(qn||Fa===ji.origType)&&(!Pn||Pn.guid===ji.guid)&&(!yi||yi.test(ji.namespace))&&(!Nn||Nn===ji.selector||Nn==="**"&&ji.selector)&&($i.splice(Kn,1),ji.selector&&$i.delegateCount--,eo.remove&&eo.remove.call(_n,ji));ti&&!$i.length&&((!eo.teardown||eo.teardown.call(_n,da,fa.handle)===!1)&&dn.removeEvent(_n,uo,fa.handle),delete gi[uo])}dn.isEmptyObject(gi)&&ci.remove(_n,"handle events")}},dispatch:function(_n){var Sn,Pn,Nn,qn,Kn,ti,yi=new Array(arguments.length),gi=dn.event.fix(_n),Ei=(ci.get(this,"events")||Object.create(null))[gi.type]||[],ji=dn.event.special[gi.type]||{};for(yi[0]=gi,Sn=1;Sn<arguments.length;Sn++)yi[Sn]=arguments[Sn];if(gi.delegateTarget=this,!(ji.preDispatch&&ji.preDispatch.call(this,gi)===!1)){for(ti=dn.event.handlers.call(this,gi,Ei),Sn=0;(qn=ti[Sn++])&&!gi.isPropagationStopped();)for(gi.currentTarget=qn.elem,Pn=0;(Kn=qn.handlers[Pn++])&&!gi.isImmediatePropagationStopped();)(!gi.rnamespace||Kn.namespace===!1||gi.rnamespace.test(Kn.namespace))&&(gi.handleObj=Kn,gi.data=Kn.data,Nn=((dn.event.special[Kn.origType]||{}).handle||Kn.handler).apply(qn.elem,yi),Nn!==void 0&&(gi.result=Nn)===!1&&(gi.preventDefault(),gi.stopPropagation()));return ji.postDispatch&&ji.postDispatch.call(this,gi),gi.result}},handlers:function(_n,Sn){var Pn,Nn,qn,Kn,ti,yi=[],gi=Sn.delegateCount,Ei=_n.target;if(gi&&Ei.nodeType&&!(_n.type==="click"&&_n.button>=1)){for(;Ei!==this;Ei=Ei.parentNode||this)if(Ei.nodeType===1&&!(_n.type==="click"&&Ei.disabled===!0)){for(Kn=[],ti={},Pn=0;Pn<gi;Pn++)Nn=Sn[Pn],qn=Nn.selector+" ",ti[qn]===void 0&&(ti[qn]=Nn.needsContext?dn(qn,this).index(Ei)>-1:dn.find(qn,this,null,[Ei]).length),ti[qn]&&Kn.push(Nn);Kn.length&&yi.push({elem:Ei,handlers:Kn})}}return Ei=this,gi<Sn.length&&yi.push({elem:Ei,handlers:Sn.slice(gi)}),yi},addProp:function(_n,Sn){Object.defineProperty(dn.Event.prototype,_n,{enumerable:!0,configurable:!0,get:nn(Sn)?function(){if(this.originalEvent)return Sn(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[_n]},set:function(Pn){Object.defineProperty(this,_n,{enumerable:!0,configurable:!0,writable:!0,value:Pn})}})},fix:function(_n){return _n[dn.expando]?_n:new dn.Event(_n)},special:{load:{noBubble:!0},click:{setup:function(_n){var Sn=this||_n;return rs.test(Sn.type)&&Sn.click&&xn(Sn,"input")&&Mi(Sn,"click",!0),!1},trigger:function(_n){var Sn=this||_n;return rs.test(Sn.type)&&Sn.click&&xn(Sn,"input")&&Mi(Sn,"click"),!0},_default:function(_n){var Sn=_n.target;return rs.test(Sn.type)&&Sn.click&&xn(Sn,"input")&&ci.get(Sn,"click")||xn(Sn,"a")}},beforeunload:{postDispatch:function(_n){_n.result!==void 0&&_n.originalEvent&&(_n.originalEvent.returnValue=_n.result)}}}};function Mi(_n,Sn,Pn){if(!Pn){ci.get(_n,Sn)===void 0&&dn.event.add(_n,Sn,Bs);return}ci.set(_n,Sn,!1),dn.event.add(_n,Sn,{namespace:!1,handler:function(Nn){var qn,Kn=ci.get(this,Sn);if(Nn.isTrigger&1&&this[Sn]){if(Kn)(dn.event.special[Sn]||{}).delegateType&&Nn.stopPropagation();else if(Kn=Br.call(arguments),ci.set(this,Sn,Kn),this[Sn](),qn=ci.get(this,Sn),ci.set(this,Sn,!1),Kn!==qn)return Nn.stopImmediatePropagation(),Nn.preventDefault(),qn}else Kn&&(ci.set(this,Sn,dn.event.trigger(Kn[0],Kn.slice(1),this)),Nn.stopPropagation(),Nn.isImmediatePropagationStopped=Bs)}})}dn.removeEvent=function(_n,Sn,Pn){_n.removeEventListener&&_n.removeEventListener(Sn,Pn)},dn.Event=function(_n,Sn){if(!(this instanceof dn.Event))return new dn.Event(_n,Sn);_n&&_n.type?(this.originalEvent=_n,this.type=_n.type,this.isDefaultPrevented=_n.defaultPrevented||_n.defaultPrevented===void 0&&_n.returnValue===!1?Bs:Ts,this.target=_n.target&&_n.target.nodeType===3?_n.target.parentNode:_n.target,this.currentTarget=_n.currentTarget,this.relatedTarget=_n.relatedTarget):this.type=_n,Sn&&dn.extend(this,Sn),this.timeStamp=_n&&_n.timeStamp||Date.now(),this[dn.expando]=!0},dn.Event.prototype={constructor:dn.Event,isDefaultPrevented:Ts,isPropagationStopped:Ts,isImmediatePropagationStopped:Ts,isSimulated:!1,preventDefault:function(){var _n=this.originalEvent;this.isDefaultPrevented=Bs,_n&&!this.isSimulated&&_n.preventDefault()},stopPropagation:function(){var _n=this.originalEvent;this.isPropagationStopped=Bs,_n&&!this.isSimulated&&_n.stopPropagation()},stopImmediatePropagation:function(){var _n=this.originalEvent;this.isImmediatePropagationStopped=Bs,_n&&!this.isSimulated&&_n.stopImmediatePropagation(),this.stopPropagation()}},dn.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},dn.event.addProp),dn.each({focus:"focusin",blur:"focusout"},function(_n,Sn){function Pn(Nn){if(cn.documentMode){var qn=ci.get(this,"handle"),Kn=dn.event.fix(Nn);Kn.type=Nn.type==="focusin"?"focus":"blur",Kn.isSimulated=!0,qn(Nn),Kn.target===Kn.currentTarget&&qn(Kn)}else dn.event.simulate(Sn,Nn.target,dn.event.fix(Nn))}dn.event.special[_n]={setup:function(){var Nn;if(Mi(this,_n,!0),cn.documentMode)Nn=ci.get(this,Sn),Nn||this.addEventListener(Sn,Pn),ci.set(this,Sn,(Nn||0)+1);else return!1},trigger:function(){return Mi(this,_n),!0},teardown:function(){var Nn;if(cn.documentMode)Nn=ci.get(this,Sn)-1,Nn?ci.set(this,Sn,Nn):(this.removeEventListener(Sn,Pn),ci.remove(this,Sn));else return!1},_default:function(Nn){return ci.get(Nn.target,_n)},delegateType:Sn},dn.event.special[Sn]={setup:function(){var Nn=this.ownerDocument||this.document||this,qn=cn.documentMode?this:Nn,Kn=ci.get(qn,Sn);Kn||(cn.documentMode?this.addEventListener(Sn,Pn):Nn.addEventListener(_n,Pn,!0)),ci.set(qn,Sn,(Kn||0)+1)},teardown:function(){var Nn=this.ownerDocument||this.document||this,qn=cn.documentMode?this:Nn,Kn=ci.get(qn,Sn)-1;Kn?ci.set(qn,Sn,Kn):(cn.documentMode?this.removeEventListener(Sn,Pn):Nn.removeEventListener(_n,Pn,!0),ci.remove(qn,Sn))}}}),dn.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(_n,Sn){dn.event.special[_n]={delegateType:Sn,bindType:Sn,handle:function(Pn){var Nn,qn=this,Kn=Pn.relatedTarget,ti=Pn.handleObj;return(!Kn||Kn!==qn&&!dn.contains(qn,Kn))&&(Pn.type=ti.origType,Nn=ti.handler.apply(this,arguments),Pn.type=Sn),Nn}}}),dn.fn.extend({on:function(_n,Sn,Pn,Nn){return Si(this,_n,Sn,Pn,Nn)},one:function(_n,Sn,Pn,Nn){return Si(this,_n,Sn,Pn,Nn,1)},off:function(_n,Sn,Pn){var Nn,qn;if(_n&&_n.preventDefault&&_n.handleObj)return Nn=_n.handleObj,dn(_n.delegateTarget).off(Nn.namespace?Nn.origType+"."+Nn.namespace:Nn.origType,Nn.selector,Nn.handler),this;if(typeof _n=="object"){for(qn in _n)this.off(qn,Sn,_n[qn]);return this}return(Sn===!1||typeof Sn=="function")&&(Pn=Sn,Sn=void 0),Pn===!1&&(Pn=Ts),this.each(function(){dn.event.remove(this,_n,Pn,Sn)})}});var Gi=/<script|<style|<link/i,yo=/checked\s*(?:[^=]|=\s*.checked.)/i,zo=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function xo(_n,Sn){return xn(_n,"table")&&xn(Sn.nodeType!==11?Sn:Sn.firstChild,"tr")&&dn(_n).children("tbody")[0]||_n}function bo(_n){return _n.type=(_n.getAttribute("type")!==null)+"/"+_n.type,_n}function Sa(_n){return(_n.type||"").slice(0,5)==="true/"?_n.type=_n.type.slice(5):_n.removeAttribute("type"),_n}function Io(_n,Sn){var Pn,Nn,qn,Kn,ti,yi,gi;if(Sn.nodeType===1){if(ci.hasData(_n)&&(Kn=ci.get(_n),gi=Kn.events,gi)){ci.remove(Sn,"handle events");for(qn in gi)for(Pn=0,Nn=gi[qn].length;Pn<Nn;Pn++)dn.event.add(Sn,qn,gi[qn][Pn])}_i.hasData(_n)&&(ti=_i.access(_n),yi=dn.extend({},ti),_i.set(Sn,yi))}}function aa(_n,Sn){var Pn=Sn.nodeName.toLowerCase();Pn==="input"&&rs.test(_n.type)?Sn.checked=_n.checked:(Pn==="input"||Pn==="textarea")&&(Sn.defaultValue=_n.defaultValue)}function ma(_n,Sn,Pn,Nn){Sn=zr(Sn);var qn,Kn,ti,yi,gi,Ei,ji=0,eo=_n.length,$i=eo-1,uo=Sn[0],da=nn(uo);if(da||eo>1&&typeof uo=="string"&&!rn.checkClone&&yo.test(uo))return _n.each(function(Fa){var fa=_n.eq(Fa);da&&(Sn[0]=uo.call(this,Fa,fa.html())),ma(fa,Sn,Pn,Nn)});if(eo&&(qn=us(Sn,_n[0].ownerDocument,!1,_n,Nn),Kn=qn.firstChild,qn.childNodes.length===1&&(qn=Kn),Kn||Nn)){for(ti=dn.map(bs(qn,"script"),bo),yi=ti.length;ji<eo;ji++)gi=qn,ji!==$i&&(gi=dn.clone(gi,!0,!0),yi&&dn.merge(ti,bs(gi,"script"))),Pn.call(_n[ji],gi,ji);if(yi)for(Ei=ti[ti.length-1].ownerDocument,dn.map(ti,Sa),ji=0;ji<yi;ji++)gi=ti[ji],es.test(gi.type||"")&&!ci.access(gi,"globalEval")&&dn.contains(Ei,gi)&&(gi.src&&(gi.type||"").toLowerCase()!=="module"?dn._evalUrl&&!gi.noModule&&dn._evalUrl(gi.src,{nonce:gi.nonce||gi.getAttribute("nonce")},Ei):mn(gi.textContent.replace(zo,""),gi,Ei))}return _n}function Na(_n,Sn,Pn){for(var Nn,qn=Sn?dn.filter(Sn,_n):_n,Kn=0;(Nn=qn[Kn])!=null;Kn++)!Pn&&Nn.nodeType===1&&dn.cleanData(bs(Nn)),Nn.parentNode&&(Pn&&Eo(Nn)&&qs(bs(Nn,"script")),Nn.parentNode.removeChild(Nn));return _n}dn.extend({htmlPrefilter:function(_n){return _n},clone:function(_n,Sn,Pn){var Nn,qn,Kn,ti,yi=_n.cloneNode(!0),gi=Eo(_n);if(!rn.noCloneChecked&&(_n.nodeType===1||_n.nodeType===11)&&!dn.isXMLDoc(_n))for(ti=bs(yi),Kn=bs(_n),Nn=0,qn=Kn.length;Nn<qn;Nn++)aa(Kn[Nn],ti[Nn]);if(Sn)if(Pn)for(Kn=Kn||bs(_n),ti=ti||bs(yi),Nn=0,qn=Kn.length;Nn<qn;Nn++)Io(Kn[Nn],ti[Nn]);else Io(_n,yi);return ti=bs(yi,"script"),ti.length>0&&qs(ti,!gi&&bs(_n,"script")),yi},cleanData:function(_n){for(var Sn,Pn,Nn,qn=dn.event.special,Kn=0;(Pn=_n[Kn])!==void 0;Kn++)if(ka(Pn)){if(Sn=Pn[ci.expando]){if(Sn.events)for(Nn in Sn.events)qn[Nn]?dn.event.remove(Pn,Nn):dn.removeEvent(Pn,Nn,Sn.handle);Pn[ci.expando]=void 0}Pn[_i.expando]&&(Pn[_i.expando]=void 0)}}}),dn.fn.extend({detach:function(_n){return Na(this,_n,!0)},remove:function(_n){return Na(this,_n)},text:function(_n){return Ao(this,function(Sn){return Sn===void 0?dn.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=Sn)})},null,_n,arguments.length)},append:function(){return ma(this,arguments,function(_n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Sn=xo(this,_n);Sn.appendChild(_n)}})},prepend:function(){return ma(this,arguments,function(_n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var Sn=xo(this,_n);Sn.insertBefore(_n,Sn.firstChild)}})},before:function(){return ma(this,arguments,function(_n){this.parentNode&&this.parentNode.insertBefore(_n,this)})},after:function(){return ma(this,arguments,function(_n){this.parentNode&&this.parentNode.insertBefore(_n,this.nextSibling)})},empty:function(){for(var _n,Sn=0;(_n=this[Sn])!=null;Sn++)_n.nodeType===1&&(dn.cleanData(bs(_n,!1)),_n.textContent="");return this},clone:function(_n,Sn){return _n=_n??!1,Sn=Sn??_n,this.map(function(){return dn.clone(this,_n,Sn)})},html:function(_n){return Ao(this,function(Sn){var Pn=this[0]||{},Nn=0,qn=this.length;if(Sn===void 0&&Pn.nodeType===1)return Pn.innerHTML;if(typeof Sn=="string"&&!Gi.test(Sn)&&!Pa[(ca.exec(Sn)||["",""])[1].toLowerCase()]){Sn=dn.htmlPrefilter(Sn);try{for(;Nn<qn;Nn++)Pn=this[Nn]||{},Pn.nodeType===1&&(dn.cleanData(bs(Pn,!1)),Pn.innerHTML=Sn);Pn=0}catch{}}Pn&&this.empty().append(Sn)},null,_n,arguments.length)},replaceWith:function(){var _n=[];return ma(this,arguments,function(Sn){var Pn=this.parentNode;dn.inArray(this,_n)<0&&(dn.cleanData(bs(this)),Pn&&Pn.replaceChild(Sn,this))},_n)}}),dn.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(_n,Sn){dn.fn[_n]=function(Pn){for(var Nn,qn=[],Kn=dn(Pn),ti=Kn.length-1,yi=0;yi<=ti;yi++)Nn=yi===ti?this:this.clone(!0),dn(Kn[yi])[Sn](Nn),Vr.apply(qn,Nn.get());return this.pushStack(qn)}});var ts=new RegExp("^("+ki+")(?!px)[a-z%]+$","i"),Oa=/^--/,Ga=function(_n){var Sn=_n.ownerDocument.defaultView;return(!Sn||!Sn.opener)&&(Sn=Be),Sn.getComputedStyle(_n)},ra=function(_n,Sn,Pn){var Nn,qn,Kn={};for(qn in Sn)Kn[qn]=_n.style[qn],_n.style[qn]=Sn[qn];Nn=Pn.call(_n);for(qn in Sn)_n.style[qn]=Kn[qn];return Nn},Yo=new RegExp(so.join("|"),"i");(function(){function _n(){if(Ei){gi.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ei.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vo.appendChild(gi).appendChild(Ei);var ji=Be.getComputedStyle(Ei);Pn=ji.top!=="1%",yi=Sn(ji.marginLeft)===12,Ei.style.right="60%",Kn=Sn(ji.right)===36,Nn=Sn(ji.width)===36,Ei.style.position="absolute",qn=Sn(Ei.offsetWidth/3)===12,vo.removeChild(gi),Ei=null}}function Sn(ji){return Math.round(parseFloat(ji))}var Pn,Nn,qn,Kn,ti,yi,gi=cn.createElement("div"),Ei=cn.createElement("div");Ei.style&&(Ei.style.backgroundClip="content-box",Ei.cloneNode(!0).style.backgroundClip="",rn.clearCloneStyle=Ei.style.backgroundClip==="content-box",dn.extend(rn,{boxSizingReliable:function(){return _n(),Nn},pixelBoxStyles:function(){return _n(),Kn},pixelPosition:function(){return _n(),Pn},reliableMarginLeft:function(){return _n(),yi},scrollboxSize:function(){return _n(),qn},reliableTrDimensions:function(){var ji,eo,$i,uo;return ti==null&&(ji=cn.createElement("table"),eo=cn.createElement("tr"),$i=cn.createElement("div"),ji.style.cssText="position:absolute;left:-11111px;border-collapse:separate",eo.style.cssText="box-sizing:content-box;border:1px solid",eo.style.height="1px",$i.style.height="9px",$i.style.display="block",vo.appendChild(ji).appendChild(eo).appendChild($i),uo=Be.getComputedStyle(eo),ti=parseInt(uo.height,10)+parseInt(uo.borderTopWidth,10)+parseInt(uo.borderBottomWidth,10)===eo.offsetHeight,vo.removeChild(ji)),ti}}))})();function na(_n,Sn,Pn){var Nn,qn,Kn,ti,yi=Oa.test(Sn),gi=_n.style;return Pn=Pn||Ga(_n),Pn&&(ti=Pn.getPropertyValue(Sn)||Pn[Sn],yi&&ti&&(ti=ti.replace(jn,"$1")||void 0),ti===""&&!Eo(_n)&&(ti=dn.style(_n,Sn)),!rn.pixelBoxStyles()&&ts.test(ti)&&Yo.test(Sn)&&(Nn=gi.width,qn=gi.minWidth,Kn=gi.maxWidth,gi.minWidth=gi.maxWidth=gi.width=ti,ti=Pn.width,gi.width=Nn,gi.minWidth=qn,gi.maxWidth=Kn)),ti!==void 0?ti+"":ti}function qo(_n,Sn){return{get:function(){if(_n()){delete this.get;return}return(this.get=Sn).apply(this,arguments)}}}var ko=["Webkit","Moz","ms"],bi=cn.createElement("div").style,ds={};function sa(_n){for(var Sn=_n[0].toUpperCase()+_n.slice(1),Pn=ko.length;Pn--;)if(_n=ko[Pn]+Sn,_n in bi)return _n}function Ms(_n){var Sn=dn.cssProps[_n]||ds[_n];return Sn||(_n in bi?_n:ds[_n]=sa(_n)||_n)}var Aa=/^(none|table(?!-c[ea]).+)/,Fs={position:"absolute",visibility:"hidden",display:"block"},Qs={letterSpacing:"0",fontWeight:"400"};function ol(_n,Sn,Pn){var Nn=ao.exec(Sn);return Nn?Math.max(0,Nn[2]-(Pn||0))+(Nn[3]||"px"):Sn}function Ji(_n,Sn,Pn,Nn,qn,Kn){var ti=Sn==="width"?1:0,yi=0,gi=0,Ei=0;if(Pn===(Nn?"border":"content"))return 0;for(;ti<4;ti+=2)Pn==="margin"&&(Ei+=dn.css(_n,Pn+so[ti],!0,qn)),Nn?(Pn==="content"&&(gi-=dn.css(_n,"padding"+so[ti],!0,qn)),Pn!=="margin"&&(gi-=dn.css(_n,"border"+so[ti]+"Width",!0,qn))):(gi+=dn.css(_n,"padding"+so[ti],!0,qn),Pn!=="padding"?gi+=dn.css(_n,"border"+so[ti]+"Width",!0,qn):yi+=dn.css(_n,"border"+so[ti]+"Width",!0,qn));return!Nn&&Kn>=0&&(gi+=Math.max(0,Math.ceil(_n["offset"+Sn[0].toUpperCase()+Sn.slice(1)]-Kn-gi-yi-.5))||0),gi+Ei}function Uo(_n,Sn,Pn){var Nn=Ga(_n),qn=!rn.boxSizingReliable()||Pn,Kn=qn&&dn.css(_n,"boxSizing",!1,Nn)==="border-box",ti=Kn,yi=na(_n,Sn,Nn),gi="offset"+Sn[0].toUpperCase()+Sn.slice(1);if(ts.test(yi)){if(!Pn)return yi;yi="auto"}return(!rn.boxSizingReliable()&&Kn||!rn.reliableTrDimensions()&&xn(_n,"tr")||yi==="auto"||!parseFloat(yi)&&dn.css(_n,"display",!1,Nn)==="inline")&&_n.getClientRects().length&&(Kn=dn.css(_n,"boxSizing",!1,Nn)==="border-box",ti=gi in _n,ti&&(yi=_n[gi])),yi=parseFloat(yi)||0,yi+Ji(_n,Sn,Pn||(Kn?"border":"content"),ti,Nn,yi)+"px"}dn.extend({cssHooks:{opacity:{get:function(_n,Sn){if(Sn){var Pn=na(_n,"opacity");return Pn===""?"1":Pn}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(_n,Sn,Pn,Nn){if(!(!_n||_n.nodeType===3||_n.nodeType===8||!_n.style)){var qn,Kn,ti,yi=Ua(Sn),gi=Oa.test(Sn),Ei=_n.style;if(gi||(Sn=Ms(yi)),ti=dn.cssHooks[Sn]||dn.cssHooks[yi],Pn!==void 0){if(Kn=typeof Pn,Kn==="string"&&(qn=ao.exec(Pn))&&qn[1]&&(Pn=Po(_n,Sn,qn),Kn="number"),Pn==null||Pn!==Pn)return;Kn==="number"&&!gi&&(Pn+=qn&&qn[3]||(dn.cssNumber[yi]?"":"px")),!rn.clearCloneStyle&&Pn===""&&Sn.indexOf("background")===0&&(Ei[Sn]="inherit"),(!ti||!("set"in ti)||(Pn=ti.set(_n,Pn,Nn))!==void 0)&&(gi?Ei.setProperty(Sn,Pn):Ei[Sn]=Pn)}else return ti&&"get"in ti&&(qn=ti.get(_n,!1,Nn))!==void 0?qn:Ei[Sn]}},css:function(_n,Sn,Pn,Nn){var qn,Kn,ti,yi=Ua(Sn),gi=Oa.test(Sn);return gi||(Sn=Ms(yi)),ti=dn.cssHooks[Sn]||dn.cssHooks[yi],ti&&"get"in ti&&(qn=ti.get(_n,!0,Pn)),qn===void 0&&(qn=na(_n,Sn,Nn)),qn==="normal"&&Sn in Qs&&(qn=Qs[Sn]),Pn===""||Pn?(Kn=parseFloat(qn),Pn===!0||isFinite(Kn)?Kn||0:qn):qn}}),dn.each(["height","width"],function(_n,Sn){dn.cssHooks[Sn]={get:function(Pn,Nn,qn){if(Nn)return Aa.test(dn.css(Pn,"display"))&&(!Pn.getClientRects().length||!Pn.getBoundingClientRect().width)?ra(Pn,Fs,function(){return Uo(Pn,Sn,qn)}):Uo(Pn,Sn,qn)},set:function(Pn,Nn,qn){var Kn,ti=Ga(Pn),yi=!rn.scrollboxSize()&&ti.position==="absolute",gi=yi||qn,Ei=gi&&dn.css(Pn,"boxSizing",!1,ti)==="border-box",ji=qn?Ji(Pn,Sn,qn,Ei,ti):0;return Ei&&yi&&(ji-=Math.ceil(Pn["offset"+Sn[0].toUpperCase()+Sn.slice(1)]-parseFloat(ti[Sn])-Ji(Pn,Sn,"border",!1,ti)-.5)),ji&&(Kn=ao.exec(Nn))&&(Kn[3]||"px")!=="px"&&(Pn.style[Sn]=Nn,Nn=dn.css(Pn,Sn)),ol(Pn,Nn,ji)}}}),dn.cssHooks.marginLeft=qo(rn.reliableMarginLeft,function(_n,Sn){if(Sn)return(parseFloat(na(_n,"marginLeft"))||_n.getBoundingClientRect().left-ra(_n,{marginLeft:0},function(){return _n.getBoundingClientRect().left}))+"px"}),dn.each({margin:"",padding:"",border:"Width"},function(_n,Sn){dn.cssHooks[_n+Sn]={expand:function(Pn){for(var Nn=0,qn={},Kn=typeof Pn=="string"?Pn.split(" "):[Pn];Nn<4;Nn++)qn[_n+so[Nn]+Sn]=Kn[Nn]||Kn[Nn-2]||Kn[0];return qn}},_n!=="margin"&&(dn.cssHooks[_n+Sn].set=ol)}),dn.fn.extend({css:function(_n,Sn){return Ao(this,function(Pn,Nn,qn){var Kn,ti,yi={},gi=0;if(Array.isArray(Nn)){for(Kn=Ga(Pn),ti=Nn.length;gi<ti;gi++)yi[Nn[gi]]=dn.css(Pn,Nn[gi],!1,Kn);return yi}return qn!==void 0?dn.style(Pn,Nn,qn):dn.css(Pn,Nn)},_n,Sn,arguments.length>1)}});function hs(_n,Sn,Pn,Nn,qn){return new hs.prototype.init(_n,Sn,Pn,Nn,qn)}dn.Tween=hs,hs.prototype={constructor:hs,init:function(_n,Sn,Pn,Nn,qn,Kn){this.elem=_n,this.prop=Pn,this.easing=qn||dn.easing._default,this.options=Sn,this.start=this.now=this.cur(),this.end=Nn,this.unit=Kn||(dn.cssNumber[Pn]?"":"px")},cur:function(){var _n=hs.propHooks[this.prop];return _n&&_n.get?_n.get(this):hs.propHooks._default.get(this)},run:function(_n){var Sn,Pn=hs.propHooks[this.prop];return this.options.duration?this.pos=Sn=dn.easing[this.easing](_n,this.options.duration*_n,0,1,this.options.duration):this.pos=Sn=_n,this.now=(this.end-this.start)*Sn+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),Pn&&Pn.set?Pn.set(this):hs.propHooks._default.set(this),this}},hs.prototype.init.prototype=hs.prototype,hs.propHooks={_default:{get:function(_n){var Sn;return _n.elem.nodeType!==1||_n.elem[_n.prop]!=null&&_n.elem.style[_n.prop]==null?_n.elem[_n.prop]:(Sn=dn.css(_n.elem,_n.prop,""),!Sn||Sn==="auto"?0:Sn)},set:function(_n){dn.fx.step[_n.prop]?dn.fx.step[_n.prop](_n):_n.elem.nodeType===1&&(dn.cssHooks[_n.prop]||_n.elem.style[Ms(_n.prop)]!=null)?dn.style(_n.elem,_n.prop,_n.now+_n.unit):_n.elem[_n.prop]=_n.now}}},hs.propHooks.scrollTop=hs.propHooks.scrollLeft={set:function(_n){_n.elem.nodeType&&_n.elem.parentNode&&(_n.elem[_n.prop]=_n.now)}},dn.easing={linear:function(_n){return _n},swing:function(_n){return .5-Math.cos(_n*Math.PI)/2},_default:"swing"},dn.fx=hs.prototype.init,dn.fx.step={};var ml,hi,oi=/^(?:toggle|show|hide)$/,Di=/queueHooks$/;function Li(){hi&&(cn.hidden===!1&&Be.requestAnimationFrame?Be.requestAnimationFrame(Li):Be.setTimeout(Li,dn.fx.interval),dn.fx.tick())}function Qi(){return Be.setTimeout(function(){ml=void 0}),ml=Date.now()}function po(_n,Sn){var Pn,Nn=0,qn={height:_n};for(Sn=Sn?1:0;Nn<4;Nn+=2-Sn)Pn=so[Nn],qn["margin"+Pn]=qn["padding"+Pn]=_n;return Sn&&(qn.opacity=qn.width=_n),qn}function To(_n,Sn,Pn){for(var Nn,qn=(Ko.tweeners[Sn]||[]).concat(Ko.tweeners["*"]),Kn=0,ti=qn.length;Kn<ti;Kn++)if(Nn=qn[Kn].call(Pn,Sn,_n))return Nn}function ho(_n,Sn,Pn){var Nn,qn,Kn,ti,yi,gi,Ei,ji,eo="width"in Sn||"height"in Sn,$i=this,uo={},da=_n.style,Fa=_n.nodeType&&Hi(_n),fa=ci.get(_n,"fxshow");Pn.queue||(ti=dn._queueHooks(_n,"fx"),ti.unqueued==null&&(ti.unqueued=0,yi=ti.empty.fire,ti.empty.fire=function(){ti.unqueued||yi()}),ti.unqueued++,$i.always(function(){$i.always(function(){ti.unqueued--,dn.queue(_n,"fx").length||ti.empty.fire()})}));for(Nn in Sn)if(qn=Sn[Nn],oi.test(qn)){if(delete Sn[Nn],Kn=Kn||qn==="toggle",qn===(Fa?"hide":"show"))if(qn==="show"&&fa&&fa[Nn]!==void 0)Fa=!0;else continue;uo[Nn]=fa&&fa[Nn]||dn.style(_n,Nn)}if(gi=!dn.isEmptyObject(Sn),!(!gi&&dn.isEmptyObject(uo))){eo&&_n.nodeType===1&&(Pn.overflow=[da.overflow,da.overflowX,da.overflowY],Ei=fa&&fa.display,Ei==null&&(Ei=ci.get(_n,"display")),ji=dn.css(_n,"display"),ji==="none"&&(Ei?ji=Ei:(la([_n],!0),Ei=_n.style.display||Ei,ji=dn.css(_n,"display"),la([_n]))),(ji==="inline"||ji==="inline-block"&&Ei!=null)&&dn.css(_n,"float")==="none"&&(gi||($i.done(function(){da.display=Ei}),Ei==null&&(ji=da.display,Ei=ji==="none"?"":ji)),da.display="inline-block")),Pn.overflow&&(da.overflow="hidden",$i.always(function(){da.overflow=Pn.overflow[0],da.overflowX=Pn.overflow[1],da.overflowY=Pn.overflow[2]})),gi=!1;for(Nn in uo)gi||(fa?"hidden"in fa&&(Fa=fa.hidden):fa=ci.access(_n,"fxshow",{display:Ei}),Kn&&(fa.hidden=!Fa),Fa&&la([_n],!0),$i.done(function(){Fa||la([_n]),ci.remove(_n,"fxshow");for(Nn in uo)dn.style(_n,Nn,uo[Nn])})),gi=To(Fa?fa[Nn]:0,Nn,$i),Nn in fa||(fa[Nn]=gi.start,Fa&&(gi.end=gi.start,gi.start=0))}}function Ho(_n,Sn){var Pn,Nn,qn,Kn,ti;for(Pn in _n)if(Nn=Ua(Pn),qn=Sn[Nn],Kn=_n[Pn],Array.isArray(Kn)&&(qn=Kn[1],Kn=_n[Pn]=Kn[0]),Pn!==Nn&&(_n[Nn]=Kn,delete _n[Pn]),ti=dn.cssHooks[Nn],ti&&"expand"in ti){Kn=ti.expand(Kn),delete _n[Nn];for(Pn in Kn)Pn in _n||(_n[Pn]=Kn[Pn],Sn[Pn]=qn)}else Sn[Nn]=qn}function Ko(_n,Sn,Pn){var Nn,qn,Kn=0,ti=Ko.prefilters.length,yi=dn.Deferred().always(function(){delete gi.elem}),gi=function(){if(qn)return!1;for(var eo=ml||Qi(),$i=Math.max(0,Ei.startTime+Ei.duration-eo),uo=$i/Ei.duration||0,da=1-uo,Fa=0,fa=Ei.tweens.length;Fa<fa;Fa++)Ei.tweens[Fa].run(da);return yi.notifyWith(_n,[Ei,da,$i]),da<1&&fa?$i:(fa||yi.notifyWith(_n,[Ei,1,0]),yi.resolveWith(_n,[Ei]),!1)},Ei=yi.promise({elem:_n,props:dn.extend({},Sn),opts:dn.extend(!0,{specialEasing:{},easing:dn.easing._default},Pn),originalProperties:Sn,originalOptions:Pn,startTime:ml||Qi(),duration:Pn.duration,tweens:[],createTween:function(eo,$i){var uo=dn.Tween(_n,Ei.opts,eo,$i,Ei.opts.specialEasing[eo]||Ei.opts.easing);return Ei.tweens.push(uo),uo},stop:function(eo){var $i=0,uo=eo?Ei.tweens.length:0;if(qn)return this;for(qn=!0;$i<uo;$i++)Ei.tweens[$i].run(1);return eo?(yi.notifyWith(_n,[Ei,1,0]),yi.resolveWith(_n,[Ei,eo])):yi.rejectWith(_n,[Ei,eo]),this}}),ji=Ei.props;for(Ho(ji,Ei.opts.specialEasing);Kn<ti;Kn++)if(Nn=Ko.prefilters[Kn].call(Ei,_n,ji,Ei.opts),Nn)return nn(Nn.stop)&&(dn._queueHooks(Ei.elem,Ei.opts.queue).stop=Nn.stop.bind(Nn)),Nn;return dn.map(ji,To,Ei),nn(Ei.opts.start)&&Ei.opts.start.call(_n,Ei),Ei.progress(Ei.opts.progress).done(Ei.opts.done,Ei.opts.complete).fail(Ei.opts.fail).always(Ei.opts.always),dn.fx.timer(dn.extend(gi,{elem:_n,anim:Ei,queue:Ei.opts.queue})),Ei}dn.Animation=dn.extend(Ko,{tweeners:{"*":[function(_n,Sn){var Pn=this.createTween(_n,Sn);return Po(Pn.elem,_n,ao.exec(Sn),Pn),Pn}]},tweener:function(_n,Sn){nn(_n)?(Sn=_n,_n=["*"]):_n=_n.match(lo);for(var Pn,Nn=0,qn=_n.length;Nn<qn;Nn++)Pn=_n[Nn],Ko.tweeners[Pn]=Ko.tweeners[Pn]||[],Ko.tweeners[Pn].unshift(Sn)},prefilters:[ho],prefilter:function(_n,Sn){Sn?Ko.prefilters.unshift(_n):Ko.prefilters.push(_n)}}),dn.speed=function(_n,Sn,Pn){var Nn=_n&&typeof _n=="object"?dn.extend({},_n):{complete:Pn||!Pn&&Sn||nn(_n)&&_n,duration:_n,easing:Pn&&Sn||Sn&&!nn(Sn)&&Sn};return dn.fx.off?Nn.duration=0:typeof Nn.duration!="number"&&(Nn.duration in dn.fx.speeds?Nn.duration=dn.fx.speeds[Nn.duration]:Nn.duration=dn.fx.speeds._default),(Nn.queue==null||Nn.queue===!0)&&(Nn.queue="fx"),Nn.old=Nn.complete,Nn.complete=function(){nn(Nn.old)&&Nn.old.call(this),Nn.queue&&dn.dequeue(this,Nn.queue)},Nn},dn.fn.extend({fadeTo:function(_n,Sn,Pn,Nn){return this.filter(Hi).css("opacity",0).show().end().animate({opacity:Sn},_n,Pn,Nn)},animate:function(_n,Sn,Pn,Nn){var qn=dn.isEmptyObject(_n),Kn=dn.speed(Sn,Pn,Nn),ti=function(){var yi=Ko(this,dn.extend({},_n),Kn);(qn||ci.get(this,"finish"))&&yi.stop(!0)};return ti.finish=ti,qn||Kn.queue===!1?this.each(ti):this.queue(Kn.queue,ti)},stop:function(_n,Sn,Pn){var Nn=function(qn){var Kn=qn.stop;delete qn.stop,Kn(Pn)};return typeof _n!="string"&&(Pn=Sn,Sn=_n,_n=void 0),Sn&&this.queue(_n||"fx",[]),this.each(function(){var qn=!0,Kn=_n!=null&&_n+"queueHooks",ti=dn.timers,yi=ci.get(this);if(Kn)yi[Kn]&&yi[Kn].stop&&Nn(yi[Kn]);else for(Kn in yi)yi[Kn]&&yi[Kn].stop&&Di.test(Kn)&&Nn(yi[Kn]);for(Kn=ti.length;Kn--;)ti[Kn].elem===this&&(_n==null||ti[Kn].queue===_n)&&(ti[Kn].anim.stop(Pn),qn=!1,ti.splice(Kn,1));(qn||!Pn)&&dn.dequeue(this,_n)})},finish:function(_n){return _n!==!1&&(_n=_n||"fx"),this.each(function(){var Sn,Pn=ci.get(this),Nn=Pn[_n+"queue"],qn=Pn[_n+"queueHooks"],Kn=dn.timers,ti=Nn?Nn.length:0;for(Pn.finish=!0,dn.queue(this,_n,[]),qn&&qn.stop&&qn.stop.call(this,!0),Sn=Kn.length;Sn--;)Kn[Sn].elem===this&&Kn[Sn].queue===_n&&(Kn[Sn].anim.stop(!0),Kn.splice(Sn,1));for(Sn=0;Sn<ti;Sn++)Nn[Sn]&&Nn[Sn].finish&&Nn[Sn].finish.call(this);delete Pn.finish})}}),dn.each(["toggle","show","hide"],function(_n,Sn){var Pn=dn.fn[Sn];dn.fn[Sn]=function(Nn,qn,Kn){return Nn==null||typeof Nn=="boolean"?Pn.apply(this,arguments):this.animate(po(Sn,!0),Nn,qn,Kn)}}),dn.each({slideDown:po("show"),slideUp:po("hide"),slideToggle:po("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(_n,Sn){dn.fn[_n]=function(Pn,Nn,qn){return this.animate(Sn,Pn,Nn,qn)}}),dn.timers=[],dn.fx.tick=function(){var _n,Sn=0,Pn=dn.timers;for(ml=Date.now();Sn<Pn.length;Sn++)_n=Pn[Sn],!_n()&&Pn[Sn]===_n&&Pn.splice(Sn--,1);Pn.length||dn.fx.stop(),ml=void 0},dn.fx.timer=function(_n){dn.timers.push(_n),dn.fx.start()},dn.fx.interval=13,dn.fx.start=function(){hi||(hi=!0,Li())},dn.fx.stop=function(){hi=null},dn.fx.speeds={slow:600,fast:200,_default:400},dn.fn.delay=function(_n,Sn){return _n=dn.fx&&dn.fx.speeds[_n]||_n,Sn=Sn||"fx",this.queue(Sn,function(Pn,Nn){var qn=Be.setTimeout(Pn,_n);Nn.stop=function(){Be.clearTimeout(qn)}})},function(){var _n=cn.createElement("input"),Sn=cn.createElement("select"),Pn=Sn.appendChild(cn.createElement("option"));_n.type="checkbox",rn.checkOn=_n.value!=="",rn.optSelected=Pn.selected,_n=cn.createElement("input"),_n.value="t",_n.type="radio",rn.radioValue=_n.value==="t"}();var So,Ra=dn.expr.attrHandle;dn.fn.extend({attr:function(_n,Sn){return Ao(this,dn.attr,_n,Sn,arguments.length>1)},removeAttr:function(_n){return this.each(function(){dn.removeAttr(this,_n)})}}),dn.extend({attr:function(_n,Sn,Pn){var Nn,qn,Kn=_n.nodeType;if(!(Kn===3||Kn===8||Kn===2)){if(typeof _n.getAttribute>"u")return dn.prop(_n,Sn,Pn);if((Kn!==1||!dn.isXMLDoc(_n))&&(qn=dn.attrHooks[Sn.toLowerCase()]||(dn.expr.match.bool.test(Sn)?So:void 0)),Pn!==void 0){if(Pn===null){dn.removeAttr(_n,Sn);return}return qn&&"set"in qn&&(Nn=qn.set(_n,Pn,Sn))!==void 0?Nn:(_n.setAttribute(Sn,Pn+""),Pn)}return qn&&"get"in qn&&(Nn=qn.get(_n,Sn))!==null?Nn:(Nn=dn.find.attr(_n,Sn),Nn??void 0)}},attrHooks:{type:{set:function(_n,Sn){if(!rn.radioValue&&Sn==="radio"&&xn(_n,"input")){var Pn=_n.value;return _n.setAttribute("type",Sn),Pn&&(_n.value=Pn),Sn}}}},removeAttr:function(_n,Sn){var Pn,Nn=0,qn=Sn&&Sn.match(lo);if(qn&&_n.nodeType===1)for(;Pn=qn[Nn++];)_n.removeAttribute(Pn)}}),So={set:function(_n,Sn,Pn){return Sn===!1?dn.removeAttr(_n,Pn):_n.setAttribute(Pn,Pn),Pn}},dn.each(dn.expr.match.bool.source.match(/\w+/g),function(_n,Sn){var Pn=Ra[Sn]||dn.find.attr;Ra[Sn]=function(Nn,qn,Kn){var ti,yi,gi=qn.toLowerCase();return Kn||(yi=Ra[gi],Ra[gi]=ti,ti=Pn(Nn,qn,Kn)!=null?gi:null,Ra[gi]=yi),ti}});var Ja=/^(?:input|select|textarea|button)$/i,Da=/^(?:a|area)$/i;dn.fn.extend({prop:function(_n,Sn){return Ao(this,dn.prop,_n,Sn,arguments.length>1)},removeProp:function(_n){return this.each(function(){delete this[dn.propFix[_n]||_n]})}}),dn.extend({prop:function(_n,Sn,Pn){var Nn,qn,Kn=_n.nodeType;if(!(Kn===3||Kn===8||Kn===2))return(Kn!==1||!dn.isXMLDoc(_n))&&(Sn=dn.propFix[Sn]||Sn,qn=dn.propHooks[Sn]),Pn!==void 0?qn&&"set"in qn&&(Nn=qn.set(_n,Pn,Sn))!==void 0?Nn:_n[Sn]=Pn:qn&&"get"in qn&&(Nn=qn.get(_n,Sn))!==null?Nn:_n[Sn]},propHooks:{tabIndex:{get:function(_n){var Sn=dn.find.attr(_n,"tabindex");return Sn?parseInt(Sn,10):Ja.test(_n.nodeName)||Da.test(_n.nodeName)&&_n.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),rn.optSelected||(dn.propHooks.selected={get:function(_n){var Sn=_n.parentNode;return Sn&&Sn.parentNode&&Sn.parentNode.selectedIndex,null},set:function(_n){var Sn=_n.parentNode;Sn&&(Sn.selectedIndex,Sn.parentNode&&Sn.parentNode.selectedIndex)}}),dn.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dn.propFix[this.toLowerCase()]=this});function ha(_n){var Sn=_n.match(lo)||[];return Sn.join(" ")}function Ea(_n){return _n.getAttribute&&_n.getAttribute("class")||""}function Ca(_n){return Array.isArray(_n)?_n:typeof _n=="string"?_n.match(lo)||[]:[]}dn.fn.extend({addClass:function(_n){var Sn,Pn,Nn,qn,Kn,ti;return nn(_n)?this.each(function(yi){dn(this).addClass(_n.call(this,yi,Ea(this)))}):(Sn=Ca(_n),Sn.length?this.each(function(){if(Nn=Ea(this),Pn=this.nodeType===1&&" "+ha(Nn)+" ",Pn){for(Kn=0;Kn<Sn.length;Kn++)qn=Sn[Kn],Pn.indexOf(" "+qn+" ")<0&&(Pn+=qn+" ");ti=ha(Pn),Nn!==ti&&this.setAttribute("class",ti)}}):this)},removeClass:function(_n){var Sn,Pn,Nn,qn,Kn,ti;return nn(_n)?this.each(function(yi){dn(this).removeClass(_n.call(this,yi,Ea(this)))}):arguments.length?(Sn=Ca(_n),Sn.length?this.each(function(){if(Nn=Ea(this),Pn=this.nodeType===1&&" "+ha(Nn)+" ",Pn){for(Kn=0;Kn<Sn.length;Kn++)for(qn=Sn[Kn];Pn.indexOf(" "+qn+" ")>-1;)Pn=Pn.replace(" "+qn+" "," ");ti=ha(Pn),Nn!==ti&&this.setAttribute("class",ti)}}):this):this.attr("class","")},toggleClass:function(_n,Sn){var Pn,Nn,qn,Kn,ti=typeof _n,yi=ti==="string"||Array.isArray(_n);return nn(_n)?this.each(function(gi){dn(this).toggleClass(_n.call(this,gi,Ea(this),Sn),Sn)}):typeof Sn=="boolean"&&yi?Sn?this.addClass(_n):this.removeClass(_n):(Pn=Ca(_n),this.each(function(){if(yi)for(Kn=dn(this),qn=0;qn<Pn.length;qn++)Nn=Pn[qn],Kn.hasClass(Nn)?Kn.removeClass(Nn):Kn.addClass(Nn);else(_n===void 0||ti==="boolean")&&(Nn=Ea(this),Nn&&ci.set(this,"__className__",Nn),this.setAttribute&&this.setAttribute("class",Nn||_n===!1?"":ci.get(this,"__className__")||""))}))},hasClass:function(_n){var Sn,Pn,Nn=0;for(Sn=" "+_n+" ";Pn=this[Nn++];)if(Pn.nodeType===1&&(" "+ha(Ea(Pn))+" ").indexOf(Sn)>-1)return!0;return!1}});var _s=/\r/g;dn.fn.extend({val:function(_n){var Sn,Pn,Nn,qn=this[0];return arguments.length?(Nn=nn(_n),this.each(function(Kn){var ti;this.nodeType===1&&(Nn?ti=_n.call(this,Kn,dn(this).val()):ti=_n,ti==null?ti="":typeof ti=="number"?ti+="":Array.isArray(ti)&&(ti=dn.map(ti,function(yi){return yi==null?"":yi+""})),Sn=dn.valHooks[this.type]||dn.valHooks[this.nodeName.toLowerCase()],(!Sn||!("set"in Sn)||Sn.set(this,ti,"value")===void 0)&&(this.value=ti))})):qn?(Sn=dn.valHooks[qn.type]||dn.valHooks[qn.nodeName.toLowerCase()],Sn&&"get"in Sn&&(Pn=Sn.get(qn,"value"))!==void 0?Pn:(Pn=qn.value,typeof Pn=="string"?Pn.replace(_s,""):Pn??"")):void 0}}),dn.extend({valHooks:{option:{get:function(_n){var Sn=dn.find.attr(_n,"value");return Sn??ha(dn.text(_n))}},select:{get:function(_n){var Sn,Pn,Nn,qn=_n.options,Kn=_n.selectedIndex,ti=_n.type==="select-one",yi=ti?null:[],gi=ti?Kn+1:qn.length;for(Kn<0?Nn=gi:Nn=ti?Kn:0;Nn<gi;Nn++)if(Pn=qn[Nn],(Pn.selected||Nn===Kn)&&!Pn.disabled&&(!Pn.parentNode.disabled||!xn(Pn.parentNode,"optgroup"))){if(Sn=dn(Pn).val(),ti)return Sn;yi.push(Sn)}return yi},set:function(_n,Sn){for(var Pn,Nn,qn=_n.options,Kn=dn.makeArray(Sn),ti=qn.length;ti--;)Nn=qn[ti],(Nn.selected=dn.inArray(dn.valHooks.option.get(Nn),Kn)>-1)&&(Pn=!0);return Pn||(_n.selectedIndex=-1),Kn}}}}),dn.each(["radio","checkbox"],function(){dn.valHooks[this]={set:function(_n,Sn){if(Array.isArray(Sn))return _n.checked=dn.inArray(dn(_n).val(),Sn)>-1}},rn.checkOn||(dn.valHooks[this].get=function(_n){return _n.getAttribute("value")===null?"on":_n.value})});var Wa=Be.location,fs={guid:Date.now()},oa=/\?/;dn.parseXML=function(_n){var Sn,Pn;if(!_n||typeof _n!="string")return null;try{Sn=new Be.DOMParser().parseFromString(_n,"text/xml")}catch{}return Pn=Sn&&Sn.getElementsByTagName("parsererror")[0],(!Sn||Pn)&&dn.error("Invalid XML: "+(Pn?dn.map(Pn.childNodes,function(Nn){return Nn.textContent}).join(`
`):_n)),Sn};var va=/^(?:focusinfocus|focusoutblur)$/,Ba=function(_n){_n.stopPropagation()};dn.extend(dn.event,{trigger:function(_n,Sn,Pn,Nn){var qn,Kn,ti,yi,gi,Ei,ji,eo,$i=[Pn||cn],uo=Kr.call(_n,"type")?_n.type:_n,da=Kr.call(_n,"namespace")?_n.namespace.split("."):[];if(Kn=eo=ti=Pn=Pn||cn,!(Pn.nodeType===3||Pn.nodeType===8)&&!va.test(uo+dn.event.triggered)&&(uo.indexOf(".")>-1&&(da=uo.split("."),uo=da.shift(),da.sort()),gi=uo.indexOf(":")<0&&"on"+uo,_n=_n[dn.expando]?_n:new dn.Event(uo,typeof _n=="object"&&_n),_n.isTrigger=Nn?2:3,_n.namespace=da.join("."),_n.rnamespace=_n.namespace?new RegExp("(^|\\.)"+da.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,_n.result=void 0,_n.target||(_n.target=Pn),Sn=Sn==null?[_n]:dn.makeArray(Sn,[_n]),ji=dn.event.special[uo]||{},!(!Nn&&ji.trigger&&ji.trigger.apply(Pn,Sn)===!1))){if(!Nn&&!ji.noBubble&&!ln(Pn)){for(yi=ji.delegateType||uo,va.test(yi+uo)||(Kn=Kn.parentNode);Kn;Kn=Kn.parentNode)$i.push(Kn),ti=Kn;ti===(Pn.ownerDocument||cn)&&$i.push(ti.defaultView||ti.parentWindow||Be)}for(qn=0;(Kn=$i[qn++])&&!_n.isPropagationStopped();)eo=Kn,_n.type=qn>1?yi:ji.bindType||uo,Ei=(ci.get(Kn,"events")||Object.create(null))[_n.type]&&ci.get(Kn,"handle"),Ei&&Ei.apply(Kn,Sn),Ei=gi&&Kn[gi],Ei&&Ei.apply&&ka(Kn)&&(_n.result=Ei.apply(Kn,Sn),_n.result===!1&&_n.preventDefault());return _n.type=uo,!Nn&&!_n.isDefaultPrevented()&&(!ji._default||ji._default.apply($i.pop(),Sn)===!1)&&ka(Pn)&&gi&&nn(Pn[uo])&&!ln(Pn)&&(ti=Pn[gi],ti&&(Pn[gi]=null),dn.event.triggered=uo,_n.isPropagationStopped()&&eo.addEventListener(uo,Ba),Pn[uo](),_n.isPropagationStopped()&&eo.removeEventListener(uo,Ba),dn.event.triggered=void 0,ti&&(Pn[gi]=ti)),_n.result}},simulate:function(_n,Sn,Pn){var Nn=dn.extend(new dn.Event,Pn,{type:_n,isSimulated:!0});dn.event.trigger(Nn,null,Sn)}}),dn.fn.extend({trigger:function(_n,Sn){return this.each(function(){dn.event.trigger(_n,Sn,this)})},triggerHandler:function(_n,Sn){var Pn=this[0];if(Pn)return dn.event.trigger(_n,Sn,Pn,!0)}});var ps=/\[\]$/,Za=/\r?\n/g,gs=/^(?:submit|button|image|reset|file)$/i,Ss=/^(?:input|select|textarea|keygen)/i;function ws(_n,Sn,Pn,Nn){var qn;if(Array.isArray(Sn))dn.each(Sn,function(Kn,ti){Pn||ps.test(_n)?Nn(_n,ti):ws(_n+"["+(typeof ti=="object"&&ti!=null?Kn:"")+"]",ti,Pn,Nn)});else if(!Pn&&bn(Sn)==="object")for(qn in Sn)ws(_n+"["+qn+"]",Sn[qn],Pn,Nn);else Nn(_n,Sn)}dn.param=function(_n,Sn){var Pn,Nn=[],qn=function(Kn,ti){var yi=nn(ti)?ti():ti;Nn[Nn.length]=encodeURIComponent(Kn)+"="+encodeURIComponent(yi??"")};if(_n==null)return"";if(Array.isArray(_n)||_n.jquery&&!dn.isPlainObject(_n))dn.each(_n,function(){qn(this.name,this.value)});else for(Pn in _n)ws(Pn,_n[Pn],Sn,qn);return Nn.join("&")},dn.fn.extend({serialize:function(){return dn.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var _n=dn.prop(this,"elements");return _n?dn.makeArray(_n):this}).filter(function(){var _n=this.type;return this.name&&!dn(this).is(":disabled")&&Ss.test(this.nodeName)&&!gs.test(_n)&&(this.checked||!rs.test(_n))}).map(function(_n,Sn){var Pn=dn(this).val();return Pn==null?null:Array.isArray(Pn)?dn.map(Pn,function(Nn){return{name:Sn.name,value:Nn.replace(Za,`\r
`)}}):{name:Sn.name,value:Pn.replace(Za,`\r
`)}}).get()}});var xl=/%20/g,al=/#.*$/,Il=/([?&])_=[^&]*/,Ql=/^(.*?):[ \t]*([^\r\n]*)$/mg,vl=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yl=/^(?:GET|HEAD)$/,xc=/^\/\//,dl={},Ll={},Ta="*/".concat("*"),qi=cn.createElement("a");qi.href=Wa.href;function Fo(_n){return function(Sn,Pn){typeof Sn!="string"&&(Pn=Sn,Sn="*");var Nn,qn=0,Kn=Sn.toLowerCase().match(lo)||[];if(nn(Pn))for(;Nn=Kn[qn++];)Nn[0]==="+"?(Nn=Nn.slice(1)||"*",(_n[Nn]=_n[Nn]||[]).unshift(Pn)):(_n[Nn]=_n[Nn]||[]).push(Pn)}}function jo(_n,Sn,Pn,Nn){var qn={},Kn=_n===Ll;function ti(yi){var gi;return qn[yi]=!0,dn.each(_n[yi]||[],function(Ei,ji){var eo=ji(Sn,Pn,Nn);if(typeof eo=="string"&&!Kn&&!qn[eo])return Sn.dataTypes.unshift(eo),ti(eo),!1;if(Kn)return!(gi=eo)}),gi}return ti(Sn.dataTypes[0])||!qn["*"]&&ti("*")}function ua(_n,Sn){var Pn,Nn,qn=dn.ajaxSettings.flatOptions||{};for(Pn in Sn)Sn[Pn]!==void 0&&((qn[Pn]?_n:Nn||(Nn={}))[Pn]=Sn[Pn]);return Nn&&dn.extend(!0,_n,Nn),_n}function xa(_n,Sn,Pn){for(var Nn,qn,Kn,ti,yi=_n.contents,gi=_n.dataTypes;gi[0]==="*";)gi.shift(),Nn===void 0&&(Nn=_n.mimeType||Sn.getResponseHeader("Content-Type"));if(Nn){for(qn in yi)if(yi[qn]&&yi[qn].test(Nn)){gi.unshift(qn);break}}if(gi[0]in Pn)Kn=gi[0];else{for(qn in Pn){if(!gi[0]||_n.converters[qn+" "+gi[0]]){Kn=qn;break}ti||(ti=qn)}Kn=Kn||ti}if(Kn)return Kn!==gi[0]&&gi.unshift(Kn),Pn[Kn]}function Ya(_n,Sn,Pn,Nn){var qn,Kn,ti,yi,gi,Ei={},ji=_n.dataTypes.slice();if(ji[1])for(ti in _n.converters)Ei[ti.toLowerCase()]=_n.converters[ti];for(Kn=ji.shift();Kn;)if(_n.responseFields[Kn]&&(Pn[_n.responseFields[Kn]]=Sn),!gi&&Nn&&_n.dataFilter&&(Sn=_n.dataFilter(Sn,_n.dataType)),gi=Kn,Kn=ji.shift(),Kn){if(Kn==="*")Kn=gi;else if(gi!=="*"&&gi!==Kn){if(ti=Ei[gi+" "+Kn]||Ei["* "+Kn],!ti){for(qn in Ei)if(yi=qn.split(" "),yi[1]===Kn&&(ti=Ei[gi+" "+yi[0]]||Ei["* "+yi[0]],ti)){ti===!0?ti=Ei[qn]:Ei[qn]!==!0&&(Kn=yi[0],ji.unshift(yi[1]));break}}if(ti!==!0)if(ti&&_n.throws)Sn=ti(Sn);else try{Sn=ti(Sn)}catch(eo){return{state:"parsererror",error:ti?eo:"No conversion from "+gi+" to "+Kn}}}}return{state:"success",data:Sn}}dn.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Wa.href,type:"GET",isLocal:vl.test(Wa.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ta,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":dn.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(_n,Sn){return Sn?ua(ua(_n,dn.ajaxSettings),Sn):ua(dn.ajaxSettings,_n)},ajaxPrefilter:Fo(dl),ajaxTransport:Fo(Ll),ajax:function(_n,Sn){typeof _n=="object"&&(Sn=_n,_n=void 0),Sn=Sn||{};var Pn,Nn,qn,Kn,ti,yi,gi,Ei,ji,eo,$i=dn.ajaxSetup({},Sn),uo=$i.context||$i,da=$i.context&&(uo.nodeType||uo.jquery)?dn(uo):dn.event,Fa=dn.Deferred(),fa=dn.Callbacks("once memory"),Ps=$i.statusCode||{},Ks={},Kl={},Ul="canceled",Ma={readyState:0,getResponseHeader:function(Ka){var Es;if(gi){if(!Kn)for(Kn={};Es=Ql.exec(qn);)Kn[Es[1].toLowerCase()+" "]=(Kn[Es[1].toLowerCase()+" "]||[]).concat(Es[2]);Es=Kn[Ka.toLowerCase()+" "]}return Es==null?null:Es.join(", ")},getAllResponseHeaders:function(){return gi?qn:null},setRequestHeader:function(Ka,Es){return gi==null&&(Ka=Kl[Ka.toLowerCase()]=Kl[Ka.toLowerCase()]||Ka,Ks[Ka]=Es),this},overrideMimeType:function(Ka){return gi==null&&($i.mimeType=Ka),this},statusCode:function(Ka){var Es;if(Ka)if(gi)Ma.always(Ka[Ma.status]);else for(Es in Ka)Ps[Es]=[Ps[Es],Ka[Es]];return this},abort:function(Ka){var Es=Ka||Ul;return Pn&&Pn.abort(Es),vs(0,Es),this}};if(Fa.promise(Ma),$i.url=((_n||$i.url||Wa.href)+"").replace(xc,Wa.protocol+"//"),$i.type=Sn.method||Sn.type||$i.method||$i.type,$i.dataTypes=($i.dataType||"*").toLowerCase().match(lo)||[""],$i.crossDomain==null){yi=cn.createElement("a");try{yi.href=$i.url,yi.href=yi.href,$i.crossDomain=qi.protocol+"//"+qi.host!=yi.protocol+"//"+yi.host}catch{$i.crossDomain=!0}}if($i.data&&$i.processData&&typeof $i.data!="string"&&($i.data=dn.param($i.data,$i.traditional)),jo(dl,$i,Sn,Ma),gi)return Ma;Ei=dn.event&&$i.global,Ei&&dn.active++===0&&dn.event.trigger("ajaxStart"),$i.type=$i.type.toUpperCase(),$i.hasContent=!yl.test($i.type),Nn=$i.url.replace(al,""),$i.hasContent?$i.data&&$i.processData&&($i.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&($i.data=$i.data.replace(xl,"+")):(eo=$i.url.slice(Nn.length),$i.data&&($i.processData||typeof $i.data=="string")&&(Nn+=(oa.test(Nn)?"&":"?")+$i.data,delete $i.data),$i.cache===!1&&(Nn=Nn.replace(Il,"$1"),eo=(oa.test(Nn)?"&":"?")+"_="+fs.guid+++eo),$i.url=Nn+eo),$i.ifModified&&(dn.lastModified[Nn]&&Ma.setRequestHeader("If-Modified-Since",dn.lastModified[Nn]),dn.etag[Nn]&&Ma.setRequestHeader("If-None-Match",dn.etag[Nn])),($i.data&&$i.hasContent&&$i.contentType!==!1||Sn.contentType)&&Ma.setRequestHeader("Content-Type",$i.contentType),Ma.setRequestHeader("Accept",$i.dataTypes[0]&&$i.accepts[$i.dataTypes[0]]?$i.accepts[$i.dataTypes[0]]+($i.dataTypes[0]!=="*"?", "+Ta+"; q=0.01":""):$i.accepts["*"]);for(ji in $i.headers)Ma.setRequestHeader(ji,$i.headers[ji]);if($i.beforeSend&&($i.beforeSend.call(uo,Ma,$i)===!1||gi))return Ma.abort();if(Ul="abort",fa.add($i.complete),Ma.done($i.success),Ma.fail($i.error),Pn=jo(Ll,$i,Sn,Ma),!Pn)vs(-1,"No Transport");else{if(Ma.readyState=1,Ei&&da.trigger("ajaxSend",[Ma,$i]),gi)return Ma;$i.async&&$i.timeout>0&&(ti=Be.setTimeout(function(){Ma.abort("timeout")},$i.timeout));try{gi=!1,Pn.send(Ks,vs)}catch(Ka){if(gi)throw Ka;vs(-1,Ka)}}function vs(Ka,Es,Jl,Gc){var _l,Lc,Pl,ec,tc,Ol=Es;gi||(gi=!0,ti&&Be.clearTimeout(ti),Pn=void 0,qn=Gc||"",Ma.readyState=Ka>0?4:0,_l=Ka>=200&&Ka<300||Ka===304,Jl&&(ec=xa($i,Ma,Jl)),!_l&&dn.inArray("script",$i.dataTypes)>-1&&dn.inArray("json",$i.dataTypes)<0&&($i.converters["text script"]=function(){}),ec=Ya($i,ec,Ma,_l),_l?($i.ifModified&&(tc=Ma.getResponseHeader("Last-Modified"),tc&&(dn.lastModified[Nn]=tc),tc=Ma.getResponseHeader("etag"),tc&&(dn.etag[Nn]=tc)),Ka===204||$i.type==="HEAD"?Ol="nocontent":Ka===304?Ol="notmodified":(Ol=ec.state,Lc=ec.data,Pl=ec.error,_l=!Pl)):(Pl=Ol,(Ka||!Ol)&&(Ol="error",Ka<0&&(Ka=0))),Ma.status=Ka,Ma.statusText=(Es||Ol)+"",_l?Fa.resolveWith(uo,[Lc,Ol,Ma]):Fa.rejectWith(uo,[Ma,Ol,Pl]),Ma.statusCode(Ps),Ps=void 0,Ei&&da.trigger(_l?"ajaxSuccess":"ajaxError",[Ma,$i,_l?Lc:Pl]),fa.fireWith(uo,[Ma,Ol]),Ei&&(da.trigger("ajaxComplete",[Ma,$i]),--dn.active||dn.event.trigger("ajaxStop")))}return Ma},getJSON:function(_n,Sn,Pn){return dn.get(_n,Sn,Pn,"json")},getScript:function(_n,Sn){return dn.get(_n,void 0,Sn,"script")}}),dn.each(["get","post"],function(_n,Sn){dn[Sn]=function(Pn,Nn,qn,Kn){return nn(Nn)&&(Kn=Kn||qn,qn=Nn,Nn=void 0),dn.ajax(dn.extend({url:Pn,type:Sn,dataType:Kn,data:Nn,success:qn},dn.isPlainObject(Pn)&&Pn))}}),dn.ajaxPrefilter(function(_n){var Sn;for(Sn in _n.headers)Sn.toLowerCase()==="content-type"&&(_n.contentType=_n.headers[Sn]||"")}),dn._evalUrl=function(_n,Sn,Pn){return dn.ajax({url:_n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(Nn){dn.globalEval(Nn,Sn,Pn)}})},dn.fn.extend({wrapAll:function(_n){var Sn;return this[0]&&(nn(_n)&&(_n=_n.call(this[0])),Sn=dn(_n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&Sn.insertBefore(this[0]),Sn.map(function(){for(var Pn=this;Pn.firstElementChild;)Pn=Pn.firstElementChild;return Pn}).append(this)),this},wrapInner:function(_n){return nn(_n)?this.each(function(Sn){dn(this).wrapInner(_n.call(this,Sn))}):this.each(function(){var Sn=dn(this),Pn=Sn.contents();Pn.length?Pn.wrapAll(_n):Sn.append(_n)})},wrap:function(_n){var Sn=nn(_n);return this.each(function(Pn){dn(this).wrapAll(Sn?_n.call(this,Pn):_n)})},unwrap:function(_n){return this.parent(_n).not("body").each(function(){dn(this).replaceWith(this.childNodes)}),this}}),dn.expr.pseudos.hidden=function(_n){return!dn.expr.pseudos.visible(_n)},dn.expr.pseudos.visible=function(_n){return!!(_n.offsetWidth||_n.offsetHeight||_n.getClientRects().length)},dn.ajaxSettings.xhr=function(){try{return new Be.XMLHttpRequest}catch{}};var Is={0:200,1223:204},Ls=dn.ajaxSettings.xhr();rn.cors=!!Ls&&"withCredentials"in Ls,rn.ajax=Ls=!!Ls,dn.ajaxTransport(function(_n){var Sn,Pn;if(rn.cors||Ls&&!_n.crossDomain)return{send:function(Nn,qn){var Kn,ti=_n.xhr();if(ti.open(_n.type,_n.url,_n.async,_n.username,_n.password),_n.xhrFields)for(Kn in _n.xhrFields)ti[Kn]=_n.xhrFields[Kn];_n.mimeType&&ti.overrideMimeType&&ti.overrideMimeType(_n.mimeType),!_n.crossDomain&&!Nn["X-Requested-With"]&&(Nn["X-Requested-With"]="XMLHttpRequest");for(Kn in Nn)ti.setRequestHeader(Kn,Nn[Kn]);Sn=function(yi){return function(){Sn&&(Sn=Pn=ti.onload=ti.onerror=ti.onabort=ti.ontimeout=ti.onreadystatechange=null,yi==="abort"?ti.abort():yi==="error"?typeof ti.status!="number"?qn(0,"error"):qn(ti.status,ti.statusText):qn(Is[ti.status]||ti.status,ti.statusText,(ti.responseType||"text")!=="text"||typeof ti.responseText!="string"?{binary:ti.response}:{text:ti.responseText},ti.getAllResponseHeaders()))}},ti.onload=Sn(),Pn=ti.onerror=ti.ontimeout=Sn("error"),ti.onabort!==void 0?ti.onabort=Pn:ti.onreadystatechange=function(){ti.readyState===4&&Be.setTimeout(function(){Sn&&Pn()})},Sn=Sn("abort");try{ti.send(_n.hasContent&&_n.data||null)}catch(yi){if(Sn)throw yi}},abort:function(){Sn&&Sn()}}}),dn.ajaxPrefilter(function(_n){_n.crossDomain&&(_n.contents.script=!1)}),dn.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(_n){return dn.globalEval(_n),_n}}}),dn.ajaxPrefilter("script",function(_n){_n.cache===void 0&&(_n.cache=!1),_n.crossDomain&&(_n.type="GET")}),dn.ajaxTransport("script",function(_n){if(_n.crossDomain||_n.scriptAttrs){var Sn,Pn;return{send:function(Nn,qn){Sn=dn("<script>").attr(_n.scriptAttrs||{}).prop({charset:_n.scriptCharset,src:_n.url}).on("load error",Pn=function(Kn){Sn.remove(),Pn=null,Kn&&qn(Kn.type==="error"?404:200,Kn.type)}),cn.head.appendChild(Sn[0])},abort:function(){Pn&&Pn()}}}});var dc=[],bl=/(=)\?(?=&|$)|\?\?/;dn.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var _n=dc.pop()||dn.expando+"_"+fs.guid++;return this[_n]=!0,_n}}),dn.ajaxPrefilter("json jsonp",function(_n,Sn,Pn){var Nn,qn,Kn,ti=_n.jsonp!==!1&&(bl.test(_n.url)?"url":typeof _n.data=="string"&&(_n.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&bl.test(_n.data)&&"data");if(ti||_n.dataTypes[0]==="jsonp")return Nn=_n.jsonpCallback=nn(_n.jsonpCallback)?_n.jsonpCallback():_n.jsonpCallback,ti?_n[ti]=_n[ti].replace(bl,"$1"+Nn):_n.jsonp!==!1&&(_n.url+=(oa.test(_n.url)?"&":"?")+_n.jsonp+"="+Nn),_n.converters["script json"]=function(){return Kn||dn.error(Nn+" was not called"),Kn[0]},_n.dataTypes[0]="json",qn=Be[Nn],Be[Nn]=function(){Kn=arguments},Pn.always(function(){qn===void 0?dn(Be).removeProp(Nn):Be[Nn]=qn,_n[Nn]&&(_n.jsonpCallback=Sn.jsonpCallback,dc.push(Nn)),Kn&&nn(qn)&&qn(Kn[0]),Kn=qn=void 0}),"script"}),rn.createHTMLDocument=function(){var _n=cn.implementation.createHTMLDocument("").body;return _n.innerHTML="<form></form><form></form>",_n.childNodes.length===2}(),dn.parseHTML=function(_n,Sn,Pn){if(typeof _n!="string")return[];typeof Sn=="boolean"&&(Pn=Sn,Sn=!1);var Nn,qn,Kn;return Sn||(rn.createHTMLDocument?(Sn=cn.implementation.createHTMLDocument(""),Nn=Sn.createElement("base"),Nn.href=cn.location.href,Sn.head.appendChild(Nn)):Sn=cn),qn=Yn.exec(_n),Kn=!Pn&&[],qn?[Sn.createElement(qn[1])]:(qn=us([_n],Sn,Kn),Kn&&Kn.length&&dn(Kn).remove(),dn.merge([],qn.childNodes))},dn.fn.load=function(_n,Sn,Pn){var Nn,qn,Kn,ti=this,yi=_n.indexOf(" ");return yi>-1&&(Nn=ha(_n.slice(yi)),_n=_n.slice(0,yi)),nn(Sn)?(Pn=Sn,Sn=void 0):Sn&&typeof Sn=="object"&&(qn="POST"),ti.length>0&&dn.ajax({url:_n,type:qn||"GET",dataType:"html",data:Sn}).done(function(gi){Kn=arguments,ti.html(Nn?dn("<div>").append(dn.parseHTML(gi)).find(Nn):gi)}).always(Pn&&function(gi,Ei){ti.each(function(){Pn.apply(this,Kn||[gi.responseText,Ei,gi])})}),this},dn.expr.pseudos.animated=function(_n){return dn.grep(dn.timers,function(Sn){return _n===Sn.elem}).length},dn.offset={setOffset:function(_n,Sn,Pn){var Nn,qn,Kn,ti,yi,gi,Ei,ji=dn.css(_n,"position"),eo=dn(_n),$i={};ji==="static"&&(_n.style.position="relative"),yi=eo.offset(),Kn=dn.css(_n,"top"),gi=dn.css(_n,"left"),Ei=(ji==="absolute"||ji==="fixed")&&(Kn+gi).indexOf("auto")>-1,Ei?(Nn=eo.position(),ti=Nn.top,qn=Nn.left):(ti=parseFloat(Kn)||0,qn=parseFloat(gi)||0),nn(Sn)&&(Sn=Sn.call(_n,Pn,dn.extend({},yi))),Sn.top!=null&&($i.top=Sn.top-yi.top+ti),Sn.left!=null&&($i.left=Sn.left-yi.left+qn),"using"in Sn?Sn.using.call(_n,$i):eo.css($i)}},dn.fn.extend({offset:function(_n){if(arguments.length)return _n===void 0?this:this.each(function(qn){dn.offset.setOffset(this,_n,qn)});var Sn,Pn,Nn=this[0];if(Nn)return Nn.getClientRects().length?(Sn=Nn.getBoundingClientRect(),Pn=Nn.ownerDocument.defaultView,{top:Sn.top+Pn.pageYOffset,left:Sn.left+Pn.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var _n,Sn,Pn,Nn=this[0],qn={top:0,left:0};if(dn.css(Nn,"position")==="fixed")Sn=Nn.getBoundingClientRect();else{for(Sn=this.offset(),Pn=Nn.ownerDocument,_n=Nn.offsetParent||Pn.documentElement;_n&&(_n===Pn.body||_n===Pn.documentElement)&&dn.css(_n,"position")==="static";)_n=_n.parentNode;_n&&_n!==Nn&&_n.nodeType===1&&(qn=dn(_n).offset(),qn.top+=dn.css(_n,"borderTopWidth",!0),qn.left+=dn.css(_n,"borderLeftWidth",!0))}return{top:Sn.top-qn.top-dn.css(Nn,"marginTop",!0),left:Sn.left-qn.left-dn.css(Nn,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var _n=this.offsetParent;_n&&dn.css(_n,"position")==="static";)_n=_n.offsetParent;return _n||vo})}}),dn.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(_n,Sn){var Pn=Sn==="pageYOffset";dn.fn[_n]=function(Nn){return Ao(this,function(qn,Kn,ti){var yi;if(ln(qn)?yi=qn:qn.nodeType===9&&(yi=qn.defaultView),ti===void 0)return yi?yi[Sn]:qn[Kn];yi?yi.scrollTo(Pn?yi.pageXOffset:ti,Pn?ti:yi.pageYOffset):qn[Kn]=ti},_n,Nn,arguments.length)}}),dn.each(["top","left"],function(_n,Sn){dn.cssHooks[Sn]=qo(rn.pixelPosition,function(Pn,Nn){if(Nn)return Nn=na(Pn,Sn),ts.test(Nn)?dn(Pn).position()[Sn]+"px":Nn})}),dn.each({Height:"height",Width:"width"},function(_n,Sn){dn.each({padding:"inner"+_n,content:Sn,"":"outer"+_n},function(Pn,Nn){dn.fn[Nn]=function(qn,Kn){var ti=arguments.length&&(Pn||typeof qn!="boolean"),yi=Pn||(qn===!0||Kn===!0?"margin":"border");return Ao(this,function(gi,Ei,ji){var eo;return ln(gi)?Nn.indexOf("outer")===0?gi["inner"+_n]:gi.document.documentElement["client"+_n]:gi.nodeType===9?(eo=gi.documentElement,Math.max(gi.body["scroll"+_n],eo["scroll"+_n],gi.body["offset"+_n],eo["offset"+_n],eo["client"+_n])):ji===void 0?dn.css(gi,Ei,yi):dn.style(gi,Ei,ji,yi)},Sn,ti?qn:void 0,ti)}})}),dn.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(_n,Sn){dn.fn[Sn]=function(Pn){return this.on(Sn,Pn)}}),dn.fn.extend({bind:function(_n,Sn,Pn){return this.on(_n,null,Sn,Pn)},unbind:function(_n,Sn){return this.off(_n,null,Sn)},delegate:function(_n,Sn,Pn,Nn){return this.on(Sn,_n,Pn,Nn)},undelegate:function(_n,Sn,Pn){return arguments.length===1?this.off(_n,"**"):this.off(Sn,_n||"**",Pn)},hover:function(_n,Sn){return this.on("mouseenter",_n).on("mouseleave",Sn||_n)}}),dn.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(_n,Sn){dn.fn[Sn]=function(Pn,Nn){return arguments.length>0?this.on(Sn,null,Pn,Nn):this.trigger(Sn)}});var Sl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;dn.proxy=function(_n,Sn){var Pn,Nn,qn;if(typeof Sn=="string"&&(Pn=_n[Sn],Sn=_n,_n=Pn),!!nn(_n))return Nn=Br.call(arguments,2),qn=function(){return _n.apply(Sn||this,Nn.concat(Br.call(arguments)))},qn.guid=_n.guid=_n.guid||dn.guid++,qn},dn.holdReady=function(_n){_n?dn.readyWait++:dn.ready(!0)},dn.isArray=Array.isArray,dn.parseJSON=JSON.parse,dn.nodeName=xn,dn.isFunction=nn,dn.isWindow=ln,dn.camelCase=Ua,dn.type=bn,dn.now=Date.now,dn.isNumeric=function(_n){var Sn=dn.type(_n);return(Sn==="number"||Sn==="string")&&!isNaN(_n-parseFloat(_n))},dn.trim=function(_n){return _n==null?"":(_n+"").replace(Sl,"$1")};var jl=Be.jQuery,sl=Be.$;return dn.noConflict=function(_n){return Be.$===dn&&(Be.$=sl),_n&&Be.jQuery===dn&&(Be.jQuery=jl),dn},typeof Dr>"u"&&(Be.jQuery=Be.$=dn),dn})})(jquery);var jqueryExports=jquery.exports;const $$3=getDefaultExportFromCjs(jqueryExports);var intlTelInput$4={exports:{}};(function(_r){(function(Be){_r.exports?_r.exports=Be():window.intlTelInput=Be()})(function(Be){return function(){for(var Dr=[["Afghanistan (â«Ø§ÙØºØ§ÙØ³ØªØ§Ùâ¬â)","af","93"],["Albania (ShqipÃ«ri)","al","355"],["Algeria (â«Ø§ÙØ¬Ø²Ø§Ø¦Ø±â¬â)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (ÕÕ¡ÕµÕ¡Õ½Õ¿Õ¡Õ¶)","am","374"],["Aruba","aw","297"],["Ascension Island","ac","247"],["Australia","au","61",0],["Austria (Ãsterreich)","at","43"],["Azerbaijan (AzÉrbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (â«Ø§ÙØ¨Ø­Ø±ÙÙâ¬â)","bh","973"],["Bangladesh (à¦¬à¦¾à¦à¦²à¦¾à¦¦à§à¦¶)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (ÐÐµÐ»Ð°ÑÑÑÑ)","by","375"],["Belgium (BelgiÃ«)","be","32"],["Belize","bz","501"],["Benin (BÃ©nin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (à½ à½à¾²à½´à½)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (ÐÐ¾ÑÐ½Ð° Ð¸ Ð¥ÐµÑÑÐµÐ³Ð¾Ð²Ð¸Ð½Ð°)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (ÐÑÐ»Ð³Ð°ÑÐ¸Ñ)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (ááááá»áá¶)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","263","289","306","343","354","365","367","368","382","387","403","416","418","428","431","437","438","450","584","468","474","506","514","519","548","579","581","584","587","604","613","639","647","672","683","705","709","742","753","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (RÃ©publique centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (ä¸­å½)","cn","86"],["Christmas Island","cx","61",2,["89164"]],["Cocos (Keeling) Islands","cc","61",1,["89162"]],["Colombia","co","57"],["Comoros (â«Ø¬Ø²Ø± Ø§ÙÙÙØ±â¬â)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["CÃ´te dâIvoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["CuraÃ§ao","cw","599",0],["Cyprus (ÎÏÏÏÎ¿Ï)","cy","357"],["Czech Republic (ÄeskÃ¡ republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (RepÃºblica Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (â«ÙØµØ±â¬â)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Eswatini","sz","268"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (FÃ¸royar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane franÃ§aise)","gf","594"],["French Polynesia (PolynÃ©sie franÃ§aise)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (á¡áá¥áá ááááá)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (ÎÎ»Î»Î¬Î´Î±)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (GuinÃ©e)","gn","224"],["Guinea-Bissau (GuinÃ© Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (é¦æ¸¯)","hk","852"],["Hungary (MagyarorszÃ¡g)","hu","36"],["Iceland (Ãsland)","is","354"],["India (à¤­à¤¾à¤°à¤¤)","in","91"],["Indonesia","id","62"],["Iran (â«Ø§ÛØ±Ø§Ùâ¬â)","ir","98"],["Iraq (â«Ø§ÙØ¹Ø±Ø§Ùâ¬â)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (â«××©×¨××â¬â)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (æ¥æ¬)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (â«Ø§ÙØ£Ø±Ø¯Ùâ¬â)","jo","962"],["Kazakhstan (ÐÐ°Ð·Ð°ÑÑÑÐ°Ð½)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (â«Ø§ÙÙÙÙØªâ¬â)","kw","965"],["Kyrgyzstan (ÐÑÑÐ³ÑÐ·ÑÑÐ°Ð½)","kg","996"],["Laos (àº¥àº²àº§)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (â«ÙØ¨ÙØ§Ùâ¬â)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (â«ÙÙØ¨ÙØ§â¬â)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (æ¾³é)","mo","853"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (â«ÙÙØ±ÙØªØ§ÙÙØ§â¬â)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (MÃ©xico)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (ÐÐ¾Ð½Ð³Ð¾Ð»)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (â«Ø§ÙÙØºØ±Ø¨â¬â)","ma","212",0],["Mozambique (MoÃ§ambique)","mz","258"],["Myanmar (Burma) (áá¼ááºáá¬)","mm","95"],["Namibia (NamibiÃ«)","na","264"],["Nauru","nr","674"],["Nepal (à¤¨à¥à¤ªà¤¾à¤²)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-CalÃ©donie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (ì¡°ì  ë¯¼ì£¼ì£¼ì ì¸ë¯¼ ê³µíêµ­)","kp","850"],["North Macedonia (Ð¡ÐµÐ²ÐµÑÐ½Ð° ÐÐ°ÐºÐµÐ´Ð¾Ð½Ð¸ÑÐ°)","mk","389"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (â«Ø¹ÙÙØ§Ùâ¬â)","om","968"],["Pakistan (â«Ù¾Ø§Ú©Ø³ØªØ§Ùâ¬â)","pk","92"],["Palau","pw","680"],["Palestine (â«ÙÙØ³Ø·ÙÙâ¬â)","ps","970"],["Panama (PanamÃ¡)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (PerÃº)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (â«ÙØ·Ø±â¬â)","qa","974"],["RÃ©union (La RÃ©union)","re","262",0],["Romania (RomÃ¢nia)","ro","40"],["Russia (Ð Ð¾ÑÑÐ¸Ñ)","ru","7",0],["Rwanda","rw","250"],["Saint BarthÃ©lemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie franÃ§aise))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["SÃ£o TomÃ© and PrÃ­ncipe (SÃ£o TomÃ© e PrÃ­ncipe)","st","239"],["Saudi Arabia (â«Ø§ÙÙÙÙÙØ© Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙØ³Ø¹ÙØ¯ÙØ©â¬â)","sa","966"],["Senegal (SÃ©nÃ©gal)","sn","221"],["Serbia (Ð¡ÑÐ±Ð¸ÑÐ°)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (ëíë¯¼êµ­)","kr","82"],["South Sudan (â«Ø¬ÙÙØ¨ Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)","ss","211"],["Spain (EspaÃ±a)","es","34"],["Sri Lanka (à·à·âà¶»à· à¶½à¶à¶à·à·)","lk","94"],["Sudan (â«Ø§ÙØ³ÙØ¯Ø§Ùâ¬â)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (â«Ø³ÙØ±ÙØ§â¬â)","sy","963"],["Taiwan (å°ç£)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (à¹à¸à¸¢)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (â«ØªÙÙØ³â¬â)","tn","216"],["Turkey (TÃ¼rkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (Ð£ÐºÑÐ°ÑÐ½Ð°)","ua","380"],["United Arab Emirates (â«Ø§ÙØ¥ÙØ§Ø±Ø§Øª Ø§ÙØ¹Ø±Ø¨ÙØ© Ø§ÙÙØªØ­Ø¯Ø©â¬â)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (OÊ»zbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (CittÃ  del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Viá»t Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (â«Ø§ÙØµØ­Ø±Ø§Ø¡ Ø§ÙØºØ±Ø¨ÙØ©â¬â)","eh","212",1,["5288","5289"]],["Yemen (â«Ø§ÙÙÙÙâ¬â)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Ãland Islands","ax","358",1,["18"]]],Mr=0;Mr<Dr.length;Mr++){var $r=Dr[Mr];Dr[Mr]={name:$r[0],iso2:$r[1],dialCode:$r[2],priority:$r[3]||0,areaCodes:$r[4]||null}}function Br(bn){for(var An=1;An<arguments.length;An++){var vn=arguments[An]!=null?Object(arguments[An]):{},dn=Object.keys(vn);typeof Object.getOwnPropertySymbols=="function"&&dn.push.apply(dn,Object.getOwnPropertySymbols(vn).filter(function(wn){return Object.getOwnPropertyDescriptor(vn,wn).enumerable})),dn.forEach(function(wn){zr(bn,wn,vn[wn])})}return bn}function zr(bn,An,vn){return An=Wr(An),An in bn?Object.defineProperty(bn,An,{value:vn,enumerable:!0,configurable:!0,writable:!0}):bn[An]=vn,bn}function Vr(bn,An){if(!(bn instanceof An))throw new TypeError("Cannot call a class as a function")}function jr(bn,An){for(var vn=0;vn<An.length;vn++){var dn=An[vn];dn.enumerable=dn.enumerable||!1,dn.configurable=!0,"value"in dn&&(dn.writable=!0),Object.defineProperty(bn,Wr(dn.key),dn)}}function Gr(bn,An,vn){return An&&jr(bn.prototype,An),vn&&jr(bn,vn),Object.defineProperty(bn,"prototype",{writable:!1}),bn}function Wr(bn){var An=Kr(bn,"string");return typeof An=="symbol"?An:String(An)}function Kr(bn,An){if(typeof bn!="object"||bn===null)return bn;var vn=bn[Symbol.toPrimitive];if(vn!==Be){var dn=vn.call(bn,An||"default");if(typeof dn!="object")return dn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(An==="string"?String:Number)(bn)}var Zr={getInstance:function(An){var vn=An.getAttribute("data-intl-tel-input-id");return window.intlTelInputGlobals.instances[vn]},instances:{},documentReady:function(){return document.readyState==="complete"}};typeof window=="object"&&(window.intlTelInputGlobals=Zr);var Jr=0,rn={allowDropdown:!0,autoInsertDialCode:!1,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,showFlags:!0,utilsScript:""},nn=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"],ln=function(An,vn){for(var dn=Object.keys(An),wn=0;wn<dn.length;wn++)vn(dn[wn],An[dn[wn]])},cn=function(An){ln(window.intlTelInputGlobals.instances,function(vn){window.intlTelInputGlobals.instances[vn][An]()})},hn=function(){function bn(An,vn){var dn=this;Vr(this,bn),this.id=Jr++,this.telInput=An,this.activeItem=null,this.highlightedItem=null;var wn=vn||{};this.options={},ln(rn,function(xn,Mn){dn.options[xn]=wn.hasOwnProperty(xn)?wn[xn]:Mn}),this.hadInitialPlaceholder=!!An.getAttribute("placeholder")}return Gr(bn,[{key:"_init",value:function(){var vn=this;this.options.nationalMode&&(this.options.autoInsertDialCode=!1),this.options.separateDialCode&&(this.options.autoInsertDialCode=!1);var dn=this.options.allowDropdown&&!this.options.separateDialCode;if(!this.options.showFlags&&dn&&(this.options.showFlags=!0),this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobile&&(document.body.classList.add("iti-mobile"),this.options.dropdownContainer||(this.options.dropdownContainer=document.body)),this.isRTL=!!this.telInput.closest("[dir=rtl]"),typeof Promise<"u"){var wn=new Promise(function(Mn,In){vn.resolveAutoCountryPromise=Mn,vn.rejectAutoCountryPromise=In}),xn=new Promise(function(Mn,In){vn.resolveUtilsScriptPromise=Mn,vn.rejectUtilsScriptPromise=In});this.promise=Promise.all([wn,xn])}else this.resolveAutoCountryPromise=this.rejectAutoCountryPromise=function(){},this.resolveUtilsScriptPromise=this.rejectUtilsScriptPromise=function(){};this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}},{key:"_processCountryData",value:function(){this._processAllCountries(),this._processCountryCodes(),this._processPreferredCountries(),this.options.localizedCountries&&this._translateCountriesByLocale(),(this.options.onlyCountries.length||this.options.localizedCountries)&&this.countries.sort(this._countryNameSort)}},{key:"_addCountryCode",value:function(vn,dn,wn){dn.length>this.countryCodeMaxLen&&(this.countryCodeMaxLen=dn.length),this.countryCodes.hasOwnProperty(dn)||(this.countryCodes[dn]=[]);for(var xn=0;xn<this.countryCodes[dn].length;xn++)if(this.countryCodes[dn][xn]===vn)return;var Mn=wn!==Be?wn:this.countryCodes[dn].length;this.countryCodes[dn][Mn]=vn}},{key:"_processAllCountries",value:function(){if(this.options.onlyCountries.length){var vn=this.options.onlyCountries.map(function(wn){return wn.toLowerCase()});this.countries=Dr.filter(function(wn){return vn.indexOf(wn.iso2)>-1})}else if(this.options.excludeCountries.length){var dn=this.options.excludeCountries.map(function(wn){return wn.toLowerCase()});this.countries=Dr.filter(function(wn){return dn.indexOf(wn.iso2)===-1})}else this.countries=Dr}},{key:"_translateCountriesByLocale",value:function(){for(var vn=0;vn<this.countries.length;vn++){var dn=this.countries[vn].iso2.toLowerCase();this.options.localizedCountries.hasOwnProperty(dn)&&(this.countries[vn].name=this.options.localizedCountries[dn])}}},{key:"_countryNameSort",value:function(vn,dn){return vn.name<dn.name?-1:vn.name>dn.name?1:0}},{key:"_processCountryCodes",value:function(){this.countryCodeMaxLen=0,this.dialCodes={},this.countryCodes={};for(var vn=0;vn<this.countries.length;vn++){var dn=this.countries[vn];this.dialCodes[dn.dialCode]||(this.dialCodes[dn.dialCode]=!0),this._addCountryCode(dn.iso2,dn.dialCode,dn.priority)}for(var wn=0;wn<this.countries.length;wn++){var xn=this.countries[wn];if(xn.areaCodes)for(var Mn=this.countryCodes[xn.dialCode][0],In=0;In<xn.areaCodes.length;In++){for(var Hn=xn.areaCodes[In],$n=1;$n<Hn.length;$n++){var jn=xn.dialCode+Hn.substr(0,$n);this._addCountryCode(Mn,jn),this._addCountryCode(xn.iso2,jn)}this._addCountryCode(xn.iso2,xn.dialCode+Hn)}}}},{key:"_processPreferredCountries",value:function(){this.preferredCountries=[];for(var vn=0;vn<this.options.preferredCountries.length;vn++){var dn=this.options.preferredCountries[vn].toLowerCase(),wn=this._getCountryData(dn,!1,!0);wn&&this.preferredCountries.push(wn)}}},{key:"_createEl",value:function(vn,dn,wn){var xn=document.createElement(vn);return dn&&ln(dn,function(Mn,In){return xn.setAttribute(Mn,In)}),wn&&wn.appendChild(xn),xn}},{key:"_generateMarkup",value:function(){!this.telInput.hasAttribute("autocomplete")&&!(this.telInput.form&&this.telInput.form.hasAttribute("autocomplete"))&&this.telInput.setAttribute("autocomplete","off");var vn=this.options,dn=vn.allowDropdown,wn=vn.separateDialCode,xn=vn.showFlags,Mn=vn.customContainer,In=vn.hiddenInput,Hn=vn.dropdownContainer,$n="iti";dn&&($n+=" iti--allow-dropdown"),wn&&($n+=" iti--separate-dial-code"),xn&&($n+=" iti--show-flags"),Mn&&($n+=" ".concat(Mn));var jn=this._createEl("div",{class:$n});this.telInput.parentNode.insertBefore(jn,this.telInput);var Bn=dn||xn||wn;if(Bn&&(this.flagsContainer=this._createEl("div",{class:"iti__flag-container"},jn)),jn.appendChild(this.telInput),Bn&&(this.selectedFlag=this._createEl("div",Br({class:"iti__selected-flag"},dn&&{role:"combobox","aria-haspopup":"listbox","aria-controls":"iti-".concat(this.id,"__country-listbox"),"aria-expanded":"false","aria-label":"Telephone country code"}),this.flagsContainer)),xn&&(this.selectedFlagInner=this._createEl("div",{class:"iti__flag"},this.selectedFlag)),this.selectedFlag&&this.telInput.disabled&&this.selectedFlag.setAttribute("aria-disabled","true"),wn&&(this.selectedDialCode=this._createEl("div",{class:"iti__selected-dial-code"},this.selectedFlag)),dn&&(this.telInput.disabled||this.selectedFlag.setAttribute("tabindex","0"),this.dropdownArrow=this._createEl("div",{class:"iti__arrow"},this.selectedFlag),this.countryList=this._createEl("ul",{class:"iti__country-list iti__hide",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox","aria-label":"List of countries"}),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"iti__preferred",!0),this._createEl("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.countryList)),this._appendListItems(this.countries,"iti__standard"),Hn?(this.dropdown=this._createEl("div",{class:"iti iti--container"}),this.dropdown.appendChild(this.countryList)):this.flagsContainer.appendChild(this.countryList)),In){var Gn=In,ei=this.telInput.getAttribute("name");if(ei){var ri=ei.lastIndexOf("[");ri!==-1&&(Gn="".concat(ei.substr(0,ri),"[").concat(Gn,"]"))}this.hiddenInput=this._createEl("input",{type:"hidden",name:Gn}),jn.appendChild(this.hiddenInput)}}},{key:"_appendListItems",value:function(vn,dn,wn){for(var xn="",Mn=0;Mn<vn.length;Mn++){var In=vn[Mn],Hn=wn?"-preferred":"";xn+="<li class='iti__country ".concat(dn,"' tabIndex='-1' id='iti-").concat(this.id,"__item-").concat(In.iso2).concat(Hn,"' role='option' data-dial-code='").concat(In.dialCode,"' data-country-code='").concat(In.iso2,"' aria-selected='false'>"),this.options.showFlags&&(xn+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(In.iso2,"'></div></div>")),xn+="<span class='iti__country-name'>".concat(In.name,"</span>"),xn+="<span class='iti__dial-code'>+".concat(In.dialCode,"</span>"),xn+="</li>"}this.countryList.insertAdjacentHTML("beforeend",xn)}},{key:"_setInitialState",value:function(){var vn=this.telInput.getAttribute("value"),dn=this.telInput.value,wn=vn&&vn.charAt(0)==="+"&&(!dn||dn.charAt(0)!=="+"),xn=wn?vn:dn,Mn=this._getDialCode(xn),In=this._isRegionlessNanp(xn),Hn=this.options,$n=Hn.initialCountry,jn=Hn.autoInsertDialCode;Mn&&!In?this._updateFlagFromNumber(xn):$n!=="auto"&&($n?this._setFlag($n.toLowerCase()):Mn&&In?this._setFlag("us"):(this.defaultCountry=this.preferredCountries.length?this.preferredCountries[0].iso2:this.countries[0].iso2,xn||this._setFlag(this.defaultCountry)),!xn&&jn&&(this.telInput.value="+".concat(this.selectedCountryData.dialCode))),xn&&this._updateValFromNumber(xn)}},{key:"_initListeners",value:function(){this._initKeyListeners(),this.options.autoInsertDialCode&&this._initBlurListeners(),this.options.allowDropdown&&this._initDropdownListeners(),this.hiddenInput&&this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function(){var vn=this;this._handleHiddenInputSubmit=function(){vn.hiddenInput.value=vn.getNumber()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_getClosestLabel",value:function(){for(var vn=this.telInput;vn&&vn.tagName!=="LABEL";)vn=vn.parentNode;return vn}},{key:"_initDropdownListeners",value:function(){var vn=this;this._handleLabelClick=function(wn){vn.countryList.classList.contains("iti__hide")?vn.telInput.focus():wn.preventDefault()};var dn=this._getClosestLabel();dn&&dn.addEventListener("click",this._handleLabelClick),this._handleClickSelectedFlag=function(){vn.countryList.classList.contains("iti__hide")&&!vn.telInput.disabled&&!vn.telInput.readOnly&&vn._showDropdown()},this.selectedFlag.addEventListener("click",this._handleClickSelectedFlag),this._handleFlagsContainerKeydown=function(wn){var xn=vn.countryList.classList.contains("iti__hide");xn&&["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(wn.key)!==-1&&(wn.preventDefault(),wn.stopPropagation(),vn._showDropdown()),wn.key==="Tab"&&vn._closeDropdown()},this.flagsContainer.addEventListener("keydown",this._handleFlagsContainerKeydown)}},{key:"_initRequests",value:function(){var vn=this;this.options.utilsScript&&!window.intlTelInputUtils?window.intlTelInputGlobals.documentReady()?window.intlTelInputGlobals.loadUtils(this.options.utilsScript):window.addEventListener("load",function(){window.intlTelInputGlobals.loadUtils(vn.options.utilsScript)}):this.resolveUtilsScriptPromise(),this.options.initialCountry==="auto"?this._loadAutoCountry():this.resolveAutoCountryPromise()}},{key:"_loadAutoCountry",value:function(){window.intlTelInputGlobals.autoCountry?this.handleAutoCountry():window.intlTelInputGlobals.startedLoadingAutoCountry||(window.intlTelInputGlobals.startedLoadingAutoCountry=!0,typeof this.options.geoIpLookup=="function"&&this.options.geoIpLookup(function(vn){window.intlTelInputGlobals.autoCountry=vn.toLowerCase(),setTimeout(function(){return cn("handleAutoCountry")})},function(){return cn("rejectAutoCountryPromise")}))}},{key:"_initKeyListeners",value:function(){var vn=this;this._handleKeyupEvent=function(){vn._updateFlagFromNumber(vn.telInput.value)&&vn._triggerCountryChange()},this.telInput.addEventListener("keyup",this._handleKeyupEvent),this._handleClipboardEvent=function(){setTimeout(vn._handleKeyupEvent)},this.telInput.addEventListener("cut",this._handleClipboardEvent),this.telInput.addEventListener("paste",this._handleClipboardEvent)}},{key:"_cap",value:function(vn){var dn=this.telInput.getAttribute("maxlength");return dn&&vn.length>dn?vn.substr(0,dn):vn}},{key:"_initBlurListeners",value:function(){var vn=this;this._handleSubmitOrBlurEvent=function(){vn._removeEmptyDialCode()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.addEventListener("blur",this._handleSubmitOrBlurEvent)}},{key:"_removeEmptyDialCode",value:function(){if(this.telInput.value.charAt(0)==="+"){var vn=this._getNumeric(this.telInput.value);(!vn||this.selectedCountryData.dialCode===vn)&&(this.telInput.value="")}}},{key:"_getNumeric",value:function(vn){return vn.replace(/\D/g,"")}},{key:"_trigger",value:function(vn){var dn=document.createEvent("Event");dn.initEvent(vn,!0,!0),this.telInput.dispatchEvent(dn)}},{key:"_showDropdown",value:function(){this.countryList.classList.remove("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","true"),this._setDropdownPosition(),this.activeItem&&(this._highlightListItem(this.activeItem,!1),this._scrollTo(this.activeItem,!0)),this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}},{key:"_toggleClass",value:function(vn,dn,wn){wn&&!vn.classList.contains(dn)?vn.classList.add(dn):!wn&&vn.classList.contains(dn)&&vn.classList.remove(dn)}},{key:"_setDropdownPosition",value:function(){var vn=this;if(this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),!this.isMobile){var dn=this.telInput.getBoundingClientRect(),wn=window.pageYOffset||document.documentElement.scrollTop,xn=dn.top+wn,Mn=this.countryList.offsetHeight,In=xn+this.telInput.offsetHeight+Mn<wn+window.innerHeight,Hn=xn-Mn>wn;if(this._toggleClass(this.countryList,"iti__country-list--dropup",!In&&Hn),this.options.dropdownContainer){var $n=!In&&Hn?0:this.telInput.offsetHeight;this.dropdown.style.top="".concat(xn+$n,"px"),this.dropdown.style.left="".concat(dn.left+document.body.scrollLeft,"px"),this._handleWindowScroll=function(){return vn._closeDropdown()},window.addEventListener("scroll",this._handleWindowScroll)}}}},{key:"_getClosestListItem",value:function(vn){for(var dn=vn;dn&&dn!==this.countryList&&!dn.classList.contains("iti__country");)dn=dn.parentNode;return dn===this.countryList?null:dn}},{key:"_bindDropdownListeners",value:function(){var vn=this;this._handleMouseoverCountryList=function(Mn){var In=vn._getClosestListItem(Mn.target);In&&vn._highlightListItem(In,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=function(Mn){var In=vn._getClosestListItem(Mn.target);In&&vn._selectListItem(In)},this.countryList.addEventListener("click",this._handleClickCountryList);var dn=!0;this._handleClickOffToClose=function(){dn||vn._closeDropdown(),dn=!1},document.documentElement.addEventListener("click",this._handleClickOffToClose);var wn="",xn=null;this._handleKeydownOnDropdown=function(Mn){Mn.preventDefault(),Mn.key==="ArrowUp"||Mn.key==="Up"||Mn.key==="ArrowDown"||Mn.key==="Down"?vn._handleUpDownKey(Mn.key):Mn.key==="Enter"?vn._handleEnterKey():Mn.key==="Escape"?vn._closeDropdown():/^[a-zA-ZÃ-Ã¿Ð°-ÑÐ-Ð¯ ]$/.test(Mn.key)&&(xn&&clearTimeout(xn),wn+=Mn.key.toLowerCase(),vn._searchForCountry(wn),xn=setTimeout(function(){wn=""},1e3))},document.addEventListener("keydown",this._handleKeydownOnDropdown)}},{key:"_handleUpDownKey",value:function(vn){var dn=vn==="ArrowUp"||vn==="Up"?this.highlightedItem.previousElementSibling:this.highlightedItem.nextElementSibling;dn&&(dn.classList.contains("iti__divider")&&(dn=vn==="ArrowUp"||vn==="Up"?dn.previousElementSibling:dn.nextElementSibling),this._highlightListItem(dn,!0))}},{key:"_handleEnterKey",value:function(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function(vn){for(var dn=0;dn<this.countries.length;dn++)if(this._startsWith(this.countries[dn].name,vn)){var wn=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(this.countries[dn].iso2));this._highlightListItem(wn,!1),this._scrollTo(wn,!0);break}}},{key:"_startsWith",value:function(vn,dn){return vn.substr(0,dn.length).toLowerCase()===dn}},{key:"_updateValFromNumber",value:function(vn){var dn=vn;if(this.options.formatOnDisplay&&window.intlTelInputUtils&&this.selectedCountryData){var wn=this.options.nationalMode||dn.charAt(0)!=="+"&&!this.options.separateDialCode,xn=intlTelInputUtils.numberFormat,Mn=xn.NATIONAL,In=xn.INTERNATIONAL,Hn=wn?Mn:In;dn=intlTelInputUtils.formatNumber(dn,this.selectedCountryData.iso2,Hn)}dn=this._beforeSetNumber(dn),this.telInput.value=dn}},{key:"_updateFlagFromNumber",value:function(vn){var dn=vn,wn=this.selectedCountryData.dialCode,xn=wn==="1";dn&&xn&&dn.charAt(0)!=="+"&&(dn.charAt(0)!=="1"&&(dn="1".concat(dn)),dn="+".concat(dn)),this.options.separateDialCode&&wn&&dn.charAt(0)!=="+"&&(dn="+".concat(wn).concat(dn));var Mn=this._getDialCode(dn,!0),In=this._getNumeric(dn),Hn=null;if(Mn){var $n=this.countryCodes[this._getNumeric(Mn)],jn=$n.indexOf(this.selectedCountryData.iso2)!==-1&&In.length<=Mn.length-1,Bn=wn==="1"&&this._isRegionlessNanp(In);if(!Bn&&!jn){for(var Gn=0;Gn<$n.length;Gn++)if($n[Gn]){Hn=$n[Gn];break}}}else dn.charAt(0)==="+"&&In.length?Hn="":(!dn||dn==="+")&&(Hn=this.defaultCountry);return Hn!==null?this._setFlag(Hn):!1}},{key:"_isRegionlessNanp",value:function(vn){var dn=this._getNumeric(vn);if(dn.charAt(0)==="1"){var wn=dn.substr(1,3);return nn.indexOf(wn)!==-1}return!1}},{key:"_highlightListItem",value:function(vn,dn){var wn=this.highlightedItem;wn&&wn.classList.remove("iti__highlight"),this.highlightedItem=vn,this.highlightedItem.classList.add("iti__highlight"),this.selectedFlag.setAttribute("aria-activedescendant",vn.getAttribute("id")),dn&&this.highlightedItem.focus()}},{key:"_getCountryData",value:function(vn,dn,wn){for(var xn=dn?Dr:this.countries,Mn=0;Mn<xn.length;Mn++)if(xn[Mn].iso2===vn)return xn[Mn];if(wn)return null;throw new Error("No country data for '".concat(vn,"'"))}},{key:"_setFlag",value:function(vn){var dn=this.options,wn=dn.allowDropdown,xn=dn.separateDialCode,Mn=dn.showFlags,In=this.selectedCountryData.iso2?this.selectedCountryData:{};if(this.selectedCountryData=vn?this._getCountryData(vn,!1,!1):{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),Mn&&this.selectedFlagInner.setAttribute("class","iti__flag iti__".concat(vn)),this._setSelectedCountryFlagTitleAttribute(vn,xn),xn){var Hn=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"";this.selectedDialCode.innerHTML=Hn;var $n=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.isRTL?this.telInput.style.paddingRight="".concat($n+6,"px"):this.telInput.style.paddingLeft="".concat($n+6,"px")}if(this._updatePlaceholder(),wn){var jn=this.activeItem;if(jn&&(jn.classList.remove("iti__active"),jn.setAttribute("aria-selected","false")),vn){var Bn=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(vn,"-preferred"))||this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(vn));Bn.setAttribute("aria-selected","true"),Bn.classList.add("iti__active"),this.activeItem=Bn}}return In.iso2!==vn}},{key:"_setSelectedCountryFlagTitleAttribute",value:function(vn,dn){if(this.selectedFlag){var wn;vn&&!dn?wn="".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):vn?wn=this.selectedCountryData.name:wn="Unknown",this.selectedFlag.setAttribute("title",wn)}}},{key:"_getHiddenSelectedFlagWidth",value:function(){var vn=this.telInput.parentNode.cloneNode();vn.style.visibility="hidden",document.body.appendChild(vn);var dn=this.flagsContainer.cloneNode();vn.appendChild(dn);var wn=this.selectedFlag.cloneNode(!0);dn.appendChild(wn);var xn=wn.offsetWidth;return vn.parentNode.removeChild(vn),xn}},{key:"_updatePlaceholder",value:function(){var vn=this.options.autoPlaceholder==="aggressive"||!this.hadInitialPlaceholder&&this.options.autoPlaceholder==="polite";if(window.intlTelInputUtils&&vn){var dn=intlTelInputUtils.numberType[this.options.placeholderNumberType],wn=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,dn):"";wn=this._beforeSetNumber(wn),typeof this.options.customPlaceholder=="function"&&(wn=this.options.customPlaceholder(wn,this.selectedCountryData)),this.telInput.setAttribute("placeholder",wn)}}},{key:"_selectListItem",value:function(vn){var dn=this._setFlag(vn.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(vn.getAttribute("data-dial-code")),this.telInput.focus();var wn=this.telInput.value.length;this.telInput.setSelectionRange(wn,wn),dn&&this._triggerCountryChange()}},{key:"_closeDropdown",value:function(){this.countryList.classList.add("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","false"),this.selectedFlag.removeAttribute("aria-activedescendant"),this.dropdownArrow.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._handleKeydownOnDropdown),document.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.isMobile||window.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function(vn,dn){var wn=this.countryList,xn=window.pageYOffset||document.documentElement.scrollTop,Mn=wn.offsetHeight,In=wn.getBoundingClientRect().top+xn,Hn=In+Mn,$n=vn.offsetHeight,jn=vn.getBoundingClientRect().top+xn,Bn=jn+$n,Gn=jn-In+wn.scrollTop,ei=Mn/2-$n/2;if(jn<In)dn&&(Gn-=ei),wn.scrollTop=Gn;else if(Bn>Hn){dn&&(Gn+=ei);var ri=Mn-$n;wn.scrollTop=Gn-ri}}},{key:"_updateDialCode",value:function(vn){var dn=this.telInput.value,wn="+".concat(vn),xn;if(dn.charAt(0)==="+"){var Mn=this._getDialCode(dn);Mn?xn=dn.replace(Mn,wn):xn=wn,this.telInput.value=xn}else this.options.autoInsertDialCode&&(dn?xn=wn+dn:xn=wn,this.telInput.value=xn)}},{key:"_getDialCode",value:function(vn,dn){var wn="";if(vn.charAt(0)==="+")for(var xn="",Mn=0;Mn<vn.length;Mn++){var In=vn.charAt(Mn);if(!isNaN(parseInt(In,10))){if(xn+=In,dn)this.countryCodes[xn]&&(wn=vn.substr(0,Mn+1));else if(this.dialCodes[xn]){wn=vn.substr(0,Mn+1);break}if(xn.length===this.countryCodeMaxLen)break}}return wn}},{key:"_getFullNumber",value:function(){var vn=this.telInput.value.trim(),dn=this.selectedCountryData.dialCode,wn,xn=this._getNumeric(vn);return this.options.separateDialCode&&vn.charAt(0)!=="+"&&dn&&xn?wn="+".concat(dn):wn="",wn+vn}},{key:"_beforeSetNumber",value:function(vn){var dn=vn;if(this.options.separateDialCode){var wn=this._getDialCode(dn);if(wn){wn="+".concat(this.selectedCountryData.dialCode);var xn=dn[wn.length]===" "||dn[wn.length]==="-"?wn.length+1:wn.length;dn=dn.substr(xn)}}return this._cap(dn)}},{key:"_triggerCountryChange",value:function(){this._trigger("countrychange")}},{key:"handleAutoCountry",value:function(){this.options.initialCountry==="auto"&&(this.defaultCountry=window.intlTelInputGlobals.autoCountry,this.telInput.value||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}},{key:"handleUtils",value:function(){window.intlTelInputUtils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this._updatePlaceholder()),this.resolveUtilsScriptPromise()}},{key:"destroy",value:function(){var vn=this.telInput.form;if(this.options.allowDropdown){this._closeDropdown(),this.selectedFlag.removeEventListener("click",this._handleClickSelectedFlag),this.flagsContainer.removeEventListener("keydown",this._handleFlagsContainerKeydown);var dn=this._getClosestLabel();dn&&dn.removeEventListener("click",this._handleLabelClick)}this.hiddenInput&&vn&&vn.removeEventListener("submit",this._handleHiddenInputSubmit),this.options.autoInsertDialCode&&(vn&&vn.removeEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.removeEventListener("blur",this._handleSubmitOrBlurEvent)),this.telInput.removeEventListener("keyup",this._handleKeyupEvent),this.telInput.removeEventListener("cut",this._handleClipboardEvent),this.telInput.removeEventListener("paste",this._handleClipboardEvent),this.telInput.removeAttribute("data-intl-tel-input-id");var wn=this.telInput.parentNode;wn.parentNode.insertBefore(this.telInput,wn),wn.parentNode.removeChild(wn),delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}},{key:"getNumber",value:function(vn){if(window.intlTelInputUtils){var dn=this.selectedCountryData.iso2;return intlTelInputUtils.formatNumber(this._getFullNumber(),dn,vn)}return""}},{key:"getNumberType",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.selectedCountryData}},{key:"getValidationError",value:function(){if(window.intlTelInputUtils){var vn=this.selectedCountryData.iso2;return intlTelInputUtils.getValidationError(this._getFullNumber(),vn)}return-99}},{key:"isValidNumber",value:function(){var vn=this._getFullNumber().trim();return window.intlTelInputUtils?intlTelInputUtils.isValidNumber(vn,this.selectedCountryData.iso2):null}},{key:"isPossibleNumber",value:function(){var vn=this._getFullNumber().trim();return window.intlTelInputUtils?intlTelInputUtils.isPossibleNumber(vn,this.selectedCountryData.iso2):null}},{key:"setCountry",value:function(vn){var dn=vn.toLowerCase();this.selectedCountryData.iso2!==dn&&(this._setFlag(dn),this._updateDialCode(this.selectedCountryData.dialCode),this._triggerCountryChange())}},{key:"setNumber",value:function(vn){var dn=this._updateFlagFromNumber(vn);this._updateValFromNumber(vn),dn&&this._triggerCountryChange()}},{key:"setPlaceholderNumberType",value:function(vn){this.options.placeholderNumberType=vn,this._updatePlaceholder()}}]),bn}();Zr.getCountryData=function(){return Dr};var mn=function(An,vn,dn){var wn=document.createElement("script");wn.onload=function(){cn("handleUtils"),vn&&vn()},wn.onerror=function(){cn("rejectUtilsScriptPromise"),dn&&dn()},wn.className="iti-load-utils",wn.async=!0,wn.src=An,document.body.appendChild(wn)};return Zr.loadUtils=function(bn){if(!window.intlTelInputUtils&&!window.intlTelInputGlobals.startedLoadingUtilsScript){if(window.intlTelInputGlobals.startedLoadingUtilsScript=!0,typeof Promise<"u")return new Promise(function(An,vn){return mn(bn,An,vn)});mn(bn)}return null},Zr.defaults=rn,Zr.version="18.2.1",function(bn,An){var vn=new hn(bn,An);return vn._init(),bn.setAttribute("data-intl-tel-input-id",vn.id),window.intlTelInputGlobals.instances[vn.id]=vn,vn}}()})})(intlTelInput$4);var intlTelInputExports=intlTelInput$4.exports,intlTelInput$2=intlTelInputExports;const intlTelInput$3=getDefaultExportFromCjs(intlTelInput$2);var Events=function(){function _r(Be,Dr){Dr===void 0&&(Dr=[]),this._eventType=Be,this._eventFunctions=Dr}return _r.prototype.init=function(){var Be=this;this._eventFunctions.forEach(function(Dr){typeof window<"u"&&window.addEventListener(Be._eventType,Dr)})},_r}(),__assign$a=globalThis&&globalThis.__assign||function(){return __assign$a=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$a.apply(this,arguments)},Default$a={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},Accordion=function(){function _r(Be,Dr){Be===void 0&&(Be=[]),Dr===void 0&&(Dr=Default$a),this._items=Be,this._options=__assign$a(__assign$a({},Default$a),Dr),this._init()}return _r.prototype._init=function(){var Be=this;this._items.length&&this._items.map(function(Dr){Dr.active&&Be.open(Dr.id),Dr.triggerEl.addEventListener("click",function(){Be.toggle(Dr.id)})})},_r.prototype.getItem=function(Be){return this._items.filter(function(Dr){return Dr.id===Be})[0]},_r.prototype.open=function(Be){var Dr,Mr,$r=this,Br=this.getItem(Be);this._options.alwaysOpen||this._items.map(function(zr){var Vr,jr;zr!==Br&&((Vr=zr.triggerEl.classList).remove.apply(Vr,$r._options.activeClasses.split(" ")),(jr=zr.triggerEl.classList).add.apply(jr,$r._options.inactiveClasses.split(" ")),zr.targetEl.classList.add("hidden"),zr.triggerEl.setAttribute("aria-expanded","false"),zr.active=!1,zr.iconEl&&zr.iconEl.classList.remove("rotate-180"))}),(Dr=Br.triggerEl.classList).add.apply(Dr,this._options.activeClasses.split(" ")),(Mr=Br.triggerEl.classList).remove.apply(Mr,this._options.inactiveClasses.split(" ")),Br.triggerEl.setAttribute("aria-expanded","true"),Br.targetEl.classList.remove("hidden"),Br.active=!0,Br.iconEl&&Br.iconEl.classList.add("rotate-180"),this._options.onOpen(this,Br)},_r.prototype.toggle=function(Be){var Dr=this.getItem(Be);Dr.active?this.close(Be):this.open(Be),this._options.onToggle(this,Dr)},_r.prototype.close=function(Be){var Dr,Mr,$r=this.getItem(Be);(Dr=$r.triggerEl.classList).remove.apply(Dr,this._options.activeClasses.split(" ")),(Mr=$r.triggerEl.classList).add.apply(Mr,this._options.inactiveClasses.split(" ")),$r.targetEl.classList.add("hidden"),$r.triggerEl.setAttribute("aria-expanded","false"),$r.active=!1,$r.iconEl&&$r.iconEl.classList.remove("rotate-180"),this._options.onClose(this,$r)},_r}();function initAccordions(){document.querySelectorAll("[data-accordion]").forEach(function(_r){var Be=_r.getAttribute("data-accordion"),Dr=_r.getAttribute("data-active-classes"),Mr=_r.getAttribute("data-inactive-classes"),$r=[];_r.querySelectorAll("[data-accordion-target]").forEach(function(Br){if(Br.closest("[data-accordion]")===_r){var zr={id:Br.getAttribute("data-accordion-target"),triggerEl:Br,targetEl:document.querySelector(Br.getAttribute("data-accordion-target")),iconEl:Br.querySelector("[data-accordion-icon]"),active:Br.getAttribute("aria-expanded")==="true"};$r.push(zr)}}),new Accordion($r,{alwaysOpen:Be==="open",activeClasses:Dr||Default$a.activeClasses,inactiveClasses:Mr||Default$a.inactiveClasses})})}typeof window<"u"&&(window.Accordion=Accordion,window.initAccordions=initAccordions);var __assign$9=globalThis&&globalThis.__assign||function(){return __assign$9=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$9.apply(this,arguments)},Default$9={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},Collapse=function(){function _r(Be,Dr,Mr){Be===void 0&&(Be=null),Dr===void 0&&(Dr=null),Mr===void 0&&(Mr=Default$9),this._targetEl=Be,this._triggerEl=Dr,this._options=__assign$9(__assign$9({},Default$9),Mr),this._visible=!1,this._init()}return _r.prototype._init=function(){var Be=this;this._triggerEl&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._triggerEl.addEventListener("click",function(){Be.toggle()}))},_r.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},_r.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},_r.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},_r}();function initCollapses(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(_r){var Be=_r.getAttribute("data-collapse-toggle"),Dr=document.getElementById(Be);Dr?new Collapse(Dr,_r):console.error('The target element with id "'.concat(Be,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=Collapse,window.initCollapses=initCollapses);var __assign$8=globalThis&&globalThis.__assign||function(){return __assign$8=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$8.apply(this,arguments)},Default$8={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},Carousel=function(){function _r(Be,Dr){Be===void 0&&(Be=[]),Dr===void 0&&(Dr=Default$8),this._items=Be,this._options=__assign$8(__assign$8(__assign$8({},Default$8),Dr),{indicators:__assign$8(__assign$8({},Default$8.indicators),Dr.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._init()}return _r.prototype._init=function(){var Be=this;this._items.map(function(Dr){Dr.el.classList.add("absolute","inset-0","transition-transform","transform")}),this._getActiveItem()?this.slideTo(this._getActiveItem().position):this.slideTo(0),this._indicators.map(function(Dr,Mr){Dr.el.addEventListener("click",function(){Be.slideTo(Mr)})})},_r.prototype.getItem=function(Be){return this._items[Be]},_r.prototype.slideTo=function(Be){var Dr=this._items[Be],Mr={left:Dr.position===0?this._items[this._items.length-1]:this._items[Dr.position-1],middle:Dr,right:Dr.position===this._items.length-1?this._items[0]:this._items[Dr.position+1]};this._rotate(Mr),this._setActiveItem(Dr),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},_r.prototype.next=function(){var Be=this._getActiveItem(),Dr=null;Be.position===this._items.length-1?Dr=this._items[0]:Dr=this._items[Be.position+1],this.slideTo(Dr.position),this._options.onNext(this)},_r.prototype.prev=function(){var Be=this._getActiveItem(),Dr=null;Be.position===0?Dr=this._items[this._items.length-1]:Dr=this._items[Be.position-1],this.slideTo(Dr.position),this._options.onPrev(this)},_r.prototype._rotate=function(Be){this._items.map(function(Dr){Dr.el.classList.add("hidden")}),Be.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),Be.left.el.classList.add("-translate-x-full","z-10"),Be.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),Be.middle.el.classList.add("translate-x-0","z-20"),Be.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),Be.right.el.classList.add("translate-x-full","z-10")},_r.prototype.cycle=function(){var Be=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){Be.next()},this._intervalDuration))},_r.prototype.pause=function(){clearInterval(this._intervalInstance)},_r.prototype._getActiveItem=function(){return this._activeItem},_r.prototype._setActiveItem=function(Be){var Dr,Mr,$r=this;this._activeItem=Be;var Br=Be.position;this._indicators.length&&(this._indicators.map(function(zr){var Vr,jr;zr.el.setAttribute("aria-current","false"),(Vr=zr.el.classList).remove.apply(Vr,$r._options.indicators.activeClasses.split(" ")),(jr=zr.el.classList).add.apply(jr,$r._options.indicators.inactiveClasses.split(" "))}),(Dr=this._indicators[Br].el.classList).add.apply(Dr,this._options.indicators.activeClasses.split(" ")),(Mr=this._indicators[Br].el.classList).remove.apply(Mr,this._options.indicators.inactiveClasses.split(" ")),this._indicators[Br].el.setAttribute("aria-current","true"))},_r}();function initCarousels(){document.querySelectorAll("[data-carousel]").forEach(function(_r){var Be=_r.getAttribute("data-carousel-interval"),Dr=_r.getAttribute("data-carousel")==="slide",Mr=[],$r=0;_r.querySelectorAll("[data-carousel-item]").length&&Array.from(_r.querySelectorAll("[data-carousel-item]")).map(function(Gr,Wr){Mr.push({position:Wr,el:Gr}),Gr.getAttribute("data-carousel-item")==="active"&&($r=Wr)});var Br=[];_r.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(_r.querySelectorAll("[data-carousel-slide-to]")).map(function(Gr){Br.push({position:parseInt(Gr.getAttribute("data-carousel-slide-to")),el:Gr})});var zr=new Carousel(Mr,{defaultPosition:$r,indicators:{items:Br},interval:Be||Default$8.interval});Dr&&zr.cycle();var Vr=_r.querySelector("[data-carousel-next]"),jr=_r.querySelector("[data-carousel-prev]");Vr&&Vr.addEventListener("click",function(){zr.next()}),jr&&jr.addEventListener("click",function(){zr.prev()})})}typeof window<"u"&&(window.Carousel=Carousel,window.initCarousels=initCarousels);var __assign$7=globalThis&&globalThis.__assign||function(){return __assign$7=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$7.apply(this,arguments)},Default$7={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},Dismiss=function(){function _r(Be,Dr,Mr){Be===void 0&&(Be=null),Dr===void 0&&(Dr=null),Mr===void 0&&(Mr=Default$7),this._targetEl=Be,this._triggerEl=Dr,this._options=__assign$7(__assign$7({},Default$7),Mr),this._init()}return _r.prototype._init=function(){var Be=this;this._triggerEl&&this._triggerEl.addEventListener("click",function(){Be.hide()})},_r.prototype.hide=function(){var Be=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){Be._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},_r}();function initDismisses(){document.querySelectorAll("[data-dismiss-target]").forEach(function(_r){var Be=_r.getAttribute("data-dismiss-target"),Dr=document.querySelector(Be);Dr?new Dismiss(Dr,_r):console.error('The dismiss element with id "'.concat(Be,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=Dismiss,window.initDismisses=initDismisses);var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$2="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(_r,Be){return _r.concat([Be+"-"+start$2,Be+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(_r,Be){return _r.concat([Be,Be+"-"+start$2,Be+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(_r){return _r?(_r.nodeName||"").toLowerCase():null}function getWindow(_r){if(_r==null)return window;if(_r.toString()!=="[object Window]"){var Be=_r.ownerDocument;return Be&&Be.defaultView||window}return _r}function isElement(_r){var Be=getWindow(_r).Element;return _r instanceof Be||_r instanceof Element}function isHTMLElement(_r){var Be=getWindow(_r).HTMLElement;return _r instanceof Be||_r instanceof HTMLElement}function isShadowRoot(_r){if(typeof ShadowRoot>"u")return!1;var Be=getWindow(_r).ShadowRoot;return _r instanceof Be||_r instanceof ShadowRoot}function applyStyles(_r){var Be=_r.state;Object.keys(Be.elements).forEach(function(Dr){var Mr=Be.styles[Dr]||{},$r=Be.attributes[Dr]||{},Br=Be.elements[Dr];!isHTMLElement(Br)||!getNodeName(Br)||(Object.assign(Br.style,Mr),Object.keys($r).forEach(function(zr){var Vr=$r[zr];Vr===!1?Br.removeAttribute(zr):Br.setAttribute(zr,Vr===!0?"":Vr)}))})}function effect$3(_r){var Be=_r.state,Dr={popper:{position:Be.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(Be.elements.popper.style,Dr.popper),Be.styles=Dr,Be.elements.arrow&&Object.assign(Be.elements.arrow.style,Dr.arrow),function(){Object.keys(Be.elements).forEach(function(Mr){var $r=Be.elements[Mr],Br=Be.attributes[Mr]||{},zr=Object.keys(Be.styles.hasOwnProperty(Mr)?Be.styles[Mr]:Dr[Mr]),Vr=zr.reduce(function(jr,Gr){return jr[Gr]="",jr},{});!isHTMLElement($r)||!getNodeName($r)||(Object.assign($r.style,Vr),Object.keys(Br).forEach(function(jr){$r.removeAttribute(jr)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$3,requires:["computeStyles"]};function getBasePlacement(_r){return _r.split("-")[0]}var max$3=Math.max,min$3=Math.min,round$5=Math.round;function getUAString(){var _r=navigator.userAgentData;return _r!=null&&_r.brands&&Array.isArray(_r.brands)?_r.brands.map(function(Be){return Be.brand+"/"+Be.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(_r,Be,Dr){Be===void 0&&(Be=!1),Dr===void 0&&(Dr=!1);var Mr=_r.getBoundingClientRect(),$r=1,Br=1;Be&&isHTMLElement(_r)&&($r=_r.offsetWidth>0&&round$5(Mr.width)/_r.offsetWidth||1,Br=_r.offsetHeight>0&&round$5(Mr.height)/_r.offsetHeight||1);var zr=isElement(_r)?getWindow(_r):window,Vr=zr.visualViewport,jr=!isLayoutViewport()&&Dr,Gr=(Mr.left+(jr&&Vr?Vr.offsetLeft:0))/$r,Wr=(Mr.top+(jr&&Vr?Vr.offsetTop:0))/Br,Kr=Mr.width/$r,Zr=Mr.height/Br;return{width:Kr,height:Zr,top:Wr,right:Gr+Kr,bottom:Wr+Zr,left:Gr,x:Gr,y:Wr}}function getLayoutRect$1(_r){var Be=getBoundingClientRect(_r),Dr=_r.offsetWidth,Mr=_r.offsetHeight;return Math.abs(Be.width-Dr)<=1&&(Dr=Be.width),Math.abs(Be.height-Mr)<=1&&(Mr=Be.height),{x:_r.offsetLeft,y:_r.offsetTop,width:Dr,height:Mr}}function contains(_r,Be){var Dr=Be.getRootNode&&Be.getRootNode();if(_r.contains(Be))return!0;if(Dr&&isShadowRoot(Dr)){var Mr=Be;do{if(Mr&&_r.isSameNode(Mr))return!0;Mr=Mr.parentNode||Mr.host}while(Mr)}return!1}function getComputedStyle$2(_r){return getWindow(_r).getComputedStyle(_r)}function isTableElement(_r){return["table","td","th"].indexOf(getNodeName(_r))>=0}function getDocumentElement(_r){return((isElement(_r)?_r.ownerDocument:_r.document)||window.document).documentElement}function getParentNode(_r){return getNodeName(_r)==="html"?_r:_r.assignedSlot||_r.parentNode||(isShadowRoot(_r)?_r.host:null)||getDocumentElement(_r)}function getTrueOffsetParent(_r){return!isHTMLElement(_r)||getComputedStyle$2(_r).position==="fixed"?null:_r.offsetParent}function getContainingBlock(_r){var Be=/firefox/i.test(getUAString()),Dr=/Trident/i.test(getUAString());if(Dr&&isHTMLElement(_r)){var Mr=getComputedStyle$2(_r);if(Mr.position==="fixed")return null}var $r=getParentNode(_r);for(isShadowRoot($r)&&($r=$r.host);isHTMLElement($r)&&["html","body"].indexOf(getNodeName($r))<0;){var Br=getComputedStyle$2($r);if(Br.transform!=="none"||Br.perspective!=="none"||Br.contain==="paint"||["transform","perspective"].indexOf(Br.willChange)!==-1||Be&&Br.willChange==="filter"||Be&&Br.filter&&Br.filter!=="none")return $r;$r=$r.parentNode}return null}function getOffsetParent(_r){for(var Be=getWindow(_r),Dr=getTrueOffsetParent(_r);Dr&&isTableElement(Dr)&&getComputedStyle$2(Dr).position==="static";)Dr=getTrueOffsetParent(Dr);return Dr&&(getNodeName(Dr)==="html"||getNodeName(Dr)==="body"&&getComputedStyle$2(Dr).position==="static")?Be:Dr||getContainingBlock(_r)||Be}function getMainAxisFromPlacement(_r){return["top","bottom"].indexOf(_r)>=0?"x":"y"}function within(_r,Be,Dr){return max$3(_r,min$3(Be,Dr))}function withinMaxClamp(_r,Be,Dr){var Mr=within(_r,Be,Dr);return Mr>Dr?Dr:Mr}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(_r){return Object.assign({},getFreshSideObject(),_r)}function expandToHashMap(_r,Be){return Be.reduce(function(Dr,Mr){return Dr[Mr]=_r,Dr},{})}var toPaddingObject=function(Be,Dr){return Be=typeof Be=="function"?Be(Object.assign({},Dr.rects,{placement:Dr.placement})):Be,mergePaddingObject(typeof Be!="number"?Be:expandToHashMap(Be,basePlacements))};function arrow(_r){var Be,Dr=_r.state,Mr=_r.name,$r=_r.options,Br=Dr.elements.arrow,zr=Dr.modifiersData.popperOffsets,Vr=getBasePlacement(Dr.placement),jr=getMainAxisFromPlacement(Vr),Gr=[left,right].indexOf(Vr)>=0,Wr=Gr?"height":"width";if(!(!Br||!zr)){var Kr=toPaddingObject($r.padding,Dr),Zr=getLayoutRect$1(Br),Jr=jr==="y"?top:left,rn=jr==="y"?bottom:right,nn=Dr.rects.reference[Wr]+Dr.rects.reference[jr]-zr[jr]-Dr.rects.popper[Wr],ln=zr[jr]-Dr.rects.reference[jr],cn=getOffsetParent(Br),hn=cn?jr==="y"?cn.clientHeight||0:cn.clientWidth||0:0,mn=nn/2-ln/2,bn=Kr[Jr],An=hn-Zr[Wr]-Kr[rn],vn=hn/2-Zr[Wr]/2+mn,dn=within(bn,vn,An),wn=jr;Dr.modifiersData[Mr]=(Be={},Be[wn]=dn,Be.centerOffset=dn-vn,Be)}}function effect$2(_r){var Be=_r.state,Dr=_r.options,Mr=Dr.element,$r=Mr===void 0?"[data-popper-arrow]":Mr;$r!=null&&(typeof $r=="string"&&($r=Be.elements.popper.querySelector($r),!$r)||contains(Be.elements.popper,$r)&&(Be.elements.arrow=$r))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(_r){return _r.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(_r,Be){var Dr=_r.x,Mr=_r.y,$r=Be.devicePixelRatio||1;return{x:round$5(Dr*$r)/$r||0,y:round$5(Mr*$r)/$r||0}}function mapToStyles(_r){var Be,Dr=_r.popper,Mr=_r.popperRect,$r=_r.placement,Br=_r.variation,zr=_r.offsets,Vr=_r.position,jr=_r.gpuAcceleration,Gr=_r.adaptive,Wr=_r.roundOffsets,Kr=_r.isFixed,Zr=zr.x,Jr=Zr===void 0?0:Zr,rn=zr.y,nn=rn===void 0?0:rn,ln=typeof Wr=="function"?Wr({x:Jr,y:nn}):{x:Jr,y:nn};Jr=ln.x,nn=ln.y;var cn=zr.hasOwnProperty("x"),hn=zr.hasOwnProperty("y"),mn=left,bn=top,An=window;if(Gr){var vn=getOffsetParent(Dr),dn="clientHeight",wn="clientWidth";if(vn===getWindow(Dr)&&(vn=getDocumentElement(Dr),getComputedStyle$2(vn).position!=="static"&&Vr==="absolute"&&(dn="scrollHeight",wn="scrollWidth")),vn=vn,$r===top||($r===left||$r===right)&&Br===end$1){bn=bottom;var xn=Kr&&vn===An&&An.visualViewport?An.visualViewport.height:vn[dn];nn-=xn-Mr.height,nn*=jr?1:-1}if($r===left||($r===top||$r===bottom)&&Br===end$1){mn=right;var Mn=Kr&&vn===An&&An.visualViewport?An.visualViewport.width:vn[wn];Jr-=Mn-Mr.width,Jr*=jr?1:-1}}var In=Object.assign({position:Vr},Gr&&unsetSides),Hn=Wr===!0?roundOffsetsByDPR({x:Jr,y:nn},getWindow(Dr)):{x:Jr,y:nn};if(Jr=Hn.x,nn=Hn.y,jr){var $n;return Object.assign({},In,($n={},$n[bn]=hn?"0":"",$n[mn]=cn?"0":"",$n.transform=(An.devicePixelRatio||1)<=1?"translate("+Jr+"px, "+nn+"px)":"translate3d("+Jr+"px, "+nn+"px, 0)",$n))}return Object.assign({},In,(Be={},Be[bn]=hn?nn+"px":"",Be[mn]=cn?Jr+"px":"",Be.transform="",Be))}function computeStyles(_r){var Be=_r.state,Dr=_r.options,Mr=Dr.gpuAcceleration,$r=Mr===void 0?!0:Mr,Br=Dr.adaptive,zr=Br===void 0?!0:Br,Vr=Dr.roundOffsets,jr=Vr===void 0?!0:Vr,Gr={placement:getBasePlacement(Be.placement),variation:getVariation(Be.placement),popper:Be.elements.popper,popperRect:Be.rects.popper,gpuAcceleration:$r,isFixed:Be.options.strategy==="fixed"};Be.modifiersData.popperOffsets!=null&&(Be.styles.popper=Object.assign({},Be.styles.popper,mapToStyles(Object.assign({},Gr,{offsets:Be.modifiersData.popperOffsets,position:Be.options.strategy,adaptive:zr,roundOffsets:jr})))),Be.modifiersData.arrow!=null&&(Be.styles.arrow=Object.assign({},Be.styles.arrow,mapToStyles(Object.assign({},Gr,{offsets:Be.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:jr})))),Be.attributes.popper=Object.assign({},Be.attributes.popper,{"data-popper-placement":Be.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect$1(_r){var Be=_r.state,Dr=_r.instance,Mr=_r.options,$r=Mr.scroll,Br=$r===void 0?!0:$r,zr=Mr.resize,Vr=zr===void 0?!0:zr,jr=getWindow(Be.elements.popper),Gr=[].concat(Be.scrollParents.reference,Be.scrollParents.popper);return Br&&Gr.forEach(function(Wr){Wr.addEventListener("scroll",Dr.update,passive)}),Vr&&jr.addEventListener("resize",Dr.update,passive),function(){Br&&Gr.forEach(function(Wr){Wr.removeEventListener("scroll",Dr.update,passive)}),Vr&&jr.removeEventListener("resize",Dr.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:effect$1,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(_r){return _r.replace(/left|right|bottom|top/g,function(Be){return hash$1[Be]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(_r){return _r.replace(/start|end/g,function(Be){return hash[Be]})}function getWindowScroll(_r){var Be=getWindow(_r),Dr=Be.pageXOffset,Mr=Be.pageYOffset;return{scrollLeft:Dr,scrollTop:Mr}}function getWindowScrollBarX(_r){return getBoundingClientRect(getDocumentElement(_r)).left+getWindowScroll(_r).scrollLeft}function getViewportRect(_r,Be){var Dr=getWindow(_r),Mr=getDocumentElement(_r),$r=Dr.visualViewport,Br=Mr.clientWidth,zr=Mr.clientHeight,Vr=0,jr=0;if($r){Br=$r.width,zr=$r.height;var Gr=isLayoutViewport();(Gr||!Gr&&Be==="fixed")&&(Vr=$r.offsetLeft,jr=$r.offsetTop)}return{width:Br,height:zr,x:Vr+getWindowScrollBarX(_r),y:jr}}function getDocumentRect(_r){var Be,Dr=getDocumentElement(_r),Mr=getWindowScroll(_r),$r=(Be=_r.ownerDocument)==null?void 0:Be.body,Br=max$3(Dr.scrollWidth,Dr.clientWidth,$r?$r.scrollWidth:0,$r?$r.clientWidth:0),zr=max$3(Dr.scrollHeight,Dr.clientHeight,$r?$r.scrollHeight:0,$r?$r.clientHeight:0),Vr=-Mr.scrollLeft+getWindowScrollBarX(_r),jr=-Mr.scrollTop;return getComputedStyle$2($r||Dr).direction==="rtl"&&(Vr+=max$3(Dr.clientWidth,$r?$r.clientWidth:0)-Br),{width:Br,height:zr,x:Vr,y:jr}}function isScrollParent(_r){var Be=getComputedStyle$2(_r),Dr=Be.overflow,Mr=Be.overflowX,$r=Be.overflowY;return/auto|scroll|overlay|hidden/.test(Dr+$r+Mr)}function getScrollParent(_r){return["html","body","#document"].indexOf(getNodeName(_r))>=0?_r.ownerDocument.body:isHTMLElement(_r)&&isScrollParent(_r)?_r:getScrollParent(getParentNode(_r))}function listScrollParents(_r,Be){var Dr;Be===void 0&&(Be=[]);var Mr=getScrollParent(_r),$r=Mr===((Dr=_r.ownerDocument)==null?void 0:Dr.body),Br=getWindow(Mr),zr=$r?[Br].concat(Br.visualViewport||[],isScrollParent(Mr)?Mr:[]):Mr,Vr=Be.concat(zr);return $r?Vr:Vr.concat(listScrollParents(getParentNode(zr)))}function rectToClientRect(_r){return Object.assign({},_r,{left:_r.x,top:_r.y,right:_r.x+_r.width,bottom:_r.y+_r.height})}function getInnerBoundingClientRect(_r,Be){var Dr=getBoundingClientRect(_r,!1,Be==="fixed");return Dr.top=Dr.top+_r.clientTop,Dr.left=Dr.left+_r.clientLeft,Dr.bottom=Dr.top+_r.clientHeight,Dr.right=Dr.left+_r.clientWidth,Dr.width=_r.clientWidth,Dr.height=_r.clientHeight,Dr.x=Dr.left,Dr.y=Dr.top,Dr}function getClientRectFromMixedType(_r,Be,Dr){return Be===viewport?rectToClientRect(getViewportRect(_r,Dr)):isElement(Be)?getInnerBoundingClientRect(Be,Dr):rectToClientRect(getDocumentRect(getDocumentElement(_r)))}function getClippingParents(_r){var Be=listScrollParents(getParentNode(_r)),Dr=["absolute","fixed"].indexOf(getComputedStyle$2(_r).position)>=0,Mr=Dr&&isHTMLElement(_r)?getOffsetParent(_r):_r;return isElement(Mr)?Be.filter(function($r){return isElement($r)&&contains($r,Mr)&&getNodeName($r)!=="body"}):[]}function getClippingRect(_r,Be,Dr,Mr){var $r=Be==="clippingParents"?getClippingParents(_r):[].concat(Be),Br=[].concat($r,[Dr]),zr=Br[0],Vr=Br.reduce(function(jr,Gr){var Wr=getClientRectFromMixedType(_r,Gr,Mr);return jr.top=max$3(Wr.top,jr.top),jr.right=min$3(Wr.right,jr.right),jr.bottom=min$3(Wr.bottom,jr.bottom),jr.left=max$3(Wr.left,jr.left),jr},getClientRectFromMixedType(_r,zr,Mr));return Vr.width=Vr.right-Vr.left,Vr.height=Vr.bottom-Vr.top,Vr.x=Vr.left,Vr.y=Vr.top,Vr}function computeOffsets(_r){var Be=_r.reference,Dr=_r.element,Mr=_r.placement,$r=Mr?getBasePlacement(Mr):null,Br=Mr?getVariation(Mr):null,zr=Be.x+Be.width/2-Dr.width/2,Vr=Be.y+Be.height/2-Dr.height/2,jr;switch($r){case top:jr={x:zr,y:Be.y-Dr.height};break;case bottom:jr={x:zr,y:Be.y+Be.height};break;case right:jr={x:Be.x+Be.width,y:Vr};break;case left:jr={x:Be.x-Dr.width,y:Vr};break;default:jr={x:Be.x,y:Be.y}}var Gr=$r?getMainAxisFromPlacement($r):null;if(Gr!=null){var Wr=Gr==="y"?"height":"width";switch(Br){case start$2:jr[Gr]=jr[Gr]-(Be[Wr]/2-Dr[Wr]/2);break;case end$1:jr[Gr]=jr[Gr]+(Be[Wr]/2-Dr[Wr]/2);break}}return jr}function detectOverflow(_r,Be){Be===void 0&&(Be={});var Dr=Be,Mr=Dr.placement,$r=Mr===void 0?_r.placement:Mr,Br=Dr.strategy,zr=Br===void 0?_r.strategy:Br,Vr=Dr.boundary,jr=Vr===void 0?clippingParents:Vr,Gr=Dr.rootBoundary,Wr=Gr===void 0?viewport:Gr,Kr=Dr.elementContext,Zr=Kr===void 0?popper:Kr,Jr=Dr.altBoundary,rn=Jr===void 0?!1:Jr,nn=Dr.padding,ln=nn===void 0?0:nn,cn=mergePaddingObject(typeof ln!="number"?ln:expandToHashMap(ln,basePlacements)),hn=Zr===popper?reference:popper,mn=_r.rects.popper,bn=_r.elements[rn?hn:Zr],An=getClippingRect(isElement(bn)?bn:bn.contextElement||getDocumentElement(_r.elements.popper),jr,Wr,zr),vn=getBoundingClientRect(_r.elements.reference),dn=computeOffsets({reference:vn,element:mn,strategy:"absolute",placement:$r}),wn=rectToClientRect(Object.assign({},mn,dn)),xn=Zr===popper?wn:vn,Mn={top:An.top-xn.top+cn.top,bottom:xn.bottom-An.bottom+cn.bottom,left:An.left-xn.left+cn.left,right:xn.right-An.right+cn.right},In=_r.modifiersData.offset;if(Zr===popper&&In){var Hn=In[$r];Object.keys(Mn).forEach(function($n){var jn=[right,bottom].indexOf($n)>=0?1:-1,Bn=[top,bottom].indexOf($n)>=0?"y":"x";Mn[$n]+=Hn[Bn]*jn})}return Mn}function computeAutoPlacement(_r,Be){Be===void 0&&(Be={});var Dr=Be,Mr=Dr.placement,$r=Dr.boundary,Br=Dr.rootBoundary,zr=Dr.padding,Vr=Dr.flipVariations,jr=Dr.allowedAutoPlacements,Gr=jr===void 0?placements:jr,Wr=getVariation(Mr),Kr=Wr?Vr?variationPlacements:variationPlacements.filter(function(rn){return getVariation(rn)===Wr}):basePlacements,Zr=Kr.filter(function(rn){return Gr.indexOf(rn)>=0});Zr.length===0&&(Zr=Kr);var Jr=Zr.reduce(function(rn,nn){return rn[nn]=detectOverflow(_r,{placement:nn,boundary:$r,rootBoundary:Br,padding:zr})[getBasePlacement(nn)],rn},{});return Object.keys(Jr).sort(function(rn,nn){return Jr[rn]-Jr[nn]})}function getExpandedFallbackPlacements(_r){if(getBasePlacement(_r)===auto)return[];var Be=getOppositePlacement(_r);return[getOppositeVariationPlacement(_r),Be,getOppositeVariationPlacement(Be)]}function flip(_r){var Be=_r.state,Dr=_r.options,Mr=_r.name;if(!Be.modifiersData[Mr]._skip){for(var $r=Dr.mainAxis,Br=$r===void 0?!0:$r,zr=Dr.altAxis,Vr=zr===void 0?!0:zr,jr=Dr.fallbackPlacements,Gr=Dr.padding,Wr=Dr.boundary,Kr=Dr.rootBoundary,Zr=Dr.altBoundary,Jr=Dr.flipVariations,rn=Jr===void 0?!0:Jr,nn=Dr.allowedAutoPlacements,ln=Be.options.placement,cn=getBasePlacement(ln),hn=cn===ln,mn=jr||(hn||!rn?[getOppositePlacement(ln)]:getExpandedFallbackPlacements(ln)),bn=[ln].concat(mn).reduce(function(si,Ri){return si.concat(getBasePlacement(Ri)===auto?computeAutoPlacement(Be,{placement:Ri,boundary:Wr,rootBoundary:Kr,padding:Gr,flipVariations:rn,allowedAutoPlacements:nn}):Ri)},[]),An=Be.rects.reference,vn=Be.rects.popper,dn=new Map,wn=!0,xn=bn[0],Mn=0;Mn<bn.length;Mn++){var In=bn[Mn],Hn=getBasePlacement(In),$n=getVariation(In)===start$2,jn=[top,bottom].indexOf(Hn)>=0,Bn=jn?"width":"height",Gn=detectOverflow(Be,{placement:In,boundary:Wr,rootBoundary:Kr,altBoundary:Zr,padding:Gr}),ei=jn?$n?right:left:$n?bottom:top;An[Bn]>vn[Bn]&&(ei=getOppositePlacement(ei));var ri=getOppositePlacement(ei),vi=[];if(Br&&vi.push(Gn[Hn]<=0),Vr&&vi.push(Gn[ei]<=0,Gn[ri]<=0),vi.every(function(si){return si})){xn=In,wn=!1;break}dn.set(In,vi)}if(wn)for(var wi=rn?3:1,Ni=function(Ri){var Pi=bn.find(function(Fi){var zi=dn.get(Fi);if(zi)return zi.slice(0,Ri).every(function(oo){return oo})});if(Pi)return xn=Pi,"break"},Yn=wi;Yn>0;Yn--){var Vn=Ni(Yn);if(Vn==="break")break}Be.placement!==xn&&(Be.modifiersData[Mr]._skip=!0,Be.placement=xn,Be.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(_r,Be,Dr){return Dr===void 0&&(Dr={x:0,y:0}),{top:_r.top-Be.height-Dr.y,right:_r.right-Be.width+Dr.x,bottom:_r.bottom-Be.height+Dr.y,left:_r.left-Be.width-Dr.x}}function isAnySideFullyClipped(_r){return[top,right,bottom,left].some(function(Be){return _r[Be]>=0})}function hide(_r){var Be=_r.state,Dr=_r.name,Mr=Be.rects.reference,$r=Be.rects.popper,Br=Be.modifiersData.preventOverflow,zr=detectOverflow(Be,{elementContext:"reference"}),Vr=detectOverflow(Be,{altBoundary:!0}),jr=getSideOffsets(zr,Mr),Gr=getSideOffsets(Vr,$r,Br),Wr=isAnySideFullyClipped(jr),Kr=isAnySideFullyClipped(Gr);Be.modifiersData[Dr]={referenceClippingOffsets:jr,popperEscapeOffsets:Gr,isReferenceHidden:Wr,hasPopperEscaped:Kr},Be.attributes.popper=Object.assign({},Be.attributes.popper,{"data-popper-reference-hidden":Wr,"data-popper-escaped":Kr})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(_r,Be,Dr){var Mr=getBasePlacement(_r),$r=[left,top].indexOf(Mr)>=0?-1:1,Br=typeof Dr=="function"?Dr(Object.assign({},Be,{placement:_r})):Dr,zr=Br[0],Vr=Br[1];return zr=zr||0,Vr=(Vr||0)*$r,[left,right].indexOf(Mr)>=0?{x:Vr,y:zr}:{x:zr,y:Vr}}function offset$1(_r){var Be=_r.state,Dr=_r.options,Mr=_r.name,$r=Dr.offset,Br=$r===void 0?[0,0]:$r,zr=placements.reduce(function(Wr,Kr){return Wr[Kr]=distanceAndSkiddingToXY(Kr,Be.rects,Br),Wr},{}),Vr=zr[Be.placement],jr=Vr.x,Gr=Vr.y;Be.modifiersData.popperOffsets!=null&&(Be.modifiersData.popperOffsets.x+=jr,Be.modifiersData.popperOffsets.y+=Gr),Be.modifiersData[Mr]=zr}const offset$2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$1};function popperOffsets(_r){var Be=_r.state,Dr=_r.name;Be.modifiersData[Dr]=computeOffsets({reference:Be.rects.reference,element:Be.rects.popper,strategy:"absolute",placement:Be.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(_r){return _r==="x"?"y":"x"}function preventOverflow(_r){var Be=_r.state,Dr=_r.options,Mr=_r.name,$r=Dr.mainAxis,Br=$r===void 0?!0:$r,zr=Dr.altAxis,Vr=zr===void 0?!1:zr,jr=Dr.boundary,Gr=Dr.rootBoundary,Wr=Dr.altBoundary,Kr=Dr.padding,Zr=Dr.tether,Jr=Zr===void 0?!0:Zr,rn=Dr.tetherOffset,nn=rn===void 0?0:rn,ln=detectOverflow(Be,{boundary:jr,rootBoundary:Gr,padding:Kr,altBoundary:Wr}),cn=getBasePlacement(Be.placement),hn=getVariation(Be.placement),mn=!hn,bn=getMainAxisFromPlacement(cn),An=getAltAxis(bn),vn=Be.modifiersData.popperOffsets,dn=Be.rects.reference,wn=Be.rects.popper,xn=typeof nn=="function"?nn(Object.assign({},Be.rects,{placement:Be.placement})):nn,Mn=typeof xn=="number"?{mainAxis:xn,altAxis:xn}:Object.assign({mainAxis:0,altAxis:0},xn),In=Be.modifiersData.offset?Be.modifiersData.offset[Be.placement]:null,Hn={x:0,y:0};if(vn){if(Br){var $n,jn=bn==="y"?top:left,Bn=bn==="y"?bottom:right,Gn=bn==="y"?"height":"width",ei=vn[bn],ri=ei+ln[jn],vi=ei-ln[Bn],wi=Jr?-wn[Gn]/2:0,Ni=hn===start$2?dn[Gn]:wn[Gn],Yn=hn===start$2?-wn[Gn]:-dn[Gn],Vn=Be.elements.arrow,si=Jr&&Vn?getLayoutRect$1(Vn):{width:0,height:0},Ri=Be.modifiersData["arrow#persistent"]?Be.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Pi=Ri[jn],Fi=Ri[Bn],zi=within(0,dn[Gn],si[Gn]),oo=mn?dn[Gn]/2-wi-zi-Pi-Mn.mainAxis:Ni-zi-Pi-Mn.mainAxis,lo=mn?-dn[Gn]/2+wi+zi+Fi+Mn.mainAxis:Yn+zi+Fi+Mn.mainAxis,io=Be.elements.arrow&&getOffsetParent(Be.elements.arrow),Wi=io?bn==="y"?io.clientTop||0:io.clientLeft||0:0,Bo=($n=In==null?void 0:In[bn])!=null?$n:0,Mo=ei+oo-Bo-Wi,Zi=ei+lo-Bo,Zo=within(Jr?min$3(ri,Mo):ri,ei,Jr?max$3(vi,Zi):vi);vn[bn]=Zo,Hn[bn]=Zo-ei}if(Vr){var Wo,Ao=bn==="x"?top:left,ba=bn==="x"?bottom:right,Va=vn[An],Ia=An==="y"?"height":"width",Ua=Va+ln[Ao],ka=Va-ln[ba],xi=[top,left].indexOf(cn)!==-1,ci=(Wo=In==null?void 0:In[An])!=null?Wo:0,_i=xi?Ua:Va-dn[Ia]-wn[Ia]-ci+Mn.altAxis,Jn=xi?Va+dn[Ia]+wn[Ia]-ci-Mn.altAxis:ka,ni=Jr&&xi?withinMaxClamp(_i,Va,Jn):within(Jr?_i:Ua,Va,Jr?Jn:ka);vn[An]=ni,Hn[An]=ni-Va}Be.modifiersData[Mr]=Hn}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(_r){return{scrollLeft:_r.scrollLeft,scrollTop:_r.scrollTop}}function getNodeScroll(_r){return _r===getWindow(_r)||!isHTMLElement(_r)?getWindowScroll(_r):getHTMLElementScroll(_r)}function isElementScaled(_r){var Be=_r.getBoundingClientRect(),Dr=round$5(Be.width)/_r.offsetWidth||1,Mr=round$5(Be.height)/_r.offsetHeight||1;return Dr!==1||Mr!==1}function getCompositeRect(_r,Be,Dr){Dr===void 0&&(Dr=!1);var Mr=isHTMLElement(Be),$r=isHTMLElement(Be)&&isElementScaled(Be),Br=getDocumentElement(Be),zr=getBoundingClientRect(_r,$r,Dr),Vr={scrollLeft:0,scrollTop:0},jr={x:0,y:0};return(Mr||!Mr&&!Dr)&&((getNodeName(Be)!=="body"||isScrollParent(Br))&&(Vr=getNodeScroll(Be)),isHTMLElement(Be)?(jr=getBoundingClientRect(Be,!0),jr.x+=Be.clientLeft,jr.y+=Be.clientTop):Br&&(jr.x=getWindowScrollBarX(Br))),{x:zr.left+Vr.scrollLeft-jr.x,y:zr.top+Vr.scrollTop-jr.y,width:zr.width,height:zr.height}}function order(_r){var Be=new Map,Dr=new Set,Mr=[];_r.forEach(function(Br){Be.set(Br.name,Br)});function $r(Br){Dr.add(Br.name);var zr=[].concat(Br.requires||[],Br.requiresIfExists||[]);zr.forEach(function(Vr){if(!Dr.has(Vr)){var jr=Be.get(Vr);jr&&$r(jr)}}),Mr.push(Br)}return _r.forEach(function(Br){Dr.has(Br.name)||$r(Br)}),Mr}function orderModifiers(_r){var Be=order(_r);return modifierPhases.reduce(function(Dr,Mr){return Dr.concat(Be.filter(function($r){return $r.phase===Mr}))},[])}function debounce$1(_r){var Be;return function(){return Be||(Be=new Promise(function(Dr){Promise.resolve().then(function(){Be=void 0,Dr(_r())})})),Be}}function mergeByName(_r){var Be=_r.reduce(function(Dr,Mr){var $r=Dr[Mr.name];return Dr[Mr.name]=$r?Object.assign({},$r,Mr,{options:Object.assign({},$r.options,Mr.options),data:Object.assign({},$r.data,Mr.data)}):Mr,Dr},{});return Object.keys(Be).map(function(Dr){return Be[Dr]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var _r=arguments.length,Be=new Array(_r),Dr=0;Dr<_r;Dr++)Be[Dr]=arguments[Dr];return!Be.some(function(Mr){return!(Mr&&typeof Mr.getBoundingClientRect=="function")})}function popperGenerator(_r){_r===void 0&&(_r={});var Be=_r,Dr=Be.defaultModifiers,Mr=Dr===void 0?[]:Dr,$r=Be.defaultOptions,Br=$r===void 0?DEFAULT_OPTIONS:$r;return function(Vr,jr,Gr){Gr===void 0&&(Gr=Br);var Wr={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,Br),modifiersData:{},elements:{reference:Vr,popper:jr},attributes:{},styles:{}},Kr=[],Zr=!1,Jr={state:Wr,setOptions:function(cn){var hn=typeof cn=="function"?cn(Wr.options):cn;nn(),Wr.options=Object.assign({},Br,Wr.options,hn),Wr.scrollParents={reference:isElement(Vr)?listScrollParents(Vr):Vr.contextElement?listScrollParents(Vr.contextElement):[],popper:listScrollParents(jr)};var mn=orderModifiers(mergeByName([].concat(Mr,Wr.options.modifiers)));return Wr.orderedModifiers=mn.filter(function(bn){return bn.enabled}),rn(),Jr.update()},forceUpdate:function(){if(!Zr){var cn=Wr.elements,hn=cn.reference,mn=cn.popper;if(areValidElements(hn,mn)){Wr.rects={reference:getCompositeRect(hn,getOffsetParent(mn),Wr.options.strategy==="fixed"),popper:getLayoutRect$1(mn)},Wr.reset=!1,Wr.placement=Wr.options.placement,Wr.orderedModifiers.forEach(function(Mn){return Wr.modifiersData[Mn.name]=Object.assign({},Mn.data)});for(var bn=0;bn<Wr.orderedModifiers.length;bn++){if(Wr.reset===!0){Wr.reset=!1,bn=-1;continue}var An=Wr.orderedModifiers[bn],vn=An.fn,dn=An.options,wn=dn===void 0?{}:dn,xn=An.name;typeof vn=="function"&&(Wr=vn({state:Wr,options:wn,name:xn,instance:Jr})||Wr)}}}},update:debounce$1(function(){return new Promise(function(ln){Jr.forceUpdate(),ln(Wr)})}),destroy:function(){nn(),Zr=!0}};if(!areValidElements(Vr,jr))return Jr;Jr.setOptions(Gr).then(function(ln){!Zr&&Gr.onFirstUpdate&&Gr.onFirstUpdate(ln)});function rn(){Wr.orderedModifiers.forEach(function(ln){var cn=ln.name,hn=ln.options,mn=hn===void 0?{}:hn,bn=ln.effect;if(typeof bn=="function"){var An=bn({state:Wr,name:cn,instance:Jr,options:mn}),vn=function(){};Kr.push(An||vn)}})}function nn(){Kr.forEach(function(ln){return ln()}),Kr=[]}return Jr}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$2,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),__assign$6=globalThis&&globalThis.__assign||function(){return __assign$6=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$6.apply(this,arguments)},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(_r,Be,Dr){if(Dr||arguments.length===2)for(var Mr=0,$r=Be.length,Br;Mr<$r;Mr++)(Br||!(Mr in Be))&&(Br||(Br=Array.prototype.slice.call(Be,0,Mr)),Br[Mr]=Be[Mr]);return _r.concat(Br||Array.prototype.slice.call(Be))},Default$6={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},Dropdown=function(){function _r(Be,Dr,Mr){Be===void 0&&(Be=null),Dr===void 0&&(Dr=null),Mr===void 0&&(Mr=Default$6),this._targetEl=Be,this._triggerEl=Dr,this._options=__assign$6(__assign$6({},Default$6),Mr),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return _r.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},_r.prototype._setupEventListeners=function(){var Be=this,Dr=this._getTriggerEvents();this._options.triggerType==="click"&&Dr.showEvents.forEach(function(Mr){Be._triggerEl.addEventListener(Mr,function(){Be.toggle()})}),this._options.triggerType==="hover"&&(Dr.showEvents.forEach(function(Mr){Be._triggerEl.addEventListener(Mr,function(){Mr==="click"?Be.toggle():setTimeout(function(){Be.show()},Be._options.delay)}),Be._targetEl.addEventListener(Mr,function(){Be.show()})}),Dr.hideEvents.forEach(function(Mr){Be._triggerEl.addEventListener(Mr,function(){setTimeout(function(){Be._targetEl.matches(":hover")||Be.hide()},Be._options.delay)}),Be._targetEl.addEventListener(Mr,function(){setTimeout(function(){Be._triggerEl.matches(":hover")||Be.hide()},Be._options.delay)})}))},_r.prototype._createPopperInstance=function(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},_r.prototype._setupClickOutsideListener=function(){var Be=this;this._clickOutsideEventListener=function(Dr){Be._handleClickOutside(Dr,Be._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},_r.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},_r.prototype._handleClickOutside=function(Be,Dr){var Mr=Be.target,$r=this._options.ignoreClickOutsideClass,Br=!1;if($r){var zr=document.querySelectorAll(".".concat($r));zr.forEach(function(Vr){if(Vr.contains(Mr)){Br=!0;return}})}Mr!==Dr&&!Dr.contains(Mr)&&!this._triggerEl.contains(Mr)&&!Br&&this.isVisible()&&this.hide()},_r.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},_r.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},_r.prototype.isVisible=function(){return this._visible},_r.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(Be){return __assign$6(__assign$6({},Be),{modifiers:__spreadArray$2(__spreadArray$2([],Be.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},_r.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(Be){return __assign$6(__assign$6({},Be),{modifiers:__spreadArray$2(__spreadArray$2([],Be.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},_r}();function initDropdowns(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(_r){var Be=_r.getAttribute("data-dropdown-toggle"),Dr=document.getElementById(Be);if(Dr){var Mr=_r.getAttribute("data-dropdown-placement"),$r=_r.getAttribute("data-dropdown-offset-skidding"),Br=_r.getAttribute("data-dropdown-offset-distance"),zr=_r.getAttribute("data-dropdown-trigger"),Vr=_r.getAttribute("data-dropdown-delay"),jr=_r.getAttribute("data-dropdown-ignore-click-outside-class");new Dropdown(Dr,_r,{placement:Mr||Default$6.placement,triggerType:zr||Default$6.triggerType,offsetSkidding:$r?parseInt($r):Default$6.offsetSkidding,offsetDistance:Br?parseInt(Br):Default$6.offsetDistance,delay:Vr?parseInt(Vr):Default$6.delay,ignoreClickOutsideClass:jr||Default$6.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(Be,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=Dropdown,window.initDropdowns=initDropdowns);var __assign$5=globalThis&&globalThis.__assign||function(){return __assign$5=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$5.apply(this,arguments)},Default$5={placement:"center",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},Modal=function(){function _r(Be,Dr){Be===void 0&&(Be=null),Dr===void 0&&(Dr=Default$5),this._targetEl=Be,this._options=__assign$5(__assign$5({},Default$5),Dr),this._isHidden=!0,this._backdropEl=null,this._init()}return _r.prototype._init=function(){var Be=this;this._targetEl&&this._getPlacementClasses().map(function(Dr){Be._targetEl.classList.add(Dr)})},_r.prototype._createBackdrop=function(){var Be;if(this._isHidden){var Dr=document.createElement("div");Dr.setAttribute("modal-backdrop",""),(Be=Dr.classList).add.apply(Be,this._options.backdropClasses.split(" ")),document.querySelector("body").append(Dr),this._backdropEl=Dr}},_r.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},_r.prototype._setupModalCloseEventListeners=function(){var Be=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(Dr){Be._handleOutsideClick(Dr.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(Dr){Dr.key==="Escape"&&Be.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},_r.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},_r.prototype._handleOutsideClick=function(Be){(Be===this._targetEl||Be===this._backdropEl&&this.isVisible())&&this.hide()},_r.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},_r.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},_r.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,document.body.classList.add("overflow-hidden"),this._options.closable&&this._setupModalCloseEventListeners(),this._options.onShow(this))},_r.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},_r.prototype.isVisible=function(){return!this._isHidden},_r.prototype.isHidden=function(){return this._isHidden},_r}(),getModalInstance=function(_r,Be){return Be.some(function(Dr){return Dr.id===_r})?Be.find(function(Dr){return Dr.id===_r}):null};function initModals(){var _r=[];document.querySelectorAll("[data-modal-target]").forEach(function(Be){var Dr=Be.getAttribute("data-modal-target"),Mr=document.getElementById(Dr);if(Mr){var $r=Mr.getAttribute("data-modal-placement"),Br=Mr.getAttribute("data-modal-backdrop");getModalInstance(Dr,_r)||_r.push({id:Dr,object:new Modal(Mr,{placement:$r||Default$5.placement,backdrop:Br||Default$5.backdrop})})}else console.error("Modal with id ".concat(Dr," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(Be){var Dr=Be.getAttribute("data-modal-toggle"),Mr=document.getElementById(Dr);if(Mr){var $r=Mr.getAttribute("data-modal-placement"),Br=Mr.getAttribute("data-modal-backdrop"),zr=getModalInstance(Dr,_r);zr||(zr={id:Dr,object:new Modal(Mr,{placement:$r||Default$5.placement,backdrop:Br||Default$5.backdrop})},_r.push(zr)),Be.addEventListener("click",function(){zr.object.toggle()})}else console.error("Modal with id ".concat(Dr," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(Be){var Dr=Be.getAttribute("data-modal-show"),Mr=document.getElementById(Dr);if(Mr){var $r=getModalInstance(Dr,_r);$r?Be.addEventListener("click",function(){$r.object.isHidden&&$r.object.show()}):console.error("Modal with id ".concat(Dr," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(Dr," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(Be){var Dr=Be.getAttribute("data-modal-hide"),Mr=document.getElementById(Dr);if(Mr){var $r=getModalInstance(Dr,_r);$r?Be.addEventListener("click",function(){$r.object.isVisible&&$r.object.hide()}):console.error("Modal with id ".concat(Dr," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(Dr," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=Modal,window.initModals=initModals);var __assign$4=globalThis&&globalThis.__assign||function(){return __assign$4=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$4.apply(this,arguments)},Default$4={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},Drawer=function(){function _r(Be,Dr){Be===void 0&&(Be=null),Dr===void 0&&(Dr=Default$4),this._targetEl=Be,this._options=__assign$4(__assign$4({},Default$4),Dr),this._visible=!1,this._init()}return _r.prototype._init=function(){var Be=this;this._targetEl&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform")),this._getPlacementClasses(this._options.placement).base.map(function(Dr){Be._targetEl.classList.add(Dr)}),document.addEventListener("keydown",function(Dr){Dr.key==="Escape"&&Be.isVisible()&&Be.hide()})},_r.prototype.hide=function(){var Be=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(Dr){Be._targetEl.classList.remove(Dr)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(Dr){Be._targetEl.classList.add(Dr)})):(this._getPlacementClasses(this._options.placement).active.map(function(Dr){Be._targetEl.classList.remove(Dr)}),this._getPlacementClasses(this._options.placement).inactive.map(function(Dr){Be._targetEl.classList.add(Dr)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},_r.prototype.show=function(){var Be=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(Dr){Be._targetEl.classList.add(Dr)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(Dr){Be._targetEl.classList.remove(Dr)})):(this._getPlacementClasses(this._options.placement).active.map(function(Dr){Be._targetEl.classList.add(Dr)}),this._getPlacementClasses(this._options.placement).inactive.map(function(Dr){Be._targetEl.classList.remove(Dr)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},_r.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},_r.prototype._createBackdrop=function(){var Be,Dr=this;if(!this._visible){var Mr=document.createElement("div");Mr.setAttribute("drawer-backdrop",""),(Be=Mr.classList).add.apply(Be,this._options.backdropClasses.split(" ")),document.querySelector("body").append(Mr),Mr.addEventListener("click",function(){Dr.hide()})}},_r.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]").remove()},_r.prototype._getPlacementClasses=function(Be){switch(Be){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},_r.prototype.isHidden=function(){return!this._visible},_r.prototype.isVisible=function(){return this._visible},_r}(),getDrawerInstance=function(_r,Be){if(Be.some(function(Dr){return Dr.id===_r}))return Be.find(function(Dr){return Dr.id===_r})};function initDrawers(){var _r=[];document.querySelectorAll("[data-drawer-target]").forEach(function(Be){var Dr=Be.getAttribute("data-drawer-target"),Mr=document.getElementById(Dr);if(Mr){var $r=Be.getAttribute("data-drawer-placement"),Br=Be.getAttribute("data-drawer-body-scrolling"),zr=Be.getAttribute("data-drawer-backdrop"),Vr=Be.getAttribute("data-drawer-edge"),jr=Be.getAttribute("data-drawer-edge-offset");getDrawerInstance(Dr,_r)||_r.push({id:Dr,object:new Drawer(Mr,{placement:$r||Default$4.placement,bodyScrolling:Br?Br==="true":Default$4.bodyScrolling,backdrop:zr?zr==="true":Default$4.backdrop,edge:Vr?Vr==="true":Default$4.edge,edgeOffset:jr||Default$4.edgeOffset})})}else console.error("Drawer with id ".concat(Dr," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(Be){var Dr=Be.getAttribute("data-drawer-toggle"),Mr=document.getElementById(Dr);if(Mr){var $r=getDrawerInstance(Dr,_r);$r?Be.addEventListener("click",function(){$r.object.toggle()}):console.error("Drawer with id ".concat(Dr," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(Dr," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(Be){var Dr=Be.getAttribute("data-drawer-dismiss")?Be.getAttribute("data-drawer-dismiss"):Be.getAttribute("data-drawer-hide"),Mr=document.getElementById(Dr);if(Mr){var $r=getDrawerInstance(Dr,_r);$r?Be.addEventListener("click",function(){$r.object.hide()}):console.error("Drawer with id ".concat(Dr," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(Dr," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(Be){var Dr=Be.getAttribute("data-drawer-show"),Mr=document.getElementById(Dr);if(Mr){var $r=getDrawerInstance(Dr,_r);$r?Be.addEventListener("click",function(){$r.object.show()}):console.error("Drawer with id ".concat(Dr," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(Dr," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=Drawer,window.initDrawers=initDrawers);var __assign$3=globalThis&&globalThis.__assign||function(){return __assign$3=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$3.apply(this,arguments)},Default$3={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},Tabs=function(){function _r(Be,Dr){Be===void 0&&(Be=[]),Dr===void 0&&(Dr=Default$3),this._items=Be,this._activeTab=Dr?this.getTab(Dr.defaultTabId):null,this._options=__assign$3(__assign$3({},Default$3),Dr),this._init()}return _r.prototype._init=function(){var Be=this;this._items.length&&(this._activeTab||this._setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(Dr){Dr.triggerEl.addEventListener("click",function(){Be.show(Dr.id)})}))},_r.prototype.getActiveTab=function(){return this._activeTab},_r.prototype._setActiveTab=function(Be){this._activeTab=Be},_r.prototype.getTab=function(Be){return this._items.filter(function(Dr){return Dr.id===Be})[0]},_r.prototype.show=function(Be,Dr){var Mr,$r,Br=this;Dr===void 0&&(Dr=!1);var zr=this.getTab(Be);zr===this._activeTab&&!Dr||(this._items.map(function(Vr){var jr,Gr;Vr!==zr&&((jr=Vr.triggerEl.classList).remove.apply(jr,Br._options.activeClasses.split(" ")),(Gr=Vr.triggerEl.classList).add.apply(Gr,Br._options.inactiveClasses.split(" ")),Vr.targetEl.classList.add("hidden"),Vr.triggerEl.setAttribute("aria-selected","false"))}),(Mr=zr.triggerEl.classList).add.apply(Mr,this._options.activeClasses.split(" ")),($r=zr.triggerEl.classList).remove.apply($r,this._options.inactiveClasses.split(" ")),zr.triggerEl.setAttribute("aria-selected","true"),zr.targetEl.classList.remove("hidden"),this._setActiveTab(zr),this._options.onShow(this,zr))},_r}();function initTabs(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(_r){var Be=[],Dr=null;_r.querySelectorAll('[role="tab"]').forEach(function(Mr){var $r=Mr.getAttribute("aria-selected")==="true",Br={id:Mr.getAttribute("data-tabs-target"),triggerEl:Mr,targetEl:document.querySelector(Mr.getAttribute("data-tabs-target"))};Be.push(Br),$r&&(Dr=Br.id)}),new Tabs(Be,{defaultTabId:Dr})})}typeof window<"u"&&(window.Tabs=Tabs,window.initTabs=initTabs);var __assign$2=globalThis&&globalThis.__assign||function(){return __assign$2=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$2.apply(this,arguments)},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(_r,Be,Dr){if(Dr||arguments.length===2)for(var Mr=0,$r=Be.length,Br;Mr<$r;Mr++)(Br||!(Mr in Be))&&(Br||(Br=Array.prototype.slice.call(Be,0,Mr)),Br[Mr]=Be[Mr]);return _r.concat(Br||Array.prototype.slice.call(Be))},Default$2={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Tooltip$1=function(){function _r(Be,Dr,Mr){Be===void 0&&(Be=null),Dr===void 0&&(Dr=null),Mr===void 0&&(Mr=Default$2),this._targetEl=Be,this._triggerEl=Dr,this._options=__assign$2(__assign$2({},Default$2),Mr),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return _r.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},_r.prototype._setupEventListeners=function(){var Be=this,Dr=this._getTriggerEvents();Dr.showEvents.forEach(function(Mr){Be._triggerEl.addEventListener(Mr,function(){Be.show()})}),Dr.hideEvents.forEach(function(Mr){Be._triggerEl.addEventListener(Mr,function(){Be.hide()})})},_r.prototype._createPopperInstance=function(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},_r.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},_r.prototype._setupKeydownListener=function(){var Be=this;this._keydownEventListener=function(Dr){Dr.key==="Escape"&&Be.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},_r.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},_r.prototype._setupClickOutsideListener=function(){var Be=this;this._clickOutsideEventListener=function(Dr){Be._handleClickOutside(Dr,Be._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},_r.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},_r.prototype._handleClickOutside=function(Be,Dr){var Mr=Be.target;Mr!==Dr&&!Dr.contains(Mr)&&!this._triggerEl.contains(Mr)&&this.isVisible()&&this.hide()},_r.prototype.isVisible=function(){return this._visible},_r.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},_r.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(Be){return __assign$2(__assign$2({},Be),{modifiers:__spreadArray$1(__spreadArray$1([],Be.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},_r.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(Be){return __assign$2(__assign$2({},Be),{modifiers:__spreadArray$1(__spreadArray$1([],Be.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},_r}();function initTooltips(){document.querySelectorAll("[data-tooltip-target]").forEach(function(_r){var Be=_r.getAttribute("data-tooltip-target"),Dr=document.getElementById(Be);if(Dr){var Mr=_r.getAttribute("data-tooltip-trigger"),$r=_r.getAttribute("data-tooltip-placement");new Tooltip$1(Dr,_r,{placement:$r||Default$2.placement,triggerType:Mr||Default$2.triggerType})}else console.error('The tooltip element with id "'.concat(Be,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=Tooltip$1,window.initTooltips=initTooltips);var __assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign$1.apply(this,arguments)},__spreadArray=globalThis&&globalThis.__spreadArray||function(_r,Be,Dr){if(Dr||arguments.length===2)for(var Mr=0,$r=Be.length,Br;Mr<$r;Mr++)(Br||!(Mr in Be))&&(Br||(Br=Array.prototype.slice.call(Be,0,Mr)),Br[Mr]=Be[Mr]);return _r.concat(Br||Array.prototype.slice.call(Be))},Default$1={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Popover=function(){function _r(Be,Dr,Mr){Be===void 0&&(Be=null),Dr===void 0&&(Dr=null),Mr===void 0&&(Mr=Default$1),this._targetEl=Be,this._triggerEl=Dr,this._options=__assign$1(__assign$1({},Default$1),Mr),this._popperInstance=this._createPopperInstance(),this._visible=!1,this._init()}return _r.prototype._init=function(){this._triggerEl&&this._setupEventListeners()},_r.prototype._setupEventListeners=function(){var Be=this,Dr=this._getTriggerEvents();Dr.showEvents.forEach(function(Mr){Be._triggerEl.addEventListener(Mr,function(){Be.show()}),Be._targetEl.addEventListener(Mr,function(){Be.show()})}),Dr.hideEvents.forEach(function(Mr){Be._triggerEl.addEventListener(Mr,function(){setTimeout(function(){Be._targetEl.matches(":hover")||Be.hide()},100)}),Be._targetEl.addEventListener(Mr,function(){setTimeout(function(){Be._triggerEl.matches(":hover")||Be.hide()},100)})})},_r.prototype._createPopperInstance=function(){return createPopper(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},_r.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},_r.prototype._setupKeydownListener=function(){var Be=this;this._keydownEventListener=function(Dr){Dr.key==="Escape"&&Be.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},_r.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},_r.prototype._setupClickOutsideListener=function(){var Be=this;this._clickOutsideEventListener=function(Dr){Be._handleClickOutside(Dr,Be._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},_r.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},_r.prototype._handleClickOutside=function(Be,Dr){var Mr=Be.target;Mr!==Dr&&!Dr.contains(Mr)&&!this._triggerEl.contains(Mr)&&this.isVisible()&&this.hide()},_r.prototype.isVisible=function(){return this._visible},_r.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},_r.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(Be){return __assign$1(__assign$1({},Be),{modifiers:__spreadArray(__spreadArray([],Be.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},_r.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(Be){return __assign$1(__assign$1({},Be),{modifiers:__spreadArray(__spreadArray([],Be.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},_r}();function initPopovers(){document.querySelectorAll("[data-popover-target]").forEach(function(_r){var Be=_r.getAttribute("data-popover-target"),Dr=document.getElementById(Be);if(Dr){var Mr=_r.getAttribute("data-popover-trigger"),$r=_r.getAttribute("data-popover-placement"),Br=_r.getAttribute("data-popover-offset");new Popover(Dr,_r,{placement:$r||Default$1.placement,offset:Br?parseInt(Br):Default$1.offset,triggerType:Mr||Default$1.triggerType})}else console.error('The popover element with id "'.concat(Be,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=Popover,window.initPopovers=initPopovers);var __assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(_r){for(var Be,Dr=1,Mr=arguments.length;Dr<Mr;Dr++){Be=arguments[Dr];for(var $r in Be)Object.prototype.hasOwnProperty.call(Be,$r)&&(_r[$r]=Be[$r])}return _r},__assign.apply(this,arguments)},Default={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},Dial=function(){function _r(Be,Dr,Mr,$r){Be===void 0&&(Be=null),Dr===void 0&&(Dr=null),Mr===void 0&&(Mr=null),$r===void 0&&($r=Default),this._parentEl=Be,this._triggerEl=Dr,this._targetEl=Mr,this._options=__assign(__assign({},Default),$r),this._visible=!1,this._init()}return _r.prototype._init=function(){var Be=this;if(this._triggerEl){var Dr=this._getTriggerEventTypes(this._options.triggerType);Dr.showEvents.forEach(function(Mr){Be._triggerEl.addEventListener(Mr,function(){Be.show()}),Be._targetEl.addEventListener(Mr,function(){Be.show()})}),Dr.hideEvents.forEach(function(Mr){Be._parentEl.addEventListener(Mr,function(){Be._parentEl.matches(":hover")||Be.hide()})})}},_r.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},_r.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},_r.prototype.toggle=function(){this._visible?this.hide():this.show()},_r.prototype.isHidden=function(){return!this._visible},_r.prototype.isVisible=function(){return this._visible},_r.prototype._getTriggerEventTypes=function(Be){switch(Be){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},_r}();function initDials(){document.querySelectorAll("[data-dial-init]").forEach(function(_r){var Be=_r.querySelector("[data-dial-toggle]");if(Be){var Dr=Be.getAttribute("data-dial-toggle"),Mr=document.getElementById(Dr);if(Mr){var $r=Be.getAttribute("data-dial-trigger");new Dial(_r,Be,Mr,{triggerType:$r||Default.triggerType})}else console.error("Dial with id ".concat(Dr," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(_r.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=Dial,window.initDials=initDials);function initFlowbite(){initAccordions(),initCollapses(),initCarousels(),initDismisses(),initDropdowns(),initModals(),initDrawers(),initTabs(),initTooltips(),initPopovers(),initDials()}typeof window<"u"&&(window.initFlowbite=initFlowbite);var events=new Events("load",[initAccordions,initCollapses,initCarousels,initDismisses,initDropdowns,initModals,initDrawers,initTabs,initTooltips,initPopovers,initDials]);events.init();function createTagRepeat(_r,Be,Dr={},Mr=0,$r=""){const Br=Object.keys(Dr).reduce((Vr,jr)=>{let Gr=Dr[jr];return typeof Gr=="function"&&(Gr=Gr(Mr)),`${Vr} ${jr}="${Gr}"`},_r);$r+=`<${Br}></${_r}>`;const zr=Mr+1;return zr<Be?createTagRepeat(_r,Be,Dr,zr,$r):$r}function optimizeTemplateHTML(_r){return _r.replace(/>\s+/g,">").replace(/\s+</,"<")}if(!Event.prototype.composedPath){const _r=(Be,Dr=[])=>{Dr.push(Be);let Mr;return Be.parentNode?Mr=Be.parentNode:Be.host?Mr=Be.host:Be.defaultView&&(Mr=Be.defaultView),Mr?_r(Mr,Dr):Dr};Event.prototype.composedPath=function(){return _r(this.target)}}document.createRange();optimizeTemplateHTML(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 dark:bg-blue-600 hover:bg-blue-800 dark:hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`);optimizeTemplateHTML(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">${createTagRepeat("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">${createTagRepeat("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}</div>
</div>`);optimizeTemplateHTML(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">${createTagRepeat("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"})}</div>
</div>`);var sweetalert2$1={exports:{}};/*!
* sweetalert2 v11.7.32
* Released under the MIT License.
*/(function(_r,Be){(function(Dr,Mr){_r.exports=Mr()})(commonjsGlobal,function(){function Dr(Tn,Rn){var Qn=$r(Tn,Rn,"get");return Br(Tn,Qn)}function Mr(Tn,Rn,Qn){var fi=$r(Tn,Rn,"set");return zr(Tn,fi,Qn),Qn}function $r(Tn,Rn,Qn){if(!Rn.has(Tn))throw new TypeError("attempted to "+Qn+" private field on non-instance");return Rn.get(Tn)}function Br(Tn,Rn){return Rn.get?Rn.get.call(Tn):Rn.value}function zr(Tn,Rn,Qn){if(Rn.set)Rn.set.call(Tn,Qn);else{if(!Rn.writable)throw new TypeError("attempted to set read only private field");Rn.value=Qn}}function Vr(Tn,Rn){if(Rn.has(Tn))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jr(Tn,Rn,Qn){Vr(Tn,Rn),Rn.set(Tn,Qn)}const Gr=100,Wr={},Kr=()=>{Wr.previousActiveElement instanceof HTMLElement?(Wr.previousActiveElement.focus(),Wr.previousActiveElement=null):document.body&&document.body.focus()},Zr=Tn=>new Promise(Rn=>{if(!Tn)return Rn();const Qn=window.scrollX,fi=window.scrollY;Wr.restoreFocusTimeout=setTimeout(()=>{Kr(),Rn()},Gr),window.scrollTo(Qn,fi)}),Jr="swal2-",nn=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((Tn,Rn)=>(Tn[Rn]=Jr+Rn,Tn),{}),cn=["success","warning","info","question","error"].reduce((Tn,Rn)=>(Tn[Rn]=Jr+Rn,Tn),{}),hn="SweetAlert2:",mn=Tn=>Tn.charAt(0).toUpperCase()+Tn.slice(1),bn=Tn=>{console.warn("".concat(hn," ").concat(typeof Tn=="object"?Tn.join(" "):Tn))},An=Tn=>{console.error("".concat(hn," ").concat(Tn))},vn=[],dn=Tn=>{vn.includes(Tn)||(vn.push(Tn),bn(Tn))},wn=(Tn,Rn)=>{dn('"'.concat(Tn,'" is deprecated and will be removed in the next major release. Please use "').concat(Rn,'" instead.'))},xn=Tn=>typeof Tn=="function"?Tn():Tn,Mn=Tn=>Tn&&typeof Tn.toPromise=="function",In=Tn=>Mn(Tn)?Tn.toPromise():Promise.resolve(Tn),Hn=Tn=>Tn&&Promise.resolve(Tn)===Tn,$n=()=>document.body.querySelector(".".concat(nn.container)),jn=Tn=>{const Rn=$n();return Rn?Rn.querySelector(Tn):null},Bn=Tn=>jn(".".concat(Tn)),Gn=()=>Bn(nn.popup),ei=()=>Bn(nn.icon),ri=()=>Bn(nn["icon-content"]),vi=()=>Bn(nn.title),wi=()=>Bn(nn["html-container"]),Ni=()=>Bn(nn.image),Yn=()=>Bn(nn["progress-steps"]),Vn=()=>Bn(nn["validation-message"]),si=()=>jn(".".concat(nn.actions," .").concat(nn.confirm)),Ri=()=>jn(".".concat(nn.actions," .").concat(nn.cancel)),Pi=()=>jn(".".concat(nn.actions," .").concat(nn.deny)),Fi=()=>Bn(nn["input-label"]),zi=()=>jn(".".concat(nn.loader)),oo=()=>Bn(nn.actions),lo=()=>Bn(nn.footer),io=()=>Bn(nn["timer-progress-bar"]),Wi=()=>Bn(nn.close),Bo=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Mo=()=>{const Tn=Gn();if(!Tn)return[];const Rn=Tn.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),Qn=Array.from(Rn).sort((Qo,is)=>{const ls=parseInt(Qo.getAttribute("tabindex")||"0"),ks=parseInt(is.getAttribute("tabindex")||"0");return ls>ks?1:ls<ks?-1:0}),fi=Tn.querySelectorAll(Bo),Ki=Array.from(fi).filter(Qo=>Qo.getAttribute("tabindex")!=="-1");return[...new Set(Qn.concat(Ki))].filter(Qo=>so(Qo))},Zi=()=>ba(document.body,nn.shown)&&!ba(document.body,nn["toast-shown"])&&!ba(document.body,nn["no-backdrop"]),Zo=()=>{const Tn=Gn();return Tn?ba(Tn,nn.toast):!1},Wo=()=>{const Tn=Gn();return Tn?Tn.hasAttribute("data-loading"):!1},Ao=(Tn,Rn)=>{if(Tn.textContent="",Rn){const fi=new DOMParser().parseFromString(Rn,"text/html"),Ki=fi.querySelector("head");Ki&&Array.from(Ki.childNodes).forEach(is=>{Tn.appendChild(is)});const Qo=fi.querySelector("body");Qo&&Array.from(Qo.childNodes).forEach(is=>{is instanceof HTMLVideoElement||is instanceof HTMLAudioElement?Tn.appendChild(is.cloneNode(!0)):Tn.appendChild(is)})}},ba=(Tn,Rn)=>{if(!Rn)return!1;const Qn=Rn.split(/\s+/);for(let fi=0;fi<Qn.length;fi++)if(!Tn.classList.contains(Qn[fi]))return!1;return!0},Va=(Tn,Rn)=>{Array.from(Tn.classList).forEach(Qn=>{!Object.values(nn).includes(Qn)&&!Object.values(cn).includes(Qn)&&!Object.values(Rn.showClass||{}).includes(Qn)&&Tn.classList.remove(Qn)})},Ia=(Tn,Rn,Qn)=>{if(Va(Tn,Rn),Rn.customClass&&Rn.customClass[Qn]){if(typeof Rn.customClass[Qn]!="string"&&!Rn.customClass[Qn].forEach){bn("Invalid type of customClass.".concat(Qn,'! Expected string or iterable object, got "').concat(typeof Rn.customClass[Qn],'"'));return}ci(Tn,Rn.customClass[Qn])}},Ua=(Tn,Rn)=>{if(!Rn)return null;switch(Rn){case"select":case"textarea":case"file":return Tn.querySelector(".".concat(nn.popup," > .").concat(nn[Rn]));case"checkbox":return Tn.querySelector(".".concat(nn.popup," > .").concat(nn.checkbox," input"));case"radio":return Tn.querySelector(".".concat(nn.popup," > .").concat(nn.radio," input:checked"))||Tn.querySelector(".".concat(nn.popup," > .").concat(nn.radio," input:first-child"));case"range":return Tn.querySelector(".".concat(nn.popup," > .").concat(nn.range," input"));default:return Tn.querySelector(".".concat(nn.popup," > .").concat(nn.input))}},ka=Tn=>{if(Tn.focus(),Tn.type!=="file"){const Rn=Tn.value;Tn.value="",Tn.value=Rn}},xi=(Tn,Rn,Qn)=>{!Tn||!Rn||(typeof Rn=="string"&&(Rn=Rn.split(/\s+/).filter(Boolean)),Rn.forEach(fi=>{Array.isArray(Tn)?Tn.forEach(Ki=>{Qn?Ki.classList.add(fi):Ki.classList.remove(fi)}):Qn?Tn.classList.add(fi):Tn.classList.remove(fi)}))},ci=(Tn,Rn)=>{xi(Tn,Rn,!0)},_i=(Tn,Rn)=>{xi(Tn,Rn,!1)},Jn=(Tn,Rn)=>{const Qn=Array.from(Tn.children);for(let fi=0;fi<Qn.length;fi++){const Ki=Qn[fi];if(Ki instanceof HTMLElement&&ba(Ki,Rn))return Ki}},ni=(Tn,Rn,Qn)=>{Qn==="".concat(parseInt(Qn))&&(Qn=parseInt(Qn)),Qn||parseInt(Qn)===0?Tn.style[Rn]=typeof Qn=="number"?"".concat(Qn,"px"):Qn:Tn.style.removeProperty(Rn)},mi=function(Tn){let Rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";Tn&&(Tn.style.display=Rn)},di=Tn=>{Tn&&(Tn.style.display="none")},ki=(Tn,Rn,Qn,fi)=>{const Ki=Tn.querySelector(Rn);Ki&&(Ki.style[Qn]=fi)},ao=function(Tn,Rn){let Qn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";Rn?mi(Tn,Qn):di(Tn)},so=Tn=>!!(Tn&&(Tn.offsetWidth||Tn.offsetHeight||Tn.getClientRects().length)),vo=()=>!so(si())&&!so(Pi())&&!so(Ri()),Eo=Tn=>Tn.scrollHeight>Tn.clientHeight,Xo=Tn=>{const Rn=window.getComputedStyle(Tn),Qn=parseFloat(Rn.getPropertyValue("animation-duration")||"0"),fi=parseFloat(Rn.getPropertyValue("transition-duration")||"0");return Qn>0||fi>0},Hi=function(Tn){let Rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const Qn=io();Qn&&so(Qn)&&(Rn&&(Qn.style.transition="none",Qn.style.width="100%"),setTimeout(()=>{Qn.style.transition="width ".concat(Tn/1e3,"s linear"),Qn.style.width="0%"},10))},Po=()=>{const Tn=io();if(!Tn)return;const Rn=parseInt(window.getComputedStyle(Tn).width);Tn.style.removeProperty("transition"),Tn.style.width="100%";const Qn=parseInt(window.getComputedStyle(Tn).width),fi=Rn/Qn*100;Tn.style.width="".concat(fi,"%")},ro=()=>typeof window>"u"||typeof document>"u",ea=`
 <div aria-labelledby="`.concat(nn.title,'" aria-describedby="').concat(nn["html-container"],'" class="').concat(nn.popup,`" tabindex="-1">
   <button type="button" class="`).concat(nn.close,`"></button>
   <ul class="`).concat(nn["progress-steps"],`"></ul>
   <div class="`).concat(nn.icon,`"></div>
   <img class="`).concat(nn.image,`" />
   <h2 class="`).concat(nn.title,'" id="').concat(nn.title,`"></h2>
   <div class="`).concat(nn["html-container"],'" id="').concat(nn["html-container"],`"></div>
   <input class="`).concat(nn.input,'" id="').concat(nn.input,`" />
   <input type="file" class="`).concat(nn.file,`" />
   <div class="`).concat(nn.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat(nn.select,'" id="').concat(nn.select,`"></select>
   <div class="`).concat(nn.radio,`"></div>
   <label class="`).concat(nn.checkbox,`">
     <input type="checkbox" id="`).concat(nn.checkbox,`" />
     <span class="`).concat(nn.label,`"></span>
   </label>
   <textarea class="`).concat(nn.textarea,'" id="').concat(nn.textarea,`"></textarea>
   <div class="`).concat(nn["validation-message"],'" id="').concat(nn["validation-message"],`"></div>
   <div class="`).concat(nn.actions,`">
     <div class="`).concat(nn.loader,`"></div>
     <button type="button" class="`).concat(nn.confirm,`"></button>
     <button type="button" class="`).concat(nn.deny,`"></button>
     <button type="button" class="`).concat(nn.cancel,`"></button>
   </div>
   <div class="`).concat(nn.footer,`"></div>
   <div class="`).concat(nn["timer-progress-bar-container"],`">
     <div class="`).concat(nn["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),la=()=>{const Tn=$n();return Tn?(Tn.remove(),_i([document.documentElement,document.body],[nn["no-backdrop"],nn["toast-shown"],nn["has-column"]]),!0):!1},rs=()=>{Wr.currentInstance.resetValidationMessage()},ca=()=>{const Tn=Gn(),Rn=Jn(Tn,nn.input),Qn=Jn(Tn,nn.file),fi=Tn.querySelector(".".concat(nn.range," input")),Ki=Tn.querySelector(".".concat(nn.range," output")),Qo=Jn(Tn,nn.select),is=Tn.querySelector(".".concat(nn.checkbox," input")),ls=Jn(Tn,nn.textarea);Rn.oninput=rs,Qn.onchange=rs,Qo.onchange=rs,is.onchange=rs,ls.oninput=rs,fi.oninput=()=>{rs(),Ki.value=fi.value},fi.onchange=()=>{rs(),Ki.value=fi.value}},es=Tn=>typeof Tn=="string"?document.querySelector(Tn):Tn,Pa=Tn=>{const Rn=Gn();Rn.setAttribute("role",Tn.toast?"alert":"dialog"),Rn.setAttribute("aria-live",Tn.toast?"polite":"assertive"),Tn.toast||Rn.setAttribute("aria-modal","true")},bs=Tn=>{window.getComputedStyle(Tn).direction==="rtl"&&ci($n(),nn.rtl)},qs=Tn=>{const Rn=la();if(ro()){An("SweetAlert2 requires document to initialize");return}const Qn=document.createElement("div");Qn.className=nn.container,Rn&&ci(Qn,nn["no-transition"]),Ao(Qn,ea);const fi=es(Tn.target);fi.appendChild(Qn),Pa(Tn),bs(fi),ca()},il=(Tn,Rn)=>{Tn instanceof HTMLElement?Rn.appendChild(Tn):typeof Tn=="object"?us(Tn,Rn):Tn&&Ao(Rn,Tn)},us=(Tn,Rn)=>{Tn.jquery?Vl(Rn,Tn):Ao(Rn,Tn.toString())},Vl=(Tn,Rn)=>{if(Tn.textContent="",0 in Rn)for(let Qn=0;Qn in Rn;Qn++)Tn.appendChild(Rn[Qn].cloneNode(!0));else Tn.appendChild(Rn.cloneNode(!0))},Bs=(()=>{if(ro())return!1;const Tn=document.createElement("div");return typeof Tn.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof Tn.style.animation<"u"?"animationend":!1})(),Ts=(Tn,Rn)=>{const Qn=oo(),fi=zi();!Qn||!fi||(!Rn.showConfirmButton&&!Rn.showDenyButton&&!Rn.showCancelButton?di(Qn):mi(Qn),Ia(Qn,Rn,"actions"),Si(Qn,fi,Rn),Ao(fi,Rn.loaderHtml||""),Ia(fi,Rn,"loader"))};function Si(Tn,Rn,Qn){const fi=si(),Ki=Pi(),Qo=Ri();!fi||!Ki||!Qo||(Gi(fi,"confirm",Qn),Gi(Ki,"deny",Qn),Gi(Qo,"cancel",Qn),Mi(fi,Ki,Qo,Qn),Qn.reverseButtons&&(Qn.toast?(Tn.insertBefore(Qo,fi),Tn.insertBefore(Ki,fi)):(Tn.insertBefore(Qo,Rn),Tn.insertBefore(Ki,Rn),Tn.insertBefore(fi,Rn))))}function Mi(Tn,Rn,Qn,fi){if(!fi.buttonsStyling){_i([Tn,Rn,Qn],nn.styled);return}ci([Tn,Rn,Qn],nn.styled),fi.confirmButtonColor&&(Tn.style.backgroundColor=fi.confirmButtonColor,ci(Tn,nn["default-outline"])),fi.denyButtonColor&&(Rn.style.backgroundColor=fi.denyButtonColor,ci(Rn,nn["default-outline"])),fi.cancelButtonColor&&(Qn.style.backgroundColor=fi.cancelButtonColor,ci(Qn,nn["default-outline"]))}function Gi(Tn,Rn,Qn){const fi=mn(Rn);ao(Tn,Qn["show".concat(fi,"Button")],"inline-block"),Ao(Tn,Qn["".concat(Rn,"ButtonText")]||""),Tn.setAttribute("aria-label",Qn["".concat(Rn,"ButtonAriaLabel")]||""),Tn.className=nn[Rn],Ia(Tn,Qn,"".concat(Rn,"Button"))}const yo=(Tn,Rn)=>{const Qn=Wi();Qn&&(Ao(Qn,Rn.closeButtonHtml||""),Ia(Qn,Rn,"closeButton"),ao(Qn,Rn.showCloseButton),Qn.setAttribute("aria-label",Rn.closeButtonAriaLabel||""))},zo=(Tn,Rn)=>{const Qn=$n();Qn&&(xo(Qn,Rn.backdrop),bo(Qn,Rn.position),Sa(Qn,Rn.grow),Ia(Qn,Rn,"container"))};function xo(Tn,Rn){typeof Rn=="string"?Tn.style.background=Rn:Rn||ci([document.documentElement,document.body],nn["no-backdrop"])}function bo(Tn,Rn){Rn&&(Rn in nn?ci(Tn,nn[Rn]):(bn('The "position" parameter is not valid, defaulting to "center"'),ci(Tn,nn.center)))}function Sa(Tn,Rn){Rn&&ci(Tn,nn["grow-".concat(Rn)])}var Io={innerParams:new WeakMap,domCache:new WeakMap};const aa=["input","file","range","select","radio","checkbox","textarea"],ma=(Tn,Rn)=>{const Qn=Gn();if(!Qn)return;const fi=Io.innerParams.get(Tn),Ki=!fi||Rn.input!==fi.input;aa.forEach(Qo=>{const is=Jn(Qn,nn[Qo]);is&&(Oa(Qo,Rn.inputAttributes),is.className=nn[Qo],Ki&&di(is))}),Rn.input&&(Ki&&Na(Rn),Ga(Rn))},Na=Tn=>{if(!Tn.input)return;if(!ko[Tn.input]){An('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(Tn.input,'"'));return}const Rn=na(Tn.input),Qn=ko[Tn.input](Rn,Tn);mi(Rn),Tn.inputAutoFocus&&setTimeout(()=>{ka(Qn)})},ts=Tn=>{for(let Rn=0;Rn<Tn.attributes.length;Rn++){const Qn=Tn.attributes[Rn].name;["id","type","value","style"].includes(Qn)||Tn.removeAttribute(Qn)}},Oa=(Tn,Rn)=>{const Qn=Ua(Gn(),Tn);if(Qn){ts(Qn);for(const fi in Rn)Qn.setAttribute(fi,Rn[fi])}},Ga=Tn=>{const Rn=na(Tn.input);typeof Tn.customClass=="object"&&ci(Rn,Tn.customClass.input)},ra=(Tn,Rn)=>{(!Tn.placeholder||Rn.inputPlaceholder)&&(Tn.placeholder=Rn.inputPlaceholder)},Yo=(Tn,Rn,Qn)=>{if(Qn.inputLabel){const fi=document.createElement("label"),Ki=nn["input-label"];fi.setAttribute("for",Tn.id),fi.className=Ki,typeof Qn.customClass=="object"&&ci(fi,Qn.customClass.inputLabel),fi.innerText=Qn.inputLabel,Rn.insertAdjacentElement("beforebegin",fi)}},na=Tn=>Jn(Gn(),nn[Tn]||nn.input),qo=(Tn,Rn)=>{["string","number"].includes(typeof Rn)?Tn.value="".concat(Rn):Hn(Rn)||bn('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof Rn,'"'))},ko={};ko.text=ko.email=ko.password=ko.number=ko.tel=ko.url=(Tn,Rn)=>(qo(Tn,Rn.inputValue),Yo(Tn,Tn,Rn),ra(Tn,Rn),Tn.type=Rn.input,Tn),ko.file=(Tn,Rn)=>(Yo(Tn,Tn,Rn),ra(Tn,Rn),Tn),ko.range=(Tn,Rn)=>{const Qn=Tn.querySelector("input"),fi=Tn.querySelector("output");return qo(Qn,Rn.inputValue),Qn.type=Rn.input,qo(fi,Rn.inputValue),Yo(Qn,Tn,Rn),Tn},ko.select=(Tn,Rn)=>{if(Tn.textContent="",Rn.inputPlaceholder){const Qn=document.createElement("option");Ao(Qn,Rn.inputPlaceholder),Qn.value="",Qn.disabled=!0,Qn.selected=!0,Tn.appendChild(Qn)}return Yo(Tn,Tn,Rn),Tn},ko.radio=Tn=>(Tn.textContent="",Tn),ko.checkbox=(Tn,Rn)=>{const Qn=Ua(Gn(),"checkbox");Qn.value="1",Qn.checked=!!Rn.inputValue;const fi=Tn.querySelector("span");return Ao(fi,Rn.inputPlaceholder),Qn},ko.textarea=(Tn,Rn)=>{qo(Tn,Rn.inputValue),ra(Tn,Rn),Yo(Tn,Tn,Rn);const Qn=fi=>parseInt(window.getComputedStyle(fi).marginLeft)+parseInt(window.getComputedStyle(fi).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const fi=parseInt(window.getComputedStyle(Gn()).width),Ki=()=>{if(!document.body.contains(Tn))return;const Qo=Tn.offsetWidth+Qn(Tn);Qo>fi?Gn().style.width="".concat(Qo,"px"):ni(Gn(),"width",Rn.width)};new MutationObserver(Ki).observe(Tn,{attributes:!0,attributeFilter:["style"]})}}),Tn};const bi=(Tn,Rn)=>{const Qn=wi();Qn&&(Ia(Qn,Rn,"htmlContainer"),Rn.html?(il(Rn.html,Qn),mi(Qn,"block")):Rn.text?(Qn.textContent=Rn.text,mi(Qn,"block")):di(Qn),ma(Tn,Rn))},ds=(Tn,Rn)=>{const Qn=lo();Qn&&(ao(Qn,Rn.footer,"block"),Rn.footer&&il(Rn.footer,Qn),Ia(Qn,Rn,"footer"))},sa=(Tn,Rn)=>{const Qn=Io.innerParams.get(Tn),fi=ei();if(fi){if(Qn&&Rn.icon===Qn.icon){ol(fi,Rn),Ms(fi,Rn);return}if(!Rn.icon&&!Rn.iconHtml){di(fi);return}if(Rn.icon&&Object.keys(cn).indexOf(Rn.icon)===-1){An('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(Rn.icon,'"')),di(fi);return}mi(fi),ol(fi,Rn),Ms(fi,Rn),ci(fi,Rn.showClass&&Rn.showClass.icon)}},Ms=(Tn,Rn)=>{for(const[Qn,fi]of Object.entries(cn))Rn.icon!==Qn&&_i(Tn,fi);ci(Tn,Rn.icon&&cn[Rn.icon]),Ji(Tn,Rn),Aa(),Ia(Tn,Rn,"icon")},Aa=()=>{const Tn=Gn();if(!Tn)return;const Rn=window.getComputedStyle(Tn).getPropertyValue("background-color"),Qn=Tn.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let fi=0;fi<Qn.length;fi++)Qn[fi].style.backgroundColor=Rn},Fs=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Qs=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ol=(Tn,Rn)=>{if(!Rn.icon&&!Rn.iconHtml)return;let Qn=Tn.innerHTML,fi="";Rn.iconHtml?fi=Uo(Rn.iconHtml):Rn.icon==="success"?(fi=Fs,Qn=Qn.replace(/ style=".*?"/g,"")):Rn.icon==="error"?fi=Qs:Rn.icon&&(fi=Uo({question:"?",warning:"!",info:"i"}[Rn.icon])),Qn.trim()!==fi.trim()&&Ao(Tn,fi)},Ji=(Tn,Rn)=>{if(Rn.iconColor){Tn.style.color=Rn.iconColor,Tn.style.borderColor=Rn.iconColor;for(const Qn of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ki(Tn,Qn,"backgroundColor",Rn.iconColor);ki(Tn,".swal2-success-ring","borderColor",Rn.iconColor)}},Uo=Tn=>'<div class="'.concat(nn["icon-content"],'">').concat(Tn,"</div>"),hs=(Tn,Rn)=>{const Qn=Ni();if(Qn){if(!Rn.imageUrl){di(Qn);return}mi(Qn,""),Qn.setAttribute("src",Rn.imageUrl),Qn.setAttribute("alt",Rn.imageAlt||""),ni(Qn,"width",Rn.imageWidth),ni(Qn,"height",Rn.imageHeight),Qn.className=nn.image,Ia(Qn,Rn,"image")}},ml=(Tn,Rn)=>{const Qn=$n(),fi=Gn();if(!(!Qn||!fi)){if(Rn.toast){ni(Qn,"width",Rn.width),fi.style.width="100%";const Ki=zi();Ki&&fi.insertBefore(Ki,ei())}else ni(fi,"width",Rn.width);ni(fi,"padding",Rn.padding),Rn.color&&(fi.style.color=Rn.color),Rn.background&&(fi.style.background=Rn.background),di(Vn()),hi(fi,Rn)}},hi=(Tn,Rn)=>{const Qn=Rn.showClass||{};Tn.className="".concat(nn.popup," ").concat(so(Tn)?Qn.popup:""),Rn.toast?(ci([document.documentElement,document.body],nn["toast-shown"]),ci(Tn,nn.toast)):ci(Tn,nn.modal),Ia(Tn,Rn,"popup"),typeof Rn.customClass=="string"&&ci(Tn,Rn.customClass),Rn.icon&&ci(Tn,nn["icon-".concat(Rn.icon)])},oi=(Tn,Rn)=>{const Qn=Yn();if(!Qn)return;const{progressSteps:fi,currentProgressStep:Ki}=Rn;if(!fi||fi.length===0||Ki===void 0){di(Qn);return}mi(Qn),Qn.textContent="",Ki>=fi.length&&bn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),fi.forEach((Qo,is)=>{const ls=Di(Qo);if(Qn.appendChild(ls),is===Ki&&ci(ls,nn["active-progress-step"]),is!==fi.length-1){const ks=Li(Rn);Qn.appendChild(ks)}})},Di=Tn=>{const Rn=document.createElement("li");return ci(Rn,nn["progress-step"]),Ao(Rn,Tn),Rn},Li=Tn=>{const Rn=document.createElement("li");return ci(Rn,nn["progress-step-line"]),Tn.progressStepsDistance&&ni(Rn,"width",Tn.progressStepsDistance),Rn},Qi=(Tn,Rn)=>{const Qn=vi();Qn&&(ao(Qn,Rn.title||Rn.titleText,"block"),Rn.title&&il(Rn.title,Qn),Rn.titleText&&(Qn.innerText=Rn.titleText),Ia(Qn,Rn,"title"))},po=(Tn,Rn)=>{ml(Tn,Rn),zo(Tn,Rn),oi(Tn,Rn),sa(Tn,Rn),hs(Tn,Rn),Qi(Tn,Rn),yo(Tn,Rn),bi(Tn,Rn),Ts(Tn,Rn),ds(Tn,Rn);const Qn=Gn();typeof Rn.didRender=="function"&&Qn&&Rn.didRender(Qn)},To=()=>so(Gn()),ho=()=>{var Tn;return(Tn=si())===null||Tn===void 0?void 0:Tn.click()},Ho=()=>{var Tn;return(Tn=Pi())===null||Tn===void 0?void 0:Tn.click()},Ko=()=>{var Tn;return(Tn=Ri())===null||Tn===void 0?void 0:Tn.click()},So=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ra=Tn=>{Tn.keydownTarget&&Tn.keydownHandlerAdded&&(Tn.keydownTarget.removeEventListener("keydown",Tn.keydownHandler,{capture:Tn.keydownListenerCapture}),Tn.keydownHandlerAdded=!1)},Ja=(Tn,Rn,Qn)=>{Ra(Tn),Rn.toast||(Tn.keydownHandler=fi=>Ca(Rn,fi,Qn),Tn.keydownTarget=Rn.keydownListenerCapture?window:Gn(),Tn.keydownListenerCapture=Rn.keydownListenerCapture,Tn.keydownTarget.addEventListener("keydown",Tn.keydownHandler,{capture:Tn.keydownListenerCapture}),Tn.keydownHandlerAdded=!0)},Da=(Tn,Rn)=>{var Qn;const fi=Mo();if(fi.length){Tn=Tn+Rn,Tn===fi.length?Tn=0:Tn===-1&&(Tn=fi.length-1),fi[Tn].focus();return}(Qn=Gn())===null||Qn===void 0||Qn.focus()},ha=["ArrowRight","ArrowDown"],Ea=["ArrowLeft","ArrowUp"],Ca=(Tn,Rn,Qn)=>{Tn&&(Rn.isComposing||Rn.keyCode===229||(Tn.stopKeydownPropagation&&Rn.stopPropagation(),Rn.key==="Enter"?_s(Rn,Tn):Rn.key==="Tab"?Wa(Rn):[...ha,...Ea].includes(Rn.key)?fs(Rn.key):Rn.key==="Escape"&&oa(Rn,Tn,Qn)))},_s=(Tn,Rn)=>{if(!xn(Rn.allowEnterKey))return;const Qn=Ua(Gn(),Rn.input);if(Tn.target&&Qn&&Tn.target instanceof HTMLElement&&Tn.target.outerHTML===Qn.outerHTML){if(["textarea","file"].includes(Rn.input))return;ho(),Tn.preventDefault()}},Wa=Tn=>{const Rn=Tn.target,Qn=Mo();let fi=-1;for(let Ki=0;Ki<Qn.length;Ki++)if(Rn===Qn[Ki]){fi=Ki;break}Tn.shiftKey?Da(fi,-1):Da(fi,1),Tn.stopPropagation(),Tn.preventDefault()},fs=Tn=>{const Rn=oo(),Qn=si(),fi=Pi(),Ki=Ri();if(!Rn||!Qn||!fi||!Ki)return;const Qo=[Qn,fi,Ki];if(document.activeElement instanceof HTMLElement&&!Qo.includes(document.activeElement))return;const is=ha.includes(Tn)?"nextElementSibling":"previousElementSibling";let ls=document.activeElement;if(ls){for(let ks=0;ks<Rn.children.length;ks++){if(ls=ls[is],!ls)return;if(ls instanceof HTMLButtonElement&&so(ls))break}ls instanceof HTMLButtonElement&&ls.focus()}},oa=(Tn,Rn,Qn)=>{xn(Rn.allowEscapeKey)&&(Tn.preventDefault(),Qn(So.esc))};var va={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ba=()=>{Array.from(document.body.children).forEach(Rn=>{Rn===$n()||Rn.contains($n())||(Rn.hasAttribute("aria-hidden")&&Rn.setAttribute("data-previous-aria-hidden",Rn.getAttribute("aria-hidden")||""),Rn.setAttribute("aria-hidden","true"))})},ps=()=>{Array.from(document.body.children).forEach(Rn=>{Rn.hasAttribute("data-previous-aria-hidden")?(Rn.setAttribute("aria-hidden",Rn.getAttribute("data-previous-aria-hidden")||""),Rn.removeAttribute("data-previous-aria-hidden")):Rn.removeAttribute("aria-hidden")})},Za=typeof window<"u"&&!!window.GestureEvent,gs=()=>{if(Za&&!ba(document.body,nn.iosfix)){const Tn=document.body.scrollTop;document.body.style.top="".concat(Tn*-1,"px"),ci(document.body,nn.iosfix),Ss()}},Ss=()=>{const Tn=$n();if(!Tn)return;let Rn;Tn.ontouchstart=Qn=>{Rn=ws(Qn)},Tn.ontouchmove=Qn=>{Rn&&(Qn.preventDefault(),Qn.stopPropagation())}},ws=Tn=>{const Rn=Tn.target,Qn=$n(),fi=wi();return!Qn||!fi||xl(Tn)||al(Tn)?!1:Rn===Qn||!Eo(Qn)&&Rn instanceof HTMLElement&&Rn.tagName!=="INPUT"&&Rn.tagName!=="TEXTAREA"&&!(Eo(fi)&&fi.contains(Rn))},xl=Tn=>Tn.touches&&Tn.touches.length&&Tn.touches[0].touchType==="stylus",al=Tn=>Tn.touches&&Tn.touches.length>1,Il=()=>{if(ba(document.body,nn.iosfix)){const Tn=parseInt(document.body.style.top,10);_i(document.body,nn.iosfix),document.body.style.top="",document.body.scrollTop=Tn*-1}},Ql=()=>{const Tn=document.createElement("div");Tn.className=nn["scrollbar-measure"],document.body.appendChild(Tn);const Rn=Tn.getBoundingClientRect().width-Tn.clientWidth;return document.body.removeChild(Tn),Rn};let vl=null;const yl=Tn=>{vl===null&&(document.body.scrollHeight>window.innerHeight||Tn==="scroll")&&(vl=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(vl+Ql(),"px"))},xc=()=>{vl!==null&&(document.body.style.paddingRight="".concat(vl,"px"),vl=null)};function dl(Tn,Rn,Qn,fi){Zo()?Is(Tn,fi):(Zr(Qn).then(()=>Is(Tn,fi)),Ra(Wr)),Za?(Rn.setAttribute("style","display:none !important"),Rn.removeAttribute("class"),Rn.innerHTML=""):Rn.remove(),Zi()&&(xc(),Il(),ps()),Ll()}function Ll(){_i([document.documentElement,document.body],[nn.shown,nn["height-auto"],nn["no-backdrop"],nn["toast-shown"]])}function Ta(Tn){Tn=ua(Tn);const Rn=va.swalPromiseResolve.get(this),Qn=qi(this);this.isAwaitingPromise?Tn.isDismissed||(jo(this),Rn(Tn)):Qn&&Rn(Tn)}const qi=Tn=>{const Rn=Gn();if(!Rn)return!1;const Qn=Io.innerParams.get(Tn);if(!Qn||ba(Rn,Qn.hideClass.popup))return!1;_i(Rn,Qn.showClass.popup),ci(Rn,Qn.hideClass.popup);const fi=$n();return _i(fi,Qn.showClass.backdrop),ci(fi,Qn.hideClass.backdrop),xa(Tn,Rn,Qn),!0};function Fo(Tn){const Rn=va.swalPromiseReject.get(this);jo(this),Rn&&Rn(Tn)}const jo=Tn=>{Tn.isAwaitingPromise&&(delete Tn.isAwaitingPromise,Io.innerParams.get(Tn)||Tn._destroy())},ua=Tn=>typeof Tn>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},Tn),xa=(Tn,Rn,Qn)=>{const fi=$n(),Ki=Bs&&Xo(Rn);typeof Qn.willClose=="function"&&Qn.willClose(Rn),Ki?Ya(Tn,Rn,fi,Qn.returnFocus,Qn.didClose):dl(Tn,fi,Qn.returnFocus,Qn.didClose)},Ya=(Tn,Rn,Qn,fi,Ki)=>{Bs&&(Wr.swalCloseEventFinishedCallback=dl.bind(null,Tn,Qn,fi,Ki),Rn.addEventListener(Bs,function(Qo){Qo.target===Rn&&(Wr.swalCloseEventFinishedCallback(),delete Wr.swalCloseEventFinishedCallback)}))},Is=(Tn,Rn)=>{setTimeout(()=>{typeof Rn=="function"&&Rn.bind(Tn.params)(),Tn._destroy&&Tn._destroy()})},Ls=Tn=>{let Rn=Gn();if(Rn||new nc,Rn=Gn(),!Rn)return;const Qn=zi();Zo()?di(ei()):dc(Rn,Tn),mi(Qn),Rn.setAttribute("data-loading","true"),Rn.setAttribute("aria-busy","true"),Rn.focus()},dc=(Tn,Rn)=>{const Qn=oo(),fi=zi();!Qn||!fi||(!Rn&&so(si())&&(Rn=si()),mi(Qn),Rn&&(di(Rn),fi.setAttribute("data-button-to-replace",Rn.className),Qn.insertBefore(fi,Rn)),ci([Tn,Qn],nn.loading))},bl=(Tn,Rn)=>{Rn.input==="select"||Rn.input==="radio"?Sn(Tn,Rn):["text","email","number","tel","textarea"].some(Qn=>Qn===Rn.input)&&(Mn(Rn.inputValue)||Hn(Rn.inputValue))&&(Ls(si()),Pn(Tn,Rn))},Sl=(Tn,Rn)=>{const Qn=Tn.getInput();if(!Qn)return null;switch(Rn.input){case"checkbox":return jl(Qn);case"radio":return sl(Qn);case"file":return _n(Qn);default:return Rn.inputAutoTrim?Qn.value.trim():Qn.value}},jl=Tn=>Tn.checked?1:0,sl=Tn=>Tn.checked?Tn.value:null,_n=Tn=>Tn.files&&Tn.files.length?Tn.getAttribute("multiple")!==null?Tn.files:Tn.files[0]:null,Sn=(Tn,Rn)=>{const Qn=Gn();if(!Qn)return;const fi=Ki=>{Rn.input==="select"?Nn(Qn,Kn(Ki),Rn):Rn.input==="radio"&&qn(Qn,Kn(Ki),Rn)};Mn(Rn.inputOptions)||Hn(Rn.inputOptions)?(Ls(si()),In(Rn.inputOptions).then(Ki=>{Tn.hideLoading(),fi(Ki)})):typeof Rn.inputOptions=="object"?fi(Rn.inputOptions):An("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof Rn.inputOptions))},Pn=(Tn,Rn)=>{const Qn=Tn.getInput();Qn&&(di(Qn),In(Rn.inputValue).then(fi=>{Qn.value=Rn.input==="number"?"".concat(parseFloat(fi)||0):"".concat(fi),mi(Qn),Qn.focus(),Tn.hideLoading()}).catch(fi=>{An("Error in inputValue promise: ".concat(fi)),Qn.value="",mi(Qn),Qn.focus(),Tn.hideLoading()}))};function Nn(Tn,Rn,Qn){const fi=Jn(Tn,nn.select);if(!fi)return;const Ki=(Qo,is,ls)=>{const ks=document.createElement("option");ks.value=ls,Ao(ks,is),ks.selected=ti(ls,Qn.inputValue),Qo.appendChild(ks)};Rn.forEach(Qo=>{const is=Qo[0],ls=Qo[1];if(Array.isArray(ls)){const ks=document.createElement("optgroup");ks.label=is,ks.disabled=!1,fi.appendChild(ks),ls.forEach(gu=>Ki(ks,gu[1],gu[0]))}else Ki(fi,ls,is)}),fi.focus()}function qn(Tn,Rn,Qn){const fi=Jn(Tn,nn.radio);if(!fi)return;Rn.forEach(Qo=>{const is=Qo[0],ls=Qo[1],ks=document.createElement("input"),gu=document.createElement("label");ks.type="radio",ks.name=nn.radio,ks.value=is,ti(is,Qn.inputValue)&&(ks.checked=!0);const mu=document.createElement("span");Ao(mu,ls),mu.className=nn.label,gu.appendChild(ks),gu.appendChild(mu),fi.appendChild(gu)});const Ki=fi.querySelectorAll("input");Ki.length&&Ki[0].focus()}const Kn=Tn=>{const Rn=[];return Tn instanceof Map?Tn.forEach((Qn,fi)=>{let Ki=Qn;typeof Ki=="object"&&(Ki=Kn(Ki)),Rn.push([fi,Ki])}):Object.keys(Tn).forEach(Qn=>{let fi=Tn[Qn];typeof fi=="object"&&(fi=Kn(fi)),Rn.push([Qn,fi])}),Rn},ti=(Tn,Rn)=>!!Rn&&Rn.toString()===Tn.toString(),yi=Tn=>{const Rn=Io.innerParams.get(Tn);Tn.disableButtons(),Rn.input?ji(Tn,"confirm"):Fa(Tn,!0)},gi=Tn=>{const Rn=Io.innerParams.get(Tn);Tn.disableButtons(),Rn.returnInputValueOnDeny?ji(Tn,"deny"):$i(Tn,!1)},Ei=(Tn,Rn)=>{Tn.disableButtons(),Rn(So.cancel)},ji=(Tn,Rn)=>{const Qn=Io.innerParams.get(Tn);if(!Qn.input){An('The "input" parameter is needed to be set when using returnInputValueOn'.concat(mn(Rn)));return}const fi=Tn.getInput(),Ki=Sl(Tn,Qn);Qn.inputValidator?eo(Tn,Ki,Rn):fi&&!fi.checkValidity()?(Tn.enableButtons(),Tn.showValidationMessage(Qn.validationMessage)):Rn==="deny"?$i(Tn,Ki):Fa(Tn,Ki)},eo=(Tn,Rn,Qn)=>{const fi=Io.innerParams.get(Tn);Tn.disableInput(),Promise.resolve().then(()=>In(fi.inputValidator(Rn,fi.validationMessage))).then(Qo=>{Tn.enableButtons(),Tn.enableInput(),Qo?Tn.showValidationMessage(Qo):Qn==="deny"?$i(Tn,Rn):Fa(Tn,Rn)})},$i=(Tn,Rn)=>{const Qn=Io.innerParams.get(Tn||void 0);Qn.showLoaderOnDeny&&Ls(Pi()),Qn.preDeny?(Tn.isAwaitingPromise=!0,Promise.resolve().then(()=>In(Qn.preDeny(Rn,Qn.validationMessage))).then(Ki=>{Ki===!1?(Tn.hideLoading(),jo(Tn)):Tn.close({isDenied:!0,value:typeof Ki>"u"?Rn:Ki})}).catch(Ki=>da(Tn||void 0,Ki))):Tn.close({isDenied:!0,value:Rn})},uo=(Tn,Rn)=>{Tn.close({isConfirmed:!0,value:Rn})},da=(Tn,Rn)=>{Tn.rejectPromise(Rn)},Fa=(Tn,Rn)=>{const Qn=Io.innerParams.get(Tn||void 0);Qn.showLoaderOnConfirm&&Ls(),Qn.preConfirm?(Tn.resetValidationMessage(),Tn.isAwaitingPromise=!0,Promise.resolve().then(()=>In(Qn.preConfirm(Rn,Qn.validationMessage))).then(Ki=>{so(Vn())||Ki===!1?(Tn.hideLoading(),jo(Tn)):uo(Tn,typeof Ki>"u"?Rn:Ki)}).catch(Ki=>da(Tn||void 0,Ki))):uo(Tn,Rn)};function fa(){const Tn=Io.innerParams.get(this);if(!Tn)return;const Rn=Io.domCache.get(this);di(Rn.loader),Zo()?Tn.icon&&mi(ei()):Ps(Rn),_i([Rn.popup,Rn.actions],nn.loading),Rn.popup.removeAttribute("aria-busy"),Rn.popup.removeAttribute("data-loading"),Rn.confirmButton.disabled=!1,Rn.denyButton.disabled=!1,Rn.cancelButton.disabled=!1}const Ps=Tn=>{const Rn=Tn.popup.getElementsByClassName(Tn.loader.getAttribute("data-button-to-replace"));Rn.length?mi(Rn[0],"inline-block"):vo()&&di(Tn.actions)};function Ks(){const Tn=Io.innerParams.get(this),Rn=Io.domCache.get(this);return Rn?Ua(Rn.popup,Tn.input):null}function Kl(Tn,Rn,Qn){const fi=Io.domCache.get(Tn);Rn.forEach(Ki=>{fi[Ki].disabled=Qn})}function Ul(Tn,Rn){const Qn=Gn();if(!(!Qn||!Tn))if(Tn.type==="radio"){const fi=Qn.querySelectorAll('[name="'.concat(nn.radio,'"]'));for(let Ki=0;Ki<fi.length;Ki++)fi[Ki].disabled=Rn}else Tn.disabled=Rn}function Ma(){Kl(this,["confirmButton","denyButton","cancelButton"],!1)}function vs(){Kl(this,["confirmButton","denyButton","cancelButton"],!0)}function Ka(){Ul(this.getInput(),!1)}function Es(){Ul(this.getInput(),!0)}function Jl(Tn){const Rn=Io.domCache.get(this),Qn=Io.innerParams.get(this);Ao(Rn.validationMessage,Tn),Rn.validationMessage.className=nn["validation-message"],Qn.customClass&&Qn.customClass.validationMessage&&ci(Rn.validationMessage,Qn.customClass.validationMessage),mi(Rn.validationMessage);const fi=this.getInput();fi&&(fi.setAttribute("aria-invalid","true"),fi.setAttribute("aria-describedby",nn["validation-message"]),ka(fi),ci(fi,nn.inputerror))}function Gc(){const Tn=Io.domCache.get(this);Tn.validationMessage&&di(Tn.validationMessage);const Rn=this.getInput();Rn&&(Rn.removeAttribute("aria-invalid"),Rn.removeAttribute("aria-describedby"),_i(Rn,nn.inputerror))}const _l={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Lc=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pl={},ec=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],tc=Tn=>Object.prototype.hasOwnProperty.call(_l,Tn),Ol=Tn=>Lc.indexOf(Tn)!==-1,Wc=Tn=>Pl[Tn],rc=Tn=>{tc(Tn)||bn('Unknown parameter "'.concat(Tn,'"'))},hc=Tn=>{ec.includes(Tn)&&bn('The parameter "'.concat(Tn,'" is incompatible with toasts'))},Yc=Tn=>{const Rn=Wc(Tn);Rn&&wn(Tn,Rn)},mc=Tn=>{Tn.backdrop===!1&&Tn.allowOutsideClick&&bn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const Rn in Tn)rc(Rn),Tn.toast&&hc(Rn),Yc(Rn)};function hu(Tn){const Rn=Gn(),Qn=Io.innerParams.get(this);if(!Rn||ba(Rn,Qn.hideClass.popup)){bn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const fi=ns(Tn),Ki=Object.assign({},Qn,fi);po(this,Ki),Io.innerParams.set(this,Ki),Object.defineProperties(this,{params:{value:Object.assign({},this.params,Tn),writable:!1,enumerable:!0}})}const ns=Tn=>{const Rn={};return Object.keys(Tn).forEach(Qn=>{Ol(Qn)?Rn[Qn]=Tn[Qn]:bn("Invalid parameter to update: ".concat(Qn))}),Rn};function qc(){const Tn=Io.domCache.get(this),Rn=Io.innerParams.get(this);if(!Rn){Js(this);return}Tn.popup&&Wr.swalCloseEventFinishedCallback&&(Wr.swalCloseEventFinishedCallback(),delete Wr.swalCloseEventFinishedCallback),typeof Rn.didDestroy=="function"&&Rn.didDestroy(),Zs(this)}const Zs=Tn=>{Js(Tn),delete Tn.params,delete Wr.keydownHandler,delete Wr.keydownTarget,delete Wr.currentInstance},Js=Tn=>{Tn.isAwaitingPromise?(vc(Io,Tn),Tn.isAwaitingPromise=!0):(vc(va,Tn),vc(Io,Tn),delete Tn.isAwaitingPromise,delete Tn.disableButtons,delete Tn.enableButtons,delete Tn.getInput,delete Tn.disableInput,delete Tn.enableInput,delete Tn.hideLoading,delete Tn.disableLoading,delete Tn.showValidationMessage,delete Tn.resetValidationMessage,delete Tn.close,delete Tn.closePopup,delete Tn.closeModal,delete Tn.closeToast,delete Tn.rejectPromise,delete Tn.update,delete Tn._destroy)},vc=(Tn,Rn)=>{for(const Qn in Tn)Tn[Qn].delete(Rn)};var $d=Object.freeze({__proto__:null,_destroy:qc,close:Ta,closeModal:Ta,closePopup:Ta,closeToast:Ta,disableButtons:vs,disableInput:Es,disableLoading:fa,enableButtons:Ma,enableInput:Ka,getInput:Ks,handleAwaitingPromise:jo,hideLoading:fa,rejectPromise:Fo,resetValidationMessage:Gc,showValidationMessage:Jl,update:hu});const Ku=(Tn,Rn,Qn)=>{Tn.toast?fc(Tn,Rn,Qn):(Pc(Rn),Rl(Rn),Zc(Tn,Rn,Qn))},fc=(Tn,Rn,Qn)=>{Rn.popup.onclick=()=>{Tn&&(Kc(Tn)||Tn.timer||Tn.input)||Qn(So.close)}},Kc=Tn=>!!(Tn.showConfirmButton||Tn.showDenyButton||Tn.showCancelButton||Tn.showCloseButton);let Gl=!1;const Pc=Tn=>{Tn.popup.onmousedown=()=>{Tn.container.onmouseup=function(Rn){Tn.container.onmouseup=()=>{},Rn.target===Tn.container&&(Gl=!0)}}},Rl=Tn=>{Tn.container.onmousedown=()=>{Tn.popup.onmouseup=function(Rn){Tn.popup.onmouseup=()=>{},(Rn.target===Tn.popup||Rn.target instanceof HTMLElement&&Tn.popup.contains(Rn.target))&&(Gl=!0)}}},Zc=(Tn,Rn,Qn)=>{Rn.container.onclick=fi=>{if(Gl){Gl=!1;return}fi.target===Rn.container&&xn(Tn.allowOutsideClick)&&Qn(So.backdrop)}},Xc=Tn=>typeof Tn=="object"&&Tn.jquery,Tu=Tn=>Tn instanceof Element||Xc(Tn),gd=Tn=>{const Rn={};return typeof Tn[0]=="object"&&!Tu(Tn[0])?Object.assign(Rn,Tn[0]):["title","html","icon"].forEach((Qn,fi)=>{const Ki=Tn[fi];typeof Ki=="string"||Tu(Ki)?Rn[Qn]=Ki:Ki!==void 0&&An("Unexpected type of ".concat(Qn,'! Expected "string" or "Element", got ').concat(typeof Ki))}),Rn};function Mu(){const Tn=this;for(var Rn=arguments.length,Qn=new Array(Rn),fi=0;fi<Rn;fi++)Qn[fi]=arguments[fi];return new Tn(...Qn)}function fu(Tn){class Rn extends this{_main(fi,Ki){return super._main(fi,Object.assign({},Tn,Ki))}}return Rn}const Iu=()=>Wr.timeout&&Wr.timeout.getTimerLeft(),Oc=()=>{if(Wr.timeout)return Po(),Wr.timeout.stop()},pu=()=>{if(Wr.timeout){const Tn=Wr.timeout.start();return Hi(Tn),Tn}},Lu=()=>{const Tn=Wr.timeout;return Tn&&(Tn.running?Oc():pu())},li=Tn=>{if(Wr.timeout){const Rn=Wr.timeout.increase(Tn);return Hi(Rn,!0),Rn}},Ai=()=>!!(Wr.timeout&&Wr.timeout.isRunning());let Oi=!1;const Bi={};function Yi(){let Tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Bi[Tn]=this,Oi||(document.body.addEventListener("click",wo),Oi=!0)}const wo=Tn=>{for(let Rn=Tn.target;Rn&&Rn!==document;Rn=Rn.parentNode)for(const Qn in Bi){const fi=Rn.getAttribute(Qn);if(fi){Bi[Qn].fire({template:fi});return}}};var Ro=Object.freeze({__proto__:null,argsToParams:gd,bindClickHandler:Yi,clickCancel:Ko,clickConfirm:ho,clickDeny:Ho,enableLoading:Ls,fire:Mu,getActions:oo,getCancelButton:Ri,getCloseButton:Wi,getConfirmButton:si,getContainer:$n,getDenyButton:Pi,getFocusableElements:Mo,getFooter:lo,getHtmlContainer:wi,getIcon:ei,getIconContent:ri,getImage:Ni,getInputLabel:Fi,getLoader:zi,getPopup:Gn,getProgressSteps:Yn,getTimerLeft:Iu,getTimerProgressBar:io,getTitle:vi,getValidationMessage:Vn,increaseTimer:li,isDeprecatedParameter:Wc,isLoading:Wo,isTimerRunning:Ai,isUpdatableParameter:Ol,isValidParameter:tc,isVisible:To,mixin:fu,resumeTimer:pu,showLoading:Ls,stopTimer:Oc,toggleTimer:Lu});class _o{constructor(Rn,Qn){this.callback=Rn,this.remaining=Qn,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(Rn){const Qn=this.running;return Qn&&this.stop(),this.remaining+=Rn,Qn&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Oo=["swal-title","swal-html","swal-footer"],La=Tn=>{const Rn=typeof Tn.template=="string"?document.querySelector(Tn.template):Tn.template;if(!Rn)return{};const Qn=Rn.content;return Ys(Qn),Object.assign(ta(Qn),pa(Qn),za(Qn),ia(Qn),$a(Qn),zs(Qn),Hs(Qn,Oo))},ta=Tn=>{const Rn={};return Array.from(Tn.querySelectorAll("swal-param")).forEach(fi=>{ll(fi,["name","value"]);const Ki=fi.getAttribute("name"),Qo=fi.getAttribute("value");typeof _l[Ki]=="boolean"?Rn[Ki]=Qo!=="false":typeof _l[Ki]=="object"?Rn[Ki]=JSON.parse(Qo):Rn[Ki]=Qo}),Rn},pa=Tn=>{const Rn={};return Array.from(Tn.querySelectorAll("swal-function-param")).forEach(fi=>{const Ki=fi.getAttribute("name"),Qo=fi.getAttribute("value");Rn[Ki]=new Function("return ".concat(Qo))()}),Rn},za=Tn=>{const Rn={};return Array.from(Tn.querySelectorAll("swal-button")).forEach(fi=>{ll(fi,["type","color","aria-label"]);const Ki=fi.getAttribute("type");Rn["".concat(Ki,"ButtonText")]=fi.innerHTML,Rn["show".concat(mn(Ki),"Button")]=!0,fi.hasAttribute("color")&&(Rn["".concat(Ki,"ButtonColor")]=fi.getAttribute("color")),fi.hasAttribute("aria-label")&&(Rn["".concat(Ki,"ButtonAriaLabel")]=fi.getAttribute("aria-label"))}),Rn},ia=Tn=>{const Rn={},Qn=Tn.querySelector("swal-image");return Qn&&(ll(Qn,["src","width","height","alt"]),Qn.hasAttribute("src")&&(Rn.imageUrl=Qn.getAttribute("src")),Qn.hasAttribute("width")&&(Rn.imageWidth=Qn.getAttribute("width")),Qn.hasAttribute("height")&&(Rn.imageHeight=Qn.getAttribute("height")),Qn.hasAttribute("alt")&&(Rn.imageAlt=Qn.getAttribute("alt"))),Rn},$a=Tn=>{const Rn={},Qn=Tn.querySelector("swal-icon");return Qn&&(ll(Qn,["type","color"]),Qn.hasAttribute("type")&&(Rn.icon=Qn.getAttribute("type")),Qn.hasAttribute("color")&&(Rn.iconColor=Qn.getAttribute("color")),Rn.iconHtml=Qn.innerHTML),Rn},zs=Tn=>{const Rn={},Qn=Tn.querySelector("swal-input");Qn&&(ll(Qn,["type","label","placeholder","value"]),Rn.input=Qn.getAttribute("type")||"text",Qn.hasAttribute("label")&&(Rn.inputLabel=Qn.getAttribute("label")),Qn.hasAttribute("placeholder")&&(Rn.inputPlaceholder=Qn.getAttribute("placeholder")),Qn.hasAttribute("value")&&(Rn.inputValue=Qn.getAttribute("value")));const fi=Array.from(Tn.querySelectorAll("swal-input-option"));return fi.length&&(Rn.inputOptions={},fi.forEach(Ki=>{ll(Ki,["value"]);const Qo=Ki.getAttribute("value"),is=Ki.innerHTML;Rn.inputOptions[Qo]=is})),Rn},Hs=(Tn,Rn)=>{const Qn={};for(const fi in Rn){const Ki=Rn[fi],Qo=Tn.querySelector(Ki);Qo&&(ll(Qo,[]),Qn[Ki.replace(/^swal-/,"")]=Qo.innerHTML.trim())}return Qn},Ys=Tn=>{const Rn=Oo.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(Tn.children).forEach(Qn=>{const fi=Qn.tagName.toLowerCase();Rn.includes(fi)||bn("Unrecognized element <".concat(fi,">"))})},ll=(Tn,Rn)=>{Array.from(Tn.attributes).forEach(Qn=>{Rn.indexOf(Qn.name)===-1&&bn(['Unrecognized attribute "'.concat(Qn.name,'" on <').concat(Tn.tagName.toLowerCase(),">."),"".concat(Rn.length?"Allowed attributes are: ".concat(Rn.join(", ")):"To set the value, use HTML within the element.")])})},yc=10,el=Tn=>{const Rn=$n(),Qn=Gn();typeof Tn.willOpen=="function"&&Tn.willOpen(Qn);const Ki=window.getComputedStyle(document.body).overflowY;bc(Rn,Qn,Tn),setTimeout(()=>{Qc(Rn,Qn)},yc),Zi()&&(Xa(Rn,Tn.scrollbarPadding,Ki),Ba()),!Zo()&&!Wr.previousActiveElement&&(Wr.previousActiveElement=document.activeElement),typeof Tn.didOpen=="function"&&setTimeout(()=>Tn.didOpen(Qn)),_i(Rn,nn["no-transition"])},wa=Tn=>{const Rn=Gn();if(Tn.target!==Rn||!Bs)return;const Qn=$n();Rn.removeEventListener(Bs,wa),Qn.style.overflowY="auto"},Qc=(Tn,Rn)=>{Bs&&Xo(Rn)?(Tn.style.overflowY="hidden",Rn.addEventListener(Bs,wa)):Tn.style.overflowY="auto"},Xa=(Tn,Rn,Qn)=>{gs(),Rn&&Qn!=="hidden"&&yl(Qn),setTimeout(()=>{Tn.scrollTop=0})},bc=(Tn,Rn,Qn)=>{ci(Tn,Qn.showClass.backdrop),Rn.style.setProperty("opacity","0","important"),mi(Rn,"grid"),setTimeout(()=>{ci(Rn,Qn.showClass.popup),Rn.style.removeProperty("opacity")},yc),ci([document.documentElement,document.body],nn.shown),Qn.heightAuto&&Qn.backdrop&&!Qn.toast&&ci([document.documentElement,document.body],nn["height-auto"])};var Sc={email:(Tn,Rn)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(Tn)?Promise.resolve():Promise.resolve(Rn||"Invalid email address"),url:(Tn,Rn)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(Tn)?Promise.resolve():Promise.resolve(Rn||"Invalid URL")};function Zu(Tn){Tn.inputValidator||(Tn.input==="email"&&(Tn.inputValidator=Sc.email),Tn.input==="url"&&(Tn.inputValidator=Sc.url))}function Vs(Tn){(!Tn.target||typeof Tn.target=="string"&&!document.querySelector(Tn.target)||typeof Tn.target!="string"&&!Tn.target.appendChild)&&(bn('Target parameter is not valid, defaulting to "body"'),Tn.target="body")}function Xu(Tn){Zu(Tn),Tn.showLoaderOnConfirm&&!Tn.preConfirm&&bn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Vs(Tn),typeof Tn.title=="string"&&(Tn.title=Tn.title.split(`
`).join("<br />")),qs(Tn)}let Wl;var Pu=new WeakMap;class js{constructor(){if(jr(this,Pu,{writable:!0,value:void 0}),typeof window>"u")return;Wl=this;for(var Rn=arguments.length,Qn=new Array(Rn),fi=0;fi<Rn;fi++)Qn[fi]=arguments[fi];const Ki=Object.freeze(this.constructor.argsToParams(Qn));this.params=Ki,this.isAwaitingPromise=!1,Mr(this,Pu,this._main(Wl.params))}_main(Rn){let Qn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};mc(Object.assign({},Qn,Rn)),Wr.currentInstance&&(Wr.currentInstance._destroy(),Zi()&&ps()),Wr.currentInstance=Wl;const fi=md(Rn,Qn);Xu(fi),Object.freeze(fi),Wr.timeout&&(Wr.timeout.stop(),delete Wr.timeout),clearTimeout(Wr.restoreFocusTimeout);const Ki=Nd(Wl);return po(Wl,fi),Io.innerParams.set(Wl,fi),Us(Wl,Ki,fi)}then(Rn){return Dr(this,Pu).then(Rn)}finally(Rn){return Dr(this,Pu).finally(Rn)}}const Us=(Tn,Rn,Qn)=>new Promise((fi,Ki)=>{const Qo=is=>{Tn.close({isDismissed:!0,dismiss:is})};va.swalPromiseResolve.set(Tn,fi),va.swalPromiseReject.set(Tn,Ki),Rn.confirmButton.onclick=()=>{yi(Tn)},Rn.denyButton.onclick=()=>{gi(Tn)},Rn.cancelButton.onclick=()=>{Ei(Tn,Qo)},Rn.closeButton.onclick=()=>{Qo(So.close)},Ku(Qn,Rn,Qo),Ja(Wr,Qn,Qo),bl(Tn,Qn),el(Qn),vd(Wr,Qn,Qo),Ou(Rn,Qn),setTimeout(()=>{Rn.container.scrollTop=0})}),md=(Tn,Rn)=>{const Qn=La(Tn),fi=Object.assign({},_l,Rn,Qn,Tn);return fi.showClass=Object.assign({},_l.showClass,fi.showClass),fi.hideClass=Object.assign({},_l.hideClass,fi.hideClass),fi},Nd=Tn=>{const Rn={popup:Gn(),container:$n(),actions:oo(),confirmButton:si(),denyButton:Pi(),cancelButton:Ri(),loader:zi(),closeButton:Wi(),validationMessage:Vn(),progressSteps:Yn()};return Io.domCache.set(Tn,Rn),Rn},vd=(Tn,Rn,Qn)=>{const fi=io();di(fi),Rn.timer&&(Tn.timeout=new _o(()=>{Qn("timer"),delete Tn.timeout},Rn.timer),Rn.timerProgressBar&&(mi(fi),Ia(fi,Rn,"timerProgressBar"),setTimeout(()=>{Tn.timeout&&Tn.timeout.running&&Hi(Rn.timer)})))},Ou=(Tn,Rn)=>{if(!Rn.toast){if(!xn(Rn.allowEnterKey)){wc();return}yd(Tn,Rn)||Da(-1,1)}},yd=(Tn,Rn)=>Rn.focusDeny&&so(Tn.denyButton)?(Tn.denyButton.focus(),!0):Rn.focusCancel&&so(Tn.cancelButton)?(Tn.cancelButton.focus(),!0):Rn.focusConfirm&&so(Tn.confirmButton)?(Tn.confirmButton.focus(),!0):!1,wc=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const Tn=new Date,Rn=localStorage.getItem("swal-initiation");Rn?(Tn.getTime()-Date.parse(Rn))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const Qn=document.createElement("audio");Qn.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",Qn.loop=!0,document.body.appendChild(Qn),setTimeout(()=>{Qn.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(Tn))}js.prototype.disableButtons=vs,js.prototype.enableButtons=Ma,js.prototype.getInput=Ks,js.prototype.disableInput=Es,js.prototype.enableInput=Ka,js.prototype.hideLoading=fa,js.prototype.disableLoading=fa,js.prototype.showValidationMessage=Jl,js.prototype.resetValidationMessage=Gc,js.prototype.close=Ta,js.prototype.closePopup=Ta,js.prototype.closeModal=Ta,js.prototype.closeToast=Ta,js.prototype.rejectPromise=Fo,js.prototype.update=hu,js.prototype._destroy=qc,Object.assign(js,Ro),Object.keys($d).forEach(Tn=>{js[Tn]=function(){return Wl&&Wl[Tn]?Wl[Tn](...arguments):null}}),js.DismissReason=So,js.version="11.7.32";const nc=js;return nc.default=nc,nc}),typeof commonjsGlobal<"u"&&commonjsGlobal.Sweetalert2&&(commonjsGlobal.swal=commonjsGlobal.sweetAlert=commonjsGlobal.Swal=commonjsGlobal.SweetAlert=commonjsGlobal.Sweetalert2)})(sweetalert2$1);var sweetalert2Exports=sweetalert2$1.exports;const Swal$1=getDefaultExportFromCjs(sweetalert2Exports);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ownKeys$2(_r,Be){var Dr=Object.keys(_r);if(Object.getOwnPropertySymbols){var Mr=Object.getOwnPropertySymbols(_r);Be&&(Mr=Mr.filter(function($r){return Object.getOwnPropertyDescriptor(_r,$r).enumerable})),Dr.push.apply(Dr,Mr)}return Dr}function _objectSpread2$1(_r){for(var Be=1;Be<arguments.length;Be++){var Dr=arguments[Be]!=null?arguments[Be]:{};Be%2?ownKeys$2(Object(Dr),!0).forEach(function(Mr){_defineProperty$2(_r,Mr,Dr[Mr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_r,Object.getOwnPropertyDescriptors(Dr)):ownKeys$2(Object(Dr)).forEach(function(Mr){Object.defineProperty(_r,Mr,Object.getOwnPropertyDescriptor(Dr,Mr))})}return _r}function _typeof(_r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(Be){return typeof Be}:_typeof=function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be},_typeof(_r)}function _defineProperty$2(_r,Be,Dr){return Be in _r?Object.defineProperty(_r,Be,{value:Dr,enumerable:!0,configurable:!0,writable:!0}):_r[Be]=Dr,_r}function _extends(){return _extends=Object.assign||function(_r){for(var Be=1;Be<arguments.length;Be++){var Dr=arguments[Be];for(var Mr in Dr)Object.prototype.hasOwnProperty.call(Dr,Mr)&&(_r[Mr]=Dr[Mr])}return _r},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(_r,Be){if(_r==null)return{};var Dr={},Mr=Object.keys(_r),$r,Br;for(Br=0;Br<Mr.length;Br++)$r=Mr[Br],!(Be.indexOf($r)>=0)&&(Dr[$r]=_r[$r]);return Dr}function _objectWithoutProperties(_r,Be){if(_r==null)return{};var Dr=_objectWithoutPropertiesLoose(_r,Be),Mr,$r;if(Object.getOwnPropertySymbols){var Br=Object.getOwnPropertySymbols(_r);for($r=0;$r<Br.length;$r++)Mr=Br[$r],!(Be.indexOf(Mr)>=0)&&Object.prototype.propertyIsEnumerable.call(_r,Mr)&&(Dr[Mr]=_r[Mr])}return Dr}var version$2="1.15.0";function userAgent(_r){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(_r)}var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on$1(_r,Be,Dr){_r.addEventListener(Be,Dr,!IE11OrLess&&captureMode)}function off(_r,Be,Dr){_r.removeEventListener(Be,Dr,!IE11OrLess&&captureMode)}function matches$1(_r,Be){if(Be){if(Be[0]===">"&&(Be=Be.substring(1)),_r)try{if(_r.matches)return _r.matches(Be);if(_r.msMatchesSelector)return _r.msMatchesSelector(Be);if(_r.webkitMatchesSelector)return _r.webkitMatchesSelector(Be)}catch{return!1}return!1}}function getParentOrHost(_r){return _r.host&&_r!==document&&_r.host.nodeType?_r.host:_r.parentNode}function closest(_r,Be,Dr,Mr){if(_r){Dr=Dr||document;do{if(Be!=null&&(Be[0]===">"?_r.parentNode===Dr&&matches$1(_r,Be):matches$1(_r,Be))||Mr&&_r===Dr)return _r;if(_r===Dr)break}while(_r=getParentOrHost(_r))}return null}var R_SPACE=/\s+/g;function toggleClass(_r,Be,Dr){if(_r&&Be)if(_r.classList)_r.classList[Dr?"add":"remove"](Be);else{var Mr=(" "+_r.className+" ").replace(R_SPACE," ").replace(" "+Be+" "," ");_r.className=(Mr+(Dr?" "+Be:"")).replace(R_SPACE," ")}}function css(_r,Be,Dr){var Mr=_r&&_r.style;if(Mr){if(Dr===void 0)return document.defaultView&&document.defaultView.getComputedStyle?Dr=document.defaultView.getComputedStyle(_r,""):_r.currentStyle&&(Dr=_r.currentStyle),Be===void 0?Dr:Dr[Be];!(Be in Mr)&&Be.indexOf("webkit")===-1&&(Be="-webkit-"+Be),Mr[Be]=Dr+(typeof Dr=="string"?"":"px")}}function matrix$1(_r,Be){var Dr="";if(typeof _r=="string")Dr=_r;else do{var Mr=css(_r,"transform");Mr&&Mr!=="none"&&(Dr=Mr+" "+Dr)}while(!Be&&(_r=_r.parentNode));var $r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return $r&&new $r(Dr)}function find$1(_r,Be,Dr){if(_r){var Mr=_r.getElementsByTagName(Be),$r=0,Br=Mr.length;if(Dr)for(;$r<Br;$r++)Dr(Mr[$r],$r);return Mr}return[]}function getWindowScrollingElement(){var _r=document.scrollingElement;return _r||document.documentElement}function getRect(_r,Be,Dr,Mr,$r){if(!(!_r.getBoundingClientRect&&_r!==window)){var Br,zr,Vr,jr,Gr,Wr,Kr;if(_r!==window&&_r.parentNode&&_r!==getWindowScrollingElement()?(Br=_r.getBoundingClientRect(),zr=Br.top,Vr=Br.left,jr=Br.bottom,Gr=Br.right,Wr=Br.height,Kr=Br.width):(zr=0,Vr=0,jr=window.innerHeight,Gr=window.innerWidth,Wr=window.innerHeight,Kr=window.innerWidth),(Be||Dr)&&_r!==window&&($r=$r||_r.parentNode,!IE11OrLess))do if($r&&$r.getBoundingClientRect&&(css($r,"transform")!=="none"||Dr&&css($r,"position")!=="static")){var Zr=$r.getBoundingClientRect();zr-=Zr.top+parseInt(css($r,"border-top-width")),Vr-=Zr.left+parseInt(css($r,"border-left-width")),jr=zr+Br.height,Gr=Vr+Br.width;break}while($r=$r.parentNode);if(Mr&&_r!==window){var Jr=matrix$1($r||_r),rn=Jr&&Jr.a,nn=Jr&&Jr.d;Jr&&(zr/=nn,Vr/=rn,Kr/=rn,Wr/=nn,jr=zr+Wr,Gr=Vr+Kr)}return{top:zr,left:Vr,bottom:jr,right:Gr,width:Kr,height:Wr}}}function isScrolledPast(_r,Be,Dr){for(var Mr=getParentAutoScrollElement(_r,!0),$r=getRect(_r)[Be];Mr;){var Br=getRect(Mr)[Dr],zr=void 0;if(Dr==="top"||Dr==="left"?zr=$r>=Br:zr=$r<=Br,!zr)return Mr;if(Mr===getWindowScrollingElement())break;Mr=getParentAutoScrollElement(Mr,!1)}return!1}function getChild(_r,Be,Dr,Mr){for(var $r=0,Br=0,zr=_r.children;Br<zr.length;){if(zr[Br].style.display!=="none"&&zr[Br]!==Sortable.ghost&&(Mr||zr[Br]!==Sortable.dragged)&&closest(zr[Br],Dr.draggable,_r,!1)){if($r===Be)return zr[Br];$r++}Br++}return null}function lastChild(_r,Be){for(var Dr=_r.lastElementChild;Dr&&(Dr===Sortable.ghost||css(Dr,"display")==="none"||Be&&!matches$1(Dr,Be));)Dr=Dr.previousElementSibling;return Dr||null}function index(_r,Be){var Dr=0;if(!_r||!_r.parentNode)return-1;for(;_r=_r.previousElementSibling;)_r.nodeName.toUpperCase()!=="TEMPLATE"&&_r!==Sortable.clone&&(!Be||matches$1(_r,Be))&&Dr++;return Dr}function getRelativeScrollOffset(_r){var Be=0,Dr=0,Mr=getWindowScrollingElement();if(_r)do{var $r=matrix$1(_r),Br=$r.a,zr=$r.d;Be+=_r.scrollLeft*Br,Dr+=_r.scrollTop*zr}while(_r!==Mr&&(_r=_r.parentNode));return[Be,Dr]}function indexOfObject(_r,Be){for(var Dr in _r)if(_r.hasOwnProperty(Dr)){for(var Mr in Be)if(Be.hasOwnProperty(Mr)&&Be[Mr]===_r[Dr][Mr])return Number(Dr)}return-1}function getParentAutoScrollElement(_r,Be){if(!_r||!_r.getBoundingClientRect)return getWindowScrollingElement();var Dr=_r,Mr=!1;do if(Dr.clientWidth<Dr.scrollWidth||Dr.clientHeight<Dr.scrollHeight){var $r=css(Dr);if(Dr.clientWidth<Dr.scrollWidth&&($r.overflowX=="auto"||$r.overflowX=="scroll")||Dr.clientHeight<Dr.scrollHeight&&($r.overflowY=="auto"||$r.overflowY=="scroll")){if(!Dr.getBoundingClientRect||Dr===document.body)return getWindowScrollingElement();if(Mr||Be)return Dr;Mr=!0}}while(Dr=Dr.parentNode);return getWindowScrollingElement()}function extend$5(_r,Be){if(_r&&Be)for(var Dr in Be)Be.hasOwnProperty(Dr)&&(_r[Dr]=Be[Dr]);return _r}function isRectEqual(_r,Be){return Math.round(_r.top)===Math.round(Be.top)&&Math.round(_r.left)===Math.round(Be.left)&&Math.round(_r.height)===Math.round(Be.height)&&Math.round(_r.width)===Math.round(Be.width)}var _throttleTimeout;function throttle$2(_r,Be){return function(){if(!_throttleTimeout){var Dr=arguments,Mr=this;Dr.length===1?_r.call(Mr,Dr[0]):_r.apply(Mr,Dr),_throttleTimeout=setTimeout(function(){_throttleTimeout=void 0},Be)}}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(_r,Be,Dr){_r.scrollLeft+=Be,_r.scrollTop+=Dr}function clone$7(_r){var Be=window.Polymer,Dr=window.jQuery||window.Zepto;return Be&&Be.dom?Be.dom(_r).cloneNode(!0):Dr?Dr(_r).clone(!0)[0]:_r.cloneNode(!0)}var expando="Sortable"+new Date().getTime();function AnimationStateManager(){var _r=[],Be;return{captureAnimationState:function(){if(_r=[],!!this.options.animation){var Mr=[].slice.call(this.el.children);Mr.forEach(function($r){if(!(css($r,"display")==="none"||$r===Sortable.ghost)){_r.push({target:$r,rect:getRect($r)});var Br=_objectSpread2$1({},_r[_r.length-1].rect);if($r.thisAnimationDuration){var zr=matrix$1($r,!0);zr&&(Br.top-=zr.f,Br.left-=zr.e)}$r.fromRect=Br}})}},addAnimationState:function(Mr){_r.push(Mr)},removeAnimationState:function(Mr){_r.splice(indexOfObject(_r,{target:Mr}),1)},animateAll:function(Mr){var $r=this;if(!this.options.animation){clearTimeout(Be),typeof Mr=="function"&&Mr();return}var Br=!1,zr=0;_r.forEach(function(Vr){var jr=0,Gr=Vr.target,Wr=Gr.fromRect,Kr=getRect(Gr),Zr=Gr.prevFromRect,Jr=Gr.prevToRect,rn=Vr.rect,nn=matrix$1(Gr,!0);nn&&(Kr.top-=nn.f,Kr.left-=nn.e),Gr.toRect=Kr,Gr.thisAnimationDuration&&isRectEqual(Zr,Kr)&&!isRectEqual(Wr,Kr)&&(rn.top-Kr.top)/(rn.left-Kr.left)===(Wr.top-Kr.top)/(Wr.left-Kr.left)&&(jr=calculateRealTime(rn,Zr,Jr,$r.options)),isRectEqual(Kr,Wr)||(Gr.prevFromRect=Wr,Gr.prevToRect=Kr,jr||(jr=$r.options.animation),$r.animate(Gr,rn,Kr,jr)),jr&&(Br=!0,zr=Math.max(zr,jr),clearTimeout(Gr.animationResetTimer),Gr.animationResetTimer=setTimeout(function(){Gr.animationTime=0,Gr.prevFromRect=null,Gr.fromRect=null,Gr.prevToRect=null,Gr.thisAnimationDuration=null},jr),Gr.thisAnimationDuration=jr)}),clearTimeout(Be),Br?Be=setTimeout(function(){typeof Mr=="function"&&Mr()},zr):typeof Mr=="function"&&Mr(),_r=[]},animate:function(Mr,$r,Br,zr){if(zr){css(Mr,"transition",""),css(Mr,"transform","");var Vr=matrix$1(this.el),jr=Vr&&Vr.a,Gr=Vr&&Vr.d,Wr=($r.left-Br.left)/(jr||1),Kr=($r.top-Br.top)/(Gr||1);Mr.animatingX=!!Wr,Mr.animatingY=!!Kr,css(Mr,"transform","translate3d("+Wr+"px,"+Kr+"px,0)"),this.forRepaintDummy=repaint(Mr),css(Mr,"transition","transform "+zr+"ms"+(this.options.easing?" "+this.options.easing:"")),css(Mr,"transform","translate3d(0,0,0)"),typeof Mr.animated=="number"&&clearTimeout(Mr.animated),Mr.animated=setTimeout(function(){css(Mr,"transition",""),css(Mr,"transform",""),Mr.animated=!1,Mr.animatingX=!1,Mr.animatingY=!1},zr)}}}}function repaint(_r){return _r.offsetWidth}function calculateRealTime(_r,Be,Dr,Mr){return Math.sqrt(Math.pow(Be.top-_r.top,2)+Math.pow(Be.left-_r.left,2))/Math.sqrt(Math.pow(Be.top-Dr.top,2)+Math.pow(Be.left-Dr.left,2))*Mr.animation}var plugins=[],defaults$4={initializeByDefault:!0},PluginManager={mount:function(Be){for(var Dr in defaults$4)defaults$4.hasOwnProperty(Dr)&&!(Dr in Be)&&(Be[Dr]=defaults$4[Dr]);plugins.forEach(function(Mr){if(Mr.pluginName===Be.pluginName)throw"Sortable: Cannot mount plugin ".concat(Be.pluginName," more than once")}),plugins.push(Be)},pluginEvent:function(Be,Dr,Mr){var $r=this;this.eventCanceled=!1,Mr.cancel=function(){$r.eventCanceled=!0};var Br=Be+"Global";plugins.forEach(function(zr){Dr[zr.pluginName]&&(Dr[zr.pluginName][Br]&&Dr[zr.pluginName][Br](_objectSpread2$1({sortable:Dr},Mr)),Dr.options[zr.pluginName]&&Dr[zr.pluginName][Be]&&Dr[zr.pluginName][Be](_objectSpread2$1({sortable:Dr},Mr)))})},initializePlugins:function(Be,Dr,Mr,$r){plugins.forEach(function(Vr){var jr=Vr.pluginName;if(!(!Be.options[jr]&&!Vr.initializeByDefault)){var Gr=new Vr(Be,Dr,Be.options);Gr.sortable=Be,Gr.options=Be.options,Be[jr]=Gr,_extends(Mr,Gr.defaults)}});for(var Br in Be.options)if(Be.options.hasOwnProperty(Br)){var zr=this.modifyOption(Be,Br,Be.options[Br]);typeof zr<"u"&&(Be.options[Br]=zr)}},getEventProperties:function(Be,Dr){var Mr={};return plugins.forEach(function($r){typeof $r.eventProperties=="function"&&_extends(Mr,$r.eventProperties.call(Dr[$r.pluginName],Be))}),Mr},modifyOption:function(Be,Dr,Mr){var $r;return plugins.forEach(function(Br){Be[Br.pluginName]&&Br.optionListeners&&typeof Br.optionListeners[Dr]=="function"&&($r=Br.optionListeners[Dr].call(Be[Br.pluginName],Mr))}),$r}};function dispatchEvent(_r){var Be=_r.sortable,Dr=_r.rootEl,Mr=_r.name,$r=_r.targetEl,Br=_r.cloneEl,zr=_r.toEl,Vr=_r.fromEl,jr=_r.oldIndex,Gr=_r.newIndex,Wr=_r.oldDraggableIndex,Kr=_r.newDraggableIndex,Zr=_r.originalEvent,Jr=_r.putSortable,rn=_r.extraEventProperties;if(Be=Be||Dr&&Dr[expando],!!Be){var nn,ln=Be.options,cn="on"+Mr.charAt(0).toUpperCase()+Mr.substr(1);window.CustomEvent&&!IE11OrLess&&!Edge?nn=new CustomEvent(Mr,{bubbles:!0,cancelable:!0}):(nn=document.createEvent("Event"),nn.initEvent(Mr,!0,!0)),nn.to=zr||Dr,nn.from=Vr||Dr,nn.item=$r||Dr,nn.clone=Br,nn.oldIndex=jr,nn.newIndex=Gr,nn.oldDraggableIndex=Wr,nn.newDraggableIndex=Kr,nn.originalEvent=Zr,nn.pullMode=Jr?Jr.lastPutMode:void 0;var hn=_objectSpread2$1(_objectSpread2$1({},rn),PluginManager.getEventProperties(Mr,Be));for(var mn in hn)nn[mn]=hn[mn];Dr&&Dr.dispatchEvent(nn),ln[cn]&&ln[cn].call(Be,nn)}}var _excluded=["evt"],pluginEvent=function(Be,Dr){var Mr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$r=Mr.evt,Br=_objectWithoutProperties(Mr,_excluded);PluginManager.pluginEvent.bind(Sortable)(Be,Dr,_objectSpread2$1({dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,dragStarted:moved,putSortable,activeSortable:Sortable.active,originalEvent:$r,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:function(){cloneHidden=!0},cloneNowShown:function(){cloneHidden=!1},dispatchSortableEvent:function(Vr){_dispatchEvent({sortable:Dr,name:Vr,originalEvent:$r})}},Br))};function _dispatchEvent(_r){dispatchEvent(_objectSpread2$1({putSortable,cloneEl,targetEl:dragEl,rootEl,oldIndex,oldDraggableIndex,newIndex,newDraggableIndex},_r))}var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,pastFirstInvertThresh=!1,isCircumstantialInvert=!1,targetMoveDistance,ghostRelativeParent,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists=typeof document<"u",PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(documentExists){if(IE11OrLess)return!1;var _r=document.createElement("x");return _r.style.cssText="pointer-events:auto",_r.style.pointerEvents==="auto"}}(),_detectDirection=function(Be,Dr){var Mr=css(Be),$r=parseInt(Mr.width)-parseInt(Mr.paddingLeft)-parseInt(Mr.paddingRight)-parseInt(Mr.borderLeftWidth)-parseInt(Mr.borderRightWidth),Br=getChild(Be,0,Dr),zr=getChild(Be,1,Dr),Vr=Br&&css(Br),jr=zr&&css(zr),Gr=Vr&&parseInt(Vr.marginLeft)+parseInt(Vr.marginRight)+getRect(Br).width,Wr=jr&&parseInt(jr.marginLeft)+parseInt(jr.marginRight)+getRect(zr).width;if(Mr.display==="flex")return Mr.flexDirection==="column"||Mr.flexDirection==="column-reverse"?"vertical":"horizontal";if(Mr.display==="grid")return Mr.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(Br&&Vr.float&&Vr.float!=="none"){var Kr=Vr.float==="left"?"left":"right";return zr&&(jr.clear==="both"||jr.clear===Kr)?"vertical":"horizontal"}return Br&&(Vr.display==="block"||Vr.display==="flex"||Vr.display==="table"||Vr.display==="grid"||Gr>=$r&&Mr[CSSFloatProperty]==="none"||zr&&Mr[CSSFloatProperty]==="none"&&Gr+Wr>$r)?"vertical":"horizontal"},_dragElInRowColumn=function(Be,Dr,Mr){var $r=Mr?Be.left:Be.top,Br=Mr?Be.right:Be.bottom,zr=Mr?Be.width:Be.height,Vr=Mr?Dr.left:Dr.top,jr=Mr?Dr.right:Dr.bottom,Gr=Mr?Dr.width:Dr.height;return $r===Vr||Br===jr||$r+zr/2===Vr+Gr/2},_detectNearestEmptySortable=function(Be,Dr){var Mr;return sortables.some(function($r){var Br=$r[expando].options.emptyInsertThreshold;if(!(!Br||lastChild($r))){var zr=getRect($r),Vr=Be>=zr.left-Br&&Be<=zr.right+Br,jr=Dr>=zr.top-Br&&Dr<=zr.bottom+Br;if(Vr&&jr)return Mr=$r}}),Mr},_prepareGroup=function(Be){function Dr(Br,zr){return function(Vr,jr,Gr,Wr){var Kr=Vr.options.group.name&&jr.options.group.name&&Vr.options.group.name===jr.options.group.name;if(Br==null&&(zr||Kr))return!0;if(Br==null||Br===!1)return!1;if(zr&&Br==="clone")return Br;if(typeof Br=="function")return Dr(Br(Vr,jr,Gr,Wr),zr)(Vr,jr,Gr,Wr);var Zr=(zr?Vr:jr).options.group.name;return Br===!0||typeof Br=="string"&&Br===Zr||Br.join&&Br.indexOf(Zr)>-1}}var Mr={},$r=Be.group;(!$r||_typeof($r)!="object")&&($r={name:$r}),Mr.name=$r.name,Mr.checkPull=Dr($r.pull,!0),Mr.checkPut=Dr($r.put),Mr.revertClone=$r.revertClone,Be.group=Mr},_hideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},_unhideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")};documentExists&&!ChromeForAndroid&&document.addEventListener("click",function(_r){if(ignoreNextClick)return _r.preventDefault(),_r.stopPropagation&&_r.stopPropagation(),_r.stopImmediatePropagation&&_r.stopImmediatePropagation(),ignoreNextClick=!1,!1},!0);var nearestEmptyInsertDetectEvent=function(Be){if(dragEl){Be=Be.touches?Be.touches[0]:Be;var Dr=_detectNearestEmptySortable(Be.clientX,Be.clientY);if(Dr){var Mr={};for(var $r in Be)Be.hasOwnProperty($r)&&(Mr[$r]=Be[$r]);Mr.target=Mr.rootEl=Dr,Mr.preventDefault=void 0,Mr.stopPropagation=void 0,Dr[expando]._onDragOver(Mr)}}},_checkOutsideTargetEl=function(Be){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(Be.target)};function Sortable(_r,Be){if(!(_r&&_r.nodeType&&_r.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(_r));this.el=_r,this.options=Be=_extends({},Be),_r[expando]=this;var Dr={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(_r.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(_r,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(zr,Vr){zr.setData("Text",Vr.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Sortable.supportPointer!==!1&&"PointerEvent"in window&&!Safari,emptyInsertThreshold:5};PluginManager.initializePlugins(this,_r,Dr);for(var Mr in Dr)!(Mr in Be)&&(Be[Mr]=Dr[Mr]);_prepareGroup(Be);for(var $r in this)$r.charAt(0)==="_"&&typeof this[$r]=="function"&&(this[$r]=this[$r].bind(this));this.nativeDraggable=Be.forceFallback?!1:supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),Be.supportPointer?on$1(_r,"pointerdown",this._onTapStart):(on$1(_r,"mousedown",this._onTapStart),on$1(_r,"touchstart",this._onTapStart)),this.nativeDraggable&&(on$1(_r,"dragover",this),on$1(_r,"dragenter",this)),sortables.push(this.el),Be.store&&Be.store.get&&this.sort(Be.store.get(this)||[]),_extends(this,AnimationStateManager())}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function(Be){!this.el.contains(Be)&&Be!==this.el&&(lastTarget=null)},_getDirection:function(Be,Dr){return typeof this.options.direction=="function"?this.options.direction.call(this,Be,Dr,dragEl):this.options.direction},_onTapStart:function(Be){if(Be.cancelable){var Dr=this,Mr=this.el,$r=this.options,Br=$r.preventOnFilter,zr=Be.type,Vr=Be.touches&&Be.touches[0]||Be.pointerType&&Be.pointerType==="touch"&&Be,jr=(Vr||Be).target,Gr=Be.target.shadowRoot&&(Be.path&&Be.path[0]||Be.composedPath&&Be.composedPath()[0])||jr,Wr=$r.filter;if(_saveInputCheckedState(Mr),!dragEl&&!(/mousedown|pointerdown/.test(zr)&&Be.button!==0||$r.disabled)&&!Gr.isContentEditable&&!(!this.nativeDraggable&&Safari&&jr&&jr.tagName.toUpperCase()==="SELECT")&&(jr=closest(jr,$r.draggable,Mr,!1),!(jr&&jr.animated)&&lastDownEl!==jr)){if(oldIndex=index(jr),oldDraggableIndex=index(jr,$r.draggable),typeof Wr=="function"){if(Wr.call(this,Be,jr,this)){_dispatchEvent({sortable:Dr,rootEl:Gr,name:"filter",targetEl:jr,toEl:Mr,fromEl:Mr}),pluginEvent("filter",Dr,{evt:Be}),Br&&Be.cancelable&&Be.preventDefault();return}}else if(Wr&&(Wr=Wr.split(",").some(function(Kr){if(Kr=closest(Gr,Kr.trim(),Mr,!1),Kr)return _dispatchEvent({sortable:Dr,rootEl:Kr,name:"filter",targetEl:jr,fromEl:Mr,toEl:Mr}),pluginEvent("filter",Dr,{evt:Be}),!0}),Wr)){Br&&Be.cancelable&&Be.preventDefault();return}$r.handle&&!closest(Gr,$r.handle,Mr,!1)||this._prepareDragStart(Be,Vr,jr)}}},_prepareDragStart:function(Be,Dr,Mr){var $r=this,Br=$r.el,zr=$r.options,Vr=Br.ownerDocument,jr;if(Mr&&!dragEl&&Mr.parentNode===Br){var Gr=getRect(Mr);if(rootEl=Br,dragEl=Mr,parentEl=dragEl.parentNode,nextEl=dragEl.nextSibling,lastDownEl=Mr,activeGroup=zr.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:(Dr||Be).clientX,clientY:(Dr||Be).clientY},tapDistanceLeft=tapEvt.clientX-Gr.left,tapDistanceTop=tapEvt.clientY-Gr.top,this._lastX=(Dr||Be).clientX,this._lastY=(Dr||Be).clientY,dragEl.style["will-change"]="all",jr=function(){if(pluginEvent("delayEnded",$r,{evt:Be}),Sortable.eventCanceled){$r._onDrop();return}$r._disableDelayedDragEvents(),!FireFox&&$r.nativeDraggable&&(dragEl.draggable=!0),$r._triggerDragStart(Be,Dr),_dispatchEvent({sortable:$r,name:"choose",originalEvent:Be}),toggleClass(dragEl,zr.chosenClass,!0)},zr.ignore.split(",").forEach(function(Wr){find$1(dragEl,Wr.trim(),_disableDraggable)}),on$1(Vr,"dragover",nearestEmptyInsertDetectEvent),on$1(Vr,"mousemove",nearestEmptyInsertDetectEvent),on$1(Vr,"touchmove",nearestEmptyInsertDetectEvent),on$1(Vr,"mouseup",$r._onDrop),on$1(Vr,"touchend",$r._onDrop),on$1(Vr,"touchcancel",$r._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt:Be}),zr.delay&&(!zr.delayOnTouchOnly||Dr)&&(!this.nativeDraggable||!(Edge||IE11OrLess))){if(Sortable.eventCanceled){this._onDrop();return}on$1(Vr,"mouseup",$r._disableDelayedDrag),on$1(Vr,"touchend",$r._disableDelayedDrag),on$1(Vr,"touchcancel",$r._disableDelayedDrag),on$1(Vr,"mousemove",$r._delayedDragTouchMoveHandler),on$1(Vr,"touchmove",$r._delayedDragTouchMoveHandler),zr.supportPointer&&on$1(Vr,"pointermove",$r._delayedDragTouchMoveHandler),$r._dragStartTimer=setTimeout(jr,zr.delay)}else jr()}},_delayedDragTouchMoveHandler:function(Be){var Dr=Be.touches?Be.touches[0]:Be;Math.max(Math.abs(Dr.clientX-this._lastX),Math.abs(Dr.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var Be=this.el.ownerDocument;off(Be,"mouseup",this._disableDelayedDrag),off(Be,"touchend",this._disableDelayedDrag),off(Be,"touchcancel",this._disableDelayedDrag),off(Be,"mousemove",this._delayedDragTouchMoveHandler),off(Be,"touchmove",this._delayedDragTouchMoveHandler),off(Be,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(Be,Dr){Dr=Dr||Be.pointerType=="touch"&&Be,!this.nativeDraggable||Dr?this.options.supportPointer?on$1(document,"pointermove",this._onTouchMove):Dr?on$1(document,"touchmove",this._onTouchMove):on$1(document,"mousemove",this._onTouchMove):(on$1(dragEl,"dragend",this),on$1(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(Be,Dr){if(awaitingDragStarted=!1,rootEl&&dragEl){pluginEvent("dragStarted",this,{evt:Dr}),this.nativeDraggable&&on$1(document,"dragover",_checkOutsideTargetEl);var Mr=this.options;!Be&&toggleClass(dragEl,Mr.dragClass,!1),toggleClass(dragEl,Mr.ghostClass,!0),Sortable.active=this,Be&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:Dr})}else this._nulling()},_emulateDragOver:function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var Be=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),Dr=Be;Be&&Be.shadowRoot&&(Be=Be.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY),Be!==Dr);)Dr=Be;if(dragEl.parentNode[expando]._isOutsideThisEl(Be),Dr)do{if(Dr[expando]){var Mr=void 0;if(Mr=Dr[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:Be,rootEl:Dr}),Mr&&!this.options.dragoverBubble)break}Be=Dr}while(Dr=Dr.parentNode);_unhideGhostForTarget()}},_onTouchMove:function(Be){if(tapEvt){var Dr=this.options,Mr=Dr.fallbackTolerance,$r=Dr.fallbackOffset,Br=Be.touches?Be.touches[0]:Be,zr=ghostEl&&matrix$1(ghostEl,!0),Vr=ghostEl&&zr&&zr.a,jr=ghostEl&&zr&&zr.d,Gr=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),Wr=(Br.clientX-tapEvt.clientX+$r.x)/(Vr||1)+(Gr?Gr[0]-ghostRelativeParentInitialScroll[0]:0)/(Vr||1),Kr=(Br.clientY-tapEvt.clientY+$r.y)/(jr||1)+(Gr?Gr[1]-ghostRelativeParentInitialScroll[1]:0)/(jr||1);if(!Sortable.active&&!awaitingDragStarted){if(Mr&&Math.max(Math.abs(Br.clientX-this._lastX),Math.abs(Br.clientY-this._lastY))<Mr)return;this._onDragStart(Be,!0)}if(ghostEl){zr?(zr.e+=Wr-(lastDx||0),zr.f+=Kr-(lastDy||0)):zr={a:1,b:0,c:0,d:1,e:Wr,f:Kr};var Zr="matrix(".concat(zr.a,",").concat(zr.b,",").concat(zr.c,",").concat(zr.d,",").concat(zr.e,",").concat(zr.f,")");css(ghostEl,"webkitTransform",Zr),css(ghostEl,"mozTransform",Zr),css(ghostEl,"msTransform",Zr),css(ghostEl,"transform",Zr),lastDx=Wr,lastDy=Kr,touchEvt=Br}Be.cancelable&&Be.preventDefault()}},_appendGhost:function(){if(!ghostEl){var Be=this.options.fallbackOnBody?document.body:rootEl,Dr=getRect(dragEl,!0,PositionGhostAbsolutely,!0,Be),Mr=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=Be;css(ghostRelativeParent,"position")==="static"&&css(ghostRelativeParent,"transform")==="none"&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),Dr.top+=ghostRelativeParent.scrollTop,Dr.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}ghostEl=dragEl.cloneNode(!0),toggleClass(ghostEl,Mr.ghostClass,!1),toggleClass(ghostEl,Mr.fallbackClass,!0),toggleClass(ghostEl,Mr.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",Dr.top),css(ghostEl,"left",Dr.left),css(ghostEl,"width",Dr.width),css(ghostEl,"height",Dr.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,Be.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},_onDragStart:function(Be,Dr){var Mr=this,$r=Be.dataTransfer,Br=Mr.options;if(pluginEvent("dragStart",this,{evt:Be}),Sortable.eventCanceled){this._onDrop();return}pluginEvent("setupClone",this),Sortable.eventCanceled||(cloneEl=clone$7(dragEl),cloneEl.removeAttribute("id"),cloneEl.draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),Mr.cloneId=_nextTick(function(){pluginEvent("clone",Mr),!Sortable.eventCanceled&&(Mr.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),Mr._hideClone(),_dispatchEvent({sortable:Mr,name:"clone"}))}),!Dr&&toggleClass(dragEl,Br.dragClass,!0),Dr?(ignoreNextClick=!0,Mr._loopId=setInterval(Mr._emulateDragOver,50)):(off(document,"mouseup",Mr._onDrop),off(document,"touchend",Mr._onDrop),off(document,"touchcancel",Mr._onDrop),$r&&($r.effectAllowed="move",Br.setData&&Br.setData.call(Mr,$r,dragEl)),on$1(document,"drop",Mr),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,Mr._dragStartId=_nextTick(Mr._dragStarted.bind(Mr,Dr,Be)),on$1(document,"selectstart",Mr),moved=!0,Safari&&css(document.body,"user-select","none")},_onDragOver:function(Be){var Dr=this.el,Mr=Be.target,$r,Br,zr,Vr=this.options,jr=Vr.group,Gr=Sortable.active,Wr=activeGroup===jr,Kr=Vr.sort,Zr=putSortable||Gr,Jr,rn=this,nn=!1;if(_silent)return;function ln(ri,vi){pluginEvent(ri,rn,_objectSpread2$1({evt:Be,isOwner:Wr,axis:Jr?"vertical":"horizontal",revert:zr,dragRect:$r,targetRect:Br,canSort:Kr,fromSortable:Zr,target:Mr,completed:hn,onMove:function(Ni,Yn){return _onMove(rootEl,Dr,dragEl,$r,Ni,getRect(Ni),Be,Yn)},changed:mn},vi))}function cn(){ln("dragOverAnimationCapture"),rn.captureAnimationState(),rn!==Zr&&Zr.captureAnimationState()}function hn(ri){return ln("dragOverCompleted",{insertion:ri}),ri&&(Wr?Gr._hideClone():Gr._showClone(rn),rn!==Zr&&(toggleClass(dragEl,putSortable?putSortable.options.ghostClass:Gr.options.ghostClass,!1),toggleClass(dragEl,Vr.ghostClass,!0)),putSortable!==rn&&rn!==Sortable.active?putSortable=rn:rn===Sortable.active&&putSortable&&(putSortable=null),Zr===rn&&(rn._ignoreWhileAnimating=Mr),rn.animateAll(function(){ln("dragOverAnimationComplete"),rn._ignoreWhileAnimating=null}),rn!==Zr&&(Zr.animateAll(),Zr._ignoreWhileAnimating=null)),(Mr===dragEl&&!dragEl.animated||Mr===Dr&&!Mr.animated)&&(lastTarget=null),!Vr.dragoverBubble&&!Be.rootEl&&Mr!==document&&(dragEl.parentNode[expando]._isOutsideThisEl(Be.target),!ri&&nearestEmptyInsertDetectEvent(Be)),!Vr.dragoverBubble&&Be.stopPropagation&&Be.stopPropagation(),nn=!0}function mn(){newIndex=index(dragEl),newDraggableIndex=index(dragEl,Vr.draggable),_dispatchEvent({sortable:rn,name:"change",toEl:Dr,newIndex,newDraggableIndex,originalEvent:Be})}if(Be.preventDefault!==void 0&&Be.cancelable&&Be.preventDefault(),Mr=closest(Mr,Vr.draggable,Dr,!0),ln("dragOver"),Sortable.eventCanceled)return nn;if(dragEl.contains(Be.target)||Mr.animated&&Mr.animatingX&&Mr.animatingY||rn._ignoreWhileAnimating===Mr)return hn(!1);if(ignoreNextClick=!1,Gr&&!Vr.disabled&&(Wr?Kr||(zr=parentEl!==rootEl):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,Gr,dragEl,Be))&&jr.checkPut(this,Gr,dragEl,Be))){if(Jr=this._getDirection(Be,Mr)==="vertical",$r=getRect(dragEl),ln("dragOverValid"),Sortable.eventCanceled)return nn;if(zr)return parentEl=rootEl,cn(),this._hideClone(),ln("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),hn(!0);var bn=lastChild(Dr,Vr.draggable);if(!bn||_ghostIsLast(Be,Jr,this)&&!bn.animated){if(bn===dragEl)return hn(!1);if(bn&&Dr===Be.target&&(Mr=bn),Mr&&(Br=getRect(Mr)),_onMove(rootEl,Dr,dragEl,$r,Mr,Br,Be,!!Mr)!==!1)return cn(),bn&&bn.nextSibling?Dr.insertBefore(dragEl,bn.nextSibling):Dr.appendChild(dragEl),parentEl=Dr,mn(),hn(!0)}else if(bn&&_ghostIsFirst(Be,Jr,this)){var An=getChild(Dr,0,Vr,!0);if(An===dragEl)return hn(!1);if(Mr=An,Br=getRect(Mr),_onMove(rootEl,Dr,dragEl,$r,Mr,Br,Be,!1)!==!1)return cn(),Dr.insertBefore(dragEl,An),parentEl=Dr,mn(),hn(!0)}else if(Mr.parentNode===Dr){Br=getRect(Mr);var vn=0,dn,wn=dragEl.parentNode!==Dr,xn=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||$r,Mr.animated&&Mr.toRect||Br,Jr),Mn=Jr?"top":"left",In=isScrolledPast(Mr,"top","top")||isScrolledPast(dragEl,"top","top"),Hn=In?In.scrollTop:void 0;lastTarget!==Mr&&(dn=Br[Mn],pastFirstInvertThresh=!1,isCircumstantialInvert=!xn&&Vr.invertSwap||wn),vn=_getSwapDirection(Be,Mr,Br,Jr,xn?1:Vr.swapThreshold,Vr.invertedSwapThreshold==null?Vr.swapThreshold:Vr.invertedSwapThreshold,isCircumstantialInvert,lastTarget===Mr);var $n;if(vn!==0){var jn=index(dragEl);do jn-=vn,$n=parentEl.children[jn];while($n&&(css($n,"display")==="none"||$n===ghostEl))}if(vn===0||$n===Mr)return hn(!1);lastTarget=Mr,lastDirection=vn;var Bn=Mr.nextElementSibling,Gn=!1;Gn=vn===1;var ei=_onMove(rootEl,Dr,dragEl,$r,Mr,Br,Be,Gn);if(ei!==!1)return(ei===1||ei===-1)&&(Gn=ei===1),_silent=!0,setTimeout(_unsilent,30),cn(),Gn&&!Bn?Dr.appendChild(dragEl):Mr.parentNode.insertBefore(dragEl,Gn?Bn:Mr),In&&scrollBy(In,0,Hn-In.scrollTop),parentEl=dragEl.parentNode,dn!==void 0&&!isCircumstantialInvert&&(targetMoveDistance=Math.abs(dn-getRect(Mr)[Mn])),mn(),hn(!0)}if(Dr.contains(dragEl))return hn(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},_offUpEvents:function(){var Be=this.el.ownerDocument;off(Be,"mouseup",this._onDrop),off(Be,"touchend",this._onDrop),off(Be,"pointerup",this._onDrop),off(Be,"touchcancel",this._onDrop),off(document,"selectstart",this)},_onDrop:function(Be){var Dr=this.el,Mr=this.options;if(newIndex=index(dragEl),newDraggableIndex=index(dragEl,Mr.draggable),pluginEvent("drop",this,{evt:Be}),parentEl=dragEl&&dragEl.parentNode,newIndex=index(dragEl),newDraggableIndex=index(dragEl,Mr.draggable),Sortable.eventCanceled){this._nulling();return}awaitingDragStarted=!1,isCircumstantialInvert=!1,pastFirstInvertThresh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off(Dr,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),Be&&(moved&&(Be.cancelable&&Be.preventDefault(),!Mr.dropBubble&&Be.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&putSortable.lastPutMode!=="clone")&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass(dragEl,putSortable?putSortable.options.ghostClass:this.options.ghostClass,!1),toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:Be}),rootEl!==parentEl?(newIndex>=0&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:Be}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:Be}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:Be}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:Be})),putSortable&&putSortable.save()):newIndex!==oldIndex&&newIndex>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:Be}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:Be})),Sortable.active&&((newIndex==null||newIndex===-1)&&(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:Be}),this.save()))),this._nulling()},_nulling:function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach(function(Be){Be.checked=!0}),savedInputChecked.length=lastDx=lastDy=0},handleEvent:function(Be){switch(Be.type){case"drop":case"dragend":this._onDrop(Be);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(Be),_globalDragOver(Be));break;case"selectstart":Be.preventDefault();break}},toArray:function(){for(var Be=[],Dr,Mr=this.el.children,$r=0,Br=Mr.length,zr=this.options;$r<Br;$r++)Dr=Mr[$r],closest(Dr,zr.draggable,this.el,!1)&&Be.push(Dr.getAttribute(zr.dataIdAttr)||_generateId(Dr));return Be},sort:function(Be,Dr){var Mr={},$r=this.el;this.toArray().forEach(function(Br,zr){var Vr=$r.children[zr];closest(Vr,this.options.draggable,$r,!1)&&(Mr[Br]=Vr)},this),Dr&&this.captureAnimationState(),Be.forEach(function(Br){Mr[Br]&&($r.removeChild(Mr[Br]),$r.appendChild(Mr[Br]))}),Dr&&this.animateAll()},save:function(){var Be=this.options.store;Be&&Be.set&&Be.set(this)},closest:function(Be,Dr){return closest(Be,Dr||this.options.draggable,this.el,!1)},option:function(Be,Dr){var Mr=this.options;if(Dr===void 0)return Mr[Be];var $r=PluginManager.modifyOption(this,Be,Dr);typeof $r<"u"?Mr[Be]=$r:Mr[Be]=Dr,Be==="group"&&_prepareGroup(Mr)},destroy:function(){pluginEvent("destroy",this);var Be=this.el;Be[expando]=null,off(Be,"mousedown",this._onTapStart),off(Be,"touchstart",this._onTapStart),off(Be,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(Be,"dragover",this),off(Be,"dragenter",this)),Array.prototype.forEach.call(Be.querySelectorAll("[draggable]"),function(Dr){Dr.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=Be=null},_hideClone:function(){if(!cloneHidden){if(pluginEvent("hideClone",this),Sortable.eventCanceled)return;css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0}},_showClone:function(Be){if(Be.lastPutMode!=="clone"){this._hideClone();return}if(cloneHidden){if(pluginEvent("showClone",this),Sortable.eventCanceled)return;dragEl.parentNode==rootEl&&!this.options.group.revertClone?rootEl.insertBefore(cloneEl,dragEl):nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1}}};function _globalDragOver(_r){_r.dataTransfer&&(_r.dataTransfer.dropEffect="move"),_r.cancelable&&_r.preventDefault()}function _onMove(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr,Gr=_r[expando],Wr=Gr.options.onMove,Kr;return window.CustomEvent&&!IE11OrLess&&!Edge?jr=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(jr=document.createEvent("Event"),jr.initEvent("move",!0,!0)),jr.to=Be,jr.from=_r,jr.dragged=Dr,jr.draggedRect=Mr,jr.related=$r||Be,jr.relatedRect=Br||getRect(Be),jr.willInsertAfter=Vr,jr.originalEvent=zr,_r.dispatchEvent(jr),Wr&&(Kr=Wr.call(Gr,jr,zr)),Kr}function _disableDraggable(_r){_r.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsFirst(_r,Be,Dr){var Mr=getRect(getChild(Dr.el,0,Dr.options,!0)),$r=10;return Be?_r.clientX<Mr.left-$r||_r.clientY<Mr.top&&_r.clientX<Mr.right:_r.clientY<Mr.top-$r||_r.clientY<Mr.bottom&&_r.clientX<Mr.left}function _ghostIsLast(_r,Be,Dr){var Mr=getRect(lastChild(Dr.el,Dr.options.draggable)),$r=10;return Be?_r.clientX>Mr.right+$r||_r.clientX<=Mr.right&&_r.clientY>Mr.bottom&&_r.clientX>=Mr.left:_r.clientX>Mr.right&&_r.clientY>Mr.top||_r.clientX<=Mr.right&&_r.clientY>Mr.bottom+$r}function _getSwapDirection(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr=Mr?_r.clientY:_r.clientX,Gr=Mr?Dr.height:Dr.width,Wr=Mr?Dr.top:Dr.left,Kr=Mr?Dr.bottom:Dr.right,Zr=!1;if(!zr){if(Vr&&targetMoveDistance<Gr*$r){if(!pastFirstInvertThresh&&(lastDirection===1?jr>Wr+Gr*Br/2:jr<Kr-Gr*Br/2)&&(pastFirstInvertThresh=!0),pastFirstInvertThresh)Zr=!0;else if(lastDirection===1?jr<Wr+targetMoveDistance:jr>Kr-targetMoveDistance)return-lastDirection}else if(jr>Wr+Gr*(1-$r)/2&&jr<Kr-Gr*(1-$r)/2)return _getInsertDirection(Be)}return Zr=Zr||zr,Zr&&(jr<Wr+Gr*Br/2||jr>Kr-Gr*Br/2)?jr>Wr+Gr/2?1:-1:0}function _getInsertDirection(_r){return index(dragEl)<index(_r)?1:-1}function _generateId(_r){for(var Be=_r.tagName+_r.className+_r.src+_r.href+_r.textContent,Dr=Be.length,Mr=0;Dr--;)Mr+=Be.charCodeAt(Dr);return Mr.toString(36)}function _saveInputCheckedState(_r){savedInputChecked.length=0;for(var Be=_r.getElementsByTagName("input"),Dr=Be.length;Dr--;){var Mr=Be[Dr];Mr.checked&&savedInputChecked.push(Mr)}}function _nextTick(_r){return setTimeout(_r,0)}function _cancelNextTick(_r){return clearTimeout(_r)}documentExists&&on$1(document,"touchmove",function(_r){(Sortable.active||awaitingDragStarted)&&_r.cancelable&&_r.preventDefault()});Sortable.utils={on:on$1,off,css,find:find$1,is:function(Be,Dr){return!!closest(Be,Dr,Be,!1)},extend:extend$5,throttle:throttle$2,closest,toggleClass,clone:clone$7,index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild};Sortable.get=function(_r){return _r[expando]};Sortable.mount=function(){for(var _r=arguments.length,Be=new Array(_r),Dr=0;Dr<_r;Dr++)Be[Dr]=arguments[Dr];Be[0].constructor===Array&&(Be=Be[0]),Be.forEach(function(Mr){if(!Mr.prototype||!Mr.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(Mr));Mr.utils&&(Sortable.utils=_objectSpread2$1(_objectSpread2$1({},Sortable.utils),Mr.utils)),PluginManager.mount(Mr)})};Sortable.create=function(_r,Be){return new Sortable(_r,Be)};Sortable.version=version$2;var autoScrolls=[],scrollEl,scrollRootEl,scrolling=!1,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval;function AutoScrollPlugin(){function _r(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var Be in this)Be.charAt(0)==="_"&&typeof this[Be]=="function"&&(this[Be]=this[Be].bind(this))}return _r.prototype={dragStarted:function(Dr){var Mr=Dr.originalEvent;this.sortable.nativeDraggable?on$1(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on$1(document,"pointermove",this._handleFallbackAutoScroll):Mr.touches?on$1(document,"touchmove",this._handleFallbackAutoScroll):on$1(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(Dr){var Mr=Dr.originalEvent;!this.options.dragOverBubble&&!Mr.rootEl&&this._handleAutoScroll(Mr)},drop:function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},nulling:function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},_handleFallbackAutoScroll:function(Dr){this._handleAutoScroll(Dr,!0)},_handleAutoScroll:function(Dr,Mr){var $r=this,Br=(Dr.touches?Dr.touches[0]:Dr).clientX,zr=(Dr.touches?Dr.touches[0]:Dr).clientY,Vr=document.elementFromPoint(Br,zr);if(touchEvt$1=Dr,Mr||this.options.forceAutoScrollFallback||Edge||IE11OrLess||Safari){autoScroll(Dr,this.options,Vr,Mr);var jr=getParentAutoScrollElement(Vr,!0);scrolling&&(!pointerElemChangedInterval||Br!==lastAutoScrollX||zr!==lastAutoScrollY)&&(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval(function(){var Gr=getParentAutoScrollElement(document.elementFromPoint(Br,zr),!0);Gr!==jr&&(jr=Gr,clearAutoScrolls()),autoScroll(Dr,$r.options,Gr,Mr)},10),lastAutoScrollX=Br,lastAutoScrollY=zr)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(Vr,!0)===getWindowScrollingElement()){clearAutoScrolls();return}autoScroll(Dr,this.options,getParentAutoScrollElement(Vr,!1),!1)}}},_extends(_r,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach(function(_r){clearInterval(_r.pid)}),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}var autoScroll=throttle$2(function(_r,Be,Dr,Mr){if(Be.scroll){var $r=(_r.touches?_r.touches[0]:_r).clientX,Br=(_r.touches?_r.touches[0]:_r).clientY,zr=Be.scrollSensitivity,Vr=Be.scrollSpeed,jr=getWindowScrollingElement(),Gr=!1,Wr;scrollRootEl!==Dr&&(scrollRootEl=Dr,clearAutoScrolls(),scrollEl=Be.scroll,Wr=Be.scrollFn,scrollEl===!0&&(scrollEl=getParentAutoScrollElement(Dr,!0)));var Kr=0,Zr=scrollEl;do{var Jr=Zr,rn=getRect(Jr),nn=rn.top,ln=rn.bottom,cn=rn.left,hn=rn.right,mn=rn.width,bn=rn.height,An=void 0,vn=void 0,dn=Jr.scrollWidth,wn=Jr.scrollHeight,xn=css(Jr),Mn=Jr.scrollLeft,In=Jr.scrollTop;Jr===jr?(An=mn<dn&&(xn.overflowX==="auto"||xn.overflowX==="scroll"||xn.overflowX==="visible"),vn=bn<wn&&(xn.overflowY==="auto"||xn.overflowY==="scroll"||xn.overflowY==="visible")):(An=mn<dn&&(xn.overflowX==="auto"||xn.overflowX==="scroll"),vn=bn<wn&&(xn.overflowY==="auto"||xn.overflowY==="scroll"));var Hn=An&&(Math.abs(hn-$r)<=zr&&Mn+mn<dn)-(Math.abs(cn-$r)<=zr&&!!Mn),$n=vn&&(Math.abs(ln-Br)<=zr&&In+bn<wn)-(Math.abs(nn-Br)<=zr&&!!In);if(!autoScrolls[Kr])for(var jn=0;jn<=Kr;jn++)autoScrolls[jn]||(autoScrolls[jn]={});(autoScrolls[Kr].vx!=Hn||autoScrolls[Kr].vy!=$n||autoScrolls[Kr].el!==Jr)&&(autoScrolls[Kr].el=Jr,autoScrolls[Kr].vx=Hn,autoScrolls[Kr].vy=$n,clearInterval(autoScrolls[Kr].pid),(Hn!=0||$n!=0)&&(Gr=!0,autoScrolls[Kr].pid=setInterval((function(){Mr&&this.layer===0&&Sortable.active._onTouchMove(touchEvt$1);var Bn=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*Vr:0,Gn=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*Vr:0;typeof Wr=="function"&&Wr.call(Sortable.dragged.parentNode[expando],Gn,Bn,_r,touchEvt$1,autoScrolls[this.layer].el)!=="continue"||scrollBy(autoScrolls[this.layer].el,Gn,Bn)}).bind({layer:Kr}),24))),Kr++}while(Be.bubbleScroll&&Zr!==jr&&(Zr=getParentAutoScrollElement(Zr,!1)));scrolling=Gr}},30),drop=function(Be){var Dr=Be.originalEvent,Mr=Be.putSortable,$r=Be.dragEl,Br=Be.activeSortable,zr=Be.dispatchSortableEvent,Vr=Be.hideGhostForTarget,jr=Be.unhideGhostForTarget;if(Dr){var Gr=Mr||Br;Vr();var Wr=Dr.changedTouches&&Dr.changedTouches.length?Dr.changedTouches[0]:Dr,Kr=document.elementFromPoint(Wr.clientX,Wr.clientY);jr(),Gr&&!Gr.el.contains(Kr)&&(zr("spill"),this.onSpill({dragEl:$r,putSortable:Mr}))}};function Revert(){}Revert.prototype={startIndex:null,dragStart:function(Be){var Dr=Be.oldDraggableIndex;this.startIndex=Dr},onSpill:function(Be){var Dr=Be.dragEl,Mr=Be.putSortable;this.sortable.captureAnimationState(),Mr&&Mr.captureAnimationState();var $r=getChild(this.sortable.el,this.startIndex,this.options);$r?this.sortable.el.insertBefore(Dr,$r):this.sortable.el.appendChild(Dr),this.sortable.animateAll(),Mr&&Mr.animateAll()},drop};_extends(Revert,{pluginName:"revertOnSpill"});function Remove(){}Remove.prototype={onSpill:function(Be){var Dr=Be.dragEl,Mr=Be.putSortable,$r=Mr||this.sortable;$r.captureAnimationState(),Dr.parentNode&&Dr.parentNode.removeChild(Dr),$r.animateAll()},drop};_extends(Remove,{pluginName:"removeOnSpill"});Sortable.mount(new AutoScrollPlugin);Sortable.mount(Remove,Revert);function _classCallCheck(_r,Be){if(!(_r instanceof Be))throw new TypeError("Cannot call a class as a function")}function _defineProperties(_r,Be){for(var Dr=0;Dr<Be.length;Dr++){var Mr=Be[Dr];Mr.enumerable=Mr.enumerable||!1,Mr.configurable=!0,"value"in Mr&&(Mr.writable=!0),Object.defineProperty(_r,_toPropertyKey(Mr.key),Mr)}}function _createClass(_r,Be,Dr){return Be&&_defineProperties(_r.prototype,Be),Dr&&_defineProperties(_r,Dr),Object.defineProperty(_r,"prototype",{writable:!1}),_r}function _defineProperty$1(_r,Be,Dr){return Be=_toPropertyKey(Be),Be in _r?Object.defineProperty(_r,Be,{value:Dr,enumerable:!0,configurable:!0,writable:!0}):_r[Be]=Dr,_r}function _toConsumableArray(_r){return _arrayWithoutHoles(_r)||_iterableToArray(_r)||_unsupportedIterableToArray(_r)||_nonIterableSpread()}function _arrayWithoutHoles(_r){if(Array.isArray(_r))return _arrayLikeToArray(_r)}function _iterableToArray(_r){if(typeof Symbol<"u"&&_r[Symbol.iterator]!=null||_r["@@iterator"]!=null)return Array.from(_r)}function _unsupportedIterableToArray(_r,Be){if(_r){if(typeof _r=="string")return _arrayLikeToArray(_r,Be);var Dr=Object.prototype.toString.call(_r).slice(8,-1);if(Dr==="Object"&&_r.constructor&&(Dr=_r.constructor.name),Dr==="Map"||Dr==="Set")return Array.from(_r);if(Dr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Dr))return _arrayLikeToArray(_r,Be)}}function _arrayLikeToArray(_r,Be){(Be==null||Be>_r.length)&&(Be=_r.length);for(var Dr=0,Mr=new Array(Be);Dr<Be;Dr++)Mr[Dr]=_r[Dr];return Mr}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(_r,Be){if(typeof _r!="object"||_r===null)return _r;var Dr=_r[Symbol.toPrimitive];if(Dr!==void 0){var Mr=Dr.call(_r,Be||"default");if(typeof Mr!="object")return Mr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Be==="string"?String:Number)(_r)}function _toPropertyKey(_r){var Be=_toPrimitive(_r,"string");return typeof Be=="symbol"?Be:String(Be)}var DataEngine=function(){function _r(Be){var Dr=Be.data,Mr=Be.propertyMap,$r=Mr===void 0?{}:Mr,Br=Be.renderListItem;_classCallCheck(this,_r),_defineProperty$1(this,"data",void 0),_defineProperty$1(this,"sortedData",void 0),_defineProperty$1(this,"sortedDataDomArray",void 0),_defineProperty$1(this,"propertyMap",void 0),_defineProperty$1(this,"renderListItem",void 0),_defineProperty$1(this,"boundGetItemPropProxyName",void 0),this.data=Dr,this.sortedData=[],this.sortedDataDomArray=[],this.propertyMap=$r,this.renderListItem=Br,this.boundGetItemPropProxyName=this.getItemPropProxyName.bind(this),this.maybeTransformData()}return _createClass(_r,[{key:"addMappingProxyToItem",value:function(Dr){var Mr=this;return new Proxy(Dr,{get:function(Br,zr,Vr){return Reflect.get(Br,Mr.boundGetItemPropProxyName(zr),Vr)}})}},{key:"maybeTransformData",value:function(){!Object.keys(this.propertyMap).length||!Array.isArray(this.data)||(this.data=this.data.map(this.addMappingProxyToItem.bind(this)))}},{key:"getItemPropProxyName",value:function(Dr){return Object.prototype.hasOwnProperty.call(this.propertyMap,Dr)?this.propertyMap[Dr]:Dr}},{key:"isTopLevelItem",value:function(Dr){return!Dr.parent}},{key:"sortListItems",value:function(){var Dr=this,Mr=_toConsumableArray(this.data),$r=Mr.filter(function(zr){return Dr.isTopLevelItem(zr)}).sort(function(zr,Vr){return zr.order&&Vr.order?zr.order-Vr.order:0}),Br=Mr.filter(function(zr){return!Dr.isTopLevelItem(zr)}).reduce(function(zr,Vr){return Vr.parent&&(Object.prototype.hasOwnProperty.call(zr,Vr.parent)?zr[Vr.parent].push(Vr):zr[Vr.parent]=[Vr]),zr},{});return Object.keys(Br).forEach(function(zr){Br[zr].sort(function(Vr,jr){return Vr.order&&jr.order?Vr.order-jr.order:0})}),this.sortedData=[].concat(_toConsumableArray($r),_toConsumableArray(Object.values(Br).flat())),this.sortedData}},{key:"addNewItem",value:function(Dr){var Mr=Dr.item,$r=Dr.asLastChild,Br=$r===void 0?!1:$r,zr=this.addMappingProxyToItem(Mr);return Array.isArray(this.data)&&this.data[Br?"push":"unshift"](zr),this.createItemElement(zr)}},{key:"createItemElement",value:function(Dr){var Mr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"li",$r=Dr.id,Br=Dr.text,zr=document.createElement(Mr);return zr.dataset.id=$r,Mr==="li"&&Br&&(zr.innerHTML=Br),Mr==="li"&&typeof this.renderListItem=="function"?this.renderListItem(zr,Dr):zr}},{key:"elementIsParentOfItem",value:function(Dr,Mr){return Dr.dataset.id==="".concat(Mr.parent)}},{key:"getParentNodeOfItem",value:function(Dr,Mr,$r){return Dr.querySelector("".concat($r,'[data-id="').concat(Mr.parent,'"]'))}},{key:"elementIsAncestorOfItem",value:function(Dr,Mr){return!!this.getParentNodeOfItem(Dr,Mr,"li")}},{key:"getDirectListParentOfItem",value:function(Dr,Mr){return this.getParentNodeOfItem(Dr,Mr,"ol")}},{key:"maybeAppendItemToParentDom",value:function(Dr){var Mr=this,$r=Dr.parent,Br=this.sortedDataDomArray.find(function(Gr){return Mr.elementIsParentOfItem(Gr,Dr)||Mr.elementIsAncestorOfItem(Gr,Dr)});if(!Br)return!1;var zr=this.createItemElement(Dr),Vr=this.getDirectListParentOfItem(Br,Dr);if(!Vr){Vr=this.createItemElement({id:$r},"ol");var jr=this.getParentNodeOfItem(Br,Dr,"li")||Br;jr.appendChild(Vr)}return Vr.appendChild(zr),!0}},{key:"getListItemsDom",value:function(){var Dr=this;this.sortedDataDomArray=[];for(var Mr=[];Mr.length!==this.sortListItems().length;)Mr=this.sortedData.reduce(function($r,Br){if(!Br.id)return $r;var zr=Br.id.toString();if($r.includes(zr))return $r;var Vr;if(Br.parent)Vr=Dr.maybeAppendItemToParentDom(Br);else{var jr=Dr.createItemElement(Br);Dr.sortedDataDomArray.push(jr),Vr=!0}return Vr&&$r.push(zr),$r},Mr);return this.sortedDataDomArray}},{key:"convertDomToData",value:function(Dr){var Mr=this;return Array.from((Dr==null?void 0:Dr.querySelectorAll("li"))||[]).map(function($r){var Br,zr=$r.parentNode,Vr=zr.dataset.id,jr=Array.from(zr.children).findIndex(function(Gr){return Gr===$r})+1;return Br={},_defineProperty$1(Br,Mr.getItemPropProxyName("id"),$r.dataset.id),_defineProperty$1(Br,Mr.getItemPropProxyName("parent"),Vr),_defineProperty$1(Br,Mr.getItemPropProxyName("order"),jr),Br})}},{key:"render",value:function(){var Dr=document.createElement("ol");return this.getListItemsDom().forEach(function(Mr){return Dr.appendChild(Mr)}),Dr}}]),_r}(),NestedSort=function(){function _r(Be){var Dr=Be.actions,Mr=Dr===void 0?{}:Dr,$r=Be.data,Br=Be.droppingEdge,zr=Br===void 0?15:Br,Vr=Be.el,jr=Be.init,Gr=jr===void 0?!0:jr,Wr=Be.listClassNames,Kr=Be.listItemClassNames,Zr=Be.nestingLevels,Jr=Be.propertyMap,rn=Jr===void 0?{}:Jr,nn=Be.renderListItem;_classCallCheck(this,_r),_defineProperty$1(this,"actions",void 0),_defineProperty$1(this,"classNames",void 0),_defineProperty$1(this,"cursor",void 0),_defineProperty$1(this,"data",void 0),_defineProperty$1(this,"dataEngine",void 0),_defineProperty$1(this,"distances",void 0),_defineProperty$1(this,"draggedNode",void 0),_defineProperty$1(this,"initialised",void 0),_defineProperty$1(this,"listClassNames",void 0),_defineProperty$1(this,"listEventListeners",void 0),_defineProperty$1(this,"listInterface",void 0),_defineProperty$1(this,"listItemClassNames",void 0),_defineProperty$1(this,"mainListClassName",void 0),_defineProperty$1(this,"nestingLevels",void 0),_defineProperty$1(this,"placeholderList",void 0),_defineProperty$1(this,"placeholderInUse",void 0),_defineProperty$1(this,"propertyMap",void 0),_defineProperty$1(this,"renderListItem",void 0),_defineProperty$1(this,"sortableList",void 0),_defineProperty$1(this,"targetedNode",void 0),_defineProperty$1(this,"targetNode",void 0),_defineProperty$1(this,"wrapper",void 0),this.renderListItem=nn;var ln=typeof Vr=="string"?document.querySelector(Vr):Vr,cn=ln instanceof HTMLOListElement||ln instanceof HTMLUListElement;this.wrapper=cn?void 0:ln,this.sortableList=cn?ln:null,this.data=$r,this.listClassNames=this.createListClassNamesArray(Wr),this.mainListClassName=this.listClassNames[0]||"nested-sort",this.listItemClassNames=this.createListClassNamesArray(Kr),this.propertyMap=rn,this.actions={onDrop:Mr.onDrop},this.initialised=!1,this.distances={droppingEdge:zr},this.classNames={dragged:"ns-dragged",placeholder:"ns-placeholder",targeted:"ns-targeted"},this.listEventListeners={dragover:this.onDragOver.bind(this),dragstart:this.onDragStart.bind(this),dragenter:this.onDragEnter.bind(this),dragend:this.onDragEnd.bind(this),drop:this.onDrop.bind(this)};var hn=parseInt(Zr);this.nestingLevels=isNaN(hn)?-1:hn,this.listInterface=this.getListInterface(),this.maybeInitDataDom(),this.addListAttributes(),Gr&&this.initDragAndDrop()}return _createClass(_r,[{key:"getListInterface",value:function(){return Array.isArray(this.data)&&this.data.length||this.sortableList instanceof HTMLOListElement?HTMLOListElement:HTMLUListElement}},{key:"getDataEngine",value:function(){return this.dataEngine?this.dataEngine:(this.dataEngine=new DataEngine({data:this.data,propertyMap:this.propertyMap,renderListItem:this.renderListItem}),this.dataEngine)}},{key:"createListClassNamesArray",value:function(Dr){return Dr?Array.isArray(Dr)?Dr:Dr.split(" "):[]}},{key:"maybeInitDataDom",value:function(){if(Array.isArray(this.data)&&this.data.length&&this.wrapper){var Dr=this.getDataEngine().render();this.wrapper.innerHTML="",this.wrapper.appendChild(Dr),this.sortableList=Dr}}},{key:"getListTagName",value:function(){return this.listInterface===HTMLOListElement?"ol":"ul"}},{key:"getSortableList",value:function(){var Dr;return this.sortableList instanceof this.listInterface?this.sortableList:(this.sortableList=(Dr=this.wrapper)===null||Dr===void 0?void 0:Dr.querySelector(this.getListTagName()),this.sortableList)}},{key:"addListAttributes",value:function(){var Dr,Mr=this,$r=this.getSortableList();$r&&((Dr=$r.classList).add.apply(Dr,_toConsumableArray(this.listClassNames.concat(this.mainListClassName))),$r.querySelectorAll(this.getListTagName()).forEach(function(Br){var zr;(zr=Br.classList).add.apply(zr,_toConsumableArray(Mr.listClassNames))}),$r.querySelectorAll("li").forEach(function(Br){var zr;(zr=Br.classList).add.apply(zr,_toConsumableArray(Mr.listItemClassNames))}))}},{key:"toggleMainListLifeCycleClassName",value:function(){var Dr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,Mr=this.getSortableList();if(Mr){var $r="".concat(this.mainListClassName,"--enabled");Dr?Mr.classList.add($r):Mr.classList.remove($r)}}},{key:"toggleListItemAttributes",value:function(){var Dr,Mr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(Dr=this.getSortableList())===null||Dr===void 0||Dr.querySelectorAll("li").forEach(function($r){$r.setAttribute("draggable",Mr.toString())})}},{key:"toggleListEventListeners",value:function(){var Dr=this,Mr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,$r=this.getSortableList();$r&&Object.keys(this.listEventListeners).forEach(function(Br){Mr?$r.removeEventListener(Br,Dr.listEventListeners[Br]):$r.addEventListener(Br,Dr.listEventListeners[Br],!1)})}},{key:"initDragAndDrop",value:function(){this.initialised||(this.toggleListEventListeners(),this.initPlaceholderList(),this.toggleListItemAttributes(),this.toggleMainListLifeCycleClassName(),this.initialised=!0)}},{key:"init",value:function(){this.initDragAndDrop()}},{key:"destroy",value:function(){this.toggleListEventListeners(!0),this.toggleListItemAttributes(!1),this.toggleMainListLifeCycleClassName(!1),this.initialised=!1}},{key:"removeClassFromEl",value:function(Dr,Mr){Mr&&Mr.classList.contains(Dr)&&Mr.classList.remove(Dr)}},{key:"canBeTargeted",value:function(Dr){return!this.draggedNode||this.draggedNode===Dr?!1:Dr.nodeName==="LI"?!this.nestingThresholdReached(Dr):Dr instanceof this.listInterface&&Dr.classList.contains(this.classNames.placeholder)}},{key:"onDragStart",value:function(Dr){var Mr;this.draggedNode=Dr.target,this.draggedNode.classList.add(this.classNames.dragged),(Mr=Dr.dataTransfer)===null||Mr===void 0||Mr.setData("text","")}},{key:"onDragOver",value:function(Dr){Dr.preventDefault(),this.updateCoordination(Dr),this.managePlaceholderLists()}},{key:"onDragEnter",value:function(Dr){this.canBeTargeted(Dr.target)&&(this.removeClassFromEl(this.classNames.targeted,this.targetedNode),this.targetedNode=Dr.target,this.targetedNode.classList.add(this.classNames.targeted))}},{key:"onDragEnd",value:function(Dr){Dr.stopPropagation(),this.removeClassFromEl(this.classNames.dragged,this.draggedNode),this.removeClassFromEl(this.classNames.targeted,this.targetedNode),this.cleanupPlaceholderLists(),delete this.draggedNode,delete this.targetedNode}},{key:"onDrop",value:function(Dr){Dr.stopPropagation(),this.maybeDrop(),this.cleanupPlaceholderLists(),typeof this.actions.onDrop=="function"&&this.actions.onDrop(this.getDataEngine().convertDomToData(this.getSortableList()))}},{key:"updateCoordination",value:function(Dr){this.calcMouseCoords(Dr),this.calcMouseToTargetedElDist()}},{key:"getDropLocation",value:function(){if(this.canBeDropped()){var Dr;if(((Dr=this.targetedNode)===null||Dr===void 0?void 0:Dr.nodeName)==="LI")return"before";if(this.targetedNode instanceof this.listInterface)return"inside"}}},{key:"maybeDrop",value:function(){var Dr=this.getDropLocation();Dr&&this.dropTheItem(Dr)}},{key:"dropTheItem",value:function(Dr){var Mr,$r,Br;switch(Dr){case"before":(Mr=this.targetedNode)===null||Mr===void 0||($r=Mr.parentNode)===null||$r===void 0||$r.insertBefore(this.draggedNode,this.targetedNode);break;case"inside":(Br=this.targetedNode)===null||Br===void 0||Br.appendChild(this.draggedNode);break}}},{key:"calcMouseCoords",value:function(Dr){this.cursor={X:Dr.clientX,Y:Dr.clientY}}},{key:"calcMouseToTargetedElDist",value:function(){if(this.targetedNode){var Dr=this.targetedNode.getBoundingClientRect();this.targetNode={X:Dr.left,Y:Dr.top};var Mr=this.targetNode.Y-this.cursor.Y,$r=Math.abs(Mr);this.distances.mouseTo={targetedElTop:Mr,targetedElTopAbs:$r,targetedElBot:$r-this.targetedNode.clientHeight}}}},{key:"areNested",value:function(Dr,Mr){return!!Dr&&!!Mr&&Array.from(Mr==null?void 0:Mr.querySelectorAll("li")).some(function($r){return $r===Dr})}},{key:"cursorIsIndentedEnough",value:function(){return this.cursor.X-this.targetNode.X>50}},{key:"mouseIsTooCloseToTop",value:function(){var Dr;return(Dr=this.distances)!==null&&Dr!==void 0&&Dr.droppingEdge?this.cursor.Y-this.targetNode.Y<this.distances.droppingEdge:!1}},{key:"managePlaceholderLists",value:function(){var Dr=this,Mr=this.analysePlaceHolderSituation();Mr.forEach(function($r){switch($r){case"add":Dr.cleanupPlaceholderLists(),Dr.addPlaceholderList();break;case"cleanup":Dr.cleanupPlaceholderLists();break}})}},{key:"targetedNodeIsPlaceholder",value:function(){return this.targetedNode instanceof this.listInterface&&this.targetedNode.classList.contains(this.classNames.placeholder)}},{key:"getNodeDepth",value:function(Dr){var Mr=0,$r=this.getSortableList(),Br=0;if(this.draggedNode){var zr=this.draggedNode.querySelectorAll("ul").length||0,Vr=this.draggedNode.querySelectorAll("ol").length||0;Br=zr>Vr?zr:Vr}for(;$r!==((jr=Dr)===null||jr===void 0?void 0:jr.parentElement);){var jr,Gr,Wr;((Gr=Dr)===null||Gr===void 0?void 0:Gr.parentElement)instanceof this.listInterface&&Mr++,Dr=(Wr=Dr)===null||Wr===void 0?void 0:Wr.parentElement}return Mr+Br}},{key:"nestingThresholdReached",value:function(Dr){var Mr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.nestingLevels<0?!1:Mr?this.getNodeDepth(Dr)>=this.nestingLevels:this.getNodeDepth(Dr)>this.nestingLevels}},{key:"analysePlaceHolderSituation",value:function(){if(!this.targetedNode||this.areNested(this.targetedNode,this.draggedNode))return[];var Dr=[];return!this.cursorIsIndentedEnough()||this.mouseIsTooCloseToTop()?this.targetedNodeIsPlaceholder()||Dr.push("cleanup"):this.targetedNode!==this.draggedNode&&this.targetedNode.nodeName==="LI"&&!this.targetedNode.querySelectorAll(this.getListTagName()).length&&!this.nestingThresholdReached(this.targetedNode,!0)&&Dr.push("add"),Dr}},{key:"animatePlaceholderList",value:function(){var Dr;this.placeholderInUse.style.minHeight="0",this.placeholderInUse.style.transition="min-height ease .2s",this.placeholderInUse.style.minHeight="".concat((Dr=this.draggedNode)===null||Dr===void 0?void 0:Dr.offsetHeight,"px")}},{key:"addPlaceholderList",value:function(){var Dr;this.getPlaceholderList(),(Dr=this.targetedNode)===null||Dr===void 0||Dr.appendChild(this.placeholderInUse),this.animatePlaceholderList()}},{key:"targetNodeIsIdentified",value:function(){return!!this.targetedNode}},{key:"targetNodeIsBeingDragged",value:function(){return this.targetNodeIsIdentified()&&this.targetedNode===this.draggedNode}},{key:"targetNodeIsListWithItems",value:function(){return this.targetNodeIsIdentified()&&this.targetedNode instanceof this.listInterface&&!!this.targetedNode.querySelectorAll("li").length}},{key:"canBeDropped",value:function(){return this.targetNodeIsIdentified()&&!this.targetNodeIsBeingDragged()&&!this.targetNodeIsListWithItems()&&!this.areNested(this.targetedNode,this.draggedNode)}},{key:"cleanupPlaceholderLists",value:function(){var Dr,Mr=this,$r=this.getListTagName(),Br=((Dr=this.getSortableList())===null||Dr===void 0?void 0:Dr.querySelectorAll($r))||[];Array.from(Br).forEach(function(zr){zr.querySelectorAll("li").length?zr.classList.contains(Mr.classNames.placeholder)&&(zr.classList.remove(Mr.classNames.placeholder),zr.style.minHeight="auto",zr.dataset.id=zr.parentNode.dataset.id):zr.remove()})}},{key:"initPlaceholderList",value:function(){var Dr;this.placeholderList=document.createElement(this.getListTagName()),(Dr=this.placeholderList.classList).add.apply(Dr,[this.classNames.placeholder].concat(_toConsumableArray(this.listClassNames)))}},{key:"getPlaceholderList",value:function(){return this.placeholderInUse=this.placeholderList.cloneNode(!0),this.placeholderInUse}},{key:"addNewItem",value:function(Dr){var Mr,$r=Dr.item,Br=Dr.asLastChild,zr=Br===void 0?!1:Br,Vr=this.getDataEngine().addNewItem({item:$r,asLastChild:zr});return Vr.setAttribute("draggable",String(this.initialised)),(Mr=this.getSortableList())===null||Mr===void 0||Mr[zr?"append":"prepend"](Vr),{data:this.getDataEngine().convertDomToData(this.getSortableList())}}}]),_r}();function bind$3(_r,Be){return function(){return _r.apply(Be,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,kindOf=(_r=>Be=>{const Dr=toString$1.call(Be);return _r[Dr]||(_r[Dr]=Dr.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_r=>(_r=_r.toLowerCase(),Be=>kindOf(Be)===_r),typeOfTest=_r=>Be=>typeof Be===_r,{isArray:isArray$4}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer(_r){return _r!==null&&!isUndefined$1(_r)&&_r.constructor!==null&&!isUndefined$1(_r.constructor)&&isFunction$2(_r.constructor.isBuffer)&&_r.constructor.isBuffer(_r)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_r){let Be;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?Be=ArrayBuffer.isView(_r):Be=_r&&_r.buffer&&isArrayBuffer(_r.buffer),Be}const isString$3=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber$2=typeOfTest("number"),isObject$6=_r=>_r!==null&&typeof _r=="object",isBoolean=_r=>_r===!0||_r===!1,isPlainObject=_r=>{if(kindOf(_r)!=="object")return!1;const Be=getPrototypeOf(_r);return(Be===null||Be===Object.prototype||Object.getPrototypeOf(Be)===null)&&!(Symbol.toStringTag in _r)&&!(Symbol.iterator in _r)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_r=>isObject$6(_r)&&isFunction$2(_r.pipe),isFormData=_r=>{let Be;return _r&&(typeof FormData=="function"&&_r instanceof FormData||isFunction$2(_r.append)&&((Be=kindOf(_r))==="formdata"||Be==="object"&&isFunction$2(_r.toString)&&_r.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim$2=_r=>_r.trim?_r.trim():_r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_r,Be,{allOwnKeys:Dr=!1}={}){if(_r===null||typeof _r>"u")return;let Mr,$r;if(typeof _r!="object"&&(_r=[_r]),isArray$4(_r))for(Mr=0,$r=_r.length;Mr<$r;Mr++)Be.call(null,_r[Mr],Mr,_r);else{const Br=Dr?Object.getOwnPropertyNames(_r):Object.keys(_r),zr=Br.length;let Vr;for(Mr=0;Mr<zr;Mr++)Vr=Br[Mr],Be.call(null,_r[Vr],Vr,_r)}}function findKey(_r,Be){Be=Be.toLowerCase();const Dr=Object.keys(_r);let Mr=Dr.length,$r;for(;Mr-- >0;)if($r=Dr[Mr],Be===$r.toLowerCase())return $r;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=_r=>!isUndefined$1(_r)&&_r!==_global;function merge$1(){const{caseless:_r}=isContextDefined(this)&&this||{},Be={},Dr=(Mr,$r)=>{const Br=_r&&findKey(Be,$r)||$r;isPlainObject(Be[Br])&&isPlainObject(Mr)?Be[Br]=merge$1(Be[Br],Mr):isPlainObject(Mr)?Be[Br]=merge$1({},Mr):isArray$4(Mr)?Be[Br]=Mr.slice():Be[Br]=Mr};for(let Mr=0,$r=arguments.length;Mr<$r;Mr++)arguments[Mr]&&forEach(arguments[Mr],Dr);return Be}const extend$4=(_r,Be,Dr,{allOwnKeys:Mr}={})=>(forEach(Be,($r,Br)=>{Dr&&isFunction$2($r)?_r[Br]=bind$3($r,Dr):_r[Br]=$r},{allOwnKeys:Mr}),_r),stripBOM=_r=>(_r.charCodeAt(0)===65279&&(_r=_r.slice(1)),_r),inherits$1=(_r,Be,Dr,Mr)=>{_r.prototype=Object.create(Be.prototype,Mr),_r.prototype.constructor=_r,Object.defineProperty(_r,"super",{value:Be.prototype}),Dr&&Object.assign(_r.prototype,Dr)},toFlatObject=(_r,Be,Dr,Mr)=>{let $r,Br,zr;const Vr={};if(Be=Be||{},_r==null)return Be;do{for($r=Object.getOwnPropertyNames(_r),Br=$r.length;Br-- >0;)zr=$r[Br],(!Mr||Mr(zr,_r,Be))&&!Vr[zr]&&(Be[zr]=_r[zr],Vr[zr]=!0);_r=Dr!==!1&&getPrototypeOf(_r)}while(_r&&(!Dr||Dr(_r,Be))&&_r!==Object.prototype);return Be},endsWith=(_r,Be,Dr)=>{_r=String(_r),(Dr===void 0||Dr>_r.length)&&(Dr=_r.length),Dr-=Be.length;const Mr=_r.indexOf(Be,Dr);return Mr!==-1&&Mr===Dr},toArray$1=_r=>{if(!_r)return null;if(isArray$4(_r))return _r;let Be=_r.length;if(!isNumber$2(Be))return null;const Dr=new Array(Be);for(;Be-- >0;)Dr[Be]=_r[Be];return Dr},isTypedArray$1=(_r=>Be=>_r&&Be instanceof _r)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(_r,Be)=>{const Mr=(_r&&_r[Symbol.iterator]).call(_r);let $r;for(;($r=Mr.next())&&!$r.done;){const Br=$r.value;Be.call(_r,Br[0],Br[1])}},matchAll=(_r,Be)=>{let Dr;const Mr=[];for(;(Dr=_r.exec(Be))!==null;)Mr.push(Dr);return Mr},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase$1=_r=>_r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(Dr,Mr,$r){return Mr.toUpperCase()+$r}),hasOwnProperty$1=(({hasOwnProperty:_r})=>(Be,Dr)=>_r.call(Be,Dr))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(_r,Be)=>{const Dr=Object.getOwnPropertyDescriptors(_r),Mr={};forEach(Dr,($r,Br)=>{let zr;(zr=Be($r,Br,_r))!==!1&&(Mr[Br]=zr||$r)}),Object.defineProperties(_r,Mr)},freezeMethods=_r=>{reduceDescriptors(_r,(Be,Dr)=>{if(isFunction$2(_r)&&["arguments","caller","callee"].indexOf(Dr)!==-1)return!1;const Mr=_r[Dr];if(isFunction$2(Mr)){if(Be.enumerable=!1,"writable"in Be){Be.writable=!1;return}Be.set||(Be.set=()=>{throw Error("Can not rewrite read-only method '"+Dr+"'")})}})},toObjectSet=(_r,Be)=>{const Dr={},Mr=$r=>{$r.forEach(Br=>{Dr[Br]=!0})};return isArray$4(_r)?Mr(_r):Mr(String(_r).split(Be)),Dr},noop$1=()=>{},toFiniteNumber=(_r,Be)=>(_r=+_r,Number.isFinite(_r)?_r:Be),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_r=16,Be=ALPHABET.ALPHA_DIGIT)=>{let Dr="";const{length:Mr}=Be;for(;_r--;)Dr+=Be[Math.random()*Mr|0];return Dr};function isSpecCompliantForm(_r){return!!(_r&&isFunction$2(_r.append)&&_r[Symbol.toStringTag]==="FormData"&&_r[Symbol.iterator])}const toJSONObject=_r=>{const Be=new Array(10),Dr=(Mr,$r)=>{if(isObject$6(Mr)){if(Be.indexOf(Mr)>=0)return;if(!("toJSON"in Mr)){Be[$r]=Mr;const Br=isArray$4(Mr)?[]:{};return forEach(Mr,(zr,Vr)=>{const jr=Dr(zr,$r+1);!isUndefined$1(jr)&&(Br[Vr]=jr)}),Be[$r]=void 0,Br}}return Mr};return Dr(_r,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=_r=>_r&&(isObject$6(_r)||isFunction$2(_r))&&isFunction$2(_r.then)&&isFunction$2(_r.catch),utils={isArray:isArray$4,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$3,isNumber:isNumber$2,isBoolean,isObject:isObject$6,isPlainObject,isUndefined:isUndefined$1,isDate:isDate$1,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge:merge$1,extend:extend$4,trim:trim$2,stripBOM,inherits:inherits$1,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase:toCamelCase$1,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(_r,Be,Dr,Mr,$r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_r,this.name="AxiosError",Be&&(this.code=Be),Dr&&(this.config=Dr),Mr&&(this.request=Mr),$r&&(this.response=$r)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_r=>{descriptors[_r]={value:_r}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(_r,Be,Dr,Mr,$r,Br)=>{const zr=Object.create(prototype$1);return utils.toFlatObject(_r,zr,function(jr){return jr!==Error.prototype},Vr=>Vr!=="isAxiosError"),AxiosError.call(zr,_r.message,Be,Dr,Mr,$r),zr.cause=_r,zr.name=_r.name,Br&&Object.assign(zr,Br),zr};const httpAdapter=null;function isVisitable(_r){return utils.isPlainObject(_r)||utils.isArray(_r)}function removeBrackets(_r){return utils.endsWith(_r,"[]")?_r.slice(0,-2):_r}function renderKey(_r,Be,Dr){return _r?_r.concat(Be).map(function($r,Br){return $r=removeBrackets($r),!Dr&&Br?"["+$r+"]":$r}).join(Dr?".":""):Be}function isFlatArray(_r){return utils.isArray(_r)&&!_r.some(isVisitable)}const predicates=utils.toFlatObject(utils,{},null,function(Be){return/^is[A-Z]/.test(Be)});function toFormData(_r,Be,Dr){if(!utils.isObject(_r))throw new TypeError("target must be an object");Be=Be||new FormData,Dr=utils.toFlatObject(Dr,{metaTokens:!0,dots:!1,indexes:!1},!1,function(nn,ln){return!utils.isUndefined(ln[nn])});const Mr=Dr.metaTokens,$r=Dr.visitor||Wr,Br=Dr.dots,zr=Dr.indexes,jr=(Dr.Blob||typeof Blob<"u"&&Blob)&&utils.isSpecCompliantForm(Be);if(!utils.isFunction($r))throw new TypeError("visitor must be a function");function Gr(rn){if(rn===null)return"";if(utils.isDate(rn))return rn.toISOString();if(!jr&&utils.isBlob(rn))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(rn)||utils.isTypedArray(rn)?jr&&typeof Blob=="function"?new Blob([rn]):Buffer.from(rn):rn}function Wr(rn,nn,ln){let cn=rn;if(rn&&!ln&&typeof rn=="object"){if(utils.endsWith(nn,"{}"))nn=Mr?nn:nn.slice(0,-2),rn=JSON.stringify(rn);else if(utils.isArray(rn)&&isFlatArray(rn)||(utils.isFileList(rn)||utils.endsWith(nn,"[]"))&&(cn=utils.toArray(rn)))return nn=removeBrackets(nn),cn.forEach(function(mn,bn){!(utils.isUndefined(mn)||mn===null)&&Be.append(zr===!0?renderKey([nn],bn,Br):zr===null?nn:nn+"[]",Gr(mn))}),!1}return isVisitable(rn)?!0:(Be.append(renderKey(ln,nn,Br),Gr(rn)),!1)}const Kr=[],Zr=Object.assign(predicates,{defaultVisitor:Wr,convertValue:Gr,isVisitable});function Jr(rn,nn){if(!utils.isUndefined(rn)){if(Kr.indexOf(rn)!==-1)throw Error("Circular reference detected in "+nn.join("."));Kr.push(rn),utils.forEach(rn,function(cn,hn){(!(utils.isUndefined(cn)||cn===null)&&$r.call(Be,cn,utils.isString(hn)?hn.trim():hn,nn,Zr))===!0&&Jr(cn,nn?nn.concat(hn):[hn])}),Kr.pop()}}if(!utils.isObject(_r))throw new TypeError("data must be an object");return Jr(_r),Be}function encode$1(_r){const Be={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_r).replace(/[!'()~]|%20|%00/g,function(Mr){return Be[Mr]})}function AxiosURLSearchParams(_r,Be){this._pairs=[],_r&&toFormData(_r,this,Be)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(Be,Dr){this._pairs.push([Be,Dr])};prototype.toString=function(Be){const Dr=Be?function(Mr){return Be.call(this,Mr,encode$1)}:encode$1;return this._pairs.map(function($r){return Dr($r[0])+"="+Dr($r[1])},"").join("&")};function encode(_r){return encodeURIComponent(_r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_r,Be,Dr){if(!Be)return _r;const Mr=Dr&&Dr.encode||encode,$r=Dr&&Dr.serialize;let Br;if($r?Br=$r(Be,Dr):Br=utils.isURLSearchParams(Be)?Be.toString():new AxiosURLSearchParams(Be,Dr).toString(Mr),Br){const zr=_r.indexOf("#");zr!==-1&&(_r=_r.slice(0,zr)),_r+=(_r.indexOf("?")===-1?"?":"&")+Br}return _r}class InterceptorManager{constructor(){this.handlers=[]}use(Be,Dr,Mr){return this.handlers.push({fulfilled:Be,rejected:Dr,synchronous:Mr?Mr.synchronous:!1,runWhen:Mr?Mr.runWhen:null}),this.handlers.length-1}eject(Be){this.handlers[Be]&&(this.handlers[Be]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(Be){utils.forEach(this.handlers,function(Mr){Mr!==null&&Be(Mr)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,isStandardBrowserEnv=(()=>{let _r;return typeof navigator<"u"&&((_r=navigator.product)==="ReactNative"||_r==="NativeScript"||_r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(_r,Be){return toFormData(_r,new platform$1.classes.URLSearchParams,Object.assign({visitor:function(Dr,Mr,$r,Br){return platform$1.isNode&&utils.isBuffer(Dr)?(this.append(Mr,Dr.toString("base64")),!1):Br.defaultVisitor.apply(this,arguments)}},Be))}function parsePropPath(_r){return utils.matchAll(/\w+|\[(\w*)]/g,_r).map(Be=>Be[0]==="[]"?"":Be[1]||Be[0])}function arrayToObject(_r){const Be={},Dr=Object.keys(_r);let Mr;const $r=Dr.length;let Br;for(Mr=0;Mr<$r;Mr++)Br=Dr[Mr],Be[Br]=_r[Br];return Be}function formDataToJSON(_r){function Be(Dr,Mr,$r,Br){let zr=Dr[Br++];const Vr=Number.isFinite(+zr),jr=Br>=Dr.length;return zr=!zr&&utils.isArray($r)?$r.length:zr,jr?(utils.hasOwnProp($r,zr)?$r[zr]=[$r[zr],Mr]:$r[zr]=Mr,!Vr):((!$r[zr]||!utils.isObject($r[zr]))&&($r[zr]=[]),Be(Dr,Mr,$r[zr],Br)&&utils.isArray($r[zr])&&($r[zr]=arrayToObject($r[zr])),!Vr)}if(utils.isFormData(_r)&&utils.isFunction(_r.entries)){const Dr={};return utils.forEachEntry(_r,(Mr,$r)=>{Be(parsePropPath(Mr),$r,Dr,0)}),Dr}return null}function stringifySafely(_r,Be,Dr){if(utils.isString(_r))try{return(Be||JSON.parse)(_r),utils.trim(_r)}catch(Mr){if(Mr.name!=="SyntaxError")throw Mr}return(Dr||JSON.stringify)(_r)}const defaults$2={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(Be,Dr){const Mr=Dr.getContentType()||"",$r=Mr.indexOf("application/json")>-1,Br=utils.isObject(Be);if(Br&&utils.isHTMLForm(Be)&&(Be=new FormData(Be)),utils.isFormData(Be))return $r&&$r?JSON.stringify(formDataToJSON(Be)):Be;if(utils.isArrayBuffer(Be)||utils.isBuffer(Be)||utils.isStream(Be)||utils.isFile(Be)||utils.isBlob(Be))return Be;if(utils.isArrayBufferView(Be))return Be.buffer;if(utils.isURLSearchParams(Be))return Dr.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),Be.toString();let Vr;if(Br){if(Mr.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(Be,this.formSerializer).toString();if((Vr=utils.isFileList(Be))||Mr.indexOf("multipart/form-data")>-1){const jr=this.env&&this.env.FormData;return toFormData(Vr?{"files[]":Be}:Be,jr&&new jr,this.formSerializer)}}return Br||$r?(Dr.setContentType("application/json",!1),stringifySafely(Be)):Be}],transformResponse:[function(Be){const Dr=this.transitional||defaults$2.transitional,Mr=Dr&&Dr.forcedJSONParsing,$r=this.responseType==="json";if(Be&&utils.isString(Be)&&(Mr&&!this.responseType||$r)){const zr=!(Dr&&Dr.silentJSONParsing)&&$r;try{return JSON.parse(Be)}catch(Vr){if(zr)throw Vr.name==="SyntaxError"?AxiosError.from(Vr,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):Vr}}return Be}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(Be){return Be>=200&&Be<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils.forEach(["delete","get","head","post","put","patch"],_r=>{defaults$2.headers[_r]={}});const defaults$3=defaults$2,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_r=>{const Be={};let Dr,Mr,$r;return _r&&_r.split(`
`).forEach(function(zr){$r=zr.indexOf(":"),Dr=zr.substring(0,$r).trim().toLowerCase(),Mr=zr.substring($r+1).trim(),!(!Dr||Be[Dr]&&ignoreDuplicateOf[Dr])&&(Dr==="set-cookie"?Be[Dr]?Be[Dr].push(Mr):Be[Dr]=[Mr]:Be[Dr]=Be[Dr]?Be[Dr]+", "+Mr:Mr)}),Be},$internals=Symbol("internals");function normalizeHeader(_r){return _r&&String(_r).trim().toLowerCase()}function normalizeValue(_r){return _r===!1||_r==null?_r:utils.isArray(_r)?_r.map(normalizeValue):String(_r)}function parseTokens(_r){const Be=Object.create(null),Dr=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Mr;for(;Mr=Dr.exec(_r);)Be[Mr[1]]=Mr[2];return Be}const isValidHeaderName=_r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_r.trim());function matchHeaderValue(_r,Be,Dr,Mr,$r){if(utils.isFunction(Mr))return Mr.call(this,Be,Dr);if($r&&(Be=Dr),!!utils.isString(Be)){if(utils.isString(Mr))return Be.indexOf(Mr)!==-1;if(utils.isRegExp(Mr))return Mr.test(Be)}}function formatHeader(_r){return _r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(Be,Dr,Mr)=>Dr.toUpperCase()+Mr)}function buildAccessors(_r,Be){const Dr=utils.toCamelCase(" "+Be);["get","set","has"].forEach(Mr=>{Object.defineProperty(_r,Mr+Dr,{value:function($r,Br,zr){return this[Mr].call(this,Be,$r,Br,zr)},configurable:!0})})}class AxiosHeaders{constructor(Be){Be&&this.set(Be)}set(Be,Dr,Mr){const $r=this;function Br(Vr,jr,Gr){const Wr=normalizeHeader(jr);if(!Wr)throw new Error("header name must be a non-empty string");const Kr=utils.findKey($r,Wr);(!Kr||$r[Kr]===void 0||Gr===!0||Gr===void 0&&$r[Kr]!==!1)&&($r[Kr||jr]=normalizeValue(Vr))}const zr=(Vr,jr)=>utils.forEach(Vr,(Gr,Wr)=>Br(Gr,Wr,jr));return utils.isPlainObject(Be)||Be instanceof this.constructor?zr(Be,Dr):utils.isString(Be)&&(Be=Be.trim())&&!isValidHeaderName(Be)?zr(parseHeaders(Be),Dr):Be!=null&&Br(Dr,Be,Mr),this}get(Be,Dr){if(Be=normalizeHeader(Be),Be){const Mr=utils.findKey(this,Be);if(Mr){const $r=this[Mr];if(!Dr)return $r;if(Dr===!0)return parseTokens($r);if(utils.isFunction(Dr))return Dr.call(this,$r,Mr);if(utils.isRegExp(Dr))return Dr.exec($r);throw new TypeError("parser must be boolean|regexp|function")}}}has(Be,Dr){if(Be=normalizeHeader(Be),Be){const Mr=utils.findKey(this,Be);return!!(Mr&&this[Mr]!==void 0&&(!Dr||matchHeaderValue(this,this[Mr],Mr,Dr)))}return!1}delete(Be,Dr){const Mr=this;let $r=!1;function Br(zr){if(zr=normalizeHeader(zr),zr){const Vr=utils.findKey(Mr,zr);Vr&&(!Dr||matchHeaderValue(Mr,Mr[Vr],Vr,Dr))&&(delete Mr[Vr],$r=!0)}}return utils.isArray(Be)?Be.forEach(Br):Br(Be),$r}clear(Be){const Dr=Object.keys(this);let Mr=Dr.length,$r=!1;for(;Mr--;){const Br=Dr[Mr];(!Be||matchHeaderValue(this,this[Br],Br,Be,!0))&&(delete this[Br],$r=!0)}return $r}normalize(Be){const Dr=this,Mr={};return utils.forEach(this,($r,Br)=>{const zr=utils.findKey(Mr,Br);if(zr){Dr[zr]=normalizeValue($r),delete Dr[Br];return}const Vr=Be?formatHeader(Br):String(Br).trim();Vr!==Br&&delete Dr[Br],Dr[Vr]=normalizeValue($r),Mr[Vr]=!0}),this}concat(...Be){return this.constructor.concat(this,...Be)}toJSON(Be){const Dr=Object.create(null);return utils.forEach(this,(Mr,$r)=>{Mr!=null&&Mr!==!1&&(Dr[$r]=Be&&utils.isArray(Mr)?Mr.join(", "):Mr)}),Dr}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([Be,Dr])=>Be+": "+Dr).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(Be){return Be instanceof this?Be:new this(Be)}static concat(Be,...Dr){const Mr=new this(Be);return Dr.forEach($r=>Mr.set($r)),Mr}static accessor(Be){const Mr=(this[$internals]=this[$internals]={accessors:{}}).accessors,$r=this.prototype;function Br(zr){const Vr=normalizeHeader(zr);Mr[Vr]||(buildAccessors($r,zr),Mr[Vr]=!0)}return utils.isArray(Be)?Be.forEach(Br):Br(Be),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils.reduceDescriptors(AxiosHeaders.prototype,({value:_r},Be)=>{let Dr=Be[0].toUpperCase()+Be.slice(1);return{get:()=>_r,set(Mr){this[Dr]=Mr}}});utils.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(_r,Be){const Dr=this||defaults$3,Mr=Be||Dr,$r=AxiosHeaders$1.from(Mr.headers);let Br=Mr.data;return utils.forEach(_r,function(Vr){Br=Vr.call(Dr,Br,$r.normalize(),Be?Be.status:void 0)}),$r.normalize(),Br}function isCancel(_r){return!!(_r&&_r.__CANCEL__)}function CanceledError(_r,Be,Dr){AxiosError.call(this,_r??"canceled",AxiosError.ERR_CANCELED,Be,Dr),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(_r,Be,Dr){const Mr=Dr.config.validateStatus;!Dr.status||!Mr||Mr(Dr.status)?_r(Dr):Be(new AxiosError("Request failed with status code "+Dr.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(Dr.status/100)-4],Dr.config,Dr.request,Dr))}const cookies=platform$1.isStandardBrowserEnv?function(){return{write:function(Dr,Mr,$r,Br,zr,Vr){const jr=[];jr.push(Dr+"="+encodeURIComponent(Mr)),utils.isNumber($r)&&jr.push("expires="+new Date($r).toGMTString()),utils.isString(Br)&&jr.push("path="+Br),utils.isString(zr)&&jr.push("domain="+zr),Vr===!0&&jr.push("secure"),document.cookie=jr.join("; ")},read:function(Dr){const Mr=document.cookie.match(new RegExp("(^|;\\s*)("+Dr+")=([^;]*)"));return Mr?decodeURIComponent(Mr[3]):null},remove:function(Dr){this.write(Dr,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(_r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_r)}function combineURLs(_r,Be){return Be?_r.replace(/\/+$/,"")+"/"+Be.replace(/^\/+/,""):_r}function buildFullPath(_r,Be){return _r&&!isAbsoluteURL(Be)?combineURLs(_r,Be):Be}const isURLSameOrigin=platform$1.isStandardBrowserEnv?function(){const Be=/(msie|trident)/i.test(navigator.userAgent),Dr=document.createElement("a");let Mr;function $r(Br){let zr=Br;return Be&&(Dr.setAttribute("href",zr),zr=Dr.href),Dr.setAttribute("href",zr),{href:Dr.href,protocol:Dr.protocol?Dr.protocol.replace(/:$/,""):"",host:Dr.host,search:Dr.search?Dr.search.replace(/^\?/,""):"",hash:Dr.hash?Dr.hash.replace(/^#/,""):"",hostname:Dr.hostname,port:Dr.port,pathname:Dr.pathname.charAt(0)==="/"?Dr.pathname:"/"+Dr.pathname}}return Mr=$r(window.location.href),function(zr){const Vr=utils.isString(zr)?$r(zr):zr;return Vr.protocol===Mr.protocol&&Vr.host===Mr.host}}():function(){return function(){return!0}}();function parseProtocol(_r){const Be=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_r);return Be&&Be[1]||""}function speedometer(_r,Be){_r=_r||10;const Dr=new Array(_r),Mr=new Array(_r);let $r=0,Br=0,zr;return Be=Be!==void 0?Be:1e3,function(jr){const Gr=Date.now(),Wr=Mr[Br];zr||(zr=Gr),Dr[$r]=jr,Mr[$r]=Gr;let Kr=Br,Zr=0;for(;Kr!==$r;)Zr+=Dr[Kr++],Kr=Kr%_r;if($r=($r+1)%_r,$r===Br&&(Br=(Br+1)%_r),Gr-zr<Be)return;const Jr=Wr&&Gr-Wr;return Jr?Math.round(Zr*1e3/Jr):void 0}}function progressEventReducer(_r,Be){let Dr=0;const Mr=speedometer(50,250);return $r=>{const Br=$r.loaded,zr=$r.lengthComputable?$r.total:void 0,Vr=Br-Dr,jr=Mr(Vr),Gr=Br<=zr;Dr=Br;const Wr={loaded:Br,total:zr,progress:zr?Br/zr:void 0,bytes:Vr,rate:jr||void 0,estimated:jr&&zr&&Gr?(zr-Br)/jr:void 0,event:$r};Wr[Be?"download":"upload"]=!0,_r(Wr)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_r){return new Promise(function(Dr,Mr){let $r=_r.data;const Br=AxiosHeaders$1.from(_r.headers).normalize(),zr=_r.responseType;let Vr;function jr(){_r.cancelToken&&_r.cancelToken.unsubscribe(Vr),_r.signal&&_r.signal.removeEventListener("abort",Vr)}let Gr;utils.isFormData($r)&&(platform$1.isStandardBrowserEnv||platform$1.isStandardBrowserWebWorkerEnv?Br.setContentType(!1):Br.getContentType(/^\s*multipart\/form-data/)?utils.isString(Gr=Br.getContentType())&&Br.setContentType(Gr.replace(/^\s*(multipart\/form-data);+/,"$1")):Br.setContentType("multipart/form-data"));let Wr=new XMLHttpRequest;if(_r.auth){const rn=_r.auth.username||"",nn=_r.auth.password?unescape(encodeURIComponent(_r.auth.password)):"";Br.set("Authorization","Basic "+btoa(rn+":"+nn))}const Kr=buildFullPath(_r.baseURL,_r.url);Wr.open(_r.method.toUpperCase(),buildURL(Kr,_r.params,_r.paramsSerializer),!0),Wr.timeout=_r.timeout;function Zr(){if(!Wr)return;const rn=AxiosHeaders$1.from("getAllResponseHeaders"in Wr&&Wr.getAllResponseHeaders()),ln={data:!zr||zr==="text"||zr==="json"?Wr.responseText:Wr.response,status:Wr.status,statusText:Wr.statusText,headers:rn,config:_r,request:Wr};settle(function(hn){Dr(hn),jr()},function(hn){Mr(hn),jr()},ln),Wr=null}if("onloadend"in Wr?Wr.onloadend=Zr:Wr.onreadystatechange=function(){!Wr||Wr.readyState!==4||Wr.status===0&&!(Wr.responseURL&&Wr.responseURL.indexOf("file:")===0)||setTimeout(Zr)},Wr.onabort=function(){Wr&&(Mr(new AxiosError("Request aborted",AxiosError.ECONNABORTED,_r,Wr)),Wr=null)},Wr.onerror=function(){Mr(new AxiosError("Network Error",AxiosError.ERR_NETWORK,_r,Wr)),Wr=null},Wr.ontimeout=function(){let nn=_r.timeout?"timeout of "+_r.timeout+"ms exceeded":"timeout exceeded";const ln=_r.transitional||transitionalDefaults;_r.timeoutErrorMessage&&(nn=_r.timeoutErrorMessage),Mr(new AxiosError(nn,ln.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,_r,Wr)),Wr=null},platform$1.isStandardBrowserEnv){const rn=(_r.withCredentials||isURLSameOrigin(Kr))&&_r.xsrfCookieName&&cookies.read(_r.xsrfCookieName);rn&&Br.set(_r.xsrfHeaderName,rn)}$r===void 0&&Br.setContentType(null),"setRequestHeader"in Wr&&utils.forEach(Br.toJSON(),function(nn,ln){Wr.setRequestHeader(ln,nn)}),utils.isUndefined(_r.withCredentials)||(Wr.withCredentials=!!_r.withCredentials),zr&&zr!=="json"&&(Wr.responseType=_r.responseType),typeof _r.onDownloadProgress=="function"&&Wr.addEventListener("progress",progressEventReducer(_r.onDownloadProgress,!0)),typeof _r.onUploadProgress=="function"&&Wr.upload&&Wr.upload.addEventListener("progress",progressEventReducer(_r.onUploadProgress)),(_r.cancelToken||_r.signal)&&(Vr=rn=>{Wr&&(Mr(!rn||rn.type?new CanceledError(null,_r,Wr):rn),Wr.abort(),Wr=null)},_r.cancelToken&&_r.cancelToken.subscribe(Vr),_r.signal&&(_r.signal.aborted?Vr():_r.signal.addEventListener("abort",Vr)));const Jr=parseProtocol(Kr);if(Jr&&platform$1.protocols.indexOf(Jr)===-1){Mr(new AxiosError("Unsupported protocol "+Jr+":",AxiosError.ERR_BAD_REQUEST,_r));return}Wr.send($r||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils.forEach(knownAdapters,(_r,Be)=>{if(_r){try{Object.defineProperty(_r,"name",{value:Be})}catch{}Object.defineProperty(_r,"adapterName",{value:Be})}});const renderReason=_r=>`- ${_r}`,isResolvedHandle=_r=>utils.isFunction(_r)||_r===null||_r===!1,adapters={getAdapter:_r=>{_r=utils.isArray(_r)?_r:[_r];const{length:Be}=_r;let Dr,Mr;const $r={};for(let Br=0;Br<Be;Br++){Dr=_r[Br];let zr;if(Mr=Dr,!isResolvedHandle(Dr)&&(Mr=knownAdapters[(zr=String(Dr)).toLowerCase()],Mr===void 0))throw new AxiosError(`Unknown adapter '${zr}'`);if(Mr)break;$r[zr||"#"+Br]=Mr}if(!Mr){const Br=Object.entries($r).map(([Vr,jr])=>`adapter ${Vr} `+(jr===!1?"is not supported by the environment":"is not available in the build"));let zr=Be?Br.length>1?`since :
`+Br.map(renderReason).join(`
`):" "+renderReason(Br[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+zr,"ERR_NOT_SUPPORT")}return Mr},adapters:knownAdapters};function throwIfCancellationRequested(_r){if(_r.cancelToken&&_r.cancelToken.throwIfRequested(),_r.signal&&_r.signal.aborted)throw new CanceledError(null,_r)}function dispatchRequest(_r){return throwIfCancellationRequested(_r),_r.headers=AxiosHeaders$1.from(_r.headers),_r.data=transformData.call(_r,_r.transformRequest),["post","put","patch"].indexOf(_r.method)!==-1&&_r.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_r.adapter||defaults$3.adapter)(_r).then(function(Mr){return throwIfCancellationRequested(_r),Mr.data=transformData.call(_r,_r.transformResponse,Mr),Mr.headers=AxiosHeaders$1.from(Mr.headers),Mr},function(Mr){return isCancel(Mr)||(throwIfCancellationRequested(_r),Mr&&Mr.response&&(Mr.response.data=transformData.call(_r,_r.transformResponse,Mr.response),Mr.response.headers=AxiosHeaders$1.from(Mr.response.headers))),Promise.reject(Mr)})}const headersToObject=_r=>_r instanceof AxiosHeaders$1?_r.toJSON():_r;function mergeConfig(_r,Be){Be=Be||{};const Dr={};function Mr(Gr,Wr,Kr){return utils.isPlainObject(Gr)&&utils.isPlainObject(Wr)?utils.merge.call({caseless:Kr},Gr,Wr):utils.isPlainObject(Wr)?utils.merge({},Wr):utils.isArray(Wr)?Wr.slice():Wr}function $r(Gr,Wr,Kr){if(utils.isUndefined(Wr)){if(!utils.isUndefined(Gr))return Mr(void 0,Gr,Kr)}else return Mr(Gr,Wr,Kr)}function Br(Gr,Wr){if(!utils.isUndefined(Wr))return Mr(void 0,Wr)}function zr(Gr,Wr){if(utils.isUndefined(Wr)){if(!utils.isUndefined(Gr))return Mr(void 0,Gr)}else return Mr(void 0,Wr)}function Vr(Gr,Wr,Kr){if(Kr in Be)return Mr(Gr,Wr);if(Kr in _r)return Mr(void 0,Gr)}const jr={url:Br,method:Br,data:Br,baseURL:zr,transformRequest:zr,transformResponse:zr,paramsSerializer:zr,timeout:zr,timeoutMessage:zr,withCredentials:zr,adapter:zr,responseType:zr,xsrfCookieName:zr,xsrfHeaderName:zr,onUploadProgress:zr,onDownloadProgress:zr,decompress:zr,maxContentLength:zr,maxBodyLength:zr,beforeRedirect:zr,transport:zr,httpAgent:zr,httpsAgent:zr,cancelToken:zr,socketPath:zr,responseEncoding:zr,validateStatus:Vr,headers:(Gr,Wr)=>$r(headersToObject(Gr),headersToObject(Wr),!0)};return utils.forEach(Object.keys(Object.assign({},_r,Be)),function(Wr){const Kr=jr[Wr]||$r,Zr=Kr(_r[Wr],Be[Wr],Wr);utils.isUndefined(Zr)&&Kr!==Vr||(Dr[Wr]=Zr)}),Dr}const VERSION="1.5.1",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_r,Be)=>{validators$1[_r]=function(Mr){return typeof Mr===_r||"a"+(Be<1?"n ":" ")+_r}});const deprecatedWarnings={};validators$1.transitional=function(Be,Dr,Mr){function $r(Br,zr){return"[Axios v"+VERSION+"] Transitional option '"+Br+"'"+zr+(Mr?". "+Mr:"")}return(Br,zr,Vr)=>{if(Be===!1)throw new AxiosError($r(zr," has been removed"+(Dr?" in "+Dr:"")),AxiosError.ERR_DEPRECATED);return Dr&&!deprecatedWarnings[zr]&&(deprecatedWarnings[zr]=!0,console.warn($r(zr," has been deprecated since v"+Dr+" and will be removed in the near future"))),Be?Be(Br,zr,Vr):!0}};function assertOptions(_r,Be,Dr){if(typeof _r!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const Mr=Object.keys(_r);let $r=Mr.length;for(;$r-- >0;){const Br=Mr[$r],zr=Be[Br];if(zr){const Vr=_r[Br],jr=Vr===void 0||zr(Vr,Br,_r);if(jr!==!0)throw new AxiosError("option "+Br+" must be "+jr,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(Dr!==!0)throw new AxiosError("Unknown option "+Br,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(Be){this.defaults=Be,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(Be,Dr){typeof Be=="string"?(Dr=Dr||{},Dr.url=Be):Dr=Be||{},Dr=mergeConfig(this.defaults,Dr);const{transitional:Mr,paramsSerializer:$r,headers:Br}=Dr;Mr!==void 0&&validator.assertOptions(Mr,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),$r!=null&&(utils.isFunction($r)?Dr.paramsSerializer={serialize:$r}:validator.assertOptions($r,{encode:validators.function,serialize:validators.function},!0)),Dr.method=(Dr.method||this.defaults.method||"get").toLowerCase();let zr=Br&&utils.merge(Br.common,Br[Dr.method]);Br&&utils.forEach(["delete","get","head","post","put","patch","common"],rn=>{delete Br[rn]}),Dr.headers=AxiosHeaders$1.concat(zr,Br);const Vr=[];let jr=!0;this.interceptors.request.forEach(function(nn){typeof nn.runWhen=="function"&&nn.runWhen(Dr)===!1||(jr=jr&&nn.synchronous,Vr.unshift(nn.fulfilled,nn.rejected))});const Gr=[];this.interceptors.response.forEach(function(nn){Gr.push(nn.fulfilled,nn.rejected)});let Wr,Kr=0,Zr;if(!jr){const rn=[dispatchRequest.bind(this),void 0];for(rn.unshift.apply(rn,Vr),rn.push.apply(rn,Gr),Zr=rn.length,Wr=Promise.resolve(Dr);Kr<Zr;)Wr=Wr.then(rn[Kr++],rn[Kr++]);return Wr}Zr=Vr.length;let Jr=Dr;for(Kr=0;Kr<Zr;){const rn=Vr[Kr++],nn=Vr[Kr++];try{Jr=rn(Jr)}catch(ln){nn.call(this,ln);break}}try{Wr=dispatchRequest.call(this,Jr)}catch(rn){return Promise.reject(rn)}for(Kr=0,Zr=Gr.length;Kr<Zr;)Wr=Wr.then(Gr[Kr++],Gr[Kr++]);return Wr}getUri(Be){Be=mergeConfig(this.defaults,Be);const Dr=buildFullPath(Be.baseURL,Be.url);return buildURL(Dr,Be.params,Be.paramsSerializer)}}utils.forEach(["delete","get","head","options"],function(Be){Axios.prototype[Be]=function(Dr,Mr){return this.request(mergeConfig(Mr||{},{method:Be,url:Dr,data:(Mr||{}).data}))}});utils.forEach(["post","put","patch"],function(Be){function Dr(Mr){return function(Br,zr,Vr){return this.request(mergeConfig(Vr||{},{method:Be,headers:Mr?{"Content-Type":"multipart/form-data"}:{},url:Br,data:zr}))}}Axios.prototype[Be]=Dr(),Axios.prototype[Be+"Form"]=Dr(!0)});const Axios$1=Axios;class CancelToken{constructor(Be){if(typeof Be!="function")throw new TypeError("executor must be a function.");let Dr;this.promise=new Promise(function(Br){Dr=Br});const Mr=this;this.promise.then($r=>{if(!Mr._listeners)return;let Br=Mr._listeners.length;for(;Br-- >0;)Mr._listeners[Br]($r);Mr._listeners=null}),this.promise.then=$r=>{let Br;const zr=new Promise(Vr=>{Mr.subscribe(Vr),Br=Vr}).then($r);return zr.cancel=function(){Mr.unsubscribe(Br)},zr},Be(function(Br,zr,Vr){Mr.reason||(Mr.reason=new CanceledError(Br,zr,Vr),Dr(Mr.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(Be){if(this.reason){Be(this.reason);return}this._listeners?this._listeners.push(Be):this._listeners=[Be]}unsubscribe(Be){if(!this._listeners)return;const Dr=this._listeners.indexOf(Be);Dr!==-1&&this._listeners.splice(Dr,1)}static source(){let Be;return{token:new CancelToken(function($r){Be=$r}),cancel:Be}}}const CancelToken$1=CancelToken;function spread(_r){return function(Dr){return _r.apply(null,Dr)}}function isAxiosError(_r){return utils.isObject(_r)&&_r.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([_r,Be])=>{HttpStatusCode[Be]=_r});const HttpStatusCode$1=HttpStatusCode;function createInstance(_r){const Be=new Axios$1(_r),Dr=bind$3(Axios$1.prototype.request,Be);return utils.extend(Dr,Axios$1.prototype,Be,{allOwnKeys:!0}),utils.extend(Dr,Be,null,{allOwnKeys:!0}),Dr.create=function($r){return createInstance(mergeConfig(_r,$r))},Dr}const axios=createInstance(defaults$3);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(Be){return Promise.all(Be)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=_r=>formDataToJSON(utils.isHTMLForm(_r)?new FormData(_r):_r);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;var select2$2={exports:{}};/*!
 * Select2 4.1.0-rc.0
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */(function(_r){(function(Be){_r.exports?_r.exports=function(Dr,Mr){return Mr===void 0&&(typeof window<"u"?Mr=jqueryExports:Mr=jqueryExports(Dr)),Be(Mr),Mr}:Be(jQuery)})(function(Be){var Dr=function(){if(Be&&Be.fn&&Be.fn.select2&&Be.fn.select2.amd)var $r=Be.fn.select2.amd;var $r;return function(){if(!$r||!$r.requirejs){$r?zr=$r:$r={};/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */var Br,zr,Vr;(function(jr){var Gr,Wr,Kr,Zr,Jr={},rn={},nn={},ln={},cn=Object.prototype.hasOwnProperty,hn=[].slice,mn=/\.js$/;function bn($n,jn){return cn.call($n,jn)}function An($n,jn){var Bn,Gn,ei,ri,vi,wi,Ni,Yn,Vn,si,Ri,Pi,Fi=jn&&jn.split("/"),zi=nn.map,oo=zi&&zi["*"]||{};if($n){for($n=$n.split("/"),vi=$n.length-1,nn.nodeIdCompat&&mn.test($n[vi])&&($n[vi]=$n[vi].replace(mn,"")),$n[0].charAt(0)==="."&&Fi&&(Pi=Fi.slice(0,Fi.length-1),$n=Pi.concat($n)),Vn=0;Vn<$n.length;Vn++)if(Ri=$n[Vn],Ri===".")$n.splice(Vn,1),Vn-=1;else if(Ri===".."){if(Vn===0||Vn===1&&$n[2]===".."||$n[Vn-1]==="..")continue;Vn>0&&($n.splice(Vn-1,2),Vn-=2)}$n=$n.join("/")}if((Fi||oo)&&zi){for(Bn=$n.split("/"),Vn=Bn.length;Vn>0;Vn-=1){if(Gn=Bn.slice(0,Vn).join("/"),Fi){for(si=Fi.length;si>0;si-=1)if(ei=zi[Fi.slice(0,si).join("/")],ei&&(ei=ei[Gn],ei)){ri=ei,wi=Vn;break}}if(ri)break;!Ni&&oo&&oo[Gn]&&(Ni=oo[Gn],Yn=Vn)}!ri&&Ni&&(ri=Ni,wi=Yn),ri&&(Bn.splice(0,wi,ri),$n=Bn.join("/"))}return $n}function vn($n,jn){return function(){var Bn=hn.call(arguments,0);return typeof Bn[0]!="string"&&Bn.length===1&&Bn.push(null),Wr.apply(jr,Bn.concat([$n,jn]))}}function dn($n){return function(jn){return An(jn,$n)}}function wn($n){return function(jn){Jr[$n]=jn}}function xn($n){if(bn(rn,$n)){var jn=rn[$n];delete rn[$n],ln[$n]=!0,Gr.apply(jr,jn)}if(!bn(Jr,$n)&&!bn(ln,$n))throw new Error("No "+$n);return Jr[$n]}function Mn($n){var jn,Bn=$n?$n.indexOf("!"):-1;return Bn>-1&&(jn=$n.substring(0,Bn),$n=$n.substring(Bn+1,$n.length)),[jn,$n]}function In($n){return $n?Mn($n):[]}Kr=function($n,jn){var Bn,Gn=Mn($n),ei=Gn[0],ri=jn[1];return $n=Gn[1],ei&&(ei=An(ei,ri),Bn=xn(ei)),ei?Bn&&Bn.normalize?$n=Bn.normalize($n,dn(ri)):$n=An($n,ri):($n=An($n,ri),Gn=Mn($n),ei=Gn[0],$n=Gn[1],ei&&(Bn=xn(ei))),{f:ei?ei+"!"+$n:$n,n:$n,pr:ei,p:Bn}};function Hn($n){return function(){return nn&&nn.config&&nn.config[$n]||{}}}Zr={require:function($n){return vn($n)},exports:function($n){var jn=Jr[$n];return typeof jn<"u"?jn:Jr[$n]={}},module:function($n){return{id:$n,uri:"",exports:Jr[$n],config:Hn($n)}}},Gr=function($n,jn,Bn,Gn){var ei,ri,vi,wi,Ni,Yn,Vn=[],si=typeof Bn,Ri;if(Gn=Gn||$n,Yn=In(Gn),si==="undefined"||si==="function"){for(jn=!jn.length&&Bn.length?["require","exports","module"]:jn,Ni=0;Ni<jn.length;Ni+=1)if(wi=Kr(jn[Ni],Yn),ri=wi.f,ri==="require")Vn[Ni]=Zr.require($n);else if(ri==="exports")Vn[Ni]=Zr.exports($n),Ri=!0;else if(ri==="module")ei=Vn[Ni]=Zr.module($n);else if(bn(Jr,ri)||bn(rn,ri)||bn(ln,ri))Vn[Ni]=xn(ri);else if(wi.p)wi.p.load(wi.n,vn(Gn,!0),wn(ri),{}),Vn[Ni]=Jr[ri];else throw new Error($n+" missing "+ri);vi=Bn?Bn.apply(Jr[$n],Vn):void 0,$n&&(ei&&ei.exports!==jr&&ei.exports!==Jr[$n]?Jr[$n]=ei.exports:(vi!==jr||!Ri)&&(Jr[$n]=vi))}else $n&&(Jr[$n]=Bn)},Br=zr=Wr=function($n,jn,Bn,Gn,ei){if(typeof $n=="string")return Zr[$n]?Zr[$n](jn):xn(Kr($n,In(jn)).f);if(!$n.splice){if(nn=$n,nn.deps&&Wr(nn.deps,nn.callback),!jn)return;jn.splice?($n=jn,jn=Bn,Bn=null):$n=jr}return jn=jn||function(){},typeof Bn=="function"&&(Bn=Gn,Gn=ei),Gn?Gr(jr,$n,jn,Bn):setTimeout(function(){Gr(jr,$n,jn,Bn)},4),Wr},Wr.config=function($n){return Wr($n)},Br._defined=Jr,Vr=function($n,jn,Bn){if(typeof $n!="string")throw new Error("See almond README: incorrect module build, no module name");jn.splice||(Bn=jn,jn=[]),!bn(Jr,$n)&&!bn(rn,$n)&&(rn[$n]=[$n,jn,Bn])},Vr.amd={jQuery:!0}})(),$r.requirejs=Br,$r.require=zr,$r.define=Vr}}(),$r.define("almond",function(){}),$r.define("jquery",[],function(){var Br=Be||$;return Br==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),Br}),$r.define("select2/utils",["jquery"],function(Br){var zr={};zr.Extend=function(Wr,Kr){var Zr={}.hasOwnProperty;function Jr(){this.constructor=Wr}for(var rn in Kr)Zr.call(Kr,rn)&&(Wr[rn]=Kr[rn]);return Jr.prototype=Kr.prototype,Wr.prototype=new Jr,Wr.__super__=Kr.prototype,Wr};function Vr(Wr){var Kr=Wr.prototype,Zr=[];for(var Jr in Kr){var rn=Kr[Jr];typeof rn=="function"&&Jr!=="constructor"&&Zr.push(Jr)}return Zr}zr.Decorate=function(Wr,Kr){var Zr=Vr(Kr),Jr=Vr(Wr);function rn(){var An=Array.prototype.unshift,vn=Kr.prototype.constructor.length,dn=Wr.prototype.constructor;vn>0&&(An.call(arguments,Wr.prototype.constructor),dn=Kr.prototype.constructor),dn.apply(this,arguments)}Kr.displayName=Wr.displayName;function nn(){this.constructor=rn}rn.prototype=new nn;for(var ln=0;ln<Jr.length;ln++){var cn=Jr[ln];rn.prototype[cn]=Wr.prototype[cn]}for(var hn=function(An){var vn=function(){};An in rn.prototype&&(vn=rn.prototype[An]);var dn=Kr.prototype[An];return function(){var wn=Array.prototype.unshift;return wn.call(arguments,vn),dn.apply(this,arguments)}},mn=0;mn<Zr.length;mn++){var bn=Zr[mn];rn.prototype[bn]=hn(bn)}return rn};var jr=function(){this.listeners={}};jr.prototype.on=function(Wr,Kr){this.listeners=this.listeners||{},Wr in this.listeners?this.listeners[Wr].push(Kr):this.listeners[Wr]=[Kr]},jr.prototype.trigger=function(Wr){var Kr=Array.prototype.slice,Zr=Kr.call(arguments,1);this.listeners=this.listeners||{},Zr==null&&(Zr=[]),Zr.length===0&&Zr.push({}),Zr[0]._type=Wr,Wr in this.listeners&&this.invoke(this.listeners[Wr],Kr.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},jr.prototype.invoke=function(Wr,Kr){for(var Zr=0,Jr=Wr.length;Zr<Jr;Zr++)Wr[Zr].apply(this,Kr)},zr.Observable=jr,zr.generateChars=function(Wr){for(var Kr="",Zr=0;Zr<Wr;Zr++){var Jr=Math.floor(Math.random()*36);Kr+=Jr.toString(36)}return Kr},zr.bind=function(Wr,Kr){return function(){Wr.apply(Kr,arguments)}},zr._convertData=function(Wr){for(var Kr in Wr){var Zr=Kr.split("-"),Jr=Wr;if(Zr.length!==1){for(var rn=0;rn<Zr.length;rn++){var nn=Zr[rn];nn=nn.substring(0,1).toLowerCase()+nn.substring(1),nn in Jr||(Jr[nn]={}),rn==Zr.length-1&&(Jr[nn]=Wr[Kr]),Jr=Jr[nn]}delete Wr[Kr]}}return Wr},zr.hasScroll=function(Wr,Kr){var Zr=Br(Kr),Jr=Kr.style.overflowX,rn=Kr.style.overflowY;return Jr===rn&&(rn==="hidden"||rn==="visible")?!1:Jr==="scroll"||rn==="scroll"?!0:Zr.innerHeight()<Kr.scrollHeight||Zr.innerWidth()<Kr.scrollWidth},zr.escapeMarkup=function(Wr){var Kr={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof Wr!="string"?Wr:String(Wr).replace(/[&<>"'\/\\]/g,function(Zr){return Kr[Zr]})},zr.__cache={};var Gr=0;return zr.GetUniqueElementId=function(Wr){var Kr=Wr.getAttribute("data-select2-id");return Kr!=null||(Wr.id?Kr="select2-data-"+Wr.id:Kr="select2-data-"+(++Gr).toString()+"-"+zr.generateChars(4),Wr.setAttribute("data-select2-id",Kr)),Kr},zr.StoreData=function(Wr,Kr,Zr){var Jr=zr.GetUniqueElementId(Wr);zr.__cache[Jr]||(zr.__cache[Jr]={}),zr.__cache[Jr][Kr]=Zr},zr.GetData=function(Wr,Kr){var Zr=zr.GetUniqueElementId(Wr);return Kr?zr.__cache[Zr]&&zr.__cache[Zr][Kr]!=null?zr.__cache[Zr][Kr]:Br(Wr).data(Kr):zr.__cache[Zr]},zr.RemoveData=function(Wr){var Kr=zr.GetUniqueElementId(Wr);zr.__cache[Kr]!=null&&delete zr.__cache[Kr],Wr.removeAttribute("data-select2-id")},zr.copyNonInternalCssClasses=function(Wr,Kr){var Zr=Wr.getAttribute("class").trim().split(/\s+/);Zr=Zr.filter(function(nn){return nn.indexOf("select2-")===0});var Jr=Kr.getAttribute("class").trim().split(/\s+/);Jr=Jr.filter(function(nn){return nn.indexOf("select2-")!==0});var rn=Zr.concat(Jr);Wr.setAttribute("class",rn.join(" "))},zr}),$r.define("select2/results",["jquery","./utils"],function(Br,zr){function Vr(jr,Gr,Wr){this.$element=jr,this.data=Wr,this.options=Gr,Vr.__super__.constructor.call(this)}return zr.Extend(Vr,zr.Observable),Vr.prototype.render=function(){var jr=Br('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&jr.attr("aria-multiselectable","true"),this.$results=jr,jr},Vr.prototype.clear=function(){this.$results.empty()},Vr.prototype.displayMessage=function(jr){var Gr=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var Wr=Br('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),Kr=this.options.get("translations").get(jr.message);Wr.append(Gr(Kr(jr.args))),Wr[0].className+=" select2-results__message",this.$results.append(Wr)},Vr.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},Vr.prototype.append=function(jr){this.hideLoading();var Gr=[];if(jr.results==null||jr.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}jr.results=this.sort(jr.results);for(var Wr=0;Wr<jr.results.length;Wr++){var Kr=jr.results[Wr],Zr=this.option(Kr);Gr.push(Zr)}this.$results.append(Gr)},Vr.prototype.position=function(jr,Gr){var Wr=Gr.find(".select2-results");Wr.append(jr)},Vr.prototype.sort=function(jr){var Gr=this.options.get("sorter");return Gr(jr)},Vr.prototype.highlightFirstItem=function(){var jr=this.$results.find(".select2-results__option--selectable"),Gr=jr.filter(".select2-results__option--selected");Gr.length>0?Gr.first().trigger("mouseenter"):jr.first().trigger("mouseenter"),this.ensureHighlightVisible()},Vr.prototype.setClasses=function(){var jr=this;this.data.current(function(Gr){var Wr=Gr.map(function(Zr){return Zr.id.toString()}),Kr=jr.$results.find(".select2-results__option--selectable");Kr.each(function(){var Zr=Br(this),Jr=zr.GetData(this,"data"),rn=""+Jr.id;Jr.element!=null&&Jr.element.selected||Jr.element==null&&Wr.indexOf(rn)>-1?(this.classList.add("select2-results__option--selected"),Zr.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),Zr.attr("aria-selected","false"))})})},Vr.prototype.showLoading=function(jr){this.hideLoading();var Gr=this.options.get("translations").get("searching"),Wr={disabled:!0,loading:!0,text:Gr(jr)},Kr=this.option(Wr);Kr.className+=" loading-results",this.$results.prepend(Kr)},Vr.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},Vr.prototype.option=function(jr){var Gr=document.createElement("li");Gr.classList.add("select2-results__option"),Gr.classList.add("select2-results__option--selectable");var Wr={role:"option"},Kr=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(jr.element!=null&&Kr.call(jr.element,":disabled")||jr.element==null&&jr.disabled)&&(Wr["aria-disabled"]="true",Gr.classList.remove("select2-results__option--selectable"),Gr.classList.add("select2-results__option--disabled")),jr.id==null&&Gr.classList.remove("select2-results__option--selectable"),jr._resultId!=null&&(Gr.id=jr._resultId),jr.title&&(Gr.title=jr.title),jr.children&&(Wr.role="group",Wr["aria-label"]=jr.text,Gr.classList.remove("select2-results__option--selectable"),Gr.classList.add("select2-results__option--group"));for(var Zr in Wr){var Jr=Wr[Zr];Gr.setAttribute(Zr,Jr)}if(jr.children){var rn=Br(Gr),nn=document.createElement("strong");nn.className="select2-results__group",this.template(jr,nn);for(var ln=[],cn=0;cn<jr.children.length;cn++){var hn=jr.children[cn],mn=this.option(hn);ln.push(mn)}var bn=Br("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"});bn.append(ln),rn.append(nn),rn.append(bn)}else this.template(jr,Gr);return zr.StoreData(Gr,"data",jr),Gr},Vr.prototype.bind=function(jr,Gr){var Wr=this,Kr=jr.id+"-results";this.$results.attr("id",Kr),jr.on("results:all",function(Zr){Wr.clear(),Wr.append(Zr.data),jr.isOpen()&&(Wr.setClasses(),Wr.highlightFirstItem())}),jr.on("results:append",function(Zr){Wr.append(Zr.data),jr.isOpen()&&Wr.setClasses()}),jr.on("query",function(Zr){Wr.hideMessages(),Wr.showLoading(Zr)}),jr.on("select",function(){jr.isOpen()&&(Wr.setClasses(),Wr.options.get("scrollAfterSelect")&&Wr.highlightFirstItem())}),jr.on("unselect",function(){jr.isOpen()&&(Wr.setClasses(),Wr.options.get("scrollAfterSelect")&&Wr.highlightFirstItem())}),jr.on("open",function(){Wr.$results.attr("aria-expanded","true"),Wr.$results.attr("aria-hidden","false"),Wr.setClasses(),Wr.ensureHighlightVisible()}),jr.on("close",function(){Wr.$results.attr("aria-expanded","false"),Wr.$results.attr("aria-hidden","true"),Wr.$results.removeAttr("aria-activedescendant")}),jr.on("results:toggle",function(){var Zr=Wr.getHighlightedResults();Zr.length!==0&&Zr.trigger("mouseup")}),jr.on("results:select",function(){var Zr=Wr.getHighlightedResults();if(Zr.length!==0){var Jr=zr.GetData(Zr[0],"data");Zr.hasClass("select2-results__option--selected")?Wr.trigger("close",{}):Wr.trigger("select",{data:Jr})}}),jr.on("results:previous",function(){var Zr=Wr.getHighlightedResults(),Jr=Wr.$results.find(".select2-results__option--selectable"),rn=Jr.index(Zr);if(!(rn<=0)){var nn=rn-1;Zr.length===0&&(nn=0);var ln=Jr.eq(nn);ln.trigger("mouseenter");var cn=Wr.$results.offset().top,hn=ln.offset().top,mn=Wr.$results.scrollTop()+(hn-cn);nn===0?Wr.$results.scrollTop(0):hn-cn<0&&Wr.$results.scrollTop(mn)}}),jr.on("results:next",function(){var Zr=Wr.getHighlightedResults(),Jr=Wr.$results.find(".select2-results__option--selectable"),rn=Jr.index(Zr),nn=rn+1;if(!(nn>=Jr.length)){var ln=Jr.eq(nn);ln.trigger("mouseenter");var cn=Wr.$results.offset().top+Wr.$results.outerHeight(!1),hn=ln.offset().top+ln.outerHeight(!1),mn=Wr.$results.scrollTop()+hn-cn;nn===0?Wr.$results.scrollTop(0):hn>cn&&Wr.$results.scrollTop(mn)}}),jr.on("results:focus",function(Zr){Zr.element[0].classList.add("select2-results__option--highlighted"),Zr.element[0].setAttribute("aria-selected","true")}),jr.on("results:message",function(Zr){Wr.displayMessage(Zr)}),Br.fn.mousewheel&&this.$results.on("mousewheel",function(Zr){var Jr=Wr.$results.scrollTop(),rn=Wr.$results.get(0).scrollHeight-Jr+Zr.deltaY,nn=Zr.deltaY>0&&Jr-Zr.deltaY<=0,ln=Zr.deltaY<0&&rn<=Wr.$results.height();nn?(Wr.$results.scrollTop(0),Zr.preventDefault(),Zr.stopPropagation()):ln&&(Wr.$results.scrollTop(Wr.$results.get(0).scrollHeight-Wr.$results.height()),Zr.preventDefault(),Zr.stopPropagation())}),this.$results.on("mouseup",".select2-results__option--selectable",function(Zr){var Jr=Br(this),rn=zr.GetData(this,"data");if(Jr.hasClass("select2-results__option--selected")){Wr.options.get("multiple")?Wr.trigger("unselect",{originalEvent:Zr,data:rn}):Wr.trigger("close",{});return}Wr.trigger("select",{originalEvent:Zr,data:rn})}),this.$results.on("mouseenter",".select2-results__option--selectable",function(Zr){var Jr=zr.GetData(this,"data");Wr.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),Wr.trigger("results:focus",{data:Jr,element:Br(this)})})},Vr.prototype.getHighlightedResults=function(){var jr=this.$results.find(".select2-results__option--highlighted");return jr},Vr.prototype.destroy=function(){this.$results.remove()},Vr.prototype.ensureHighlightVisible=function(){var jr=this.getHighlightedResults();if(jr.length!==0){var Gr=this.$results.find(".select2-results__option--selectable"),Wr=Gr.index(jr),Kr=this.$results.offset().top,Zr=jr.offset().top,Jr=this.$results.scrollTop()+(Zr-Kr),rn=Zr-Kr;Jr-=jr.outerHeight(!1)*2,Wr<=2?this.$results.scrollTop(0):(rn>this.$results.outerHeight()||rn<0)&&this.$results.scrollTop(Jr)}},Vr.prototype.template=function(jr,Gr){var Wr=this.options.get("templateResult"),Kr=this.options.get("escapeMarkup"),Zr=Wr(jr,Gr);Zr==null?Gr.style.display="none":typeof Zr=="string"?Gr.innerHTML=Kr(Zr):Br(Gr).append(Zr)},Vr}),$r.define("select2/keys",[],function(){var Br={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return Br}),$r.define("select2/selection/base",["jquery","../utils","../keys"],function(Br,zr,Vr){function jr(Gr,Wr){this.$element=Gr,this.options=Wr,jr.__super__.constructor.call(this)}return zr.Extend(jr,zr.Observable),jr.prototype.render=function(){var Gr=Br('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,zr.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=zr.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),Gr.attr("title",this.$element.attr("title")),Gr.attr("tabindex",this._tabindex),Gr.attr("aria-disabled","false"),this.$selection=Gr,Gr},jr.prototype.bind=function(Gr,Wr){var Kr=this,Zr=Gr.id+"-results";this.container=Gr,this.$selection.on("focus",function(Jr){Kr.trigger("focus",Jr)}),this.$selection.on("blur",function(Jr){Kr._handleBlur(Jr)}),this.$selection.on("keydown",function(Jr){Kr.trigger("keypress",Jr),Jr.which===Vr.SPACE&&Jr.preventDefault()}),Gr.on("results:focus",function(Jr){Kr.$selection.attr("aria-activedescendant",Jr.data._resultId)}),Gr.on("selection:update",function(Jr){Kr.update(Jr.data)}),Gr.on("open",function(){Kr.$selection.attr("aria-expanded","true"),Kr.$selection.attr("aria-owns",Zr),Kr._attachCloseHandler(Gr)}),Gr.on("close",function(){Kr.$selection.attr("aria-expanded","false"),Kr.$selection.removeAttr("aria-activedescendant"),Kr.$selection.removeAttr("aria-owns"),Kr.$selection.trigger("focus"),Kr._detachCloseHandler(Gr)}),Gr.on("enable",function(){Kr.$selection.attr("tabindex",Kr._tabindex),Kr.$selection.attr("aria-disabled","false")}),Gr.on("disable",function(){Kr.$selection.attr("tabindex","-1"),Kr.$selection.attr("aria-disabled","true")})},jr.prototype._handleBlur=function(Gr){var Wr=this;window.setTimeout(function(){document.activeElement==Wr.$selection[0]||Br.contains(Wr.$selection[0],document.activeElement)||Wr.trigger("blur",Gr)},1)},jr.prototype._attachCloseHandler=function(Gr){Br(document.body).on("mousedown.select2."+Gr.id,function(Wr){var Kr=Br(Wr.target),Zr=Kr.closest(".select2"),Jr=Br(".select2.select2-container--open");Jr.each(function(){if(this!=Zr[0]){var rn=zr.GetData(this,"element");rn.select2("close")}})})},jr.prototype._detachCloseHandler=function(Gr){Br(document.body).off("mousedown.select2."+Gr.id)},jr.prototype.position=function(Gr,Wr){var Kr=Wr.find(".selection");Kr.append(Gr)},jr.prototype.destroy=function(){this._detachCloseHandler(this.container)},jr.prototype.update=function(Gr){throw new Error("The `update` method must be defined in child classes.")},jr.prototype.isEnabled=function(){return!this.isDisabled()},jr.prototype.isDisabled=function(){return this.options.get("disabled")},jr}),$r.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(Br,zr,Vr,jr){function Gr(){Gr.__super__.constructor.apply(this,arguments)}return Vr.Extend(Gr,zr),Gr.prototype.render=function(){var Wr=Gr.__super__.render.call(this);return Wr[0].classList.add("select2-selection--single"),Wr.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),Wr},Gr.prototype.bind=function(Wr,Kr){var Zr=this;Gr.__super__.bind.apply(this,arguments);var Jr=Wr.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",Jr).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",Jr),this.$selection.attr("aria-controls",Jr),this.$selection.on("mousedown",function(rn){rn.which===1&&Zr.trigger("toggle",{originalEvent:rn})}),this.$selection.on("focus",function(rn){}),this.$selection.on("blur",function(rn){}),Wr.on("focus",function(rn){Wr.isOpen()||Zr.$selection.trigger("focus")})},Gr.prototype.clear=function(){var Wr=this.$selection.find(".select2-selection__rendered");Wr.empty(),Wr.removeAttr("title")},Gr.prototype.display=function(Wr,Kr){var Zr=this.options.get("templateSelection"),Jr=this.options.get("escapeMarkup");return Jr(Zr(Wr,Kr))},Gr.prototype.selectionContainer=function(){return Br("<span></span>")},Gr.prototype.update=function(Wr){if(Wr.length===0){this.clear();return}var Kr=Wr[0],Zr=this.$selection.find(".select2-selection__rendered"),Jr=this.display(Kr,Zr);Zr.empty().append(Jr);var rn=Kr.title||Kr.text;rn?Zr.attr("title",rn):Zr.removeAttr("title")},Gr}),$r.define("select2/selection/multiple",["jquery","./base","../utils"],function(Br,zr,Vr){function jr(Gr,Wr){jr.__super__.constructor.apply(this,arguments)}return Vr.Extend(jr,zr),jr.prototype.render=function(){var Gr=jr.__super__.render.call(this);return Gr[0].classList.add("select2-selection--multiple"),Gr.html('<ul class="select2-selection__rendered"></ul>'),Gr},jr.prototype.bind=function(Gr,Wr){var Kr=this;jr.__super__.bind.apply(this,arguments);var Zr=Gr.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",Zr),this.$selection.on("click",function(Jr){Kr.trigger("toggle",{originalEvent:Jr})}),this.$selection.on("click",".select2-selection__choice__remove",function(Jr){if(!Kr.isDisabled()){var rn=Br(this),nn=rn.parent(),ln=Vr.GetData(nn[0],"data");Kr.trigger("unselect",{originalEvent:Jr,data:ln})}}),this.$selection.on("keydown",".select2-selection__choice__remove",function(Jr){Kr.isDisabled()||Jr.stopPropagation()})},jr.prototype.clear=function(){var Gr=this.$selection.find(".select2-selection__rendered");Gr.empty(),Gr.removeAttr("title")},jr.prototype.display=function(Gr,Wr){var Kr=this.options.get("templateSelection"),Zr=this.options.get("escapeMarkup");return Zr(Kr(Gr,Wr))},jr.prototype.selectionContainer=function(){var Gr=Br('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>');return Gr},jr.prototype.update=function(Gr){if(this.clear(),Gr.length!==0){for(var Wr=[],Kr=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",Zr=0;Zr<Gr.length;Zr++){var Jr=Gr[Zr],rn=this.selectionContainer(),nn=this.display(Jr,rn),ln=Kr+Vr.generateChars(4)+"-";Jr.id?ln+=Jr.id:ln+=Vr.generateChars(4),rn.find(".select2-selection__choice__display").append(nn).attr("id",ln);var cn=Jr.title||Jr.text;cn&&rn.attr("title",cn);var hn=this.options.get("translations").get("removeItem"),mn=rn.find(".select2-selection__choice__remove");mn.attr("title",hn()),mn.attr("aria-label",hn()),mn.attr("aria-describedby",ln),Vr.StoreData(rn[0],"data",Jr),Wr.push(rn)}var bn=this.$selection.find(".select2-selection__rendered");bn.append(Wr)}},jr}),$r.define("select2/selection/placeholder",[],function(){function Br(zr,Vr,jr){this.placeholder=this.normalizePlaceholder(jr.get("placeholder")),zr.call(this,Vr,jr)}return Br.prototype.normalizePlaceholder=function(zr,Vr){return typeof Vr=="string"&&(Vr={id:"",text:Vr}),Vr},Br.prototype.createPlaceholder=function(zr,Vr){var jr=this.selectionContainer();jr.html(this.display(Vr)),jr[0].classList.add("select2-selection__placeholder"),jr[0].classList.remove("select2-selection__choice");var Gr=Vr.title||Vr.text||jr.text();return this.$selection.find(".select2-selection__rendered").attr("title",Gr),jr},Br.prototype.update=function(zr,Vr){var jr=Vr.length==1&&Vr[0].id!=this.placeholder.id,Gr=Vr.length>1;if(Gr||jr)return zr.call(this,Vr);this.clear();var Wr=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(Wr)},Br}),$r.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(Br,zr,Vr){function jr(){}return jr.prototype.bind=function(Gr,Wr,Kr){var Zr=this;Gr.call(this,Wr,Kr),this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(Jr){Zr._handleClear(Jr)}),Wr.on("keypress",function(Jr){Zr._handleKeyboardClear(Jr,Wr)})},jr.prototype._handleClear=function(Gr,Wr){if(!this.isDisabled()){var Kr=this.$selection.find(".select2-selection__clear");if(Kr.length!==0){Wr.stopPropagation();var Zr=Vr.GetData(Kr[0],"data"),Jr=this.$element.val();this.$element.val(this.placeholder.id);var rn={data:Zr};if(this.trigger("clear",rn),rn.prevented){this.$element.val(Jr);return}for(var nn=0;nn<Zr.length;nn++)if(rn={data:Zr[nn]},this.trigger("unselect",rn),rn.prevented){this.$element.val(Jr);return}this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}},jr.prototype._handleKeyboardClear=function(Gr,Wr,Kr){Kr.isOpen()||(Wr.which==zr.DELETE||Wr.which==zr.BACKSPACE)&&this._handleClear(Wr)},jr.prototype.update=function(Gr,Wr){if(Gr.call(this,Wr),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),!(this.$selection.find(".select2-selection__placeholder").length>0||Wr.length===0)){var Kr=this.$selection.find(".select2-selection__rendered").attr("id"),Zr=this.options.get("translations").get("removeAllItems"),Jr=Br('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>');Jr.attr("title",Zr()),Jr.attr("aria-label",Zr()),Jr.attr("aria-describedby",Kr),Vr.StoreData(Jr[0],"data",Wr),this.$selection.prepend(Jr),this.$selection[0].classList.add("select2-selection--clearable")}},jr}),$r.define("select2/selection/search",["jquery","../utils","../keys"],function(Br,zr,Vr){function jr(Gr,Wr,Kr){Gr.call(this,Wr,Kr)}return jr.prototype.render=function(Gr){var Wr=this.options.get("translations").get("search"),Kr=Br('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');this.$searchContainer=Kr,this.$search=Kr.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",Wr());var Zr=Gr.call(this);return this._transferTabIndex(),Zr.append(this.$searchContainer),Zr},jr.prototype.bind=function(Gr,Wr,Kr){var Zr=this,Jr=Wr.id+"-results",rn=Wr.id+"-container";Gr.call(this,Wr,Kr),Zr.$search.attr("aria-describedby",rn),Wr.on("open",function(){Zr.$search.attr("aria-controls",Jr),Zr.$search.trigger("focus")}),Wr.on("close",function(){Zr.$search.val(""),Zr.resizeSearch(),Zr.$search.removeAttr("aria-controls"),Zr.$search.removeAttr("aria-activedescendant"),Zr.$search.trigger("focus")}),Wr.on("enable",function(){Zr.$search.prop("disabled",!1),Zr._transferTabIndex()}),Wr.on("disable",function(){Zr.$search.prop("disabled",!0)}),Wr.on("focus",function(cn){Zr.$search.trigger("focus")}),Wr.on("results:focus",function(cn){cn.data._resultId?Zr.$search.attr("aria-activedescendant",cn.data._resultId):Zr.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(cn){Zr.trigger("focus",cn)}),this.$selection.on("focusout",".select2-search--inline",function(cn){Zr._handleBlur(cn)}),this.$selection.on("keydown",".select2-search--inline",function(cn){cn.stopPropagation(),Zr.trigger("keypress",cn),Zr._keyUpPrevented=cn.isDefaultPrevented();var hn=cn.which;if(hn===Vr.BACKSPACE&&Zr.$search.val()===""){var mn=Zr.$selection.find(".select2-selection__choice").last();if(mn.length>0){var bn=zr.GetData(mn[0],"data");Zr.searchRemoveChoice(bn),cn.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(cn){Zr.$search.val()&&cn.stopPropagation()});var nn=document.documentMode,ln=nn&&nn<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(cn){if(ln){Zr.$selection.off("input.search input.searchcheck");return}Zr.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(cn){if(ln&&cn.type==="input"){Zr.$selection.off("input.search input.searchcheck");return}var hn=cn.which;hn==Vr.SHIFT||hn==Vr.CTRL||hn==Vr.ALT||hn!=Vr.TAB&&Zr.handleSearch(cn)})},jr.prototype._transferTabIndex=function(Gr){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},jr.prototype.createPlaceholder=function(Gr,Wr){this.$search.attr("placeholder",Wr.text)},jr.prototype.update=function(Gr,Wr){var Kr=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),Gr.call(this,Wr),this.resizeSearch(),Kr&&this.$search.trigger("focus")},jr.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var Gr=this.$search.val();this.trigger("query",{term:Gr})}this._keyUpPrevented=!1},jr.prototype.searchRemoveChoice=function(Gr,Wr){this.trigger("unselect",{data:Wr}),this.$search.val(Wr.text),this.handleSearch()},jr.prototype.resizeSearch=function(){this.$search.css("width","25px");var Gr="100%";if(this.$search.attr("placeholder")===""){var Wr=this.$search.val().length+1;Gr=Wr*.75+"em"}this.$search.css("width",Gr)},jr}),$r.define("select2/selection/selectionCss",["../utils"],function(Br){function zr(){}return zr.prototype.render=function(Vr){var jr=Vr.call(this),Gr=this.options.get("selectionCssClass")||"";return Gr.indexOf(":all:")!==-1&&(Gr=Gr.replace(":all:",""),Br.copyNonInternalCssClasses(jr[0],this.$element[0])),jr.addClass(Gr),jr},zr}),$r.define("select2/selection/eventRelay",["jquery"],function(Br){function zr(){}return zr.prototype.bind=function(Vr,jr,Gr){var Wr=this,Kr=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],Zr=["opening","closing","selecting","unselecting","clearing"];Vr.call(this,jr,Gr),jr.on("*",function(Jr,rn){if(Kr.indexOf(Jr)!==-1){rn=rn||{};var nn=Br.Event("select2:"+Jr,{params:rn});Wr.$element.trigger(nn),Zr.indexOf(Jr)!==-1&&(rn.prevented=nn.isDefaultPrevented())}})},zr}),$r.define("select2/translation",["jquery","require"],function(Br,zr){function Vr(jr){this.dict=jr||{}}return Vr.prototype.all=function(){return this.dict},Vr.prototype.get=function(jr){return this.dict[jr]},Vr.prototype.extend=function(jr){this.dict=Br.extend({},jr.all(),this.dict)},Vr._cache={},Vr.loadPath=function(jr){if(!(jr in Vr._cache)){var Gr=zr(jr);Vr._cache[jr]=Gr}return new Vr(Vr._cache[jr])},Vr}),$r.define("select2/diacritics",[],function(){var Br={"â¶":"A",ï¼¡:"A",Ã:"A",Ã:"A",Ã:"A",áº¦:"A",áº¤:"A",áºª:"A",áº¨:"A",Ã:"A",Ä:"A",Ä:"A",áº°:"A",áº®:"A",áº´:"A",áº²:"A",È¦:"A",Ç :"A",Ã:"A",Ç:"A",áº¢:"A",Ã:"A",Çº:"A",Ç:"A",È:"A",È:"A",áº :"A",áº¬:"A",áº¶:"A",á¸:"A",Ä:"A","Èº":"A","â±¯":"A","ê²":"AA",Ã:"AE",Ç¼:"AE",Ç¢:"AE","ê´":"AO","ê¶":"AU","ê¸":"AV","êº":"AV","ê¼":"AY","â·":"B",ï¼¢:"B",á¸:"B",á¸:"B",á¸:"B","É":"B",Æ:"B",Æ:"B","â¸":"C",ï¼£:"C",Ä:"C",Ä:"C",Ä:"C",Ä:"C",Ã:"C",á¸:"C",Æ:"C","È»":"C","ê¾":"C","â¹":"D",ï¼¤:"D",á¸:"D",Ä:"D",á¸:"D",á¸:"D",á¸:"D",á¸:"D",Ä:"D",Æ:"D",Æ:"D",Æ:"D","ê¹":"D",Ç±:"DZ",Ç:"DZ",Ç²:"Dz",Ç:"Dz","âº":"E",ï¼¥:"E",Ã:"E",Ã:"E",Ã:"E",á»:"E",áº¾:"E",á»:"E",á»:"E",áº¼:"E",Ä:"E",á¸:"E",á¸:"E",Ä:"E",Ä:"E",Ã:"E",áºº:"E",Ä:"E",È:"E",È:"E",áº¸:"E",á»:"E",È¨:"E",á¸:"E",Ä:"E",á¸:"E",á¸:"E",Æ:"E",Æ:"E","â»":"F",ï¼¦:"F",á¸:"F",Æ:"F","ê»":"F","â¼":"G",ï¼§:"G",Ç´:"G",Ä:"G",á¸ :"G",Ä:"G",Ä :"G",Ç¦:"G",Ä¢:"G",Ç¤:"G",Æ:"G","ê ":"G","ê½":"G","ê¾":"G","â½":"H",ï¼¨:"H",Ä¤:"H",á¸¢:"H",á¸¦:"H",È:"H",á¸¤:"H",á¸¨:"H",á¸ª:"H",Ä¦:"H","â±§":"H","â±µ":"H","ê":"H","â¾":"I",ï¼©:"I",Ã:"I",Ã:"I",Ã:"I",Ä¨:"I",Äª:"I",Ä¬:"I",Ä°:"I",Ã:"I",á¸®:"I",á»:"I",Ç:"I",È:"I",È:"I",á»:"I",Ä®:"I",á¸¬:"I",Æ:"I","â¿":"J",ï¼ª:"J",Ä´:"J","É":"J","â":"K",ï¼«:"K",á¸°:"K",Ç¨:"K",á¸²:"K",Ä¶:"K",á¸´:"K",Æ:"K","â±©":"K","ê":"K","ê":"K","ê":"K","ê¢":"K","â":"L",ï¼¬:"L",Ä¿:"L",Ä¹:"L",Ä½:"L",á¸¶:"L",á¸¸:"L",Ä»:"L",á¸¼:"L",á¸º:"L",Å:"L","È½":"L","â±¢":"L","â± ":"L","ê":"L","ê":"L","ê":"L",Ç:"LJ",Ç:"Lj","â":"M",ï¼­:"M",á¸¾:"M",á¹:"M",á¹:"M","â±®":"M",Æ:"M","â":"N",ï¼®:"N",Ç¸:"N",Å:"N",Ã:"N",á¹:"N",Å:"N",á¹:"N",Å:"N",á¹:"N",á¹:"N","È ":"N",Æ:"N","ê":"N","ê¤":"N",Ç:"NJ",Ç:"Nj","â":"O",ï¼¯:"O",Ã:"O",Ã:"O",Ã:"O",á»:"O",á»:"O",á»:"O",á»:"O",Ã:"O",á¹:"O",È¬:"O",á¹:"O",Å:"O",á¹:"O",á¹:"O",Å:"O",È®:"O",È°:"O",Ã:"O",Èª:"O",á»:"O",Å:"O",Ç:"O",È:"O",È:"O",Æ :"O",á»:"O",á»:"O",á» :"O",á»:"O",á»¢:"O",á»:"O",á»:"O",Çª:"O",Ç¬:"O",Ã:"O",Ç¾:"O",Æ:"O",Æ:"O","ê":"O","ê":"O",Å:"OE",Æ¢:"OI","ê":"OO",È¢:"OU","â":"P",ï¼°:"P",á¹:"P",á¹:"P",Æ¤:"P","â±£":"P","ê":"P","ê":"P","ê":"P","â":"Q",ï¼±:"Q","ê":"Q","ê":"Q","É":"Q","â":"R",ï¼²:"R",Å:"R",á¹:"R",Å:"R",È:"R",È:"R",á¹:"R",á¹:"R",Å:"R",á¹:"R","É":"R","â±¤":"R","ê":"R","ê¦":"R","ê":"R","â":"S",ï¼³:"S","áº":"S",Å:"S",á¹¤:"S",Å:"S",á¹ :"S",Å :"S",á¹¦:"S",á¹¢:"S",á¹¨:"S",È:"S",Å:"S","â±¾":"S","ê¨":"S","ê":"S","â":"T",ï¼´:"T",á¹ª:"T",Å¤:"T",á¹¬:"T",È:"T",Å¢:"T",á¹°:"T",á¹®:"T",Å¦:"T",Æ¬:"T",Æ®:"T","È¾":"T","ê":"T","ê¨":"TZ","â":"U",ï¼µ:"U",Ã:"U",Ã:"U",Ã:"U",Å¨:"U",á¹¸:"U",Åª:"U",á¹º:"U",Å¬:"U",Ã:"U",Ç:"U",Ç:"U",Ç:"U",Ç:"U",á»¦:"U",Å®:"U",Å°:"U",Ç:"U",È:"U",È:"U",Æ¯:"U",á»ª:"U",á»¨:"U",á»®:"U",á»¬:"U",á»°:"U",á»¤:"U",á¹²:"U",Å²:"U",á¹¶:"U",á¹´:"U","É":"U","â":"V",ï¼¶:"V",á¹¼:"V",á¹¾:"V",Æ²:"V","ê":"V","É":"V","ê ":"VY","â":"W",ï¼·:"W",áº:"W",áº:"W",Å´:"W",áº:"W",áº:"W",áº:"W","â±²":"W","â":"X",ï¼¸:"X",áº:"X",áº:"X","â":"Y",ï¼¹:"Y",á»²:"Y",Ã:"Y",Å¶:"Y",á»¸:"Y",È²:"Y",áº:"Y",Å¸:"Y",á»¶:"Y",á»´:"Y",Æ³:"Y","É":"Y","á»¾":"Y","â":"Z",ï¼º:"Z",Å¹:"Z",áº:"Z",Å»:"Z",Å½:"Z",áº:"Z",áº:"Z",Æµ:"Z",È¤:"Z","â±¿":"Z","â±«":"Z","ê¢":"Z","â":"a",ï½:"a",áº:"a",Ã :"a",Ã¡:"a",Ã¢:"a",áº§:"a",áº¥:"a",áº«:"a",áº©:"a",Ã£:"a",Ä:"a",Ä:"a",áº±:"a",áº¯:"a",áºµ:"a",áº³:"a",È§:"a",Ç¡:"a",Ã¤:"a",Ç:"a",áº£:"a",Ã¥:"a",Ç»:"a",Ç:"a",È:"a",È:"a",áº¡:"a",áº­:"a",áº·:"a",á¸:"a",Ä:"a","â±¥":"a",É:"a","ê³":"aa",Ã¦:"ae",Ç½:"ae",Ç£:"ae","êµ":"ao","ê·":"au","ê¹":"av","ê»":"av","ê½":"ay","â":"b",ï½:"b",á¸:"b",á¸:"b",á¸:"b",Æ:"b",Æ:"b",É:"b","â":"c",ï½:"c",Ä:"c",Ä:"c",Ä:"c",Ä:"c",Ã§:"c",á¸:"c",Æ:"c","È¼":"c","ê¿":"c","â":"c","â":"d",ï½:"d",á¸:"d",Ä:"d",á¸:"d",á¸:"d",á¸:"d",á¸:"d",Ä:"d",Æ:"d",É:"d",É:"d","êº":"d",Ç³:"dz",Ç:"dz","â":"e",ï½:"e",Ã¨:"e",Ã©:"e",Ãª:"e",á»:"e",áº¿:"e",á»:"e",á»:"e",áº½:"e",Ä:"e",á¸:"e",á¸:"e",Ä:"e",Ä:"e",Ã«:"e",áº»:"e",Ä:"e",È:"e",È:"e",áº¹:"e",á»:"e",È©:"e",á¸:"e",Ä:"e",á¸:"e",á¸:"e","É":"e",É:"e",Ç:"e","â":"f",ï½:"f",á¸:"f",Æ:"f","ê¼":"f","â":"g",ï½:"g",Çµ:"g",Ä:"g",á¸¡:"g",Ä:"g",Ä¡:"g",Ç§:"g",Ä£:"g",Ç¥:"g",É :"g","ê¡":"g","áµ¹":"g","ê¿":"g","â":"h",ï½:"h",Ä¥:"h",á¸£:"h",á¸§:"h",È:"h",á¸¥:"h",á¸©:"h",á¸«:"h",áº:"h",Ä§:"h","â±¨":"h","â±¶":"h",É¥:"h",Æ:"hv","â":"i",ï½:"i",Ã¬:"i",Ã­:"i",Ã®:"i",Ä©:"i",Ä«:"i",Ä­:"i",Ã¯:"i",á¸¯:"i",á»:"i",Ç:"i",È:"i",È:"i",á»:"i",Ä¯:"i",á¸­:"i",É¨:"i",Ä±:"i","â":"j",ï½:"j",Äµ:"j",Ç°:"j","É":"j","â":"k",ï½:"k",á¸±:"k",Ç©:"k",á¸³:"k",Ä·:"k",á¸µ:"k",Æ:"k","â±ª":"k","ê":"k","ê":"k","ê":"k","ê£":"k","â":"l",ï½:"l",Å:"l",Äº:"l",Ä¾:"l",á¸·:"l",á¸¹:"l",Ä¼:"l",á¸½:"l",á¸»:"l",Å¿:"l",Å:"l",Æ:"l",É«:"l","â±¡":"l","ê":"l","ê":"l","ê":"l",Ç:"lj","â":"m",ï½:"m",á¸¿:"m",á¹:"m",á¹:"m",É±:"m",É¯:"m","â":"n",ï½:"n",Ç¹:"n",Å:"n",Ã±:"n",á¹:"n",Å:"n",á¹:"n",Å:"n",á¹:"n",á¹:"n",Æ:"n",É²:"n",Å:"n","ê":"n","ê¥":"n",Ç:"nj","â":"o",ï½:"o",Ã²:"o",Ã³:"o",Ã´:"o",á»:"o",á»:"o",á»:"o",á»:"o",Ãµ:"o",á¹:"o",È­:"o",á¹:"o",Å:"o",á¹:"o",á¹:"o",Å:"o",È¯:"o",È±:"o",Ã¶:"o",È«:"o",á»:"o",Å:"o",Ç:"o",È:"o",È:"o",Æ¡:"o",á»:"o",á»:"o",á»¡:"o",á»:"o",á»£:"o",á»:"o",á»:"o",Ç«:"o",Ç­:"o",Ã¸:"o",Ç¿:"o",É:"o","ê":"o","ê":"o",Éµ:"o",Å:"oe",Æ£:"oi",È£:"ou","ê":"oo","â":"p",ï½:"p",á¹:"p",á¹:"p",Æ¥:"p","áµ½":"p","ê":"p","ê":"p","ê":"p","â ":"q",ï½:"q","É":"q","ê":"q","ê":"q","â¡":"r",ï½:"r",Å:"r",á¹:"r",Å:"r",È:"r",È:"r",á¹:"r",á¹:"r",Å:"r",á¹:"r","É":"r",É½:"r","ê":"r","ê§":"r","ê":"r","â¢":"s",ï½:"s",Ã:"s",Å:"s",á¹¥:"s",Å:"s",á¹¡:"s",Å¡:"s",á¹§:"s",á¹£:"s",á¹©:"s",È:"s",Å:"s","È¿":"s","ê©":"s","ê":"s",áº:"s","â£":"t",ï½:"t",á¹«:"t",áº:"t",Å¥:"t",á¹­:"t",È:"t",Å£:"t",á¹±:"t",á¹¯:"t",Å§:"t",Æ­:"t",Ê:"t","â±¦":"t","ê":"t","ê©":"tz","â¤":"u",ï½:"u",Ã¹:"u",Ãº:"u",Ã»:"u",Å©:"u",á¹¹:"u",Å«:"u",á¹»:"u",Å­:"u",Ã¼:"u",Ç:"u",Ç:"u",Ç:"u",Ç:"u",á»§:"u",Å¯:"u",Å±:"u",Ç:"u",È:"u",È:"u",Æ°:"u",á»«:"u",á»©:"u",á»¯:"u",á»­:"u",á»±:"u",á»¥:"u",á¹³:"u",Å³:"u",á¹·:"u",á¹µ:"u",Ê:"u","â¥":"v",ï½:"v",á¹½:"v",á¹¿:"v",Ê:"v","ê":"v",Ê:"v","ê¡":"vy","â¦":"w",ï½:"w",áº:"w",áº:"w",Åµ:"w",áº:"w",áº:"w",áº:"w",áº:"w","â±³":"w","â§":"x",ï½:"x",áº:"x",áº:"x","â¨":"y",ï½:"y",á»³:"y",Ã½:"y",Å·:"y",á»¹:"y",È³:"y",áº:"y",Ã¿:"y",á»·:"y",áº:"y",á»µ:"y",Æ´:"y","É":"y","á»¿":"y","â©":"z",ï½:"z",Åº:"z",áº:"z",Å¼:"z",Å¾:"z",áº:"z",áº:"z",Æ¶:"z",È¥:"z","É":"z","â±¬":"z","ê£":"z",Î:"Î",Î:"Î",Î:"Î",Î:"Î",Îª:"Î",Î:"Î",Î:"Î¥",Î«:"Î¥",Î:"Î©",Î¬:"Î±",Î­:"Îµ",Î®:"Î·",Î¯:"Î¹",Ï:"Î¹",Î:"Î¹",Ï:"Î¿",Ï:"Ï",Ï:"Ï",Î°:"Ï",Ï:"Ï",Ï:"Ï","â":"'"};return Br}),$r.define("select2/data/base",["../utils"],function(Br){function zr(Vr,jr){zr.__super__.constructor.call(this)}return Br.Extend(zr,Br.Observable),zr.prototype.current=function(Vr){throw new Error("The `current` method must be defined in child classes.")},zr.prototype.query=function(Vr,jr){throw new Error("The `query` method must be defined in child classes.")},zr.prototype.bind=function(Vr,jr){},zr.prototype.destroy=function(){},zr.prototype.generateResultId=function(Vr,jr){var Gr=Vr.id+"-result-";return Gr+=Br.generateChars(4),jr.id!=null?Gr+="-"+jr.id.toString():Gr+="-"+Br.generateChars(4),Gr},zr}),$r.define("select2/data/select",["./base","../utils","jquery"],function(Br,zr,Vr){function jr(Gr,Wr){this.$element=Gr,this.options=Wr,jr.__super__.constructor.call(this)}return zr.Extend(jr,Br),jr.prototype.current=function(Gr){var Wr=this,Kr=Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),function(Zr){return Wr.item(Vr(Zr))});Gr(Kr)},jr.prototype.select=function(Gr){var Wr=this;if(Gr.selected=!0,Gr.element!=null&&Gr.element.tagName.toLowerCase()==="option"){Gr.element.selected=!0,this.$element.trigger("input").trigger("change");return}if(this.$element.prop("multiple"))this.current(function(Zr){var Jr=[];Gr=[Gr],Gr.push.apply(Gr,Zr);for(var rn=0;rn<Gr.length;rn++){var nn=Gr[rn].id;Jr.indexOf(nn)===-1&&Jr.push(nn)}Wr.$element.val(Jr),Wr.$element.trigger("input").trigger("change")});else{var Kr=Gr.id;this.$element.val(Kr),this.$element.trigger("input").trigger("change")}},jr.prototype.unselect=function(Gr){var Wr=this;if(this.$element.prop("multiple")){if(Gr.selected=!1,Gr.element!=null&&Gr.element.tagName.toLowerCase()==="option"){Gr.element.selected=!1,this.$element.trigger("input").trigger("change");return}this.current(function(Kr){for(var Zr=[],Jr=0;Jr<Kr.length;Jr++){var rn=Kr[Jr].id;rn!==Gr.id&&Zr.indexOf(rn)===-1&&Zr.push(rn)}Wr.$element.val(Zr),Wr.$element.trigger("input").trigger("change")})}},jr.prototype.bind=function(Gr,Wr){var Kr=this;this.container=Gr,Gr.on("select",function(Zr){Kr.select(Zr.data)}),Gr.on("unselect",function(Zr){Kr.unselect(Zr.data)})},jr.prototype.destroy=function(){this.$element.find("*").each(function(){zr.RemoveData(this)})},jr.prototype.query=function(Gr,Wr){var Kr=[],Zr=this,Jr=this.$element.children();Jr.each(function(){if(!(this.tagName.toLowerCase()!=="option"&&this.tagName.toLowerCase()!=="optgroup")){var rn=Vr(this),nn=Zr.item(rn),ln=Zr.matches(Gr,nn);ln!==null&&Kr.push(ln)}}),Wr({results:Kr})},jr.prototype.addOptions=function(Gr){this.$element.append(Gr)},jr.prototype.option=function(Gr){var Wr;Gr.children?(Wr=document.createElement("optgroup"),Wr.label=Gr.text):(Wr=document.createElement("option"),Wr.textContent!==void 0?Wr.textContent=Gr.text:Wr.innerText=Gr.text),Gr.id!==void 0&&(Wr.value=Gr.id),Gr.disabled&&(Wr.disabled=!0),Gr.selected&&(Wr.selected=!0),Gr.title&&(Wr.title=Gr.title);var Kr=this._normalizeItem(Gr);return Kr.element=Wr,zr.StoreData(Wr,"data",Kr),Vr(Wr)},jr.prototype.item=function(Gr){var Wr={};if(Wr=zr.GetData(Gr[0],"data"),Wr!=null)return Wr;var Kr=Gr[0];if(Kr.tagName.toLowerCase()==="option")Wr={id:Gr.val(),text:Gr.text(),disabled:Gr.prop("disabled"),selected:Gr.prop("selected"),title:Gr.prop("title")};else if(Kr.tagName.toLowerCase()==="optgroup"){Wr={text:Gr.prop("label"),children:[],title:Gr.prop("title")};for(var Zr=Gr.children("option"),Jr=[],rn=0;rn<Zr.length;rn++){var nn=Vr(Zr[rn]),ln=this.item(nn);Jr.push(ln)}Wr.children=Jr}return Wr=this._normalizeItem(Wr),Wr.element=Gr[0],zr.StoreData(Gr[0],"data",Wr),Wr},jr.prototype._normalizeItem=function(Gr){Gr!==Object(Gr)&&(Gr={id:Gr,text:Gr}),Gr=Vr.extend({},{text:""},Gr);var Wr={selected:!1,disabled:!1};return Gr.id!=null&&(Gr.id=Gr.id.toString()),Gr.text!=null&&(Gr.text=Gr.text.toString()),Gr._resultId==null&&Gr.id&&this.container!=null&&(Gr._resultId=this.generateResultId(this.container,Gr)),Vr.extend({},Wr,Gr)},jr.prototype.matches=function(Gr,Wr){var Kr=this.options.get("matcher");return Kr(Gr,Wr)},jr}),$r.define("select2/data/array",["./select","../utils","jquery"],function(Br,zr,Vr){function jr(Gr,Wr){this._dataToConvert=Wr.get("data")||[],jr.__super__.constructor.call(this,Gr,Wr)}return zr.Extend(jr,Br),jr.prototype.bind=function(Gr,Wr){jr.__super__.bind.call(this,Gr,Wr),this.addOptions(this.convertToOptions(this._dataToConvert))},jr.prototype.select=function(Gr){var Wr=this.$element.find("option").filter(function(Kr,Zr){return Zr.value==Gr.id.toString()});Wr.length===0&&(Wr=this.option(Gr),this.addOptions(Wr)),jr.__super__.select.call(this,Gr)},jr.prototype.convertToOptions=function(Gr){var Wr=this,Kr=this.$element.find("option"),Zr=Kr.map(function(){return Wr.item(Vr(this)).id}).get(),Jr=[];function rn(dn){return function(){return Vr(this).val()==dn.id}}for(var nn=0;nn<Gr.length;nn++){var ln=this._normalizeItem(Gr[nn]);if(Zr.indexOf(ln.id)>=0){var cn=Kr.filter(rn(ln)),hn=this.item(cn),mn=Vr.extend(!0,{},ln,hn),bn=this.option(mn);cn.replaceWith(bn);continue}var An=this.option(ln);if(ln.children){var vn=this.convertToOptions(ln.children);An.append(vn)}Jr.push(An)}return Jr},jr}),$r.define("select2/data/ajax",["./array","../utils","jquery"],function(Br,zr,Vr){function jr(Gr,Wr){this.ajaxOptions=this._applyDefaults(Wr.get("ajax")),this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults),jr.__super__.constructor.call(this,Gr,Wr)}return zr.Extend(jr,Br),jr.prototype._applyDefaults=function(Gr){var Wr={data:function(Kr){return Vr.extend({},Kr,{q:Kr.term})},transport:function(Kr,Zr,Jr){var rn=Vr.ajax(Kr);return rn.then(Zr),rn.fail(Jr),rn}};return Vr.extend({},Wr,Gr,!0)},jr.prototype.processResults=function(Gr){return Gr},jr.prototype.query=function(Gr,Wr){var Kr=this;this._request!=null&&(typeof this._request.abort=="function"&&this._request.abort(),this._request=null);var Zr=Vr.extend({type:"GET"},this.ajaxOptions);typeof Zr.url=="function"&&(Zr.url=Zr.url.call(this.$element,Gr)),typeof Zr.data=="function"&&(Zr.data=Zr.data.call(this.$element,Gr));function Jr(){var rn=Zr.transport(Zr,function(nn){var ln=Kr.processResults(nn,Gr);Kr.options.get("debug")&&window.console&&console.error&&(!ln||!ln.results||!Array.isArray(ln.results))&&console.error("Select2: The AJAX results did not return an array in the `results` key of the response."),Wr(ln)},function(){"status"in rn&&(rn.status===0||rn.status==="0")||Kr.trigger("results:message",{message:"errorLoading"})});Kr._request=rn}this.ajaxOptions.delay&&Gr.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(Jr,this.ajaxOptions.delay)):Jr()},jr}),$r.define("select2/data/tags",["jquery"],function(Br){function zr(Vr,jr,Gr){var Wr=Gr.get("tags"),Kr=Gr.get("createTag");Kr!==void 0&&(this.createTag=Kr);var Zr=Gr.get("insertTag");if(Zr!==void 0&&(this.insertTag=Zr),Vr.call(this,jr,Gr),Array.isArray(Wr))for(var Jr=0;Jr<Wr.length;Jr++){var rn=Wr[Jr],nn=this._normalizeItem(rn),ln=this.option(nn);this.$element.append(ln)}}return zr.prototype.query=function(Vr,jr,Gr){var Wr=this;if(this._removeOldTags(),jr.term==null||jr.page!=null){Vr.call(this,jr,Gr);return}function Kr(Zr,Jr){for(var rn=Zr.results,nn=0;nn<rn.length;nn++){var ln=rn[nn],cn=ln.children!=null&&!Kr({results:ln.children},!0),hn=(ln.text||"").toUpperCase(),mn=(jr.term||"").toUpperCase(),bn=hn===mn;if(bn||cn){if(Jr)return!1;Zr.data=rn,Gr(Zr);return}}if(Jr)return!0;var An=Wr.createTag(jr);if(An!=null){var vn=Wr.option(An);vn.attr("data-select2-tag","true"),Wr.addOptions([vn]),Wr.insertTag(rn,An)}Zr.results=rn,Gr(Zr)}Vr.call(this,jr,Kr)},zr.prototype.createTag=function(Vr,jr){if(jr.term==null)return null;var Gr=jr.term.trim();return Gr===""?null:{id:Gr,text:Gr}},zr.prototype.insertTag=function(Vr,jr,Gr){jr.unshift(Gr)},zr.prototype._removeOldTags=function(Vr){var jr=this.$element.find("option[data-select2-tag]");jr.each(function(){this.selected||Br(this).remove()})},zr}),$r.define("select2/data/tokenizer",["jquery"],function(Br){function zr(Vr,jr,Gr){var Wr=Gr.get("tokenizer");Wr!==void 0&&(this.tokenizer=Wr),Vr.call(this,jr,Gr)}return zr.prototype.bind=function(Vr,jr,Gr){Vr.call(this,jr,Gr),this.$search=jr.dropdown.$search||jr.selection.$search||Gr.find(".select2-search__field")},zr.prototype.query=function(Vr,jr,Gr){var Wr=this;function Kr(rn){var nn=Wr._normalizeItem(rn),ln=Wr.$element.find("option").filter(function(){return Br(this).val()===nn.id});if(!ln.length){var cn=Wr.option(nn);cn.attr("data-select2-tag",!0),Wr._removeOldTags(),Wr.addOptions([cn])}Zr(nn)}function Zr(rn){Wr.trigger("select",{data:rn})}jr.term=jr.term||"";var Jr=this.tokenizer(jr,this.options,Kr);Jr.term!==jr.term&&(this.$search.length&&(this.$search.val(Jr.term),this.$search.trigger("focus")),jr.term=Jr.term),Vr.call(this,jr,Gr)},zr.prototype.tokenizer=function(Vr,jr,Gr,Wr){for(var Kr=Gr.get("tokenSeparators")||[],Zr=jr.term,Jr=0,rn=this.createTag||function(mn){return{id:mn.term,text:mn.term}};Jr<Zr.length;){var nn=Zr[Jr];if(Kr.indexOf(nn)===-1){Jr++;continue}var ln=Zr.substr(0,Jr),cn=Br.extend({},jr,{term:ln}),hn=rn(cn);if(hn==null){Jr++;continue}Wr(hn),Zr=Zr.substr(Jr+1)||"",Jr=0}return{term:Zr}},zr}),$r.define("select2/data/minimumInputLength",[],function(){function Br(zr,Vr,jr){this.minimumInputLength=jr.get("minimumInputLength"),zr.call(this,Vr,jr)}return Br.prototype.query=function(zr,Vr,jr){if(Vr.term=Vr.term||"",Vr.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:Vr.term,params:Vr}});return}zr.call(this,Vr,jr)},Br}),$r.define("select2/data/maximumInputLength",[],function(){function Br(zr,Vr,jr){this.maximumInputLength=jr.get("maximumInputLength"),zr.call(this,Vr,jr)}return Br.prototype.query=function(zr,Vr,jr){if(Vr.term=Vr.term||"",this.maximumInputLength>0&&Vr.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:Vr.term,params:Vr}});return}zr.call(this,Vr,jr)},Br}),$r.define("select2/data/maximumSelectionLength",[],function(){function Br(zr,Vr,jr){this.maximumSelectionLength=jr.get("maximumSelectionLength"),zr.call(this,Vr,jr)}return Br.prototype.bind=function(zr,Vr,jr){var Gr=this;zr.call(this,Vr,jr),Vr.on("select",function(){Gr._checkIfMaximumSelected()})},Br.prototype.query=function(zr,Vr,jr){var Gr=this;this._checkIfMaximumSelected(function(){zr.call(Gr,Vr,jr)})},Br.prototype._checkIfMaximumSelected=function(zr,Vr){var jr=this;this.current(function(Gr){var Wr=Gr!=null?Gr.length:0;if(jr.maximumSelectionLength>0&&Wr>=jr.maximumSelectionLength){jr.trigger("results:message",{message:"maximumSelected",args:{maximum:jr.maximumSelectionLength}});return}Vr&&Vr()})},Br}),$r.define("select2/dropdown",["jquery","./utils"],function(Br,zr){function Vr(jr,Gr){this.$element=jr,this.options=Gr,Vr.__super__.constructor.call(this)}return zr.Extend(Vr,zr.Observable),Vr.prototype.render=function(){var jr=Br('<span class="select2-dropdown"><span class="select2-results"></span></span>');return jr.attr("dir",this.options.get("dir")),this.$dropdown=jr,jr},Vr.prototype.bind=function(){},Vr.prototype.position=function(jr,Gr){},Vr.prototype.destroy=function(){this.$dropdown.remove()},Vr}),$r.define("select2/dropdown/search",["jquery"],function(Br){function zr(){}return zr.prototype.render=function(Vr){var jr=Vr.call(this),Gr=this.options.get("translations").get("search"),Wr=Br('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=Wr,this.$search=Wr.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",Gr()),jr.prepend(Wr),jr},zr.prototype.bind=function(Vr,jr,Gr){var Wr=this,Kr=jr.id+"-results";Vr.call(this,jr,Gr),this.$search.on("keydown",function(Zr){Wr.trigger("keypress",Zr),Wr._keyUpPrevented=Zr.isDefaultPrevented()}),this.$search.on("input",function(Zr){Br(this).off("keyup")}),this.$search.on("keyup input",function(Zr){Wr.handleSearch(Zr)}),jr.on("open",function(){Wr.$search.attr("tabindex",0),Wr.$search.attr("aria-controls",Kr),Wr.$search.trigger("focus"),window.setTimeout(function(){Wr.$search.trigger("focus")},0)}),jr.on("close",function(){Wr.$search.attr("tabindex",-1),Wr.$search.removeAttr("aria-controls"),Wr.$search.removeAttr("aria-activedescendant"),Wr.$search.val(""),Wr.$search.trigger("blur")}),jr.on("focus",function(){jr.isOpen()||Wr.$search.trigger("focus")}),jr.on("results:all",function(Zr){if(Zr.query.term==null||Zr.query.term===""){var Jr=Wr.showSearch(Zr);Jr?Wr.$searchContainer[0].classList.remove("select2-search--hide"):Wr.$searchContainer[0].classList.add("select2-search--hide")}}),jr.on("results:focus",function(Zr){Zr.data._resultId?Wr.$search.attr("aria-activedescendant",Zr.data._resultId):Wr.$search.removeAttr("aria-activedescendant")})},zr.prototype.handleSearch=function(Vr){if(!this._keyUpPrevented){var jr=this.$search.val();this.trigger("query",{term:jr})}this._keyUpPrevented=!1},zr.prototype.showSearch=function(Vr,jr){return!0},zr}),$r.define("select2/dropdown/hidePlaceholder",[],function(){function Br(zr,Vr,jr,Gr){this.placeholder=this.normalizePlaceholder(jr.get("placeholder")),zr.call(this,Vr,jr,Gr)}return Br.prototype.append=function(zr,Vr){Vr.results=this.removePlaceholder(Vr.results),zr.call(this,Vr)},Br.prototype.normalizePlaceholder=function(zr,Vr){return typeof Vr=="string"&&(Vr={id:"",text:Vr}),Vr},Br.prototype.removePlaceholder=function(zr,Vr){for(var jr=Vr.slice(0),Gr=Vr.length-1;Gr>=0;Gr--){var Wr=Vr[Gr];this.placeholder.id===Wr.id&&jr.splice(Gr,1)}return jr},Br}),$r.define("select2/dropdown/infiniteScroll",["jquery"],function(Br){function zr(Vr,jr,Gr,Wr){this.lastParams={},Vr.call(this,jr,Gr,Wr),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return zr.prototype.append=function(Vr,jr){this.$loadingMore.remove(),this.loading=!1,Vr.call(this,jr),this.showLoadingMore(jr)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},zr.prototype.bind=function(Vr,jr,Gr){var Wr=this;Vr.call(this,jr,Gr),jr.on("query",function(Kr){Wr.lastParams=Kr,Wr.loading=!0}),jr.on("query:append",function(Kr){Wr.lastParams=Kr,Wr.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},zr.prototype.loadMoreIfNeeded=function(){var Vr=Br.contains(document.documentElement,this.$loadingMore[0]);if(!(this.loading||!Vr)){var jr=this.$results.offset().top+this.$results.outerHeight(!1),Gr=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1);jr+50>=Gr&&this.loadMore()}},zr.prototype.loadMore=function(){this.loading=!0;var Vr=Br.extend({},{page:1},this.lastParams);Vr.page++,this.trigger("query:append",Vr)},zr.prototype.showLoadingMore=function(Vr,jr){return jr.pagination&&jr.pagination.more},zr.prototype.createLoadingMore=function(){var Vr=Br('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),jr=this.options.get("translations").get("loadingMore");return Vr.html(jr(this.lastParams)),Vr},zr}),$r.define("select2/dropdown/attachBody",["jquery","../utils"],function(Br,zr){function Vr(jr,Gr,Wr){this.$dropdownParent=Br(Wr.get("dropdownParent")||document.body),jr.call(this,Gr,Wr)}return Vr.prototype.bind=function(jr,Gr,Wr){var Kr=this;jr.call(this,Gr,Wr),Gr.on("open",function(){Kr._showDropdown(),Kr._attachPositioningHandler(Gr),Kr._bindContainerResultHandlers(Gr)}),Gr.on("close",function(){Kr._hideDropdown(),Kr._detachPositioningHandler(Gr)}),this.$dropdownContainer.on("mousedown",function(Zr){Zr.stopPropagation()})},Vr.prototype.destroy=function(jr){jr.call(this),this.$dropdownContainer.remove()},Vr.prototype.position=function(jr,Gr,Wr){Gr.attr("class",Wr.attr("class")),Gr[0].classList.remove("select2"),Gr[0].classList.add("select2-container--open"),Gr.css({position:"absolute",top:-999999}),this.$container=Wr},Vr.prototype.render=function(jr){var Gr=Br("<span></span>"),Wr=jr.call(this);return Gr.append(Wr),this.$dropdownContainer=Gr,Gr},Vr.prototype._hideDropdown=function(jr){this.$dropdownContainer.detach()},Vr.prototype._bindContainerResultHandlers=function(jr,Gr){if(!this._containerResultsHandlersBound){var Wr=this;Gr.on("results:all",function(){Wr._positionDropdown(),Wr._resizeDropdown()}),Gr.on("results:append",function(){Wr._positionDropdown(),Wr._resizeDropdown()}),Gr.on("results:message",function(){Wr._positionDropdown(),Wr._resizeDropdown()}),Gr.on("select",function(){Wr._positionDropdown(),Wr._resizeDropdown()}),Gr.on("unselect",function(){Wr._positionDropdown(),Wr._resizeDropdown()}),this._containerResultsHandlersBound=!0}},Vr.prototype._attachPositioningHandler=function(jr,Gr){var Wr=this,Kr="scroll.select2."+Gr.id,Zr="resize.select2."+Gr.id,Jr="orientationchange.select2."+Gr.id,rn=this.$container.parents().filter(zr.hasScroll);rn.each(function(){zr.StoreData(this,"select2-scroll-position",{x:Br(this).scrollLeft(),y:Br(this).scrollTop()})}),rn.on(Kr,function(nn){var ln=zr.GetData(this,"select2-scroll-position");Br(this).scrollTop(ln.y)}),Br(window).on(Kr+" "+Zr+" "+Jr,function(nn){Wr._positionDropdown(),Wr._resizeDropdown()})},Vr.prototype._detachPositioningHandler=function(jr,Gr){var Wr="scroll.select2."+Gr.id,Kr="resize.select2."+Gr.id,Zr="orientationchange.select2."+Gr.id,Jr=this.$container.parents().filter(zr.hasScroll);Jr.off(Wr),Br(window).off(Wr+" "+Kr+" "+Zr)},Vr.prototype._positionDropdown=function(){var jr=Br(window),Gr=this.$dropdown[0].classList.contains("select2-dropdown--above"),Wr=this.$dropdown[0].classList.contains("select2-dropdown--below"),Kr=null,Zr=this.$container.offset();Zr.bottom=Zr.top+this.$container.outerHeight(!1);var Jr={height:this.$container.outerHeight(!1)};Jr.top=Zr.top,Jr.bottom=Zr.top+Jr.height;var rn={height:this.$dropdown.outerHeight(!1)},nn={top:jr.scrollTop(),bottom:jr.scrollTop()+jr.height()},ln=nn.top<Zr.top-rn.height,cn=nn.bottom>Zr.bottom+rn.height,hn={left:Zr.left,top:Jr.bottom},mn=this.$dropdownParent;mn.css("position")==="static"&&(mn=mn.offsetParent());var bn={top:0,left:0};(Br.contains(document.body,mn[0])||mn[0].isConnected)&&(bn=mn.offset()),hn.top-=bn.top,hn.left-=bn.left,!Gr&&!Wr&&(Kr="below"),!cn&&ln&&!Gr?Kr="above":!ln&&cn&&Gr&&(Kr="below"),(Kr=="above"||Gr&&Kr!=="below")&&(hn.top=Jr.top-bn.top-rn.height),Kr!=null&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+Kr),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+Kr)),this.$dropdownContainer.css(hn)},Vr.prototype._resizeDropdown=function(){var jr={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(jr.minWidth=jr.width,jr.position="relative",jr.width="auto"),this.$dropdown.css(jr)},Vr.prototype._showDropdown=function(jr){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},Vr}),$r.define("select2/dropdown/minimumResultsForSearch",[],function(){function Br(Vr){for(var jr=0,Gr=0;Gr<Vr.length;Gr++){var Wr=Vr[Gr];Wr.children?jr+=Br(Wr.children):jr++}return jr}function zr(Vr,jr,Gr,Wr){this.minimumResultsForSearch=Gr.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),Vr.call(this,jr,Gr,Wr)}return zr.prototype.showSearch=function(Vr,jr){return Br(jr.data.results)<this.minimumResultsForSearch?!1:Vr.call(this,jr)},zr}),$r.define("select2/dropdown/selectOnClose",["../utils"],function(Br){function zr(){}return zr.prototype.bind=function(Vr,jr,Gr){var Wr=this;Vr.call(this,jr,Gr),jr.on("close",function(Kr){Wr._handleSelectOnClose(Kr)})},zr.prototype._handleSelectOnClose=function(Vr,jr){if(jr&&jr.originalSelect2Event!=null){var Gr=jr.originalSelect2Event;if(Gr._type==="select"||Gr._type==="unselect")return}var Wr=this.getHighlightedResults();if(!(Wr.length<1)){var Kr=Br.GetData(Wr[0],"data");Kr.element!=null&&Kr.element.selected||Kr.element==null&&Kr.selected||this.trigger("select",{data:Kr})}},zr}),$r.define("select2/dropdown/closeOnSelect",[],function(){function Br(){}return Br.prototype.bind=function(zr,Vr,jr){var Gr=this;zr.call(this,Vr,jr),Vr.on("select",function(Wr){Gr._selectTriggered(Wr)}),Vr.on("unselect",function(Wr){Gr._selectTriggered(Wr)})},Br.prototype._selectTriggered=function(zr,Vr){var jr=Vr.originalEvent;jr&&(jr.ctrlKey||jr.metaKey)||this.trigger("close",{originalEvent:jr,originalSelect2Event:Vr})},Br}),$r.define("select2/dropdown/dropdownCss",["../utils"],function(Br){function zr(){}return zr.prototype.render=function(Vr){var jr=Vr.call(this),Gr=this.options.get("dropdownCssClass")||"";return Gr.indexOf(":all:")!==-1&&(Gr=Gr.replace(":all:",""),Br.copyNonInternalCssClasses(jr[0],this.$element[0])),jr.addClass(Gr),jr},zr}),$r.define("select2/dropdown/tagsSearchHighlight",["../utils"],function(Br){function zr(){}return zr.prototype.highlightFirstItem=function(Vr){var jr=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(jr.length>0){var Gr=jr.first(),Wr=Br.GetData(Gr[0],"data"),Kr=Wr.element;if(Kr&&Kr.getAttribute&&Kr.getAttribute("data-select2-tag")==="true"){Gr.trigger("mouseenter");return}}Vr.call(this)},zr}),$r.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(Br){var zr=Br.input.length-Br.maximum,Vr="Please delete "+zr+" character";return zr!=1&&(Vr+="s"),Vr},inputTooShort:function(Br){var zr=Br.minimum-Br.input.length,Vr="Please enter "+zr+" or more characters";return Vr},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(Br){var zr="You can only select "+Br.maximum+" item";return Br.maximum!=1&&(zr+="s"),zr},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}}),$r.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],function(Br,zr,Vr,jr,Gr,Wr,Kr,Zr,Jr,rn,nn,ln,cn,hn,mn,bn,An,vn,dn,wn,xn,Mn,In,Hn,$n,jn,Bn,Gn,ei,ri,vi){function wi(){this.reset()}wi.prototype.apply=function(Yn){if(Yn=Br.extend(!0,{},this.defaults,Yn),Yn.dataAdapter==null&&(Yn.ajax!=null?Yn.dataAdapter=mn:Yn.data!=null?Yn.dataAdapter=hn:Yn.dataAdapter=cn,Yn.minimumInputLength>0&&(Yn.dataAdapter=rn.Decorate(Yn.dataAdapter,vn)),Yn.maximumInputLength>0&&(Yn.dataAdapter=rn.Decorate(Yn.dataAdapter,dn)),Yn.maximumSelectionLength>0&&(Yn.dataAdapter=rn.Decorate(Yn.dataAdapter,wn)),Yn.tags&&(Yn.dataAdapter=rn.Decorate(Yn.dataAdapter,bn)),(Yn.tokenSeparators!=null||Yn.tokenizer!=null)&&(Yn.dataAdapter=rn.Decorate(Yn.dataAdapter,An))),Yn.resultsAdapter==null&&(Yn.resultsAdapter=zr,Yn.ajax!=null&&(Yn.resultsAdapter=rn.Decorate(Yn.resultsAdapter,Hn)),Yn.placeholder!=null&&(Yn.resultsAdapter=rn.Decorate(Yn.resultsAdapter,In)),Yn.selectOnClose&&(Yn.resultsAdapter=rn.Decorate(Yn.resultsAdapter,Bn)),Yn.tags&&(Yn.resultsAdapter=rn.Decorate(Yn.resultsAdapter,ri))),Yn.dropdownAdapter==null){if(Yn.multiple)Yn.dropdownAdapter=xn;else{var Vn=rn.Decorate(xn,Mn);Yn.dropdownAdapter=Vn}Yn.minimumResultsForSearch!==0&&(Yn.dropdownAdapter=rn.Decorate(Yn.dropdownAdapter,jn)),Yn.closeOnSelect&&(Yn.dropdownAdapter=rn.Decorate(Yn.dropdownAdapter,Gn)),Yn.dropdownCssClass!=null&&(Yn.dropdownAdapter=rn.Decorate(Yn.dropdownAdapter,ei)),Yn.dropdownAdapter=rn.Decorate(Yn.dropdownAdapter,$n)}Yn.selectionAdapter==null&&(Yn.multiple?Yn.selectionAdapter=jr:Yn.selectionAdapter=Vr,Yn.placeholder!=null&&(Yn.selectionAdapter=rn.Decorate(Yn.selectionAdapter,Gr)),Yn.allowClear&&(Yn.selectionAdapter=rn.Decorate(Yn.selectionAdapter,Wr)),Yn.multiple&&(Yn.selectionAdapter=rn.Decorate(Yn.selectionAdapter,Kr)),Yn.selectionCssClass!=null&&(Yn.selectionAdapter=rn.Decorate(Yn.selectionAdapter,Zr)),Yn.selectionAdapter=rn.Decorate(Yn.selectionAdapter,Jr)),Yn.language=this._resolveLanguage(Yn.language),Yn.language.push("en");for(var si=[],Ri=0;Ri<Yn.language.length;Ri++){var Pi=Yn.language[Ri];si.indexOf(Pi)===-1&&si.push(Pi)}return Yn.language=si,Yn.translations=this._processTranslations(Yn.language,Yn.debug),Yn},wi.prototype.reset=function(){function Yn(si){function Ri(Pi){return ln[Pi]||Pi}return si.replace(/[^\u0000-\u007E]/g,Ri)}function Vn(si,Ri){if(si.term==null||si.term.trim()==="")return Ri;if(Ri.children&&Ri.children.length>0){for(var Pi=Br.extend(!0,{},Ri),Fi=Ri.children.length-1;Fi>=0;Fi--){var zi=Ri.children[Fi],oo=Vn(si,zi);oo==null&&Pi.children.splice(Fi,1)}return Pi.children.length>0?Pi:Vn(si,Pi)}var lo=Yn(Ri.text).toUpperCase(),io=Yn(si.term).toUpperCase();return lo.indexOf(io)>-1?Ri:null}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:rn.escapeMarkup,language:{},matcher:Vn,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(si){return si},templateResult:function(si){return si.text},templateSelection:function(si){return si.text},theme:"default",width:"resolve"}},wi.prototype.applyFromElement=function(Yn,Vn){var si=Yn.language,Ri=this.defaults.language,Pi=Vn.prop("lang"),Fi=Vn.closest("[lang]").prop("lang"),zi=Array.prototype.concat.call(this._resolveLanguage(Pi),this._resolveLanguage(si),this._resolveLanguage(Ri),this._resolveLanguage(Fi));return Yn.language=zi,Yn},wi.prototype._resolveLanguage=function(Yn){if(!Yn)return[];if(Br.isEmptyObject(Yn))return[];if(Br.isPlainObject(Yn))return[Yn];var Vn;Array.isArray(Yn)?Vn=Yn:Vn=[Yn];for(var si=[],Ri=0;Ri<Vn.length;Ri++)if(si.push(Vn[Ri]),typeof Vn[Ri]=="string"&&Vn[Ri].indexOf("-")>0){var Pi=Vn[Ri].split("-"),Fi=Pi[0];si.push(Fi)}return si},wi.prototype._processTranslations=function(Yn,Vn){for(var si=new nn,Ri=0;Ri<Yn.length;Ri++){var Pi=new nn,Fi=Yn[Ri];if(typeof Fi=="string")try{Pi=nn.loadPath(Fi)}catch{try{Fi=this.defaults.amdLanguageBase+Fi,Pi=nn.loadPath(Fi)}catch{Vn&&window.console&&console.warn&&console.warn('Select2: The language file for "'+Fi+'" could not be automatically loaded. A fallback will be used instead.')}}else Br.isPlainObject(Fi)?Pi=new nn(Fi):Pi=Fi;si.extend(Pi)}return si},wi.prototype.set=function(Yn,Vn){var si=Br.camelCase(Yn),Ri={};Ri[si]=Vn;var Pi=rn._convertData(Ri);Br.extend(!0,this.defaults,Pi)};var Ni=new wi;return Ni}),$r.define("select2/options",["jquery","./defaults","./utils"],function(Br,zr,Vr){function jr(Gr,Wr){this.options=Gr,Wr!=null&&this.fromElement(Wr),Wr!=null&&(this.options=zr.applyFromElement(this.options,Wr)),this.options=zr.apply(this.options)}return jr.prototype.fromElement=function(Gr){var Wr=["select2"];this.options.multiple==null&&(this.options.multiple=Gr.prop("multiple")),this.options.disabled==null&&(this.options.disabled=Gr.prop("disabled")),this.options.autocomplete==null&&Gr.prop("autocomplete")&&(this.options.autocomplete=Gr.prop("autocomplete")),this.options.dir==null&&(Gr.prop("dir")?this.options.dir=Gr.prop("dir"):Gr.closest("[dir]").prop("dir")?this.options.dir=Gr.closest("[dir]").prop("dir"):this.options.dir="ltr"),Gr.prop("disabled",this.options.disabled),Gr.prop("multiple",this.options.multiple),Vr.GetData(Gr[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),Vr.StoreData(Gr[0],"data",Vr.GetData(Gr[0],"select2Tags")),Vr.StoreData(Gr[0],"tags",!0)),Vr.GetData(Gr[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),Gr.attr("ajax--url",Vr.GetData(Gr[0],"ajaxUrl")),Vr.StoreData(Gr[0],"ajax-Url",Vr.GetData(Gr[0],"ajaxUrl")));var Kr={};function Zr(An,vn){return vn.toUpperCase()}for(var Jr=0;Jr<Gr[0].attributes.length;Jr++){var rn=Gr[0].attributes[Jr].name,nn="data-";if(rn.substr(0,nn.length)==nn){var ln=rn.substring(nn.length),cn=Vr.GetData(Gr[0],ln),hn=ln.replace(/-([a-z])/g,Zr);Kr[hn]=cn}}Br.fn.jquery&&Br.fn.jquery.substr(0,2)=="1."&&Gr[0].dataset&&(Kr=Br.extend(!0,{},Gr[0].dataset,Kr));var mn=Br.extend(!0,{},Vr.GetData(Gr[0]),Kr);mn=Vr._convertData(mn);for(var bn in mn)Wr.indexOf(bn)>-1||(Br.isPlainObject(this.options[bn])?Br.extend(this.options[bn],mn[bn]):this.options[bn]=mn[bn]);return this},jr.prototype.get=function(Gr){return this.options[Gr]},jr.prototype.set=function(Gr,Wr){this.options[Gr]=Wr},jr}),$r.define("select2/core",["jquery","./options","./utils","./keys"],function(Br,zr,Vr,jr){var Gr=function(Wr,Kr){Vr.GetData(Wr[0],"select2")!=null&&Vr.GetData(Wr[0],"select2").destroy(),this.$element=Wr,this.id=this._generateId(Wr),Kr=Kr||{},this.options=new zr(Kr,Wr),Gr.__super__.constructor.call(this);var Zr=Wr.attr("tabindex")||0;Vr.StoreData(Wr[0],"old-tabindex",Zr),Wr.attr("tabindex","-1");var Jr=this.options.get("dataAdapter");this.dataAdapter=new Jr(Wr,this.options);var rn=this.render();this._placeContainer(rn);var nn=this.options.get("selectionAdapter");this.selection=new nn(Wr,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,rn);var ln=this.options.get("dropdownAdapter");this.dropdown=new ln(Wr,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,rn);var cn=this.options.get("resultsAdapter");this.results=new cn(Wr,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var hn=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(mn){hn.trigger("selection:update",{data:mn})}),Wr[0].classList.add("select2-hidden-accessible"),Wr.attr("aria-hidden","true"),this._syncAttributes(),Vr.StoreData(Wr[0],"select2",this),Wr.data("select2",this)};return Vr.Extend(Gr,Vr.Observable),Gr.prototype._generateId=function(Wr){var Kr="";return Wr.attr("id")!=null?Kr=Wr.attr("id"):Wr.attr("name")!=null?Kr=Wr.attr("name")+"-"+Vr.generateChars(2):Kr=Vr.generateChars(4),Kr=Kr.replace(/(:|\.|\[|\]|,)/g,""),Kr="select2-"+Kr,Kr},Gr.prototype._placeContainer=function(Wr){Wr.insertAfter(this.$element);var Kr=this._resolveWidth(this.$element,this.options.get("width"));Kr!=null&&Wr.css("width",Kr)},Gr.prototype._resolveWidth=function(Wr,Kr){var Zr=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(Kr=="resolve"){var Jr=this._resolveWidth(Wr,"style");return Jr??this._resolveWidth(Wr,"element")}if(Kr=="element"){var rn=Wr.outerWidth(!1);return rn<=0?"auto":rn+"px"}if(Kr=="style"){var nn=Wr.attr("style");if(typeof nn!="string")return null;for(var ln=nn.split(";"),cn=0,hn=ln.length;cn<hn;cn=cn+1){var mn=ln[cn].replace(/\s/g,""),bn=mn.match(Zr);if(bn!==null&&bn.length>=1)return bn[1]}return null}if(Kr=="computedstyle"){var An=window.getComputedStyle(Wr[0]);return An.width}return Kr},Gr.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},Gr.prototype._registerDomEvents=function(){var Wr=this;this.$element.on("change.select2",function(){Wr.dataAdapter.current(function(Kr){Wr.trigger("selection:update",{data:Kr})})}),this.$element.on("focus.select2",function(Kr){Wr.trigger("focus",Kr)}),this._syncA=Vr.bind(this._syncAttributes,this),this._syncS=Vr.bind(this._syncSubtree,this),this._observer=new window.MutationObserver(function(Kr){Wr._syncA(),Wr._syncS(Kr)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},Gr.prototype._registerDataEvents=function(){var Wr=this;this.dataAdapter.on("*",function(Kr,Zr){Wr.trigger(Kr,Zr)})},Gr.prototype._registerSelectionEvents=function(){var Wr=this,Kr=["toggle","focus"];this.selection.on("toggle",function(){Wr.toggleDropdown()}),this.selection.on("focus",function(Zr){Wr.focus(Zr)}),this.selection.on("*",function(Zr,Jr){Kr.indexOf(Zr)===-1&&Wr.trigger(Zr,Jr)})},Gr.prototype._registerDropdownEvents=function(){var Wr=this;this.dropdown.on("*",function(Kr,Zr){Wr.trigger(Kr,Zr)})},Gr.prototype._registerResultsEvents=function(){var Wr=this;this.results.on("*",function(Kr,Zr){Wr.trigger(Kr,Zr)})},Gr.prototype._registerEvents=function(){var Wr=this;this.on("open",function(){Wr.$container[0].classList.add("select2-container--open")}),this.on("close",function(){Wr.$container[0].classList.remove("select2-container--open")}),this.on("enable",function(){Wr.$container[0].classList.remove("select2-container--disabled")}),this.on("disable",function(){Wr.$container[0].classList.add("select2-container--disabled")}),this.on("blur",function(){Wr.$container[0].classList.remove("select2-container--focus")}),this.on("query",function(Kr){Wr.isOpen()||Wr.trigger("open",{}),this.dataAdapter.query(Kr,function(Zr){Wr.trigger("results:all",{data:Zr,query:Kr})})}),this.on("query:append",function(Kr){this.dataAdapter.query(Kr,function(Zr){Wr.trigger("results:append",{data:Zr,query:Kr})})}),this.on("keypress",function(Kr){var Zr=Kr.which;Wr.isOpen()?Zr===jr.ESC||Zr===jr.UP&&Kr.altKey?(Wr.close(Kr),Kr.preventDefault()):Zr===jr.ENTER||Zr===jr.TAB?(Wr.trigger("results:select",{}),Kr.preventDefault()):Zr===jr.SPACE&&Kr.ctrlKey?(Wr.trigger("results:toggle",{}),Kr.preventDefault()):Zr===jr.UP?(Wr.trigger("results:previous",{}),Kr.preventDefault()):Zr===jr.DOWN&&(Wr.trigger("results:next",{}),Kr.preventDefault()):(Zr===jr.ENTER||Zr===jr.SPACE||Zr===jr.DOWN&&Kr.altKey)&&(Wr.open(),Kr.preventDefault())})},Gr.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},Gr.prototype._isChangeMutation=function(Wr){var Kr=this;if(Wr.addedNodes&&Wr.addedNodes.length>0)for(var Zr=0;Zr<Wr.addedNodes.length;Zr++){var Jr=Wr.addedNodes[Zr];if(Jr.selected)return!0}else{if(Wr.removedNodes&&Wr.removedNodes.length>0)return!0;if(Array.isArray(Wr))return Wr.some(function(rn){return Kr._isChangeMutation(rn)})}return!1},Gr.prototype._syncSubtree=function(Wr){var Kr=this._isChangeMutation(Wr),Zr=this;Kr&&this.dataAdapter.current(function(Jr){Zr.trigger("selection:update",{data:Jr})})},Gr.prototype.trigger=function(Wr,Kr){var Zr=Gr.__super__.trigger,Jr={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(Kr===void 0&&(Kr={}),Wr in Jr){var rn=Jr[Wr],nn={prevented:!1,name:Wr,args:Kr};if(Zr.call(this,rn,nn),nn.prevented){Kr.prevented=!0;return}}Zr.call(this,Wr,Kr)},Gr.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},Gr.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},Gr.prototype.close=function(Wr){this.isOpen()&&this.trigger("close",{originalEvent:Wr})},Gr.prototype.isEnabled=function(){return!this.isDisabled()},Gr.prototype.isDisabled=function(){return this.options.get("disabled")},Gr.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},Gr.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},Gr.prototype.focus=function(Wr){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},Gr.prototype.enable=function(Wr){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(Wr==null||Wr.length===0)&&(Wr=[!0]);var Kr=!Wr[0];this.$element.prop("disabled",Kr)},Gr.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var Wr=[];return this.dataAdapter.current(function(Kr){Wr=Kr}),Wr},Gr.prototype.val=function(Wr){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),Wr==null||Wr.length===0)return this.$element.val();var Kr=Wr[0];Array.isArray(Kr)&&(Kr=Kr.map(function(Zr){return Zr.toString()})),this.$element.val(Kr).trigger("input").trigger("change")},Gr.prototype.destroy=function(){Vr.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",Vr.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),Vr.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},Gr.prototype.render=function(){var Wr=Br('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return Wr.attr("dir",this.options.get("dir")),this.$container=Wr,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),Vr.StoreData(Wr[0],"element",this.$element),Wr},Gr}),$r.define("jquery-mousewheel",["jquery"],function(Br){return Br}),$r.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(Br,zr,Vr,jr,Gr){if(Br.fn.select2==null){var Wr=["open","close","destroy"];Br.fn.select2=function(Kr){if(Kr=Kr||{},typeof Kr=="object")return this.each(function(){var rn=Br.extend(!0,{},Kr);new Vr(Br(this),rn)}),this;if(typeof Kr=="string"){var Zr,Jr=Array.prototype.slice.call(arguments,1);return this.each(function(){var rn=Gr.GetData(this,"select2");rn==null&&window.console&&console.error&&console.error("The select2('"+Kr+"') method was called on an element that is not using Select2."),Zr=rn[Kr].apply(rn,Jr)}),Wr.indexOf(Kr)>-1?this:Zr}else throw new Error("Invalid arguments for Select2: "+Kr)}}return Br.fn.select2.defaults==null&&(Br.fn.select2.defaults=jr),Vr}),{define:$r.define,require:$r.require}}(),Mr=Dr.require("jquery.select2");return Be.fn.select2.amd=Dr,Mr})})(select2$2);var select2Exports=select2$2.exports;const select2$1=getDefaultExportFromCjs(select2Exports);var daterangepicker$1={exports:{}};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(_r){hookCallback=_r}function isArray$3(_r){return _r instanceof Array||Object.prototype.toString.call(_r)==="[object Array]"}function isObject$5(_r){return _r!=null&&Object.prototype.toString.call(_r)==="[object Object]"}function hasOwnProp(_r,Be){return Object.prototype.hasOwnProperty.call(_r,Be)}function isObjectEmpty(_r){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(_r).length===0;var Be;for(Be in _r)if(hasOwnProp(_r,Be))return!1;return!0}function isUndefined(_r){return _r===void 0}function isNumber$1(_r){return typeof _r=="number"||Object.prototype.toString.call(_r)==="[object Number]"}function isDate(_r){return _r instanceof Date||Object.prototype.toString.call(_r)==="[object Date]"}function map$2(_r,Be){var Dr=[],Mr,$r=_r.length;for(Mr=0;Mr<$r;++Mr)Dr.push(Be(_r[Mr],Mr));return Dr}function extend$3(_r,Be){for(var Dr in Be)hasOwnProp(Be,Dr)&&(_r[Dr]=Be[Dr]);return hasOwnProp(Be,"toString")&&(_r.toString=Be.toString),hasOwnProp(Be,"valueOf")&&(_r.valueOf=Be.valueOf),_r}function createUTC(_r,Be,Dr,Mr){return createLocalOrUTC(_r,Be,Dr,Mr,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(_r){return _r._pf==null&&(_r._pf=defaultParsingFlags()),_r._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(_r){var Be=Object(this),Dr=Be.length>>>0,Mr;for(Mr=0;Mr<Dr;Mr++)if(Mr in Be&&_r.call(this,Be[Mr],Mr,Be))return!0;return!1};function isValid(_r){if(_r._isValid==null){var Be=getParsingFlags(_r),Dr=some.call(Be.parsedDateParts,function($r){return $r!=null}),Mr=!isNaN(_r._d.getTime())&&Be.overflow<0&&!Be.empty&&!Be.invalidEra&&!Be.invalidMonth&&!Be.invalidWeekday&&!Be.weekdayMismatch&&!Be.nullInput&&!Be.invalidFormat&&!Be.userInvalidated&&(!Be.meridiem||Be.meridiem&&Dr);if(_r._strict&&(Mr=Mr&&Be.charsLeftOver===0&&Be.unusedTokens.length===0&&Be.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(_r))_r._isValid=Mr;else return Mr}return _r._isValid}function createInvalid(_r){var Be=createUTC(NaN);return _r!=null?extend$3(getParsingFlags(Be),_r):getParsingFlags(Be).userInvalidated=!0,Be}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(_r,Be){var Dr,Mr,$r,Br=momentProperties.length;if(isUndefined(Be._isAMomentObject)||(_r._isAMomentObject=Be._isAMomentObject),isUndefined(Be._i)||(_r._i=Be._i),isUndefined(Be._f)||(_r._f=Be._f),isUndefined(Be._l)||(_r._l=Be._l),isUndefined(Be._strict)||(_r._strict=Be._strict),isUndefined(Be._tzm)||(_r._tzm=Be._tzm),isUndefined(Be._isUTC)||(_r._isUTC=Be._isUTC),isUndefined(Be._offset)||(_r._offset=Be._offset),isUndefined(Be._pf)||(_r._pf=getParsingFlags(Be)),isUndefined(Be._locale)||(_r._locale=Be._locale),Br>0)for(Dr=0;Dr<Br;Dr++)Mr=momentProperties[Dr],$r=Be[Mr],isUndefined($r)||(_r[Mr]=$r);return _r}function Moment(_r){copyConfig(this,_r),this._d=new Date(_r._d!=null?_r._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(_r){return _r instanceof Moment||_r!=null&&_r._isAMomentObject!=null}function warn$2(_r){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+_r)}function deprecate(_r,Be){var Dr=!0;return extend$3(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,_r),Dr){var Mr=[],$r,Br,zr,Vr=arguments.length;for(Br=0;Br<Vr;Br++){if($r="",typeof arguments[Br]=="object"){$r+=`
[`+Br+"] ";for(zr in arguments[0])hasOwnProp(arguments[0],zr)&&($r+=zr+": "+arguments[0][zr]+", ");$r=$r.slice(0,-2)}else $r=arguments[Br];Mr.push($r)}warn$2(_r+`
Arguments: `+Array.prototype.slice.call(Mr).join("")+`
`+new Error().stack),Dr=!1}return Be.apply(this,arguments)},Be)}var deprecations={};function deprecateSimple(_r,Be){hooks.deprecationHandler!=null&&hooks.deprecationHandler(_r,Be),deprecations[_r]||(warn$2(Be),deprecations[_r]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$1(_r){return typeof Function<"u"&&_r instanceof Function||Object.prototype.toString.call(_r)==="[object Function]"}function set$3(_r){var Be,Dr;for(Dr in _r)hasOwnProp(_r,Dr)&&(Be=_r[Dr],isFunction$1(Be)?this[Dr]=Be:this["_"+Dr]=Be);this._config=_r,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(_r,Be){var Dr=extend$3({},_r),Mr;for(Mr in Be)hasOwnProp(Be,Mr)&&(isObject$5(_r[Mr])&&isObject$5(Be[Mr])?(Dr[Mr]={},extend$3(Dr[Mr],_r[Mr]),extend$3(Dr[Mr],Be[Mr])):Be[Mr]!=null?Dr[Mr]=Be[Mr]:delete Dr[Mr]);for(Mr in _r)hasOwnProp(_r,Mr)&&!hasOwnProp(Be,Mr)&&isObject$5(_r[Mr])&&(Dr[Mr]=extend$3({},Dr[Mr]));return Dr}function Locale(_r){_r!=null&&this.set(_r)}var keys$1;Object.keys?keys$1=Object.keys:keys$1=function(_r){var Be,Dr=[];for(Be in _r)hasOwnProp(_r,Be)&&Dr.push(Be);return Dr};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(_r,Be,Dr){var Mr=this._calendar[_r]||this._calendar.sameElse;return isFunction$1(Mr)?Mr.call(Be,Dr):Mr}function zeroFill(_r,Be,Dr){var Mr=""+Math.abs(_r),$r=Be-Mr.length,Br=_r>=0;return(Br?Dr?"+":"":"-")+Math.pow(10,Math.max(0,$r)).toString().substr(1)+Mr}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(_r,Be,Dr,Mr){var $r=Mr;typeof Mr=="string"&&($r=function(){return this[Mr]()}),_r&&(formatTokenFunctions[_r]=$r),Be&&(formatTokenFunctions[Be[0]]=function(){return zeroFill($r.apply(this,arguments),Be[1],Be[2])}),Dr&&(formatTokenFunctions[Dr]=function(){return this.localeData().ordinal($r.apply(this,arguments),_r)})}function removeFormattingTokens(_r){return _r.match(/\[[\s\S]/)?_r.replace(/^\[|\]$/g,""):_r.replace(/\\/g,"")}function makeFormatFunction(_r){var Be=_r.match(formattingTokens),Dr,Mr;for(Dr=0,Mr=Be.length;Dr<Mr;Dr++)formatTokenFunctions[Be[Dr]]?Be[Dr]=formatTokenFunctions[Be[Dr]]:Be[Dr]=removeFormattingTokens(Be[Dr]);return function($r){var Br="",zr;for(zr=0;zr<Mr;zr++)Br+=isFunction$1(Be[zr])?Be[zr].call($r,_r):Be[zr];return Br}}function formatMoment(_r,Be){return _r.isValid()?(Be=expandFormat(Be,_r.localeData()),formatFunctions[Be]=formatFunctions[Be]||makeFormatFunction(Be),formatFunctions[Be](_r)):_r.localeData().invalidDate()}function expandFormat(_r,Be){var Dr=5;function Mr($r){return Be.longDateFormat($r)||$r}for(localFormattingTokens.lastIndex=0;Dr>=0&&localFormattingTokens.test(_r);)_r=_r.replace(localFormattingTokens,Mr),localFormattingTokens.lastIndex=0,Dr-=1;return _r}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(_r){var Be=this._longDateFormat[_r],Dr=this._longDateFormat[_r.toUpperCase()];return Be||!Dr?Be:(this._longDateFormat[_r]=Dr.match(formattingTokens).map(function(Mr){return Mr==="MMMM"||Mr==="MM"||Mr==="DD"||Mr==="dddd"?Mr.slice(1):Mr}).join(""),this._longDateFormat[_r])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal(_r){return this._ordinal.replace("%d",_r)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(_r,Be,Dr,Mr){var $r=this._relativeTime[Dr];return isFunction$1($r)?$r(_r,Be,Dr,Mr):$r.replace(/%d/i,_r)}function pastFuture(_r,Be){var Dr=this._relativeTime[_r>0?"future":"past"];return isFunction$1(Dr)?Dr(Be):Dr.replace(/%s/i,Be)}var aliases={};function addUnitAlias(_r,Be){var Dr=_r.toLowerCase();aliases[Dr]=aliases[Dr+"s"]=aliases[Be]=_r}function normalizeUnits(_r){return typeof _r=="string"?aliases[_r]||aliases[_r.toLowerCase()]:void 0}function normalizeObjectUnits(_r){var Be={},Dr,Mr;for(Mr in _r)hasOwnProp(_r,Mr)&&(Dr=normalizeUnits(Mr),Dr&&(Be[Dr]=_r[Mr]));return Be}var priorities={};function addUnitPriority(_r,Be){priorities[_r]=Be}function getPrioritizedUnits(_r){var Be=[],Dr;for(Dr in _r)hasOwnProp(_r,Dr)&&Be.push({unit:Dr,priority:priorities[Dr]});return Be.sort(function(Mr,$r){return Mr.priority-$r.priority}),Be}function isLeapYear(_r){return _r%4===0&&_r%100!==0||_r%400===0}function absFloor(_r){return _r<0?Math.ceil(_r)||0:Math.floor(_r)}function toInt(_r){var Be=+_r,Dr=0;return Be!==0&&isFinite(Be)&&(Dr=absFloor(Be)),Dr}function makeGetSet(_r,Be){return function(Dr){return Dr!=null?(set$1$2(this,_r,Dr),hooks.updateOffset(this,Be),this):get$2(this,_r)}}function get$2(_r,Be){return _r.isValid()?_r._d["get"+(_r._isUTC?"UTC":"")+Be]():NaN}function set$1$2(_r,Be,Dr){_r.isValid()&&!isNaN(Dr)&&(Be==="FullYear"&&isLeapYear(_r.year())&&_r.month()===1&&_r.date()===29?(Dr=toInt(Dr),_r._d["set"+(_r._isUTC?"UTC":"")+Be](Dr,_r.month(),daysInMonth(Dr,_r.month()))):_r._d["set"+(_r._isUTC?"UTC":"")+Be](Dr))}function stringGet(_r){return _r=normalizeUnits(_r),isFunction$1(this[_r])?this[_r]():this}function stringSet(_r,Be){if(typeof _r=="object"){_r=normalizeObjectUnits(_r);var Dr=getPrioritizedUnits(_r),Mr,$r=Dr.length;for(Mr=0;Mr<$r;Mr++)this[Dr[Mr].unit](_r[Dr[Mr].unit])}else if(_r=normalizeUnits(_r),isFunction$1(this[_r]))return this[_r](Be);return this}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,regexes;regexes={};function addRegexToken(_r,Be,Dr){regexes[_r]=isFunction$1(Be)?Be:function(Mr,$r){return Mr&&Dr?Dr:Be}}function getParseRegexForToken(_r,Be){return hasOwnProp(regexes,_r)?regexes[_r](Be._strict,Be._locale):new RegExp(unescapeFormat(_r))}function unescapeFormat(_r){return regexEscape(_r.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Be,Dr,Mr,$r,Br){return Dr||Mr||$r||Br}))}function regexEscape(_r){return _r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(_r,Be){var Dr,Mr=Be,$r;for(typeof _r=="string"&&(_r=[_r]),isNumber$1(Be)&&(Mr=function(Br,zr){zr[Be]=toInt(Br)}),$r=_r.length,Dr=0;Dr<$r;Dr++)tokens[_r[Dr]]=Mr}function addWeekParseToken(_r,Be){addParseToken(_r,function(Dr,Mr,$r,Br){$r._w=$r._w||{},Be(Dr,$r._w,$r,Br)})}function addTimeToArrayFromToken(_r,Be,Dr){Be!=null&&hasOwnProp(tokens,_r)&&tokens[_r](Be,Dr._a,Dr,_r)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;function mod(_r,Be){return(_r%Be+Be)%Be}var indexOf$1;Array.prototype.indexOf?indexOf$1=Array.prototype.indexOf:indexOf$1=function(_r){var Be;for(Be=0;Be<this.length;++Be)if(this[Be]===_r)return Be;return-1};function daysInMonth(_r,Be){if(isNaN(_r)||isNaN(Be))return NaN;var Dr=mod(Be,12);return _r+=(Be-Dr)/12,Dr===1?isLeapYear(_r)?29:28:31-Dr%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(_r){return this.localeData().monthsShort(this,_r)});addFormatToken("MMMM",0,0,function(_r){return this.localeData().months(this,_r)});addUnitAlias("month","M");addUnitPriority("month",8);addRegexToken("M",match1to2);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(_r,Be){return Be.monthsShortRegex(_r)});addRegexToken("MMMM",function(_r,Be){return Be.monthsRegex(_r)});addParseToken(["M","MM"],function(_r,Be){Be[MONTH]=toInt(_r)-1});addParseToken(["MMM","MMMM"],function(_r,Be,Dr,Mr){var $r=Dr._locale.monthsParse(_r,Mr,Dr._strict);$r!=null?Be[MONTH]=$r:getParsingFlags(Dr).invalidMonth=_r});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(_r,Be){return _r?isArray$3(this._months)?this._months[_r.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(Be)?"format":"standalone"][_r.month()]:isArray$3(this._months)?this._months:this._months.standalone}function localeMonthsShort(_r,Be){return _r?isArray$3(this._monthsShort)?this._monthsShort[_r.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(Be)?"format":"standalone"][_r.month()]:isArray$3(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(_r,Be,Dr){var Mr,$r,Br,zr=_r.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Mr=0;Mr<12;++Mr)Br=createUTC([2e3,Mr]),this._shortMonthsParse[Mr]=this.monthsShort(Br,"").toLocaleLowerCase(),this._longMonthsParse[Mr]=this.months(Br,"").toLocaleLowerCase();return Dr?Be==="MMM"?($r=indexOf$1.call(this._shortMonthsParse,zr),$r!==-1?$r:null):($r=indexOf$1.call(this._longMonthsParse,zr),$r!==-1?$r:null):Be==="MMM"?($r=indexOf$1.call(this._shortMonthsParse,zr),$r!==-1?$r:($r=indexOf$1.call(this._longMonthsParse,zr),$r!==-1?$r:null)):($r=indexOf$1.call(this._longMonthsParse,zr),$r!==-1?$r:($r=indexOf$1.call(this._shortMonthsParse,zr),$r!==-1?$r:null))}function localeMonthsParse(_r,Be,Dr){var Mr,$r,Br;if(this._monthsParseExact)return handleStrictParse.call(this,_r,Be,Dr);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Mr=0;Mr<12;Mr++){if($r=createUTC([2e3,Mr]),Dr&&!this._longMonthsParse[Mr]&&(this._longMonthsParse[Mr]=new RegExp("^"+this.months($r,"").replace(".","")+"$","i"),this._shortMonthsParse[Mr]=new RegExp("^"+this.monthsShort($r,"").replace(".","")+"$","i")),!Dr&&!this._monthsParse[Mr]&&(Br="^"+this.months($r,"")+"|^"+this.monthsShort($r,""),this._monthsParse[Mr]=new RegExp(Br.replace(".",""),"i")),Dr&&Be==="MMMM"&&this._longMonthsParse[Mr].test(_r))return Mr;if(Dr&&Be==="MMM"&&this._shortMonthsParse[Mr].test(_r))return Mr;if(!Dr&&this._monthsParse[Mr].test(_r))return Mr}}function setMonth(_r,Be){var Dr;if(!_r.isValid())return _r;if(typeof Be=="string"){if(/^\d+$/.test(Be))Be=toInt(Be);else if(Be=_r.localeData().monthsParse(Be),!isNumber$1(Be))return _r}return Dr=Math.min(_r.date(),daysInMonth(_r.year(),Be)),_r._d["set"+(_r._isUTC?"UTC":"")+"Month"](Be,Dr),_r}function getSetMonth(_r){return _r!=null?(setMonth(this,_r),hooks.updateOffset(this,!0),this):get$2(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(_r){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),_r?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&_r?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(_r){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),_r?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&_r?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function _r(zr,Vr){return Vr.length-zr.length}var Be=[],Dr=[],Mr=[],$r,Br;for($r=0;$r<12;$r++)Br=createUTC([2e3,$r]),Be.push(this.monthsShort(Br,"")),Dr.push(this.months(Br,"")),Mr.push(this.months(Br,"")),Mr.push(this.monthsShort(Br,""));for(Be.sort(_r),Dr.sort(_r),Mr.sort(_r),$r=0;$r<12;$r++)Be[$r]=regexEscape(Be[$r]),Dr[$r]=regexEscape(Dr[$r]);for($r=0;$r<24;$r++)Mr[$r]=regexEscape(Mr[$r]);this._monthsRegex=new RegExp("^("+Mr.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Dr.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Be.join("|")+")","i")}addFormatToken("Y",0,0,function(){var _r=this.year();return _r<=9999?zeroFill(_r,4):"+"+_r});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addUnitAlias("year","y");addUnitPriority("year",1);addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(_r,Be){Be[YEAR]=_r.length===2?hooks.parseTwoDigitYear(_r):toInt(_r)});addParseToken("YY",function(_r,Be){Be[YEAR]=hooks.parseTwoDigitYear(_r)});addParseToken("Y",function(_r,Be){Be[YEAR]=parseInt(_r,10)});function daysInYear(_r){return isLeapYear(_r)?366:365}hooks.parseTwoDigitYear=function(_r){return toInt(_r)+(toInt(_r)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function createDate(_r,Be,Dr,Mr,$r,Br,zr){var Vr;return _r<100&&_r>=0?(Vr=new Date(_r+400,Be,Dr,Mr,$r,Br,zr),isFinite(Vr.getFullYear())&&Vr.setFullYear(_r)):Vr=new Date(_r,Be,Dr,Mr,$r,Br,zr),Vr}function createUTCDate(_r){var Be,Dr;return _r<100&&_r>=0?(Dr=Array.prototype.slice.call(arguments),Dr[0]=_r+400,Be=new Date(Date.UTC.apply(null,Dr)),isFinite(Be.getUTCFullYear())&&Be.setUTCFullYear(_r)):Be=new Date(Date.UTC.apply(null,arguments)),Be}function firstWeekOffset(_r,Be,Dr){var Mr=7+Be-Dr,$r=(7+createUTCDate(_r,0,Mr).getUTCDay()-Be)%7;return-$r+Mr-1}function dayOfYearFromWeeks(_r,Be,Dr,Mr,$r){var Br=(7+Dr-Mr)%7,zr=firstWeekOffset(_r,Mr,$r),Vr=1+7*(Be-1)+Br+zr,jr,Gr;return Vr<=0?(jr=_r-1,Gr=daysInYear(jr)+Vr):Vr>daysInYear(_r)?(jr=_r+1,Gr=Vr-daysInYear(_r)):(jr=_r,Gr=Vr),{year:jr,dayOfYear:Gr}}function weekOfYear(_r,Be,Dr){var Mr=firstWeekOffset(_r.year(),Be,Dr),$r=Math.floor((_r.dayOfYear()-Mr-1)/7)+1,Br,zr;return $r<1?(zr=_r.year()-1,Br=$r+weeksInYear(zr,Be,Dr)):$r>weeksInYear(_r.year(),Be,Dr)?(Br=$r-weeksInYear(_r.year(),Be,Dr),zr=_r.year()+1):(zr=_r.year(),Br=$r),{week:Br,year:zr}}function weeksInYear(_r,Be,Dr){var Mr=firstWeekOffset(_r,Be,Dr),$r=firstWeekOffset(_r+1,Be,Dr);return(daysInYear(_r)-Mr+$r)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addUnitAlias("week","w");addUnitAlias("isoWeek","W");addUnitPriority("week",5);addUnitPriority("isoWeek",5);addRegexToken("w",match1to2);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(_r,Be,Dr,Mr){Be[Mr.substr(0,1)]=toInt(_r)});function localeWeek(_r){return weekOfYear(_r,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(_r){var Be=this.localeData().week(this);return _r==null?Be:this.add((_r-Be)*7,"d")}function getSetISOWeek(_r){var Be=weekOfYear(this,1,4).week;return _r==null?Be:this.add((_r-Be)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(_r){return this.localeData().weekdaysMin(this,_r)});addFormatToken("ddd",0,0,function(_r){return this.localeData().weekdaysShort(this,_r)});addFormatToken("dddd",0,0,function(_r){return this.localeData().weekdays(this,_r)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addUnitAlias("day","d");addUnitAlias("weekday","e");addUnitAlias("isoWeekday","E");addUnitPriority("day",11);addUnitPriority("weekday",11);addUnitPriority("isoWeekday",11);addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(_r,Be){return Be.weekdaysMinRegex(_r)});addRegexToken("ddd",function(_r,Be){return Be.weekdaysShortRegex(_r)});addRegexToken("dddd",function(_r,Be){return Be.weekdaysRegex(_r)});addWeekParseToken(["dd","ddd","dddd"],function(_r,Be,Dr,Mr){var $r=Dr._locale.weekdaysParse(_r,Mr,Dr._strict);$r!=null?Be.d=$r:getParsingFlags(Dr).invalidWeekday=_r});addWeekParseToken(["d","e","E"],function(_r,Be,Dr,Mr){Be[Mr]=toInt(_r)});function parseWeekday(_r,Be){return typeof _r!="string"?_r:isNaN(_r)?(_r=Be.weekdaysParse(_r),typeof _r=="number"?_r:null):parseInt(_r,10)}function parseIsoWeekday(_r,Be){return typeof _r=="string"?Be.weekdaysParse(_r)%7||7:isNaN(_r)?null:_r}function shiftWeekdays(_r,Be){return _r.slice(Be,7).concat(_r.slice(0,Be))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(_r,Be){var Dr=isArray$3(this._weekdays)?this._weekdays:this._weekdays[_r&&_r!==!0&&this._weekdays.isFormat.test(Be)?"format":"standalone"];return _r===!0?shiftWeekdays(Dr,this._week.dow):_r?Dr[_r.day()]:Dr}function localeWeekdaysShort(_r){return _r===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):_r?this._weekdaysShort[_r.day()]:this._weekdaysShort}function localeWeekdaysMin(_r){return _r===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):_r?this._weekdaysMin[_r.day()]:this._weekdaysMin}function handleStrictParse$1(_r,Be,Dr){var Mr,$r,Br,zr=_r.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Mr=0;Mr<7;++Mr)Br=createUTC([2e3,1]).day(Mr),this._minWeekdaysParse[Mr]=this.weekdaysMin(Br,"").toLocaleLowerCase(),this._shortWeekdaysParse[Mr]=this.weekdaysShort(Br,"").toLocaleLowerCase(),this._weekdaysParse[Mr]=this.weekdays(Br,"").toLocaleLowerCase();return Dr?Be==="dddd"?($r=indexOf$1.call(this._weekdaysParse,zr),$r!==-1?$r:null):Be==="ddd"?($r=indexOf$1.call(this._shortWeekdaysParse,zr),$r!==-1?$r:null):($r=indexOf$1.call(this._minWeekdaysParse,zr),$r!==-1?$r:null):Be==="dddd"?($r=indexOf$1.call(this._weekdaysParse,zr),$r!==-1||($r=indexOf$1.call(this._shortWeekdaysParse,zr),$r!==-1)?$r:($r=indexOf$1.call(this._minWeekdaysParse,zr),$r!==-1?$r:null)):Be==="ddd"?($r=indexOf$1.call(this._shortWeekdaysParse,zr),$r!==-1||($r=indexOf$1.call(this._weekdaysParse,zr),$r!==-1)?$r:($r=indexOf$1.call(this._minWeekdaysParse,zr),$r!==-1?$r:null)):($r=indexOf$1.call(this._minWeekdaysParse,zr),$r!==-1||($r=indexOf$1.call(this._weekdaysParse,zr),$r!==-1)?$r:($r=indexOf$1.call(this._shortWeekdaysParse,zr),$r!==-1?$r:null))}function localeWeekdaysParse(_r,Be,Dr){var Mr,$r,Br;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,_r,Be,Dr);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Mr=0;Mr<7;Mr++){if($r=createUTC([2e3,1]).day(Mr),Dr&&!this._fullWeekdaysParse[Mr]&&(this._fullWeekdaysParse[Mr]=new RegExp("^"+this.weekdays($r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Mr]=new RegExp("^"+this.weekdaysShort($r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Mr]=new RegExp("^"+this.weekdaysMin($r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Mr]||(Br="^"+this.weekdays($r,"")+"|^"+this.weekdaysShort($r,"")+"|^"+this.weekdaysMin($r,""),this._weekdaysParse[Mr]=new RegExp(Br.replace(".",""),"i")),Dr&&Be==="dddd"&&this._fullWeekdaysParse[Mr].test(_r))return Mr;if(Dr&&Be==="ddd"&&this._shortWeekdaysParse[Mr].test(_r))return Mr;if(Dr&&Be==="dd"&&this._minWeekdaysParse[Mr].test(_r))return Mr;if(!Dr&&this._weekdaysParse[Mr].test(_r))return Mr}}function getSetDayOfWeek(_r){if(!this.isValid())return _r!=null?this:NaN;var Be=this._isUTC?this._d.getUTCDay():this._d.getDay();return _r!=null?(_r=parseWeekday(_r,this.localeData()),this.add(_r-Be,"d")):Be}function getSetLocaleDayOfWeek(_r){if(!this.isValid())return _r!=null?this:NaN;var Be=(this.day()+7-this.localeData()._week.dow)%7;return _r==null?Be:this.add(_r-Be,"d")}function getSetISODayOfWeek(_r){if(!this.isValid())return _r!=null?this:NaN;if(_r!=null){var Be=parseIsoWeekday(_r,this.localeData());return this.day(this.day()%7?Be:Be-7)}else return this.day()||7}function weekdaysRegex(_r){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),_r?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&_r?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(_r){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),_r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&_r?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(_r){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),_r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&_r?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function _r(Wr,Kr){return Kr.length-Wr.length}var Be=[],Dr=[],Mr=[],$r=[],Br,zr,Vr,jr,Gr;for(Br=0;Br<7;Br++)zr=createUTC([2e3,1]).day(Br),Vr=regexEscape(this.weekdaysMin(zr,"")),jr=regexEscape(this.weekdaysShort(zr,"")),Gr=regexEscape(this.weekdays(zr,"")),Be.push(Vr),Dr.push(jr),Mr.push(Gr),$r.push(Vr),$r.push(jr),$r.push(Gr);Be.sort(_r),Dr.sort(_r),Mr.sort(_r),$r.sort(_r),this._weekdaysRegex=new RegExp("^("+$r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Mr.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Dr.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Be.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(_r,Be){addFormatToken(_r,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Be)})}meridiem("a",!0);meridiem("A",!1);addUnitAlias("hour","h");addUnitPriority("hour",13);function matchMeridiem(_r,Be){return Be._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2);addRegexToken("h",match1to2);addRegexToken("k",match1to2);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(_r,Be,Dr){var Mr=toInt(_r);Be[HOUR]=Mr===24?0:Mr});addParseToken(["a","A"],function(_r,Be,Dr){Dr._isPm=Dr._locale.isPM(_r),Dr._meridiem=_r});addParseToken(["h","hh"],function(_r,Be,Dr){Be[HOUR]=toInt(_r),getParsingFlags(Dr).bigHour=!0});addParseToken("hmm",function(_r,Be,Dr){var Mr=_r.length-2;Be[HOUR]=toInt(_r.substr(0,Mr)),Be[MINUTE]=toInt(_r.substr(Mr)),getParsingFlags(Dr).bigHour=!0});addParseToken("hmmss",function(_r,Be,Dr){var Mr=_r.length-4,$r=_r.length-2;Be[HOUR]=toInt(_r.substr(0,Mr)),Be[MINUTE]=toInt(_r.substr(Mr,2)),Be[SECOND]=toInt(_r.substr($r)),getParsingFlags(Dr).bigHour=!0});addParseToken("Hmm",function(_r,Be,Dr){var Mr=_r.length-2;Be[HOUR]=toInt(_r.substr(0,Mr)),Be[MINUTE]=toInt(_r.substr(Mr))});addParseToken("Hmmss",function(_r,Be,Dr){var Mr=_r.length-4,$r=_r.length-2;Be[HOUR]=toInt(_r.substr(0,Mr)),Be[MINUTE]=toInt(_r.substr(Mr,2)),Be[SECOND]=toInt(_r.substr($r))});function localeIsPM(_r){return(_r+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(_r,Be,Dr){return _r>11?Dr?"pm":"PM":Dr?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(_r,Be){var Dr,Mr=Math.min(_r.length,Be.length);for(Dr=0;Dr<Mr;Dr+=1)if(_r[Dr]!==Be[Dr])return Dr;return Mr}function normalizeLocale(_r){return _r&&_r.toLowerCase().replace("_","-")}function chooseLocale(_r){for(var Be=0,Dr,Mr,$r,Br;Be<_r.length;){for(Br=normalizeLocale(_r[Be]).split("-"),Dr=Br.length,Mr=normalizeLocale(_r[Be+1]),Mr=Mr?Mr.split("-"):null;Dr>0;){if($r=loadLocale(Br.slice(0,Dr).join("-")),$r)return $r;if(Mr&&Mr.length>=Dr&&commonPrefix(Br,Mr)>=Dr-1)break;Dr--}Be++}return globalLocale}function isLocaleNameSane(_r){return _r.match("^[^/\\\\]*$")!=null}function loadLocale(_r){var Be=null,Dr;if(locales[_r]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(_r))try{Be=globalLocale._abbr,Dr=require,Dr("./locale/"+_r),getSetGlobalLocale(Be)}catch{locales[_r]=null}return locales[_r]}function getSetGlobalLocale(_r,Be){var Dr;return _r&&(isUndefined(Be)?Dr=getLocale(_r):Dr=defineLocale(_r,Be),Dr?globalLocale=Dr:typeof console<"u"&&console.warn&&console.warn("Locale "+_r+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(_r,Be){if(Be!==null){var Dr,Mr=baseConfig;if(Be.abbr=_r,locales[_r]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Mr=locales[_r]._config;else if(Be.parentLocale!=null)if(locales[Be.parentLocale]!=null)Mr=locales[Be.parentLocale]._config;else if(Dr=loadLocale(Be.parentLocale),Dr!=null)Mr=Dr._config;else return localeFamilies[Be.parentLocale]||(localeFamilies[Be.parentLocale]=[]),localeFamilies[Be.parentLocale].push({name:_r,config:Be}),null;return locales[_r]=new Locale(mergeConfigs(Mr,Be)),localeFamilies[_r]&&localeFamilies[_r].forEach(function($r){defineLocale($r.name,$r.config)}),getSetGlobalLocale(_r),locales[_r]}else return delete locales[_r],null}function updateLocale(_r,Be){if(Be!=null){var Dr,Mr,$r=baseConfig;locales[_r]!=null&&locales[_r].parentLocale!=null?locales[_r].set(mergeConfigs(locales[_r]._config,Be)):(Mr=loadLocale(_r),Mr!=null&&($r=Mr._config),Be=mergeConfigs($r,Be),Mr==null&&(Be.abbr=_r),Dr=new Locale(Be),Dr.parentLocale=locales[_r],locales[_r]=Dr),getSetGlobalLocale(_r)}else locales[_r]!=null&&(locales[_r].parentLocale!=null?(locales[_r]=locales[_r].parentLocale,_r===getSetGlobalLocale()&&getSetGlobalLocale(_r)):locales[_r]!=null&&delete locales[_r]);return locales[_r]}function getLocale(_r){var Be;if(_r&&_r._locale&&_r._locale._abbr&&(_r=_r._locale._abbr),!_r)return globalLocale;if(!isArray$3(_r)){if(Be=loadLocale(_r),Be)return Be;_r=[_r]}return chooseLocale(_r)}function listLocales(){return keys$1(locales)}function checkOverflow(_r){var Be,Dr=_r._a;return Dr&&getParsingFlags(_r).overflow===-2&&(Be=Dr[MONTH]<0||Dr[MONTH]>11?MONTH:Dr[DATE]<1||Dr[DATE]>daysInMonth(Dr[YEAR],Dr[MONTH])?DATE:Dr[HOUR]<0||Dr[HOUR]>24||Dr[HOUR]===24&&(Dr[MINUTE]!==0||Dr[SECOND]!==0||Dr[MILLISECOND]!==0)?HOUR:Dr[MINUTE]<0||Dr[MINUTE]>59?MINUTE:Dr[SECOND]<0||Dr[SECOND]>59?SECOND:Dr[MILLISECOND]<0||Dr[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(_r)._overflowDayOfYear&&(Be<YEAR||Be>DATE)&&(Be=DATE),getParsingFlags(_r)._overflowWeeks&&Be===-1&&(Be=WEEK),getParsingFlags(_r)._overflowWeekday&&Be===-1&&(Be=WEEKDAY),getParsingFlags(_r).overflow=Be),_r}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function configFromISO(_r){var Be,Dr,Mr=_r._i,$r=extendedIsoRegex.exec(Mr)||basicIsoRegex.exec(Mr),Br,zr,Vr,jr,Gr=isoDates.length,Wr=isoTimes.length;if($r){for(getParsingFlags(_r).iso=!0,Be=0,Dr=Gr;Be<Dr;Be++)if(isoDates[Be][1].exec($r[1])){zr=isoDates[Be][0],Br=isoDates[Be][2]!==!1;break}if(zr==null){_r._isValid=!1;return}if($r[3]){for(Be=0,Dr=Wr;Be<Dr;Be++)if(isoTimes[Be][1].exec($r[3])){Vr=($r[2]||" ")+isoTimes[Be][0];break}if(Vr==null){_r._isValid=!1;return}}if(!Br&&Vr!=null){_r._isValid=!1;return}if($r[4])if(tzRegex.exec($r[4]))jr="Z";else{_r._isValid=!1;return}_r._f=zr+(Vr||"")+(jr||""),configFromStringAndFormat(_r)}else _r._isValid=!1}function extractFromRFC2822Strings(_r,Be,Dr,Mr,$r,Br){var zr=[untruncateYear(_r),defaultLocaleMonthsShort.indexOf(Be),parseInt(Dr,10),parseInt(Mr,10),parseInt($r,10)];return Br&&zr.push(parseInt(Br,10)),zr}function untruncateYear(_r){var Be=parseInt(_r,10);return Be<=49?2e3+Be:Be<=999?1900+Be:Be}function preprocessRFC2822(_r){return _r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(_r,Be,Dr){if(_r){var Mr=defaultLocaleWeekdaysShort.indexOf(_r),$r=new Date(Be[0],Be[1],Be[2]).getDay();if(Mr!==$r)return getParsingFlags(Dr).weekdayMismatch=!0,Dr._isValid=!1,!1}return!0}function calculateOffset(_r,Be,Dr){if(_r)return obsOffsets[_r];if(Be)return 0;var Mr=parseInt(Dr,10),$r=Mr%100,Br=(Mr-$r)/100;return Br*60+$r}function configFromRFC2822(_r){var Be=rfc2822.exec(preprocessRFC2822(_r._i)),Dr;if(Be){if(Dr=extractFromRFC2822Strings(Be[4],Be[3],Be[2],Be[5],Be[6],Be[7]),!checkWeekday(Be[1],Dr,_r))return;_r._a=Dr,_r._tzm=calculateOffset(Be[8],Be[9],Be[10]),_r._d=createUTCDate.apply(null,_r._a),_r._d.setUTCMinutes(_r._d.getUTCMinutes()-_r._tzm),getParsingFlags(_r).rfc2822=!0}else _r._isValid=!1}function configFromString(_r){var Be=aspNetJsonRegex.exec(_r._i);if(Be!==null){_r._d=new Date(+Be[1]);return}if(configFromISO(_r),_r._isValid===!1)delete _r._isValid;else return;if(configFromRFC2822(_r),_r._isValid===!1)delete _r._isValid;else return;_r._strict?_r._isValid=!1:hooks.createFromInputFallback(_r)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(_r){_r._d=new Date(_r._i+(_r._useUTC?" UTC":""))});function defaults$1(_r,Be,Dr){return _r??Be??Dr}function currentDateArray(_r){var Be=new Date(hooks.now());return _r._useUTC?[Be.getUTCFullYear(),Be.getUTCMonth(),Be.getUTCDate()]:[Be.getFullYear(),Be.getMonth(),Be.getDate()]}function configFromArray(_r){var Be,Dr,Mr=[],$r,Br,zr;if(!_r._d){for($r=currentDateArray(_r),_r._w&&_r._a[DATE]==null&&_r._a[MONTH]==null&&dayOfYearFromWeekInfo(_r),_r._dayOfYear!=null&&(zr=defaults$1(_r._a[YEAR],$r[YEAR]),(_r._dayOfYear>daysInYear(zr)||_r._dayOfYear===0)&&(getParsingFlags(_r)._overflowDayOfYear=!0),Dr=createUTCDate(zr,0,_r._dayOfYear),_r._a[MONTH]=Dr.getUTCMonth(),_r._a[DATE]=Dr.getUTCDate()),Be=0;Be<3&&_r._a[Be]==null;++Be)_r._a[Be]=Mr[Be]=$r[Be];for(;Be<7;Be++)_r._a[Be]=Mr[Be]=_r._a[Be]==null?Be===2?1:0:_r._a[Be];_r._a[HOUR]===24&&_r._a[MINUTE]===0&&_r._a[SECOND]===0&&_r._a[MILLISECOND]===0&&(_r._nextDay=!0,_r._a[HOUR]=0),_r._d=(_r._useUTC?createUTCDate:createDate).apply(null,Mr),Br=_r._useUTC?_r._d.getUTCDay():_r._d.getDay(),_r._tzm!=null&&_r._d.setUTCMinutes(_r._d.getUTCMinutes()-_r._tzm),_r._nextDay&&(_r._a[HOUR]=24),_r._w&&typeof _r._w.d<"u"&&_r._w.d!==Br&&(getParsingFlags(_r).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(_r){var Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr;Be=_r._w,Be.GG!=null||Be.W!=null||Be.E!=null?(Br=1,zr=4,Dr=defaults$1(Be.GG,_r._a[YEAR],weekOfYear(createLocal(),1,4).year),Mr=defaults$1(Be.W,1),$r=defaults$1(Be.E,1),($r<1||$r>7)&&(jr=!0)):(Br=_r._locale._week.dow,zr=_r._locale._week.doy,Gr=weekOfYear(createLocal(),Br,zr),Dr=defaults$1(Be.gg,_r._a[YEAR],Gr.year),Mr=defaults$1(Be.w,Gr.week),Be.d!=null?($r=Be.d,($r<0||$r>6)&&(jr=!0)):Be.e!=null?($r=Be.e+Br,(Be.e<0||Be.e>6)&&(jr=!0)):$r=Br),Mr<1||Mr>weeksInYear(Dr,Br,zr)?getParsingFlags(_r)._overflowWeeks=!0:jr!=null?getParsingFlags(_r)._overflowWeekday=!0:(Vr=dayOfYearFromWeeks(Dr,Mr,$r,Br,zr),_r._a[YEAR]=Vr.year,_r._dayOfYear=Vr.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(_r){if(_r._f===hooks.ISO_8601){configFromISO(_r);return}if(_r._f===hooks.RFC_2822){configFromRFC2822(_r);return}_r._a=[],getParsingFlags(_r).empty=!0;var Be=""+_r._i,Dr,Mr,$r,Br,zr,Vr=Be.length,jr=0,Gr,Wr;for($r=expandFormat(_r._f,_r._locale).match(formattingTokens)||[],Wr=$r.length,Dr=0;Dr<Wr;Dr++)Br=$r[Dr],Mr=(Be.match(getParseRegexForToken(Br,_r))||[])[0],Mr&&(zr=Be.substr(0,Be.indexOf(Mr)),zr.length>0&&getParsingFlags(_r).unusedInput.push(zr),Be=Be.slice(Be.indexOf(Mr)+Mr.length),jr+=Mr.length),formatTokenFunctions[Br]?(Mr?getParsingFlags(_r).empty=!1:getParsingFlags(_r).unusedTokens.push(Br),addTimeToArrayFromToken(Br,Mr,_r)):_r._strict&&!Mr&&getParsingFlags(_r).unusedTokens.push(Br);getParsingFlags(_r).charsLeftOver=Vr-jr,Be.length>0&&getParsingFlags(_r).unusedInput.push(Be),_r._a[HOUR]<=12&&getParsingFlags(_r).bigHour===!0&&_r._a[HOUR]>0&&(getParsingFlags(_r).bigHour=void 0),getParsingFlags(_r).parsedDateParts=_r._a.slice(0),getParsingFlags(_r).meridiem=_r._meridiem,_r._a[HOUR]=meridiemFixWrap(_r._locale,_r._a[HOUR],_r._meridiem),Gr=getParsingFlags(_r).era,Gr!==null&&(_r._a[YEAR]=_r._locale.erasConvertYear(Gr,_r._a[YEAR])),configFromArray(_r),checkOverflow(_r)}function meridiemFixWrap(_r,Be,Dr){var Mr;return Dr==null?Be:_r.meridiemHour!=null?_r.meridiemHour(Be,Dr):(_r.isPM!=null&&(Mr=_r.isPM(Dr),Mr&&Be<12&&(Be+=12),!Mr&&Be===12&&(Be=0)),Be)}function configFromStringAndArray(_r){var Be,Dr,Mr,$r,Br,zr,Vr=!1,jr=_r._f.length;if(jr===0){getParsingFlags(_r).invalidFormat=!0,_r._d=new Date(NaN);return}for($r=0;$r<jr;$r++)Br=0,zr=!1,Be=copyConfig({},_r),_r._useUTC!=null&&(Be._useUTC=_r._useUTC),Be._f=_r._f[$r],configFromStringAndFormat(Be),isValid(Be)&&(zr=!0),Br+=getParsingFlags(Be).charsLeftOver,Br+=getParsingFlags(Be).unusedTokens.length*10,getParsingFlags(Be).score=Br,Vr?Br<Mr&&(Mr=Br,Dr=Be):(Mr==null||Br<Mr||zr)&&(Mr=Br,Dr=Be,zr&&(Vr=!0));extend$3(_r,Dr||Be)}function configFromObject(_r){if(!_r._d){var Be=normalizeObjectUnits(_r._i),Dr=Be.day===void 0?Be.date:Be.day;_r._a=map$2([Be.year,Be.month,Dr,Be.hour,Be.minute,Be.second,Be.millisecond],function(Mr){return Mr&&parseInt(Mr,10)}),configFromArray(_r)}}function createFromConfig(_r){var Be=new Moment(checkOverflow(prepareConfig(_r)));return Be._nextDay&&(Be.add(1,"d"),Be._nextDay=void 0),Be}function prepareConfig(_r){var Be=_r._i,Dr=_r._f;return _r._locale=_r._locale||getLocale(_r._l),Be===null||Dr===void 0&&Be===""?createInvalid({nullInput:!0}):(typeof Be=="string"&&(_r._i=Be=_r._locale.preparse(Be)),isMoment(Be)?new Moment(checkOverflow(Be)):(isDate(Be)?_r._d=Be:isArray$3(Dr)?configFromStringAndArray(_r):Dr?configFromStringAndFormat(_r):configFromInput(_r),isValid(_r)||(_r._d=null),_r))}function configFromInput(_r){var Be=_r._i;isUndefined(Be)?_r._d=new Date(hooks.now()):isDate(Be)?_r._d=new Date(Be.valueOf()):typeof Be=="string"?configFromString(_r):isArray$3(Be)?(_r._a=map$2(Be.slice(0),function(Dr){return parseInt(Dr,10)}),configFromArray(_r)):isObject$5(Be)?configFromObject(_r):isNumber$1(Be)?_r._d=new Date(Be):hooks.createFromInputFallback(_r)}function createLocalOrUTC(_r,Be,Dr,Mr,$r){var Br={};return(Be===!0||Be===!1)&&(Mr=Be,Be=void 0),(Dr===!0||Dr===!1)&&(Mr=Dr,Dr=void 0),(isObject$5(_r)&&isObjectEmpty(_r)||isArray$3(_r)&&_r.length===0)&&(_r=void 0),Br._isAMomentObject=!0,Br._useUTC=Br._isUTC=$r,Br._l=Dr,Br._i=_r,Br._f=Be,Br._strict=Mr,createFromConfig(Br)}function createLocal(_r,Be,Dr,Mr){return createLocalOrUTC(_r,Be,Dr,Mr,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var _r=createLocal.apply(null,arguments);return this.isValid()&&_r.isValid()?_r<this?this:_r:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var _r=createLocal.apply(null,arguments);return this.isValid()&&_r.isValid()?_r>this?this:_r:createInvalid()});function pickBy(_r,Be){var Dr,Mr;if(Be.length===1&&isArray$3(Be[0])&&(Be=Be[0]),!Be.length)return createLocal();for(Dr=Be[0],Mr=1;Mr<Be.length;++Mr)(!Be[Mr].isValid()||Be[Mr][_r](Dr))&&(Dr=Be[Mr]);return Dr}function min$2(){var _r=[].slice.call(arguments,0);return pickBy("isBefore",_r)}function max$2(){var _r=[].slice.call(arguments,0);return pickBy("isAfter",_r)}var now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(_r){var Be,Dr=!1,Mr,$r=ordering.length;for(Be in _r)if(hasOwnProp(_r,Be)&&!(indexOf$1.call(ordering,Be)!==-1&&(_r[Be]==null||!isNaN(_r[Be]))))return!1;for(Mr=0;Mr<$r;++Mr)if(_r[ordering[Mr]]){if(Dr)return!1;parseFloat(_r[ordering[Mr]])!==toInt(_r[ordering[Mr]])&&(Dr=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(_r){var Be=normalizeObjectUnits(_r),Dr=Be.year||0,Mr=Be.quarter||0,$r=Be.month||0,Br=Be.week||Be.isoWeek||0,zr=Be.day||0,Vr=Be.hour||0,jr=Be.minute||0,Gr=Be.second||0,Wr=Be.millisecond||0;this._isValid=isDurationValid(Be),this._milliseconds=+Wr+Gr*1e3+jr*6e4+Vr*1e3*60*60,this._days=+zr+Br*7,this._months=+$r+Mr*3+Dr*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(_r){return _r instanceof Duration}function absRound(_r){return _r<0?Math.round(-1*_r)*-1:Math.round(_r)}function compareArrays(_r,Be,Dr){var Mr=Math.min(_r.length,Be.length),$r=Math.abs(_r.length-Be.length),Br=0,zr;for(zr=0;zr<Mr;zr++)(Dr&&_r[zr]!==Be[zr]||!Dr&&toInt(_r[zr])!==toInt(Be[zr]))&&Br++;return Br+$r}function offset(_r,Be){addFormatToken(_r,0,0,function(){var Dr=this.utcOffset(),Mr="+";return Dr<0&&(Dr=-Dr,Mr="-"),Mr+zeroFill(~~(Dr/60),2)+Be+zeroFill(~~Dr%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(_r,Be,Dr){Dr._useUTC=!0,Dr._tzm=offsetFromString(matchShortOffset,_r)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(_r,Be){var Dr=(Be||"").match(_r),Mr,$r,Br;return Dr===null?null:(Mr=Dr[Dr.length-1]||[],$r=(Mr+"").match(chunkOffset)||["-",0,0],Br=+($r[1]*60)+toInt($r[2]),Br===0?0:$r[0]==="+"?Br:-Br)}function cloneWithOffset(_r,Be){var Dr,Mr;return Be._isUTC?(Dr=Be.clone(),Mr=(isMoment(_r)||isDate(_r)?_r.valueOf():createLocal(_r).valueOf())-Dr.valueOf(),Dr._d.setTime(Dr._d.valueOf()+Mr),hooks.updateOffset(Dr,!1),Dr):createLocal(_r).local()}function getDateOffset(_r){return-Math.round(_r._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(_r,Be,Dr){var Mr=this._offset||0,$r;if(!this.isValid())return _r!=null?this:NaN;if(_r!=null){if(typeof _r=="string"){if(_r=offsetFromString(matchShortOffset,_r),_r===null)return this}else Math.abs(_r)<16&&!Dr&&(_r=_r*60);return!this._isUTC&&Be&&($r=getDateOffset(this)),this._offset=_r,this._isUTC=!0,$r!=null&&this.add($r,"m"),Mr!==_r&&(!Be||this._changeInProgress?addSubtract(this,createDuration(_r-Mr,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Mr:getDateOffset(this)}function getSetZone(_r,Be){return _r!=null?(typeof _r!="string"&&(_r=-_r),this.utcOffset(_r,Be),this):-this.utcOffset()}function setOffsetToUTC(_r){return this.utcOffset(0,_r)}function setOffsetToLocal(_r){return this._isUTC&&(this.utcOffset(0,_r),this._isUTC=!1,_r&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var _r=offsetFromString(matchOffset,this._i);_r!=null?this.utcOffset(_r):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(_r){return this.isValid()?(_r=_r?createLocal(_r).utcOffset():0,(this.utcOffset()-_r)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var _r={},Be;return copyConfig(_r,this),_r=prepareConfig(_r),_r._a?(Be=_r._isUTC?createUTC(_r._a):createLocal(_r._a),this._isDSTShifted=this.isValid()&&compareArrays(_r._a,Be.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(_r,Be){var Dr=_r,Mr=null,$r,Br,zr;return isDuration(_r)?Dr={ms:_r._milliseconds,d:_r._days,M:_r._months}:isNumber$1(_r)||!isNaN(+_r)?(Dr={},Be?Dr[Be]=+_r:Dr.milliseconds=+_r):(Mr=aspNetRegex.exec(_r))?($r=Mr[1]==="-"?-1:1,Dr={y:0,d:toInt(Mr[DATE])*$r,h:toInt(Mr[HOUR])*$r,m:toInt(Mr[MINUTE])*$r,s:toInt(Mr[SECOND])*$r,ms:toInt(absRound(Mr[MILLISECOND]*1e3))*$r}):(Mr=isoRegex.exec(_r))?($r=Mr[1]==="-"?-1:1,Dr={y:parseIso(Mr[2],$r),M:parseIso(Mr[3],$r),w:parseIso(Mr[4],$r),d:parseIso(Mr[5],$r),h:parseIso(Mr[6],$r),m:parseIso(Mr[7],$r),s:parseIso(Mr[8],$r)}):Dr==null?Dr={}:typeof Dr=="object"&&("from"in Dr||"to"in Dr)&&(zr=momentsDifference(createLocal(Dr.from),createLocal(Dr.to)),Dr={},Dr.ms=zr.milliseconds,Dr.M=zr.months),Br=new Duration(Dr),isDuration(_r)&&hasOwnProp(_r,"_locale")&&(Br._locale=_r._locale),isDuration(_r)&&hasOwnProp(_r,"_isValid")&&(Br._isValid=_r._isValid),Br}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(_r,Be){var Dr=_r&&parseFloat(_r.replace(",","."));return(isNaN(Dr)?0:Dr)*Be}function positiveMomentsDifference(_r,Be){var Dr={};return Dr.months=Be.month()-_r.month()+(Be.year()-_r.year())*12,_r.clone().add(Dr.months,"M").isAfter(Be)&&--Dr.months,Dr.milliseconds=+Be-+_r.clone().add(Dr.months,"M"),Dr}function momentsDifference(_r,Be){var Dr;return _r.isValid()&&Be.isValid()?(Be=cloneWithOffset(Be,_r),_r.isBefore(Be)?Dr=positiveMomentsDifference(_r,Be):(Dr=positiveMomentsDifference(Be,_r),Dr.milliseconds=-Dr.milliseconds,Dr.months=-Dr.months),Dr):{milliseconds:0,months:0}}function createAdder(_r,Be){return function(Dr,Mr){var $r,Br;return Mr!==null&&!isNaN(+Mr)&&(deprecateSimple(Be,"moment()."+Be+"(period, number) is deprecated. Please use moment()."+Be+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Br=Dr,Dr=Mr,Mr=Br),$r=createDuration(Dr,Mr),addSubtract(this,$r,_r),this}}function addSubtract(_r,Be,Dr,Mr){var $r=Be._milliseconds,Br=absRound(Be._days),zr=absRound(Be._months);_r.isValid()&&(Mr=Mr??!0,zr&&setMonth(_r,get$2(_r,"Month")+zr*Dr),Br&&set$1$2(_r,"Date",get$2(_r,"Date")+Br*Dr),$r&&_r._d.setTime(_r._d.valueOf()+$r*Dr),Mr&&hooks.updateOffset(_r,Br||zr))}var add$2=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function isString$2(_r){return typeof _r=="string"||_r instanceof String}function isMomentInput(_r){return isMoment(_r)||isDate(_r)||isString$2(_r)||isNumber$1(_r)||isNumberOrStringArray(_r)||isMomentInputObject(_r)||_r===null||_r===void 0}function isMomentInputObject(_r){var Be=isObject$5(_r)&&!isObjectEmpty(_r),Dr=!1,Mr=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],$r,Br,zr=Mr.length;for($r=0;$r<zr;$r+=1)Br=Mr[$r],Dr=Dr||hasOwnProp(_r,Br);return Be&&Dr}function isNumberOrStringArray(_r){var Be=isArray$3(_r),Dr=!1;return Be&&(Dr=_r.filter(function(Mr){return!isNumber$1(Mr)&&isString$2(_r)}).length===0),Be&&Dr}function isCalendarSpec(_r){var Be=isObject$5(_r)&&!isObjectEmpty(_r),Dr=!1,Mr=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],$r,Br;for($r=0;$r<Mr.length;$r+=1)Br=Mr[$r],Dr=Dr||hasOwnProp(_r,Br);return Be&&Dr}function getCalendarFormat(_r,Be){var Dr=_r.diff(Be,"days",!0);return Dr<-6?"sameElse":Dr<-1?"lastWeek":Dr<0?"lastDay":Dr<1?"sameDay":Dr<2?"nextDay":Dr<7?"nextWeek":"sameElse"}function calendar$1(_r,Be){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(_r=arguments[0],Be=void 0):isCalendarSpec(arguments[0])&&(Be=arguments[0],_r=void 0):(_r=void 0,Be=void 0));var Dr=_r||createLocal(),Mr=cloneWithOffset(Dr,this).startOf("day"),$r=hooks.calendarFormat(this,Mr)||"sameElse",Br=Be&&(isFunction$1(Be[$r])?Be[$r].call(this,Dr):Be[$r]);return this.format(Br||this.localeData().calendar($r,this,createLocal(Dr)))}function clone$6(){return new Moment(this)}function isAfter(_r,Be){var Dr=isMoment(_r)?_r:createLocal(_r);return this.isValid()&&Dr.isValid()?(Be=normalizeUnits(Be)||"millisecond",Be==="millisecond"?this.valueOf()>Dr.valueOf():Dr.valueOf()<this.clone().startOf(Be).valueOf()):!1}function isBefore(_r,Be){var Dr=isMoment(_r)?_r:createLocal(_r);return this.isValid()&&Dr.isValid()?(Be=normalizeUnits(Be)||"millisecond",Be==="millisecond"?this.valueOf()<Dr.valueOf():this.clone().endOf(Be).valueOf()<Dr.valueOf()):!1}function isBetween(_r,Be,Dr,Mr){var $r=isMoment(_r)?_r:createLocal(_r),Br=isMoment(Be)?Be:createLocal(Be);return this.isValid()&&$r.isValid()&&Br.isValid()?(Mr=Mr||"()",(Mr[0]==="("?this.isAfter($r,Dr):!this.isBefore($r,Dr))&&(Mr[1]===")"?this.isBefore(Br,Dr):!this.isAfter(Br,Dr))):!1}function isSame(_r,Be){var Dr=isMoment(_r)?_r:createLocal(_r),Mr;return this.isValid()&&Dr.isValid()?(Be=normalizeUnits(Be)||"millisecond",Be==="millisecond"?this.valueOf()===Dr.valueOf():(Mr=Dr.valueOf(),this.clone().startOf(Be).valueOf()<=Mr&&Mr<=this.clone().endOf(Be).valueOf())):!1}function isSameOrAfter(_r,Be){return this.isSame(_r,Be)||this.isAfter(_r,Be)}function isSameOrBefore(_r,Be){return this.isSame(_r,Be)||this.isBefore(_r,Be)}function diff(_r,Be,Dr){var Mr,$r,Br;if(!this.isValid())return NaN;if(Mr=cloneWithOffset(_r,this),!Mr.isValid())return NaN;switch($r=(Mr.utcOffset()-this.utcOffset())*6e4,Be=normalizeUnits(Be),Be){case"year":Br=monthDiff(this,Mr)/12;break;case"month":Br=monthDiff(this,Mr);break;case"quarter":Br=monthDiff(this,Mr)/3;break;case"second":Br=(this-Mr)/1e3;break;case"minute":Br=(this-Mr)/6e4;break;case"hour":Br=(this-Mr)/36e5;break;case"day":Br=(this-Mr-$r)/864e5;break;case"week":Br=(this-Mr-$r)/6048e5;break;default:Br=this-Mr}return Dr?Br:absFloor(Br)}function monthDiff(_r,Be){if(_r.date()<Be.date())return-monthDiff(Be,_r);var Dr=(Be.year()-_r.year())*12+(Be.month()-_r.month()),Mr=_r.clone().add(Dr,"months"),$r,Br;return Be-Mr<0?($r=_r.clone().add(Dr-1,"months"),Br=(Be-Mr)/(Mr-$r)):($r=_r.clone().add(Dr+1,"months"),Br=(Be-Mr)/($r-Mr)),-(Dr+Br)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(_r){if(!this.isValid())return null;var Be=_r!==!0,Dr=Be?this.clone().utc():this;return Dr.year()<0||Dr.year()>9999?formatMoment(Dr,Be?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$1(Date.prototype.toISOString)?Be?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(Dr,"Z")):formatMoment(Dr,Be?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var _r="moment",Be="",Dr,Mr,$r,Br;return this.isLocal()||(_r=this.utcOffset()===0?"moment.utc":"moment.parseZone",Be="Z"),Dr="["+_r+'("]',Mr=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",$r="-MM-DD[T]HH:mm:ss.SSS",Br=Be+'[")]',this.format(Dr+Mr+$r+Br)}function format$2(_r){_r||(_r=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var Be=formatMoment(this,_r);return this.localeData().postformat(Be)}function from(_r,Be){return this.isValid()&&(isMoment(_r)&&_r.isValid()||createLocal(_r).isValid())?createDuration({to:this,from:_r}).locale(this.locale()).humanize(!Be):this.localeData().invalidDate()}function fromNow(_r){return this.from(createLocal(),_r)}function to(_r,Be){return this.isValid()&&(isMoment(_r)&&_r.isValid()||createLocal(_r).isValid())?createDuration({from:this,to:_r}).locale(this.locale()).humanize(!Be):this.localeData().invalidDate()}function toNow(_r){return this.to(createLocal(),_r)}function locale(_r){var Be;return _r===void 0?this._locale._abbr:(Be=getLocale(_r),Be!=null&&(this._locale=Be),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(_r){return _r===void 0?this.localeData():this.locale(_r)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(_r,Be){return(_r%Be+Be)%Be}function localStartOfDate(_r,Be,Dr){return _r<100&&_r>=0?new Date(_r+400,Be,Dr)-MS_PER_400_YEARS:new Date(_r,Be,Dr).valueOf()}function utcStartOfDate(_r,Be,Dr){return _r<100&&_r>=0?Date.UTC(_r+400,Be,Dr)-MS_PER_400_YEARS:Date.UTC(_r,Be,Dr)}function startOf(_r){var Be,Dr;if(_r=normalizeUnits(_r),_r===void 0||_r==="millisecond"||!this.isValid())return this;switch(Dr=this._isUTC?utcStartOfDate:localStartOfDate,_r){case"year":Be=Dr(this.year(),0,1);break;case"quarter":Be=Dr(this.year(),this.month()-this.month()%3,1);break;case"month":Be=Dr(this.year(),this.month(),1);break;case"week":Be=Dr(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":Be=Dr(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":Be=Dr(this.year(),this.month(),this.date());break;case"hour":Be=this._d.valueOf(),Be-=mod$1(Be+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":Be=this._d.valueOf(),Be-=mod$1(Be,MS_PER_MINUTE);break;case"second":Be=this._d.valueOf(),Be-=mod$1(Be,MS_PER_SECOND);break}return this._d.setTime(Be),hooks.updateOffset(this,!0),this}function endOf(_r){var Be,Dr;if(_r=normalizeUnits(_r),_r===void 0||_r==="millisecond"||!this.isValid())return this;switch(Dr=this._isUTC?utcStartOfDate:localStartOfDate,_r){case"year":Be=Dr(this.year()+1,0,1)-1;break;case"quarter":Be=Dr(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":Be=Dr(this.year(),this.month()+1,1)-1;break;case"week":Be=Dr(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":Be=Dr(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":Be=Dr(this.year(),this.month(),this.date()+1)-1;break;case"hour":Be=this._d.valueOf(),Be+=MS_PER_HOUR-mod$1(Be+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":Be=this._d.valueOf(),Be+=MS_PER_MINUTE-mod$1(Be,MS_PER_MINUTE)-1;break;case"second":Be=this._d.valueOf(),Be+=MS_PER_SECOND-mod$1(Be,MS_PER_SECOND)-1;break}return this._d.setTime(Be),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var _r=this;return[_r.year(),_r.month(),_r.date(),_r.hour(),_r.minute(),_r.second(),_r.millisecond()]}function toObject(){var _r=this;return{years:_r.year(),months:_r.month(),date:_r.date(),hours:_r.hours(),minutes:_r.minutes(),seconds:_r.seconds(),milliseconds:_r.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend$3({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(_r,Be,Dr,Mr){var $r=Dr._locale.erasParse(_r,Mr,Dr._strict);$r?getParsingFlags(Dr).era=$r:getParsingFlags(Dr).invalidEra=_r});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(_r,Be,Dr,Mr){var $r;Dr._locale._eraYearOrdinalRegex&&($r=_r.match(Dr._locale._eraYearOrdinalRegex)),Dr._locale.eraYearOrdinalParse?Be[YEAR]=Dr._locale.eraYearOrdinalParse(_r,$r):Be[YEAR]=parseInt(_r,10)});function localeEras(_r,Be){var Dr,Mr,$r,Br=this._eras||getLocale("en")._eras;for(Dr=0,Mr=Br.length;Dr<Mr;++Dr){switch(typeof Br[Dr].since){case"string":$r=hooks(Br[Dr].since).startOf("day"),Br[Dr].since=$r.valueOf();break}switch(typeof Br[Dr].until){case"undefined":Br[Dr].until=1/0;break;case"string":$r=hooks(Br[Dr].until).startOf("day").valueOf(),Br[Dr].until=$r.valueOf();break}}return Br}function localeErasParse(_r,Be,Dr){var Mr,$r,Br=this.eras(),zr,Vr,jr;for(_r=_r.toUpperCase(),Mr=0,$r=Br.length;Mr<$r;++Mr)if(zr=Br[Mr].name.toUpperCase(),Vr=Br[Mr].abbr.toUpperCase(),jr=Br[Mr].narrow.toUpperCase(),Dr)switch(Be){case"N":case"NN":case"NNN":if(Vr===_r)return Br[Mr];break;case"NNNN":if(zr===_r)return Br[Mr];break;case"NNNNN":if(jr===_r)return Br[Mr];break}else if([zr,Vr,jr].indexOf(_r)>=0)return Br[Mr]}function localeErasConvertYear(_r,Be){var Dr=_r.since<=_r.until?1:-1;return Be===void 0?hooks(_r.since).year():hooks(_r.since).year()+(Be-_r.offset)*Dr}function getEraName(){var _r,Be,Dr,Mr=this.localeData().eras();for(_r=0,Be=Mr.length;_r<Be;++_r)if(Dr=this.clone().startOf("day").valueOf(),Mr[_r].since<=Dr&&Dr<=Mr[_r].until||Mr[_r].until<=Dr&&Dr<=Mr[_r].since)return Mr[_r].name;return""}function getEraNarrow(){var _r,Be,Dr,Mr=this.localeData().eras();for(_r=0,Be=Mr.length;_r<Be;++_r)if(Dr=this.clone().startOf("day").valueOf(),Mr[_r].since<=Dr&&Dr<=Mr[_r].until||Mr[_r].until<=Dr&&Dr<=Mr[_r].since)return Mr[_r].narrow;return""}function getEraAbbr(){var _r,Be,Dr,Mr=this.localeData().eras();for(_r=0,Be=Mr.length;_r<Be;++_r)if(Dr=this.clone().startOf("day").valueOf(),Mr[_r].since<=Dr&&Dr<=Mr[_r].until||Mr[_r].until<=Dr&&Dr<=Mr[_r].since)return Mr[_r].abbr;return""}function getEraYear(){var _r,Be,Dr,Mr,$r=this.localeData().eras();for(_r=0,Be=$r.length;_r<Be;++_r)if(Dr=$r[_r].since<=$r[_r].until?1:-1,Mr=this.clone().startOf("day").valueOf(),$r[_r].since<=Mr&&Mr<=$r[_r].until||$r[_r].until<=Mr&&Mr<=$r[_r].since)return(this.year()-hooks($r[_r].since).year())*Dr+$r[_r].offset;return this.year()}function erasNameRegex(_r){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),_r?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(_r){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),_r?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(_r){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),_r?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(_r,Be){return Be.erasAbbrRegex(_r)}function matchEraName(_r,Be){return Be.erasNameRegex(_r)}function matchEraNarrow(_r,Be){return Be.erasNarrowRegex(_r)}function matchEraYearOrdinal(_r,Be){return Be._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var _r=[],Be=[],Dr=[],Mr=[],$r,Br,zr=this.eras();for($r=0,Br=zr.length;$r<Br;++$r)Be.push(regexEscape(zr[$r].name)),_r.push(regexEscape(zr[$r].abbr)),Dr.push(regexEscape(zr[$r].narrow)),Mr.push(regexEscape(zr[$r].name)),Mr.push(regexEscape(zr[$r].abbr)),Mr.push(regexEscape(zr[$r].narrow));this._erasRegex=new RegExp("^("+Mr.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+Be.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+_r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Dr.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(_r,Be){addFormatToken(0,[_r,_r.length],0,Be)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addUnitAlias("weekYear","gg");addUnitAlias("isoWeekYear","GG");addUnitPriority("weekYear",1);addUnitPriority("isoWeekYear",1);addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(_r,Be,Dr,Mr){Be[Mr.substr(0,2)]=toInt(_r)});addWeekParseToken(["gg","GG"],function(_r,Be,Dr,Mr){Be[Mr]=hooks.parseTwoDigitYear(_r)});function getSetWeekYear(_r){return getSetWeekYearHelper.call(this,_r,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(_r){return getSetWeekYearHelper.call(this,_r,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var _r=this.localeData()._week;return weeksInYear(this.year(),_r.dow,_r.doy)}function getWeeksInWeekYear(){var _r=this.localeData()._week;return weeksInYear(this.weekYear(),_r.dow,_r.doy)}function getSetWeekYearHelper(_r,Be,Dr,Mr,$r){var Br;return _r==null?weekOfYear(this,Mr,$r).year:(Br=weeksInYear(_r,Mr,$r),Be>Br&&(Be=Br),setWeekAll.call(this,_r,Be,Dr,Mr,$r))}function setWeekAll(_r,Be,Dr,Mr,$r){var Br=dayOfYearFromWeeks(_r,Be,Dr,Mr,$r),zr=createUTCDate(Br.year,0,Br.dayOfYear);return this.year(zr.getUTCFullYear()),this.month(zr.getUTCMonth()),this.date(zr.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addUnitAlias("quarter","Q");addUnitPriority("quarter",7);addRegexToken("Q",match1);addParseToken("Q",function(_r,Be){Be[MONTH]=(toInt(_r)-1)*3});function getSetQuarter(_r){return _r==null?Math.ceil((this.month()+1)/3):this.month((_r-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addUnitAlias("date","D");addUnitPriority("date",9);addRegexToken("D",match1to2);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(_r,Be){return _r?Be._dayOfMonthOrdinalParse||Be._ordinalParse:Be._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(_r,Be){Be[DATE]=toInt(_r.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addUnitAlias("dayOfYear","DDD");addUnitPriority("dayOfYear",4);addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(_r,Be,Dr){Dr._dayOfYear=toInt(_r)});function getSetDayOfYear(_r){var Be=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return _r==null?Be:this.add(_r-Be,"d")}addFormatToken("m",["mm",2],0,"minute");addUnitAlias("minute","m");addUnitPriority("minute",14);addRegexToken("m",match1to2);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addUnitAlias("second","s");addUnitPriority("second",15);addRegexToken("s",match1to2);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addUnitAlias("millisecond","ms");addUnitPriority("millisecond",16);addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token,getSetMillisecond;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(_r,Be){Be[MILLISECOND]=toInt(("0."+_r)*1e3)}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto$1=Moment.prototype;proto$1.add=add$2;proto$1.calendar=calendar$1;proto$1.clone=clone$6;proto$1.diff=diff;proto$1.endOf=endOf;proto$1.format=format$2;proto$1.from=from;proto$1.fromNow=fromNow;proto$1.to=to;proto$1.toNow=toNow;proto$1.get=stringGet;proto$1.invalidAt=invalidAt;proto$1.isAfter=isAfter;proto$1.isBefore=isBefore;proto$1.isBetween=isBetween;proto$1.isSame=isSame;proto$1.isSameOrAfter=isSameOrAfter;proto$1.isSameOrBefore=isSameOrBefore;proto$1.isValid=isValid$2;proto$1.lang=lang;proto$1.locale=locale;proto$1.localeData=localeData;proto$1.max=prototypeMax;proto$1.min=prototypeMin;proto$1.parsingFlags=parsingFlags;proto$1.set=stringSet;proto$1.startOf=startOf;proto$1.subtract=subtract;proto$1.toArray=toArray;proto$1.toObject=toObject;proto$1.toDate=toDate;proto$1.toISOString=toISOString;proto$1.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto$1[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto$1.toJSON=toJSON;proto$1.toString=toString;proto$1.unix=unix;proto$1.valueOf=valueOf;proto$1.creationData=creationData;proto$1.eraName=getEraName;proto$1.eraNarrow=getEraNarrow;proto$1.eraAbbr=getEraAbbr;proto$1.eraYear=getEraYear;proto$1.year=getSetYear;proto$1.isLeapYear=getIsLeapYear;proto$1.weekYear=getSetWeekYear;proto$1.isoWeekYear=getSetISOWeekYear;proto$1.quarter=proto$1.quarters=getSetQuarter;proto$1.month=getSetMonth;proto$1.daysInMonth=getDaysInMonth;proto$1.week=proto$1.weeks=getSetWeek;proto$1.isoWeek=proto$1.isoWeeks=getSetISOWeek;proto$1.weeksInYear=getWeeksInYear;proto$1.weeksInWeekYear=getWeeksInWeekYear;proto$1.isoWeeksInYear=getISOWeeksInYear;proto$1.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto$1.date=getSetDayOfMonth;proto$1.day=proto$1.days=getSetDayOfWeek;proto$1.weekday=getSetLocaleDayOfWeek;proto$1.isoWeekday=getSetISODayOfWeek;proto$1.dayOfYear=getSetDayOfYear;proto$1.hour=proto$1.hours=getSetHour;proto$1.minute=proto$1.minutes=getSetMinute;proto$1.second=proto$1.seconds=getSetSecond;proto$1.millisecond=proto$1.milliseconds=getSetMillisecond;proto$1.utcOffset=getSetOffset;proto$1.utc=setOffsetToUTC;proto$1.local=setOffsetToLocal;proto$1.parseZone=setOffsetToParsedOffset;proto$1.hasAlignedHourOffset=hasAlignedHourOffset;proto$1.isDST=isDaylightSavingTime;proto$1.isLocal=isLocal;proto$1.isUtcOffset=isUtcOffset;proto$1.isUtc=isUtc;proto$1.isUTC=isUtc;proto$1.zoneAbbr=getZoneAbbr;proto$1.zoneName=getZoneName;proto$1.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto$1.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto$1.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto$1.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto$1.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(_r){return createLocal(_r*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(_r){return _r}var proto$1$1=Locale.prototype;proto$1$1.calendar=calendar;proto$1$1.longDateFormat=longDateFormat;proto$1$1.invalidDate=invalidDate;proto$1$1.ordinal=ordinal;proto$1$1.preparse=preParsePostFormat;proto$1$1.postformat=preParsePostFormat;proto$1$1.relativeTime=relativeTime;proto$1$1.pastFuture=pastFuture;proto$1$1.set=set$3;proto$1$1.eras=localeEras;proto$1$1.erasParse=localeErasParse;proto$1$1.erasConvertYear=localeErasConvertYear;proto$1$1.erasAbbrRegex=erasAbbrRegex;proto$1$1.erasNameRegex=erasNameRegex;proto$1$1.erasNarrowRegex=erasNarrowRegex;proto$1$1.months=localeMonths;proto$1$1.monthsShort=localeMonthsShort;proto$1$1.monthsParse=localeMonthsParse;proto$1$1.monthsRegex=monthsRegex;proto$1$1.monthsShortRegex=monthsShortRegex;proto$1$1.week=localeWeek;proto$1$1.firstDayOfYear=localeFirstDayOfYear;proto$1$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1$1.weekdays=localeWeekdays;proto$1$1.weekdaysMin=localeWeekdaysMin;proto$1$1.weekdaysShort=localeWeekdaysShort;proto$1$1.weekdaysParse=localeWeekdaysParse;proto$1$1.weekdaysRegex=weekdaysRegex;proto$1$1.weekdaysShortRegex=weekdaysShortRegex;proto$1$1.weekdaysMinRegex=weekdaysMinRegex;proto$1$1.isPM=localeIsPM;proto$1$1.meridiem=localeMeridiem;function get$1$2(_r,Be,Dr,Mr){var $r=getLocale(),Br=createUTC().set(Mr,Be);return $r[Dr](Br,_r)}function listMonthsImpl(_r,Be,Dr){if(isNumber$1(_r)&&(Be=_r,_r=void 0),_r=_r||"",Be!=null)return get$1$2(_r,Be,Dr,"month");var Mr,$r=[];for(Mr=0;Mr<12;Mr++)$r[Mr]=get$1$2(_r,Mr,Dr,"month");return $r}function listWeekdaysImpl(_r,Be,Dr,Mr){typeof _r=="boolean"?(isNumber$1(Be)&&(Dr=Be,Be=void 0),Be=Be||""):(Be=_r,Dr=Be,_r=!1,isNumber$1(Be)&&(Dr=Be,Be=void 0),Be=Be||"");var $r=getLocale(),Br=_r?$r._week.dow:0,zr,Vr=[];if(Dr!=null)return get$1$2(Be,(Dr+Br)%7,Mr,"day");for(zr=0;zr<7;zr++)Vr[zr]=get$1$2(Be,(zr+Br)%7,Mr,"day");return Vr}function listMonths(_r,Be){return listMonthsImpl(_r,Be,"months")}function listMonthsShort(_r,Be){return listMonthsImpl(_r,Be,"monthsShort")}function listWeekdays(_r,Be,Dr){return listWeekdaysImpl(_r,Be,Dr,"weekdays")}function listWeekdaysShort(_r,Be,Dr){return listWeekdaysImpl(_r,Be,Dr,"weekdaysShort")}function listWeekdaysMin(_r,Be,Dr){return listWeekdaysImpl(_r,Be,Dr,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(_r){var Be=_r%10,Dr=toInt(_r%100/10)===1?"th":Be===1?"st":Be===2?"nd":Be===3?"rd":"th";return _r+Dr}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs$3=Math.abs;function abs$1(){var _r=this._data;return this._milliseconds=mathAbs$3(this._milliseconds),this._days=mathAbs$3(this._days),this._months=mathAbs$3(this._months),_r.milliseconds=mathAbs$3(_r.milliseconds),_r.seconds=mathAbs$3(_r.seconds),_r.minutes=mathAbs$3(_r.minutes),_r.hours=mathAbs$3(_r.hours),_r.months=mathAbs$3(_r.months),_r.years=mathAbs$3(_r.years),this}function addSubtract$1(_r,Be,Dr,Mr){var $r=createDuration(Be,Dr);return _r._milliseconds+=Mr*$r._milliseconds,_r._days+=Mr*$r._days,_r._months+=Mr*$r._months,_r._bubble()}function add$1$1(_r,Be){return addSubtract$1(this,_r,Be,1)}function subtract$1(_r,Be){return addSubtract$1(this,_r,Be,-1)}function absCeil(_r){return _r<0?Math.floor(_r):Math.ceil(_r)}function bubble(){var _r=this._milliseconds,Be=this._days,Dr=this._months,Mr=this._data,$r,Br,zr,Vr,jr;return _r>=0&&Be>=0&&Dr>=0||_r<=0&&Be<=0&&Dr<=0||(_r+=absCeil(monthsToDays(Dr)+Be)*864e5,Be=0,Dr=0),Mr.milliseconds=_r%1e3,$r=absFloor(_r/1e3),Mr.seconds=$r%60,Br=absFloor($r/60),Mr.minutes=Br%60,zr=absFloor(Br/60),Mr.hours=zr%24,Be+=absFloor(zr/24),jr=absFloor(daysToMonths(Be)),Dr+=jr,Be-=absCeil(monthsToDays(jr)),Vr=absFloor(Dr/12),Dr%=12,Mr.days=Be,Mr.months=Dr,Mr.years=Vr,this}function daysToMonths(_r){return _r*4800/146097}function monthsToDays(_r){return _r*146097/4800}function as(_r){if(!this.isValid())return NaN;var Be,Dr,Mr=this._milliseconds;if(_r=normalizeUnits(_r),_r==="month"||_r==="quarter"||_r==="year")switch(Be=this._days+Mr/864e5,Dr=this._months+daysToMonths(Be),_r){case"month":return Dr;case"quarter":return Dr/3;case"year":return Dr/12}else switch(Be=this._days+Math.round(monthsToDays(this._months)),_r){case"week":return Be/7+Mr/6048e5;case"day":return Be+Mr/864e5;case"hour":return Be*24+Mr/36e5;case"minute":return Be*1440+Mr/6e4;case"second":return Be*86400+Mr/1e3;case"millisecond":return Math.floor(Be*864e5)+Mr;default:throw new Error("Unknown unit "+_r)}}function valueOf$1(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+toInt(this._months/12)*31536e6:NaN}function makeAs(_r){return function(){return this.as(_r)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y");function clone$1$1(){return createDuration(this)}function get$2$1(_r){return _r=normalizeUnits(_r),this.isValid()?this[_r+"s"]():NaN}function makeGetter(_r){return function(){return this.isValid()?this._data[_r]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$4=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(_r,Be,Dr,Mr,$r){return $r.relativeTime(Be||1,!!Dr,_r,Mr)}function relativeTime$1(_r,Be,Dr,Mr){var $r=createDuration(_r).abs(),Br=round$4($r.as("s")),zr=round$4($r.as("m")),Vr=round$4($r.as("h")),jr=round$4($r.as("d")),Gr=round$4($r.as("M")),Wr=round$4($r.as("w")),Kr=round$4($r.as("y")),Zr=Br<=Dr.ss&&["s",Br]||Br<Dr.s&&["ss",Br]||zr<=1&&["m"]||zr<Dr.m&&["mm",zr]||Vr<=1&&["h"]||Vr<Dr.h&&["hh",Vr]||jr<=1&&["d"]||jr<Dr.d&&["dd",jr];return Dr.w!=null&&(Zr=Zr||Wr<=1&&["w"]||Wr<Dr.w&&["ww",Wr]),Zr=Zr||Gr<=1&&["M"]||Gr<Dr.M&&["MM",Gr]||Kr<=1&&["y"]||["yy",Kr],Zr[2]=Be,Zr[3]=+_r>0,Zr[4]=Mr,substituteTimeAgo.apply(null,Zr)}function getSetRelativeTimeRounding(_r){return _r===void 0?round$4:typeof _r=="function"?(round$4=_r,!0):!1}function getSetRelativeTimeThreshold(_r,Be){return thresholds[_r]===void 0?!1:Be===void 0?thresholds[_r]:(thresholds[_r]=Be,_r==="s"&&(thresholds.ss=Be-1),!0)}function humanize(_r,Be){if(!this.isValid())return this.localeData().invalidDate();var Dr=!1,Mr=thresholds,$r,Br;return typeof _r=="object"&&(Be=_r,_r=!1),typeof _r=="boolean"&&(Dr=_r),typeof Be=="object"&&(Mr=Object.assign({},thresholds,Be),Be.s!=null&&Be.ss==null&&(Mr.ss=Be.s-1)),$r=this.localeData(),Br=relativeTime$1(this,!Dr,Mr,$r),Dr&&(Br=$r.pastFuture(+this,Br)),$r.postformat(Br)}var abs$1$1=Math.abs;function sign(_r){return(_r>0)-(_r<0)||+_r}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var _r=abs$1$1(this._milliseconds)/1e3,Be=abs$1$1(this._days),Dr=abs$1$1(this._months),Mr,$r,Br,zr,Vr=this.asSeconds(),jr,Gr,Wr,Kr;return Vr?(Mr=absFloor(_r/60),$r=absFloor(Mr/60),_r%=60,Mr%=60,Br=absFloor(Dr/12),Dr%=12,zr=_r?_r.toFixed(3).replace(/\.?0+$/,""):"",jr=Vr<0?"-":"",Gr=sign(this._months)!==sign(Vr)?"-":"",Wr=sign(this._days)!==sign(Vr)?"-":"",Kr=sign(this._milliseconds)!==sign(Vr)?"-":"",jr+"P"+(Br?Gr+Br+"Y":"")+(Dr?Gr+Dr+"M":"")+(Be?Wr+Be+"D":"")+($r||Mr||_r?"T":"")+($r?Kr+$r+"H":"")+(Mr?Kr+Mr+"M":"")+(_r?Kr+zr+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1;proto$2.abs=abs$1;proto$2.add=add$1$1;proto$2.subtract=subtract$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days;proto$2.weeks=weeks;proto$2.months=months;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(_r,Be,Dr){Dr._d=new Date(parseFloat(_r)*1e3)});addParseToken("x",function(_r,Be,Dr){Dr._d=new Date(toInt(_r))});//! moment.js
hooks.version="2.29.4";setHookCallback(createLocal);hooks.fn=proto$1;hooks.min=min$2;hooks.max=max$2;hooks.now=now;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto$1;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const moment$1=Object.freeze(Object.defineProperty({__proto__:null,default:hooks},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(moment$1);/**
* @version: 3.1
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: http://www.daterangepicker.com/
*/(function(_r){(function(Be,Dr){if(_r.exports){var Mr=typeof window<"u"?window.jQuery:void 0;Mr||(Mr=jqueryExports,Mr.fn||(Mr.fn={}));var $r=typeof window<"u"&&typeof window.moment<"u"?window.moment:require$$1;_r.exports=Dr($r,Mr)}else Be.daterangepicker=Dr(Be.moment,Be.jQuery)})(commonjsGlobal,function(Be,Dr){var Mr=function($r,Br,zr){if(this.parentEl="body",this.element=Dr($r),this.startDate=Be().startOf("day"),this.endDate=Be().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=Be().subtract(100,"year").format("YYYY"),this.maxYear=Be().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:Be.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Be.weekdaysMin(),monthNames:Be.monthsShort(),firstDay:Be.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},(typeof Br!="object"||Br===null)&&(Br={}),Br=Dr.extend(this.element.data(),Br),typeof Br.template!="string"&&!(Br.template instanceof Dr)&&(Br.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=Br.parentEl&&Dr(Br.parentEl).length?Dr(Br.parentEl):Dr(this.parentEl),this.container=Dr(Br.template).appendTo(this.parentEl),typeof Br.locale=="object"&&(typeof Br.locale.direction=="string"&&(this.locale.direction=Br.locale.direction),typeof Br.locale.format=="string"&&(this.locale.format=Br.locale.format),typeof Br.locale.separator=="string"&&(this.locale.separator=Br.locale.separator),typeof Br.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=Br.locale.daysOfWeek.slice()),typeof Br.locale.monthNames=="object"&&(this.locale.monthNames=Br.locale.monthNames.slice()),typeof Br.locale.firstDay=="number"&&(this.locale.firstDay=Br.locale.firstDay),typeof Br.locale.applyLabel=="string"&&(this.locale.applyLabel=Br.locale.applyLabel),typeof Br.locale.cancelLabel=="string"&&(this.locale.cancelLabel=Br.locale.cancelLabel),typeof Br.locale.weekLabel=="string"&&(this.locale.weekLabel=Br.locale.weekLabel),typeof Br.locale.customRangeLabel=="string")){var Vr=document.createElement("textarea");Vr.innerHTML=Br.locale.customRangeLabel;var jr=Vr.value;this.locale.customRangeLabel=jr}if(this.container.addClass(this.locale.direction),typeof Br.startDate=="string"&&(this.startDate=Be(Br.startDate,this.locale.format)),typeof Br.endDate=="string"&&(this.endDate=Be(Br.endDate,this.locale.format)),typeof Br.minDate=="string"&&(this.minDate=Be(Br.minDate,this.locale.format)),typeof Br.maxDate=="string"&&(this.maxDate=Be(Br.maxDate,this.locale.format)),typeof Br.startDate=="object"&&(this.startDate=Be(Br.startDate)),typeof Br.endDate=="object"&&(this.endDate=Be(Br.endDate)),typeof Br.minDate=="object"&&(this.minDate=Be(Br.minDate)),typeof Br.maxDate=="object"&&(this.maxDate=Be(Br.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),typeof Br.applyButtonClasses=="string"&&(this.applyButtonClasses=Br.applyButtonClasses),typeof Br.applyClass=="string"&&(this.applyButtonClasses=Br.applyClass),typeof Br.cancelButtonClasses=="string"&&(this.cancelButtonClasses=Br.cancelButtonClasses),typeof Br.cancelClass=="string"&&(this.cancelButtonClasses=Br.cancelClass),typeof Br.maxSpan=="object"&&(this.maxSpan=Br.maxSpan),typeof Br.dateLimit=="object"&&(this.maxSpan=Br.dateLimit),typeof Br.opens=="string"&&(this.opens=Br.opens),typeof Br.drops=="string"&&(this.drops=Br.drops),typeof Br.showWeekNumbers=="boolean"&&(this.showWeekNumbers=Br.showWeekNumbers),typeof Br.showISOWeekNumbers=="boolean"&&(this.showISOWeekNumbers=Br.showISOWeekNumbers),typeof Br.buttonClasses=="string"&&(this.buttonClasses=Br.buttonClasses),typeof Br.buttonClasses=="object"&&(this.buttonClasses=Br.buttonClasses.join(" ")),typeof Br.showDropdowns=="boolean"&&(this.showDropdowns=Br.showDropdowns),typeof Br.minYear=="number"&&(this.minYear=Br.minYear),typeof Br.maxYear=="number"&&(this.maxYear=Br.maxYear),typeof Br.showCustomRangeLabel=="boolean"&&(this.showCustomRangeLabel=Br.showCustomRangeLabel),typeof Br.singleDatePicker=="boolean"&&(this.singleDatePicker=Br.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof Br.timePicker=="boolean"&&(this.timePicker=Br.timePicker),typeof Br.timePickerSeconds=="boolean"&&(this.timePickerSeconds=Br.timePickerSeconds),typeof Br.timePickerIncrement=="number"&&(this.timePickerIncrement=Br.timePickerIncrement),typeof Br.timePicker24Hour=="boolean"&&(this.timePicker24Hour=Br.timePicker24Hour),typeof Br.autoApply=="boolean"&&(this.autoApply=Br.autoApply),typeof Br.autoUpdateInput=="boolean"&&(this.autoUpdateInput=Br.autoUpdateInput),typeof Br.linkedCalendars=="boolean"&&(this.linkedCalendars=Br.linkedCalendars),typeof Br.isInvalidDate=="function"&&(this.isInvalidDate=Br.isInvalidDate),typeof Br.isCustomDate=="function"&&(this.isCustomDate=Br.isCustomDate),typeof Br.alwaysShowCalendars=="boolean"&&(this.alwaysShowCalendars=Br.alwaysShowCalendars),this.locale.firstDay!=0)for(var Gr=this.locale.firstDay;Gr>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),Gr--;var Wr,Kr,Zr;if(typeof Br.startDate>"u"&&typeof Br.endDate>"u"&&Dr(this.element).is(":text")){var Jr=Dr(this.element).val(),rn=Jr.split(this.locale.separator);Wr=Kr=null,rn.length==2?(Wr=Be(rn[0],this.locale.format),Kr=Be(rn[1],this.locale.format)):this.singleDatePicker&&Jr!==""&&(Wr=Be(Jr,this.locale.format),Kr=Be(Jr,this.locale.format)),Wr!==null&&Kr!==null&&(this.setStartDate(Wr),this.setEndDate(Kr))}if(typeof Br.ranges=="object"){for(Zr in Br.ranges){typeof Br.ranges[Zr][0]=="string"?Wr=Be(Br.ranges[Zr][0],this.locale.format):Wr=Be(Br.ranges[Zr][0]),typeof Br.ranges[Zr][1]=="string"?Kr=Be(Br.ranges[Zr][1],this.locale.format):Kr=Be(Br.ranges[Zr][1]),this.minDate&&Wr.isBefore(this.minDate)&&(Wr=this.minDate.clone());var nn=this.maxDate;if(this.maxSpan&&nn&&Wr.clone().add(this.maxSpan).isAfter(nn)&&(nn=Wr.clone().add(this.maxSpan)),nn&&Kr.isAfter(nn)&&(Kr=nn.clone()),!(this.minDate&&Kr.isBefore(this.minDate,this.timepicker?"minute":"day")||nn&&Wr.isAfter(nn,this.timepicker?"minute":"day"))){var Vr=document.createElement("textarea");Vr.innerHTML=Zr;var jr=Vr.value;this.ranges[jr]=[Wr,Kr]}}var ln="<ul>";for(Zr in this.ranges)ln+='<li data-range-key="'+Zr+'">'+Zr+"</li>";this.showCustomRangeLabel&&(ln+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),ln+="</ul>",this.container.find(".ranges").prepend(ln)}typeof zr=="function"&&(this.callback=zr),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),typeof Br.ranges=="object"&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(typeof Br.ranges>"u"&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",Dr.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",Dr.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",Dr.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",Dr.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",Dr.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",Dr.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",Dr.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",Dr.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",Dr.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",Dr.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":Dr.proxy(this.show,this),"focus.daterangepicker":Dr.proxy(this.show,this),"keyup.daterangepicker":Dr.proxy(this.elementChanged,this),"keydown.daterangepicker":Dr.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",Dr.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",Dr.proxy(this.toggle,this))),this.updateElement()};return Mr.prototype={constructor:Mr,setStartDate:function($r){typeof $r=="string"&&(this.startDate=Be($r,this.locale.format)),typeof $r=="object"&&(this.startDate=Be($r)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function($r){typeof $r=="string"&&(this.endDate=Be($r,this.locale.format)),typeof $r=="object"&&(this.endDate=Be($r)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),!this.linkedCalendars&&(this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year())?this.rightCalendar.month=this.endDate.clone().date(2):this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var $r,Br,zr;if(this.endDate){if($r=parseInt(this.container.find(".left .hourselect").val(),10),Br=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(Br)&&(Br=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),zr=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var Vr=this.container.find(".left .ampmselect").val();Vr==="PM"&&$r<12&&($r+=12),Vr==="AM"&&$r===12&&($r=0)}}else if($r=parseInt(this.container.find(".right .hourselect").val(),10),Br=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(Br)&&(Br=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),zr=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var Vr=this.container.find(".right .ampmselect").val();Vr==="PM"&&$r<12&&($r+=12),Vr==="AM"&&$r===12&&($r=0)}this.leftCalendar.month.hour($r).minute(Br).second(zr),this.rightCalendar.month.hour($r).minute(Br).second(zr)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),this.endDate!=null&&this.calculateChosenLabel()},renderCalendar:function($r){var cn=$r=="left"?this.leftCalendar:this.rightCalendar,Br=cn.month.month(),zr=cn.month.year(),Vr=cn.month.hour(),jr=cn.month.minute(),Gr=cn.month.second(),Wr=Be([zr,Br]).daysInMonth(),Kr=Be([zr,Br,1]),Zr=Be([zr,Br,Wr]),Jr=Be(Kr).subtract(1,"month").month(),rn=Be(Kr).subtract(1,"month").year(),nn=Be([rn,Jr]).daysInMonth(),ln=Kr.day(),cn=[];cn.firstDay=Kr,cn.lastDay=Zr;for(var hn=0;hn<6;hn++)cn[hn]=[];var mn=nn-ln+this.locale.firstDay+1;mn>nn&&(mn-=7),ln==this.locale.firstDay&&(mn=nn-6);for(var bn=Be([rn,Jr,mn,12,jr,Gr]),An,vn,hn=0,An=0,vn=0;hn<42;hn++,An++,bn=Be(bn).add(24,"hour"))hn>0&&An%7===0&&(An=0,vn++),cn[vn][An]=bn.clone().hour(Vr).minute(jr).second(Gr),bn.hour(12),this.minDate&&cn[vn][An].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&cn[vn][An].isBefore(this.minDate)&&$r=="left"&&(cn[vn][An]=this.minDate.clone()),this.maxDate&&cn[vn][An].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&cn[vn][An].isAfter(this.maxDate)&&$r=="right"&&(cn[vn][An]=this.maxDate.clone());$r=="left"?this.leftCalendar.calendar=cn:this.rightCalendar.calendar=cn;var dn=$r=="left"?this.minDate:this.startDate,wn=this.maxDate;$r=="left"?this.startDate:this.endDate,this.locale.direction=="ltr";var xn='<table class="table-condensed">';xn+="<thead>",xn+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(xn+="<th></th>"),(!dn||dn.isBefore(cn.firstDay))&&(!this.linkedCalendars||$r=="left")?xn+='<th class="prev available"><span></span></th>':xn+="<th></th>";var Mn=this.locale.monthNames[cn[1][1].month()]+cn[1][1].format(" YYYY");if(this.showDropdowns){for(var In=cn[1][1].month(),Hn=cn[1][1].year(),$n=wn&&wn.year()||this.maxYear,jn=dn&&dn.year()||this.minYear,Bn=Hn==jn,Gn=Hn==$n,ei='<select class="monthselect">',ri=0;ri<12;ri++)(!Bn||dn&&ri>=dn.month())&&(!Gn||wn&&ri<=wn.month())?ei+="<option value='"+ri+"'"+(ri===In?" selected='selected'":"")+">"+this.locale.monthNames[ri]+"</option>":ei+="<option value='"+ri+"'"+(ri===In?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[ri]+"</option>";ei+="</select>";for(var vi='<select class="yearselect">',wi=jn;wi<=$n;wi++)vi+='<option value="'+wi+'"'+(wi===Hn?' selected="selected"':"")+">"+wi+"</option>";vi+="</select>",Mn=ei+vi}if(xn+='<th colspan="5" class="month">'+Mn+"</th>",(!wn||wn.isAfter(cn.lastDay))&&(!this.linkedCalendars||$r=="right"||this.singleDatePicker)?xn+='<th class="next available"><span></span></th>':xn+="<th></th>",xn+="</tr>",xn+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(xn+='<th class="week">'+this.locale.weekLabel+"</th>"),Dr.each(this.locale.daysOfWeek,function(Pi,Fi){xn+="<th>"+Fi+"</th>"}),xn+="</tr>",xn+="</thead>",xn+="<tbody>",this.endDate==null&&this.maxSpan){var Ni=this.startDate.clone().add(this.maxSpan).endOf("day");(!wn||Ni.isBefore(wn))&&(wn=Ni)}for(var vn=0;vn<6;vn++){xn+="<tr>",this.showWeekNumbers?xn+='<td class="week">'+cn[vn][0].week()+"</td>":this.showISOWeekNumbers&&(xn+='<td class="week">'+cn[vn][0].isoWeek()+"</td>");for(var An=0;An<7;An++){var Yn=[];cn[vn][An].isSame(new Date,"day")&&Yn.push("today"),cn[vn][An].isoWeekday()>5&&Yn.push("weekend"),cn[vn][An].month()!=cn[1][1].month()&&Yn.push("off","ends"),this.minDate&&cn[vn][An].isBefore(this.minDate,"day")&&Yn.push("off","disabled"),wn&&cn[vn][An].isAfter(wn,"day")&&Yn.push("off","disabled"),this.isInvalidDate(cn[vn][An])&&Yn.push("off","disabled"),cn[vn][An].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&Yn.push("active","start-date"),this.endDate!=null&&cn[vn][An].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&Yn.push("active","end-date"),this.endDate!=null&&cn[vn][An]>this.startDate&&cn[vn][An]<this.endDate&&Yn.push("in-range");var Vn=this.isCustomDate(cn[vn][An]);Vn!==!1&&(typeof Vn=="string"?Yn.push(Vn):Array.prototype.push.apply(Yn,Vn));for(var si="",Ri=!1,hn=0;hn<Yn.length;hn++)si+=Yn[hn]+" ",Yn[hn]=="disabled"&&(Ri=!0);Ri||(si+="available"),xn+='<td class="'+si.replace(/^\s+|\s+$/g,"")+'" data-title="r'+vn+"c"+An+'">'+cn[vn][An].date()+"</td>"}xn+="</tr>"}xn+="</tbody>",xn+="</table>",this.container.find(".drp-calendar."+$r+" .calendar-table").html(xn)},renderTimePicker:function($r){if(!($r=="right"&&!this.endDate)){var Br,zr,Vr,jr=this.maxDate;if(this.maxSpan&&(!this.maxDate||this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate))&&(jr=this.startDate.clone().add(this.maxSpan)),$r=="left")zr=this.startDate.clone(),Vr=this.minDate;else if($r=="right"){zr=this.endDate.clone(),Vr=this.startDate;var Gr=this.container.find(".drp-calendar.right .calendar-time");if(Gr.html()!=""&&(zr.hour(isNaN(zr.hour())?Gr.find(".hourselect option:selected").val():zr.hour()),zr.minute(isNaN(zr.minute())?Gr.find(".minuteselect option:selected").val():zr.minute()),zr.second(isNaN(zr.second())?Gr.find(".secondselect option:selected").val():zr.second()),!this.timePicker24Hour)){var Wr=Gr.find(".ampmselect option:selected").val();Wr==="PM"&&zr.hour()<12&&zr.hour(zr.hour()+12),Wr==="AM"&&zr.hour()===12&&zr.hour(0)}zr.isBefore(this.startDate)&&(zr=this.startDate.clone()),jr&&zr.isAfter(jr)&&(zr=jr.clone())}Br='<select class="hourselect">';for(var Kr=this.timePicker24Hour?0:1,Zr=this.timePicker24Hour?23:12,Jr=Kr;Jr<=Zr;Jr++){var rn=Jr;this.timePicker24Hour||(rn=zr.hour()>=12?Jr==12?12:Jr+12:Jr==12?0:Jr);var nn=zr.clone().hour(rn),ln=!1;Vr&&nn.minute(59).isBefore(Vr)&&(ln=!0),jr&&nn.minute(0).isAfter(jr)&&(ln=!0),rn==zr.hour()&&!ln?Br+='<option value="'+Jr+'" selected="selected">'+Jr+"</option>":ln?Br+='<option value="'+Jr+'" disabled="disabled" class="disabled">'+Jr+"</option>":Br+='<option value="'+Jr+'">'+Jr+"</option>"}Br+="</select> ",Br+=': <select class="minuteselect">';for(var Jr=0;Jr<60;Jr+=this.timePickerIncrement){var cn=Jr<10?"0"+Jr:Jr,nn=zr.clone().minute(Jr),ln=!1;Vr&&nn.second(59).isBefore(Vr)&&(ln=!0),jr&&nn.second(0).isAfter(jr)&&(ln=!0),zr.minute()==Jr&&!ln?Br+='<option value="'+Jr+'" selected="selected">'+cn+"</option>":ln?Br+='<option value="'+Jr+'" disabled="disabled" class="disabled">'+cn+"</option>":Br+='<option value="'+Jr+'">'+cn+"</option>"}if(Br+="</select> ",this.timePickerSeconds){Br+=': <select class="secondselect">';for(var Jr=0;Jr<60;Jr++){var cn=Jr<10?"0"+Jr:Jr,nn=zr.clone().second(Jr),ln=!1;Vr&&nn.isBefore(Vr)&&(ln=!0),jr&&nn.isAfter(jr)&&(ln=!0),zr.second()==Jr&&!ln?Br+='<option value="'+Jr+'" selected="selected">'+cn+"</option>":ln?Br+='<option value="'+Jr+'" disabled="disabled" class="disabled">'+cn+"</option>":Br+='<option value="'+Jr+'">'+cn+"</option>"}Br+="</select> "}if(!this.timePicker24Hour){Br+='<select class="ampmselect">';var hn="",mn="";Vr&&zr.clone().hour(12).minute(0).second(0).isBefore(Vr)&&(hn=' disabled="disabled" class="disabled"'),jr&&zr.clone().hour(0).minute(0).second(0).isAfter(jr)&&(mn=' disabled="disabled" class="disabled"'),zr.hour()>=12?Br+='<option value="AM"'+hn+'>AM</option><option value="PM" selected="selected"'+mn+">PM</option>":Br+='<option value="AM" selected="selected"'+hn+'>AM</option><option value="PM"'+mn+">PM</option>",Br+="</select>"}this.container.find(".drp-calendar."+$r+" .calendar-time").html(Br)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var $r={top:0,left:0},Br,zr=this.drops,Vr=Dr(window).width();switch(this.parentEl.is("body")||($r={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},Vr=this.parentEl[0].clientWidth+this.parentEl.offset().left),zr){case"auto":Br=this.element.offset().top+this.element.outerHeight()-$r.top,Br+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(Br=this.element.offset().top-this.container.outerHeight()-$r.top,zr="up");break;case"up":Br=this.element.offset().top-this.container.outerHeight()-$r.top;break;default:Br=this.element.offset().top+this.element.outerHeight()-$r.top;break}this.container.css({top:0,left:0,right:"auto"});var jr=this.container.outerWidth();if(this.container.toggleClass("drop-up",zr=="up"),this.opens=="left"){var Gr=Vr-this.element.offset().left-this.element.outerWidth();jr+Gr>Dr(window).width()?this.container.css({top:Br,right:"auto",left:9}):this.container.css({top:Br,right:Gr,left:"auto"})}else if(this.opens=="center"){var Wr=this.element.offset().left-$r.left+this.element.outerWidth()/2-jr/2;Wr<0?this.container.css({top:Br,right:"auto",left:9}):Wr+jr>Dr(window).width()?this.container.css({top:Br,left:"auto",right:0}):this.container.css({top:Br,left:Wr,right:"auto"})}else{var Wr=this.element.offset().left-$r.left;Wr+jr>Dr(window).width()?this.container.css({top:Br,left:"auto",right:0}):this.container.css({top:Br,left:Wr,right:"auto"})}},show:function($r){this.isShowing||(this._outsideClickProxy=Dr.proxy(function(Br){this.outsideClick(Br)},this),Dr(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),Dr(window).on("resize.daterangepicker",Dr.proxy(function(Br){this.move(Br)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function($r){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),Dr(document).off(".daterangepicker"),Dr(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function($r){this.isShowing?this.hide():this.show()},outsideClick:function($r){var Br=Dr($r.target);$r.type=="focusin"||Br.closest(this.element).length||Br.closest(this.container).length||Br.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function($r){var Br=$r.target.getAttribute("data-range-key");if(this.chosenLabel=Br,Br==this.locale.customRangeLabel)this.showCalendars();else{var zr=this.ranges[Br];this.startDate=zr[0],this.endDate=zr[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function($r){var Br=Dr($r.target).parents(".drp-calendar");Br.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function($r){var Br=Dr($r.target).parents(".drp-calendar");Br.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function($r){if(Dr($r.target).hasClass("available")){var Br=Dr($r.target).attr("data-title"),zr=Br.substr(1,1),Vr=Br.substr(3,1),jr=Dr($r.target).parents(".drp-calendar"),Gr=jr.hasClass("left")?this.leftCalendar.calendar[zr][Vr]:this.rightCalendar.calendar[zr][Vr],Wr=this.leftCalendar,Kr=this.rightCalendar,Zr=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(Jr,rn){if(!Dr(rn).hasClass("week")){var nn=Dr(rn).attr("data-title"),ln=nn.substr(1,1),cn=nn.substr(3,1),hn=Dr(rn).parents(".drp-calendar"),mn=hn.hasClass("left")?Wr.calendar[ln][cn]:Kr.calendar[ln][cn];mn.isAfter(Zr)&&mn.isBefore(Gr)||mn.isSame(Gr,"day")?Dr(rn).addClass("in-range"):Dr(rn).removeClass("in-range")}})}},clickDate:function($r){if(Dr($r.target).hasClass("available")){var Br=Dr($r.target).attr("data-title"),zr=Br.substr(1,1),Vr=Br.substr(3,1),jr=Dr($r.target).parents(".drp-calendar"),Gr=jr.hasClass("left")?this.leftCalendar.calendar[zr][Vr]:this.rightCalendar.calendar[zr][Vr];if(this.endDate||Gr.isBefore(this.startDate,"day")){if(this.timePicker){var Wr=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var Kr=this.container.find(".left .ampmselect").val();Kr==="PM"&&Wr<12&&(Wr+=12),Kr==="AM"&&Wr===12&&(Wr=0)}var Zr=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(Zr)&&(Zr=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var Jr=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;Gr=Gr.clone().hour(Wr).minute(Zr).second(Jr)}this.endDate=null,this.setStartDate(Gr.clone())}else if(!this.endDate&&Gr.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var Wr=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var Kr=this.container.find(".right .ampmselect").val();Kr==="PM"&&Wr<12&&(Wr+=12),Kr==="AM"&&Wr===12&&(Wr=0)}var Zr=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(Zr)&&(Zr=parseInt(this.container.find(".right .minuteselect option:last").val(),10));var Jr=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;Gr=Gr.clone().hour(Wr).minute(Zr).second(Jr)}this.setEndDate(Gr.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),$r.stopPropagation()}},calculateChosenLabel:function(){var $r=!0,Br=0;for(var zr in this.ranges){if(this.timePicker){var Vr=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(Vr)==this.ranges[zr][0].format(Vr)&&this.endDate.format(Vr)==this.ranges[zr][1].format(Vr)){$r=!1,this.chosenLabel=this.container.find(".ranges li:eq("+Br+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[zr][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[zr][1].format("YYYY-MM-DD")){$r=!1,this.chosenLabel=this.container.find(".ranges li:eq("+Br+")").addClass("active").attr("data-range-key");break}Br++}$r&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function($r){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function($r){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function($r){var Br=Dr($r.target).closest(".drp-calendar").hasClass("left"),zr=Br?"left":"right",Vr=this.container.find(".drp-calendar."+zr),jr=parseInt(Vr.find(".monthselect").val(),10),Gr=Vr.find(".yearselect").val();Br||(Gr<this.startDate.year()||Gr==this.startDate.year()&&jr<this.startDate.month())&&(jr=this.startDate.month(),Gr=this.startDate.year()),this.minDate&&(Gr<this.minDate.year()||Gr==this.minDate.year()&&jr<this.minDate.month())&&(jr=this.minDate.month(),Gr=this.minDate.year()),this.maxDate&&(Gr>this.maxDate.year()||Gr==this.maxDate.year()&&jr>this.maxDate.month())&&(jr=this.maxDate.month(),Gr=this.maxDate.year()),Br?(this.leftCalendar.month.month(jr).year(Gr),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(jr).year(Gr),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function($r){var Br=Dr($r.target).closest(".drp-calendar"),zr=Br.hasClass("left"),Vr=parseInt(Br.find(".hourselect").val(),10),jr=parseInt(Br.find(".minuteselect").val(),10);isNaN(jr)&&(jr=parseInt(Br.find(".minuteselect option:last").val(),10));var Gr=this.timePickerSeconds?parseInt(Br.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var Wr=Br.find(".ampmselect").val();Wr==="PM"&&Vr<12&&(Vr+=12),Wr==="AM"&&Vr===12&&(Vr=0)}if(zr){var Kr=this.startDate.clone();Kr.hour(Vr),Kr.minute(jr),Kr.second(Gr),this.setStartDate(Kr),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==Kr.format("YYYY-MM-DD")&&this.endDate.isBefore(Kr)&&this.setEndDate(Kr.clone())}else if(this.endDate){var Zr=this.endDate.clone();Zr.hour(Vr),Zr.minute(jr),Zr.second(Gr),this.setEndDate(Zr)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var $r=this.element.val().split(this.locale.separator),Br=null,zr=null;$r.length===2&&(Br=Be($r[0],this.locale.format),zr=Be($r[1],this.locale.format)),(this.singleDatePicker||Br===null||zr===null)&&(Br=Be(this.element.val(),this.locale.format),zr=Br),!(!Br.isValid()||!zr.isValid())&&(this.setStartDate(Br),this.setEndDate(zr),this.updateView())}},keydown:function($r){($r.keyCode===9||$r.keyCode===13)&&this.hide(),$r.keyCode===27&&($r.preventDefault(),$r.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var $r=this.startDate.format(this.locale.format);this.singleDatePicker||($r+=this.locale.separator+this.endDate.format(this.locale.format)),$r!==this.element.val()&&this.element.val($r).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},Dr.fn.daterangepicker=function($r,Br){var zr=Dr.extend(!0,{},Dr.fn.daterangepicker.defaultOptions,$r);return this.each(function(){var Vr=Dr(this);Vr.data("daterangepicker")&&Vr.data("daterangepicker").remove(),Vr.data("daterangepicker",new Mr(Vr,zr,Br))}),this},Mr})})(daterangepicker$1);var daterangepickerExports=daterangepicker$1.exports;const daterangepicker=getDefaultExportFromCjs(daterangepickerExports);var codemirror={exports:{}};(function(_r,Be){(function(Dr,Mr){_r.exports=Mr()})(commonjsGlobal,function(){var Dr=navigator.userAgent,Mr=navigator.platform,$r=/gecko\/\d/i.test(Dr),Br=/MSIE \d/.test(Dr),zr=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Dr),Vr=/Edge\/(\d+)/.exec(Dr),jr=Br||zr||Vr,Gr=jr&&(Br?document.documentMode||6:+(Vr||zr)[1]),Wr=!Vr&&/WebKit\//.test(Dr),Kr=Wr&&/Qt\/\d+\.\d+/.test(Dr),Zr=!Vr&&/Chrome\/(\d+)/.exec(Dr),Jr=Zr&&+Zr[1],rn=/Opera\//.test(Dr),nn=/Apple Computer/.test(navigator.vendor),ln=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Dr),cn=/PhantomJS/.test(Dr),hn=nn&&(/Mobile\/\w+/.test(Dr)||navigator.maxTouchPoints>2),mn=/Android/.test(Dr),bn=hn||mn||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Dr),An=hn||/Mac/.test(Mr),vn=/\bCrOS\b/.test(Dr),dn=/win/i.test(Mr),wn=rn&&Dr.match(/Version\/(\d*\.\d*)/);wn&&(wn=Number(wn[1])),wn&&wn>=15&&(rn=!1,Wr=!0);var xn=An&&(Kr||rn&&(wn==null||wn<12.11)),Mn=$r||jr&&Gr>=9;function In(en){return new RegExp("(^|\\s)"+en+"(?:$|\\s)\\s*")}var Hn=function(en,an){var pn=en.className,fn=In(an).exec(pn);if(fn){var yn=pn.slice(fn.index+fn[0].length);en.className=pn.slice(0,fn.index)+(yn?fn[1]+yn:"")}};function $n(en){for(var an=en.childNodes.length;an>0;--an)en.removeChild(en.firstChild);return en}function jn(en,an){return $n(en).appendChild(an)}function Bn(en,an,pn,fn){var yn=document.createElement(en);if(pn&&(yn.className=pn),fn&&(yn.style.cssText=fn),typeof an=="string")yn.appendChild(document.createTextNode(an));else if(an)for(var En=0;En<an.length;++En)yn.appendChild(an[En]);return yn}function Gn(en,an,pn,fn){var yn=Bn(en,an,pn,fn);return yn.setAttribute("role","presentation"),yn}var ei;document.createRange?ei=function(en,an,pn,fn){var yn=document.createRange();return yn.setEnd(fn||en,pn),yn.setStart(en,an),yn}:ei=function(en,an,pn){var fn=document.body.createTextRange();try{fn.moveToElementText(en.parentNode)}catch{return fn}return fn.collapse(!0),fn.moveEnd("character",pn),fn.moveStart("character",an),fn};function ri(en,an){if(an.nodeType==3&&(an=an.parentNode),en.contains)return en.contains(an);do if(an.nodeType==11&&(an=an.host),an==en)return!0;while(an=an.parentNode)}function vi(en){var an;try{an=en.activeElement}catch{an=en.body||null}for(;an&&an.shadowRoot&&an.shadowRoot.activeElement;)an=an.shadowRoot.activeElement;return an}function wi(en,an){var pn=en.className;In(an).test(pn)||(en.className+=(pn?" ":"")+an)}function Ni(en,an){for(var pn=en.split(" "),fn=0;fn<pn.length;fn++)pn[fn]&&!In(pn[fn]).test(an)&&(an+=" "+pn[fn]);return an}var Yn=function(en){en.select()};hn?Yn=function(en){en.selectionStart=0,en.selectionEnd=en.value.length}:jr&&(Yn=function(en){try{en.select()}catch{}});function Vn(en){return en.display.wrapper.ownerDocument}function si(en){return Vn(en).defaultView}function Ri(en){var an=Array.prototype.slice.call(arguments,1);return function(){return en.apply(null,an)}}function Pi(en,an,pn){an||(an={});for(var fn in en)en.hasOwnProperty(fn)&&(pn!==!1||!an.hasOwnProperty(fn))&&(an[fn]=en[fn]);return an}function Fi(en,an,pn,fn,yn){an==null&&(an=en.search(/[^\s\u00a0]/),an==-1&&(an=en.length));for(var En=fn||0,On=yn||0;;){var Fn=en.indexOf("	",En);if(Fn<0||Fn>=an)return On+(an-En);On+=Fn-En,On+=pn-On%pn,En=Fn+1}}var zi=function(){this.id=null,this.f=null,this.time=0,this.handler=Ri(this.onTimeout,this)};zi.prototype.onTimeout=function(en){en.id=0,en.time<=+new Date?en.f():setTimeout(en.handler,en.time-+new Date)},zi.prototype.set=function(en,an){this.f=an;var pn=+new Date+en;(!this.id||pn<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,en),this.time=pn)};function oo(en,an){for(var pn=0;pn<en.length;++pn)if(en[pn]==an)return pn;return-1}var lo=50,io={toString:function(){return"CodeMirror.Pass"}},Wi={scroll:!1},Bo={origin:"*mouse"},Mo={origin:"+move"};function Zi(en,an,pn){for(var fn=0,yn=0;;){var En=en.indexOf("	",fn);En==-1&&(En=en.length);var On=En-fn;if(En==en.length||yn+On>=an)return fn+Math.min(On,an-yn);if(yn+=En-fn,yn+=pn-yn%pn,fn=En+1,yn>=an)return fn}}var Zo=[""];function Wo(en){for(;Zo.length<=en;)Zo.push(Ao(Zo)+" ");return Zo[en]}function Ao(en){return en[en.length-1]}function ba(en,an){for(var pn=[],fn=0;fn<en.length;fn++)pn[fn]=an(en[fn],fn);return pn}function Va(en,an,pn){for(var fn=0,yn=pn(an);fn<en.length&&pn(en[fn])<=yn;)fn++;en.splice(fn,0,an)}function Ia(){}function Ua(en,an){var pn;return Object.create?pn=Object.create(en):(Ia.prototype=en,pn=new Ia),an&&Pi(an,pn),pn}var ka=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function xi(en){return/\w/.test(en)||en>"Â"&&(en.toUpperCase()!=en.toLowerCase()||ka.test(en))}function ci(en,an){return an?an.source.indexOf("\\w")>-1&&xi(en)?!0:an.test(en):xi(en)}function _i(en){for(var an in en)if(en.hasOwnProperty(an)&&en[an])return!1;return!0}var Jn=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ni(en){return en.charCodeAt(0)>=768&&Jn.test(en)}function mi(en,an,pn){for(;(pn<0?an>0:an<en.length)&&ni(en.charAt(an));)an+=pn;return an}function di(en,an,pn){for(var fn=an>pn?-1:1;;){if(an==pn)return an;var yn=(an+pn)/2,En=fn<0?Math.ceil(yn):Math.floor(yn);if(En==an)return en(En)?an:pn;en(En)?pn=En:an=En+fn}}function ki(en,an,pn,fn){if(!en)return fn(an,pn,"ltr",0);for(var yn=!1,En=0;En<en.length;++En){var On=en[En];(On.from<pn&&On.to>an||an==pn&&On.to==an)&&(fn(Math.max(On.from,an),Math.min(On.to,pn),On.level==1?"rtl":"ltr",En),yn=!0)}yn||fn(an,pn,"ltr")}var ao=null;function so(en,an,pn){var fn;ao=null;for(var yn=0;yn<en.length;++yn){var En=en[yn];if(En.from<an&&En.to>an)return yn;En.to==an&&(En.from!=En.to&&pn=="before"?fn=yn:ao=yn),En.from==an&&(En.from!=En.to&&pn!="before"?fn=yn:ao=yn)}return fn??ao}var vo=function(){var en="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",an="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function pn(Zn){return Zn<=247?en.charAt(Zn):1424<=Zn&&Zn<=1524?"R":1536<=Zn&&Zn<=1785?an.charAt(Zn-1536):1774<=Zn&&Zn<=2220?"r":8192<=Zn&&Zn<=8203?"w":Zn==8204?"b":"L"}var fn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,yn=/[stwN]/,En=/[LRr]/,On=/[Lb1n]/,Fn=/[1n]/;function Un(Zn,ai,pi){this.level=Zn,this.from=ai,this.to=pi}return function(Zn,ai){var pi=ai=="ltr"?"L":"R";if(Zn.length==0||ai=="ltr"&&!fn.test(Zn))return!1;for(var Ii=Zn.length,Ci=[],Vi=0;Vi<Ii;++Vi)Ci.push(pn(Zn.charCodeAt(Vi)));for(var no=0,fo=pi;no<Ii;++no){var Co=Ci[no];Co=="m"?Ci[no]=fo:fo=Co}for(var Lo=0,mo=pi;Lo<Ii;++Lo){var No=Ci[Lo];No=="1"&&mo=="r"?Ci[Lo]="n":En.test(No)&&(mo=No,No=="r"&&(Ci[Lo]="R"))}for(var Jo=1,Go=Ci[0];Jo<Ii-1;++Jo){var Ha=Ci[Jo];Ha=="+"&&Go=="1"&&Ci[Jo+1]=="1"?Ci[Jo]="1":Ha==","&&Go==Ci[Jo+1]&&(Go=="1"||Go=="n")&&(Ci[Jo]=Go),Go=Ha}for(var Cs=0;Cs<Ii;++Cs){var El=Ci[Cs];if(El==",")Ci[Cs]="N";else if(El=="%"){var Xs=void 0;for(Xs=Cs+1;Xs<Ii&&Ci[Xs]=="%";++Xs);for(var pc=Cs&&Ci[Cs-1]=="!"||Xs<Ii&&Ci[Xs]=="1"?"1":"N",ac=Cs;ac<Xs;++ac)Ci[ac]=pc;Cs=Xs-1}}for(var pl=0,sc=pi;pl<Ii;++pl){var Fl=Ci[pl];sc=="L"&&Fl=="1"?Ci[pl]="L":En.test(Fl)&&(sc=Fl)}for(var kl=0;kl<Ii;++kl)if(yn.test(Ci[kl])){var cl=void 0;for(cl=kl+1;cl<Ii&&yn.test(Ci[cl]);++cl);for(var nl=(kl?Ci[kl-1]:pi)=="L",lc=(cl<Ii?Ci[cl]:pi)=="L",su=nl==lc?nl?"L":"R":pi,Vu=kl;Vu<cl;++Vu)Ci[Vu]=su;kl=cl-1}for(var Yl=[],lu,ul=0;ul<Ii;)if(On.test(Ci[ul])){var Hf=ul;for(++ul;ul<Ii&&On.test(Ci[ul]);++ul);Yl.push(new Un(0,Hf,ul))}else{var Au=ul,ld=Yl.length,ju=ai=="rtl"?1:0;for(++ul;ul<Ii&&Ci[ul]!="L";++ul);for(var Zl=Au;Zl<ul;)if(Fn.test(Ci[Zl])){Au<Zl&&(Yl.splice(ld,0,new Un(1,Au,Zl)),ld+=ju);var Td=Zl;for(++Zl;Zl<ul&&Fn.test(Ci[Zl]);++Zl);Yl.splice(ld,0,new Un(2,Td,Zl)),ld+=ju,Au=Zl}else++Zl;Au<ul&&Yl.splice(ld,0,new Un(1,Au,ul))}return ai=="ltr"&&(Yl[0].level==1&&(lu=Zn.match(/^\s+/))&&(Yl[0].from=lu[0].length,Yl.unshift(new Un(0,0,lu[0].length))),Ao(Yl).level==1&&(lu=Zn.match(/\s+$/))&&(Ao(Yl).to-=lu[0].length,Yl.push(new Un(0,Ii-lu[0].length,Ii)))),ai=="rtl"?Yl.reverse():Yl}}();function Eo(en,an){var pn=en.order;return pn==null&&(pn=en.order=vo(en.text,an)),pn}var Xo=[],Hi=function(en,an,pn){if(en.addEventListener)en.addEventListener(an,pn,!1);else if(en.attachEvent)en.attachEvent("on"+an,pn);else{var fn=en._handlers||(en._handlers={});fn[an]=(fn[an]||Xo).concat(pn)}};function Po(en,an){return en._handlers&&en._handlers[an]||Xo}function ro(en,an,pn){if(en.removeEventListener)en.removeEventListener(an,pn,!1);else if(en.detachEvent)en.detachEvent("on"+an,pn);else{var fn=en._handlers,yn=fn&&fn[an];if(yn){var En=oo(yn,pn);En>-1&&(fn[an]=yn.slice(0,En).concat(yn.slice(En+1)))}}}function ea(en,an){var pn=Po(en,an);if(pn.length)for(var fn=Array.prototype.slice.call(arguments,2),yn=0;yn<pn.length;++yn)pn[yn].apply(null,fn)}function la(en,an,pn){return typeof an=="string"&&(an={type:an,preventDefault:function(){this.defaultPrevented=!0}}),ea(en,pn||an.type,en,an),qs(an)||an.codemirrorIgnore}function rs(en){var an=en._handlers&&en._handlers.cursorActivity;if(an)for(var pn=en.curOp.cursorActivityHandlers||(en.curOp.cursorActivityHandlers=[]),fn=0;fn<an.length;++fn)oo(pn,an[fn])==-1&&pn.push(an[fn])}function ca(en,an){return Po(en,an).length>0}function es(en){en.prototype.on=function(an,pn){Hi(this,an,pn)},en.prototype.off=function(an,pn){ro(this,an,pn)}}function Pa(en){en.preventDefault?en.preventDefault():en.returnValue=!1}function bs(en){en.stopPropagation?en.stopPropagation():en.cancelBubble=!0}function qs(en){return en.defaultPrevented!=null?en.defaultPrevented:en.returnValue==!1}function il(en){Pa(en),bs(en)}function us(en){return en.target||en.srcElement}function Vl(en){var an=en.which;return an==null&&(en.button&1?an=1:en.button&2?an=3:en.button&4&&(an=2)),An&&en.ctrlKey&&an==1&&(an=3),an}var Bs=function(){if(jr&&Gr<9)return!1;var en=Bn("div");return"draggable"in en||"dragDrop"in en}(),Ts;function Si(en){if(Ts==null){var an=Bn("span","â");jn(en,Bn("span",[an,document.createTextNode("x")])),en.firstChild.offsetHeight!=0&&(Ts=an.offsetWidth<=1&&an.offsetHeight>2&&!(jr&&Gr<8))}var pn=Ts?Bn("span","â"):Bn("span","Â ",null,"display: inline-block; width: 1px; margin-right: -1px");return pn.setAttribute("cm-text",""),pn}var Mi;function Gi(en){if(Mi!=null)return Mi;var an=jn(en,document.createTextNode("AØ®A")),pn=ei(an,0,1).getBoundingClientRect(),fn=ei(an,1,2).getBoundingClientRect();return $n(en),!pn||pn.left==pn.right?!1:Mi=fn.right-pn.right<3}var yo=`

b`.split(/\n/).length!=3?function(en){for(var an=0,pn=[],fn=en.length;an<=fn;){var yn=en.indexOf(`
`,an);yn==-1&&(yn=en.length);var En=en.slice(an,en.charAt(yn-1)=="\r"?yn-1:yn),On=En.indexOf("\r");On!=-1?(pn.push(En.slice(0,On)),an+=On+1):(pn.push(En),an=yn+1)}return pn}:function(en){return en.split(/\r\n?|\n/)},zo=window.getSelection?function(en){try{return en.selectionStart!=en.selectionEnd}catch{return!1}}:function(en){var an;try{an=en.ownerDocument.selection.createRange()}catch{}return!an||an.parentElement()!=en?!1:an.compareEndPoints("StartToEnd",an)!=0},xo=function(){var en=Bn("div");return"oncopy"in en?!0:(en.setAttribute("oncopy","return;"),typeof en.oncopy=="function")}(),bo=null;function Sa(en){if(bo!=null)return bo;var an=jn(en,Bn("span","x")),pn=an.getBoundingClientRect(),fn=ei(an,0,1).getBoundingClientRect();return bo=Math.abs(pn.left-fn.left)>1}var Io={},aa={};function ma(en,an){arguments.length>2&&(an.dependencies=Array.prototype.slice.call(arguments,2)),Io[en]=an}function Na(en,an){aa[en]=an}function ts(en){if(typeof en=="string"&&aa.hasOwnProperty(en))en=aa[en];else if(en&&typeof en.name=="string"&&aa.hasOwnProperty(en.name)){var an=aa[en.name];typeof an=="string"&&(an={name:an}),en=Ua(an,en),en.name=an.name}else{if(typeof en=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(en))return ts("application/xml");if(typeof en=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(en))return ts("application/json")}return typeof en=="string"?{name:en}:en||{name:"null"}}function Oa(en,an){an=ts(an);var pn=Io[an.name];if(!pn)return Oa(en,"text/plain");var fn=pn(en,an);if(Ga.hasOwnProperty(an.name)){var yn=Ga[an.name];for(var En in yn)yn.hasOwnProperty(En)&&(fn.hasOwnProperty(En)&&(fn["_"+En]=fn[En]),fn[En]=yn[En])}if(fn.name=an.name,an.helperType&&(fn.helperType=an.helperType),an.modeProps)for(var On in an.modeProps)fn[On]=an.modeProps[On];return fn}var Ga={};function ra(en,an){var pn=Ga.hasOwnProperty(en)?Ga[en]:Ga[en]={};Pi(an,pn)}function Yo(en,an){if(an===!0)return an;if(en.copyState)return en.copyState(an);var pn={};for(var fn in an){var yn=an[fn];yn instanceof Array&&(yn=yn.concat([])),pn[fn]=yn}return pn}function na(en,an){for(var pn;en.innerMode&&(pn=en.innerMode(an),!(!pn||pn.mode==en));)an=pn.state,en=pn.mode;return pn||{mode:en,state:an}}function qo(en,an,pn){return en.startState?en.startState(an,pn):!0}var ko=function(en,an,pn){this.pos=this.start=0,this.string=en,this.tabSize=an||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=pn};ko.prototype.eol=function(){return this.pos>=this.string.length},ko.prototype.sol=function(){return this.pos==this.lineStart},ko.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ko.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ko.prototype.eat=function(en){var an=this.string.charAt(this.pos),pn;if(typeof en=="string"?pn=an==en:pn=an&&(en.test?en.test(an):en(an)),pn)return++this.pos,an},ko.prototype.eatWhile=function(en){for(var an=this.pos;this.eat(en););return this.pos>an},ko.prototype.eatSpace=function(){for(var en=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>en},ko.prototype.skipToEnd=function(){this.pos=this.string.length},ko.prototype.skipTo=function(en){var an=this.string.indexOf(en,this.pos);if(an>-1)return this.pos=an,!0},ko.prototype.backUp=function(en){this.pos-=en},ko.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Fi(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Fi(this.string,this.lineStart,this.tabSize):0)},ko.prototype.indentation=function(){return Fi(this.string,null,this.tabSize)-(this.lineStart?Fi(this.string,this.lineStart,this.tabSize):0)},ko.prototype.match=function(en,an,pn){if(typeof en=="string"){var fn=function(On){return pn?On.toLowerCase():On},yn=this.string.substr(this.pos,en.length);if(fn(yn)==fn(en))return an!==!1&&(this.pos+=en.length),!0}else{var En=this.string.slice(this.pos).match(en);return En&&En.index>0?null:(En&&an!==!1&&(this.pos+=En[0].length),En)}},ko.prototype.current=function(){return this.string.slice(this.start,this.pos)},ko.prototype.hideFirstChars=function(en,an){this.lineStart+=en;try{return an()}finally{this.lineStart-=en}},ko.prototype.lookAhead=function(en){var an=this.lineOracle;return an&&an.lookAhead(en)},ko.prototype.baseToken=function(){var en=this.lineOracle;return en&&en.baseToken(this.pos)};function bi(en,an){if(an-=en.first,an<0||an>=en.size)throw new Error("There is no line "+(an+en.first)+" in the document.");for(var pn=en;!pn.lines;)for(var fn=0;;++fn){var yn=pn.children[fn],En=yn.chunkSize();if(an<En){pn=yn;break}an-=En}return pn.lines[an]}function ds(en,an,pn){var fn=[],yn=an.line;return en.iter(an.line,pn.line+1,function(En){var On=En.text;yn==pn.line&&(On=On.slice(0,pn.ch)),yn==an.line&&(On=On.slice(an.ch)),fn.push(On),++yn}),fn}function sa(en,an,pn){var fn=[];return en.iter(an,pn,function(yn){fn.push(yn.text)}),fn}function Ms(en,an){var pn=an-en.height;if(pn)for(var fn=en;fn;fn=fn.parent)fn.height+=pn}function Aa(en){if(en.parent==null)return null;for(var an=en.parent,pn=oo(an.lines,en),fn=an.parent;fn;an=fn,fn=fn.parent)for(var yn=0;fn.children[yn]!=an;++yn)pn+=fn.children[yn].chunkSize();return pn+an.first}function Fs(en,an){var pn=en.first;e:do{for(var fn=0;fn<en.children.length;++fn){var yn=en.children[fn],En=yn.height;if(an<En){en=yn;continue e}an-=En,pn+=yn.chunkSize()}return pn}while(!en.lines);for(var On=0;On<en.lines.length;++On){var Fn=en.lines[On],Un=Fn.height;if(an<Un)break;an-=Un}return pn+On}function Qs(en,an){return an>=en.first&&an<en.first+en.size}function ol(en,an){return String(en.lineNumberFormatter(an+en.firstLineNumber))}function Ji(en,an,pn){if(pn===void 0&&(pn=null),!(this instanceof Ji))return new Ji(en,an,pn);this.line=en,this.ch=an,this.sticky=pn}function Uo(en,an){return en.line-an.line||en.ch-an.ch}function hs(en,an){return en.sticky==an.sticky&&Uo(en,an)==0}function ml(en){return Ji(en.line,en.ch)}function hi(en,an){return Uo(en,an)<0?an:en}function oi(en,an){return Uo(en,an)<0?en:an}function Di(en,an){return Math.max(en.first,Math.min(an,en.first+en.size-1))}function Li(en,an){if(an.line<en.first)return Ji(en.first,0);var pn=en.first+en.size-1;return an.line>pn?Ji(pn,bi(en,pn).text.length):Qi(an,bi(en,an.line).text.length)}function Qi(en,an){var pn=en.ch;return pn==null||pn>an?Ji(en.line,an):pn<0?Ji(en.line,0):en}function po(en,an){for(var pn=[],fn=0;fn<an.length;fn++)pn[fn]=Li(en,an[fn]);return pn}var To=function(en,an){this.state=en,this.lookAhead=an},ho=function(en,an,pn,fn){this.state=an,this.doc=en,this.line=pn,this.maxLookAhead=fn||0,this.baseTokens=null,this.baseTokenPos=1};ho.prototype.lookAhead=function(en){var an=this.doc.getLine(this.line+en);return an!=null&&en>this.maxLookAhead&&(this.maxLookAhead=en),an},ho.prototype.baseToken=function(en){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=en;)this.baseTokenPos+=2;var an=this.baseTokens[this.baseTokenPos+1];return{type:an&&an.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-en}},ho.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ho.fromSaved=function(en,an,pn){return an instanceof To?new ho(en,Yo(en.mode,an.state),pn,an.lookAhead):new ho(en,Yo(en.mode,an),pn)},ho.prototype.save=function(en){var an=en!==!1?Yo(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new To(an,this.maxLookAhead):an};function Ho(en,an,pn,fn){var yn=[en.state.modeGen],En={};_s(en,an.text,en.doc.mode,pn,function(Zn,ai){return yn.push(Zn,ai)},En,fn);for(var On=pn.state,Fn=function(Zn){pn.baseTokens=yn;var ai=en.state.overlays[Zn],pi=1,Ii=0;pn.state=!0,_s(en,an.text,ai.mode,pn,function(Ci,Vi){for(var no=pi;Ii<Ci;){var fo=yn[pi];fo>Ci&&yn.splice(pi,1,Ci,yn[pi+1],fo),pi+=2,Ii=Math.min(Ci,fo)}if(Vi)if(ai.opaque)yn.splice(no,pi-no,Ci,"overlay "+Vi),pi=no+2;else for(;no<pi;no+=2){var Co=yn[no+1];yn[no+1]=(Co?Co+" ":"")+"overlay "+Vi}},En),pn.state=On,pn.baseTokens=null,pn.baseTokenPos=1},Un=0;Un<en.state.overlays.length;++Un)Fn(Un);return{styles:yn,classes:En.bgClass||En.textClass?En:null}}function Ko(en,an,pn){if(!an.styles||an.styles[0]!=en.state.modeGen){var fn=So(en,Aa(an)),yn=an.text.length>en.options.maxHighlightLength&&Yo(en.doc.mode,fn.state),En=Ho(en,an,fn);yn&&(fn.state=yn),an.stateAfter=fn.save(!yn),an.styles=En.styles,En.classes?an.styleClasses=En.classes:an.styleClasses&&(an.styleClasses=null),pn===en.doc.highlightFrontier&&(en.doc.modeFrontier=Math.max(en.doc.modeFrontier,++en.doc.highlightFrontier))}return an.styles}function So(en,an,pn){var fn=en.doc,yn=en.display;if(!fn.mode.startState)return new ho(fn,!0,an);var En=Wa(en,an,pn),On=En>fn.first&&bi(fn,En-1).stateAfter,Fn=On?ho.fromSaved(fn,On,En):new ho(fn,qo(fn.mode),En);return fn.iter(En,an,function(Un){Ra(en,Un.text,Fn);var Zn=Fn.line;Un.stateAfter=Zn==an-1||Zn%5==0||Zn>=yn.viewFrom&&Zn<yn.viewTo?Fn.save():null,Fn.nextLine()}),pn&&(fn.modeFrontier=Fn.line),Fn}function Ra(en,an,pn,fn){var yn=en.doc.mode,En=new ko(an,en.options.tabSize,pn);for(En.start=En.pos=fn||0,an==""&&Ja(yn,pn.state);!En.eol();)Da(yn,En,pn.state),En.start=En.pos}function Ja(en,an){if(en.blankLine)return en.blankLine(an);if(en.innerMode){var pn=na(en,an);if(pn.mode.blankLine)return pn.mode.blankLine(pn.state)}}function Da(en,an,pn,fn){for(var yn=0;yn<10;yn++){fn&&(fn[0]=na(en,pn).mode);var En=en.token(an,pn);if(an.pos>an.start)return En}throw new Error("Mode "+en.name+" failed to advance stream.")}var ha=function(en,an,pn){this.start=en.start,this.end=en.pos,this.string=en.current(),this.type=an||null,this.state=pn};function Ea(en,an,pn,fn){var yn=en.doc,En=yn.mode,On;an=Li(yn,an);var Fn=bi(yn,an.line),Un=So(en,an.line,pn),Zn=new ko(Fn.text,en.options.tabSize,Un),ai;for(fn&&(ai=[]);(fn||Zn.pos<an.ch)&&!Zn.eol();)Zn.start=Zn.pos,On=Da(En,Zn,Un.state),fn&&ai.push(new ha(Zn,On,Yo(yn.mode,Un.state)));return fn?ai:new ha(Zn,On,Un.state)}function Ca(en,an){if(en)for(;;){var pn=en.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!pn)break;en=en.slice(0,pn.index)+en.slice(pn.index+pn[0].length);var fn=pn[1]?"bgClass":"textClass";an[fn]==null?an[fn]=pn[2]:new RegExp("(?:^|\\s)"+pn[2]+"(?:$|\\s)").test(an[fn])||(an[fn]+=" "+pn[2])}return en}function _s(en,an,pn,fn,yn,En,On){var Fn=pn.flattenSpans;Fn==null&&(Fn=en.options.flattenSpans);var Un=0,Zn=null,ai=new ko(an,en.options.tabSize,fn),pi,Ii=en.options.addModeClass&&[null];for(an==""&&Ca(Ja(pn,fn.state),En);!ai.eol();){if(ai.pos>en.options.maxHighlightLength?(Fn=!1,On&&Ra(en,an,fn,ai.pos),ai.pos=an.length,pi=null):pi=Ca(Da(pn,ai,fn.state,Ii),En),Ii){var Ci=Ii[0].name;Ci&&(pi="m-"+(pi?Ci+" "+pi:Ci))}if(!Fn||Zn!=pi){for(;Un<ai.start;)Un=Math.min(ai.start,Un+5e3),yn(Un,Zn);Zn=pi}ai.start=ai.pos}for(;Un<ai.pos;){var Vi=Math.min(ai.pos,Un+5e3);yn(Vi,Zn),Un=Vi}}function Wa(en,an,pn){for(var fn,yn,En=en.doc,On=pn?-1:an-(en.doc.mode.innerMode?1e3:100),Fn=an;Fn>On;--Fn){if(Fn<=En.first)return En.first;var Un=bi(En,Fn-1),Zn=Un.stateAfter;if(Zn&&(!pn||Fn+(Zn instanceof To?Zn.lookAhead:0)<=En.modeFrontier))return Fn;var ai=Fi(Un.text,null,en.options.tabSize);(yn==null||fn>ai)&&(yn=Fn-1,fn=ai)}return yn}function fs(en,an){if(en.modeFrontier=Math.min(en.modeFrontier,an),!(en.highlightFrontier<an-10)){for(var pn=en.first,fn=an-1;fn>pn;fn--){var yn=bi(en,fn).stateAfter;if(yn&&(!(yn instanceof To)||fn+yn.lookAhead<an)){pn=fn+1;break}}en.highlightFrontier=Math.min(en.highlightFrontier,pn)}}var oa=!1,va=!1;function Ba(){oa=!0}function ps(){va=!0}function Za(en,an,pn){this.marker=en,this.from=an,this.to=pn}function gs(en,an){if(en)for(var pn=0;pn<en.length;++pn){var fn=en[pn];if(fn.marker==an)return fn}}function Ss(en,an){for(var pn,fn=0;fn<en.length;++fn)en[fn]!=an&&(pn||(pn=[])).push(en[fn]);return pn}function ws(en,an,pn){var fn=pn&&window.WeakSet&&(pn.markedSpans||(pn.markedSpans=new WeakSet));fn&&en.markedSpans&&fn.has(en.markedSpans)?en.markedSpans.push(an):(en.markedSpans=en.markedSpans?en.markedSpans.concat([an]):[an],fn&&fn.add(en.markedSpans)),an.marker.attachLine(en)}function xl(en,an,pn){var fn;if(en)for(var yn=0;yn<en.length;++yn){var En=en[yn],On=En.marker,Fn=En.from==null||(On.inclusiveLeft?En.from<=an:En.from<an);if(Fn||En.from==an&&On.type=="bookmark"&&(!pn||!En.marker.insertLeft)){var Un=En.to==null||(On.inclusiveRight?En.to>=an:En.to>an);(fn||(fn=[])).push(new Za(On,En.from,Un?null:En.to))}}return fn}function al(en,an,pn){var fn;if(en)for(var yn=0;yn<en.length;++yn){var En=en[yn],On=En.marker,Fn=En.to==null||(On.inclusiveRight?En.to>=an:En.to>an);if(Fn||En.from==an&&On.type=="bookmark"&&(!pn||En.marker.insertLeft)){var Un=En.from==null||(On.inclusiveLeft?En.from<=an:En.from<an);(fn||(fn=[])).push(new Za(On,Un?null:En.from-an,En.to==null?null:En.to-an))}}return fn}function Il(en,an){if(an.full)return null;var pn=Qs(en,an.from.line)&&bi(en,an.from.line).markedSpans,fn=Qs(en,an.to.line)&&bi(en,an.to.line).markedSpans;if(!pn&&!fn)return null;var yn=an.from.ch,En=an.to.ch,On=Uo(an.from,an.to)==0,Fn=xl(pn,yn,On),Un=al(fn,En,On),Zn=an.text.length==1,ai=Ao(an.text).length+(Zn?yn:0);if(Fn)for(var pi=0;pi<Fn.length;++pi){var Ii=Fn[pi];if(Ii.to==null){var Ci=gs(Un,Ii.marker);Ci?Zn&&(Ii.to=Ci.to==null?null:Ci.to+ai):Ii.to=yn}}if(Un)for(var Vi=0;Vi<Un.length;++Vi){var no=Un[Vi];if(no.to!=null&&(no.to+=ai),no.from==null){var fo=gs(Fn,no.marker);fo||(no.from=ai,Zn&&(Fn||(Fn=[])).push(no))}else no.from+=ai,Zn&&(Fn||(Fn=[])).push(no)}Fn&&(Fn=Ql(Fn)),Un&&Un!=Fn&&(Un=Ql(Un));var Co=[Fn];if(!Zn){var Lo=an.text.length-2,mo;if(Lo>0&&Fn)for(var No=0;No<Fn.length;++No)Fn[No].to==null&&(mo||(mo=[])).push(new Za(Fn[No].marker,null,null));for(var Jo=0;Jo<Lo;++Jo)Co.push(mo);Co.push(Un)}return Co}function Ql(en){for(var an=0;an<en.length;++an){var pn=en[an];pn.from!=null&&pn.from==pn.to&&pn.marker.clearWhenEmpty!==!1&&en.splice(an--,1)}return en.length?en:null}function vl(en,an,pn){var fn=null;if(en.iter(an.line,pn.line+1,function(Ci){if(Ci.markedSpans)for(var Vi=0;Vi<Ci.markedSpans.length;++Vi){var no=Ci.markedSpans[Vi].marker;no.readOnly&&(!fn||oo(fn,no)==-1)&&(fn||(fn=[])).push(no)}}),!fn)return null;for(var yn=[{from:an,to:pn}],En=0;En<fn.length;++En)for(var On=fn[En],Fn=On.find(0),Un=0;Un<yn.length;++Un){var Zn=yn[Un];if(!(Uo(Zn.to,Fn.from)<0||Uo(Zn.from,Fn.to)>0)){var ai=[Un,1],pi=Uo(Zn.from,Fn.from),Ii=Uo(Zn.to,Fn.to);(pi<0||!On.inclusiveLeft&&!pi)&&ai.push({from:Zn.from,to:Fn.from}),(Ii>0||!On.inclusiveRight&&!Ii)&&ai.push({from:Fn.to,to:Zn.to}),yn.splice.apply(yn,ai),Un+=ai.length-3}}return yn}function yl(en){var an=en.markedSpans;if(an){for(var pn=0;pn<an.length;++pn)an[pn].marker.detachLine(en);en.markedSpans=null}}function xc(en,an){if(an){for(var pn=0;pn<an.length;++pn)an[pn].marker.attachLine(en);en.markedSpans=an}}function dl(en){return en.inclusiveLeft?-1:0}function Ll(en){return en.inclusiveRight?1:0}function Ta(en,an){var pn=en.lines.length-an.lines.length;if(pn!=0)return pn;var fn=en.find(),yn=an.find(),En=Uo(fn.from,yn.from)||dl(en)-dl(an);if(En)return-En;var On=Uo(fn.to,yn.to)||Ll(en)-Ll(an);return On||an.id-en.id}function qi(en,an){var pn=va&&en.markedSpans,fn;if(pn)for(var yn=void 0,En=0;En<pn.length;++En)yn=pn[En],yn.marker.collapsed&&(an?yn.from:yn.to)==null&&(!fn||Ta(fn,yn.marker)<0)&&(fn=yn.marker);return fn}function Fo(en){return qi(en,!0)}function jo(en){return qi(en,!1)}function ua(en,an){var pn=va&&en.markedSpans,fn;if(pn)for(var yn=0;yn<pn.length;++yn){var En=pn[yn];En.marker.collapsed&&(En.from==null||En.from<an)&&(En.to==null||En.to>an)&&(!fn||Ta(fn,En.marker)<0)&&(fn=En.marker)}return fn}function xa(en,an,pn,fn,yn){var En=bi(en,an),On=va&&En.markedSpans;if(On)for(var Fn=0;Fn<On.length;++Fn){var Un=On[Fn];if(Un.marker.collapsed){var Zn=Un.marker.find(0),ai=Uo(Zn.from,pn)||dl(Un.marker)-dl(yn),pi=Uo(Zn.to,fn)||Ll(Un.marker)-Ll(yn);if(!(ai>=0&&pi<=0||ai<=0&&pi>=0)&&(ai<=0&&(Un.marker.inclusiveRight&&yn.inclusiveLeft?Uo(Zn.to,pn)>=0:Uo(Zn.to,pn)>0)||ai>=0&&(Un.marker.inclusiveRight&&yn.inclusiveLeft?Uo(Zn.from,fn)<=0:Uo(Zn.from,fn)<0)))return!0}}}function Ya(en){for(var an;an=Fo(en);)en=an.find(-1,!0).line;return en}function Is(en){for(var an;an=jo(en);)en=an.find(1,!0).line;return en}function Ls(en){for(var an,pn;an=jo(en);)en=an.find(1,!0).line,(pn||(pn=[])).push(en);return pn}function dc(en,an){var pn=bi(en,an),fn=Ya(pn);return pn==fn?an:Aa(fn)}function bl(en,an){if(an>en.lastLine())return an;var pn=bi(en,an),fn;if(!Sl(en,pn))return an;for(;fn=jo(pn);)pn=fn.find(1,!0).line;return Aa(pn)+1}function Sl(en,an){var pn=va&&an.markedSpans;if(pn){for(var fn=void 0,yn=0;yn<pn.length;++yn)if(fn=pn[yn],!!fn.marker.collapsed){if(fn.from==null)return!0;if(!fn.marker.widgetNode&&fn.from==0&&fn.marker.inclusiveLeft&&jl(en,an,fn))return!0}}}function jl(en,an,pn){if(pn.to==null){var fn=pn.marker.find(1,!0);return jl(en,fn.line,gs(fn.line.markedSpans,pn.marker))}if(pn.marker.inclusiveRight&&pn.to==an.text.length)return!0;for(var yn=void 0,En=0;En<an.markedSpans.length;++En)if(yn=an.markedSpans[En],yn.marker.collapsed&&!yn.marker.widgetNode&&yn.from==pn.to&&(yn.to==null||yn.to!=pn.from)&&(yn.marker.inclusiveLeft||pn.marker.inclusiveRight)&&jl(en,an,yn))return!0}function sl(en){en=Ya(en);for(var an=0,pn=en.parent,fn=0;fn<pn.lines.length;++fn){var yn=pn.lines[fn];if(yn==en)break;an+=yn.height}for(var En=pn.parent;En;pn=En,En=pn.parent)for(var On=0;On<En.children.length;++On){var Fn=En.children[On];if(Fn==pn)break;an+=Fn.height}return an}function _n(en){if(en.height==0)return 0;for(var an=en.text.length,pn,fn=en;pn=Fo(fn);){var yn=pn.find(0,!0);fn=yn.from.line,an+=yn.from.ch-yn.to.ch}for(fn=en;pn=jo(fn);){var En=pn.find(0,!0);an-=fn.text.length-En.from.ch,fn=En.to.line,an+=fn.text.length-En.to.ch}return an}function Sn(en){var an=en.display,pn=en.doc;an.maxLine=bi(pn,pn.first),an.maxLineLength=_n(an.maxLine),an.maxLineChanged=!0,pn.iter(function(fn){var yn=_n(fn);yn>an.maxLineLength&&(an.maxLineLength=yn,an.maxLine=fn)})}var Pn=function(en,an,pn){this.text=en,xc(this,an),this.height=pn?pn(this):1};Pn.prototype.lineNo=function(){return Aa(this)},es(Pn);function Nn(en,an,pn,fn){en.text=an,en.stateAfter&&(en.stateAfter=null),en.styles&&(en.styles=null),en.order!=null&&(en.order=null),yl(en),xc(en,pn);var yn=fn?fn(en):1;yn!=en.height&&Ms(en,yn)}function qn(en){en.parent=null,yl(en)}var Kn={},ti={};function yi(en,an){if(!en||/^\s*$/.test(en))return null;var pn=an.addModeClass?ti:Kn;return pn[en]||(pn[en]=en.replace(/\S+/g,"cm-$&"))}function gi(en,an){var pn=Gn("span",null,null,Wr?"padding-right: .1px":null),fn={pre:Gn("pre",[pn],"CodeMirror-line"),content:pn,col:0,pos:0,cm:en,trailingSpace:!1,splitSpaces:en.getOption("lineWrapping")};an.measure={};for(var yn=0;yn<=(an.rest?an.rest.length:0);yn++){var En=yn?an.rest[yn-1]:an.line,On=void 0;fn.pos=0,fn.addToken=ji,Gi(en.display.measure)&&(On=Eo(En,en.doc.direction))&&(fn.addToken=$i(fn.addToken,On)),fn.map=[];var Fn=an!=en.display.externalMeasured&&Aa(En);da(En,fn,Ko(en,En,Fn)),En.styleClasses&&(En.styleClasses.bgClass&&(fn.bgClass=Ni(En.styleClasses.bgClass,fn.bgClass||"")),En.styleClasses.textClass&&(fn.textClass=Ni(En.styleClasses.textClass,fn.textClass||""))),fn.map.length==0&&fn.map.push(0,0,fn.content.appendChild(Si(en.display.measure))),yn==0?(an.measure.map=fn.map,an.measure.cache={}):((an.measure.maps||(an.measure.maps=[])).push(fn.map),(an.measure.caches||(an.measure.caches=[])).push({}))}if(Wr){var Un=fn.content.lastChild;(/\bcm-tab\b/.test(Un.className)||Un.querySelector&&Un.querySelector(".cm-tab"))&&(fn.content.className="cm-tab-wrap-hack")}return ea(en,"renderLine",en,an.line,fn.pre),fn.pre.className&&(fn.textClass=Ni(fn.pre.className,fn.textClass||"")),fn}function Ei(en){var an=Bn("span","â¢","cm-invalidchar");return an.title="\\u"+en.charCodeAt(0).toString(16),an.setAttribute("aria-label",an.title),an}function ji(en,an,pn,fn,yn,En,On){if(an){var Fn=en.splitSpaces?eo(an,en.trailingSpace):an,Un=en.cm.state.specialChars,Zn=!1,ai;if(!Un.test(an))en.col+=an.length,ai=document.createTextNode(Fn),en.map.push(en.pos,en.pos+an.length,ai),jr&&Gr<9&&(Zn=!0),en.pos+=an.length;else{ai=document.createDocumentFragment();for(var pi=0;;){Un.lastIndex=pi;var Ii=Un.exec(an),Ci=Ii?Ii.index-pi:an.length-pi;if(Ci){var Vi=document.createTextNode(Fn.slice(pi,pi+Ci));jr&&Gr<9?ai.appendChild(Bn("span",[Vi])):ai.appendChild(Vi),en.map.push(en.pos,en.pos+Ci,Vi),en.col+=Ci,en.pos+=Ci}if(!Ii)break;pi+=Ci+1;var no=void 0;if(Ii[0]=="	"){var fo=en.cm.options.tabSize,Co=fo-en.col%fo;no=ai.appendChild(Bn("span",Wo(Co),"cm-tab")),no.setAttribute("role","presentation"),no.setAttribute("cm-text","	"),en.col+=Co}else Ii[0]=="\r"||Ii[0]==`
`?(no=ai.appendChild(Bn("span",Ii[0]=="\r"?"â":"â¤","cm-invalidchar")),no.setAttribute("cm-text",Ii[0]),en.col+=1):(no=en.cm.options.specialCharPlaceholder(Ii[0]),no.setAttribute("cm-text",Ii[0]),jr&&Gr<9?ai.appendChild(Bn("span",[no])):ai.appendChild(no),en.col+=1);en.map.push(en.pos,en.pos+1,no),en.pos++}}if(en.trailingSpace=Fn.charCodeAt(an.length-1)==32,pn||fn||yn||Zn||En||On){var Lo=pn||"";fn&&(Lo+=fn),yn&&(Lo+=yn);var mo=Bn("span",[ai],Lo,En);if(On)for(var No in On)On.hasOwnProperty(No)&&No!="style"&&No!="class"&&mo.setAttribute(No,On[No]);return en.content.appendChild(mo)}en.content.appendChild(ai)}}function eo(en,an){if(en.length>1&&!/  /.test(en))return en;for(var pn=an,fn="",yn=0;yn<en.length;yn++){var En=en.charAt(yn);En==" "&&pn&&(yn==en.length-1||en.charCodeAt(yn+1)==32)&&(En="Â "),fn+=En,pn=En==" "}return fn}function $i(en,an){return function(pn,fn,yn,En,On,Fn,Un){yn=yn?yn+" cm-force-border":"cm-force-border";for(var Zn=pn.pos,ai=Zn+fn.length;;){for(var pi=void 0,Ii=0;Ii<an.length&&(pi=an[Ii],!(pi.to>Zn&&pi.from<=Zn));Ii++);if(pi.to>=ai)return en(pn,fn,yn,En,On,Fn,Un);en(pn,fn.slice(0,pi.to-Zn),yn,En,null,Fn,Un),En=null,fn=fn.slice(pi.to-Zn),Zn=pi.to}}}function uo(en,an,pn,fn){var yn=!fn&&pn.widgetNode;yn&&en.map.push(en.pos,en.pos+an,yn),!fn&&en.cm.display.input.needsContentAttribute&&(yn||(yn=en.content.appendChild(document.createElement("span"))),yn.setAttribute("cm-marker",pn.id)),yn&&(en.cm.display.input.setUneditable(yn),en.content.appendChild(yn)),en.pos+=an,en.trailingSpace=!1}function da(en,an,pn){var fn=en.markedSpans,yn=en.text,En=0;if(!fn){for(var On=1;On<pn.length;On+=2)an.addToken(an,yn.slice(En,En=pn[On]),yi(pn[On+1],an.cm.options));return}for(var Fn=yn.length,Un=0,Zn=1,ai="",pi,Ii,Ci=0,Vi,no,fo,Co,Lo;;){if(Ci==Un){Vi=no=fo=Ii="",Lo=null,Co=null,Ci=1/0;for(var mo=[],No=void 0,Jo=0;Jo<fn.length;++Jo){var Go=fn[Jo],Ha=Go.marker;if(Ha.type=="bookmark"&&Go.from==Un&&Ha.widgetNode)mo.push(Ha);else if(Go.from<=Un&&(Go.to==null||Go.to>Un||Ha.collapsed&&Go.to==Un&&Go.from==Un)){if(Go.to!=null&&Go.to!=Un&&Ci>Go.to&&(Ci=Go.to,no=""),Ha.className&&(Vi+=" "+Ha.className),Ha.css&&(Ii=(Ii?Ii+";":"")+Ha.css),Ha.startStyle&&Go.from==Un&&(fo+=" "+Ha.startStyle),Ha.endStyle&&Go.to==Ci&&(No||(No=[])).push(Ha.endStyle,Go.to),Ha.title&&((Lo||(Lo={})).title=Ha.title),Ha.attributes)for(var Cs in Ha.attributes)(Lo||(Lo={}))[Cs]=Ha.attributes[Cs];Ha.collapsed&&(!Co||Ta(Co.marker,Ha)<0)&&(Co=Go)}else Go.from>Un&&Ci>Go.from&&(Ci=Go.from)}if(No)for(var El=0;El<No.length;El+=2)No[El+1]==Ci&&(no+=" "+No[El]);if(!Co||Co.from==Un)for(var Xs=0;Xs<mo.length;++Xs)uo(an,0,mo[Xs]);if(Co&&(Co.from||0)==Un){if(uo(an,(Co.to==null?Fn+1:Co.to)-Un,Co.marker,Co.from==null),Co.to==null)return;Co.to==Un&&(Co=!1)}}if(Un>=Fn)break;for(var pc=Math.min(Fn,Ci);;){if(ai){var ac=Un+ai.length;if(!Co){var pl=ac>pc?ai.slice(0,pc-Un):ai;an.addToken(an,pl,pi?pi+Vi:Vi,fo,Un+pl.length==Ci?no:"",Ii,Lo)}if(ac>=pc){ai=ai.slice(pc-Un),Un=pc;break}Un=ac,fo=""}ai=yn.slice(En,En=pn[Zn++]),pi=yi(pn[Zn++],an.cm.options)}}}function Fa(en,an,pn){this.line=an,this.rest=Ls(an),this.size=this.rest?Aa(Ao(this.rest))-pn+1:1,this.node=this.text=null,this.hidden=Sl(en,an)}function fa(en,an,pn){for(var fn=[],yn,En=an;En<pn;En=yn){var On=new Fa(en.doc,bi(en.doc,En),En);yn=En+On.size,fn.push(On)}return fn}var Ps=null;function Ks(en){Ps?Ps.ops.push(en):en.ownsGroup=Ps={ops:[en],delayedCallbacks:[]}}function Kl(en){var an=en.delayedCallbacks,pn=0;do{for(;pn<an.length;pn++)an[pn].call(null);for(var fn=0;fn<en.ops.length;fn++){var yn=en.ops[fn];if(yn.cursorActivityHandlers)for(;yn.cursorActivityCalled<yn.cursorActivityHandlers.length;)yn.cursorActivityHandlers[yn.cursorActivityCalled++].call(null,yn.cm)}}while(pn<an.length)}function Ul(en,an){var pn=en.ownsGroup;if(pn)try{Kl(pn)}finally{Ps=null,an(pn)}}var Ma=null;function vs(en,an){var pn=Po(en,an);if(pn.length){var fn=Array.prototype.slice.call(arguments,2),yn;Ps?yn=Ps.delayedCallbacks:Ma?yn=Ma:(yn=Ma=[],setTimeout(Ka,0));for(var En=function(Fn){yn.push(function(){return pn[Fn].apply(null,fn)})},On=0;On<pn.length;++On)En(On)}}function Ka(){var en=Ma;Ma=null;for(var an=0;an<en.length;++an)en[an]()}function Es(en,an,pn,fn){for(var yn=0;yn<an.changes.length;yn++){var En=an.changes[yn];En=="text"?Lc(en,an):En=="gutter"?ec(en,an,pn,fn):En=="class"?Pl(en,an):En=="widget"&&tc(en,an,fn)}an.changes=null}function Jl(en){return en.node==en.text&&(en.node=Bn("div",null,null,"position: relative"),en.text.parentNode&&en.text.parentNode.replaceChild(en.node,en.text),en.node.appendChild(en.text),jr&&Gr<8&&(en.node.style.zIndex=2)),en.node}function Gc(en,an){var pn=an.bgClass?an.bgClass+" "+(an.line.bgClass||""):an.line.bgClass;if(pn&&(pn+=" CodeMirror-linebackground"),an.background)pn?an.background.className=pn:(an.background.parentNode.removeChild(an.background),an.background=null);else if(pn){var fn=Jl(an);an.background=fn.insertBefore(Bn("div",null,pn),fn.firstChild),en.display.input.setUneditable(an.background)}}function _l(en,an){var pn=en.display.externalMeasured;return pn&&pn.line==an.line?(en.display.externalMeasured=null,an.measure=pn.measure,pn.built):gi(en,an)}function Lc(en,an){var pn=an.text.className,fn=_l(en,an);an.text==an.node&&(an.node=fn.pre),an.text.parentNode.replaceChild(fn.pre,an.text),an.text=fn.pre,fn.bgClass!=an.bgClass||fn.textClass!=an.textClass?(an.bgClass=fn.bgClass,an.textClass=fn.textClass,Pl(en,an)):pn&&(an.text.className=pn)}function Pl(en,an){Gc(en,an),an.line.wrapClass?Jl(an).className=an.line.wrapClass:an.node!=an.text&&(an.node.className="");var pn=an.textClass?an.textClass+" "+(an.line.textClass||""):an.line.textClass;an.text.className=pn||""}function ec(en,an,pn,fn){if(an.gutter&&(an.node.removeChild(an.gutter),an.gutter=null),an.gutterBackground&&(an.node.removeChild(an.gutterBackground),an.gutterBackground=null),an.line.gutterClass){var yn=Jl(an);an.gutterBackground=Bn("div",null,"CodeMirror-gutter-background "+an.line.gutterClass,"left: "+(en.options.fixedGutter?fn.fixedPos:-fn.gutterTotalWidth)+"px; width: "+fn.gutterTotalWidth+"px"),en.display.input.setUneditable(an.gutterBackground),yn.insertBefore(an.gutterBackground,an.text)}var En=an.line.gutterMarkers;if(en.options.lineNumbers||En){var On=Jl(an),Fn=an.gutter=Bn("div",null,"CodeMirror-gutter-wrapper","left: "+(en.options.fixedGutter?fn.fixedPos:-fn.gutterTotalWidth)+"px");if(Fn.setAttribute("aria-hidden","true"),en.display.input.setUneditable(Fn),On.insertBefore(Fn,an.text),an.line.gutterClass&&(Fn.className+=" "+an.line.gutterClass),en.options.lineNumbers&&(!En||!En["CodeMirror-linenumbers"])&&(an.lineNumber=Fn.appendChild(Bn("div",ol(en.options,pn),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+fn.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+en.display.lineNumInnerWidth+"px"))),En)for(var Un=0;Un<en.display.gutterSpecs.length;++Un){var Zn=en.display.gutterSpecs[Un].className,ai=En.hasOwnProperty(Zn)&&En[Zn];ai&&Fn.appendChild(Bn("div",[ai],"CodeMirror-gutter-elt","left: "+fn.gutterLeft[Zn]+"px; width: "+fn.gutterWidth[Zn]+"px"))}}}function tc(en,an,pn){an.alignable&&(an.alignable=null);for(var fn=In("CodeMirror-linewidget"),yn=an.node.firstChild,En=void 0;yn;yn=En)En=yn.nextSibling,fn.test(yn.className)&&an.node.removeChild(yn);Wc(en,an,pn)}function Ol(en,an,pn,fn){var yn=_l(en,an);return an.text=an.node=yn.pre,yn.bgClass&&(an.bgClass=yn.bgClass),yn.textClass&&(an.textClass=yn.textClass),Pl(en,an),ec(en,an,pn,fn),Wc(en,an,fn),an.node}function Wc(en,an,pn){if(rc(en,an.line,an,pn,!0),an.rest)for(var fn=0;fn<an.rest.length;fn++)rc(en,an.rest[fn],an,pn,!1)}function rc(en,an,pn,fn,yn){if(an.widgets)for(var En=Jl(pn),On=0,Fn=an.widgets;On<Fn.length;++On){var Un=Fn[On],Zn=Bn("div",[Un.node],"CodeMirror-linewidget"+(Un.className?" "+Un.className:""));Un.handleMouseEvents||Zn.setAttribute("cm-ignore-events","true"),hc(Un,Zn,pn,fn),en.display.input.setUneditable(Zn),yn&&Un.above?En.insertBefore(Zn,pn.gutter||pn.text):En.appendChild(Zn),vs(Un,"redraw")}}function hc(en,an,pn,fn){if(en.noHScroll){(pn.alignable||(pn.alignable=[])).push(an);var yn=fn.wrapperWidth;an.style.left=fn.fixedPos+"px",en.coverGutter||(yn-=fn.gutterTotalWidth,an.style.paddingLeft=fn.gutterTotalWidth+"px"),an.style.width=yn+"px"}en.coverGutter&&(an.style.zIndex=5,an.style.position="relative",en.noHScroll||(an.style.marginLeft=-fn.gutterTotalWidth+"px"))}function Yc(en){if(en.height!=null)return en.height;var an=en.doc.cm;if(!an)return 0;if(!ri(document.body,en.node)){var pn="position: relative;";en.coverGutter&&(pn+="margin-left: -"+an.display.gutters.offsetWidth+"px;"),en.noHScroll&&(pn+="width: "+an.display.wrapper.clientWidth+"px;"),jn(an.display.measure,Bn("div",[en.node],null,pn))}return en.height=en.node.parentNode.offsetHeight}function mc(en,an){for(var pn=us(an);pn!=en.wrapper;pn=pn.parentNode)if(!pn||pn.nodeType==1&&pn.getAttribute("cm-ignore-events")=="true"||pn.parentNode==en.sizer&&pn!=en.mover)return!0}function hu(en){return en.lineSpace.offsetTop}function ns(en){return en.mover.offsetHeight-en.lineSpace.offsetHeight}function qc(en){if(en.cachedPaddingH)return en.cachedPaddingH;var an=jn(en.measure,Bn("pre","x","CodeMirror-line-like")),pn=window.getComputedStyle?window.getComputedStyle(an):an.currentStyle,fn={left:parseInt(pn.paddingLeft),right:parseInt(pn.paddingRight)};return!isNaN(fn.left)&&!isNaN(fn.right)&&(en.cachedPaddingH=fn),fn}function Zs(en){return lo-en.display.nativeBarWidth}function Js(en){return en.display.scroller.clientWidth-Zs(en)-en.display.barWidth}function vc(en){return en.display.scroller.clientHeight-Zs(en)-en.display.barHeight}function $d(en,an,pn){var fn=en.options.lineWrapping,yn=fn&&Js(en);if(!an.measure.heights||fn&&an.measure.width!=yn){var En=an.measure.heights=[];if(fn){an.measure.width=yn;for(var On=an.text.firstChild.getClientRects(),Fn=0;Fn<On.length-1;Fn++){var Un=On[Fn],Zn=On[Fn+1];Math.abs(Un.bottom-Zn.bottom)>2&&En.push((Un.bottom+Zn.top)/2-pn.top)}}En.push(pn.bottom-pn.top)}}function Ku(en,an,pn){if(en.line==an)return{map:en.measure.map,cache:en.measure.cache};if(en.rest){for(var fn=0;fn<en.rest.length;fn++)if(en.rest[fn]==an)return{map:en.measure.maps[fn],cache:en.measure.caches[fn]};for(var yn=0;yn<en.rest.length;yn++)if(Aa(en.rest[yn])>pn)return{map:en.measure.maps[yn],cache:en.measure.caches[yn],before:!0}}}function fc(en,an){an=Ya(an);var pn=Aa(an),fn=en.display.externalMeasured=new Fa(en.doc,an,pn);fn.lineN=pn;var yn=fn.built=gi(en,fn);return fn.text=yn.pre,jn(en.display.lineMeasure,yn.pre),fn}function Kc(en,an,pn,fn){return Rl(en,Pc(en,an),pn,fn)}function Gl(en,an){if(an>=en.display.viewFrom&&an<en.display.viewTo)return en.display.view[Qc(en,an)];var pn=en.display.externalMeasured;if(pn&&an>=pn.lineN&&an<pn.lineN+pn.size)return pn}function Pc(en,an){var pn=Aa(an),fn=Gl(en,pn);fn&&!fn.text?fn=null:fn&&fn.changes&&(Es(en,fn,pn,Ys(en)),en.curOp.forceUpdate=!0),fn||(fn=fc(en,an));var yn=Ku(fn,an,pn);return{line:an,view:fn,rect:null,map:yn.map,cache:yn.cache,before:yn.before,hasHeights:!1}}function Rl(en,an,pn,fn,yn){an.before&&(pn=-1);var En=pn+(fn||""),On;return an.cache.hasOwnProperty(En)?On=an.cache[En]:(an.rect||(an.rect=an.view.text.getBoundingClientRect()),an.hasHeights||($d(en,an.view,an.rect),an.hasHeights=!0),On=gd(en,an,pn,fn),On.bogus||(an.cache[En]=On)),{left:On.left,right:On.right,top:yn?On.rtop:On.top,bottom:yn?On.rbottom:On.bottom}}var Zc={left:0,right:0,top:0,bottom:0};function Xc(en,an,pn){for(var fn,yn,En,On,Fn,Un,Zn=0;Zn<en.length;Zn+=3)if(Fn=en[Zn],Un=en[Zn+1],an<Fn?(yn=0,En=1,On="left"):an<Un?(yn=an-Fn,En=yn+1):(Zn==en.length-3||an==Un&&en[Zn+3]>an)&&(En=Un-Fn,yn=En-1,an>=Un&&(On="right")),yn!=null){if(fn=en[Zn+2],Fn==Un&&pn==(fn.insertLeft?"left":"right")&&(On=pn),pn=="left"&&yn==0)for(;Zn&&en[Zn-2]==en[Zn-3]&&en[Zn-1].insertLeft;)fn=en[(Zn-=3)+2],On="left";if(pn=="right"&&yn==Un-Fn)for(;Zn<en.length-3&&en[Zn+3]==en[Zn+4]&&!en[Zn+5].insertLeft;)fn=en[(Zn+=3)+2],On="right";break}return{node:fn,start:yn,end:En,collapse:On,coverStart:Fn,coverEnd:Un}}function Tu(en,an){var pn=Zc;if(an=="left")for(var fn=0;fn<en.length&&(pn=en[fn]).left==pn.right;fn++);else for(var yn=en.length-1;yn>=0&&(pn=en[yn]).left==pn.right;yn--);return pn}function gd(en,an,pn,fn){var yn=Xc(an.map,pn,fn),En=yn.node,On=yn.start,Fn=yn.end,Un=yn.collapse,Zn;if(En.nodeType==3){for(var ai=0;ai<4;ai++){for(;On&&ni(an.line.text.charAt(yn.coverStart+On));)--On;for(;yn.coverStart+Fn<yn.coverEnd&&ni(an.line.text.charAt(yn.coverStart+Fn));)++Fn;if(jr&&Gr<9&&On==0&&Fn==yn.coverEnd-yn.coverStart?Zn=En.parentNode.getBoundingClientRect():Zn=Tu(ei(En,On,Fn).getClientRects(),fn),Zn.left||Zn.right||On==0)break;Fn=On,On=On-1,Un="right"}jr&&Gr<11&&(Zn=Mu(en.display.measure,Zn))}else{On>0&&(Un=fn="right");var pi;en.options.lineWrapping&&(pi=En.getClientRects()).length>1?Zn=pi[fn=="right"?pi.length-1:0]:Zn=En.getBoundingClientRect()}if(jr&&Gr<9&&!On&&(!Zn||!Zn.left&&!Zn.right)){var Ii=En.parentNode.getClientRects()[0];Ii?Zn={left:Ii.left,right:Ii.left+Hs(en.display),top:Ii.top,bottom:Ii.bottom}:Zn=Zc}for(var Ci=Zn.top-an.rect.top,Vi=Zn.bottom-an.rect.top,no=(Ci+Vi)/2,fo=an.view.measure.heights,Co=0;Co<fo.length-1&&!(no<fo[Co]);Co++);var Lo=Co?fo[Co-1]:0,mo=fo[Co],No={left:(Un=="right"?Zn.right:Zn.left)-an.rect.left,right:(Un=="left"?Zn.left:Zn.right)-an.rect.left,top:Lo,bottom:mo};return!Zn.left&&!Zn.right&&(No.bogus=!0),en.options.singleCursorHeightPerLine||(No.rtop=Ci,No.rbottom=Vi),No}function Mu(en,an){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Sa(en))return an;var pn=screen.logicalXDPI/screen.deviceXDPI,fn=screen.logicalYDPI/screen.deviceYDPI;return{left:an.left*pn,right:an.right*pn,top:an.top*fn,bottom:an.bottom*fn}}function fu(en){if(en.measure&&(en.measure.cache={},en.measure.heights=null,en.rest))for(var an=0;an<en.rest.length;an++)en.measure.caches[an]={}}function Iu(en){en.display.externalMeasure=null,$n(en.display.lineMeasure);for(var an=0;an<en.display.view.length;an++)fu(en.display.view[an])}function Oc(en){Iu(en),en.display.cachedCharWidth=en.display.cachedTextHeight=en.display.cachedPaddingH=null,en.options.lineWrapping||(en.display.maxLineChanged=!0),en.display.lineNumChars=null}function pu(en){return Zr&&mn?-(en.body.getBoundingClientRect().left-parseInt(getComputedStyle(en.body).marginLeft)):en.defaultView.pageXOffset||(en.documentElement||en.body).scrollLeft}function Lu(en){return Zr&&mn?-(en.body.getBoundingClientRect().top-parseInt(getComputedStyle(en.body).marginTop)):en.defaultView.pageYOffset||(en.documentElement||en.body).scrollTop}function li(en){var an=Ya(en),pn=an.widgets,fn=0;if(pn)for(var yn=0;yn<pn.length;++yn)pn[yn].above&&(fn+=Yc(pn[yn]));return fn}function Ai(en,an,pn,fn,yn){if(!yn){var En=li(an);pn.top+=En,pn.bottom+=En}if(fn=="line")return pn;fn||(fn="local");var On=sl(an);if(fn=="local"?On+=hu(en.display):On-=en.display.viewOffset,fn=="page"||fn=="window"){var Fn=en.display.lineSpace.getBoundingClientRect();On+=Fn.top+(fn=="window"?0:Lu(Vn(en)));var Un=Fn.left+(fn=="window"?0:pu(Vn(en)));pn.left+=Un,pn.right+=Un}return pn.top+=On,pn.bottom+=On,pn}function Oi(en,an,pn){if(pn=="div")return an;var fn=an.left,yn=an.top;if(pn=="page")fn-=pu(Vn(en)),yn-=Lu(Vn(en));else if(pn=="local"||!pn){var En=en.display.sizer.getBoundingClientRect();fn+=En.left,yn+=En.top}var On=en.display.lineSpace.getBoundingClientRect();return{left:fn-On.left,top:yn-On.top}}function Bi(en,an,pn,fn,yn){return fn||(fn=bi(en.doc,an.line)),Ai(en,fn,Kc(en,fn,an.ch,yn),pn)}function Yi(en,an,pn,fn,yn,En){fn=fn||bi(en.doc,an.line),yn||(yn=Pc(en,fn));function On(Vi,no){var fo=Rl(en,yn,Vi,no?"right":"left",En);return no?fo.left=fo.right:fo.right=fo.left,Ai(en,fn,fo,pn)}var Fn=Eo(fn,en.doc.direction),Un=an.ch,Zn=an.sticky;if(Un>=fn.text.length?(Un=fn.text.length,Zn="before"):Un<=0&&(Un=0,Zn="after"),!Fn)return On(Zn=="before"?Un-1:Un,Zn=="before");function ai(Vi,no,fo){var Co=Fn[no],Lo=Co.level==1;return On(fo?Vi-1:Vi,Lo!=fo)}var pi=so(Fn,Un,Zn),Ii=ao,Ci=ai(Un,pi,Zn=="before");return Ii!=null&&(Ci.other=ai(Un,Ii,Zn!="before")),Ci}function wo(en,an){var pn=0;an=Li(en.doc,an),en.options.lineWrapping||(pn=Hs(en.display)*an.ch);var fn=bi(en.doc,an.line),yn=sl(fn)+hu(en.display);return{left:pn,right:pn,top:yn,bottom:yn+fn.height}}function Ro(en,an,pn,fn,yn){var En=Ji(en,an,pn);return En.xRel=yn,fn&&(En.outside=fn),En}function _o(en,an,pn){var fn=en.doc;if(pn+=en.display.viewOffset,pn<0)return Ro(fn.first,0,null,-1,-1);var yn=Fs(fn,pn),En=fn.first+fn.size-1;if(yn>En)return Ro(fn.first+fn.size-1,bi(fn,En).text.length,null,1,1);an<0&&(an=0);for(var On=bi(fn,yn);;){var Fn=pa(en,On,yn,an,pn),Un=ua(On,Fn.ch+(Fn.xRel>0||Fn.outside>0?1:0));if(!Un)return Fn;var Zn=Un.find(1);if(Zn.line==yn)return Zn;On=bi(fn,yn=Zn.line)}}function Oo(en,an,pn,fn){fn-=li(an);var yn=an.text.length,En=di(function(On){return Rl(en,pn,On-1).bottom<=fn},yn,0);return yn=di(function(On){return Rl(en,pn,On).top>fn},En,yn),{begin:En,end:yn}}function La(en,an,pn,fn){pn||(pn=Pc(en,an));var yn=Ai(en,an,Rl(en,pn,fn),"line").top;return Oo(en,an,pn,yn)}function ta(en,an,pn,fn){return en.bottom<=pn?!1:en.top>pn?!0:(fn?en.left:en.right)>an}function pa(en,an,pn,fn,yn){yn-=sl(an);var En=Pc(en,an),On=li(an),Fn=0,Un=an.text.length,Zn=!0,ai=Eo(an,en.doc.direction);if(ai){var pi=(en.options.lineWrapping?ia:za)(en,an,pn,En,ai,fn,yn);Zn=pi.level!=1,Fn=Zn?pi.from:pi.to-1,Un=Zn?pi.to:pi.from-1}var Ii=null,Ci=null,Vi=di(function(Jo){var Go=Rl(en,En,Jo);return Go.top+=On,Go.bottom+=On,ta(Go,fn,yn,!1)?(Go.top<=yn&&Go.left<=fn&&(Ii=Jo,Ci=Go),!0):!1},Fn,Un),no,fo,Co=!1;if(Ci){var Lo=fn-Ci.left<Ci.right-fn,mo=Lo==Zn;Vi=Ii+(mo?0:1),fo=mo?"after":"before",no=Lo?Ci.left:Ci.right}else{!Zn&&(Vi==Un||Vi==Fn)&&Vi++,fo=Vi==0?"after":Vi==an.text.length?"before":Rl(en,En,Vi-(Zn?1:0)).bottom+On<=yn==Zn?"after":"before";var No=Yi(en,Ji(pn,Vi,fo),"line",an,En);no=No.left,Co=yn<No.top?-1:yn>=No.bottom?1:0}return Vi=mi(an.text,Vi,1),Ro(pn,Vi,fo,Co,fn-no)}function za(en,an,pn,fn,yn,En,On){var Fn=di(function(pi){var Ii=yn[pi],Ci=Ii.level!=1;return ta(Yi(en,Ji(pn,Ci?Ii.to:Ii.from,Ci?"before":"after"),"line",an,fn),En,On,!0)},0,yn.length-1),Un=yn[Fn];if(Fn>0){var Zn=Un.level!=1,ai=Yi(en,Ji(pn,Zn?Un.from:Un.to,Zn?"after":"before"),"line",an,fn);ta(ai,En,On,!0)&&ai.top>On&&(Un=yn[Fn-1])}return Un}function ia(en,an,pn,fn,yn,En,On){var Fn=Oo(en,an,fn,On),Un=Fn.begin,Zn=Fn.end;/\s/.test(an.text.charAt(Zn-1))&&Zn--;for(var ai=null,pi=null,Ii=0;Ii<yn.length;Ii++){var Ci=yn[Ii];if(!(Ci.from>=Zn||Ci.to<=Un)){var Vi=Ci.level!=1,no=Rl(en,fn,Vi?Math.min(Zn,Ci.to)-1:Math.max(Un,Ci.from)).right,fo=no<En?En-no+1e9:no-En;(!ai||pi>fo)&&(ai=Ci,pi=fo)}}return ai||(ai=yn[yn.length-1]),ai.from<Un&&(ai={from:Un,to:ai.to,level:ai.level}),ai.to>Zn&&(ai={from:ai.from,to:Zn,level:ai.level}),ai}var $a;function zs(en){if(en.cachedTextHeight!=null)return en.cachedTextHeight;if($a==null){$a=Bn("pre",null,"CodeMirror-line-like");for(var an=0;an<49;++an)$a.appendChild(document.createTextNode("x")),$a.appendChild(Bn("br"));$a.appendChild(document.createTextNode("x"))}jn(en.measure,$a);var pn=$a.offsetHeight/50;return pn>3&&(en.cachedTextHeight=pn),$n(en.measure),pn||1}function Hs(en){if(en.cachedCharWidth!=null)return en.cachedCharWidth;var an=Bn("span","xxxxxxxxxx"),pn=Bn("pre",[an],"CodeMirror-line-like");jn(en.measure,pn);var fn=an.getBoundingClientRect(),yn=(fn.right-fn.left)/10;return yn>2&&(en.cachedCharWidth=yn),yn||10}function Ys(en){for(var an=en.display,pn={},fn={},yn=an.gutters.clientLeft,En=an.gutters.firstChild,On=0;En;En=En.nextSibling,++On){var Fn=en.display.gutterSpecs[On].className;pn[Fn]=En.offsetLeft+En.clientLeft+yn,fn[Fn]=En.clientWidth}return{fixedPos:ll(an),gutterTotalWidth:an.gutters.offsetWidth,gutterLeft:pn,gutterWidth:fn,wrapperWidth:an.wrapper.clientWidth}}function ll(en){return en.scroller.getBoundingClientRect().left-en.sizer.getBoundingClientRect().left}function yc(en){var an=zs(en.display),pn=en.options.lineWrapping,fn=pn&&Math.max(5,en.display.scroller.clientWidth/Hs(en.display)-3);return function(yn){if(Sl(en.doc,yn))return 0;var En=0;if(yn.widgets)for(var On=0;On<yn.widgets.length;On++)yn.widgets[On].height&&(En+=yn.widgets[On].height);return pn?En+(Math.ceil(yn.text.length/fn)||1)*an:En+an}}function el(en){var an=en.doc,pn=yc(en);an.iter(function(fn){var yn=pn(fn);yn!=fn.height&&Ms(fn,yn)})}function wa(en,an,pn,fn){var yn=en.display;if(!pn&&us(an).getAttribute("cm-not-content")=="true")return null;var En,On,Fn=yn.lineSpace.getBoundingClientRect();try{En=an.clientX-Fn.left,On=an.clientY-Fn.top}catch{return null}var Un=_o(en,En,On),Zn;if(fn&&Un.xRel>0&&(Zn=bi(en.doc,Un.line).text).length==Un.ch){var ai=Fi(Zn,Zn.length,en.options.tabSize)-Zn.length;Un=Ji(Un.line,Math.max(0,Math.round((En-qc(en.display).left)/Hs(en.display))-ai))}return Un}function Qc(en,an){if(an>=en.display.viewTo||(an-=en.display.viewFrom,an<0))return null;for(var pn=en.display.view,fn=0;fn<pn.length;fn++)if(an-=pn[fn].size,an<0)return fn}function Xa(en,an,pn,fn){an==null&&(an=en.doc.first),pn==null&&(pn=en.doc.first+en.doc.size),fn||(fn=0);var yn=en.display;if(fn&&pn<yn.viewTo&&(yn.updateLineNumbers==null||yn.updateLineNumbers>an)&&(yn.updateLineNumbers=an),en.curOp.viewChanged=!0,an>=yn.viewTo)va&&dc(en.doc,an)<yn.viewTo&&Sc(en);else if(pn<=yn.viewFrom)va&&bl(en.doc,pn+fn)>yn.viewFrom?Sc(en):(yn.viewFrom+=fn,yn.viewTo+=fn);else if(an<=yn.viewFrom&&pn>=yn.viewTo)Sc(en);else if(an<=yn.viewFrom){var En=Zu(en,pn,pn+fn,1);En?(yn.view=yn.view.slice(En.index),yn.viewFrom=En.lineN,yn.viewTo+=fn):Sc(en)}else if(pn>=yn.viewTo){var On=Zu(en,an,an,-1);On?(yn.view=yn.view.slice(0,On.index),yn.viewTo=On.lineN):Sc(en)}else{var Fn=Zu(en,an,an,-1),Un=Zu(en,pn,pn+fn,1);Fn&&Un?(yn.view=yn.view.slice(0,Fn.index).concat(fa(en,Fn.lineN,Un.lineN)).concat(yn.view.slice(Un.index)),yn.viewTo+=fn):Sc(en)}var Zn=yn.externalMeasured;Zn&&(pn<Zn.lineN?Zn.lineN+=fn:an<Zn.lineN+Zn.size&&(yn.externalMeasured=null))}function bc(en,an,pn){en.curOp.viewChanged=!0;var fn=en.display,yn=en.display.externalMeasured;if(yn&&an>=yn.lineN&&an<yn.lineN+yn.size&&(fn.externalMeasured=null),!(an<fn.viewFrom||an>=fn.viewTo)){var En=fn.view[Qc(en,an)];if(En.node!=null){var On=En.changes||(En.changes=[]);oo(On,pn)==-1&&On.push(pn)}}}function Sc(en){en.display.viewFrom=en.display.viewTo=en.doc.first,en.display.view=[],en.display.viewOffset=0}function Zu(en,an,pn,fn){var yn=Qc(en,an),En,On=en.display.view;if(!va||pn==en.doc.first+en.doc.size)return{index:yn,lineN:pn};for(var Fn=en.display.viewFrom,Un=0;Un<yn;Un++)Fn+=On[Un].size;if(Fn!=an){if(fn>0){if(yn==On.length-1)return null;En=Fn+On[yn].size-an,yn++}else En=Fn-an;an+=En,pn+=En}for(;dc(en.doc,pn)!=pn;){if(yn==(fn<0?0:On.length-1))return null;pn+=fn*On[yn-(fn<0?1:0)].size,yn+=fn}return{index:yn,lineN:pn}}function Vs(en,an,pn){var fn=en.display,yn=fn.view;yn.length==0||an>=fn.viewTo||pn<=fn.viewFrom?(fn.view=fa(en,an,pn),fn.viewFrom=an):(fn.viewFrom>an?fn.view=fa(en,an,fn.viewFrom).concat(fn.view):fn.viewFrom<an&&(fn.view=fn.view.slice(Qc(en,an))),fn.viewFrom=an,fn.viewTo<pn?fn.view=fn.view.concat(fa(en,fn.viewTo,pn)):fn.viewTo>pn&&(fn.view=fn.view.slice(0,Qc(en,pn)))),fn.viewTo=pn}function Xu(en){for(var an=en.display.view,pn=0,fn=0;fn<an.length;fn++){var yn=an[fn];!yn.hidden&&(!yn.node||yn.changes)&&++pn}return pn}function Wl(en){en.display.input.showSelection(en.display.input.prepareSelection())}function Pu(en,an){an===void 0&&(an=!0);var pn=en.doc,fn={},yn=fn.cursors=document.createDocumentFragment(),En=fn.selection=document.createDocumentFragment(),On=en.options.$customCursor;On&&(an=!0);for(var Fn=0;Fn<pn.sel.ranges.length;Fn++)if(!(!an&&Fn==pn.sel.primIndex)){var Un=pn.sel.ranges[Fn];if(!(Un.from().line>=en.display.viewTo||Un.to().line<en.display.viewFrom)){var Zn=Un.empty();if(On){var ai=On(en,Un);ai&&js(en,ai,yn)}else(Zn||en.options.showCursorWhenSelecting)&&js(en,Un.head,yn);Zn||md(en,Un,En)}}return fn}function js(en,an,pn){var fn=Yi(en,an,"div",null,null,!en.options.singleCursorHeightPerLine),yn=pn.appendChild(Bn("div","Â ","CodeMirror-cursor"));if(yn.style.left=fn.left+"px",yn.style.top=fn.top+"px",yn.style.height=Math.max(0,fn.bottom-fn.top)*en.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(en.getWrapperElement().className)){var En=Bi(en,an,"div",null,null),On=En.right-En.left;yn.style.width=(On>0?On:en.defaultCharWidth())+"px"}if(fn.other){var Fn=pn.appendChild(Bn("div","Â ","CodeMirror-cursor CodeMirror-secondarycursor"));Fn.style.display="",Fn.style.left=fn.other.left+"px",Fn.style.top=fn.other.top+"px",Fn.style.height=(fn.other.bottom-fn.other.top)*.85+"px"}}function Us(en,an){return en.top-an.top||en.left-an.left}function md(en,an,pn){var fn=en.display,yn=en.doc,En=document.createDocumentFragment(),On=qc(en.display),Fn=On.left,Un=Math.max(fn.sizerWidth,Js(en)-fn.sizer.offsetLeft)-On.right,Zn=yn.direction=="ltr";function ai(mo,No,Jo,Go){No<0&&(No=0),No=Math.round(No),Go=Math.round(Go),En.appendChild(Bn("div",null,"CodeMirror-selected","position: absolute; left: "+mo+`px;
                             top: `+No+"px; width: "+(Jo??Un-mo)+`px;
                             height: `+(Go-No)+"px"))}function pi(mo,No,Jo){var Go=bi(yn,mo),Ha=Go.text.length,Cs,El;function Xs(pl,sc){return Bi(en,Ji(mo,pl),"div",Go,sc)}function pc(pl,sc,Fl){var kl=La(en,Go,null,pl),cl=sc=="ltr"==(Fl=="after")?"left":"right",nl=Fl=="after"?kl.begin:kl.end-(/\s/.test(Go.text.charAt(kl.end-1))?2:1);return Xs(nl,cl)[cl]}var ac=Eo(Go,yn.direction);return ki(ac,No||0,Jo??Ha,function(pl,sc,Fl,kl){var cl=Fl=="ltr",nl=Xs(pl,cl?"left":"right"),lc=Xs(sc-1,cl?"right":"left"),su=No==null&&pl==0,Vu=Jo==null&&sc==Ha,Yl=kl==0,lu=!ac||kl==ac.length-1;if(lc.top-nl.top<=3){var ul=(Zn?su:Vu)&&Yl,Hf=(Zn?Vu:su)&&lu,Au=ul?Fn:(cl?nl:lc).left,ld=Hf?Un:(cl?lc:nl).right;ai(Au,nl.top,ld-Au,nl.bottom)}else{var ju,Zl,Td,Nh;cl?(ju=Zn&&su&&Yl?Fn:nl.left,Zl=Zn?Un:pc(pl,Fl,"before"),Td=Zn?Fn:pc(sc,Fl,"after"),Nh=Zn&&Vu&&lu?Un:lc.right):(ju=Zn?pc(pl,Fl,"before"):Fn,Zl=!Zn&&su&&Yl?Un:nl.right,Td=!Zn&&Vu&&lu?Fn:lc.left,Nh=Zn?pc(sc,Fl,"after"):Un),ai(ju,nl.top,Zl-ju,nl.bottom),nl.bottom<lc.top&&ai(Fn,nl.bottom,null,lc.top),ai(Td,lc.top,Nh-Td,lc.bottom)}(!Cs||Us(nl,Cs)<0)&&(Cs=nl),Us(lc,Cs)<0&&(Cs=lc),(!El||Us(nl,El)<0)&&(El=nl),Us(lc,El)<0&&(El=lc)}),{start:Cs,end:El}}var Ii=an.from(),Ci=an.to();if(Ii.line==Ci.line)pi(Ii.line,Ii.ch,Ci.ch);else{var Vi=bi(yn,Ii.line),no=bi(yn,Ci.line),fo=Ya(Vi)==Ya(no),Co=pi(Ii.line,Ii.ch,fo?Vi.text.length+1:null).end,Lo=pi(Ci.line,fo?0:null,Ci.ch).start;fo&&(Co.top<Lo.top-2?(ai(Co.right,Co.top,null,Co.bottom),ai(Fn,Lo.top,Lo.left,Lo.bottom)):ai(Co.right,Co.top,Lo.left-Co.right,Co.bottom)),Co.bottom<Lo.top&&ai(Fn,Co.bottom,null,Lo.top)}pn.appendChild(En)}function Nd(en){if(en.state.focused){var an=en.display;clearInterval(an.blinker);var pn=!0;an.cursorDiv.style.visibility="",en.options.cursorBlinkRate>0?an.blinker=setInterval(function(){en.hasFocus()||wc(en),an.cursorDiv.style.visibility=(pn=!pn)?"":"hidden"},en.options.cursorBlinkRate):en.options.cursorBlinkRate<0&&(an.cursorDiv.style.visibility="hidden")}}function vd(en){en.hasFocus()||(en.display.input.focus(),en.state.focused||yd(en))}function Ou(en){en.state.delayingBlurEvent=!0,setTimeout(function(){en.state.delayingBlurEvent&&(en.state.delayingBlurEvent=!1,en.state.focused&&wc(en))},100)}function yd(en,an){en.state.delayingBlurEvent&&!en.state.draggingText&&(en.state.delayingBlurEvent=!1),en.options.readOnly!="nocursor"&&(en.state.focused||(ea(en,"focus",en,an),en.state.focused=!0,wi(en.display.wrapper,"CodeMirror-focused"),!en.curOp&&en.display.selForContextMenu!=en.doc.sel&&(en.display.input.reset(),Wr&&setTimeout(function(){return en.display.input.reset(!0)},20)),en.display.input.receivedFocus()),Nd(en))}function wc(en,an){en.state.delayingBlurEvent||(en.state.focused&&(ea(en,"blur",en,an),en.state.focused=!1,Hn(en.display.wrapper,"CodeMirror-focused")),clearInterval(en.display.blinker),setTimeout(function(){en.state.focused||(en.display.shift=!1)},150))}function nc(en){for(var an=en.display,pn=an.lineDiv.offsetTop,fn=Math.max(0,an.scroller.getBoundingClientRect().top),yn=an.lineDiv.getBoundingClientRect().top,En=0,On=0;On<an.view.length;On++){var Fn=an.view[On],Un=en.options.lineWrapping,Zn=void 0,ai=0;if(!Fn.hidden){if(yn+=Fn.line.height,jr&&Gr<8){var pi=Fn.node.offsetTop+Fn.node.offsetHeight;Zn=pi-pn,pn=pi}else{var Ii=Fn.node.getBoundingClientRect();Zn=Ii.bottom-Ii.top,!Un&&Fn.text.firstChild&&(ai=Fn.text.firstChild.getBoundingClientRect().right-Ii.left-1)}var Ci=Fn.line.height-Zn;if((Ci>.005||Ci<-.005)&&(yn<fn&&(En-=Ci),Ms(Fn.line,Zn),Tn(Fn.line),Fn.rest))for(var Vi=0;Vi<Fn.rest.length;Vi++)Tn(Fn.rest[Vi]);if(ai>en.display.sizerWidth){var no=Math.ceil(ai/Hs(en.display));no>en.display.maxLineLength&&(en.display.maxLineLength=no,en.display.maxLine=Fn.line,en.display.maxLineChanged=!0)}}}Math.abs(En)>2&&(an.scroller.scrollTop+=En)}function Tn(en){if(en.widgets)for(var an=0;an<en.widgets.length;++an){var pn=en.widgets[an],fn=pn.node.parentNode;fn&&(pn.height=fn.offsetHeight)}}function Rn(en,an,pn){var fn=pn&&pn.top!=null?Math.max(0,pn.top):en.scroller.scrollTop;fn=Math.floor(fn-hu(en));var yn=pn&&pn.bottom!=null?pn.bottom:fn+en.wrapper.clientHeight,En=Fs(an,fn),On=Fs(an,yn);if(pn&&pn.ensure){var Fn=pn.ensure.from.line,Un=pn.ensure.to.line;Fn<En?(En=Fn,On=Fs(an,sl(bi(an,Fn))+en.wrapper.clientHeight)):Math.min(Un,an.lastLine())>=On&&(En=Fs(an,sl(bi(an,Un))-en.wrapper.clientHeight),On=Un)}return{from:En,to:Math.max(On,En+1)}}function Qn(en,an){if(!la(en,"scrollCursorIntoView")){var pn=en.display,fn=pn.sizer.getBoundingClientRect(),yn=null,En=pn.wrapper.ownerDocument;if(an.top+fn.top<0?yn=!0:an.bottom+fn.top>(En.defaultView.innerHeight||En.documentElement.clientHeight)&&(yn=!1),yn!=null&&!cn){var On=Bn("div","â",null,`position: absolute;
                         top: `+(an.top-pn.viewOffset-hu(en.display))+`px;
                         height: `+(an.bottom-an.top+Zs(en)+pn.barHeight)+`px;
                         left: `+an.left+"px; width: "+Math.max(2,an.right-an.left)+"px;");en.display.lineSpace.appendChild(On),On.scrollIntoView(yn),en.display.lineSpace.removeChild(On)}}}function fi(en,an,pn,fn){fn==null&&(fn=0);var yn;!en.options.lineWrapping&&an==pn&&(pn=an.sticky=="before"?Ji(an.line,an.ch+1,"before"):an,an=an.ch?Ji(an.line,an.sticky=="before"?an.ch-1:an.ch,"after"):an);for(var En=0;En<5;En++){var On=!1,Fn=Yi(en,an),Un=!pn||pn==an?Fn:Yi(en,pn);yn={left:Math.min(Fn.left,Un.left),top:Math.min(Fn.top,Un.top)-fn,right:Math.max(Fn.left,Un.left),bottom:Math.max(Fn.bottom,Un.bottom)+fn};var Zn=Qo(en,yn),ai=en.doc.scrollTop,pi=en.doc.scrollLeft;if(Zn.scrollTop!=null&&(Bd(en,Zn.scrollTop),Math.abs(en.doc.scrollTop-ai)>1&&(On=!0)),Zn.scrollLeft!=null&&(Qu(en,Zn.scrollLeft),Math.abs(en.doc.scrollLeft-pi)>1&&(On=!0)),!On)break}return yn}function Ki(en,an){var pn=Qo(en,an);pn.scrollTop!=null&&Bd(en,pn.scrollTop),pn.scrollLeft!=null&&Qu(en,pn.scrollLeft)}function Qo(en,an){var pn=en.display,fn=zs(en.display);an.top<0&&(an.top=0);var yn=en.curOp&&en.curOp.scrollTop!=null?en.curOp.scrollTop:pn.scroller.scrollTop,En=vc(en),On={};an.bottom-an.top>En&&(an.bottom=an.top+En);var Fn=en.doc.height+ns(pn),Un=an.top<fn,Zn=an.bottom>Fn-fn;if(an.top<yn)On.scrollTop=Un?0:an.top;else if(an.bottom>yn+En){var ai=Math.min(an.top,(Zn?Fn:an.bottom)-En);ai!=yn&&(On.scrollTop=ai)}var pi=en.options.fixedGutter?0:pn.gutters.offsetWidth,Ii=en.curOp&&en.curOp.scrollLeft!=null?en.curOp.scrollLeft:pn.scroller.scrollLeft-pi,Ci=Js(en)-pn.gutters.offsetWidth,Vi=an.right-an.left>Ci;return Vi&&(an.right=an.left+Ci),an.left<10?On.scrollLeft=0:an.left<Ii?On.scrollLeft=Math.max(0,an.left+pi-(Vi?0:10)):an.right>Ci+Ii-3&&(On.scrollLeft=an.right+(Vi?0:10)-Ci),On}function is(en,an){an!=null&&(mu(en),en.curOp.scrollTop=(en.curOp.scrollTop==null?en.doc.scrollTop:en.curOp.scrollTop)+an)}function ls(en){mu(en);var an=en.getCursor();en.curOp.scrollToPos={from:an,to:an,margin:en.options.cursorScrollMargin}}function ks(en,an,pn){(an!=null||pn!=null)&&mu(en),an!=null&&(en.curOp.scrollLeft=an),pn!=null&&(en.curOp.scrollTop=pn)}function gu(en,an){mu(en),en.curOp.scrollToPos=an}function mu(en){var an=en.curOp.scrollToPos;if(an){en.curOp.scrollToPos=null;var pn=wo(en,an.from),fn=wo(en,an.to);vh(en,pn,fn,an.margin)}}function vh(en,an,pn,fn){var yn=Qo(en,{left:Math.min(an.left,pn.left),top:Math.min(an.top,pn.top)-fn,right:Math.max(an.right,pn.right),bottom:Math.max(an.bottom,pn.bottom)+fn});ks(en,yn.scrollLeft,yn.scrollTop)}function Bd(en,an){Math.abs(en.doc.scrollTop-an)<2||($r||kc(en,{top:an}),Xh(en,an,!0),$r&&kc(en),Vd(en,100))}function Xh(en,an,pn){an=Math.max(0,Math.min(en.display.scroller.scrollHeight-en.display.scroller.clientHeight,an)),!(en.display.scroller.scrollTop==an&&!pn)&&(en.doc.scrollTop=an,en.display.scrollbars.setScrollTop(an),en.display.scroller.scrollTop!=an&&(en.display.scroller.scrollTop=an))}function Qu(en,an,pn,fn){an=Math.max(0,Math.min(an,en.display.scroller.scrollWidth-en.display.scroller.clientWidth)),!((pn?an==en.doc.scrollLeft:Math.abs(en.doc.scrollLeft-an)<2)&&!fn)&&(en.doc.scrollLeft=an,Ud(en),en.display.scroller.scrollLeft!=an&&(en.display.scroller.scrollLeft=an),en.display.scrollbars.setScrollLeft(an))}function Fd(en){var an=en.display,pn=an.gutters.offsetWidth,fn=Math.round(en.doc.height+ns(en.display));return{clientHeight:an.scroller.clientHeight,viewHeight:an.wrapper.clientHeight,scrollWidth:an.scroller.scrollWidth,clientWidth:an.scroller.clientWidth,viewWidth:an.wrapper.clientWidth,barLeft:en.options.fixedGutter?pn:0,docHeight:fn,scrollHeight:fn+Zs(en)+an.barHeight,nativeBarWidth:an.nativeBarWidth,gutterWidth:pn}}var qa=function(en,an,pn){this.cm=pn;var fn=this.vert=Bn("div",[Bn("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),yn=this.horiz=Bn("div",[Bn("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");fn.tabIndex=yn.tabIndex=-1,en(fn),en(yn),Hi(fn,"scroll",function(){fn.clientHeight&&an(fn.scrollTop,"vertical")}),Hi(yn,"scroll",function(){yn.clientWidth&&an(yn.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,jr&&Gr<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};qa.prototype.update=function(en){var an=en.scrollWidth>en.clientWidth+1,pn=en.scrollHeight>en.clientHeight+1,fn=en.nativeBarWidth;if(pn){this.vert.style.display="block",this.vert.style.bottom=an?fn+"px":"0";var yn=en.viewHeight-(an?fn:0);this.vert.firstChild.style.height=Math.max(0,en.scrollHeight-en.clientHeight+yn)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(an){this.horiz.style.display="block",this.horiz.style.right=pn?fn+"px":"0",this.horiz.style.left=en.barLeft+"px";var En=en.viewWidth-en.barLeft-(pn?fn:0);this.horiz.firstChild.style.width=Math.max(0,en.scrollWidth-en.clientWidth+En)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&en.clientHeight>0&&(fn==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:pn?fn:0,bottom:an?fn:0}},qa.prototype.setScrollLeft=function(en){this.horiz.scrollLeft!=en&&(this.horiz.scrollLeft=en),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},qa.prototype.setScrollTop=function(en){this.vert.scrollTop!=en&&(this.vert.scrollTop=en),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},qa.prototype.zeroWidthHack=function(){var en=An&&!ln?"12px":"18px";this.horiz.style.height=this.vert.style.width=en,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new zi,this.disableVert=new zi},qa.prototype.enableZeroWidthBar=function(en,an,pn){en.style.visibility="";function fn(){var yn=en.getBoundingClientRect(),En=pn=="vert"?document.elementFromPoint(yn.right-1,(yn.top+yn.bottom)/2):document.elementFromPoint((yn.right+yn.left)/2,yn.bottom-1);En!=en?en.style.visibility="hidden":an.set(1e3,fn)}an.set(1e3,fn)},qa.prototype.clear=function(){var en=this.horiz.parentNode;en.removeChild(this.horiz),en.removeChild(this.vert)};var zd=function(){};zd.prototype.update=function(){return{bottom:0,right:0}},zd.prototype.setScrollLeft=function(){},zd.prototype.setScrollTop=function(){},zd.prototype.clear=function(){};function Rc(en,an){an||(an=Fd(en));var pn=en.display.barWidth,fn=en.display.barHeight;Hd(en,an);for(var yn=0;yn<4&&pn!=en.display.barWidth||fn!=en.display.barHeight;yn++)pn!=en.display.barWidth&&en.options.lineWrapping&&nc(en),Hd(en,Fd(en)),pn=en.display.barWidth,fn=en.display.barHeight}function Hd(en,an){var pn=en.display,fn=pn.scrollbars.update(an);pn.sizer.style.paddingRight=(pn.barWidth=fn.right)+"px",pn.sizer.style.paddingBottom=(pn.barHeight=fn.bottom)+"px",pn.heightForcer.style.borderBottom=fn.bottom+"px solid transparent",fn.right&&fn.bottom?(pn.scrollbarFiller.style.display="block",pn.scrollbarFiller.style.height=fn.bottom+"px",pn.scrollbarFiller.style.width=fn.right+"px"):pn.scrollbarFiller.style.display="",fn.bottom&&en.options.coverGutterNextToScrollbar&&en.options.fixedGutter?(pn.gutterFiller.style.display="block",pn.gutterFiller.style.height=fn.bottom+"px",pn.gutterFiller.style.width=an.gutterWidth+"px"):pn.gutterFiller.style.display=""}var Qh={native:qa,null:zd};function yh(en){en.display.scrollbars&&(en.display.scrollbars.clear(),en.display.scrollbars.addClass&&Hn(en.display.wrapper,en.display.scrollbars.addClass)),en.display.scrollbars=new Qh[en.options.scrollbarStyle](function(an){en.display.wrapper.insertBefore(an,en.display.scrollbarFiller),Hi(an,"mousedown",function(){en.state.focused&&setTimeout(function(){return en.display.input.focus()},0)}),an.setAttribute("cm-not-content","true")},function(an,pn){pn=="horizontal"?Qu(en,an):Bd(en,an)},en),en.display.scrollbars.addClass&&wi(en.display.wrapper,en.display.scrollbars.addClass)}var $l=0;function Ju(en){en.curOp={cm:en,viewChanged:!1,startHeight:en.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++$l,markArrays:null},Ks(en.curOp)}function ed(en){var an=en.curOp;an&&Ul(an,function(pn){for(var fn=0;fn<pn.ops.length;fn++)pn.ops[fn].cm.curOp=null;tp(pn)})}function tp(en){for(var an=en.ops,pn=0;pn<an.length;pn++)ig(an[pn]);for(var fn=0;fn<an.length;fn++)$c(an[fn]);for(var yn=0;yn<an.length;yn++)wl(an[yn]);for(var En=0;En<an.length;En++)Dc(an[En]);for(var On=0;On<an.length;On++)Jc(an[On])}function ig(en){var an=en.cm,pn=an.display;og(an),en.updateMaxLine&&Sn(an),en.mustUpdate=en.viewChanged||en.forceUpdate||en.scrollTop!=null||en.scrollToPos&&(en.scrollToPos.from.line<pn.viewFrom||en.scrollToPos.to.line>=pn.viewTo)||pn.maxLineChanged&&an.options.lineWrapping,en.update=en.mustUpdate&&new Nc(an,en.mustUpdate&&{top:en.scrollTop,ensure:en.scrollToPos},en.forceUpdate)}function $c(en){en.updatedDisplay=en.mustUpdate&&Jh(en.cm,en.update)}function wl(en){var an=en.cm,pn=an.display;en.updatedDisplay&&nc(an),en.barMeasure=Fd(an),pn.maxLineChanged&&!an.options.lineWrapping&&(en.adjustWidthTo=Kc(an,pn.maxLine,pn.maxLine.text.length).left+3,an.display.sizerWidth=en.adjustWidthTo,en.barMeasure.scrollWidth=Math.max(pn.scroller.clientWidth,pn.sizer.offsetLeft+en.adjustWidthTo+Zs(an)+an.display.barWidth),en.maxScrollLeft=Math.max(0,pn.sizer.offsetLeft+en.adjustWidthTo-Js(an))),(en.updatedDisplay||en.selectionChanged)&&(en.preparedSelection=pn.input.prepareSelection())}function Dc(en){var an=en.cm;en.adjustWidthTo!=null&&(an.display.sizer.style.minWidth=en.adjustWidthTo+"px",en.maxScrollLeft<an.doc.scrollLeft&&Qu(an,Math.min(an.display.scroller.scrollLeft,en.maxScrollLeft),!0),an.display.maxLineChanged=!1);var pn=en.focus&&en.focus==vi(Vn(an));en.preparedSelection&&an.display.input.showSelection(en.preparedSelection,pn),(en.updatedDisplay||en.startHeight!=an.doc.height)&&Rc(an,en.barMeasure),en.updatedDisplay&&bh(an,en.barMeasure),en.selectionChanged&&Nd(an),an.state.focused&&en.updateInput&&an.display.input.reset(en.typing),pn&&vd(en.cm)}function Jc(en){var an=en.cm,pn=an.display,fn=an.doc;if(en.updatedDisplay&&Qa(an,en.update),pn.wheelStartX!=null&&(en.scrollTop!=null||en.scrollLeft!=null||en.scrollToPos)&&(pn.wheelStartX=pn.wheelStartY=null),en.scrollTop!=null&&Xh(an,en.scrollTop,en.forceScroll),en.scrollLeft!=null&&Qu(an,en.scrollLeft,!0,!0),en.scrollToPos){var yn=fi(an,Li(fn,en.scrollToPos.from),Li(fn,en.scrollToPos.to),en.scrollToPos.margin);Qn(an,yn)}var En=en.maybeHiddenMarkers,On=en.maybeUnhiddenMarkers;if(En)for(var Fn=0;Fn<En.length;++Fn)En[Fn].lines.length||ea(En[Fn],"hide");if(On)for(var Un=0;Un<On.length;++Un)On[Un].lines.length&&ea(On[Un],"unhide");pn.wrapper.offsetHeight&&(fn.scrollTop=an.display.scroller.scrollTop),en.changeObjs&&ea(an,"changes",an,en.changeObjs),en.update&&en.update.finish()}function tl(en,an){if(en.curOp)return an();Ju(en);try{return an()}finally{ed(en)}}function hl(en,an){return function(){if(en.curOp)return an.apply(en,arguments);Ju(en);try{return an.apply(en,arguments)}finally{ed(en)}}}function Nl(en){return function(){if(this.curOp)return en.apply(this,arguments);Ju(this);try{return en.apply(this,arguments)}finally{ed(this)}}}function fl(en){return function(){var an=this.cm;if(!an||an.curOp)return en.apply(this,arguments);Ju(an);try{return en.apply(this,arguments)}finally{ed(an)}}}function Vd(en,an){en.doc.highlightFrontier<en.display.viewTo&&en.state.highlight.set(an,Ri(rp,en))}function rp(en){var an=en.doc;if(!(an.highlightFrontier>=en.display.viewTo)){var pn=+new Date+en.options.workTime,fn=So(en,an.highlightFrontier),yn=[];an.iter(fn.line,Math.min(an.first+an.size,en.display.viewTo+500),function(En){if(fn.line>=en.display.viewFrom){var On=En.styles,Fn=En.text.length>en.options.maxHighlightLength?Yo(an.mode,fn.state):null,Un=Ho(en,En,fn,!0);Fn&&(fn.state=Fn),En.styles=Un.styles;var Zn=En.styleClasses,ai=Un.classes;ai?En.styleClasses=ai:Zn&&(En.styleClasses=null);for(var pi=!On||On.length!=En.styles.length||Zn!=ai&&(!Zn||!ai||Zn.bgClass!=ai.bgClass||Zn.textClass!=ai.textClass),Ii=0;!pi&&Ii<On.length;++Ii)pi=On[Ii]!=En.styles[Ii];pi&&yn.push(fn.line),En.stateAfter=fn.save(),fn.nextLine()}else En.text.length<=en.options.maxHighlightLength&&Ra(en,En.text,fn),En.stateAfter=fn.line%5==0?fn.save():null,fn.nextLine();if(+new Date>pn)return Vd(en,en.options.workDelay),!0}),an.highlightFrontier=fn.line,an.modeFrontier=Math.max(an.modeFrontier,fn.line),yn.length&&tl(en,function(){for(var En=0;En<yn.length;En++)bc(en,yn[En],"text")})}}var Nc=function(en,an,pn){var fn=en.display;this.viewport=an,this.visible=Rn(fn,en.doc,an),this.editorIsHidden=!fn.wrapper.offsetWidth,this.wrapperHeight=fn.wrapper.clientHeight,this.wrapperWidth=fn.wrapper.clientWidth,this.oldDisplayWidth=Js(en),this.force=pn,this.dims=Ys(en),this.events=[]};Nc.prototype.signal=function(en,an){ca(en,an)&&this.events.push(arguments)},Nc.prototype.finish=function(){for(var en=0;en<this.events.length;en++)ea.apply(null,this.events[en])};function og(en){var an=en.display;!an.scrollbarsClipped&&an.scroller.offsetWidth&&(an.nativeBarWidth=an.scroller.offsetWidth-an.scroller.clientWidth,an.heightForcer.style.height=Zs(en)+"px",an.sizer.style.marginBottom=-an.nativeBarWidth+"px",an.sizer.style.borderRightWidth=Zs(en)+"px",an.scrollbarsClipped=!0)}function Vo(en){if(en.hasFocus())return null;var an=vi(Vn(en));if(!an||!ri(en.display.lineDiv,an))return null;var pn={activeElt:an};if(window.getSelection){var fn=si(en).getSelection();fn.anchorNode&&fn.extend&&ri(en.display.lineDiv,fn.anchorNode)&&(pn.anchorNode=fn.anchorNode,pn.anchorOffset=fn.anchorOffset,pn.focusNode=fn.focusNode,pn.focusOffset=fn.focusOffset)}return pn}function np(en){if(!(!en||!en.activeElt||en.activeElt==vi(en.activeElt.ownerDocument))&&(en.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(en.activeElt.nodeName)&&en.anchorNode&&ri(document.body,en.anchorNode)&&ri(document.body,en.focusNode))){var an=en.activeElt.ownerDocument,pn=an.defaultView.getSelection(),fn=an.createRange();fn.setEnd(en.anchorNode,en.anchorOffset),fn.collapse(!1),pn.removeAllRanges(),pn.addRange(fn),pn.extend(en.focusNode,en.focusOffset)}}function Jh(en,an){var pn=en.display,fn=en.doc;if(an.editorIsHidden)return Sc(en),!1;if(!an.force&&an.visible.from>=pn.viewFrom&&an.visible.to<=pn.viewTo&&(pn.updateLineNumbers==null||pn.updateLineNumbers>=pn.viewTo)&&pn.renderedView==pn.view&&Xu(en)==0)return!1;tf(en)&&(Sc(en),an.dims=Ys(en));var yn=fn.first+fn.size,En=Math.max(an.visible.from-en.options.viewportMargin,fn.first),On=Math.min(yn,an.visible.to+en.options.viewportMargin);pn.viewFrom<En&&En-pn.viewFrom<20&&(En=Math.max(fn.first,pn.viewFrom)),pn.viewTo>On&&pn.viewTo-On<20&&(On=Math.min(yn,pn.viewTo)),va&&(En=dc(en.doc,En),On=bl(en.doc,On));var Fn=En!=pn.viewFrom||On!=pn.viewTo||pn.lastWrapHeight!=an.wrapperHeight||pn.lastWrapWidth!=an.wrapperWidth;Vs(en,En,On),pn.viewOffset=sl(bi(en.doc,pn.viewFrom)),en.display.mover.style.top=pn.viewOffset+"px";var Un=Xu(en);if(!Fn&&Un==0&&!an.force&&pn.renderedView==pn.view&&(pn.updateLineNumbers==null||pn.updateLineNumbers>=pn.viewTo))return!1;var Zn=Vo(en);return Un>4&&(pn.lineDiv.style.display="none"),jd(en,pn.updateLineNumbers,an.dims),Un>4&&(pn.lineDiv.style.display=""),pn.renderedView=pn.view,np(Zn),$n(pn.cursorDiv),$n(pn.selectionDiv),pn.gutters.style.height=pn.sizer.style.minHeight=0,Fn&&(pn.lastWrapHeight=an.wrapperHeight,pn.lastWrapWidth=an.wrapperWidth,Vd(en,400)),pn.updateLineNumbers=null,!0}function Qa(en,an){for(var pn=an.viewport,fn=!0;;fn=!1){if(!fn||!en.options.lineWrapping||an.oldDisplayWidth==Js(en)){if(pn&&pn.top!=null&&(pn={top:Math.min(en.doc.height+ns(en.display)-vc(en),pn.top)}),an.visible=Rn(en.display,en.doc,pn),an.visible.from>=en.display.viewFrom&&an.visible.to<=en.display.viewTo)break}else fn&&(an.visible=Rn(en.display,en.doc,pn));if(!Jh(en,an))break;nc(en);var yn=Fd(en);Wl(en),Rc(en,yn),bh(en,yn),an.force=!1}an.signal(en,"update",en),(en.display.viewFrom!=en.display.reportedViewFrom||en.display.viewTo!=en.display.reportedViewTo)&&(an.signal(en,"viewportChange",en,en.display.viewFrom,en.display.viewTo),en.display.reportedViewFrom=en.display.viewFrom,en.display.reportedViewTo=en.display.viewTo)}function kc(en,an){var pn=new Nc(en,an);if(Jh(en,pn)){nc(en),Qa(en,pn);var fn=Fd(en);Wl(en),Rc(en,fn),bh(en,fn),pn.finish()}}function jd(en,an,pn){var fn=en.display,yn=en.options.lineNumbers,En=fn.lineDiv,On=En.firstChild;function Fn(Vi){var no=Vi.nextSibling;return Wr&&An&&en.display.currentWheelTarget==Vi?Vi.style.display="none":Vi.parentNode.removeChild(Vi),no}for(var Un=fn.view,Zn=fn.viewFrom,ai=0;ai<Un.length;ai++){var pi=Un[ai];if(!pi.hidden)if(!pi.node||pi.node.parentNode!=En){var Ii=Ol(en,pi,Zn,pn);En.insertBefore(Ii,On)}else{for(;On!=pi.node;)On=Fn(On);var Ci=yn&&an!=null&&an<=Zn&&pi.lineNumber;pi.changes&&(oo(pi.changes,"gutter")>-1&&(Ci=!1),Es(en,pi,Zn,pn)),Ci&&($n(pi.lineNumber),pi.lineNumber.appendChild(document.createTextNode(ol(en.options,Zn)))),On=pi.node.nextSibling}Zn+=pi.size}for(;On;)On=Fn(On)}function ef(en){var an=en.gutters.offsetWidth;en.sizer.style.marginLeft=an+"px",vs(en,"gutterChanged",en)}function bh(en,an){en.display.sizer.style.minHeight=an.docHeight+"px",en.display.heightForcer.style.top=an.docHeight+"px",en.display.gutters.style.height=an.docHeight+en.display.barHeight+Zs(en)+"px"}function Ud(en){var an=en.display,pn=an.view;if(!(!an.alignWidgets&&(!an.gutters.firstChild||!en.options.fixedGutter))){for(var fn=ll(an)-an.scroller.scrollLeft+en.doc.scrollLeft,yn=an.gutters.offsetWidth,En=fn+"px",On=0;On<pn.length;On++)if(!pn[On].hidden){en.options.fixedGutter&&(pn[On].gutter&&(pn[On].gutter.style.left=En),pn[On].gutterBackground&&(pn[On].gutterBackground.style.left=En));var Fn=pn[On].alignable;if(Fn)for(var Un=0;Un<Fn.length;Un++)Fn[Un].style.left=En}en.options.fixedGutter&&(an.gutters.style.left=fn+yn+"px")}}function tf(en){if(!en.options.lineNumbers)return!1;var an=en.doc,pn=ol(en.options,an.first+an.size-1),fn=en.display;if(pn.length!=fn.lineNumChars){var yn=fn.measure.appendChild(Bn("div",[Bn("div",pn)],"CodeMirror-linenumber CodeMirror-gutter-elt")),En=yn.firstChild.offsetWidth,On=yn.offsetWidth-En;return fn.lineGutter.style.width="",fn.lineNumInnerWidth=Math.max(En,fn.lineGutter.offsetWidth-On)+1,fn.lineNumWidth=fn.lineNumInnerWidth+On,fn.lineNumChars=fn.lineNumInnerWidth?pn.length:-1,fn.lineGutter.style.width=fn.lineNumWidth+"px",ef(en.display),!0}return!1}function rf(en,an){for(var pn=[],fn=!1,yn=0;yn<en.length;yn++){var En=en[yn],On=null;if(typeof En!="string"&&(On=En.style,En=En.className),En=="CodeMirror-linenumbers")if(an)fn=!0;else continue;pn.push({className:En,style:On})}return an&&!fn&&pn.push({className:"CodeMirror-linenumbers",style:null}),pn}function ip(en){var an=en.gutters,pn=en.gutterSpecs;$n(an),en.lineGutter=null;for(var fn=0;fn<pn.length;++fn){var yn=pn[fn],En=yn.className,On=yn.style,Fn=an.appendChild(Bn("div",null,"CodeMirror-gutter "+En));On&&(Fn.style.cssText=On),En=="CodeMirror-linenumbers"&&(en.lineGutter=Fn,Fn.style.width=(en.lineNumWidth||1)+"px")}an.style.display=pn.length?"":"none",ef(en)}function Gd(en){ip(en.display),Xa(en),Ud(en)}function op(en,an,pn,fn){var yn=this;this.input=pn,yn.scrollbarFiller=Bn("div",null,"CodeMirror-scrollbar-filler"),yn.scrollbarFiller.setAttribute("cm-not-content","true"),yn.gutterFiller=Bn("div",null,"CodeMirror-gutter-filler"),yn.gutterFiller.setAttribute("cm-not-content","true"),yn.lineDiv=Gn("div",null,"CodeMirror-code"),yn.selectionDiv=Bn("div",null,null,"position: relative; z-index: 1"),yn.cursorDiv=Bn("div",null,"CodeMirror-cursors"),yn.measure=Bn("div",null,"CodeMirror-measure"),yn.lineMeasure=Bn("div",null,"CodeMirror-measure"),yn.lineSpace=Gn("div",[yn.measure,yn.lineMeasure,yn.selectionDiv,yn.cursorDiv,yn.lineDiv],null,"position: relative; outline: none");var En=Gn("div",[yn.lineSpace],"CodeMirror-lines");yn.mover=Bn("div",[En],null,"position: relative"),yn.sizer=Bn("div",[yn.mover],"CodeMirror-sizer"),yn.sizerWidth=null,yn.heightForcer=Bn("div",null,null,"position: absolute; height: "+lo+"px; width: 1px;"),yn.gutters=Bn("div",null,"CodeMirror-gutters"),yn.lineGutter=null,yn.scroller=Bn("div",[yn.sizer,yn.heightForcer,yn.gutters],"CodeMirror-scroll"),yn.scroller.setAttribute("tabIndex","-1"),yn.wrapper=Bn("div",[yn.scrollbarFiller,yn.gutterFiller,yn.scroller],"CodeMirror"),Zr&&Jr>=105&&(yn.wrapper.style.clipPath="inset(0px)"),yn.wrapper.setAttribute("translate","no"),jr&&Gr<8&&(yn.gutters.style.zIndex=-1,yn.scroller.style.paddingRight=0),!Wr&&!($r&&bn)&&(yn.scroller.draggable=!0),en&&(en.appendChild?en.appendChild(yn.wrapper):en(yn.wrapper)),yn.viewFrom=yn.viewTo=an.first,yn.reportedViewFrom=yn.reportedViewTo=an.first,yn.view=[],yn.renderedView=null,yn.externalMeasured=null,yn.viewOffset=0,yn.lastWrapHeight=yn.lastWrapWidth=0,yn.updateLineNumbers=null,yn.nativeBarWidth=yn.barHeight=yn.barWidth=0,yn.scrollbarsClipped=!1,yn.lineNumWidth=yn.lineNumInnerWidth=yn.lineNumChars=null,yn.alignWidgets=!1,yn.cachedCharWidth=yn.cachedTextHeight=yn.cachedPaddingH=null,yn.maxLine=null,yn.maxLineLength=0,yn.maxLineChanged=!1,yn.wheelDX=yn.wheelDY=yn.wheelStartX=yn.wheelStartY=null,yn.shift=!1,yn.selForContextMenu=null,yn.activeTouch=null,yn.gutterSpecs=rf(fn.gutters,fn.lineNumbers),ip(yn),pn.init(yn)}var Wd=0,eu=null;jr?eu=-.53:$r?eu=15:Zr?eu=-.7:nn&&(eu=-1/3);function nf(en){var an=en.wheelDeltaX,pn=en.wheelDeltaY;return an==null&&en.detail&&en.axis==en.HORIZONTAL_AXIS&&(an=en.detail),pn==null&&en.detail&&en.axis==en.VERTICAL_AXIS?pn=en.detail:pn==null&&(pn=en.wheelDelta),{x:an,y:pn}}function ap(en){var an=nf(en);return an.x*=eu,an.y*=eu,an}function of(en,an){Zr&&Jr==102&&(en.display.chromeScrollHack==null?en.display.sizer.style.pointerEvents="none":clearTimeout(en.display.chromeScrollHack),en.display.chromeScrollHack=setTimeout(function(){en.display.chromeScrollHack=null,en.display.sizer.style.pointerEvents=""},100));var pn=nf(an),fn=pn.x,yn=pn.y,En=eu;an.deltaMode===0&&(fn=an.deltaX,yn=an.deltaY,En=1);var On=en.display,Fn=On.scroller,Un=Fn.scrollWidth>Fn.clientWidth,Zn=Fn.scrollHeight>Fn.clientHeight;if(fn&&Un||yn&&Zn){if(yn&&An&&Wr){e:for(var ai=an.target,pi=On.view;ai!=Fn;ai=ai.parentNode)for(var Ii=0;Ii<pi.length;Ii++)if(pi[Ii].node==ai){en.display.currentWheelTarget=ai;break e}}if(fn&&!$r&&!rn&&En!=null){yn&&Zn&&Bd(en,Math.max(0,Fn.scrollTop+yn*En)),Qu(en,Math.max(0,Fn.scrollLeft+fn*En)),(!yn||yn&&Zn)&&Pa(an),On.wheelStartX=null;return}if(yn&&En!=null){var Ci=yn*En,Vi=en.doc.scrollTop,no=Vi+On.wrapper.clientHeight;Ci<0?Vi=Math.max(0,Vi+Ci-50):no=Math.min(en.doc.height,no+Ci+50),kc(en,{top:Vi,bottom:no})}Wd<20&&an.deltaMode!==0&&(On.wheelStartX==null?(On.wheelStartX=Fn.scrollLeft,On.wheelStartY=Fn.scrollTop,On.wheelDX=fn,On.wheelDY=yn,setTimeout(function(){if(On.wheelStartX!=null){var fo=Fn.scrollLeft-On.wheelStartX,Co=Fn.scrollTop-On.wheelStartY,Lo=Co&&On.wheelDY&&Co/On.wheelDY||fo&&On.wheelDX&&fo/On.wheelDX;On.wheelStartX=On.wheelStartY=null,Lo&&(eu=(eu*Wd+Lo)/(Wd+1),++Wd)}},200)):(On.wheelDX+=fn,On.wheelDY+=yn))}}var Bl=function(en,an){this.ranges=en,this.primIndex=an};Bl.prototype.primary=function(){return this.ranges[this.primIndex]},Bl.prototype.equals=function(en){if(en==this)return!0;if(en.primIndex!=this.primIndex||en.ranges.length!=this.ranges.length)return!1;for(var an=0;an<this.ranges.length;an++){var pn=this.ranges[an],fn=en.ranges[an];if(!hs(pn.anchor,fn.anchor)||!hs(pn.head,fn.head))return!1}return!0},Bl.prototype.deepCopy=function(){for(var en=[],an=0;an<this.ranges.length;an++)en[an]=new os(ml(this.ranges[an].anchor),ml(this.ranges[an].head));return new Bl(en,this.primIndex)},Bl.prototype.somethingSelected=function(){for(var en=0;en<this.ranges.length;en++)if(!this.ranges[en].empty())return!0;return!1},Bl.prototype.contains=function(en,an){an||(an=en);for(var pn=0;pn<this.ranges.length;pn++){var fn=this.ranges[pn];if(Uo(an,fn.from())>=0&&Uo(en,fn.to())<=0)return pn}return-1};var os=function(en,an){this.anchor=en,this.head=an};os.prototype.from=function(){return oi(this.anchor,this.head)},os.prototype.to=function(){return hi(this.anchor,this.head)},os.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ac(en,an,pn){var fn=en&&en.options.selectionsMayTouch,yn=an[pn];an.sort(function(Ii,Ci){return Uo(Ii.from(),Ci.from())}),pn=oo(an,yn);for(var En=1;En<an.length;En++){var On=an[En],Fn=an[En-1],Un=Uo(Fn.to(),On.from());if(fn&&!On.empty()?Un>0:Un>=0){var Zn=oi(Fn.from(),On.from()),ai=hi(Fn.to(),On.to()),pi=Fn.empty()?On.from()==On.head:Fn.from()==Fn.head;En<=pn&&--pn,an.splice(--En,2,new os(pi?ai:Zn,pi?Zn:ai))}}return new Bl(an,pn)}function tu(en,an){return new Bl([new os(en,an||en)],0)}function vu(en){return en.text?Ji(en.from.line+en.text.length-1,Ao(en.text).length+(en.text.length==1?en.from.ch:0)):en.to}function af(en,an){if(Uo(en,an.from)<0)return en;if(Uo(en,an.to)<=0)return vu(an);var pn=en.line+an.text.length-(an.to.line-an.from.line)-1,fn=en.ch;return en.line==an.to.line&&(fn+=vu(an).ch-an.to.ch),Ji(pn,fn)}function sf(en,an){for(var pn=[],fn=0;fn<en.sel.ranges.length;fn++){var yn=en.sel.ranges[fn];pn.push(new os(af(yn.anchor,an),af(yn.head,an)))}return Ac(en.cm,pn,en.sel.primIndex)}function lf(en,an,pn){return en.line==an.line?Ji(pn.line,en.ch-an.ch+pn.ch):Ji(pn.line+(en.line-an.line),en.ch)}function ag(en,an,pn){for(var fn=[],yn=Ji(en.first,0),En=yn,On=0;On<an.length;On++){var Fn=an[On],Un=lf(Fn.from,yn,En),Zn=lf(vu(Fn),yn,En);if(yn=Fn.to,En=Zn,pn=="around"){var ai=en.sel.ranges[On],pi=Uo(ai.head,ai.anchor)<0;fn[On]=new os(pi?Zn:Un,pi?Un:Zn)}else fn[On]=new os(Un,Un)}return new Bl(fn,en.sel.primIndex)}function _h(en){en.doc.mode=Oa(en.options,en.doc.modeOption),ru(en)}function ru(en){en.doc.iter(function(an){an.stateAfter&&(an.stateAfter=null),an.styles&&(an.styles=null)}),en.doc.modeFrontier=en.doc.highlightFrontier=en.doc.first,Vd(en,100),en.state.modeGen++,en.curOp&&Xa(en)}function cf(en,an){return an.from.ch==0&&an.to.ch==0&&Ao(an.text)==""&&(!en.cm||en.cm.options.wholeLineUpdateBefore)}function uf(en,an,pn,fn){function yn(Lo){return pn?pn[Lo]:null}function En(Lo,mo,No){Nn(Lo,mo,No,fn),vs(Lo,"change",Lo,an)}function On(Lo,mo){for(var No=[],Jo=Lo;Jo<mo;++Jo)No.push(new Pn(Zn[Jo],yn(Jo),fn));return No}var Fn=an.from,Un=an.to,Zn=an.text,ai=bi(en,Fn.line),pi=bi(en,Un.line),Ii=Ao(Zn),Ci=yn(Zn.length-1),Vi=Un.line-Fn.line;if(an.full)en.insert(0,On(0,Zn.length)),en.remove(Zn.length,en.size-Zn.length);else if(cf(en,an)){var no=On(0,Zn.length-1);En(pi,pi.text,Ci),Vi&&en.remove(Fn.line,Vi),no.length&&en.insert(Fn.line,no)}else if(ai==pi)if(Zn.length==1)En(ai,ai.text.slice(0,Fn.ch)+Ii+ai.text.slice(Un.ch),Ci);else{var fo=On(1,Zn.length-1);fo.push(new Pn(Ii+ai.text.slice(Un.ch),Ci,fn)),En(ai,ai.text.slice(0,Fn.ch)+Zn[0],yn(0)),en.insert(Fn.line+1,fo)}else if(Zn.length==1)En(ai,ai.text.slice(0,Fn.ch)+Zn[0]+pi.text.slice(Un.ch),yn(0)),en.remove(Fn.line+1,Vi);else{En(ai,ai.text.slice(0,Fn.ch)+Zn[0],yn(0)),En(pi,Ii+pi.text.slice(Un.ch),Ci);var Co=On(1,Zn.length-1);Vi>1&&en.remove(Fn.line+1,Vi-1),en.insert(Fn.line+1,Co)}vs(en,"change",en,an)}function cs(en,an,pn){function fn(yn,En,On){if(yn.linked)for(var Fn=0;Fn<yn.linked.length;++Fn){var Un=yn.linked[Fn];if(Un.doc!=En){var Zn=On&&Un.sharedHist;pn&&!Zn||(an(Un.doc,Zn),fn(Un.doc,yn,Zn))}}}fn(en,null,!0)}function df(en,an){if(an.cm)throw new Error("This document is already in use.");en.doc=an,an.cm=en,el(en),_h(en),sp(en),en.options.direction=an.direction,en.options.lineWrapping||Sn(en),en.options.mode=an.modeOption,Xa(en)}function sp(en){(en.doc.direction=="rtl"?wi:Hn)(en.display.lineDiv,"CodeMirror-rtl")}function wh(en){tl(en,function(){sp(en),Xa(en)})}function Yd(en){this.done=[],this.undone=[],this.undoDepth=en?en.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=en?en.maxGeneration:1}function hf(en,an){var pn={from:ml(an.from),to:vu(an),text:ds(en,an.from,an.to)};return gf(en,pn,an.from.line,an.to.line+1),cs(en,function(fn){return gf(fn,pn,an.from.line,an.to.line+1)},!0),pn}function ff(en){for(;en.length;){var an=Ao(en);if(an.ranges)en.pop();else break}}function sg(en,an){if(an)return ff(en.done),Ao(en.done);if(en.done.length&&!Ao(en.done).ranges)return Ao(en.done);if(en.done.length>1&&!en.done[en.done.length-2].ranges)return en.done.pop(),Ao(en.done)}function pf(en,an,pn,fn){var yn=en.history;yn.undone.length=0;var En=+new Date,On,Fn;if((yn.lastOp==fn||yn.lastOrigin==an.origin&&an.origin&&(an.origin.charAt(0)=="+"&&yn.lastModTime>En-(en.cm?en.cm.options.historyEventDelay:500)||an.origin.charAt(0)=="*"))&&(On=sg(yn,yn.lastOp==fn)))Fn=Ao(On.changes),Uo(an.from,an.to)==0&&Uo(an.from,Fn.to)==0?Fn.to=vu(an):On.changes.push(hf(en,an));else{var Un=Ao(yn.done);for((!Un||!Un.ranges)&&bd(en.sel,yn.done),On={changes:[hf(en,an)],generation:yn.generation},yn.done.push(On);yn.done.length>yn.undoDepth;)yn.done.shift(),yn.done[0].ranges||yn.done.shift()}yn.done.push(pn),yn.generation=++yn.maxGeneration,yn.lastModTime=yn.lastSelTime=En,yn.lastOp=yn.lastSelOp=fn,yn.lastOrigin=yn.lastSelOrigin=an.origin,Fn||ea(en,"historyAdded")}function lp(en,an,pn,fn){var yn=an.charAt(0);return yn=="*"||yn=="+"&&pn.ranges.length==fn.ranges.length&&pn.somethingSelected()==fn.somethingSelected()&&new Date-en.history.lastSelTime<=(en.cm?en.cm.options.historyEventDelay:500)}function lg(en,an,pn,fn){var yn=en.history,En=fn&&fn.origin;pn==yn.lastSelOp||En&&yn.lastSelOrigin==En&&(yn.lastModTime==yn.lastSelTime&&yn.lastOrigin==En||lp(en,En,Ao(yn.done),an))?yn.done[yn.done.length-1]=an:bd(an,yn.done),yn.lastSelTime=+new Date,yn.lastSelOrigin=En,yn.lastSelOp=pn,fn&&fn.clearRedo!==!1&&ff(yn.undone)}function bd(en,an){var pn=Ao(an);pn&&pn.ranges&&pn.equals(en)||an.push(en)}function gf(en,an,pn,fn){var yn=an["spans_"+en.id],En=0;en.iter(Math.max(en.first,pn),Math.min(en.first+en.size,fn),function(On){On.markedSpans&&((yn||(yn=an["spans_"+en.id]={}))[En]=On.markedSpans),++En})}function cg(en){if(!en)return null;for(var an,pn=0;pn<en.length;++pn)en[pn].marker.explicitlyCleared?an||(an=en.slice(0,pn)):an&&an.push(en[pn]);return an?an.length?an:null:en}function ug(en,an){var pn=an["spans_"+en.id];if(!pn)return null;for(var fn=[],yn=0;yn<an.text.length;++yn)fn.push(cg(pn[yn]));return fn}function cp(en,an){var pn=ug(en,an),fn=Il(en,an);if(!pn)return fn;if(!fn)return pn;for(var yn=0;yn<pn.length;++yn){var En=pn[yn],On=fn[yn];if(En&&On)e:for(var Fn=0;Fn<On.length;++Fn){for(var Un=On[Fn],Zn=0;Zn<En.length;++Zn)if(En[Zn].marker==Un.marker)continue e;En.push(Un)}else On&&(pn[yn]=On)}return pn}function _d(en,an,pn){for(var fn=[],yn=0;yn<en.length;++yn){var En=en[yn];if(En.ranges){fn.push(pn?Bl.prototype.deepCopy.call(En):En);continue}var On=En.changes,Fn=[];fn.push({changes:Fn});for(var Un=0;Un<On.length;++Un){var Zn=On[Un],ai=void 0;if(Fn.push({from:Zn.from,to:Zn.to,text:Zn.text}),an)for(var pi in Zn)(ai=pi.match(/^spans_(\d+)$/))&&oo(an,Number(ai[1]))>-1&&(Ao(Fn)[pi]=Zn[pi],delete Zn[pi])}}return fn}function kh(en,an,pn,fn){if(fn){var yn=en.anchor;if(pn){var En=Uo(an,yn)<0;En!=Uo(pn,yn)<0?(yn=an,an=pn):En!=Uo(an,pn)<0&&(an=pn)}return new os(yn,an)}else return new os(pn||an,an)}function Ah(en,an,pn,fn,yn){yn==null&&(yn=en.cm&&(en.cm.display.shift||en.extend)),Dl(en,new Bl([kh(en.sel.primary(),an,pn,yn)],0),fn)}function Ch(en,an,pn){for(var fn=[],yn=en.cm&&(en.cm.display.shift||en.extend),En=0;En<en.sel.ranges.length;En++)fn[En]=kh(en.sel.ranges[En],an[En],null,yn);var On=Ac(en.cm,fn,en.sel.primIndex);Dl(en,On,pn)}function qd(en,an,pn,fn){var yn=en.sel.ranges.slice(0);yn[an]=pn,Dl(en,Ac(en.cm,yn,en.sel.primIndex),fn)}function mf(en,an,pn,fn){Dl(en,tu(an,pn),fn)}function dg(en,an,pn){var fn={ranges:an.ranges,update:function(yn){this.ranges=[];for(var En=0;En<yn.length;En++)this.ranges[En]=new os(Li(en,yn[En].anchor),Li(en,yn[En].head))},origin:pn&&pn.origin};return ea(en,"beforeSelectionChange",en,fn),en.cm&&ea(en.cm,"beforeSelectionChange",en.cm,fn),fn.ranges!=an.ranges?Ac(en.cm,fn.ranges,fn.ranges.length-1):an}function td(en,an,pn){var fn=en.history.done,yn=Ao(fn);yn&&yn.ranges?(fn[fn.length-1]=an,Kd(en,an,pn)):Dl(en,an,pn)}function Dl(en,an,pn){Kd(en,an,pn),lg(en,en.sel,en.cm?en.cm.curOp.id:NaN,pn)}function Kd(en,an,pn){(ca(en,"beforeSelectionChange")||en.cm&&ca(en.cm,"beforeSelectionChange"))&&(an=dg(en,an,pn));var fn=pn&&pn.bias||(Uo(an.primary().head,en.sel.primary().head)<0?-1:1);up(en,go(en,an,fn,!0)),!(pn&&pn.scroll===!1)&&en.cm&&en.cm.getOption("readOnly")!="nocursor"&&ls(en.cm)}function up(en,an){an.equals(en.sel)||(en.sel=an,en.cm&&(en.cm.curOp.updateInput=1,en.cm.curOp.selectionChanged=!0,rs(en.cm)),vs(en,"cursorActivity",en))}function vf(en){up(en,go(en,en.sel,null,!1))}function go(en,an,pn,fn){for(var yn,En=0;En<an.ranges.length;En++){var On=an.ranges[En],Fn=an.ranges.length==en.sel.ranges.length&&en.sel.ranges[En],Un=ja(en,On.anchor,Fn&&Fn.anchor,pn,fn),Zn=On.head==On.anchor?Un:ja(en,On.head,Fn&&Fn.head,pn,fn);(yn||Un!=On.anchor||Zn!=On.head)&&(yn||(yn=an.ranges.slice(0,En)),yn[En]=new os(Un,Zn))}return yn?Ac(en.cm,yn,an.primIndex):an}function rd(en,an,pn,fn,yn){var En=bi(en,an.line);if(En.markedSpans)for(var On=0;On<En.markedSpans.length;++On){var Fn=En.markedSpans[On],Un=Fn.marker,Zn="selectLeft"in Un?!Un.selectLeft:Un.inclusiveLeft,ai="selectRight"in Un?!Un.selectRight:Un.inclusiveRight;if((Fn.from==null||(Zn?Fn.from<=an.ch:Fn.from<an.ch))&&(Fn.to==null||(ai?Fn.to>=an.ch:Fn.to>an.ch))){if(yn&&(ea(Un,"beforeCursorEnter"),Un.explicitlyCleared))if(En.markedSpans){--On;continue}else break;if(!Un.atomic)continue;if(pn){var pi=Un.find(fn<0?1:-1),Ii=void 0;if((fn<0?ai:Zn)&&(pi=yf(en,pi,-fn,pi&&pi.line==an.line?En:null)),pi&&pi.line==an.line&&(Ii=Uo(pi,pn))&&(fn<0?Ii<0:Ii>0))return rd(en,pi,an,fn,yn)}var Ci=Un.find(fn<0?-1:1);return(fn<0?Zn:ai)&&(Ci=yf(en,Ci,fn,Ci.line==an.line?En:null)),Ci?rd(en,Ci,an,fn,yn):null}}return an}function ja(en,an,pn,fn,yn){var En=fn||1,On=rd(en,an,pn,En,yn)||!yn&&rd(en,an,pn,En,!0)||rd(en,an,pn,-En,yn)||!yn&&rd(en,an,pn,-En,!0);return On||(en.cantEdit=!0,Ji(en.first,0))}function yf(en,an,pn,fn){return pn<0&&an.ch==0?an.line>en.first?Li(en,Ji(an.line-1)):null:pn>0&&an.ch==(fn||bi(en,an.line)).text.length?an.line<en.first+en.size-1?Ji(an.line+1,0):null:new Ji(an.line,an.ch+pn)}function bf(en){en.setSelection(Ji(en.firstLine(),0),Ji(en.lastLine()),Wi)}function _f(en,an,pn){var fn={canceled:!1,from:an.from,to:an.to,text:an.text,origin:an.origin,cancel:function(){return fn.canceled=!0}};return pn&&(fn.update=function(yn,En,On,Fn){yn&&(fn.from=Li(en,yn)),En&&(fn.to=Li(en,En)),On&&(fn.text=On),Fn!==void 0&&(fn.origin=Fn)}),ea(en,"beforeChange",en,fn),en.cm&&ea(en.cm,"beforeChange",en.cm,fn),fn.canceled?(en.cm&&(en.cm.curOp.updateInput=2),null):{from:fn.from,to:fn.to,text:fn.text,origin:fn.origin}}function nd(en,an,pn){if(en.cm){if(!en.cm.curOp)return hl(en.cm,nd)(en,an,pn);if(en.cm.state.suppressEdits)return}if(!((ca(en,"beforeChange")||en.cm&&ca(en.cm,"beforeChange"))&&(an=_f(en,an,!0),!an))){var fn=oa&&!pn&&vl(en,an.from,an.to);if(fn)for(var yn=fn.length-1;yn>=0;--yn)Zd(en,{from:fn[yn].from,to:fn[yn].to,text:yn?[""]:an.text,origin:an.origin});else Zd(en,an)}}function Zd(en,an){if(!(an.text.length==1&&an.text[0]==""&&Uo(an.from,an.to)==0)){var pn=sf(en,an);pf(en,an,pn,en.cm?en.cm.curOp.id:NaN),Xd(en,an,pn,Il(en,an));var fn=[];cs(en,function(yn,En){!En&&oo(fn,yn.history)==-1&&(kf(yn.history,an),fn.push(yn.history)),Xd(yn,an,null,Il(yn,an))})}}function xh(en,an,pn){var fn=en.cm&&en.cm.state.suppressEdits;if(!(fn&&!pn)){for(var yn=en.history,En,On=en.sel,Fn=an=="undo"?yn.done:yn.undone,Un=an=="undo"?yn.undone:yn.done,Zn=0;Zn<Fn.length&&(En=Fn[Zn],!(pn?En.ranges&&!En.equals(en.sel):!En.ranges));Zn++);if(Zn!=Fn.length){for(yn.lastOrigin=yn.lastSelOrigin=null;;)if(En=Fn.pop(),En.ranges){if(bd(En,Un),pn&&!En.equals(en.sel)){Dl(en,En,{clearRedo:!1});return}On=En}else if(fn){Fn.push(En);return}else break;var ai=[];bd(On,Un),Un.push({changes:ai,generation:yn.generation}),yn.generation=En.generation||++yn.maxGeneration;for(var pi=ca(en,"beforeChange")||en.cm&&ca(en.cm,"beforeChange"),Ii=function(no){var fo=En.changes[no];if(fo.origin=an,pi&&!_f(en,fo,!1))return Fn.length=0,{};ai.push(hf(en,fo));var Co=no?sf(en,fo):Ao(Fn);Xd(en,fo,Co,cp(en,fo)),!no&&en.cm&&en.cm.scrollIntoView({from:fo.from,to:vu(fo)});var Lo=[];cs(en,function(mo,No){!No&&oo(Lo,mo.history)==-1&&(kf(mo.history,fo),Lo.push(mo.history)),Xd(mo,fo,null,cp(mo,fo))})},Ci=En.changes.length-1;Ci>=0;--Ci){var Vi=Ii(Ci);if(Vi)return Vi.v}}}}function wf(en,an){if(an!=0&&(en.first+=an,en.sel=new Bl(ba(en.sel.ranges,function(yn){return new os(Ji(yn.anchor.line+an,yn.anchor.ch),Ji(yn.head.line+an,yn.head.ch))}),en.sel.primIndex),en.cm)){Xa(en.cm,en.first,en.first-an,an);for(var pn=en.cm.display,fn=pn.viewFrom;fn<pn.viewTo;fn++)bc(en.cm,fn,"gutter")}}function Xd(en,an,pn,fn){if(en.cm&&!en.cm.curOp)return hl(en.cm,Xd)(en,an,pn,fn);if(an.to.line<en.first){wf(en,an.text.length-1-(an.to.line-an.from.line));return}if(!(an.from.line>en.lastLine())){if(an.from.line<en.first){var yn=an.text.length-1-(en.first-an.from.line);wf(en,yn),an={from:Ji(en.first,0),to:Ji(an.to.line+yn,an.to.ch),text:[Ao(an.text)],origin:an.origin}}var En=en.lastLine();an.to.line>En&&(an={from:an.from,to:Ji(En,bi(en,En).text.length),text:[an.text[0]],origin:an.origin}),an.removed=ds(en,an.from,an.to),pn||(pn=sf(en,an)),en.cm?Sh(en.cm,an,fn):uf(en,an,fn),Kd(en,pn,Wi),en.cantEdit&&ja(en,Ji(en.firstLine(),0))&&(en.cantEdit=!1)}}function Sh(en,an,pn){var fn=en.doc,yn=en.display,En=an.from,On=an.to,Fn=!1,Un=En.line;en.options.lineWrapping||(Un=Aa(Ya(bi(fn,En.line))),fn.iter(Un,On.line+1,function(Ci){if(Ci==yn.maxLine)return Fn=!0,!0})),fn.sel.contains(an.from,an.to)>-1&&rs(en),uf(fn,an,pn,yc(en)),en.options.lineWrapping||(fn.iter(Un,En.line+an.text.length,function(Ci){var Vi=_n(Ci);Vi>yn.maxLineLength&&(yn.maxLine=Ci,yn.maxLineLength=Vi,yn.maxLineChanged=!0,Fn=!1)}),Fn&&(en.curOp.updateMaxLine=!0)),fs(fn,En.line),Vd(en,400);var Zn=an.text.length-(On.line-En.line)-1;an.full?Xa(en):En.line==On.line&&an.text.length==1&&!cf(en.doc,an)?bc(en,En.line,"text"):Xa(en,En.line,On.line+1,Zn);var ai=ca(en,"changes"),pi=ca(en,"change");if(pi||ai){var Ii={from:En,to:On,text:an.text,removed:an.removed,origin:an.origin};pi&&vs(en,"change",en,Ii),ai&&(en.curOp.changeObjs||(en.curOp.changeObjs=[])).push(Ii)}en.display.selForContextMenu=null}function id(en,an,pn,fn,yn){var En;fn||(fn=pn),Uo(fn,pn)<0&&(En=[fn,pn],pn=En[0],fn=En[1]),typeof an=="string"&&(an=en.splitLines(an)),nd(en,{from:pn,to:fn,text:an,origin:yn})}function dp(en,an,pn,fn){pn<en.line?en.line+=fn:an<en.line&&(en.line=an,en.ch=0)}function Dh(en,an,pn,fn){for(var yn=0;yn<en.length;++yn){var En=en[yn],On=!0;if(En.ranges){En.copied||(En=en[yn]=En.deepCopy(),En.copied=!0);for(var Fn=0;Fn<En.ranges.length;Fn++)dp(En.ranges[Fn].anchor,an,pn,fn),dp(En.ranges[Fn].head,an,pn,fn);continue}for(var Un=0;Un<En.changes.length;++Un){var Zn=En.changes[Un];if(pn<Zn.from.line)Zn.from=Ji(Zn.from.line+fn,Zn.from.ch),Zn.to=Ji(Zn.to.line+fn,Zn.to.ch);else if(an<=Zn.to.line){On=!1;break}}On||(en.splice(0,yn+1),yn=0)}}function kf(en,an){var pn=an.from.line,fn=an.to.line,yn=an.text.length-(fn-pn)-1;Dh(en.done,pn,fn,yn),Dh(en.undone,pn,fn,yn)}function Qd(en,an,pn,fn){var yn=an,En=an;return typeof an=="number"?En=bi(en,Di(en,an)):yn=Aa(an),yn==null?null:(fn(En,yn)&&en.cm&&bc(en.cm,yn,pn),En)}function Bc(en){this.lines=en,this.parent=null;for(var an=0,pn=0;pn<en.length;++pn)en[pn].parent=this,an+=en[pn].height;this.height=an}Bc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(en,an){for(var pn=en,fn=en+an;pn<fn;++pn){var yn=this.lines[pn];this.height-=yn.height,qn(yn),vs(yn,"delete")}this.lines.splice(en,an)},collapse:function(en){en.push.apply(en,this.lines)},insertInner:function(en,an,pn){this.height+=pn,this.lines=this.lines.slice(0,en).concat(an).concat(this.lines.slice(en));for(var fn=0;fn<an.length;++fn)an[fn].parent=this},iterN:function(en,an,pn){for(var fn=en+an;en<fn;++en)if(pn(this.lines[en]))return!0}};function wd(en){this.children=en;for(var an=0,pn=0,fn=0;fn<en.length;++fn){var yn=en[fn];an+=yn.chunkSize(),pn+=yn.height,yn.parent=this}this.size=an,this.height=pn,this.parent=null}wd.prototype={chunkSize:function(){return this.size},removeInner:function(en,an){this.size-=an;for(var pn=0;pn<this.children.length;++pn){var fn=this.children[pn],yn=fn.chunkSize();if(en<yn){var En=Math.min(an,yn-en),On=fn.height;if(fn.removeInner(en,En),this.height-=On-fn.height,yn==En&&(this.children.splice(pn--,1),fn.parent=null),(an-=En)==0)break;en=0}else en-=yn}if(this.size-an<25&&(this.children.length>1||!(this.children[0]instanceof Bc))){var Fn=[];this.collapse(Fn),this.children=[new Bc(Fn)],this.children[0].parent=this}},collapse:function(en){for(var an=0;an<this.children.length;++an)this.children[an].collapse(en)},insertInner:function(en,an,pn){this.size+=an.length,this.height+=pn;for(var fn=0;fn<this.children.length;++fn){var yn=this.children[fn],En=yn.chunkSize();if(en<=En){if(yn.insertInner(en,an,pn),yn.lines&&yn.lines.length>50){for(var On=yn.lines.length%25+25,Fn=On;Fn<yn.lines.length;){var Un=new Bc(yn.lines.slice(Fn,Fn+=25));yn.height-=Un.height,this.children.splice(++fn,0,Un),Un.parent=this}yn.lines=yn.lines.slice(0,On),this.maybeSpill()}break}en-=En}},maybeSpill:function(){if(!(this.children.length<=10)){var en=this;do{var an=en.children.splice(en.children.length-5,5),pn=new wd(an);if(en.parent){en.size-=pn.size,en.height-=pn.height;var yn=oo(en.parent.children,en);en.parent.children.splice(yn+1,0,pn)}else{var fn=new wd(en.children);fn.parent=en,en.children=[fn,pn],en=fn}pn.parent=en.parent}while(en.children.length>10);en.parent.maybeSpill()}},iterN:function(en,an,pn){for(var fn=0;fn<this.children.length;++fn){var yn=this.children[fn],En=yn.chunkSize();if(en<En){var On=Math.min(an,En-en);if(yn.iterN(en,On,pn))return!0;if((an-=On)==0)break;en=0}else en-=En}}};var Fc=function(en,an,pn){if(pn)for(var fn in pn)pn.hasOwnProperty(fn)&&(this[fn]=pn[fn]);this.doc=en,this.node=an};Fc.prototype.clear=function(){var en=this.doc.cm,an=this.line.widgets,pn=this.line,fn=Aa(pn);if(!(fn==null||!an)){for(var yn=0;yn<an.length;++yn)an[yn]==this&&an.splice(yn--,1);an.length||(pn.widgets=null);var En=Yc(this);Ms(pn,Math.max(0,pn.height-En)),en&&(tl(en,function(){Ds(en,pn,-En),bc(en,fn,"widget")}),vs(en,"lineWidgetCleared",en,this,fn))}},Fc.prototype.changed=function(){var en=this,an=this.height,pn=this.doc.cm,fn=this.line;this.height=null;var yn=Yc(this)-an;yn&&(Sl(this.doc,fn)||Ms(fn,fn.height+yn),pn&&tl(pn,function(){pn.curOp.forceUpdate=!0,Ds(pn,fn,yn),vs(pn,"lineWidgetChanged",pn,en,Aa(fn))}))},es(Fc);function Ds(en,an,pn){sl(an)<(en.curOp&&en.curOp.scrollTop||en.doc.scrollTop)&&is(en,pn)}function nu(en,an,pn,fn){var yn=new Fc(en,pn,fn),En=en.cm;return En&&yn.noHScroll&&(En.display.alignWidgets=!0),Qd(en,an,"widget",function(On){var Fn=On.widgets||(On.widgets=[]);if(yn.insertAt==null?Fn.push(yn):Fn.splice(Math.min(Fn.length,Math.max(0,yn.insertAt)),0,yn),yn.line=On,En&&!Sl(en,On)){var Un=sl(On)<en.scrollTop;Ms(On,On.height+Yc(yn)),Un&&is(En,yn.height),En.curOp.forceUpdate=!0}return!0}),En&&vs(En,"lineWidgetAdded",En,yn,typeof an=="number"?an:Aa(an)),yn}var zc=0,yu=function(en,an){this.lines=[],this.type=an,this.doc=en,this.id=++zc};yu.prototype.clear=function(){if(!this.explicitlyCleared){var en=this.doc.cm,an=en&&!en.curOp;if(an&&Ju(en),ca(this,"clear")){var pn=this.find();pn&&vs(this,"clear",pn.from,pn.to)}for(var fn=null,yn=null,En=0;En<this.lines.length;++En){var On=this.lines[En],Fn=gs(On.markedSpans,this);en&&!this.collapsed?bc(en,Aa(On),"text"):en&&(Fn.to!=null&&(yn=Aa(On)),Fn.from!=null&&(fn=Aa(On))),On.markedSpans=Ss(On.markedSpans,Fn),Fn.from==null&&this.collapsed&&!Sl(this.doc,On)&&en&&Ms(On,zs(en.display))}if(en&&this.collapsed&&!en.options.lineWrapping)for(var Un=0;Un<this.lines.length;++Un){var Zn=Ya(this.lines[Un]),ai=_n(Zn);ai>en.display.maxLineLength&&(en.display.maxLine=Zn,en.display.maxLineLength=ai,en.display.maxLineChanged=!0)}fn!=null&&en&&this.collapsed&&Xa(en,fn,yn+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,en&&vf(en.doc)),en&&vs(en,"markerCleared",en,this,fn,yn),an&&ed(en),this.parent&&this.parent.clear()}},yu.prototype.find=function(en,an){en==null&&this.type=="bookmark"&&(en=1);for(var pn,fn,yn=0;yn<this.lines.length;++yn){var En=this.lines[yn],On=gs(En.markedSpans,this);if(On.from!=null&&(pn=Ji(an?En:Aa(En),On.from),en==-1))return pn;if(On.to!=null&&(fn=Ji(an?En:Aa(En),On.to),en==1))return fn}return pn&&{from:pn,to:fn}},yu.prototype.changed=function(){var en=this,an=this.find(-1,!0),pn=this,fn=this.doc.cm;!an||!fn||tl(fn,function(){var yn=an.line,En=Aa(an.line),On=Gl(fn,En);if(On&&(fu(On),fn.curOp.selectionChanged=fn.curOp.forceUpdate=!0),fn.curOp.updateMaxLine=!0,!Sl(pn.doc,yn)&&pn.height!=null){var Fn=pn.height;pn.height=null;var Un=Yc(pn)-Fn;Un&&Ms(yn,yn.height+Un)}vs(fn,"markerChanged",fn,en)})},yu.prototype.attachLine=function(en){if(!this.lines.length&&this.doc.cm){var an=this.doc.cm.curOp;(!an.maybeHiddenMarkers||oo(an.maybeHiddenMarkers,this)==-1)&&(an.maybeUnhiddenMarkers||(an.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(en)},yu.prototype.detachLine=function(en){if(this.lines.splice(oo(this.lines,en),1),!this.lines.length&&this.doc.cm){var an=this.doc.cm.curOp;(an.maybeHiddenMarkers||(an.maybeHiddenMarkers=[])).push(this)}},es(yu);function Ru(en,an,pn,fn,yn){if(fn&&fn.shared)return hg(en,an,pn,fn,yn);if(en.cm&&!en.cm.curOp)return hl(en.cm,Ru)(en,an,pn,fn,yn);var En=new yu(en,yn),On=Uo(an,pn);if(fn&&Pi(fn,En,!1),On>0||On==0&&En.clearWhenEmpty!==!1)return En;if(En.replacedWith&&(En.collapsed=!0,En.widgetNode=Gn("span",[En.replacedWith],"CodeMirror-widget"),fn.handleMouseEvents||En.widgetNode.setAttribute("cm-ignore-events","true"),fn.insertLeft&&(En.widgetNode.insertLeft=!0)),En.collapsed){if(xa(en,an.line,an,pn,En)||an.line!=pn.line&&xa(en,pn.line,an,pn,En))throw new Error("Inserting collapsed marker partially overlapping an existing one");ps()}En.addToHistory&&pf(en,{from:an,to:pn,origin:"markText"},en.sel,NaN);var Fn=an.line,Un=en.cm,Zn;if(en.iter(Fn,pn.line+1,function(pi){Un&&En.collapsed&&!Un.options.lineWrapping&&Ya(pi)==Un.display.maxLine&&(Zn=!0),En.collapsed&&Fn!=an.line&&Ms(pi,0),ws(pi,new Za(En,Fn==an.line?an.ch:null,Fn==pn.line?pn.ch:null),en.cm&&en.cm.curOp),++Fn}),En.collapsed&&en.iter(an.line,pn.line+1,function(pi){Sl(en,pi)&&Ms(pi,0)}),En.clearOnEnter&&Hi(En,"beforeCursorEnter",function(){return En.clear()}),En.readOnly&&(Ba(),(en.history.done.length||en.history.undone.length)&&en.clearHistory()),En.collapsed&&(En.id=++zc,En.atomic=!0),Un){if(Zn&&(Un.curOp.updateMaxLine=!0),En.collapsed)Xa(Un,an.line,pn.line+1);else if(En.className||En.startStyle||En.endStyle||En.css||En.attributes||En.title)for(var ai=an.line;ai<=pn.line;ai++)bc(Un,ai,"text");En.atomic&&vf(Un.doc),vs(Un,"markerAdded",Un,En)}return En}var $u=function(en,an){this.markers=en,this.primary=an;for(var pn=0;pn<en.length;++pn)en[pn].parent=this};$u.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var en=0;en<this.markers.length;++en)this.markers[en].clear();vs(this,"clear")}},$u.prototype.find=function(en,an){return this.primary.find(en,an)},es($u);function hg(en,an,pn,fn,yn){fn=Pi(fn),fn.shared=!1;var En=[Ru(en,an,pn,fn,yn)],On=En[0],Fn=fn.widgetNode;return cs(en,function(Un){Fn&&(fn.widgetNode=Fn.cloneNode(!0)),En.push(Ru(Un,Li(Un,an),Li(Un,pn),fn,yn));for(var Zn=0;Zn<Un.linked.length;++Zn)if(Un.linked[Zn].isParent)return;On=Ao(En)}),new $u(En,On)}function hp(en){return en.findMarks(Ji(en.first,0),en.clipPos(Ji(en.lastLine())),function(an){return an.parent})}function fg(en,an){for(var pn=0;pn<an.length;pn++){var fn=an[pn],yn=fn.find(),En=en.clipPos(yn.from),On=en.clipPos(yn.to);if(Uo(En,On)){var Fn=Ru(en,En,On,fn.primary,fn.primary.type);fn.markers.push(Fn),Fn.parent=fn}}}function Af(en){for(var an=function(fn){var yn=en[fn],En=[yn.primary.doc];cs(yn.primary.doc,function(Un){return En.push(Un)});for(var On=0;On<yn.markers.length;On++){var Fn=yn.markers[On];oo(En,Fn.doc)==-1&&(Fn.parent=null,yn.markers.splice(On--,1))}},pn=0;pn<en.length;pn++)an(pn)}var pg=0,ic=function(en,an,pn,fn,yn){if(!(this instanceof ic))return new ic(en,an,pn,fn,yn);pn==null&&(pn=0),wd.call(this,[new Bc([new Pn("",null)])]),this.first=pn,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=pn;var En=Ji(pn,0);this.sel=tu(En),this.history=new Yd(null),this.id=++pg,this.modeOption=an,this.lineSep=fn,this.direction=yn=="rtl"?"rtl":"ltr",this.extend=!1,typeof en=="string"&&(en=this.splitLines(en)),uf(this,{from:En,to:En,text:en}),Dl(this,tu(En),Wi)};ic.prototype=Ua(wd.prototype,{constructor:ic,iter:function(en,an,pn){pn?this.iterN(en-this.first,an-en,pn):this.iterN(this.first,this.first+this.size,en)},insert:function(en,an){for(var pn=0,fn=0;fn<an.length;++fn)pn+=an[fn].height;this.insertInner(en-this.first,an,pn)},remove:function(en,an){this.removeInner(en-this.first,an)},getValue:function(en){var an=sa(this,this.first,this.first+this.size);return en===!1?an:an.join(en||this.lineSeparator())},setValue:fl(function(en){var an=Ji(this.first,0),pn=this.first+this.size-1;nd(this,{from:an,to:Ji(pn,bi(this,pn).text.length),text:this.splitLines(en),origin:"setValue",full:!0},!0),this.cm&&ks(this.cm,0,0),Dl(this,tu(an),Wi)}),replaceRange:function(en,an,pn,fn){an=Li(this,an),pn=pn?Li(this,pn):an,id(this,en,an,pn,fn)},getRange:function(en,an,pn){var fn=ds(this,Li(this,en),Li(this,an));return pn===!1?fn:pn===""?fn.join(""):fn.join(pn||this.lineSeparator())},getLine:function(en){var an=this.getLineHandle(en);return an&&an.text},getLineHandle:function(en){if(Qs(this,en))return bi(this,en)},getLineNumber:function(en){return Aa(en)},getLineHandleVisualStart:function(en){return typeof en=="number"&&(en=bi(this,en)),Ya(en)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(en){return Li(this,en)},getCursor:function(en){var an=this.sel.primary(),pn;return en==null||en=="head"?pn=an.head:en=="anchor"?pn=an.anchor:en=="end"||en=="to"||en===!1?pn=an.to():pn=an.from(),pn},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:fl(function(en,an,pn){mf(this,Li(this,typeof en=="number"?Ji(en,an||0):en),null,pn)}),setSelection:fl(function(en,an,pn){mf(this,Li(this,en),Li(this,an||en),pn)}),extendSelection:fl(function(en,an,pn){Ah(this,Li(this,en),an&&Li(this,an),pn)}),extendSelections:fl(function(en,an){Ch(this,po(this,en),an)}),extendSelectionsBy:fl(function(en,an){var pn=ba(this.sel.ranges,en);Ch(this,po(this,pn),an)}),setSelections:fl(function(en,an,pn){if(en.length){for(var fn=[],yn=0;yn<en.length;yn++)fn[yn]=new os(Li(this,en[yn].anchor),Li(this,en[yn].head||en[yn].anchor));an==null&&(an=Math.min(en.length-1,this.sel.primIndex)),Dl(this,Ac(this.cm,fn,an),pn)}}),addSelection:fl(function(en,an,pn){var fn=this.sel.ranges.slice(0);fn.push(new os(Li(this,en),Li(this,an||en))),Dl(this,Ac(this.cm,fn,fn.length-1),pn)}),getSelection:function(en){for(var an=this.sel.ranges,pn,fn=0;fn<an.length;fn++){var yn=ds(this,an[fn].from(),an[fn].to());pn=pn?pn.concat(yn):yn}return en===!1?pn:pn.join(en||this.lineSeparator())},getSelections:function(en){for(var an=[],pn=this.sel.ranges,fn=0;fn<pn.length;fn++){var yn=ds(this,pn[fn].from(),pn[fn].to());en!==!1&&(yn=yn.join(en||this.lineSeparator())),an[fn]=yn}return an},replaceSelection:function(en,an,pn){for(var fn=[],yn=0;yn<this.sel.ranges.length;yn++)fn[yn]=en;this.replaceSelections(fn,an,pn||"+input")},replaceSelections:fl(function(en,an,pn){for(var fn=[],yn=this.sel,En=0;En<yn.ranges.length;En++){var On=yn.ranges[En];fn[En]={from:On.from(),to:On.to(),text:this.splitLines(en[En]),origin:pn}}for(var Fn=an&&an!="end"&&ag(this,fn,an),Un=fn.length-1;Un>=0;Un--)nd(this,fn[Un]);Fn?td(this,Fn):this.cm&&ls(this.cm)}),undo:fl(function(){xh(this,"undo")}),redo:fl(function(){xh(this,"redo")}),undoSelection:fl(function(){xh(this,"undo",!0)}),redoSelection:fl(function(){xh(this,"redo",!0)}),setExtending:function(en){this.extend=en},getExtending:function(){return this.extend},historySize:function(){for(var en=this.history,an=0,pn=0,fn=0;fn<en.done.length;fn++)en.done[fn].ranges||++an;for(var yn=0;yn<en.undone.length;yn++)en.undone[yn].ranges||++pn;return{undo:an,redo:pn}},clearHistory:function(){var en=this;this.history=new Yd(this.history),cs(this,function(an){return an.history=en.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(en){return en&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(en){return this.history.generation==(en||this.cleanGeneration)},getHistory:function(){return{done:_d(this.history.done),undone:_d(this.history.undone)}},setHistory:function(en){var an=this.history=new Yd(this.history);an.done=_d(en.done.slice(0),null,!0),an.undone=_d(en.undone.slice(0),null,!0)},setGutterMarker:fl(function(en,an,pn){return Qd(this,en,"gutter",function(fn){var yn=fn.gutterMarkers||(fn.gutterMarkers={});return yn[an]=pn,!pn&&_i(yn)&&(fn.gutterMarkers=null),!0})}),clearGutter:fl(function(en){var an=this;this.iter(function(pn){pn.gutterMarkers&&pn.gutterMarkers[en]&&Qd(an,pn,"gutter",function(){return pn.gutterMarkers[en]=null,_i(pn.gutterMarkers)&&(pn.gutterMarkers=null),!0})})}),lineInfo:function(en){var an;if(typeof en=="number"){if(!Qs(this,en)||(an=en,en=bi(this,en),!en))return null}else if(an=Aa(en),an==null)return null;return{line:an,handle:en,text:en.text,gutterMarkers:en.gutterMarkers,textClass:en.textClass,bgClass:en.bgClass,wrapClass:en.wrapClass,widgets:en.widgets}},addLineClass:fl(function(en,an,pn){return Qd(this,en,an=="gutter"?"gutter":"class",function(fn){var yn=an=="text"?"textClass":an=="background"?"bgClass":an=="gutter"?"gutterClass":"wrapClass";if(!fn[yn])fn[yn]=pn;else{if(In(pn).test(fn[yn]))return!1;fn[yn]+=" "+pn}return!0})}),removeLineClass:fl(function(en,an,pn){return Qd(this,en,an=="gutter"?"gutter":"class",function(fn){var yn=an=="text"?"textClass":an=="background"?"bgClass":an=="gutter"?"gutterClass":"wrapClass",En=fn[yn];if(En)if(pn==null)fn[yn]=null;else{var On=En.match(In(pn));if(!On)return!1;var Fn=On.index+On[0].length;fn[yn]=En.slice(0,On.index)+(!On.index||Fn==En.length?"":" ")+En.slice(Fn)||null}else return!1;return!0})}),addLineWidget:fl(function(en,an,pn){return nu(this,en,an,pn)}),removeLineWidget:function(en){en.clear()},markText:function(en,an,pn){return Ru(this,Li(this,en),Li(this,an),pn,pn&&pn.type||"range")},setBookmark:function(en,an){var pn={replacedWith:an&&(an.nodeType==null?an.widget:an),insertLeft:an&&an.insertLeft,clearWhenEmpty:!1,shared:an&&an.shared,handleMouseEvents:an&&an.handleMouseEvents};return en=Li(this,en),Ru(this,en,en,pn,"bookmark")},findMarksAt:function(en){en=Li(this,en);var an=[],pn=bi(this,en.line).markedSpans;if(pn)for(var fn=0;fn<pn.length;++fn){var yn=pn[fn];(yn.from==null||yn.from<=en.ch)&&(yn.to==null||yn.to>=en.ch)&&an.push(yn.marker.parent||yn.marker)}return an},findMarks:function(en,an,pn){en=Li(this,en),an=Li(this,an);var fn=[],yn=en.line;return this.iter(en.line,an.line+1,function(En){var On=En.markedSpans;if(On)for(var Fn=0;Fn<On.length;Fn++){var Un=On[Fn];!(Un.to!=null&&yn==en.line&&en.ch>=Un.to||Un.from==null&&yn!=en.line||Un.from!=null&&yn==an.line&&Un.from>=an.ch)&&(!pn||pn(Un.marker))&&fn.push(Un.marker.parent||Un.marker)}++yn}),fn},getAllMarks:function(){var en=[];return this.iter(function(an){var pn=an.markedSpans;if(pn)for(var fn=0;fn<pn.length;++fn)pn[fn].from!=null&&en.push(pn[fn].marker)}),en},posFromIndex:function(en){var an,pn=this.first,fn=this.lineSeparator().length;return this.iter(function(yn){var En=yn.text.length+fn;if(En>en)return an=en,!0;en-=En,++pn}),Li(this,Ji(pn,an))},indexFromPos:function(en){en=Li(this,en);var an=en.ch;if(en.line<this.first||en.ch<0)return 0;var pn=this.lineSeparator().length;return this.iter(this.first,en.line,function(fn){an+=fn.text.length+pn}),an},copy:function(en){var an=new ic(sa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return an.scrollTop=this.scrollTop,an.scrollLeft=this.scrollLeft,an.sel=this.sel,an.extend=!1,en&&(an.history.undoDepth=this.history.undoDepth,an.setHistory(this.getHistory())),an},linkedDoc:function(en){en||(en={});var an=this.first,pn=this.first+this.size;en.from!=null&&en.from>an&&(an=en.from),en.to!=null&&en.to<pn&&(pn=en.to);var fn=new ic(sa(this,an,pn),en.mode||this.modeOption,an,this.lineSep,this.direction);return en.sharedHist&&(fn.history=this.history),(this.linked||(this.linked=[])).push({doc:fn,sharedHist:en.sharedHist}),fn.linked=[{doc:this,isParent:!0,sharedHist:en.sharedHist}],fg(fn,hp(this)),fn},unlinkDoc:function(en){if(en instanceof Os&&(en=en.doc),this.linked)for(var an=0;an<this.linked.length;++an){var pn=this.linked[an];if(pn.doc==en){this.linked.splice(an,1),en.unlinkDoc(this),Af(hp(this));break}}if(en.history==this.history){var fn=[en.id];cs(en,function(yn){return fn.push(yn.id)},!0),en.history=new Yd(null),en.history.done=_d(this.history.done,fn),en.history.undone=_d(this.history.undone,fn)}},iterLinkedDocs:function(en){cs(this,en)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(en){return this.lineSep?en.split(this.lineSep):yo(en)},lineSeparator:function(){return this.lineSep||`
`},setDirection:fl(function(en){en!="rtl"&&(en="ltr"),en!=this.direction&&(this.direction=en,this.iter(function(an){return an.order=null}),this.cm&&wh(this.cm))})}),ic.prototype.eachLine=ic.prototype.iter;var fp=0;function gg(en){var an=this;if(pp(an),!(la(an,en)||mc(an.display,en))){Pa(en),jr&&(fp=+new Date);var pn=wa(an,en,!0),fn=en.dataTransfer.files;if(!(!pn||an.isReadOnly()))if(fn&&fn.length&&window.FileReader&&window.File)for(var yn=fn.length,En=Array(yn),On=0,Fn=function(){++On==yn&&hl(an,function(){pn=Li(an.doc,pn);var Ci={from:pn,to:pn,text:an.doc.splitLines(En.filter(function(Vi){return Vi!=null}).join(an.doc.lineSeparator())),origin:"paste"};nd(an.doc,Ci),td(an.doc,tu(Li(an.doc,pn),Li(an.doc,vu(Ci))))})()},Un=function(Ci,Vi){if(an.options.allowDropFileTypes&&oo(an.options.allowDropFileTypes,Ci.type)==-1){Fn();return}var no=new FileReader;no.onerror=function(){return Fn()},no.onload=function(){var fo=no.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(fo)){Fn();return}En[Vi]=fo,Fn()},no.readAsText(Ci)},Zn=0;Zn<fn.length;Zn++)Un(fn[Zn],Zn);else{if(an.state.draggingText&&an.doc.sel.contains(pn)>-1){an.state.draggingText(en),setTimeout(function(){return an.display.input.focus()},20);return}try{var ai=en.dataTransfer.getData("Text");if(ai){var pi;if(an.state.draggingText&&!an.state.draggingText.copy&&(pi=an.listSelections()),Kd(an.doc,tu(pn,pn)),pi)for(var Ii=0;Ii<pi.length;++Ii)id(an.doc,"",pi[Ii].anchor,pi[Ii].head,"drag");an.replaceSelection(ai,"around","paste"),an.display.input.focus()}}catch{}}}}function mg(en,an){if(jr&&(!en.state.draggingText||+new Date-fp<100)){il(an);return}if(!(la(en,an)||mc(en.display,an))&&(an.dataTransfer.setData("Text",en.getSelection()),an.dataTransfer.effectAllowed="copyMove",an.dataTransfer.setDragImage&&!nn)){var pn=Bn("img",null,null,"position: fixed; left: 0; top: 0;");pn.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",rn&&(pn.width=pn.height=1,en.display.wrapper.appendChild(pn),pn._top=pn.offsetTop),an.dataTransfer.setDragImage(pn,0,0),rn&&pn.parentNode.removeChild(pn)}}function vg(en,an){var pn=wa(en,an);if(pn){var fn=document.createDocumentFragment();js(en,pn,fn),en.display.dragCursor||(en.display.dragCursor=Bn("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),en.display.lineSpace.insertBefore(en.display.dragCursor,en.display.cursorDiv)),jn(en.display.dragCursor,fn)}}function pp(en){en.display.dragCursor&&(en.display.lineSpace.removeChild(en.display.dragCursor),en.display.dragCursor=null)}function Cf(en){if(document.getElementsByClassName){for(var an=document.getElementsByClassName("CodeMirror"),pn=[],fn=0;fn<an.length;fn++){var yn=an[fn].CodeMirror;yn&&pn.push(yn)}pn.length&&pn[0].operation(function(){for(var En=0;En<pn.length;En++)en(pn[En])})}}var xf=!1;function yg(){xf||(Sf(),xf=!0)}function Sf(){var en;Hi(window,"resize",function(){en==null&&(en=setTimeout(function(){en=null,Cf(Df)},100))}),Hi(window,"blur",function(){return Cf(wc)})}function Df(en){var an=en.display;an.cachedCharWidth=an.cachedTextHeight=an.cachedPaddingH=null,an.scrollbarsClipped=!1,en.setSize()}for(var Nu={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},od=0;od<10;od++)Nu[od+48]=Nu[od+96]=String(od);for(var Jd=65;Jd<=90;Jd++)Nu[Jd]=String.fromCharCode(Jd);for(var kd=1;kd<=12;kd++)Nu[kd+111]=Nu[kd+63235]="F"+kd;var bu={};bu.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},bu.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},bu.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},bu.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},bu.default=An?bu.macDefault:bu.pcDefault;function bg(en){var an=en.split(/-(?!$)/);en=an[an.length-1];for(var pn,fn,yn,En,On=0;On<an.length-1;On++){var Fn=an[On];if(/^(cmd|meta|m)$/i.test(Fn))En=!0;else if(/^a(lt)?$/i.test(Fn))pn=!0;else if(/^(c|ctrl|control)$/i.test(Fn))fn=!0;else if(/^s(hift)?$/i.test(Fn))yn=!0;else throw new Error("Unrecognized modifier name: "+Fn)}return pn&&(en="Alt-"+en),fn&&(en="Ctrl-"+en),En&&(en="Cmd-"+en),yn&&(en="Shift-"+en),en}function _g(en){var an={};for(var pn in en)if(en.hasOwnProperty(pn)){var fn=en[pn];if(/^(name|fallthrough|(de|at)tach)$/.test(pn))continue;if(fn=="..."){delete en[pn];continue}for(var yn=ba(pn.split(" "),bg),En=0;En<yn.length;En++){var On=void 0,Fn=void 0;En==yn.length-1?(Fn=yn.join(" "),On=fn):(Fn=yn.slice(0,En+1).join(" "),On="...");var Un=an[Fn];if(!Un)an[Fn]=On;else if(Un!=On)throw new Error("Inconsistent bindings for "+Fn)}delete en[pn]}for(var Zn in an)en[Zn]=an[Zn];return en}function _u(en,an,pn,fn){an=Ad(an);var yn=an.call?an.call(en,fn):an[en];if(yn===!1)return"nothing";if(yn==="...")return"multi";if(yn!=null&&pn(yn))return"handled";if(an.fallthrough){if(Object.prototype.toString.call(an.fallthrough)!="[object Array]")return _u(en,an.fallthrough,pn,fn);for(var En=0;En<an.fallthrough.length;En++){var On=_u(en,an.fallthrough[En],pn,fn);if(On)return On}}}function Eh(en){var an=typeof en=="string"?en:Nu[en.keyCode];return an=="Ctrl"||an=="Alt"||an=="Shift"||an=="Mod"}function gp(en,an,pn){var fn=en;return an.altKey&&fn!="Alt"&&(en="Alt-"+en),(xn?an.metaKey:an.ctrlKey)&&fn!="Ctrl"&&(en="Ctrl-"+en),(xn?an.ctrlKey:an.metaKey)&&fn!="Mod"&&(en="Cmd-"+en),!pn&&an.shiftKey&&fn!="Shift"&&(en="Shift-"+en),en}function mp(en,an){if(rn&&en.keyCode==34&&en.char)return!1;var pn=Nu[en.keyCode];return pn==null||en.altGraphKey?!1:(en.keyCode==3&&en.code&&(pn=en.code),gp(pn,en,an))}function Ad(en){return typeof en=="string"?bu[en]:en}function Cd(en,an){for(var pn=en.doc.sel.ranges,fn=[],yn=0;yn<pn.length;yn++){for(var En=an(pn[yn]);fn.length&&Uo(En.from,Ao(fn).to)<=0;){var On=fn.pop();if(Uo(On.from,En.from)<0){En.from=On.from;break}}fn.push(En)}tl(en,function(){for(var Fn=fn.length-1;Fn>=0;Fn--)id(en.doc,"",fn[Fn].from,fn[Fn].to,"+delete");ls(en)})}function Ef(en,an,pn){var fn=mi(en.text,an+pn,pn);return fn<0||fn>en.text.length?null:fn}function Tf(en,an,pn){var fn=Ef(en,an.ch,pn);return fn==null?null:new Ji(an.line,fn,pn<0?"after":"before")}function wu(en,an,pn,fn,yn){if(en){an.doc.direction=="rtl"&&(yn=-yn);var En=Eo(pn,an.doc.direction);if(En){var On=yn<0?Ao(En):En[0],Fn=yn<0==(On.level==1),Un=Fn?"after":"before",Zn;if(On.level>0||an.doc.direction=="rtl"){var ai=Pc(an,pn);Zn=yn<0?pn.text.length-1:0;var pi=Rl(an,ai,Zn).top;Zn=di(function(Ii){return Rl(an,ai,Ii).top==pi},yn<0==(On.level==1)?On.from:On.to-1,Zn),Un=="before"&&(Zn=Ef(pn,Zn,1))}else Zn=yn<0?On.to:On.from;return new Ji(fn,Zn,Un)}}return new Ji(fn,yn<0?pn.text.length:0,yn<0?"before":"after")}function wg(en,an,pn,fn){var yn=Eo(an,en.doc.direction);if(!yn)return Tf(an,pn,fn);pn.ch>=an.text.length?(pn.ch=an.text.length,pn.sticky="before"):pn.ch<=0&&(pn.ch=0,pn.sticky="after");var En=so(yn,pn.ch,pn.sticky),On=yn[En];if(en.doc.direction=="ltr"&&On.level%2==0&&(fn>0?On.to>pn.ch:On.from<pn.ch))return Tf(an,pn,fn);var Fn=function(Co,Lo){return Ef(an,Co instanceof Ji?Co.ch:Co,Lo)},Un,Zn=function(Co){return en.options.lineWrapping?(Un=Un||Pc(en,an),La(en,an,Un,Co)):{begin:0,end:an.text.length}},ai=Zn(pn.sticky=="before"?Fn(pn,-1):pn.ch);if(en.doc.direction=="rtl"||On.level==1){var pi=On.level==1==fn<0,Ii=Fn(pn,pi?1:-1);if(Ii!=null&&(pi?Ii<=On.to&&Ii<=ai.end:Ii>=On.from&&Ii>=ai.begin)){var Ci=pi?"before":"after";return new Ji(pn.line,Ii,Ci)}}var Vi=function(Co,Lo,mo){for(var No=function(Cs,El){return El?new Ji(pn.line,Fn(Cs,1),"before"):new Ji(pn.line,Cs,"after")};Co>=0&&Co<yn.length;Co+=Lo){var Jo=yn[Co],Go=Lo>0==(Jo.level!=1),Ha=Go?mo.begin:Fn(mo.end,-1);if(Jo.from<=Ha&&Ha<Jo.to||(Ha=Go?Jo.from:Fn(Jo.to,-1),mo.begin<=Ha&&Ha<mo.end))return No(Ha,Go)}},no=Vi(En+fn,fn,ai);if(no)return no;var fo=fn>0?ai.end:Fn(ai.begin,-1);return fo!=null&&!(fn>0&&fo==an.text.length)&&(no=Vi(fn>0?0:yn.length-1,fn,Zn(fo)),no)?no:null}var xd={selectAll:bf,singleSelection:function(en){return en.setSelection(en.getCursor("anchor"),en.getCursor("head"),Wi)},killLine:function(en){return Cd(en,function(an){if(an.empty()){var pn=bi(en.doc,an.head.line).text.length;return an.head.ch==pn&&an.head.line<en.lastLine()?{from:an.head,to:Ji(an.head.line+1,0)}:{from:an.head,to:Ji(an.head.line,pn)}}else return{from:an.from(),to:an.to()}})},deleteLine:function(en){return Cd(en,function(an){return{from:Ji(an.from().line,0),to:Li(en.doc,Ji(an.to().line+1,0))}})},delLineLeft:function(en){return Cd(en,function(an){return{from:Ji(an.from().line,0),to:an.from()}})},delWrappedLineLeft:function(en){return Cd(en,function(an){var pn=en.charCoords(an.head,"div").top+5,fn=en.coordsChar({left:0,top:pn},"div");return{from:fn,to:an.from()}})},delWrappedLineRight:function(en){return Cd(en,function(an){var pn=en.charCoords(an.head,"div").top+5,fn=en.coordsChar({left:en.display.lineDiv.offsetWidth+100,top:pn},"div");return{from:an.from(),to:fn}})},undo:function(en){return en.undo()},redo:function(en){return en.redo()},undoSelection:function(en){return en.undoSelection()},redoSelection:function(en){return en.redoSelection()},goDocStart:function(en){return en.extendSelection(Ji(en.firstLine(),0))},goDocEnd:function(en){return en.extendSelection(Ji(en.lastLine()))},goLineStart:function(en){return en.extendSelectionsBy(function(an){return vp(en,an.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(en){return en.extendSelectionsBy(function(an){return yp(en,an.head)},{origin:"+move",bias:1})},goLineEnd:function(en){return en.extendSelectionsBy(function(an){return kg(en,an.head.line)},{origin:"+move",bias:-1})},goLineRight:function(en){return en.extendSelectionsBy(function(an){var pn=en.cursorCoords(an.head,"div").top+5;return en.coordsChar({left:en.display.lineDiv.offsetWidth+100,top:pn},"div")},Mo)},goLineLeft:function(en){return en.extendSelectionsBy(function(an){var pn=en.cursorCoords(an.head,"div").top+5;return en.coordsChar({left:0,top:pn},"div")},Mo)},goLineLeftSmart:function(en){return en.extendSelectionsBy(function(an){var pn=en.cursorCoords(an.head,"div").top+5,fn=en.coordsChar({left:0,top:pn},"div");return fn.ch<en.getLine(fn.line).search(/\S/)?yp(en,an.head):fn},Mo)},goLineUp:function(en){return en.moveV(-1,"line")},goLineDown:function(en){return en.moveV(1,"line")},goPageUp:function(en){return en.moveV(-1,"page")},goPageDown:function(en){return en.moveV(1,"page")},goCharLeft:function(en){return en.moveH(-1,"char")},goCharRight:function(en){return en.moveH(1,"char")},goColumnLeft:function(en){return en.moveH(-1,"column")},goColumnRight:function(en){return en.moveH(1,"column")},goWordLeft:function(en){return en.moveH(-1,"word")},goGroupRight:function(en){return en.moveH(1,"group")},goGroupLeft:function(en){return en.moveH(-1,"group")},goWordRight:function(en){return en.moveH(1,"word")},delCharBefore:function(en){return en.deleteH(-1,"codepoint")},delCharAfter:function(en){return en.deleteH(1,"char")},delWordBefore:function(en){return en.deleteH(-1,"word")},delWordAfter:function(en){return en.deleteH(1,"word")},delGroupBefore:function(en){return en.deleteH(-1,"group")},delGroupAfter:function(en){return en.deleteH(1,"group")},indentAuto:function(en){return en.indentSelection("smart")},indentMore:function(en){return en.indentSelection("add")},indentLess:function(en){return en.indentSelection("subtract")},insertTab:function(en){return en.replaceSelection("	")},insertSoftTab:function(en){for(var an=[],pn=en.listSelections(),fn=en.options.tabSize,yn=0;yn<pn.length;yn++){var En=pn[yn].from(),On=Fi(en.getLine(En.line),En.ch,fn);an.push(Wo(fn-On%fn))}en.replaceSelections(an)},defaultTab:function(en){en.somethingSelected()?en.indentSelection("add"):en.execCommand("insertTab")},transposeChars:function(en){return tl(en,function(){for(var an=en.listSelections(),pn=[],fn=0;fn<an.length;fn++)if(an[fn].empty()){var yn=an[fn].head,En=bi(en.doc,yn.line).text;if(En){if(yn.ch==En.length&&(yn=new Ji(yn.line,yn.ch-1)),yn.ch>0)yn=new Ji(yn.line,yn.ch+1),en.replaceRange(En.charAt(yn.ch-1)+En.charAt(yn.ch-2),Ji(yn.line,yn.ch-2),yn,"+transpose");else if(yn.line>en.doc.first){var On=bi(en.doc,yn.line-1).text;On&&(yn=new Ji(yn.line,1),en.replaceRange(En.charAt(0)+en.doc.lineSeparator()+On.charAt(On.length-1),Ji(yn.line-1,On.length-1),yn,"+transpose"))}}pn.push(new os(yn,yn))}en.setSelections(pn)})},newlineAndIndent:function(en){return tl(en,function(){for(var an=en.listSelections(),pn=an.length-1;pn>=0;pn--)en.replaceRange(en.doc.lineSeparator(),an[pn].anchor,an[pn].head,"+input");an=en.listSelections();for(var fn=0;fn<an.length;fn++)en.indentLine(an[fn].from().line,null,!0);ls(en)})},openLine:function(en){return en.replaceSelection(`
`,"start")},toggleOverwrite:function(en){return en.toggleOverwrite()}};function vp(en,an){var pn=bi(en.doc,an),fn=Ya(pn);return fn!=pn&&(an=Aa(fn)),wu(!0,en,fn,an,1)}function kg(en,an){var pn=bi(en.doc,an),fn=Is(pn);return fn!=pn&&(an=Aa(fn)),wu(!0,en,pn,an,-1)}function yp(en,an){var pn=vp(en,an.line),fn=bi(en.doc,pn.line),yn=Eo(fn,en.doc.direction);if(!yn||yn[0].level==0){var En=Math.max(pn.ch,fn.text.search(/\S/)),On=an.line==pn.line&&an.ch<=En&&an.ch;return Ji(pn.line,On?0:En,pn.sticky)}return pn}function Th(en,an,pn){if(typeof an=="string"&&(an=xd[an],!an))return!1;en.display.input.ensurePolled();var fn=en.display.shift,yn=!1;try{en.isReadOnly()&&(en.state.suppressEdits=!0),pn&&(en.display.shift=!1),yn=an(en)!=io}finally{en.display.shift=fn,en.state.suppressEdits=!1}return yn}function Hm(en,an,pn){for(var fn=0;fn<en.state.keyMaps.length;fn++){var yn=_u(an,en.state.keyMaps[fn],pn,en);if(yn)return yn}return en.options.extraKeys&&_u(an,en.options.extraKeys,pn,en)||_u(an,en.options.keyMap,pn,en)}var Ag=new zi;function eh(en,an,pn,fn){var yn=en.state.keySeq;if(yn){if(Eh(an))return"handled";if(/\'$/.test(an)?en.state.keySeq=null:Ag.set(50,function(){en.state.keySeq==yn&&(en.state.keySeq=null,en.display.input.reset())}),bp(en,yn+" "+an,pn,fn))return!0}return bp(en,an,pn,fn)}function bp(en,an,pn,fn){var yn=Hm(en,an,fn);return yn=="multi"&&(en.state.keySeq=an),yn=="handled"&&vs(en,"keyHandled",en,an,pn),(yn=="handled"||yn=="multi")&&(Pa(pn),Nd(en)),!!yn}function Mf(en,an){var pn=mp(an,!0);return pn?an.shiftKey&&!en.state.keySeq?eh(en,"Shift-"+pn,an,function(fn){return Th(en,fn,!0)})||eh(en,pn,an,function(fn){if(typeof fn=="string"?/^go[A-Z]/.test(fn):fn.motion)return Th(en,fn)}):eh(en,pn,an,function(fn){return Th(en,fn)}):!1}function _p(en,an,pn){return eh(en,"'"+pn+"'",an,function(fn){return Th(en,fn,!0)})}var If=null;function wp(en){var an=this;if(!(en.target&&en.target!=an.display.input.getField())&&(an.curOp.focus=vi(Vn(an)),!la(an,en))){jr&&Gr<11&&en.keyCode==27&&(en.returnValue=!1);var pn=en.keyCode;an.display.shift=pn==16||en.shiftKey;var fn=Mf(an,en);rn&&(If=fn?pn:null,!fn&&pn==88&&!xo&&(An?en.metaKey:en.ctrlKey)&&an.replaceSelection("",null,"cut")),$r&&!An&&!fn&&pn==46&&en.shiftKey&&!en.ctrlKey&&document.execCommand&&document.execCommand("cut"),pn==18&&!/\bCodeMirror-crosshair\b/.test(an.display.lineDiv.className)&&Cg(an)}}function Cg(en){var an=en.display.lineDiv;wi(an,"CodeMirror-crosshair");function pn(fn){(fn.keyCode==18||!fn.altKey)&&(Hn(an,"CodeMirror-crosshair"),ro(document,"keyup",pn),ro(document,"mouseover",pn))}Hi(document,"keyup",pn),Hi(document,"mouseover",pn)}function kp(en){en.keyCode==16&&(this.doc.sel.shift=!1),la(this,en)}function Mh(en){var an=this;if(!(en.target&&en.target!=an.display.input.getField())&&!(mc(an.display,en)||la(an,en)||en.ctrlKey&&!en.altKey||An&&en.metaKey)){var pn=en.keyCode,fn=en.charCode;if(rn&&pn==If){If=null,Pa(en);return}if(!(rn&&(!en.which||en.which<10)&&Mf(an,en))){var yn=String.fromCharCode(fn??pn);yn!="\b"&&(_p(an,en,yn)||an.display.input.onKeyPress(en))}}}var Lf=400,oc=function(en,an,pn){this.time=en,this.pos=an,this.button=pn};oc.prototype.compare=function(en,an,pn){return this.time+Lf>en&&Uo(an,this.pos)==0&&pn==this.button};var Sd,ku;function Ap(en,an){var pn=+new Date;return ku&&ku.compare(pn,en,an)?(Sd=ku=null,"triple"):Sd&&Sd.compare(pn,en,an)?(ku=new oc(pn,en,an),Sd=null,"double"):(Sd=new oc(pn,en,an),ku=null,"single")}function th(en){var an=this,pn=an.display;if(!(la(an,en)||pn.activeTouch&&pn.input.supportsTouch())){if(pn.input.ensurePolled(),pn.shift=en.shiftKey,mc(pn,en)){Wr||(pn.scroller.draggable=!1,setTimeout(function(){return pn.scroller.draggable=!0},100));return}if(!Bu(an,en)){var fn=wa(an,en),yn=Vl(en),En=fn?Ap(fn,yn):"single";si(an).focus(),yn==1&&an.state.selectingText&&an.state.selectingText(en),!(fn&&Cp(an,yn,fn,En,en))&&(yn==1?fn?ad(an,fn,En,en):us(en)==pn.scroller&&Pa(en):yn==2?(fn&&Ah(an.doc,fn),setTimeout(function(){return pn.input.focus()},20)):yn==3&&(Mn?an.display.input.onContextMenu(en):Ou(an)))}}}function Cp(en,an,pn,fn,yn){var En="Click";return fn=="double"?En="Double"+En:fn=="triple"&&(En="Triple"+En),En=(an==1?"Left":an==2?"Middle":"Right")+En,eh(en,gp(En,yn),yn,function(On){if(typeof On=="string"&&(On=xd[On]),!On)return!1;var Fn=!1;try{en.isReadOnly()&&(en.state.suppressEdits=!0),Fn=On(en,pn)!=io}finally{en.state.suppressEdits=!1}return Fn})}function xp(en,an,pn){var fn=en.getOption("configureMouse"),yn=fn?fn(en,an,pn):{};if(yn.unit==null){var En=vn?pn.shiftKey&&pn.metaKey:pn.altKey;yn.unit=En?"rectangle":an=="single"?"char":an=="double"?"word":"line"}return(yn.extend==null||en.doc.extend)&&(yn.extend=en.doc.extend||pn.shiftKey),yn.addNew==null&&(yn.addNew=An?pn.metaKey:pn.ctrlKey),yn.moveOnDrag==null&&(yn.moveOnDrag=!(An?pn.altKey:pn.ctrlKey)),yn}function ad(en,an,pn,fn){jr?setTimeout(Ri(vd,en),0):en.curOp.focus=vi(Vn(en));var yn=xp(en,pn,fn),En=en.doc.sel,On;en.options.dragDrop&&Bs&&!en.isReadOnly()&&pn=="single"&&(On=En.contains(an))>-1&&(Uo((On=En.ranges[On]).from(),an)<0||an.xRel>0)&&(Uo(On.to(),an)>0||an.xRel<0)?Do(en,fn,an,yn):Ih(en,fn,an,yn)}function Do(en,an,pn,fn){var yn=en.display,En=!1,On=hl(en,function(Zn){Wr&&(yn.scroller.draggable=!1),en.state.draggingText=!1,en.state.delayingBlurEvent&&(en.hasFocus()?en.state.delayingBlurEvent=!1:Ou(en)),ro(yn.wrapper.ownerDocument,"mouseup",On),ro(yn.wrapper.ownerDocument,"mousemove",Fn),ro(yn.scroller,"dragstart",Un),ro(yn.scroller,"drop",On),En||(Pa(Zn),fn.addNew||Ah(en.doc,pn,null,null,fn.extend),Wr&&!nn||jr&&Gr==9?setTimeout(function(){yn.wrapper.ownerDocument.body.focus({preventScroll:!0}),yn.input.focus()},20):yn.input.focus())}),Fn=function(Zn){En=En||Math.abs(an.clientX-Zn.clientX)+Math.abs(an.clientY-Zn.clientY)>=10},Un=function(){return En=!0};Wr&&(yn.scroller.draggable=!0),en.state.draggingText=On,On.copy=!fn.moveOnDrag,Hi(yn.wrapper.ownerDocument,"mouseup",On),Hi(yn.wrapper.ownerDocument,"mousemove",Fn),Hi(yn.scroller,"dragstart",Un),Hi(yn.scroller,"drop",On),en.state.delayingBlurEvent=!0,setTimeout(function(){return yn.input.focus()},20),yn.scroller.dragDrop&&yn.scroller.dragDrop()}function ga(en,an,pn){if(pn=="char")return new os(an,an);if(pn=="word")return en.findWordAt(an);if(pn=="line")return new os(Ji(an.line,0),Li(en.doc,Ji(an.line+1,0)));var fn=pn(en,an);return new os(fn.from,fn.to)}function Ih(en,an,pn,fn){jr&&Ou(en);var yn=en.display,En=en.doc;Pa(an);var On,Fn,Un=En.sel,Zn=Un.ranges;if(fn.addNew&&!fn.extend?(Fn=En.sel.contains(pn),Fn>-1?On=Zn[Fn]:On=new os(pn,pn)):(On=En.sel.primary(),Fn=En.sel.primIndex),fn.unit=="rectangle")fn.addNew||(On=new os(pn,pn)),pn=wa(en,an,!0,!0),Fn=-1;else{var ai=ga(en,pn,fn.unit);fn.extend?On=kh(On,ai.anchor,ai.head,fn.extend):On=ai}fn.addNew?Fn==-1?(Fn=Zn.length,Dl(En,Ac(en,Zn.concat([On]),Fn),{scroll:!1,origin:"*mouse"})):Zn.length>1&&Zn[Fn].empty()&&fn.unit=="char"&&!fn.extend?(Dl(En,Ac(en,Zn.slice(0,Fn).concat(Zn.slice(Fn+1)),0),{scroll:!1,origin:"*mouse"}),Un=En.sel):qd(En,Fn,On,Bo):(Fn=0,Dl(En,new Bl([On],0),Bo),Un=En.sel);var pi=pn;function Ii(mo){if(Uo(pi,mo)!=0)if(pi=mo,fn.unit=="rectangle"){for(var No=[],Jo=en.options.tabSize,Go=Fi(bi(En,pn.line).text,pn.ch,Jo),Ha=Fi(bi(En,mo.line).text,mo.ch,Jo),Cs=Math.min(Go,Ha),El=Math.max(Go,Ha),Xs=Math.min(pn.line,mo.line),pc=Math.min(en.lastLine(),Math.max(pn.line,mo.line));Xs<=pc;Xs++){var ac=bi(En,Xs).text,pl=Zi(ac,Cs,Jo);Cs==El?No.push(new os(Ji(Xs,pl),Ji(Xs,pl))):ac.length>pl&&No.push(new os(Ji(Xs,pl),Ji(Xs,Zi(ac,El,Jo))))}No.length||No.push(new os(pn,pn)),Dl(En,Ac(en,Un.ranges.slice(0,Fn).concat(No),Fn),{origin:"*mouse",scroll:!1}),en.scrollIntoView(mo)}else{var sc=On,Fl=ga(en,mo,fn.unit),kl=sc.anchor,cl;Uo(Fl.anchor,kl)>0?(cl=Fl.head,kl=oi(sc.from(),Fl.anchor)):(cl=Fl.anchor,kl=hi(sc.to(),Fl.head));var nl=Un.ranges.slice(0);nl[Fn]=iu(en,new os(Li(En,kl),cl)),Dl(En,Ac(en,nl,Fn),Bo)}}var Ci=yn.wrapper.getBoundingClientRect(),Vi=0;function no(mo){var No=++Vi,Jo=wa(en,mo,!0,fn.unit=="rectangle");if(Jo)if(Uo(Jo,pi)!=0){en.curOp.focus=vi(Vn(en)),Ii(Jo);var Go=Rn(yn,En);(Jo.line>=Go.to||Jo.line<Go.from)&&setTimeout(hl(en,function(){Vi==No&&no(mo)}),150)}else{var Ha=mo.clientY<Ci.top?-20:mo.clientY>Ci.bottom?20:0;Ha&&setTimeout(hl(en,function(){Vi==No&&(yn.scroller.scrollTop+=Ha,no(mo))}),50)}}function fo(mo){en.state.selectingText=!1,Vi=1/0,mo&&(Pa(mo),yn.input.focus()),ro(yn.wrapper.ownerDocument,"mousemove",Co),ro(yn.wrapper.ownerDocument,"mouseup",Lo),En.history.lastSelOrigin=null}var Co=hl(en,function(mo){mo.buttons===0||!Vl(mo)?fo(mo):no(mo)}),Lo=hl(en,fo);en.state.selectingText=Lo,Hi(yn.wrapper.ownerDocument,"mousemove",Co),Hi(yn.wrapper.ownerDocument,"mouseup",Lo)}function iu(en,an){var pn=an.anchor,fn=an.head,yn=bi(en.doc,pn.line);if(Uo(pn,fn)==0&&pn.sticky==fn.sticky)return an;var En=Eo(yn);if(!En)return an;var On=so(En,pn.ch,pn.sticky),Fn=En[On];if(Fn.from!=pn.ch&&Fn.to!=pn.ch)return an;var Un=On+(Fn.from==pn.ch==(Fn.level!=1)?0:1);if(Un==0||Un==En.length)return an;var Zn;if(fn.line!=pn.line)Zn=(fn.line-pn.line)*(en.doc.direction=="ltr"?1:-1)>0;else{var ai=so(En,fn.ch,fn.sticky),pi=ai-On||(fn.ch-pn.ch)*(Fn.level==1?-1:1);ai==Un-1||ai==Un?Zn=pi<0:Zn=pi>0}var Ii=En[Un+(Zn?-1:0)],Ci=Zn==(Ii.level==1),Vi=Ci?Ii.from:Ii.to,no=Ci?"after":"before";return pn.ch==Vi&&pn.sticky==no?an:new os(new Ji(pn.line,Vi,no),fn)}function Lh(en,an,pn,fn){var yn,En;if(an.touches)yn=an.touches[0].clientX,En=an.touches[0].clientY;else try{yn=an.clientX,En=an.clientY}catch{return!1}if(yn>=Math.floor(en.display.gutters.getBoundingClientRect().right))return!1;fn&&Pa(an);var On=en.display,Fn=On.lineDiv.getBoundingClientRect();if(En>Fn.bottom||!ca(en,pn))return qs(an);En-=Fn.top-On.viewOffset;for(var Un=0;Un<en.display.gutterSpecs.length;++Un){var Zn=On.gutters.childNodes[Un];if(Zn&&Zn.getBoundingClientRect().right>=yn){var ai=Fs(en.doc,En),pi=en.display.gutterSpecs[Un];return ea(en,pn,en,ai,pi.className,an),qs(an)}}}function Bu(en,an){return Lh(en,an,"gutterClick",!0)}function Ph(en,an){mc(en.display,an)||Pf(en,an)||la(en,an,"contextmenu")||Mn||en.display.input.onContextMenu(an)}function Pf(en,an){return ca(en,"gutterContextMenu")?Lh(en,an,"gutterContextMenu",!1):!1}function Dd(en){en.display.wrapper.className=en.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+en.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Oc(en)}var Hc={toString:function(){return"CodeMirror.Init"}},Of={},Ed={};function Oh(en){var an=en.optionHandlers;function pn(fn,yn,En,On){en.defaults[fn]=yn,En&&(an[fn]=On?function(Fn,Un,Zn){Zn!=Hc&&En(Fn,Un,Zn)}:En)}en.defineOption=pn,en.Init=Hc,pn("value","",function(fn,yn){return fn.setValue(yn)},!0),pn("mode",null,function(fn,yn){fn.doc.modeOption=yn,_h(fn)},!0),pn("indentUnit",2,_h,!0),pn("indentWithTabs",!1),pn("smartIndent",!0),pn("tabSize",4,function(fn){ru(fn),Oc(fn),Xa(fn)},!0),pn("lineSeparator",null,function(fn,yn){if(fn.doc.lineSep=yn,!!yn){var En=[],On=fn.doc.first;fn.doc.iter(function(Un){for(var Zn=0;;){var ai=Un.text.indexOf(yn,Zn);if(ai==-1)break;Zn=ai+yn.length,En.push(Ji(On,ai))}On++});for(var Fn=En.length-1;Fn>=0;Fn--)id(fn.doc,yn,En[Fn],Ji(En[Fn].line,En[Fn].ch+yn.length))}}),pn("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(fn,yn,En){fn.state.specialChars=new RegExp(yn.source+(yn.test("	")?"":"|	"),"g"),En!=Hc&&fn.refresh()}),pn("specialCharPlaceholder",Ei,function(fn){return fn.refresh()},!0),pn("electricChars",!0),pn("inputStyle",bn?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),pn("spellcheck",!1,function(fn,yn){return fn.getInputField().spellcheck=yn},!0),pn("autocorrect",!1,function(fn,yn){return fn.getInputField().autocorrect=yn},!0),pn("autocapitalize",!1,function(fn,yn){return fn.getInputField().autocapitalize=yn},!0),pn("rtlMoveVisually",!dn),pn("wholeLineUpdateBefore",!0),pn("theme","default",function(fn){Dd(fn),Gd(fn)},!0),pn("keyMap","default",function(fn,yn,En){var On=Ad(yn),Fn=En!=Hc&&Ad(En);Fn&&Fn.detach&&Fn.detach(fn,On),On.attach&&On.attach(fn,Fn||null)}),pn("extraKeys",null),pn("configureMouse",null),pn("lineWrapping",!1,xg,!0),pn("gutters",[],function(fn,yn){fn.display.gutterSpecs=rf(yn,fn.options.lineNumbers),Gd(fn)},!0),pn("fixedGutter",!0,function(fn,yn){fn.display.gutters.style.left=yn?ll(fn.display)+"px":"0",fn.refresh()},!0),pn("coverGutterNextToScrollbar",!1,function(fn){return Rc(fn)},!0),pn("scrollbarStyle","native",function(fn){yh(fn),Rc(fn),fn.display.scrollbars.setScrollTop(fn.doc.scrollTop),fn.display.scrollbars.setScrollLeft(fn.doc.scrollLeft)},!0),pn("lineNumbers",!1,function(fn,yn){fn.display.gutterSpecs=rf(fn.options.gutters,yn),Gd(fn)},!0),pn("firstLineNumber",1,Gd,!0),pn("lineNumberFormatter",function(fn){return fn},Gd,!0),pn("showCursorWhenSelecting",!1,Wl,!0),pn("resetSelectionOnContextMenu",!0),pn("lineWiseCopyCut",!0),pn("pasteLinesPerSelection",!0),pn("selectionsMayTouch",!1),pn("readOnly",!1,function(fn,yn){yn=="nocursor"&&(wc(fn),fn.display.input.blur()),fn.display.input.readOnlyChanged(yn)}),pn("screenReaderLabel",null,function(fn,yn){yn=yn===""?null:yn,fn.display.input.screenReaderLabelChanged(yn)}),pn("disableInput",!1,function(fn,yn){yn||fn.display.input.reset()},!0),pn("dragDrop",!0,sd),pn("allowDropFileTypes",null),pn("cursorBlinkRate",530),pn("cursorScrollMargin",0),pn("cursorHeight",1,Wl,!0),pn("singleCursorHeightPerLine",!0,Wl,!0),pn("workTime",100),pn("workDelay",100),pn("flattenSpans",!0,ru,!0),pn("addModeClass",!1,ru,!0),pn("pollInterval",100),pn("undoDepth",200,function(fn,yn){return fn.doc.history.undoDepth=yn}),pn("historyEventDelay",1250),pn("viewportMargin",10,function(fn){return fn.refresh()},!0),pn("maxHighlightLength",1e4,ru,!0),pn("moveInputWithCursor",!0,function(fn,yn){yn||fn.display.input.resetPosition()}),pn("tabindex",null,function(fn,yn){return fn.display.input.getField().tabIndex=yn||""}),pn("autofocus",null),pn("direction","ltr",function(fn,yn){return fn.doc.setDirection(yn)},!0),pn("phrases",null)}function sd(en,an,pn){var fn=pn&&pn!=Hc;if(!an!=!fn){var yn=en.display.dragFunctions,En=an?Hi:ro;En(en.display.scroller,"dragstart",yn.start),En(en.display.scroller,"dragenter",yn.enter),En(en.display.scroller,"dragover",yn.over),En(en.display.scroller,"dragleave",yn.leave),En(en.display.scroller,"drop",yn.drop)}}function xg(en){en.options.lineWrapping?(wi(en.display.wrapper,"CodeMirror-wrap"),en.display.sizer.style.minWidth="",en.display.sizerWidth=null):(Hn(en.display.wrapper,"CodeMirror-wrap"),Sn(en)),el(en),Xa(en),Oc(en),setTimeout(function(){return Rc(en)},100)}function Os(en,an){var pn=this;if(!(this instanceof Os))return new Os(en,an);this.options=an=an?Pi(an):{},Pi(Of,an,!1);var fn=an.value;typeof fn=="string"?fn=new ic(fn,an.mode,null,an.lineSeparator,an.direction):an.mode&&(fn.modeOption=an.mode),this.doc=fn;var yn=new Os.inputStyles[an.inputStyle](this),En=this.display=new op(en,fn,yn,an);En.wrapper.CodeMirror=this,Dd(this),an.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),yh(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new zi,keySeq:null,specialChars:null},an.autofocus&&!bn&&En.input.focus(),jr&&Gr<11&&setTimeout(function(){return pn.display.input.reset(!0)},20),Rf(this),yg(),Ju(this),this.curOp.forceUpdate=!0,df(this,fn),an.autofocus&&!bn||this.hasFocus()?setTimeout(function(){pn.hasFocus()&&!pn.state.focused&&yd(pn)},20):wc(this);for(var On in Ed)Ed.hasOwnProperty(On)&&Ed[On](this,an[On],Hc);tf(this),an.finishInit&&an.finishInit(this);for(var Fn=0;Fn<$f.length;++Fn)$f[Fn](this);ed(this),Wr&&an.lineWrapping&&getComputedStyle(En.lineDiv).textRendering=="optimizelegibility"&&(En.lineDiv.style.textRendering="auto")}Os.defaults=Of,Os.optionHandlers=Ed;function Rf(en){var an=en.display;Hi(an.scroller,"mousedown",hl(en,th)),jr&&Gr<11?Hi(an.scroller,"dblclick",hl(en,function(Un){if(!la(en,Un)){var Zn=wa(en,Un);if(!(!Zn||Bu(en,Un)||mc(en.display,Un))){Pa(Un);var ai=en.findWordAt(Zn);Ah(en.doc,ai.anchor,ai.head)}}})):Hi(an.scroller,"dblclick",function(Un){return la(en,Un)||Pa(Un)}),Hi(an.scroller,"contextmenu",function(Un){return Ph(en,Un)}),Hi(an.input.getField(),"contextmenu",function(Un){an.scroller.contains(Un.target)||Ph(en,Un)});var pn,fn={end:0};function yn(){an.activeTouch&&(pn=setTimeout(function(){return an.activeTouch=null},1e3),fn=an.activeTouch,fn.end=+new Date)}function En(Un){if(Un.touches.length!=1)return!1;var Zn=Un.touches[0];return Zn.radiusX<=1&&Zn.radiusY<=1}function On(Un,Zn){if(Zn.left==null)return!0;var ai=Zn.left-Un.left,pi=Zn.top-Un.top;return ai*ai+pi*pi>20*20}Hi(an.scroller,"touchstart",function(Un){if(!la(en,Un)&&!En(Un)&&!Bu(en,Un)){an.input.ensurePolled(),clearTimeout(pn);var Zn=+new Date;an.activeTouch={start:Zn,moved:!1,prev:Zn-fn.end<=300?fn:null},Un.touches.length==1&&(an.activeTouch.left=Un.touches[0].pageX,an.activeTouch.top=Un.touches[0].pageY)}}),Hi(an.scroller,"touchmove",function(){an.activeTouch&&(an.activeTouch.moved=!0)}),Hi(an.scroller,"touchend",function(Un){var Zn=an.activeTouch;if(Zn&&!mc(an,Un)&&Zn.left!=null&&!Zn.moved&&new Date-Zn.start<300){var ai=en.coordsChar(an.activeTouch,"page"),pi;!Zn.prev||On(Zn,Zn.prev)?pi=new os(ai,ai):!Zn.prev.prev||On(Zn,Zn.prev.prev)?pi=en.findWordAt(ai):pi=new os(Ji(ai.line,0),Li(en.doc,Ji(ai.line+1,0))),en.setSelection(pi.anchor,pi.head),en.focus(),Pa(Un)}yn()}),Hi(an.scroller,"touchcancel",yn),Hi(an.scroller,"scroll",function(){an.scroller.clientHeight&&(Bd(en,an.scroller.scrollTop),Qu(en,an.scroller.scrollLeft,!0),ea(en,"scroll",en))}),Hi(an.scroller,"mousewheel",function(Un){return of(en,Un)}),Hi(an.scroller,"DOMMouseScroll",function(Un){return of(en,Un)}),Hi(an.wrapper,"scroll",function(){return an.wrapper.scrollTop=an.wrapper.scrollLeft=0}),an.dragFunctions={enter:function(Un){la(en,Un)||il(Un)},over:function(Un){la(en,Un)||(vg(en,Un),il(Un))},start:function(Un){return mg(en,Un)},drop:hl(en,gg),leave:function(Un){la(en,Un)||pp(en)}};var Fn=an.input.getField();Hi(Fn,"keyup",function(Un){return kp.call(en,Un)}),Hi(Fn,"keydown",hl(en,wp)),Hi(Fn,"keypress",hl(en,Mh)),Hi(Fn,"focus",function(Un){return yd(en,Un)}),Hi(Fn,"blur",function(Un){return wc(en,Un)})}var $f=[];Os.defineInitHook=function(en){return $f.push(en)};function Fu(en,an,pn,fn){var yn=en.doc,En;pn==null&&(pn="add"),pn=="smart"&&(yn.mode.indent?En=So(en,an).state:pn="prev");var On=en.options.tabSize,Fn=bi(yn,an),Un=Fi(Fn.text,null,On);Fn.stateAfter&&(Fn.stateAfter=null);var Zn=Fn.text.match(/^\s*/)[0],ai;if(!fn&&!/\S/.test(Fn.text))ai=0,pn="not";else if(pn=="smart"&&(ai=yn.mode.indent(En,Fn.text.slice(Zn.length),Fn.text),ai==io||ai>150)){if(!fn)return;pn="prev"}pn=="prev"?an>yn.first?ai=Fi(bi(yn,an-1).text,null,On):ai=0:pn=="add"?ai=Un+en.options.indentUnit:pn=="subtract"?ai=Un-en.options.indentUnit:typeof pn=="number"&&(ai=Un+pn),ai=Math.max(0,ai);var pi="",Ii=0;if(en.options.indentWithTabs)for(var Ci=Math.floor(ai/On);Ci;--Ci)Ii+=On,pi+="	";if(Ii<ai&&(pi+=Wo(ai-Ii)),pi!=Zn)return id(yn,pi,Ji(an,0),Ji(an,Zn.length),"+input"),Fn.stateAfter=null,!0;for(var Vi=0;Vi<yn.sel.ranges.length;Vi++){var no=yn.sel.ranges[Vi];if(no.head.line==an&&no.head.ch<Zn.length){var fo=Ji(an,Zn.length);qd(yn,Vi,new os(fo,fo));break}}}var Vc=null;function Rh(en){Vc=en}function rh(en,an,pn,fn,yn){var En=en.doc;en.display.shift=!1,fn||(fn=En.sel);var On=+new Date-200,Fn=yn=="paste"||en.state.pasteIncoming>On,Un=yo(an),Zn=null;if(Fn&&fn.ranges.length>1)if(Vc&&Vc.text.join(`
`)==an){if(fn.ranges.length%Vc.text.length==0){Zn=[];for(var ai=0;ai<Vc.text.length;ai++)Zn.push(En.splitLines(Vc.text[ai]))}}else Un.length==fn.ranges.length&&en.options.pasteLinesPerSelection&&(Zn=ba(Un,function(Co){return[Co]}));for(var pi=en.curOp.updateInput,Ii=fn.ranges.length-1;Ii>=0;Ii--){var Ci=fn.ranges[Ii],Vi=Ci.from(),no=Ci.to();Ci.empty()&&(pn&&pn>0?Vi=Ji(Vi.line,Vi.ch-pn):en.state.overwrite&&!Fn?no=Ji(no.line,Math.min(bi(En,no.line).text.length,no.ch+Ao(Un).length)):Fn&&Vc&&Vc.lineWise&&Vc.text.join(`
`)==Un.join(`
`)&&(Vi=no=Ji(Vi.line,0)));var fo={from:Vi,to:no,text:Zn?Zn[Ii%Zn.length]:Un,origin:yn||(Fn?"paste":en.state.cutIncoming>On?"cut":"+input")};nd(en.doc,fo),vs(en,"inputRead",en,fo)}an&&!Fn&&zu(en,an),ls(en),en.curOp.updateInput<2&&(en.curOp.updateInput=pi),en.curOp.typing=!0,en.state.pasteIncoming=en.state.cutIncoming=-1}function Sp(en,an){var pn=en.clipboardData&&en.clipboardData.getData("Text");if(pn)return en.preventDefault(),!an.isReadOnly()&&!an.options.disableInput&&an.hasFocus()&&tl(an,function(){return rh(an,pn,0,null,"paste")}),!0}function zu(en,an){if(!(!en.options.electricChars||!en.options.smartIndent))for(var pn=en.doc.sel,fn=pn.ranges.length-1;fn>=0;fn--){var yn=pn.ranges[fn];if(!(yn.head.ch>100||fn&&pn.ranges[fn-1].head.line==yn.head.line)){var En=en.getModeAt(yn.head),On=!1;if(En.electricChars){for(var Fn=0;Fn<En.electricChars.length;Fn++)if(an.indexOf(En.electricChars.charAt(Fn))>-1){On=Fu(en,yn.head.line,"smart");break}}else En.electricInput&&En.electricInput.test(bi(en.doc,yn.head.line).text.slice(0,yn.head.ch))&&(On=Fu(en,yn.head.line,"smart"));On&&vs(en,"electricInput",en,yn.head.line)}}}function Nf(en){for(var an=[],pn=[],fn=0;fn<en.doc.sel.ranges.length;fn++){var yn=en.doc.sel.ranges[fn].head.line,En={anchor:Ji(yn,0),head:Ji(yn+1,0)};pn.push(En),an.push(en.getRange(En.anchor,En.head))}return{text:an,ranges:pn}}function nh(en,an,pn,fn){en.setAttribute("autocorrect",pn?"on":"off"),en.setAttribute("autocapitalize",fn?"on":"off"),en.setAttribute("spellcheck",!!an)}function Dp(){var en=Bn("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),an=Bn("div",[en],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Wr?en.style.width="1000px":en.setAttribute("wrap","off"),hn&&(en.style.border="1px solid black"),an}function Ep(en){var an=en.optionHandlers,pn=en.helpers={};en.prototype={constructor:en,focus:function(){si(this).focus(),this.display.input.focus()},setOption:function(fn,yn){var En=this.options,On=En[fn];En[fn]==yn&&fn!="mode"||(En[fn]=yn,an.hasOwnProperty(fn)&&hl(this,an[fn])(this,yn,On),ea(this,"optionChange",this,fn))},getOption:function(fn){return this.options[fn]},getDoc:function(){return this.doc},addKeyMap:function(fn,yn){this.state.keyMaps[yn?"push":"unshift"](Ad(fn))},removeKeyMap:function(fn){for(var yn=this.state.keyMaps,En=0;En<yn.length;++En)if(yn[En]==fn||yn[En].name==fn)return yn.splice(En,1),!0},addOverlay:Nl(function(fn,yn){var En=fn.token?fn:en.getMode(this.options,fn);if(En.startState)throw new Error("Overlays may not be stateful.");Va(this.state.overlays,{mode:En,modeSpec:fn,opaque:yn&&yn.opaque,priority:yn&&yn.priority||0},function(On){return On.priority}),this.state.modeGen++,Xa(this)}),removeOverlay:Nl(function(fn){for(var yn=this.state.overlays,En=0;En<yn.length;++En){var On=yn[En].modeSpec;if(On==fn||typeof fn=="string"&&On.name==fn){yn.splice(En,1),this.state.modeGen++,Xa(this);return}}}),indentLine:Nl(function(fn,yn,En){typeof yn!="string"&&typeof yn!="number"&&(yn==null?yn=this.options.smartIndent?"smart":"prev":yn=yn?"add":"subtract"),Qs(this.doc,fn)&&Fu(this,fn,yn,En)}),indentSelection:Nl(function(fn){for(var yn=this.doc.sel.ranges,En=-1,On=0;On<yn.length;On++){var Fn=yn[On];if(Fn.empty())Fn.head.line>En&&(Fu(this,Fn.head.line,fn,!0),En=Fn.head.line,On==this.doc.sel.primIndex&&ls(this));else{var Un=Fn.from(),Zn=Fn.to(),ai=Math.max(En,Un.line);En=Math.min(this.lastLine(),Zn.line-(Zn.ch?0:1))+1;for(var pi=ai;pi<En;++pi)Fu(this,pi,fn);var Ii=this.doc.sel.ranges;Un.ch==0&&yn.length==Ii.length&&Ii[On].from().ch>0&&qd(this.doc,On,new os(Un,Ii[On].to()),Wi)}}}),getTokenAt:function(fn,yn){return Ea(this,fn,yn)},getLineTokens:function(fn,yn){return Ea(this,Ji(fn),yn,!0)},getTokenTypeAt:function(fn){fn=Li(this.doc,fn);var yn=Ko(this,bi(this.doc,fn.line)),En=0,On=(yn.length-1)/2,Fn=fn.ch,Un;if(Fn==0)Un=yn[2];else for(;;){var Zn=En+On>>1;if((Zn?yn[Zn*2-1]:0)>=Fn)On=Zn;else if(yn[Zn*2+1]<Fn)En=Zn+1;else{Un=yn[Zn*2+2];break}}var ai=Un?Un.indexOf("overlay "):-1;return ai<0?Un:ai==0?null:Un.slice(0,ai-1)},getModeAt:function(fn){var yn=this.doc.mode;return yn.innerMode?en.innerMode(yn,this.getTokenAt(fn).state).mode:yn},getHelper:function(fn,yn){return this.getHelpers(fn,yn)[0]},getHelpers:function(fn,yn){var En=[];if(!pn.hasOwnProperty(yn))return En;var On=pn[yn],Fn=this.getModeAt(fn);if(typeof Fn[yn]=="string")On[Fn[yn]]&&En.push(On[Fn[yn]]);else if(Fn[yn])for(var Un=0;Un<Fn[yn].length;Un++){var Zn=On[Fn[yn][Un]];Zn&&En.push(Zn)}else Fn.helperType&&On[Fn.helperType]?En.push(On[Fn.helperType]):On[Fn.name]&&En.push(On[Fn.name]);for(var ai=0;ai<On._global.length;ai++){var pi=On._global[ai];pi.pred(Fn,this)&&oo(En,pi.val)==-1&&En.push(pi.val)}return En},getStateAfter:function(fn,yn){var En=this.doc;return fn=Di(En,fn??En.first+En.size-1),So(this,fn+1,yn).state},cursorCoords:function(fn,yn){var En,On=this.doc.sel.primary();return fn==null?En=On.head:typeof fn=="object"?En=Li(this.doc,fn):En=fn?On.from():On.to(),Yi(this,En,yn||"page")},charCoords:function(fn,yn){return Bi(this,Li(this.doc,fn),yn||"page")},coordsChar:function(fn,yn){return fn=Oi(this,fn,yn||"page"),_o(this,fn.left,fn.top)},lineAtHeight:function(fn,yn){return fn=Oi(this,{top:fn,left:0},yn||"page").top,Fs(this.doc,fn+this.display.viewOffset)},heightAtLine:function(fn,yn,En){var On=!1,Fn;if(typeof fn=="number"){var Un=this.doc.first+this.doc.size-1;fn<this.doc.first?fn=this.doc.first:fn>Un&&(fn=Un,On=!0),Fn=bi(this.doc,fn)}else Fn=fn;return Ai(this,Fn,{top:0,left:0},yn||"page",En||On).top+(On?this.doc.height-sl(Fn):0)},defaultTextHeight:function(){return zs(this.display)},defaultCharWidth:function(){return Hs(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(fn,yn,En,On,Fn){var Un=this.display;fn=Yi(this,Li(this.doc,fn));var Zn=fn.bottom,ai=fn.left;if(yn.style.position="absolute",yn.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(yn),Un.sizer.appendChild(yn),On=="over")Zn=fn.top;else if(On=="above"||On=="near"){var pi=Math.max(Un.wrapper.clientHeight,this.doc.height),Ii=Math.max(Un.sizer.clientWidth,Un.lineSpace.clientWidth);(On=="above"||fn.bottom+yn.offsetHeight>pi)&&fn.top>yn.offsetHeight?Zn=fn.top-yn.offsetHeight:fn.bottom+yn.offsetHeight<=pi&&(Zn=fn.bottom),ai+yn.offsetWidth>Ii&&(ai=Ii-yn.offsetWidth)}yn.style.top=Zn+"px",yn.style.left=yn.style.right="",Fn=="right"?(ai=Un.sizer.clientWidth-yn.offsetWidth,yn.style.right="0px"):(Fn=="left"?ai=0:Fn=="middle"&&(ai=(Un.sizer.clientWidth-yn.offsetWidth)/2),yn.style.left=ai+"px"),En&&Ki(this,{left:ai,top:Zn,right:ai+yn.offsetWidth,bottom:Zn+yn.offsetHeight})},triggerOnKeyDown:Nl(wp),triggerOnKeyPress:Nl(Mh),triggerOnKeyUp:kp,triggerOnMouseDown:Nl(th),execCommand:function(fn){if(xd.hasOwnProperty(fn))return xd[fn].call(null,this)},triggerElectric:Nl(function(fn){zu(this,fn)}),findPosH:function(fn,yn,En,On){var Fn=1;yn<0&&(Fn=-1,yn=-yn);for(var Un=Li(this.doc,fn),Zn=0;Zn<yn&&(Un=ih(this.doc,Un,Fn,En,On),!Un.hitSide);++Zn);return Un},moveH:Nl(function(fn,yn){var En=this;this.extendSelectionsBy(function(On){return En.display.shift||En.doc.extend||On.empty()?ih(En.doc,On.head,fn,yn,En.options.rtlMoveVisually):fn<0?On.from():On.to()},Mo)}),deleteH:Nl(function(fn,yn){var En=this.doc.sel,On=this.doc;En.somethingSelected()?On.replaceSelection("",null,"+delete"):Cd(this,function(Fn){var Un=ih(On,Fn.head,fn,yn,!1);return fn<0?{from:Un,to:Fn.head}:{from:Fn.head,to:Un}})}),findPosV:function(fn,yn,En,On){var Fn=1,Un=On;yn<0&&(Fn=-1,yn=-yn);for(var Zn=Li(this.doc,fn),ai=0;ai<yn;++ai){var pi=Yi(this,Zn,"div");if(Un==null?Un=pi.left:pi.left=Un,Zn=Bf(this,pi,Fn,En),Zn.hitSide)break}return Zn},moveV:Nl(function(fn,yn){var En=this,On=this.doc,Fn=[],Un=!this.display.shift&&!On.extend&&On.sel.somethingSelected();if(On.extendSelectionsBy(function(ai){if(Un)return fn<0?ai.from():ai.to();var pi=Yi(En,ai.head,"div");ai.goalColumn!=null&&(pi.left=ai.goalColumn),Fn.push(pi.left);var Ii=Bf(En,pi,fn,yn);return yn=="page"&&ai==On.sel.primary()&&is(En,Bi(En,Ii,"div").top-pi.top),Ii},Mo),Fn.length)for(var Zn=0;Zn<On.sel.ranges.length;Zn++)On.sel.ranges[Zn].goalColumn=Fn[Zn]}),findWordAt:function(fn){var yn=this.doc,En=bi(yn,fn.line).text,On=fn.ch,Fn=fn.ch;if(En){var Un=this.getHelper(fn,"wordChars");(fn.sticky=="before"||Fn==En.length)&&On?--On:++Fn;for(var Zn=En.charAt(On),ai=ci(Zn,Un)?function(pi){return ci(pi,Un)}:/\s/.test(Zn)?function(pi){return/\s/.test(pi)}:function(pi){return!/\s/.test(pi)&&!ci(pi)};On>0&&ai(En.charAt(On-1));)--On;for(;Fn<En.length&&ai(En.charAt(Fn));)++Fn}return new os(Ji(fn.line,On),Ji(fn.line,Fn))},toggleOverwrite:function(fn){fn!=null&&fn==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?wi(this.display.cursorDiv,"CodeMirror-overwrite"):Hn(this.display.cursorDiv,"CodeMirror-overwrite"),ea(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==vi(Vn(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Nl(function(fn,yn){ks(this,fn,yn)}),getScrollInfo:function(){var fn=this.display.scroller;return{left:fn.scrollLeft,top:fn.scrollTop,height:fn.scrollHeight-Zs(this)-this.display.barHeight,width:fn.scrollWidth-Zs(this)-this.display.barWidth,clientHeight:vc(this),clientWidth:Js(this)}},scrollIntoView:Nl(function(fn,yn){fn==null?(fn={from:this.doc.sel.primary().head,to:null},yn==null&&(yn=this.options.cursorScrollMargin)):typeof fn=="number"?fn={from:Ji(fn,0),to:null}:fn.from==null&&(fn={from:fn,to:null}),fn.to||(fn.to=fn.from),fn.margin=yn||0,fn.from.line!=null?gu(this,fn):vh(this,fn.from,fn.to,fn.margin)}),setSize:Nl(function(fn,yn){var En=this,On=function(Un){return typeof Un=="number"||/^\d+$/.test(String(Un))?Un+"px":Un};fn!=null&&(this.display.wrapper.style.width=On(fn)),yn!=null&&(this.display.wrapper.style.height=On(yn)),this.options.lineWrapping&&Iu(this);var Fn=this.display.viewFrom;this.doc.iter(Fn,this.display.viewTo,function(Un){if(Un.widgets){for(var Zn=0;Zn<Un.widgets.length;Zn++)if(Un.widgets[Zn].noHScroll){bc(En,Fn,"widget");break}}++Fn}),this.curOp.forceUpdate=!0,ea(this,"refresh",this)}),operation:function(fn){return tl(this,fn)},startOperation:function(){return Ju(this)},endOperation:function(){return ed(this)},refresh:Nl(function(){var fn=this.display.cachedTextHeight;Xa(this),this.curOp.forceUpdate=!0,Oc(this),ks(this,this.doc.scrollLeft,this.doc.scrollTop),ef(this.display),(fn==null||Math.abs(fn-zs(this.display))>.5||this.options.lineWrapping)&&el(this),ea(this,"refresh",this)}),swapDoc:Nl(function(fn){var yn=this.doc;return yn.cm=null,this.state.selectingText&&this.state.selectingText(),df(this,fn),Oc(this),this.display.input.reset(),ks(this,fn.scrollLeft,fn.scrollTop),this.curOp.forceScroll=!0,vs(this,"swapDoc",this,yn),yn}),phrase:function(fn){var yn=this.options.phrases;return yn&&Object.prototype.hasOwnProperty.call(yn,fn)?yn[fn]:fn},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},es(en),en.registerHelper=function(fn,yn,En){pn.hasOwnProperty(fn)||(pn[fn]=en[fn]={_global:[]}),pn[fn][yn]=En},en.registerGlobalHelper=function(fn,yn,En,On){en.registerHelper(fn,yn,On),pn[fn]._global.push({pred:En,val:On})}}function ih(en,an,pn,fn,yn){var En=an,On=pn,Fn=bi(en,an.line),Un=yn&&en.direction=="rtl"?-pn:pn;function Zn(){var Lo=an.line+Un;return Lo<en.first||Lo>=en.first+en.size?!1:(an=new Ji(Lo,an.ch,an.sticky),Fn=bi(en,Lo))}function ai(Lo){var mo;if(fn=="codepoint"){var No=Fn.text.charCodeAt(an.ch+(pn>0?0:-1));if(isNaN(No))mo=null;else{var Jo=pn>0?No>=55296&&No<56320:No>=56320&&No<57343;mo=new Ji(an.line,Math.max(0,Math.min(Fn.text.length,an.ch+pn*(Jo?2:1))),-pn)}}else yn?mo=wg(en.cm,Fn,an,pn):mo=Tf(Fn,an,pn);if(mo==null)if(!Lo&&Zn())an=wu(yn,en.cm,Fn,an.line,Un);else return!1;else an=mo;return!0}if(fn=="char"||fn=="codepoint")ai();else if(fn=="column")ai(!0);else if(fn=="word"||fn=="group")for(var pi=null,Ii=fn=="group",Ci=en.cm&&en.cm.getHelper(an,"wordChars"),Vi=!0;!(pn<0&&!ai(!Vi));Vi=!1){var no=Fn.text.charAt(an.ch)||`
`,fo=ci(no,Ci)?"w":Ii&&no==`
`?"n":!Ii||/\s/.test(no)?null:"p";if(Ii&&!Vi&&!fo&&(fo="s"),pi&&pi!=fo){pn<0&&(pn=1,ai(),an.sticky="after");break}if(fo&&(pi=fo),pn>0&&!ai(!Vi))break}var Co=ja(en,an,En,On,!0);return hs(En,Co)&&(Co.hitSide=!0),Co}function Bf(en,an,pn,fn){var yn=en.doc,En=an.left,On;if(fn=="page"){var Fn=Math.min(en.display.wrapper.clientHeight,si(en).innerHeight||yn(en).documentElement.clientHeight),Un=Math.max(Fn-.5*zs(en.display),3);On=(pn>0?an.bottom:an.top)+pn*Un}else fn=="line"&&(On=pn>0?an.bottom+3:an.top-3);for(var Zn;Zn=_o(en,En,On),!!Zn.outside;){if(pn<0?On<=0:On>=yn.height){Zn.hitSide=!0;break}On+=pn*5}return Zn}var As=function(en){this.cm=en,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new zi,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};As.prototype.init=function(en){var an=this,pn=this,fn=pn.cm,yn=pn.div=en.lineDiv;yn.contentEditable=!0,nh(yn,fn.options.spellcheck,fn.options.autocorrect,fn.options.autocapitalize);function En(Fn){for(var Un=Fn.target;Un;Un=Un.parentNode){if(Un==yn)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Un.className))break}return!1}Hi(yn,"paste",function(Fn){!En(Fn)||la(fn,Fn)||Sp(Fn,fn)||Gr<=11&&setTimeout(hl(fn,function(){return an.updateFromDOM()}),20)}),Hi(yn,"compositionstart",function(Fn){an.composing={data:Fn.data,done:!1}}),Hi(yn,"compositionupdate",function(Fn){an.composing||(an.composing={data:Fn.data,done:!1})}),Hi(yn,"compositionend",function(Fn){an.composing&&(Fn.data!=an.composing.data&&an.readFromDOMSoon(),an.composing.done=!0)}),Hi(yn,"touchstart",function(){return pn.forceCompositionEnd()}),Hi(yn,"input",function(){an.composing||an.readFromDOMSoon()});function On(Fn){if(!(!En(Fn)||la(fn,Fn))){if(fn.somethingSelected())Rh({lineWise:!1,text:fn.getSelections()}),Fn.type=="cut"&&fn.replaceSelection("",null,"cut");else if(fn.options.lineWiseCopyCut){var Un=Nf(fn);Rh({lineWise:!0,text:Un.text}),Fn.type=="cut"&&fn.operation(function(){fn.setSelections(Un.ranges,0,Wi),fn.replaceSelection("",null,"cut")})}else return;if(Fn.clipboardData){Fn.clipboardData.clearData();var Zn=Vc.text.join(`
`);if(Fn.clipboardData.setData("Text",Zn),Fn.clipboardData.getData("Text")==Zn){Fn.preventDefault();return}}var ai=Dp(),pi=ai.firstChild;nh(pi),fn.display.lineSpace.insertBefore(ai,fn.display.lineSpace.firstChild),pi.value=Vc.text.join(`
`);var Ii=vi(yn.ownerDocument);Yn(pi),setTimeout(function(){fn.display.lineSpace.removeChild(ai),Ii.focus(),Ii==yn&&pn.showPrimarySelection()},50)}}Hi(yn,"copy",On),Hi(yn,"cut",On)},As.prototype.screenReaderLabelChanged=function(en){en?this.div.setAttribute("aria-label",en):this.div.removeAttribute("aria-label")},As.prototype.prepareSelection=function(){var en=Pu(this.cm,!1);return en.focus=vi(this.div.ownerDocument)==this.div,en},As.prototype.showSelection=function(en,an){!en||!this.cm.display.view.length||((en.focus||an)&&this.showPrimarySelection(),this.showMultipleSelections(en))},As.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},As.prototype.showPrimarySelection=function(){var en=this.getSelection(),an=this.cm,pn=an.doc.sel.primary(),fn=pn.from(),yn=pn.to();if(an.display.viewTo==an.display.viewFrom||fn.line>=an.display.viewTo||yn.line<an.display.viewFrom){en.removeAllRanges();return}var En=oh(an,en.anchorNode,en.anchorOffset),On=oh(an,en.focusNode,en.focusOffset);if(!(En&&!En.bad&&On&&!On.bad&&Uo(oi(En,On),fn)==0&&Uo(hi(En,On),yn)==0)){var Fn=an.display.view,Un=fn.line>=an.display.viewFrom&&Ff(an,fn)||{node:Fn[0].measure.map[2],offset:0},Zn=yn.line<an.display.viewTo&&Ff(an,yn);if(!Zn){var ai=Fn[Fn.length-1].measure,pi=ai.maps?ai.maps[ai.maps.length-1]:ai.map;Zn={node:pi[pi.length-1],offset:pi[pi.length-2]-pi[pi.length-3]}}if(!Un||!Zn){en.removeAllRanges();return}var Ii=en.rangeCount&&en.getRangeAt(0),Ci;try{Ci=ei(Un.node,Un.offset,Zn.offset,Zn.node)}catch{}Ci&&(!$r&&an.state.focused?(en.collapse(Un.node,Un.offset),Ci.collapsed||(en.removeAllRanges(),en.addRange(Ci))):(en.removeAllRanges(),en.addRange(Ci)),Ii&&en.anchorNode==null?en.addRange(Ii):$r&&this.startGracePeriod()),this.rememberSelection()}},As.prototype.startGracePeriod=function(){var en=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){en.gracePeriod=!1,en.selectionChanged()&&en.cm.operation(function(){return en.cm.curOp.selectionChanged=!0})},20)},As.prototype.showMultipleSelections=function(en){jn(this.cm.display.cursorDiv,en.cursors),jn(this.cm.display.selectionDiv,en.selection)},As.prototype.rememberSelection=function(){var en=this.getSelection();this.lastAnchorNode=en.anchorNode,this.lastAnchorOffset=en.anchorOffset,this.lastFocusNode=en.focusNode,this.lastFocusOffset=en.focusOffset},As.prototype.selectionInEditor=function(){var en=this.getSelection();if(!en.rangeCount)return!1;var an=en.getRangeAt(0).commonAncestorContainer;return ri(this.div,an)},As.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||vi(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},As.prototype.blur=function(){this.div.blur()},As.prototype.getField=function(){return this.div},As.prototype.supportsTouch=function(){return!0},As.prototype.receivedFocus=function(){var en=this,an=this;this.selectionInEditor()?setTimeout(function(){return en.pollSelection()},20):tl(this.cm,function(){return an.cm.curOp.selectionChanged=!0});function pn(){an.cm.state.focused&&(an.pollSelection(),an.polling.set(an.cm.options.pollInterval,pn))}this.polling.set(this.cm.options.pollInterval,pn)},As.prototype.selectionChanged=function(){var en=this.getSelection();return en.anchorNode!=this.lastAnchorNode||en.anchorOffset!=this.lastAnchorOffset||en.focusNode!=this.lastFocusNode||en.focusOffset!=this.lastFocusOffset},As.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var en=this.getSelection(),an=this.cm;if(mn&&Zr&&this.cm.display.gutterSpecs.length&&zf(en.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var pn=oh(an,en.anchorNode,en.anchorOffset),fn=oh(an,en.focusNode,en.focusOffset);pn&&fn&&tl(an,function(){Dl(an.doc,tu(pn,fn),Wi),(pn.bad||fn.bad)&&(an.curOp.selectionChanged=!0)})}}},As.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var en=this.cm,an=en.display,pn=en.doc.sel.primary(),fn=pn.from(),yn=pn.to();if(fn.ch==0&&fn.line>en.firstLine()&&(fn=Ji(fn.line-1,bi(en.doc,fn.line-1).length)),yn.ch==bi(en.doc,yn.line).text.length&&yn.line<en.lastLine()&&(yn=Ji(yn.line+1,0)),fn.line<an.viewFrom||yn.line>an.viewTo-1)return!1;var En,On,Fn;fn.line==an.viewFrom||(En=Qc(en,fn.line))==0?(On=Aa(an.view[0].line),Fn=an.view[0].node):(On=Aa(an.view[En].line),Fn=an.view[En-1].node.nextSibling);var Un=Qc(en,yn.line),Zn,ai;if(Un==an.view.length-1?(Zn=an.viewTo-1,ai=an.lineDiv.lastChild):(Zn=Aa(an.view[Un+1].line)-1,ai=an.view[Un+1].node.previousSibling),!Fn)return!1;for(var pi=en.doc.splitLines(Tp(en,Fn,ai,On,Zn)),Ii=ds(en.doc,Ji(On,0),Ji(Zn,bi(en.doc,Zn).text.length));pi.length>1&&Ii.length>1;)if(Ao(pi)==Ao(Ii))pi.pop(),Ii.pop(),Zn--;else if(pi[0]==Ii[0])pi.shift(),Ii.shift(),On++;else break;for(var Ci=0,Vi=0,no=pi[0],fo=Ii[0],Co=Math.min(no.length,fo.length);Ci<Co&&no.charCodeAt(Ci)==fo.charCodeAt(Ci);)++Ci;for(var Lo=Ao(pi),mo=Ao(Ii),No=Math.min(Lo.length-(pi.length==1?Ci:0),mo.length-(Ii.length==1?Ci:0));Vi<No&&Lo.charCodeAt(Lo.length-Vi-1)==mo.charCodeAt(mo.length-Vi-1);)++Vi;if(pi.length==1&&Ii.length==1&&On==fn.line)for(;Ci&&Ci>fn.ch&&Lo.charCodeAt(Lo.length-Vi-1)==mo.charCodeAt(mo.length-Vi-1);)Ci--,Vi++;pi[pi.length-1]=Lo.slice(0,Lo.length-Vi).replace(/^\u200b+/,""),pi[0]=pi[0].slice(Ci).replace(/\u200b+$/,"");var Jo=Ji(On,Ci),Go=Ji(Zn,Ii.length?Ao(Ii).length-Vi:0);if(pi.length>1||pi[0]||Uo(Jo,Go))return id(en.doc,pi,Jo,Go,"+input"),!0},As.prototype.ensurePolled=function(){this.forceCompositionEnd()},As.prototype.reset=function(){this.forceCompositionEnd()},As.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},As.prototype.readFromDOMSoon=function(){var en=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(en.readDOMTimeout=null,en.composing)if(en.composing.done)en.composing=null;else return;en.updateFromDOM()},80))},As.prototype.updateFromDOM=function(){var en=this;(this.cm.isReadOnly()||!this.pollContent())&&tl(this.cm,function(){return Xa(en.cm)})},As.prototype.setUneditable=function(en){en.contentEditable="false"},As.prototype.onKeyPress=function(en){en.charCode==0||this.composing||(en.preventDefault(),this.cm.isReadOnly()||hl(this.cm,rh)(this.cm,String.fromCharCode(en.charCode==null?en.keyCode:en.charCode),0))},As.prototype.readOnlyChanged=function(en){this.div.contentEditable=String(en!="nocursor")},As.prototype.onContextMenu=function(){},As.prototype.resetPosition=function(){},As.prototype.needsContentAttribute=!0;function Ff(en,an){var pn=Gl(en,an.line);if(!pn||pn.hidden)return null;var fn=bi(en.doc,an.line),yn=Ku(pn,fn,an.line),En=Eo(fn,en.doc.direction),On="left";if(En){var Fn=so(En,an.ch);On=Fn%2?"right":"left"}var Un=Xc(yn.map,an.ch,On);return Un.offset=Un.collapse=="right"?Un.end:Un.start,Un}function zf(en){for(var an=en;an;an=an.parentNode)if(/CodeMirror-gutter-wrapper/.test(an.className))return!0;return!1}function ou(en,an){return an&&(en.bad=!0),en}function Tp(en,an,pn,fn,yn){var En="",On=!1,Fn=en.doc.lineSeparator(),Un=!1;function Zn(Ci){return function(Vi){return Vi.id==Ci}}function ai(){On&&(En+=Fn,Un&&(En+=Fn),On=Un=!1)}function pi(Ci){Ci&&(ai(),En+=Ci)}function Ii(Ci){if(Ci.nodeType==1){var Vi=Ci.getAttribute("cm-text");if(Vi){pi(Vi);return}var no=Ci.getAttribute("cm-marker"),fo;if(no){var Co=en.findMarks(Ji(fn,0),Ji(yn+1,0),Zn(+no));Co.length&&(fo=Co[0].find(0))&&pi(ds(en.doc,fo.from,fo.to).join(Fn));return}if(Ci.getAttribute("contenteditable")=="false")return;var Lo=/^(pre|div|p|li|table|br)$/i.test(Ci.nodeName);if(!/^br$/i.test(Ci.nodeName)&&Ci.textContent.length==0)return;Lo&&ai();for(var mo=0;mo<Ci.childNodes.length;mo++)Ii(Ci.childNodes[mo]);/^(pre|p)$/i.test(Ci.nodeName)&&(Un=!0),Lo&&(On=!0)}else Ci.nodeType==3&&pi(Ci.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Ii(an),an!=pn;)an=an.nextSibling,Un=!1;return En}function oh(en,an,pn){var fn;if(an==en.display.lineDiv){if(fn=en.display.lineDiv.childNodes[pn],!fn)return ou(en.clipPos(Ji(en.display.viewTo-1)),!0);an=null,pn=0}else for(fn=an;;fn=fn.parentNode){if(!fn||fn==en.display.lineDiv)return null;if(fn.parentNode&&fn.parentNode==en.display.lineDiv)break}for(var yn=0;yn<en.display.view.length;yn++){var En=en.display.view[yn];if(En.node==fn)return Mp(En,an,pn)}}function Mp(en,an,pn){var fn=en.text.firstChild,yn=!1;if(!an||!ri(fn,an))return ou(Ji(Aa(en.line),0),!0);if(an==fn&&(yn=!0,an=fn.childNodes[pn],pn=0,!an)){var En=en.rest?Ao(en.rest):en.line;return ou(Ji(Aa(En),En.text.length),yn)}var On=an.nodeType==3?an:null,Fn=an;for(!On&&an.childNodes.length==1&&an.firstChild.nodeType==3&&(On=an.firstChild,pn&&(pn=On.nodeValue.length));Fn.parentNode!=fn;)Fn=Fn.parentNode;var Un=en.measure,Zn=Un.maps;function ai(fo,Co,Lo){for(var mo=-1;mo<(Zn?Zn.length:0);mo++)for(var No=mo<0?Un.map:Zn[mo],Jo=0;Jo<No.length;Jo+=3){var Go=No[Jo+2];if(Go==fo||Go==Co){var Ha=Aa(mo<0?en.line:en.rest[mo]),Cs=No[Jo]+Lo;return(Lo<0||Go!=fo)&&(Cs=No[Jo+(Lo?1:0)]),Ji(Ha,Cs)}}}var pi=ai(On,Fn,pn);if(pi)return ou(pi,yn);for(var Ii=Fn.nextSibling,Ci=On?On.nodeValue.length-pn:0;Ii;Ii=Ii.nextSibling){if(pi=ai(Ii,Ii.firstChild,0),pi)return ou(Ji(pi.line,pi.ch-Ci),yn);Ci+=Ii.textContent.length}for(var Vi=Fn.previousSibling,no=pn;Vi;Vi=Vi.previousSibling){if(pi=ai(Vi,Vi.firstChild,-1),pi)return ou(Ji(pi.line,pi.ch+no),yn);no+=Vi.textContent.length}}var rl=function(en){this.cm=en,this.prevInput="",this.pollingFast=!1,this.polling=new zi,this.hasSelection=!1,this.composing=null,this.resetting=!1};rl.prototype.init=function(en){var an=this,pn=this,fn=this.cm;this.createField(en);var yn=this.textarea;en.wrapper.insertBefore(this.wrapper,en.wrapper.firstChild),hn&&(yn.style.width="0px"),Hi(yn,"input",function(){jr&&Gr>=9&&an.hasSelection&&(an.hasSelection=null),pn.poll()}),Hi(yn,"paste",function(On){la(fn,On)||Sp(On,fn)||(fn.state.pasteIncoming=+new Date,pn.fastPoll())});function En(On){if(!la(fn,On)){if(fn.somethingSelected())Rh({lineWise:!1,text:fn.getSelections()});else if(fn.options.lineWiseCopyCut){var Fn=Nf(fn);Rh({lineWise:!0,text:Fn.text}),On.type=="cut"?fn.setSelections(Fn.ranges,null,Wi):(pn.prevInput="",yn.value=Fn.text.join(`
`),Yn(yn))}else return;On.type=="cut"&&(fn.state.cutIncoming=+new Date)}}Hi(yn,"cut",En),Hi(yn,"copy",En),Hi(en.scroller,"paste",function(On){if(!(mc(en,On)||la(fn,On))){if(!yn.dispatchEvent){fn.state.pasteIncoming=+new Date,pn.focus();return}var Fn=new Event("paste");Fn.clipboardData=On.clipboardData,yn.dispatchEvent(Fn)}}),Hi(en.lineSpace,"selectstart",function(On){mc(en,On)||Pa(On)}),Hi(yn,"compositionstart",function(){var On=fn.getCursor("from");pn.composing&&pn.composing.range.clear(),pn.composing={start:On,range:fn.markText(On,fn.getCursor("to"),{className:"CodeMirror-composing"})}}),Hi(yn,"compositionend",function(){pn.composing&&(pn.poll(),pn.composing.range.clear(),pn.composing=null)})},rl.prototype.createField=function(en){this.wrapper=Dp(),this.textarea=this.wrapper.firstChild;var an=this.cm.options;nh(this.textarea,an.spellcheck,an.autocorrect,an.autocapitalize)},rl.prototype.screenReaderLabelChanged=function(en){en?this.textarea.setAttribute("aria-label",en):this.textarea.removeAttribute("aria-label")},rl.prototype.prepareSelection=function(){var en=this.cm,an=en.display,pn=en.doc,fn=Pu(en);if(en.options.moveInputWithCursor){var yn=Yi(en,pn.sel.primary().head,"div"),En=an.wrapper.getBoundingClientRect(),On=an.lineDiv.getBoundingClientRect();fn.teTop=Math.max(0,Math.min(an.wrapper.clientHeight-10,yn.top+On.top-En.top)),fn.teLeft=Math.max(0,Math.min(an.wrapper.clientWidth-10,yn.left+On.left-En.left))}return fn},rl.prototype.showSelection=function(en){var an=this.cm,pn=an.display;jn(pn.cursorDiv,en.cursors),jn(pn.selectionDiv,en.selection),en.teTop!=null&&(this.wrapper.style.top=en.teTop+"px",this.wrapper.style.left=en.teLeft+"px")},rl.prototype.reset=function(en){if(!(this.contextMenuPending||this.composing&&en)){var an=this.cm;if(this.resetting=!0,an.somethingSelected()){this.prevInput="";var pn=an.getSelection();this.textarea.value=pn,an.state.focused&&Yn(this.textarea),jr&&Gr>=9&&(this.hasSelection=pn)}else en||(this.prevInput=this.textarea.value="",jr&&Gr>=9&&(this.hasSelection=null));this.resetting=!1}},rl.prototype.getField=function(){return this.textarea},rl.prototype.supportsTouch=function(){return!1},rl.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!bn||vi(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},rl.prototype.blur=function(){this.textarea.blur()},rl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},rl.prototype.receivedFocus=function(){this.slowPoll()},rl.prototype.slowPoll=function(){var en=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){en.poll(),en.cm.state.focused&&en.slowPoll()})},rl.prototype.fastPoll=function(){var en=!1,an=this;an.pollingFast=!0;function pn(){var fn=an.poll();!fn&&!en?(en=!0,an.polling.set(60,pn)):(an.pollingFast=!1,an.slowPoll())}an.polling.set(20,pn)},rl.prototype.poll=function(){var en=this,an=this.cm,pn=this.textarea,fn=this.prevInput;if(this.contextMenuPending||this.resetting||!an.state.focused||zo(pn)&&!fn&&!this.composing||an.isReadOnly()||an.options.disableInput||an.state.keySeq)return!1;var yn=pn.value;if(yn==fn&&!an.somethingSelected())return!1;if(jr&&Gr>=9&&this.hasSelection===yn||An&&/[\uf700-\uf7ff]/.test(yn))return an.display.input.reset(),!1;if(an.doc.sel==an.display.selForContextMenu){var En=yn.charCodeAt(0);if(En==8203&&!fn&&(fn="â"),En==8666)return this.reset(),this.cm.execCommand("undo")}for(var On=0,Fn=Math.min(fn.length,yn.length);On<Fn&&fn.charCodeAt(On)==yn.charCodeAt(On);)++On;return tl(an,function(){rh(an,yn.slice(On),fn.length-On,null,en.composing?"*compose":null),yn.length>1e3||yn.indexOf(`
`)>-1?pn.value=en.prevInput="":en.prevInput=yn,en.composing&&(en.composing.range.clear(),en.composing.range=an.markText(en.composing.start,an.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},rl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},rl.prototype.onKeyPress=function(){jr&&Gr>=9&&(this.hasSelection=null),this.fastPoll()},rl.prototype.onContextMenu=function(en){var an=this,pn=an.cm,fn=pn.display,yn=an.textarea;an.contextMenuPending&&an.contextMenuPending();var En=wa(pn,en),On=fn.scroller.scrollTop;if(!En||rn)return;var Fn=pn.options.resetSelectionOnContextMenu;Fn&&pn.doc.sel.contains(En)==-1&&hl(pn,Dl)(pn.doc,tu(En),Wi);var Un=yn.style.cssText,Zn=an.wrapper.style.cssText,ai=an.wrapper.offsetParent.getBoundingClientRect();an.wrapper.style.cssText="position: static",yn.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(en.clientY-ai.top-5)+"px; left: "+(en.clientX-ai.left-5)+`px;
      z-index: 1000; background: `+(jr?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var pi;Wr&&(pi=yn.ownerDocument.defaultView.scrollY),fn.input.focus(),Wr&&yn.ownerDocument.defaultView.scrollTo(null,pi),fn.input.reset(),pn.somethingSelected()||(yn.value=an.prevInput=" "),an.contextMenuPending=Ci,fn.selForContextMenu=pn.doc.sel,clearTimeout(fn.detectingSelectAll);function Ii(){if(yn.selectionStart!=null){var no=pn.somethingSelected(),fo="â"+(no?yn.value:"");yn.value="â",yn.value=fo,an.prevInput=no?"":"â",yn.selectionStart=1,yn.selectionEnd=fo.length,fn.selForContextMenu=pn.doc.sel}}function Ci(){if(an.contextMenuPending==Ci&&(an.contextMenuPending=!1,an.wrapper.style.cssText=Zn,yn.style.cssText=Un,jr&&Gr<9&&fn.scrollbars.setScrollTop(fn.scroller.scrollTop=On),yn.selectionStart!=null)){(!jr||jr&&Gr<9)&&Ii();var no=0,fo=function(){fn.selForContextMenu==pn.doc.sel&&yn.selectionStart==0&&yn.selectionEnd>0&&an.prevInput=="â"?hl(pn,bf)(pn):no++<10?fn.detectingSelectAll=setTimeout(fo,500):(fn.selForContextMenu=null,fn.input.reset())};fn.detectingSelectAll=setTimeout(fo,200)}}if(jr&&Gr>=9&&Ii(),Mn){il(en);var Vi=function(){ro(window,"mouseup",Vi),setTimeout(Ci,20)};Hi(window,"mouseup",Vi)}else setTimeout(Ci,50)},rl.prototype.readOnlyChanged=function(en){en||this.reset(),this.textarea.disabled=en=="nocursor",this.textarea.readOnly=!!en},rl.prototype.setUneditable=function(){},rl.prototype.needsContentAttribute=!1;function au(en,an){if(an=an?Pi(an):{},an.value=en.value,!an.tabindex&&en.tabIndex&&(an.tabindex=en.tabIndex),!an.placeholder&&en.placeholder&&(an.placeholder=en.placeholder),an.autofocus==null){var pn=vi(en.ownerDocument);an.autofocus=pn==en||en.getAttribute("autofocus")!=null&&pn==document.body}function fn(){en.value=Fn.getValue()}var yn;if(en.form&&(Hi(en.form,"submit",fn),!an.leaveSubmitMethodAlone)){var En=en.form;yn=En.submit;try{var On=En.submit=function(){fn(),En.submit=yn,En.submit(),En.submit=On}}catch{}}an.finishInit=function(Un){Un.save=fn,Un.getTextArea=function(){return en},Un.toTextArea=function(){Un.toTextArea=isNaN,fn(),en.parentNode.removeChild(Un.getWrapperElement()),en.style.display="",en.form&&(ro(en.form,"submit",fn),!an.leaveSubmitMethodAlone&&typeof en.form.submit=="function"&&(en.form.submit=yn))}},en.style.display="none";var Fn=Os(function(Un){return en.parentNode.insertBefore(Un,en.nextSibling)},an);return Fn}function $h(en){en.off=ro,en.on=Hi,en.wheelEventPixels=ap,en.Doc=ic,en.splitLines=yo,en.countColumn=Fi,en.findColumn=Zi,en.isWordChar=xi,en.Pass=io,en.signal=ea,en.Line=Pn,en.changeEnd=vu,en.scrollbarModel=Qh,en.Pos=Ji,en.cmpPos=Uo,en.modes=Io,en.mimeModes=aa,en.resolveMode=ts,en.getMode=Oa,en.modeExtensions=Ga,en.extendMode=ra,en.copyState=Yo,en.startState=qo,en.innerMode=na,en.commands=xd,en.keyMap=bu,en.keyName=mp,en.isModifierKey=Eh,en.lookupKey=_u,en.normalizeKeyMap=_g,en.StringStream=ko,en.SharedTextMarker=$u,en.TextMarker=yu,en.LineWidget=Fc,en.e_preventDefault=Pa,en.e_stopPropagation=bs,en.e_stop=il,en.addClass=wi,en.contains=ri,en.rmClass=Hn,en.keyNames=Nu}Oh(Os),Ep(Os);var Cc="iter insert remove copy getEditor constructor".split(" ");for(var Hu in ic.prototype)ic.prototype.hasOwnProperty(Hu)&&oo(Cc,Hu)<0&&(Os.prototype[Hu]=function(en){return function(){return en.apply(this.doc,arguments)}}(ic.prototype[Hu]));return es(ic),Os.inputStyles={textarea:rl,contenteditable:As},Os.defineMode=function(en){!Os.defaults.mode&&en!="null"&&(Os.defaults.mode=en),ma.apply(this,arguments)},Os.defineMIME=Na,Os.defineMode("null",function(){return{token:function(en){return en.skipToEnd()}}}),Os.defineMIME("text/plain","null"),Os.defineExtension=function(en,an){Os.prototype[en]=an},Os.defineDocExtension=function(en,an){ic.prototype[en]=an},Os.fromTextArea=au,$h(Os),Os.version="5.65.15",Os})})(codemirror);var codemirrorExports=codemirror.exports;(function(_r,Be){(function(Dr){Dr(codemirrorExports)})(function(Dr){var Mr=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,$r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,Br=/[*+-]\s/;Dr.commands.newlineAndIndentContinueMarkdownList=function(Vr){if(Vr.getOption("disableInput"))return Dr.Pass;for(var jr=Vr.listSelections(),Gr=[],Wr=0;Wr<jr.length;Wr++){var Kr=jr[Wr].head,Zr=Vr.getStateAfter(Kr.line),Jr=Dr.innerMode(Vr.getMode(),Zr);if(Jr.mode.name!=="markdown"&&Jr.mode.helperType!=="markdown"){Vr.execCommand("newlineAndIndent");return}else Zr=Jr.state;var rn=Zr.list!==!1,nn=Zr.quote!==0,ln=Vr.getLine(Kr.line),cn=Mr.exec(ln),hn=/^\s*$/.test(ln.slice(0,Kr.ch));if(!jr[Wr].empty()||!rn&&!nn||!cn||hn){Vr.execCommand("newlineAndIndent");return}if($r.test(ln)){var mn=nn&&/>\s*$/.test(ln),bn=!/>\s*$/.test(ln);(mn||bn)&&Vr.replaceRange("",{line:Kr.line,ch:0},{line:Kr.line,ch:Kr.ch+1}),Gr[Wr]=`
`}else{var An=cn[1],vn=cn[5],dn=!(Br.test(cn[2])||cn[2].indexOf(">")>=0),wn=dn?parseInt(cn[3],10)+1+cn[4]:cn[2].replace("x"," ");Gr[Wr]=`
`+An+wn+vn,dn&&zr(Vr,Kr)}}Vr.replaceSelections(Gr)};function zr(Vr,jr){var Gr=jr.line,Wr=0,Kr=0,Zr=Mr.exec(Vr.getLine(Gr)),Jr=Zr[1];do{Wr+=1;var rn=Gr+Wr,nn=Vr.getLine(rn),ln=Mr.exec(nn);if(ln){var cn=ln[1],hn=parseInt(Zr[3],10)+Wr-Kr,mn=parseInt(ln[3],10),bn=mn;if(Jr===cn&&!isNaN(mn))hn===mn&&(bn=mn+1),hn>mn&&(bn=hn+1),Vr.replaceRange(nn.replace(Mr,cn+bn+ln[4]+ln[5]),{line:rn,ch:0},{line:rn,ch:nn.length});else{if(Jr.length>cn.length||Jr.length<cn.length&&Wr===1)return;Kr+=1}}}while(ln)}})})();var CodeMirror$1=codemirrorExports;CodeMirror$1.commands.tabAndIndentMarkdownList=function(_r){var Be=_r.listSelections(),Dr=Be[0].head,Mr=_r.getStateAfter(Dr.line),$r=Mr.list!==!1;if($r){_r.execCommand("indentMore");return}if(_r.options.indentWithTabs)_r.execCommand("insertTab");else{var Br=Array(_r.options.tabSize+1).join(" ");_r.replaceSelection(Br)}};CodeMirror$1.commands.shiftTabAndUnindentMarkdownList=function(_r){var Be=_r.listSelections(),Dr=Be[0].head,Mr=_r.getStateAfter(Dr.line),$r=Mr.list!==!1;if($r){_r.execCommand("indentLess");return}if(_r.options.indentWithTabs)_r.execCommand("insertTab");else{var Br=Array(_r.options.tabSize+1).join(" ");_r.replaceSelection(Br)}};(function(_r,Be){(function(Dr){Dr(codemirrorExports)})(function(Dr){Dr.defineOption("fullScreen",!1,function(Br,zr,Vr){Vr==Dr.Init&&(Vr=!1),!Vr!=!zr&&(zr?Mr(Br):$r(Br))});function Mr(Br){var zr=Br.getWrapperElement();Br.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:zr.style.width,height:zr.style.height},zr.style.width="",zr.style.height="auto",zr.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",Br.refresh()}function $r(Br){var zr=Br.getWrapperElement();zr.className=zr.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var Vr=Br.state.fullScreenRestore;zr.style.width=Vr.width,zr.style.height=Vr.height,window.scrollTo(Vr.scrollLeft,Vr.scrollTop),Br.refresh()}})})();var markdown={exports:{}},xml={exports:{}};(function(_r,Be){(function(Dr){Dr(codemirrorExports)})(function(Dr){var Mr={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},$r={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};Dr.defineMode("xml",function(Br,zr){var Vr=Br.indentUnit,jr={},Gr=zr.htmlMode?Mr:$r;for(var Wr in Gr)jr[Wr]=Gr[Wr];for(var Wr in zr)jr[Wr]=zr[Wr];var Kr,Zr;function Jr(Bn,Gn){function ei(wi){return Gn.tokenize=wi,wi(Bn,Gn)}var ri=Bn.next();if(ri=="<")return Bn.eat("!")?Bn.eat("[")?Bn.match("CDATA[")?ei(ln("atom","]]>")):null:Bn.match("--")?ei(ln("comment","-->")):Bn.match("DOCTYPE",!0,!0)?(Bn.eatWhile(/[\w\._\-]/),ei(cn(1))):null:Bn.eat("?")?(Bn.eatWhile(/[\w\._\-]/),Gn.tokenize=ln("meta","?>"),"meta"):(Kr=Bn.eat("/")?"closeTag":"openTag",Gn.tokenize=rn,"tag bracket");if(ri=="&"){var vi;return Bn.eat("#")?Bn.eat("x")?vi=Bn.eatWhile(/[a-fA-F\d]/)&&Bn.eat(";"):vi=Bn.eatWhile(/[\d]/)&&Bn.eat(";"):vi=Bn.eatWhile(/[\w\.\-:]/)&&Bn.eat(";"),vi?"atom":"error"}else return Bn.eatWhile(/[^&<]/),null}Jr.isInText=!0;function rn(Bn,Gn){var ei=Bn.next();if(ei==">"||ei=="/"&&Bn.eat(">"))return Gn.tokenize=Jr,Kr=ei==">"?"endTag":"selfcloseTag","tag bracket";if(ei=="=")return Kr="equals",null;if(ei=="<"){Gn.tokenize=Jr,Gn.state=vn,Gn.tagName=Gn.tagStart=null;var ri=Gn.tokenize(Bn,Gn);return ri?ri+" tag error":"tag error"}else return/[\'\"]/.test(ei)?(Gn.tokenize=nn(ei),Gn.stringStartCol=Bn.column(),Gn.tokenize(Bn,Gn)):(Bn.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function nn(Bn){var Gn=function(ei,ri){for(;!ei.eol();)if(ei.next()==Bn){ri.tokenize=rn;break}return"string"};return Gn.isInAttribute=!0,Gn}function ln(Bn,Gn){return function(ei,ri){for(;!ei.eol();){if(ei.match(Gn)){ri.tokenize=Jr;break}ei.next()}return Bn}}function cn(Bn){return function(Gn,ei){for(var ri;(ri=Gn.next())!=null;){if(ri=="<")return ei.tokenize=cn(Bn+1),ei.tokenize(Gn,ei);if(ri==">")if(Bn==1){ei.tokenize=Jr;break}else return ei.tokenize=cn(Bn-1),ei.tokenize(Gn,ei)}return"meta"}}function hn(Bn){return Bn&&Bn.toLowerCase()}function mn(Bn,Gn,ei){this.prev=Bn.context,this.tagName=Gn||"",this.indent=Bn.indented,this.startOfLine=ei,(jr.doNotIndent.hasOwnProperty(Gn)||Bn.context&&Bn.context.noIndent)&&(this.noIndent=!0)}function bn(Bn){Bn.context&&(Bn.context=Bn.context.prev)}function An(Bn,Gn){for(var ei;;){if(!Bn.context||(ei=Bn.context.tagName,!jr.contextGrabbers.hasOwnProperty(hn(ei))||!jr.contextGrabbers[hn(ei)].hasOwnProperty(hn(Gn))))return;bn(Bn)}}function vn(Bn,Gn,ei){return Bn=="openTag"?(ei.tagStart=Gn.column(),dn):Bn=="closeTag"?wn:vn}function dn(Bn,Gn,ei){return Bn=="word"?(ei.tagName=Gn.current(),Zr="tag",In):jr.allowMissingTagName&&Bn=="endTag"?(Zr="tag bracket",In(Bn,Gn,ei)):(Zr="error",dn)}function wn(Bn,Gn,ei){if(Bn=="word"){var ri=Gn.current();return ei.context&&ei.context.tagName!=ri&&jr.implicitlyClosed.hasOwnProperty(hn(ei.context.tagName))&&bn(ei),ei.context&&ei.context.tagName==ri||jr.matchClosing===!1?(Zr="tag",xn):(Zr="tag error",Mn)}else return jr.allowMissingTagName&&Bn=="endTag"?(Zr="tag bracket",xn(Bn,Gn,ei)):(Zr="error",Mn)}function xn(Bn,Gn,ei){return Bn!="endTag"?(Zr="error",xn):(bn(ei),vn)}function Mn(Bn,Gn,ei){return Zr="error",xn(Bn,Gn,ei)}function In(Bn,Gn,ei){if(Bn=="word")return Zr="attribute",Hn;if(Bn=="endTag"||Bn=="selfcloseTag"){var ri=ei.tagName,vi=ei.tagStart;return ei.tagName=ei.tagStart=null,Bn=="selfcloseTag"||jr.autoSelfClosers.hasOwnProperty(hn(ri))?An(ei,ri):(An(ei,ri),ei.context=new mn(ei,ri,vi==ei.indented)),vn}return Zr="error",In}function Hn(Bn,Gn,ei){return Bn=="equals"?$n:(jr.allowMissing||(Zr="error"),In(Bn,Gn,ei))}function $n(Bn,Gn,ei){return Bn=="string"?jn:Bn=="word"&&jr.allowUnquoted?(Zr="string",In):(Zr="error",In(Bn,Gn,ei))}function jn(Bn,Gn,ei){return Bn=="string"?jn:In(Bn,Gn,ei)}return{startState:function(Bn){var Gn={tokenize:Jr,state:vn,indented:Bn||0,tagName:null,tagStart:null,context:null};return Bn!=null&&(Gn.baseIndent=Bn),Gn},token:function(Bn,Gn){if(!Gn.tagName&&Bn.sol()&&(Gn.indented=Bn.indentation()),Bn.eatSpace())return null;Kr=null;var ei=Gn.tokenize(Bn,Gn);return(ei||Kr)&&ei!="comment"&&(Zr=null,Gn.state=Gn.state(Kr||ei,Bn,Gn),Zr&&(ei=Zr=="error"?ei+" error":Zr)),ei},indent:function(Bn,Gn,ei){var ri=Bn.context;if(Bn.tokenize.isInAttribute)return Bn.tagStart==Bn.indented?Bn.stringStartCol+1:Bn.indented+Vr;if(ri&&ri.noIndent)return Dr.Pass;if(Bn.tokenize!=rn&&Bn.tokenize!=Jr)return ei?ei.match(/^(\s*)/)[0].length:0;if(Bn.tagName)return jr.multilineTagIndentPastTag!==!1?Bn.tagStart+Bn.tagName.length+2:Bn.tagStart+Vr*(jr.multilineTagIndentFactor||1);if(jr.alignCDATA&&/<!\[CDATA\[/.test(Gn))return 0;var vi=Gn&&/^<(\/)?([\w_:\.-]*)/.exec(Gn);if(vi&&vi[1])for(;ri;)if(ri.tagName==vi[2]){ri=ri.prev;break}else if(jr.implicitlyClosed.hasOwnProperty(hn(ri.tagName)))ri=ri.prev;else break;else if(vi)for(;ri;){var wi=jr.contextGrabbers[hn(ri.tagName)];if(wi&&wi.hasOwnProperty(hn(vi[2])))ri=ri.prev;else break}for(;ri&&ri.prev&&!ri.startOfLine;)ri=ri.prev;return ri?ri.indent+Vr:Bn.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:jr.htmlMode?"html":"xml",helperType:jr.htmlMode?"html":"xml",skipAttribute:function(Bn){Bn.state==$n&&(Bn.state=In)},xmlCurrentTag:function(Bn){return Bn.tagName?{name:Bn.tagName,close:Bn.type=="closeTag"}:null},xmlCurrentContext:function(Bn){for(var Gn=[],ei=Bn.context;ei;ei=ei.prev)Gn.push(ei.tagName);return Gn.reverse()}}}),Dr.defineMIME("text/xml","xml"),Dr.defineMIME("application/xml","xml"),Dr.mimeModes.hasOwnProperty("text/html")||Dr.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var xmlExports=xml.exports,meta={exports:{}},hasRequiredMeta;function requireMeta(){return hasRequiredMeta||(hasRequiredMeta=1,function(_r,Be){(function(Dr){Dr(codemirrorExports)})(function(Dr){Dr.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var Mr=0;Mr<Dr.modeInfo.length;Mr++){var $r=Dr.modeInfo[Mr];$r.mimes&&($r.mime=$r.mimes[0])}Dr.findModeByMIME=function(Br){Br=Br.toLowerCase();for(var zr=0;zr<Dr.modeInfo.length;zr++){var Vr=Dr.modeInfo[zr];if(Vr.mime==Br)return Vr;if(Vr.mimes){for(var jr=0;jr<Vr.mimes.length;jr++)if(Vr.mimes[jr]==Br)return Vr}}if(/\+xml$/.test(Br))return Dr.findModeByMIME("application/xml");if(/\+json$/.test(Br))return Dr.findModeByMIME("application/json")},Dr.findModeByExtension=function(Br){Br=Br.toLowerCase();for(var zr=0;zr<Dr.modeInfo.length;zr++){var Vr=Dr.modeInfo[zr];if(Vr.ext){for(var jr=0;jr<Vr.ext.length;jr++)if(Vr.ext[jr]==Br)return Vr}}},Dr.findModeByFileName=function(Br){for(var zr=0;zr<Dr.modeInfo.length;zr++){var Vr=Dr.modeInfo[zr];if(Vr.file&&Vr.file.test(Br))return Vr}var jr=Br.lastIndexOf("."),Gr=jr>-1&&Br.substring(jr+1,Br.length);if(Gr)return Dr.findModeByExtension(Gr)},Dr.findModeByName=function(Br){Br=Br.toLowerCase();for(var zr=0;zr<Dr.modeInfo.length;zr++){var Vr=Dr.modeInfo[zr];if(Vr.name.toLowerCase()==Br)return Vr;if(Vr.alias){for(var jr=0;jr<Vr.alias.length;jr++)if(Vr.alias[jr].toLowerCase()==Br)return Vr}}}})}()),meta.exports}(function(_r,Be){(function(Dr){Dr(codemirrorExports,xmlExports,requireMeta())})(function(Dr){Dr.defineMode("markdown",function(Mr,$r){var Br=Dr.getMode(Mr,"text/html"),zr=Br.name=="null";function Vr(Yn){if(Dr.findModeByName){var Vn=Dr.findModeByName(Yn);Vn&&(Yn=Vn.mime||Vn.mimes[0])}var si=Dr.getMode(Mr,Yn);return si.name=="null"?null:si}$r.highlightFormatting===void 0&&($r.highlightFormatting=!1),$r.maxBlockquoteDepth===void 0&&($r.maxBlockquoteDepth=0),$r.taskLists===void 0&&($r.taskLists=!1),$r.strikethrough===void 0&&($r.strikethrough=!1),$r.emoji===void 0&&($r.emoji=!1),$r.fencedCodeBlockHighlighting===void 0&&($r.fencedCodeBlockHighlighting=!0),$r.fencedCodeBlockDefaultMode===void 0&&($r.fencedCodeBlockDefaultMode="text/plain"),$r.xml===void 0&&($r.xml=!0),$r.tokenTypeOverrides===void 0&&($r.tokenTypeOverrides={});var jr={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var Gr in jr)jr.hasOwnProperty(Gr)&&$r.tokenTypeOverrides[Gr]&&(jr[Gr]=$r.tokenTypeOverrides[Gr]);var Wr=/^([*\-_])(?:\s*\1){2,}\s*$/,Kr=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,Zr=/^\[(x| )\](?=\s)/i,Jr=$r.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,rn=/^ {0,3}(?:\={1,}|-{2,})\s*$/,nn=/^[^#!\[\]*_\\<>` "'(~:]+/,ln=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,cn=/^\s*\[[^\]]+?\]:.*$/,hn=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,mn="    ";function bn(Yn,Vn,si){return Vn.f=Vn.inline=si,si(Yn,Vn)}function An(Yn,Vn,si){return Vn.f=Vn.block=si,si(Yn,Vn)}function vn(Yn){return!Yn||!/\S/.test(Yn.string)}function dn(Yn){if(Yn.linkTitle=!1,Yn.linkHref=!1,Yn.linkText=!1,Yn.em=!1,Yn.strong=!1,Yn.strikethrough=!1,Yn.quote=0,Yn.indentedCode=!1,Yn.f==xn){var Vn=zr;if(!Vn){var si=Dr.innerMode(Br,Yn.htmlState);Vn=si.mode.name=="xml"&&si.state.tagStart===null&&!si.state.context&&si.state.tokenize.isInText}Vn&&(Yn.f=$n,Yn.block=wn,Yn.htmlState=null)}return Yn.trailingSpace=0,Yn.trailingSpaceNewLine=!1,Yn.prevLine=Yn.thisLine,Yn.thisLine={stream:null},null}function wn(Yn,Vn){var si=Yn.column()===Vn.indentation,Ri=vn(Vn.prevLine.stream),Pi=Vn.indentedCode,Fi=Vn.prevLine.hr,zi=Vn.list!==!1,oo=(Vn.listStack[Vn.listStack.length-1]||0)+3;Vn.indentedCode=!1;var lo=Vn.indentation;if(Vn.indentationDiff===null&&(Vn.indentationDiff=Vn.indentation,zi)){for(Vn.list=null;lo<Vn.listStack[Vn.listStack.length-1];)Vn.listStack.pop(),Vn.listStack.length?Vn.indentation=Vn.listStack[Vn.listStack.length-1]:Vn.list=!1;Vn.list!==!1&&(Vn.indentationDiff=lo-Vn.listStack[Vn.listStack.length-1])}var io=!Ri&&!Fi&&!Vn.prevLine.header&&(!zi||!Pi)&&!Vn.prevLine.fencedCodeEnd,Wi=(Vn.list===!1||Fi||Ri)&&Vn.indentation<=oo&&Yn.match(Wr),Bo=null;if(Vn.indentationDiff>=4&&(Pi||Vn.prevLine.fencedCodeEnd||Vn.prevLine.header||Ri))return Yn.skipToEnd(),Vn.indentedCode=!0,jr.code;if(Yn.eatSpace())return null;if(si&&Vn.indentation<=oo&&(Bo=Yn.match(Jr))&&Bo[1].length<=6)return Vn.quote=0,Vn.header=Bo[1].length,Vn.thisLine.header=!0,$r.highlightFormatting&&(Vn.formatting="header"),Vn.f=Vn.inline,In(Vn);if(Vn.indentation<=oo&&Yn.eat(">"))return Vn.quote=si?1:Vn.quote+1,$r.highlightFormatting&&(Vn.formatting="quote"),Yn.eatSpace(),In(Vn);if(!Wi&&!Vn.setext&&si&&Vn.indentation<=oo&&(Bo=Yn.match(Kr))){var Mo=Bo[1]?"ol":"ul";return Vn.indentation=lo+Yn.current().length,Vn.list=!0,Vn.quote=0,Vn.listStack.push(Vn.indentation),Vn.em=!1,Vn.strong=!1,Vn.code=!1,Vn.strikethrough=!1,$r.taskLists&&Yn.match(Zr,!1)&&(Vn.taskList=!0),Vn.f=Vn.inline,$r.highlightFormatting&&(Vn.formatting=["list","list-"+Mo]),In(Vn)}else{if(si&&Vn.indentation<=oo&&(Bo=Yn.match(ln,!0)))return Vn.quote=0,Vn.fencedEndRE=new RegExp(Bo[1]+"+ *$"),Vn.localMode=$r.fencedCodeBlockHighlighting&&Vr(Bo[2]||$r.fencedCodeBlockDefaultMode),Vn.localMode&&(Vn.localState=Dr.startState(Vn.localMode)),Vn.f=Vn.block=Mn,$r.highlightFormatting&&(Vn.formatting="code-block"),Vn.code=-1,In(Vn);if(Vn.setext||(!io||!zi)&&!Vn.quote&&Vn.list===!1&&!Vn.code&&!Wi&&!cn.test(Yn.string)&&(Bo=Yn.lookAhead(1))&&(Bo=Bo.match(rn)))return Vn.setext?(Vn.header=Vn.setext,Vn.setext=0,Yn.skipToEnd(),$r.highlightFormatting&&(Vn.formatting="header")):(Vn.header=Bo[0].charAt(0)=="="?1:2,Vn.setext=Vn.header),Vn.thisLine.header=!0,Vn.f=Vn.inline,In(Vn);if(Wi)return Yn.skipToEnd(),Vn.hr=!0,Vn.thisLine.hr=!0,jr.hr;if(Yn.peek()==="[")return bn(Yn,Vn,ri)}return bn(Yn,Vn,Vn.inline)}function xn(Yn,Vn){var si=Br.token(Yn,Vn.htmlState);if(!zr){var Ri=Dr.innerMode(Br,Vn.htmlState);(Ri.mode.name=="xml"&&Ri.state.tagStart===null&&!Ri.state.context&&Ri.state.tokenize.isInText||Vn.md_inside&&Yn.current().indexOf(">")>-1)&&(Vn.f=$n,Vn.block=wn,Vn.htmlState=null)}return si}function Mn(Yn,Vn){var si=Vn.listStack[Vn.listStack.length-1]||0,Ri=Vn.indentation<si,Pi=si+3;if(Vn.fencedEndRE&&Vn.indentation<=Pi&&(Ri||Yn.match(Vn.fencedEndRE))){$r.highlightFormatting&&(Vn.formatting="code-block");var Fi;return Ri||(Fi=In(Vn)),Vn.localMode=Vn.localState=null,Vn.block=wn,Vn.f=$n,Vn.fencedEndRE=null,Vn.code=0,Vn.thisLine.fencedCodeEnd=!0,Ri?An(Yn,Vn,Vn.block):Fi}else return Vn.localMode?Vn.localMode.token(Yn,Vn.localState):(Yn.skipToEnd(),jr.code)}function In(Yn){var Vn=[];if(Yn.formatting){Vn.push(jr.formatting),typeof Yn.formatting=="string"&&(Yn.formatting=[Yn.formatting]);for(var si=0;si<Yn.formatting.length;si++)Vn.push(jr.formatting+"-"+Yn.formatting[si]),Yn.formatting[si]==="header"&&Vn.push(jr.formatting+"-"+Yn.formatting[si]+"-"+Yn.header),Yn.formatting[si]==="quote"&&(!$r.maxBlockquoteDepth||$r.maxBlockquoteDepth>=Yn.quote?Vn.push(jr.formatting+"-"+Yn.formatting[si]+"-"+Yn.quote):Vn.push("error"))}if(Yn.taskOpen)return Vn.push("meta"),Vn.length?Vn.join(" "):null;if(Yn.taskClosed)return Vn.push("property"),Vn.length?Vn.join(" "):null;if(Yn.linkHref?Vn.push(jr.linkHref,"url"):(Yn.strong&&Vn.push(jr.strong),Yn.em&&Vn.push(jr.em),Yn.strikethrough&&Vn.push(jr.strikethrough),Yn.emoji&&Vn.push(jr.emoji),Yn.linkText&&Vn.push(jr.linkText),Yn.code&&Vn.push(jr.code),Yn.image&&Vn.push(jr.image),Yn.imageAltText&&Vn.push(jr.imageAltText,"link"),Yn.imageMarker&&Vn.push(jr.imageMarker)),Yn.header&&Vn.push(jr.header,jr.header+"-"+Yn.header),Yn.quote&&(Vn.push(jr.quote),!$r.maxBlockquoteDepth||$r.maxBlockquoteDepth>=Yn.quote?Vn.push(jr.quote+"-"+Yn.quote):Vn.push(jr.quote+"-"+$r.maxBlockquoteDepth)),Yn.list!==!1){var Ri=(Yn.listStack.length-1)%3;Ri?Ri===1?Vn.push(jr.list2):Vn.push(jr.list3):Vn.push(jr.list1)}return Yn.trailingSpaceNewLine?Vn.push("trailing-space-new-line"):Yn.trailingSpace&&Vn.push("trailing-space-"+(Yn.trailingSpace%2?"a":"b")),Vn.length?Vn.join(" "):null}function Hn(Yn,Vn){if(Yn.match(nn,!0))return In(Vn)}function $n(Yn,Vn){var si=Vn.text(Yn,Vn);if(typeof si<"u")return si;if(Vn.list)return Vn.list=null,In(Vn);if(Vn.taskList){var Ri=Yn.match(Zr,!0)[1]===" ";return Ri?Vn.taskOpen=!0:Vn.taskClosed=!0,$r.highlightFormatting&&(Vn.formatting="task"),Vn.taskList=!1,In(Vn)}if(Vn.taskOpen=!1,Vn.taskClosed=!1,Vn.header&&Yn.match(/^#+$/,!0))return $r.highlightFormatting&&(Vn.formatting="header"),In(Vn);var Pi=Yn.next();if(Vn.linkTitle){Vn.linkTitle=!1;var Fi=Pi;Pi==="("&&(Fi=")"),Fi=(Fi+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var zi="^\\s*(?:[^"+Fi+"\\\\]+|\\\\\\\\|\\\\.)"+Fi;if(Yn.match(new RegExp(zi),!0))return jr.linkHref}if(Pi==="`"){var oo=Vn.formatting;$r.highlightFormatting&&(Vn.formatting="code"),Yn.eatWhile("`");var lo=Yn.current().length;if(Vn.code==0&&(!Vn.quote||lo==1))return Vn.code=lo,In(Vn);if(lo==Vn.code){var io=In(Vn);return Vn.code=0,io}else return Vn.formatting=oo,In(Vn)}else if(Vn.code)return In(Vn);if(Pi==="\\"&&(Yn.next(),$r.highlightFormatting)){var Wi=In(Vn),Bo=jr.formatting+"-escape";return Wi?Wi+" "+Bo:Bo}if(Pi==="!"&&Yn.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Vn.imageMarker=!0,Vn.image=!0,$r.highlightFormatting&&(Vn.formatting="image"),In(Vn);if(Pi==="["&&Vn.imageMarker&&Yn.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return Vn.imageMarker=!1,Vn.imageAltText=!0,$r.highlightFormatting&&(Vn.formatting="image"),In(Vn);if(Pi==="]"&&Vn.imageAltText){$r.highlightFormatting&&(Vn.formatting="image");var Wi=In(Vn);return Vn.imageAltText=!1,Vn.image=!1,Vn.inline=Vn.f=Bn,Wi}if(Pi==="["&&!Vn.image)return Vn.linkText&&Yn.match(/^.*?\]/)||(Vn.linkText=!0,$r.highlightFormatting&&(Vn.formatting="link")),In(Vn);if(Pi==="]"&&Vn.linkText){$r.highlightFormatting&&(Vn.formatting="link");var Wi=In(Vn);return Vn.linkText=!1,Vn.inline=Vn.f=Yn.match(/\(.*?\)| ?\[.*?\]/,!1)?Bn:$n,Wi}if(Pi==="<"&&Yn.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){Vn.f=Vn.inline=jn,$r.highlightFormatting&&(Vn.formatting="link");var Wi=In(Vn);return Wi?Wi+=" ":Wi="",Wi+jr.linkInline}if(Pi==="<"&&Yn.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){Vn.f=Vn.inline=jn,$r.highlightFormatting&&(Vn.formatting="link");var Wi=In(Vn);return Wi?Wi+=" ":Wi="",Wi+jr.linkEmail}if($r.xml&&Pi==="<"&&Yn.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Mo=Yn.string.indexOf(">",Yn.pos);if(Mo!=-1){var Zi=Yn.string.substring(Yn.start,Mo);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Zi)&&(Vn.md_inside=!0)}return Yn.backUp(1),Vn.htmlState=Dr.startState(Br),An(Yn,Vn,xn)}if($r.xml&&Pi==="<"&&Yn.match(/^\/\w*?>/))return Vn.md_inside=!1,"tag";if(Pi==="*"||Pi==="_"){for(var Zo=1,Wo=Yn.pos==1?" ":Yn.string.charAt(Yn.pos-2);Zo<3&&Yn.eat(Pi);)Zo++;var Ao=Yn.peek()||" ",ba=!/\s/.test(Ao)&&(!hn.test(Ao)||/\s/.test(Wo)||hn.test(Wo)),Va=!/\s/.test(Wo)&&(!hn.test(Wo)||/\s/.test(Ao)||hn.test(Ao)),Ia=null,Ua=null;if(Zo%2&&(!Vn.em&&ba&&(Pi==="*"||!Va||hn.test(Wo))?Ia=!0:Vn.em==Pi&&Va&&(Pi==="*"||!ba||hn.test(Ao))&&(Ia=!1)),Zo>1&&(!Vn.strong&&ba&&(Pi==="*"||!Va||hn.test(Wo))?Ua=!0:Vn.strong==Pi&&Va&&(Pi==="*"||!ba||hn.test(Ao))&&(Ua=!1)),Ua!=null||Ia!=null){$r.highlightFormatting&&(Vn.formatting=Ia==null?"strong":Ua==null?"em":"strong em"),Ia===!0&&(Vn.em=Pi),Ua===!0&&(Vn.strong=Pi);var io=In(Vn);return Ia===!1&&(Vn.em=!1),Ua===!1&&(Vn.strong=!1),io}}else if(Pi===" "&&(Yn.eat("*")||Yn.eat("_"))){if(Yn.peek()===" ")return In(Vn);Yn.backUp(1)}if($r.strikethrough){if(Pi==="~"&&Yn.eatWhile(Pi)){if(Vn.strikethrough){$r.highlightFormatting&&(Vn.formatting="strikethrough");var io=In(Vn);return Vn.strikethrough=!1,io}else if(Yn.match(/^[^\s]/,!1))return Vn.strikethrough=!0,$r.highlightFormatting&&(Vn.formatting="strikethrough"),In(Vn)}else if(Pi===" "&&Yn.match("~~",!0)){if(Yn.peek()===" ")return In(Vn);Yn.backUp(2)}}if($r.emoji&&Pi===":"&&Yn.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){Vn.emoji=!0,$r.highlightFormatting&&(Vn.formatting="emoji");var ka=In(Vn);return Vn.emoji=!1,ka}return Pi===" "&&(Yn.match(/^ +$/,!1)?Vn.trailingSpace++:Vn.trailingSpace&&(Vn.trailingSpaceNewLine=!0)),In(Vn)}function jn(Yn,Vn){var si=Yn.next();if(si===">"){Vn.f=Vn.inline=$n,$r.highlightFormatting&&(Vn.formatting="link");var Ri=In(Vn);return Ri?Ri+=" ":Ri="",Ri+jr.linkInline}return Yn.match(/^[^>]+/,!0),jr.linkInline}function Bn(Yn,Vn){if(Yn.eatSpace())return null;var si=Yn.next();return si==="("||si==="["?(Vn.f=Vn.inline=ei(si==="("?")":"]"),$r.highlightFormatting&&(Vn.formatting="link-string"),Vn.linkHref=!0,In(Vn)):"error"}var Gn={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function ei(Yn){return function(Vn,si){var Ri=Vn.next();if(Ri===Yn){si.f=si.inline=$n,$r.highlightFormatting&&(si.formatting="link-string");var Pi=In(si);return si.linkHref=!1,Pi}return Vn.match(Gn[Yn]),si.linkHref=!0,In(si)}}function ri(Yn,Vn){return Yn.match(/^([^\]\\]|\\.)*\]:/,!1)?(Vn.f=vi,Yn.next(),$r.highlightFormatting&&(Vn.formatting="link"),Vn.linkText=!0,In(Vn)):bn(Yn,Vn,$n)}function vi(Yn,Vn){if(Yn.match("]:",!0)){Vn.f=Vn.inline=wi,$r.highlightFormatting&&(Vn.formatting="link");var si=In(Vn);return Vn.linkText=!1,si}return Yn.match(/^([^\]\\]|\\.)+/,!0),jr.linkText}function wi(Yn,Vn){return Yn.eatSpace()?null:(Yn.match(/^[^\s]+/,!0),Yn.peek()===void 0?Vn.linkTitle=!0:Yn.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),Vn.f=Vn.inline=$n,jr.linkHref+" url")}var Ni={startState:function(){return{f:wn,prevLine:{stream:null},thisLine:{stream:null},block:wn,htmlState:null,indentation:0,inline:$n,text:Hn,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(Yn){return{f:Yn.f,prevLine:Yn.prevLine,thisLine:Yn.thisLine,block:Yn.block,htmlState:Yn.htmlState&&Dr.copyState(Br,Yn.htmlState),indentation:Yn.indentation,localMode:Yn.localMode,localState:Yn.localMode?Dr.copyState(Yn.localMode,Yn.localState):null,inline:Yn.inline,text:Yn.text,formatting:!1,linkText:Yn.linkText,linkTitle:Yn.linkTitle,linkHref:Yn.linkHref,code:Yn.code,em:Yn.em,strong:Yn.strong,strikethrough:Yn.strikethrough,emoji:Yn.emoji,header:Yn.header,setext:Yn.setext,hr:Yn.hr,taskList:Yn.taskList,list:Yn.list,listStack:Yn.listStack.slice(0),quote:Yn.quote,indentedCode:Yn.indentedCode,trailingSpace:Yn.trailingSpace,trailingSpaceNewLine:Yn.trailingSpaceNewLine,md_inside:Yn.md_inside,fencedEndRE:Yn.fencedEndRE}},token:function(Yn,Vn){if(Vn.formatting=!1,Yn!=Vn.thisLine.stream){if(Vn.header=0,Vn.hr=!1,Yn.match(/^\s*$/,!0))return dn(Vn),null;if(Vn.prevLine=Vn.thisLine,Vn.thisLine={stream:Yn},Vn.taskList=!1,Vn.trailingSpace=0,Vn.trailingSpaceNewLine=!1,!Vn.localState&&(Vn.f=Vn.block,Vn.f!=xn)){var si=Yn.match(/^\s*/,!0)[0].replace(/\t/g,mn).length;if(Vn.indentation=si,Vn.indentationDiff=null,si>0)return null}}return Vn.f(Yn,Vn)},innerMode:function(Yn){return Yn.block==xn?{state:Yn.htmlState,mode:Br}:Yn.localState?{state:Yn.localState,mode:Yn.localMode}:{state:Yn,mode:Ni}},indent:function(Yn,Vn,si){return Yn.block==xn&&Br.indent?Br.indent(Yn.htmlState,Vn,si):Yn.localState&&Yn.localMode.indent?Yn.localMode.indent(Yn.localState,Vn,si):Dr.Pass},blankLine:dn,getType:In,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Ni},"xml"),Dr.defineMIME("text/markdown","markdown"),Dr.defineMIME("text/x-markdown","markdown")})})();var markdownExports=markdown.exports,overlay={exports:{}};(function(_r,Be){(function(Dr){Dr(codemirrorExports)})(function(Dr){Dr.overlayMode=function(Mr,$r,Br){return{startState:function(){return{base:Dr.startState(Mr),overlay:Dr.startState($r),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(zr){return{base:Dr.copyState(Mr,zr.base),overlay:Dr.copyState($r,zr.overlay),basePos:zr.basePos,baseCur:null,overlayPos:zr.overlayPos,overlayCur:null}},token:function(zr,Vr){return(zr!=Vr.streamSeen||Math.min(Vr.basePos,Vr.overlayPos)<zr.start)&&(Vr.streamSeen=zr,Vr.basePos=Vr.overlayPos=zr.start),zr.start==Vr.basePos&&(Vr.baseCur=Mr.token(zr,Vr.base),Vr.basePos=zr.pos),zr.start==Vr.overlayPos&&(zr.pos=zr.start,Vr.overlayCur=$r.token(zr,Vr.overlay),Vr.overlayPos=zr.pos),zr.pos=Math.min(Vr.basePos,Vr.overlayPos),Vr.overlayCur==null?Vr.baseCur:Vr.baseCur!=null&&Vr.overlay.combineTokens||Br&&Vr.overlay.combineTokens==null?Vr.baseCur+" "+Vr.overlayCur:Vr.overlayCur},indent:Mr.indent&&function(zr,Vr,jr){return Mr.indent(zr.base,Vr,jr)},electricChars:Mr.electricChars,innerMode:function(zr){return{state:zr.base,mode:Mr}},blankLine:function(zr){var Vr,jr;return Mr.blankLine&&(Vr=Mr.blankLine(zr.base)),$r.blankLine&&(jr=$r.blankLine(zr.overlay)),jr==null?Vr:Br&&Vr!=null?Vr+" "+jr:jr}}}})})();var overlayExports=overlay.exports;(function(_r,Be){(function(Dr){Dr(codemirrorExports)})(function(Dr){Dr.defineOption("placeholder","",function(Gr,Wr,Kr){var Zr=Kr&&Kr!=Dr.Init;if(Wr&&!Zr)Gr.on("blur",zr),Gr.on("change",Vr),Gr.on("swapDoc",Vr),Dr.on(Gr.getInputField(),"compositionupdate",Gr.state.placeholderCompose=function(){Br(Gr)}),Vr(Gr);else if(!Wr&&Zr){Gr.off("blur",zr),Gr.off("change",Vr),Gr.off("swapDoc",Vr),Dr.off(Gr.getInputField(),"compositionupdate",Gr.state.placeholderCompose),Mr(Gr);var Jr=Gr.getWrapperElement();Jr.className=Jr.className.replace(" CodeMirror-empty","")}Wr&&!Gr.hasFocus()&&zr(Gr)});function Mr(Gr){Gr.state.placeholder&&(Gr.state.placeholder.parentNode.removeChild(Gr.state.placeholder),Gr.state.placeholder=null)}function $r(Gr){Mr(Gr);var Wr=Gr.state.placeholder=document.createElement("pre");Wr.style.cssText="height: 0; overflow: visible",Wr.style.direction=Gr.getOption("direction"),Wr.className="CodeMirror-placeholder CodeMirror-line-like";var Kr=Gr.getOption("placeholder");typeof Kr=="string"&&(Kr=document.createTextNode(Kr)),Wr.appendChild(Kr),Gr.display.lineSpace.insertBefore(Wr,Gr.display.lineSpace.firstChild)}function Br(Gr){setTimeout(function(){var Wr=!1;if(Gr.lineCount()==1){var Kr=Gr.getInputField();Wr=Kr.nodeName=="TEXTAREA"?!Gr.getLine(0).length:!/[^\u200b]/.test(Kr.querySelector(".CodeMirror-line").textContent)}Wr?$r(Gr):Mr(Gr)},20)}function zr(Gr){jr(Gr)&&$r(Gr)}function Vr(Gr){var Wr=Gr.getWrapperElement(),Kr=jr(Gr);Wr.className=Wr.className.replace(" CodeMirror-empty","")+(Kr?" CodeMirror-empty":""),Kr?$r(Gr):Mr(Gr)}function jr(Gr){return Gr.lineCount()===1&&Gr.getLine(0)===""}})})();(function(_r,Be){(function(Dr){Dr(codemirrorExports)})(function(Dr){Dr.defineOption("autoRefresh",!1,function(Br,zr){Br.state.autoRefresh&&($r(Br,Br.state.autoRefresh),Br.state.autoRefresh=null),zr&&Br.display.wrapper.offsetHeight==0&&Mr(Br,Br.state.autoRefresh={delay:zr.delay||250})});function Mr(Br,zr){function Vr(){Br.display.wrapper.offsetHeight?($r(Br,zr),Br.display.lastWrapHeight!=Br.display.wrapper.clientHeight&&Br.refresh()):zr.timeout=setTimeout(Vr,zr.delay)}zr.timeout=setTimeout(Vr,zr.delay),zr.hurry=function(){clearTimeout(zr.timeout),zr.timeout=setTimeout(Vr,50)},Dr.on(window,"mouseup",zr.hurry),Dr.on(window,"keyup",zr.hurry)}function $r(Br,zr){clearTimeout(zr.timeout),Dr.off(window,"mouseup",zr.hurry),Dr.off(window,"keyup",zr.hurry)}})})();(function(_r,Be){(function(Dr){Dr(codemirrorExports)})(function(Dr){Dr.defineOption("styleSelectedText",!1,function(Zr,Jr,rn){var nn=rn&&rn!=Dr.Init;Jr&&!nn?(Zr.state.markedSelection=[],Zr.state.markedSelectionStyle=typeof Jr=="string"?Jr:"CodeMirror-selectedtext",Wr(Zr),Zr.on("cursorActivity",Mr),Zr.on("change",$r)):!Jr&&nn&&(Zr.off("cursorActivity",Mr),Zr.off("change",$r),Gr(Zr),Zr.state.markedSelection=Zr.state.markedSelectionStyle=null)});function Mr(Zr){Zr.state.markedSelection&&Zr.operation(function(){Kr(Zr)})}function $r(Zr){Zr.state.markedSelection&&Zr.state.markedSelection.length&&Zr.operation(function(){Gr(Zr)})}var Br=8,zr=Dr.Pos,Vr=Dr.cmpPos;function jr(Zr,Jr,rn,nn){if(Vr(Jr,rn)!=0)for(var ln=Zr.state.markedSelection,cn=Zr.state.markedSelectionStyle,hn=Jr.line;;){var mn=hn==Jr.line?Jr:zr(hn,0),bn=hn+Br,An=bn>=rn.line,vn=An?rn:zr(bn,0),dn=Zr.markText(mn,vn,{className:cn});if(nn==null?ln.push(dn):ln.splice(nn++,0,dn),An)break;hn=bn}}function Gr(Zr){for(var Jr=Zr.state.markedSelection,rn=0;rn<Jr.length;++rn)Jr[rn].clear();Jr.length=0}function Wr(Zr){Gr(Zr);for(var Jr=Zr.listSelections(),rn=0;rn<Jr.length;rn++)jr(Zr,Jr[rn].from(),Jr[rn].to())}function Kr(Zr){if(!Zr.somethingSelected())return Gr(Zr);if(Zr.listSelections().length>1)return Wr(Zr);var Jr=Zr.getCursor("start"),rn=Zr.getCursor("end"),nn=Zr.state.markedSelection;if(!nn.length)return jr(Zr,Jr,rn);var ln=nn[0].find(),cn=nn[nn.length-1].find();if(!ln||!cn||rn.line-Jr.line<=Br||Vr(Jr,cn.to)>=0||Vr(rn,ln.from)<=0)return Wr(Zr);for(;Vr(Jr,ln.from)>0;)nn.shift().clear(),ln=nn[0].find();for(Vr(Jr,ln.from)<0&&(ln.to.line-Jr.line<Br?(nn.shift().clear(),jr(Zr,Jr,ln.to,0)):jr(Zr,Jr,ln.from,0));Vr(rn,cn.to)<0;)nn.pop().clear(),cn=nn[nn.length-1].find();Vr(rn,cn.to)>0&&(rn.line-cn.from.line<Br?(nn.pop().clear(),jr(Zr,cn.from,rn)):jr(Zr,cn.to,rn))}})})();(function(_r,Be){(function(Dr){Dr(codemirrorExports)})(function(Dr){var Mr=Dr.Pos;function $r(hn){var mn=hn.flags;return mn??(hn.ignoreCase?"i":"")+(hn.global?"g":"")+(hn.multiline?"m":"")}function Br(hn,mn){for(var bn=$r(hn),An=bn,vn=0;vn<mn.length;vn++)An.indexOf(mn.charAt(vn))==-1&&(An+=mn.charAt(vn));return bn==An?hn:new RegExp(hn.source,An)}function zr(hn){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(hn.source)}function Vr(hn,mn,bn){mn=Br(mn,"g");for(var An=bn.line,vn=bn.ch,dn=hn.lastLine();An<=dn;An++,vn=0){mn.lastIndex=vn;var wn=hn.getLine(An),xn=mn.exec(wn);if(xn)return{from:Mr(An,xn.index),to:Mr(An,xn.index+xn[0].length),match:xn}}}function jr(hn,mn,bn){if(!zr(mn))return Vr(hn,mn,bn);mn=Br(mn,"gm");for(var An,vn=1,dn=bn.line,wn=hn.lastLine();dn<=wn;){for(var xn=0;xn<vn&&!(dn>wn);xn++){var Mn=hn.getLine(dn++);An=An==null?Mn:An+`
`+Mn}vn=vn*2,mn.lastIndex=bn.ch;var In=mn.exec(An);if(In){var Hn=An.slice(0,In.index).split(`
`),$n=In[0].split(`
`),jn=bn.line+Hn.length-1,Bn=Hn[Hn.length-1].length;return{from:Mr(jn,Bn),to:Mr(jn+$n.length-1,$n.length==1?Bn+$n[0].length:$n[$n.length-1].length),match:In}}}}function Gr(hn,mn,bn){for(var An,vn=0;vn<=hn.length;){mn.lastIndex=vn;var dn=mn.exec(hn);if(!dn)break;var wn=dn.index+dn[0].length;if(wn>hn.length-bn)break;(!An||wn>An.index+An[0].length)&&(An=dn),vn=dn.index+1}return An}function Wr(hn,mn,bn){mn=Br(mn,"g");for(var An=bn.line,vn=bn.ch,dn=hn.firstLine();An>=dn;An--,vn=-1){var wn=hn.getLine(An),xn=Gr(wn,mn,vn<0?0:wn.length-vn);if(xn)return{from:Mr(An,xn.index),to:Mr(An,xn.index+xn[0].length),match:xn}}}function Kr(hn,mn,bn){if(!zr(mn))return Wr(hn,mn,bn);mn=Br(mn,"gm");for(var An,vn=1,dn=hn.getLine(bn.line).length-bn.ch,wn=bn.line,xn=hn.firstLine();wn>=xn;){for(var Mn=0;Mn<vn&&wn>=xn;Mn++){var In=hn.getLine(wn--);An=An==null?In:In+`
`+An}vn*=2;var Hn=Gr(An,mn,dn);if(Hn){var $n=An.slice(0,Hn.index).split(`
`),jn=Hn[0].split(`
`),Bn=wn+$n.length,Gn=$n[$n.length-1].length;return{from:Mr(Bn,Gn),to:Mr(Bn+jn.length-1,jn.length==1?Gn+jn[0].length:jn[jn.length-1].length),match:Hn}}}}var Zr,Jr;String.prototype.normalize?(Zr=function(hn){return hn.normalize("NFD").toLowerCase()},Jr=function(hn){return hn.normalize("NFD")}):(Zr=function(hn){return hn.toLowerCase()},Jr=function(hn){return hn});function rn(hn,mn,bn,An){if(hn.length==mn.length)return bn;for(var vn=0,dn=bn+Math.max(0,hn.length-mn.length);;){if(vn==dn)return vn;var wn=vn+dn>>1,xn=An(hn.slice(0,wn)).length;if(xn==bn)return wn;xn>bn?dn=wn:vn=wn+1}}function nn(hn,mn,bn,An){if(!mn.length)return null;var vn=An?Zr:Jr,dn=vn(mn).split(/\r|\n\r?/);e:for(var wn=bn.line,xn=bn.ch,Mn=hn.lastLine()+1-dn.length;wn<=Mn;wn++,xn=0){var In=hn.getLine(wn).slice(xn),Hn=vn(In);if(dn.length==1){var $n=Hn.indexOf(dn[0]);if($n==-1)continue e;var bn=rn(In,Hn,$n,vn)+xn;return{from:Mr(wn,rn(In,Hn,$n,vn)+xn),to:Mr(wn,rn(In,Hn,$n+dn[0].length,vn)+xn)}}else{var jn=Hn.length-dn[0].length;if(Hn.slice(jn)!=dn[0])continue e;for(var Bn=1;Bn<dn.length-1;Bn++)if(vn(hn.getLine(wn+Bn))!=dn[Bn])continue e;var Gn=hn.getLine(wn+dn.length-1),ei=vn(Gn),ri=dn[dn.length-1];if(ei.slice(0,ri.length)!=ri)continue e;return{from:Mr(wn,rn(In,Hn,jn,vn)+xn),to:Mr(wn+dn.length-1,rn(Gn,ei,ri.length,vn))}}}}function ln(hn,mn,bn,An){if(!mn.length)return null;var vn=An?Zr:Jr,dn=vn(mn).split(/\r|\n\r?/);e:for(var wn=bn.line,xn=bn.ch,Mn=hn.firstLine()-1+dn.length;wn>=Mn;wn--,xn=-1){var In=hn.getLine(wn);xn>-1&&(In=In.slice(0,xn));var Hn=vn(In);if(dn.length==1){var $n=Hn.lastIndexOf(dn[0]);if($n==-1)continue e;return{from:Mr(wn,rn(In,Hn,$n,vn)),to:Mr(wn,rn(In,Hn,$n+dn[0].length,vn))}}else{var jn=dn[dn.length-1];if(Hn.slice(0,jn.length)!=jn)continue e;for(var Bn=1,bn=wn-dn.length+1;Bn<dn.length-1;Bn++)if(vn(hn.getLine(bn+Bn))!=dn[Bn])continue e;var Gn=hn.getLine(wn+1-dn.length),ei=vn(Gn);if(ei.slice(ei.length-dn[0].length)!=dn[0])continue e;return{from:Mr(wn+1-dn.length,rn(Gn,ei,Gn.length-dn[0].length,vn)),to:Mr(wn,rn(In,Hn,jn.length,vn))}}}}function cn(hn,mn,bn,An){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=hn,bn=bn?hn.clipPos(bn):Mr(0,0),this.pos={from:bn,to:bn};var vn;typeof An=="object"?vn=An.caseFold:(vn=An,An=null),typeof mn=="string"?(vn==null&&(vn=!1),this.matches=function(dn,wn){return(dn?ln:nn)(hn,mn,wn,vn)}):(mn=Br(mn,"gm"),!An||An.multiline!==!1?this.matches=function(dn,wn){return(dn?Kr:jr)(hn,mn,wn)}:this.matches=function(dn,wn){return(dn?Wr:Vr)(hn,mn,wn)})}cn.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(hn){var mn=this.doc.clipPos(hn?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(mn=Mr(mn.line,mn.ch),hn?(mn.ch--,mn.ch<0&&(mn.line--,mn.ch=(this.doc.getLine(mn.line)||"").length)):(mn.ch++,mn.ch>(this.doc.getLine(mn.line)||"").length&&(mn.ch=0,mn.line++)),Dr.cmpPos(mn,this.doc.clipPos(mn))!=0))return this.atOccurrence=!1;var bn=this.matches(hn,mn);if(this.afterEmptyMatch=bn&&Dr.cmpPos(bn.from,bn.to)==0,bn)return this.pos=bn,this.atOccurrence=!0,this.pos.match||!0;var An=Mr(hn?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:An,to:An},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(hn,mn){if(this.atOccurrence){var bn=Dr.splitLines(hn);this.doc.replaceRange(bn,this.pos.from,this.pos.to,mn),this.pos.to=Mr(this.pos.from.line+bn.length-1,bn[bn.length-1].length+(bn.length==1?this.pos.from.ch:0))}}},Dr.defineExtension("getSearchCursor",function(hn,mn,bn){return new cn(this.doc,hn,mn,bn)}),Dr.defineDocExtension("getSearchCursor",function(hn,mn,bn){return new cn(this,hn,mn,bn)}),Dr.defineExtension("selectMatches",function(hn,mn){for(var bn=[],An=this.getSearchCursor(hn,this.getCursor("from"),mn);An.findNext()&&!(Dr.cmpPos(An.to(),this.getCursor("to"))>0);)bn.push({anchor:An.from(),head:An.to()});bn.length&&this.setSelections(bn,0)})})})();(function(_r,Be){(function(Dr){Dr(codemirrorExports,markdownExports,overlayExports)})(function(Dr){var Mr=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?Â«Â»ââââ]))/i;Dr.defineMode("gfm",function($r,Br){var zr=0;function Vr(Kr){return Kr.code=!1,null}var jr={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(Kr){return{code:Kr.code,codeBlock:Kr.codeBlock,ateSpace:Kr.ateSpace}},token:function(Kr,Zr){if(Zr.combineTokens=null,Zr.codeBlock)return Kr.match(/^```+/)?(Zr.codeBlock=!1,null):(Kr.skipToEnd(),null);if(Kr.sol()&&(Zr.code=!1),Kr.sol()&&Kr.match(/^```+/))return Kr.skipToEnd(),Zr.codeBlock=!0,null;if(Kr.peek()==="`"){Kr.next();var Jr=Kr.pos;Kr.eatWhile("`");var rn=1+Kr.pos-Jr;return Zr.code?rn===zr&&(Zr.code=!1):(zr=rn,Zr.code=!0),null}else if(Zr.code)return Kr.next(),null;if(Kr.eatSpace())return Zr.ateSpace=!0,null;if((Kr.sol()||Zr.ateSpace)&&(Zr.ateSpace=!1,Br.gitHubSpice!==!1)){if(Kr.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return Zr.combineTokens=!0,"link";if(Kr.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return Zr.combineTokens=!0,"link"}return Kr.match(Mr)&&Kr.string.slice(Kr.start-2,Kr.start)!="]("&&(Kr.start==0||/\W/.test(Kr.string.charAt(Kr.start-1)))?(Zr.combineTokens=!0,"link"):(Kr.next(),null)},blankLine:Vr},Gr={taskLists:!0,strikethrough:!0,emoji:!0};for(var Wr in Br)Gr[Wr]=Br[Wr];return Gr.name="markdown",Dr.overlayMode(Dr.getMode($r,Gr),jr)},"markdown"),Dr.defineMIME("text/x-gfm","gfm")})})();function commonjsRequire(_r){throw new Error('Could not dynamically require "'+_r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var typo={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(_r){var Be;(function(){Be=function(Dr,Mr,$r,Br){Br=Br||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=Br.flags||{},this.memoized={},this.loaded=!1;var zr=this,Vr,jr,Gr,Wr,Kr;Dr&&(zr.dictionary=Dr,Mr&&$r?nn():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(Br.dictionaryPath?Vr=Br.dictionaryPath:Vr="typo/dictionaries",Mr||Zr(chrome.extension.getURL(Vr+"/"+Dr+"/"+Dr+".aff"),Jr),$r||Zr(chrome.extension.getURL(Vr+"/"+Dr+"/"+Dr+".dic"),rn)):(Br.dictionaryPath?Vr=Br.dictionaryPath:typeof __dirname<"u"?Vr=__dirname+"/dictionaries":Vr="./dictionaries",Mr||Zr(Vr+"/"+Dr+"/"+Dr+".aff",Jr),$r||Zr(Vr+"/"+Dr+"/"+Dr+".dic",rn)));function Zr(ln,cn){var hn=zr._readFile(ln,null,Br.asyncLoad);Br.asyncLoad?hn.then(function(mn){cn(mn)}):cn(hn)}function Jr(ln){Mr=ln,$r&&nn()}function rn(ln){$r=ln,Mr&&nn()}function nn(){for(zr.rules=zr._parseAFF(Mr),zr.compoundRuleCodes={},jr=0,Wr=zr.compoundRules.length;jr<Wr;jr++){var ln=zr.compoundRules[jr];for(Gr=0,Kr=ln.length;Gr<Kr;Gr++)zr.compoundRuleCodes[ln[Gr]]=[]}"ONLYINCOMPOUND"in zr.flags&&(zr.compoundRuleCodes[zr.flags.ONLYINCOMPOUND]=[]),zr.dictionaryTable=zr._parseDIC($r);for(jr in zr.compoundRuleCodes)zr.compoundRuleCodes[jr].length===0&&delete zr.compoundRuleCodes[jr];for(jr=0,Wr=zr.compoundRules.length;jr<Wr;jr++){var cn=zr.compoundRules[jr],hn="";for(Gr=0,Kr=cn.length;Gr<Kr;Gr++){var mn=cn[Gr];mn in zr.compoundRuleCodes?hn+="("+zr.compoundRuleCodes[mn].join("|")+")":hn+=mn}zr.compoundRules[jr]=new RegExp(hn,"i")}zr.loaded=!0,Br.asyncLoad&&Br.loadedCallback&&Br.loadedCallback(zr)}return this},Be.prototype={load:function(Dr){for(var Mr in Dr)Dr.hasOwnProperty(Mr)&&(this[Mr]=Dr[Mr]);return this},_readFile:function(Dr,Mr,$r){if(Mr=Mr||"utf8",typeof XMLHttpRequest<"u"){var Br,zr=new XMLHttpRequest;return zr.open("GET",Dr,$r),$r&&(Br=new Promise(function(jr,Gr){zr.onload=function(){zr.status===200?jr(zr.responseText):Gr(zr.statusText)},zr.onerror=function(){Gr(zr.statusText)}})),zr.overrideMimeType&&zr.overrideMimeType("text/plain; charset="+Mr),zr.send(null),$r?Br:zr.responseText}else if(typeof commonjsRequire<"u"){var Vr=require$$0;try{if(Vr.existsSync(Dr))return Vr.readFileSync(Dr,Mr);console.log("Path "+Dr+" does not exist.")}catch(jr){return console.log(jr),""}}},_parseAFF:function(Dr){var Mr={},$r,Br,zr,Vr,jr,Gr,Wr,Kr,Zr=Dr.split(/\r?\n/);for(jr=0,Wr=Zr.length;jr<Wr;jr++)if($r=this._removeAffixComments(Zr[jr]),$r=$r.trim(),!!$r){var Jr=$r.split(/\s+/),rn=Jr[0];if(rn=="PFX"||rn=="SFX"){var nn=Jr[1],ln=Jr[2];zr=parseInt(Jr[3],10);var cn=[];for(Gr=jr+1,Kr=jr+1+zr;Gr<Kr;Gr++){Br=Zr[Gr],Vr=Br.split(/\s+/);var hn=Vr[2],mn=Vr[3].split("/"),bn=mn[0];bn==="0"&&(bn="");var An=this.parseRuleCodes(mn[1]),vn=Vr[4],dn={};dn.add=bn,An.length>0&&(dn.continuationClasses=An),vn!=="."&&(rn==="SFX"?dn.match=new RegExp(vn+"$"):dn.match=new RegExp("^"+vn)),hn!="0"&&(rn==="SFX"?dn.remove=new RegExp(hn+"$"):dn.remove=hn),cn.push(dn)}Mr[nn]={type:rn,combineable:ln=="Y",entries:cn},jr+=zr}else if(rn==="COMPOUNDRULE"){for(zr=parseInt(Jr[1],10),Gr=jr+1,Kr=jr+1+zr;Gr<Kr;Gr++)$r=Zr[Gr],Vr=$r.split(/\s+/),this.compoundRules.push(Vr[1]);jr+=zr}else rn==="REP"?(Vr=$r.split(/\s+/),Vr.length===3&&this.replacementTable.push([Vr[1],Vr[2]])):this.flags[rn]=Jr[1]}return Mr},_removeAffixComments:function(Dr){return Dr.match(/^\s*#/,"")?"":Dr},_parseDIC:function(Dr){Dr=this._removeDicComments(Dr);var Mr=Dr.split(/\r?\n/),$r={};function Br(In,Hn){$r.hasOwnProperty(In)||($r[In]=null),Hn.length>0&&($r[In]===null&&($r[In]=[]),$r[In].push(Hn))}for(var zr=1,Vr=Mr.length;zr<Vr;zr++){var jr=Mr[zr];if(jr){var Gr=jr.split("/",2),Wr=Gr[0];if(Gr.length>1){var Kr=this.parseRuleCodes(Gr[1]);(!("NEEDAFFIX"in this.flags)||Kr.indexOf(this.flags.NEEDAFFIX)==-1)&&Br(Wr,Kr);for(var Zr=0,Jr=Kr.length;Zr<Jr;Zr++){var rn=Kr[Zr],nn=this.rules[rn];if(nn)for(var ln=this._applyRule(Wr,nn),cn=0,hn=ln.length;cn<hn;cn++){var mn=ln[cn];if(Br(mn,[]),nn.combineable)for(var bn=Zr+1;bn<Jr;bn++){var An=Kr[bn],vn=this.rules[An];if(vn&&vn.combineable&&nn.type!=vn.type)for(var dn=this._applyRule(mn,vn),wn=0,xn=dn.length;wn<xn;wn++){var Mn=dn[wn];Br(Mn,[])}}}rn in this.compoundRuleCodes&&this.compoundRuleCodes[rn].push(Wr)}}else Br(Wr.trim(),[])}}return $r},_removeDicComments:function(Dr){return Dr=Dr.replace(/^\t.*$/mg,""),Dr},parseRuleCodes:function(Dr){if(Dr)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var Mr=[],$r=0,Br=Dr.length;$r<Br;$r+=2)Mr.push(Dr.substr($r,2));return Mr}else return this.flags.FLAG==="num"?Dr.split(","):this.flags.FLAG==="UTF-8"?Array.from(Dr):Dr.split("");else return Dr.split("");else return[]},_applyRule:function(Dr,Mr){for(var $r=Mr.entries,Br=[],zr=0,Vr=$r.length;zr<Vr;zr++){var jr=$r[zr];if(!jr.match||Dr.match(jr.match)){var Gr=Dr;if(jr.remove&&(Gr=Gr.replace(jr.remove,"")),Mr.type==="SFX"?Gr=Gr+jr.add:Gr=jr.add+Gr,Br.push(Gr),"continuationClasses"in jr)for(var Wr=0,Kr=jr.continuationClasses.length;Wr<Kr;Wr++){var Zr=this.rules[jr.continuationClasses[Wr]];Zr&&(Br=Br.concat(this._applyRule(Gr,Zr)))}}}return Br},check:function(Dr){if(!this.loaded)throw"Dictionary not loaded.";var Mr=Dr.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(Mr))return!0;if(Mr.toUpperCase()===Mr){var $r=Mr[0]+Mr.substring(1).toLowerCase();if(this.hasFlag($r,"KEEPCASE"))return!1;if(this.checkExact($r)||this.checkExact(Mr.toLowerCase()))return!0}var Br=Mr[0].toLowerCase()+Mr.substring(1);if(Br!==Mr){if(this.hasFlag(Br,"KEEPCASE"))return!1;if(this.checkExact(Br))return!0}return!1},checkExact:function(Dr){if(!this.loaded)throw"Dictionary not loaded.";var Mr=this.dictionaryTable[Dr],$r,Br;if(typeof Mr>"u"){if("COMPOUNDMIN"in this.flags&&Dr.length>=this.flags.COMPOUNDMIN){for($r=0,Br=this.compoundRules.length;$r<Br;$r++)if(Dr.match(this.compoundRules[$r]))return!0}}else{if(Mr===null)return!0;if(typeof Mr=="object"){for($r=0,Br=Mr.length;$r<Br;$r++)if(!this.hasFlag(Dr,"ONLYINCOMPOUND",Mr[$r]))return!0}}return!1},hasFlag:function(Dr,Mr,$r){if(!this.loaded)throw"Dictionary not loaded.";return!!(Mr in this.flags&&(typeof $r>"u"&&($r=Array.prototype.concat.apply([],this.dictionaryTable[Dr])),$r&&$r.indexOf(this.flags[Mr])!==-1))},alphabet:"",suggest:function(Dr,Mr){if(!this.loaded)throw"Dictionary not loaded.";if(Mr=Mr||5,this.memoized.hasOwnProperty(Dr)){var $r=this.memoized[Dr].limit;if(Mr<=$r||this.memoized[Dr].suggestions.length<$r)return this.memoized[Dr].suggestions.slice(0,Mr)}if(this.check(Dr))return[];for(var Br=0,zr=this.replacementTable.length;Br<zr;Br++){var Vr=this.replacementTable[Br];if(Dr.indexOf(Vr[0])!==-1){var jr=Dr.replace(Vr[0],Vr[1]);if(this.check(jr))return[jr]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var Gr=this.alphabet.split("");Gr.sort();for(var Wr={},Br=0;Br<Gr.length;Br++)Wr[Gr[Br]]=!0;this.alphabet="";for(var Br in Wr)this.alphabet+=Br}var Kr=this;function Zr(rn,nn){var ln={},cn,hn,mn,bn,An=Kr.alphabet.length;if(typeof rn=="string"){var vn=rn;rn={},rn[vn]=!0}for(var vn in rn)for(cn=0,mn=vn.length+1;cn<mn;cn++){var dn=[vn.substring(0,cn),vn.substring(cn)];if(dn[1]&&(bn=dn[0]+dn[1].substring(1),(!nn||Kr.check(bn))&&(bn in ln?ln[bn]+=1:ln[bn]=1)),dn[1].length>1&&dn[1][1]!==dn[1][0]&&(bn=dn[0]+dn[1][1]+dn[1][0]+dn[1].substring(2),(!nn||Kr.check(bn))&&(bn in ln?ln[bn]+=1:ln[bn]=1)),dn[1]){var wn=dn[1].substring(0,1).toUpperCase()===dn[1].substring(0,1)?"uppercase":"lowercase";for(hn=0;hn<An;hn++){var xn=Kr.alphabet[hn];wn==="uppercase"&&(xn=xn.toUpperCase()),xn!=dn[1].substring(0,1)&&(bn=dn[0]+xn+dn[1].substring(1),(!nn||Kr.check(bn))&&(bn in ln?ln[bn]+=1:ln[bn]=1))}}if(dn[1])for(hn=0;hn<An;hn++){var wn=dn[0].substring(-1).toUpperCase()===dn[0].substring(-1)&&dn[1].substring(0,1).toUpperCase()===dn[1].substring(0,1)?"uppercase":"lowercase",xn=Kr.alphabet[hn];wn==="uppercase"&&(xn=xn.toUpperCase()),bn=dn[0]+xn+dn[1],(!nn||Kr.check(bn))&&(bn in ln?ln[bn]+=1:ln[bn]=1)}}return ln}function Jr(rn){var nn=Zr(rn),ln=Zr(nn,!0),cn=ln;for(var hn in nn)Kr.check(hn)&&(hn in cn?cn[hn]+=nn[hn]:cn[hn]=nn[hn]);var mn,bn=[];for(mn in cn)cn.hasOwnProperty(mn)&&bn.push([mn,cn[mn]]);function An(xn,Mn){var In=xn[1],Hn=Mn[1];return In<Hn?-1:In>Hn?1:Mn[0].localeCompare(xn[0])}bn.sort(An).reverse();var vn=[],dn="lowercase";rn.toUpperCase()===rn?dn="uppercase":rn.substr(0,1).toUpperCase()+rn.substr(1).toLowerCase()===rn&&(dn="capitalized");var wn=Mr;for(mn=0;mn<Math.min(wn,bn.length);mn++)dn==="uppercase"?bn[mn][0]=bn[mn][0].toUpperCase():dn==="capitalized"&&(bn[mn][0]=bn[mn][0].substr(0,1).toUpperCase()+bn[mn][0].substr(1)),!Kr.hasFlag(bn[mn][0],"NOSUGGEST")&&vn.indexOf(bn[mn][0])==-1?vn.push(bn[mn][0]):wn++;return vn}return this.memoized[Dr]={suggestions:Jr(Dr),limit:Mr},this.memoized[Dr].suggestions}}})(),_r.exports=Be})(typo);var typoExports=typo.exports,Typo=typoExports;function CodeMirrorSpellChecker$1(_r){if(_r=_r||{},typeof _r.codeMirrorInstance!="function"||typeof _r.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),_r.codeMirrorInstance.defineMode("spell-checker",function(Be){if(!CodeMirrorSpellChecker$1.aff_loading){CodeMirrorSpellChecker$1.aff_loading=!0;var Dr=new XMLHttpRequest;Dr.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),Dr.onload=function(){Dr.readyState===4&&Dr.status===200&&(CodeMirrorSpellChecker$1.aff_data=Dr.responseText,CodeMirrorSpellChecker$1.num_loaded++,CodeMirrorSpellChecker$1.num_loaded==2&&(CodeMirrorSpellChecker$1.typo=new Typo("en_US",CodeMirrorSpellChecker$1.aff_data,CodeMirrorSpellChecker$1.dic_data,{platform:"any"})))},Dr.send(null)}if(!CodeMirrorSpellChecker$1.dic_loading){CodeMirrorSpellChecker$1.dic_loading=!0;var Mr=new XMLHttpRequest;Mr.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),Mr.onload=function(){Mr.readyState===4&&Mr.status===200&&(CodeMirrorSpellChecker$1.dic_data=Mr.responseText,CodeMirrorSpellChecker$1.num_loaded++,CodeMirrorSpellChecker$1.num_loaded==2&&(CodeMirrorSpellChecker$1.typo=new Typo("en_US",CodeMirrorSpellChecker$1.aff_data,CodeMirrorSpellChecker$1.dic_data,{platform:"any"})))},Mr.send(null)}var $r='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',Br={token:function(Vr){var jr=Vr.peek(),Gr="";if($r.includes(jr))return Vr.next(),null;for(;(jr=Vr.peek())!=null&&!$r.includes(jr);)Gr+=jr,Vr.next();return CodeMirrorSpellChecker$1.typo&&!CodeMirrorSpellChecker$1.typo.check(Gr)?"spell-error":null}},zr=_r.codeMirrorInstance.getMode(Be,Be.backdrop||"text/plain");return _r.codeMirrorInstance.overlayMode(zr,Br,!0)})}CodeMirrorSpellChecker$1.num_loaded=0;CodeMirrorSpellChecker$1.aff_loading=!1;CodeMirrorSpellChecker$1.dic_loading=!1;CodeMirrorSpellChecker$1.aff_data="";CodeMirrorSpellChecker$1.dic_data="";CodeMirrorSpellChecker$1.typo;var spellChecker=CodeMirrorSpellChecker$1,marked$1={};(function(_r){function Be(xi,ci){for(var _i=0;_i<ci.length;_i++){var Jn=ci[_i];Jn.enumerable=Jn.enumerable||!1,Jn.configurable=!0,"value"in Jn&&(Jn.writable=!0),Object.defineProperty(xi,jr(Jn.key),Jn)}}function Dr(xi,ci,_i){return ci&&Be(xi.prototype,ci),_i&&Be(xi,_i),Object.defineProperty(xi,"prototype",{writable:!1}),xi}function Mr(){return Mr=Object.assign?Object.assign.bind():function(xi){for(var ci=1;ci<arguments.length;ci++){var _i=arguments[ci];for(var Jn in _i)Object.prototype.hasOwnProperty.call(_i,Jn)&&(xi[Jn]=_i[Jn])}return xi},Mr.apply(this,arguments)}function $r(xi,ci){if(xi){if(typeof xi=="string")return Br(xi,ci);var _i=Object.prototype.toString.call(xi).slice(8,-1);if(_i==="Object"&&xi.constructor&&(_i=xi.constructor.name),_i==="Map"||_i==="Set")return Array.from(xi);if(_i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_i))return Br(xi,ci)}}function Br(xi,ci){(ci==null||ci>xi.length)&&(ci=xi.length);for(var _i=0,Jn=new Array(ci);_i<ci;_i++)Jn[_i]=xi[_i];return Jn}function zr(xi,ci){var _i=typeof Symbol<"u"&&xi[Symbol.iterator]||xi["@@iterator"];if(_i)return(_i=_i.call(xi)).next.bind(_i);if(Array.isArray(xi)||(_i=$r(xi))||ci&&xi&&typeof xi.length=="number"){_i&&(xi=_i);var Jn=0;return function(){return Jn>=xi.length?{done:!0}:{done:!1,value:xi[Jn++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vr(xi,ci){if(typeof xi!="object"||xi===null)return xi;var _i=xi[Symbol.toPrimitive];if(_i!==void 0){var Jn=_i.call(xi,ci||"default");if(typeof Jn!="object")return Jn;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ci==="string"?String:Number)(xi)}function jr(xi){var ci=Vr(xi,"string");return typeof ci=="symbol"?ci:String(ci)}function Gr(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}_r.defaults=Gr();function Wr(xi){_r.defaults=xi}var Kr=/[&<>"']/,Zr=new RegExp(Kr.source,"g"),Jr=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,rn=new RegExp(Jr.source,"g"),nn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ln=function(ci){return nn[ci]};function cn(xi,ci){if(ci){if(Kr.test(xi))return xi.replace(Zr,ln)}else if(Jr.test(xi))return xi.replace(rn,ln);return xi}var hn=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function mn(xi){return xi.replace(hn,function(ci,_i){return _i=_i.toLowerCase(),_i==="colon"?":":_i.charAt(0)==="#"?_i.charAt(1)==="x"?String.fromCharCode(parseInt(_i.substring(2),16)):String.fromCharCode(+_i.substring(1)):""})}var bn=/(^|[^\[])\^/g;function An(xi,ci){xi=typeof xi=="string"?xi:xi.source,ci=ci||"";var _i={replace:function(ni,mi){return mi=mi.source||mi,mi=mi.replace(bn,"$1"),xi=xi.replace(ni,mi),_i},getRegex:function(){return new RegExp(xi,ci)}};return _i}var vn=/[^\w:]/g,dn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function wn(xi,ci,_i){if(xi){var Jn;try{Jn=decodeURIComponent(mn(_i)).replace(vn,"").toLowerCase()}catch{return null}if(Jn.indexOf("javascript:")===0||Jn.indexOf("vbscript:")===0||Jn.indexOf("data:")===0)return null}ci&&!dn.test(_i)&&(_i=$n(ci,_i));try{_i=encodeURI(_i).replace(/%25/g,"%")}catch{return null}return _i}var xn={},Mn=/^[^:]+:\/*[^/]*$/,In=/^([^:]+:)[\s\S]*$/,Hn=/^([^:]+:\/*[^/]*)[\s\S]*$/;function $n(xi,ci){xn[" "+xi]||(Mn.test(xi)?xn[" "+xi]=xi+"/":xn[" "+xi]=Gn(xi,"/",!0)),xi=xn[" "+xi];var _i=xi.indexOf(":")===-1;return ci.substring(0,2)==="//"?_i?ci:xi.replace(In,"$1")+ci:ci.charAt(0)==="/"?_i?ci:xi.replace(Hn,"$1")+ci:xi+ci}var jn={exec:function(){}};function Bn(xi,ci){var _i=xi.replace(/\|/g,function(mi,di,ki){for(var ao=!1,so=di;--so>=0&&ki[so]==="\\";)ao=!ao;return ao?"|":" |"}),Jn=_i.split(/ \|/),ni=0;if(Jn[0].trim()||Jn.shift(),Jn.length>0&&!Jn[Jn.length-1].trim()&&Jn.pop(),Jn.length>ci)Jn.splice(ci);else for(;Jn.length<ci;)Jn.push("");for(;ni<Jn.length;ni++)Jn[ni]=Jn[ni].trim().replace(/\\\|/g,"|");return Jn}function Gn(xi,ci,_i){var Jn=xi.length;if(Jn===0)return"";for(var ni=0;ni<Jn;){var mi=xi.charAt(Jn-ni-1);if(mi===ci&&!_i)ni++;else if(mi!==ci&&_i)ni++;else break}return xi.slice(0,Jn-ni)}function ei(xi,ci){if(xi.indexOf(ci[1])===-1)return-1;for(var _i=xi.length,Jn=0,ni=0;ni<_i;ni++)if(xi[ni]==="\\")ni++;else if(xi[ni]===ci[0])Jn++;else if(xi[ni]===ci[1]&&(Jn--,Jn<0))return ni;return-1}function ri(xi){xi&&xi.sanitize&&!xi.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function vi(xi,ci){if(ci<1)return"";for(var _i="";ci>1;)ci&1&&(_i+=xi),ci>>=1,xi+=xi;return _i+xi}function wi(xi,ci,_i,Jn){var ni=ci.href,mi=ci.title?cn(ci.title):null,di=xi[1].replace(/\\([\[\]])/g,"$1");if(xi[0].charAt(0)!=="!"){Jn.state.inLink=!0;var ki={type:"link",raw:_i,href:ni,title:mi,text:di,tokens:Jn.inlineTokens(di)};return Jn.state.inLink=!1,ki}return{type:"image",raw:_i,href:ni,title:mi,text:cn(di)}}function Ni(xi,ci){var _i=xi.match(/^(\s+)(?:```)/);if(_i===null)return ci;var Jn=_i[1];return ci.split(`
`).map(function(ni){var mi=ni.match(/^\s+/);if(mi===null)return ni;var di=mi[0];return di.length>=Jn.length?ni.slice(Jn.length):ni}).join(`
`)}var Yn=function(){function xi(_i){this.options=_i||_r.defaults}var ci=xi.prototype;return ci.space=function(Jn){var ni=this.rules.block.newline.exec(Jn);if(ni&&ni[0].length>0)return{type:"space",raw:ni[0]}},ci.code=function(Jn){var ni=this.rules.block.code.exec(Jn);if(ni){var mi=ni[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ni[0],codeBlockStyle:"indented",text:this.options.pedantic?mi:Gn(mi,`
`)}}},ci.fences=function(Jn){var ni=this.rules.block.fences.exec(Jn);if(ni){var mi=ni[0],di=Ni(mi,ni[3]||"");return{type:"code",raw:mi,lang:ni[2]?ni[2].trim().replace(this.rules.inline._escapes,"$1"):ni[2],text:di}}},ci.heading=function(Jn){var ni=this.rules.block.heading.exec(Jn);if(ni){var mi=ni[2].trim();if(/#$/.test(mi)){var di=Gn(mi,"#");(this.options.pedantic||!di||/ $/.test(di))&&(mi=di.trim())}return{type:"heading",raw:ni[0],depth:ni[1].length,text:mi,tokens:this.lexer.inline(mi)}}},ci.hr=function(Jn){var ni=this.rules.block.hr.exec(Jn);if(ni)return{type:"hr",raw:ni[0]}},ci.blockquote=function(Jn){var ni=this.rules.block.blockquote.exec(Jn);if(ni){var mi=ni[0].replace(/^ *>[ \t]?/gm,""),di=this.lexer.state.top;this.lexer.state.top=!0;var ki=this.lexer.blockTokens(mi);return this.lexer.state.top=di,{type:"blockquote",raw:ni[0],tokens:ki,text:mi}}},ci.list=function(Jn){var ni=this.rules.block.list.exec(Jn);if(ni){var mi,di,ki,ao,so,vo,Eo,Xo,Hi,Po,ro,ea,la=ni[1].trim(),rs=la.length>1,ca={type:"list",raw:"",ordered:rs,start:rs?+la.slice(0,-1):"",loose:!1,items:[]};la=rs?"\\d{1,9}\\"+la.slice(-1):"\\"+la,this.options.pedantic&&(la=rs?la:"[*+-]");for(var es=new RegExp("^( {0,3}"+la+")((?:[	 ][^\\n]*)?(?:\\n|$))");Jn&&(ea=!1,!(!(ni=es.exec(Jn))||this.rules.block.hr.test(Jn)));){if(mi=ni[0],Jn=Jn.substring(mi.length),Xo=ni[2].split(`
`,1)[0].replace(/^\t+/,function(Ts){return" ".repeat(3*Ts.length)}),Hi=Jn.split(`
`,1)[0],this.options.pedantic?(ao=2,ro=Xo.trimLeft()):(ao=ni[2].search(/[^ ]/),ao=ao>4?1:ao,ro=Xo.slice(ao),ao+=ni[1].length),vo=!1,!Xo&&/^ *$/.test(Hi)&&(mi+=Hi+`
`,Jn=Jn.substring(Hi.length+1),ea=!0),!ea)for(var Pa=new RegExp("^ {0,"+Math.min(3,ao-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),bs=new RegExp("^ {0,"+Math.min(3,ao-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),qs=new RegExp("^ {0,"+Math.min(3,ao-1)+"}(?:```|~~~)"),il=new RegExp("^ {0,"+Math.min(3,ao-1)+"}#");Jn&&(Po=Jn.split(`
`,1)[0],Hi=Po,this.options.pedantic&&(Hi=Hi.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(qs.test(Hi)||il.test(Hi)||Pa.test(Hi)||bs.test(Jn)));){if(Hi.search(/[^ ]/)>=ao||!Hi.trim())ro+=`
`+Hi.slice(ao);else{if(vo||Xo.search(/[^ ]/)>=4||qs.test(Xo)||il.test(Xo)||bs.test(Xo))break;ro+=`
`+Hi}!vo&&!Hi.trim()&&(vo=!0),mi+=Po+`
`,Jn=Jn.substring(Po.length+1),Xo=Hi.slice(ao)}ca.loose||(Eo?ca.loose=!0:/\n *\n *$/.test(mi)&&(Eo=!0)),this.options.gfm&&(di=/^\[[ xX]\] /.exec(ro),di&&(ki=di[0]!=="[ ] ",ro=ro.replace(/^\[[ xX]\] +/,""))),ca.items.push({type:"list_item",raw:mi,task:!!di,checked:ki,loose:!1,text:ro}),ca.raw+=mi}ca.items[ca.items.length-1].raw=mi.trimRight(),ca.items[ca.items.length-1].text=ro.trimRight(),ca.raw=ca.raw.trimRight();var us=ca.items.length;for(so=0;so<us;so++)if(this.lexer.state.top=!1,ca.items[so].tokens=this.lexer.blockTokens(ca.items[so].text,[]),!ca.loose){var Vl=ca.items[so].tokens.filter(function(Ts){return Ts.type==="space"}),Bs=Vl.length>0&&Vl.some(function(Ts){return/\n.*\n/.test(Ts.raw)});ca.loose=Bs}if(ca.loose)for(so=0;so<us;so++)ca.items[so].loose=!0;return ca}},ci.html=function(Jn){var ni=this.rules.block.html.exec(Jn);if(ni){var mi={type:"html",raw:ni[0],pre:!this.options.sanitizer&&(ni[1]==="pre"||ni[1]==="script"||ni[1]==="style"),text:ni[0]};if(this.options.sanitize){var di=this.options.sanitizer?this.options.sanitizer(ni[0]):cn(ni[0]);mi.type="paragraph",mi.text=di,mi.tokens=this.lexer.inline(di)}return mi}},ci.def=function(Jn){var ni=this.rules.block.def.exec(Jn);if(ni){var mi=ni[1].toLowerCase().replace(/\s+/g," "),di=ni[2]?ni[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",ki=ni[3]?ni[3].substring(1,ni[3].length-1).replace(this.rules.inline._escapes,"$1"):ni[3];return{type:"def",tag:mi,raw:ni[0],href:di,title:ki}}},ci.table=function(Jn){var ni=this.rules.block.table.exec(Jn);if(ni){var mi={type:"table",header:Bn(ni[1]).map(function(Eo){return{text:Eo}}),align:ni[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:ni[3]&&ni[3].trim()?ni[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(mi.header.length===mi.align.length){mi.raw=ni[0];var di=mi.align.length,ki,ao,so,vo;for(ki=0;ki<di;ki++)/^ *-+: *$/.test(mi.align[ki])?mi.align[ki]="right":/^ *:-+: *$/.test(mi.align[ki])?mi.align[ki]="center":/^ *:-+ *$/.test(mi.align[ki])?mi.align[ki]="left":mi.align[ki]=null;for(di=mi.rows.length,ki=0;ki<di;ki++)mi.rows[ki]=Bn(mi.rows[ki],mi.header.length).map(function(Eo){return{text:Eo}});for(di=mi.header.length,ao=0;ao<di;ao++)mi.header[ao].tokens=this.lexer.inline(mi.header[ao].text);for(di=mi.rows.length,ao=0;ao<di;ao++)for(vo=mi.rows[ao],so=0;so<vo.length;so++)vo[so].tokens=this.lexer.inline(vo[so].text);return mi}}},ci.lheading=function(Jn){var ni=this.rules.block.lheading.exec(Jn);if(ni)return{type:"heading",raw:ni[0],depth:ni[2].charAt(0)==="="?1:2,text:ni[1],tokens:this.lexer.inline(ni[1])}},ci.paragraph=function(Jn){var ni=this.rules.block.paragraph.exec(Jn);if(ni){var mi=ni[1].charAt(ni[1].length-1)===`
`?ni[1].slice(0,-1):ni[1];return{type:"paragraph",raw:ni[0],text:mi,tokens:this.lexer.inline(mi)}}},ci.text=function(Jn){var ni=this.rules.block.text.exec(Jn);if(ni)return{type:"text",raw:ni[0],text:ni[0],tokens:this.lexer.inline(ni[0])}},ci.escape=function(Jn){var ni=this.rules.inline.escape.exec(Jn);if(ni)return{type:"escape",raw:ni[0],text:cn(ni[1])}},ci.tag=function(Jn){var ni=this.rules.inline.tag.exec(Jn);if(ni)return!this.lexer.state.inLink&&/^<a /i.test(ni[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ni[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ni[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ni[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ni[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ni[0]):cn(ni[0]):ni[0]}},ci.link=function(Jn){var ni=this.rules.inline.link.exec(Jn);if(ni){var mi=ni[2].trim();if(!this.options.pedantic&&/^</.test(mi)){if(!/>$/.test(mi))return;var di=Gn(mi.slice(0,-1),"\\");if((mi.length-di.length)%2===0)return}else{var ki=ei(ni[2],"()");if(ki>-1){var ao=ni[0].indexOf("!")===0?5:4,so=ao+ni[1].length+ki;ni[2]=ni[2].substring(0,ki),ni[0]=ni[0].substring(0,so).trim(),ni[3]=""}}var vo=ni[2],Eo="";if(this.options.pedantic){var Xo=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(vo);Xo&&(vo=Xo[1],Eo=Xo[3])}else Eo=ni[3]?ni[3].slice(1,-1):"";return vo=vo.trim(),/^</.test(vo)&&(this.options.pedantic&&!/>$/.test(mi)?vo=vo.slice(1):vo=vo.slice(1,-1)),wi(ni,{href:vo&&vo.replace(this.rules.inline._escapes,"$1"),title:Eo&&Eo.replace(this.rules.inline._escapes,"$1")},ni[0],this.lexer)}},ci.reflink=function(Jn,ni){var mi;if((mi=this.rules.inline.reflink.exec(Jn))||(mi=this.rules.inline.nolink.exec(Jn))){var di=(mi[2]||mi[1]).replace(/\s+/g," ");if(di=ni[di.toLowerCase()],!di){var ki=mi[0].charAt(0);return{type:"text",raw:ki,text:ki}}return wi(mi,di,mi[0],this.lexer)}},ci.emStrong=function(Jn,ni,mi){mi===void 0&&(mi="");var di=this.rules.inline.emStrong.lDelim.exec(Jn);if(di&&!(di[3]&&mi.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var ki=di[1]||di[2]||"";if(!ki||ki&&(mi===""||this.rules.inline.punctuation.exec(mi))){var ao=di[0].length-1,so,vo,Eo=ao,Xo=0,Hi=di[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Hi.lastIndex=0,ni=ni.slice(-1*Jn.length+ao);(di=Hi.exec(ni))!=null;)if(so=di[1]||di[2]||di[3]||di[4]||di[5]||di[6],!!so){if(vo=so.length,di[3]||di[4]){Eo+=vo;continue}else if((di[5]||di[6])&&ao%3&&!((ao+vo)%3)){Xo+=vo;continue}if(Eo-=vo,!(Eo>0)){vo=Math.min(vo,vo+Eo+Xo);var Po=Jn.slice(0,ao+di.index+(di[0].length-so.length)+vo);if(Math.min(ao,vo)%2){var ro=Po.slice(1,-1);return{type:"em",raw:Po,text:ro,tokens:this.lexer.inlineTokens(ro)}}var ea=Po.slice(2,-2);return{type:"strong",raw:Po,text:ea,tokens:this.lexer.inlineTokens(ea)}}}}}},ci.codespan=function(Jn){var ni=this.rules.inline.code.exec(Jn);if(ni){var mi=ni[2].replace(/\n/g," "),di=/[^ ]/.test(mi),ki=/^ /.test(mi)&&/ $/.test(mi);return di&&ki&&(mi=mi.substring(1,mi.length-1)),mi=cn(mi,!0),{type:"codespan",raw:ni[0],text:mi}}},ci.br=function(Jn){var ni=this.rules.inline.br.exec(Jn);if(ni)return{type:"br",raw:ni[0]}},ci.del=function(Jn){var ni=this.rules.inline.del.exec(Jn);if(ni)return{type:"del",raw:ni[0],text:ni[2],tokens:this.lexer.inlineTokens(ni[2])}},ci.autolink=function(Jn,ni){var mi=this.rules.inline.autolink.exec(Jn);if(mi){var di,ki;return mi[2]==="@"?(di=cn(this.options.mangle?ni(mi[1]):mi[1]),ki="mailto:"+di):(di=cn(mi[1]),ki=di),{type:"link",raw:mi[0],text:di,href:ki,tokens:[{type:"text",raw:di,text:di}]}}},ci.url=function(Jn,ni){var mi;if(mi=this.rules.inline.url.exec(Jn)){var di,ki;if(mi[2]==="@")di=cn(this.options.mangle?ni(mi[0]):mi[0]),ki="mailto:"+di;else{var ao;do ao=mi[0],mi[0]=this.rules.inline._backpedal.exec(mi[0])[0];while(ao!==mi[0]);di=cn(mi[0]),mi[1]==="www."?ki="http://"+mi[0]:ki=mi[0]}return{type:"link",raw:mi[0],text:di,href:ki,tokens:[{type:"text",raw:di,text:di}]}}},ci.inlineText=function(Jn,ni){var mi=this.rules.inline.text.exec(Jn);if(mi){var di;return this.lexer.state.inRawBlock?di=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(mi[0]):cn(mi[0]):mi[0]:di=cn(this.options.smartypants?ni(mi[0]):mi[0]),{type:"text",raw:mi[0],text:di}}},xi}(),Vn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:jn,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Vn._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Vn._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Vn.def=An(Vn.def).replace("label",Vn._label).replace("title",Vn._title).getRegex(),Vn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Vn.listItemStart=An(/^( *)(bull) */).replace("bull",Vn.bullet).getRegex(),Vn.list=An(Vn.list).replace(/bull/g,Vn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Vn.def.source+")").getRegex(),Vn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Vn.html=An(Vn.html,"i").replace("comment",Vn._comment).replace("tag",Vn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Vn.paragraph=An(Vn._paragraph).replace("hr",Vn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vn._tag).getRegex(),Vn.blockquote=An(Vn.blockquote).replace("paragraph",Vn.paragraph).getRegex(),Vn.normal=Mr({},Vn),Vn.gfm=Mr({},Vn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Vn.gfm.table=An(Vn.gfm.table).replace("hr",Vn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vn._tag).getRegex(),Vn.gfm.paragraph=An(Vn._paragraph).replace("hr",Vn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Vn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vn._tag).getRegex(),Vn.pedantic=Mr({},Vn.normal,{html:An(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Vn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:jn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:An(Vn.normal._paragraph).replace("hr",Vn.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Vn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var si={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:jn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:jn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};si._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",si.punctuation=An(si.punctuation).replace(/punctuation/g,si._punctuation).getRegex(),si.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,si.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,si._comment=An(Vn._comment).replace("(?:-->|$)","-->").getRegex(),si.emStrong.lDelim=An(si.emStrong.lDelim).replace(/punct/g,si._punctuation).getRegex(),si.emStrong.rDelimAst=An(si.emStrong.rDelimAst,"g").replace(/punct/g,si._punctuation).getRegex(),si.emStrong.rDelimUnd=An(si.emStrong.rDelimUnd,"g").replace(/punct/g,si._punctuation).getRegex(),si._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,si._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,si._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,si.autolink=An(si.autolink).replace("scheme",si._scheme).replace("email",si._email).getRegex(),si._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,si.tag=An(si.tag).replace("comment",si._comment).replace("attribute",si._attribute).getRegex(),si._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,si._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,si._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,si.link=An(si.link).replace("label",si._label).replace("href",si._href).replace("title",si._title).getRegex(),si.reflink=An(si.reflink).replace("label",si._label).replace("ref",Vn._label).getRegex(),si.nolink=An(si.nolink).replace("ref",Vn._label).getRegex(),si.reflinkSearch=An(si.reflinkSearch,"g").replace("reflink",si.reflink).replace("nolink",si.nolink).getRegex(),si.normal=Mr({},si),si.pedantic=Mr({},si.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:An(/^!?\[(label)\]\((.*?)\)/).replace("label",si._label).getRegex(),reflink:An(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",si._label).getRegex()}),si.gfm=Mr({},si.normal,{escape:An(si.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),si.gfm.url=An(si.gfm.url,"i").replace("email",si.gfm._extended_email).getRegex(),si.breaks=Mr({},si.gfm,{br:An(si.br).replace("{2,}","*").getRegex(),text:An(si.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Ri(xi){return xi.replace(/---/g,"â").replace(/--/g,"â").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1â").replace(/'/g,"â").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1â").replace(/"/g,"â").replace(/\.{3}/g,"â¦")}function Pi(xi){var ci="",_i,Jn,ni=xi.length;for(_i=0;_i<ni;_i++)Jn=xi.charCodeAt(_i),Math.random()>.5&&(Jn="x"+Jn.toString(16)),ci+="&#"+Jn+";";return ci}var Fi=function(){function xi(_i){this.tokens=[],this.tokens.links=Object.create(null),this.options=_i||_r.defaults,this.options.tokenizer=this.options.tokenizer||new Yn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var Jn={block:Vn.normal,inline:si.normal};this.options.pedantic?(Jn.block=Vn.pedantic,Jn.inline=si.pedantic):this.options.gfm&&(Jn.block=Vn.gfm,this.options.breaks?Jn.inline=si.breaks:Jn.inline=si.gfm),this.tokenizer.rules=Jn}xi.lex=function(Jn,ni){var mi=new xi(ni);return mi.lex(Jn)},xi.lexInline=function(Jn,ni){var mi=new xi(ni);return mi.inlineTokens(Jn)};var ci=xi.prototype;return ci.lex=function(Jn){Jn=Jn.replace(/\r\n|\r/g,`
`),this.blockTokens(Jn,this.tokens);for(var ni;ni=this.inlineQueue.shift();)this.inlineTokens(ni.src,ni.tokens);return this.tokens},ci.blockTokens=function(Jn,ni){var mi=this;ni===void 0&&(ni=[]),this.options.pedantic?Jn=Jn.replace(/\t/g,"    ").replace(/^ +$/gm,""):Jn=Jn.replace(/^( *)(\t+)/gm,function(Eo,Xo,Hi){return Xo+"    ".repeat(Hi.length)});for(var di,ki,ao,so;Jn;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Eo){return(di=Eo.call({lexer:mi},Jn,ni))?(Jn=Jn.substring(di.raw.length),ni.push(di),!0):!1}))){if(di=this.tokenizer.space(Jn)){Jn=Jn.substring(di.raw.length),di.raw.length===1&&ni.length>0?ni[ni.length-1].raw+=`
`:ni.push(di);continue}if(di=this.tokenizer.code(Jn)){Jn=Jn.substring(di.raw.length),ki=ni[ni.length-1],ki&&(ki.type==="paragraph"||ki.type==="text")?(ki.raw+=`
`+di.raw,ki.text+=`
`+di.text,this.inlineQueue[this.inlineQueue.length-1].src=ki.text):ni.push(di);continue}if(di=this.tokenizer.fences(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.heading(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.hr(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.blockquote(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.list(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.html(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.def(Jn)){Jn=Jn.substring(di.raw.length),ki=ni[ni.length-1],ki&&(ki.type==="paragraph"||ki.type==="text")?(ki.raw+=`
`+di.raw,ki.text+=`
`+di.raw,this.inlineQueue[this.inlineQueue.length-1].src=ki.text):this.tokens.links[di.tag]||(this.tokens.links[di.tag]={href:di.href,title:di.title});continue}if(di=this.tokenizer.table(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.lheading(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(ao=Jn,this.options.extensions&&this.options.extensions.startBlock&&function(){var Eo=1/0,Xo=Jn.slice(1),Hi=void 0;mi.options.extensions.startBlock.forEach(function(Po){Hi=Po.call({lexer:this},Xo),typeof Hi=="number"&&Hi>=0&&(Eo=Math.min(Eo,Hi))}),Eo<1/0&&Eo>=0&&(ao=Jn.substring(0,Eo+1))}(),this.state.top&&(di=this.tokenizer.paragraph(ao))){ki=ni[ni.length-1],so&&ki.type==="paragraph"?(ki.raw+=`
`+di.raw,ki.text+=`
`+di.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ki.text):ni.push(di),so=ao.length!==Jn.length,Jn=Jn.substring(di.raw.length);continue}if(di=this.tokenizer.text(Jn)){Jn=Jn.substring(di.raw.length),ki=ni[ni.length-1],ki&&ki.type==="text"?(ki.raw+=`
`+di.raw,ki.text+=`
`+di.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=ki.text):ni.push(di);continue}if(Jn){var vo="Infinite loop on byte: "+Jn.charCodeAt(0);if(this.options.silent){console.error(vo);break}else throw new Error(vo)}}return this.state.top=!0,ni},ci.inline=function(Jn,ni){return ni===void 0&&(ni=[]),this.inlineQueue.push({src:Jn,tokens:ni}),ni},ci.inlineTokens=function(Jn,ni){var mi=this;ni===void 0&&(ni=[]);var di,ki,ao,so=Jn,vo,Eo,Xo;if(this.tokens.links){var Hi=Object.keys(this.tokens.links);if(Hi.length>0)for(;(vo=this.tokenizer.rules.inline.reflinkSearch.exec(so))!=null;)Hi.includes(vo[0].slice(vo[0].lastIndexOf("[")+1,-1))&&(so=so.slice(0,vo.index)+"["+vi("a",vo[0].length-2)+"]"+so.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(vo=this.tokenizer.rules.inline.blockSkip.exec(so))!=null;)so=so.slice(0,vo.index)+"["+vi("a",vo[0].length-2)+"]"+so.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(vo=this.tokenizer.rules.inline.escapedEmSt.exec(so))!=null;)so=so.slice(0,vo.index+vo[0].length-2)+"++"+so.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;Jn;)if(Eo||(Xo=""),Eo=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ro){return(di=ro.call({lexer:mi},Jn,ni))?(Jn=Jn.substring(di.raw.length),ni.push(di),!0):!1}))){if(di=this.tokenizer.escape(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.tag(Jn)){Jn=Jn.substring(di.raw.length),ki=ni[ni.length-1],ki&&di.type==="text"&&ki.type==="text"?(ki.raw+=di.raw,ki.text+=di.text):ni.push(di);continue}if(di=this.tokenizer.link(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.reflink(Jn,this.tokens.links)){Jn=Jn.substring(di.raw.length),ki=ni[ni.length-1],ki&&di.type==="text"&&ki.type==="text"?(ki.raw+=di.raw,ki.text+=di.text):ni.push(di);continue}if(di=this.tokenizer.emStrong(Jn,so,Xo)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.codespan(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.br(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.del(Jn)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(di=this.tokenizer.autolink(Jn,Pi)){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(!this.state.inLink&&(di=this.tokenizer.url(Jn,Pi))){Jn=Jn.substring(di.raw.length),ni.push(di);continue}if(ao=Jn,this.options.extensions&&this.options.extensions.startInline&&function(){var ro=1/0,ea=Jn.slice(1),la=void 0;mi.options.extensions.startInline.forEach(function(rs){la=rs.call({lexer:this},ea),typeof la=="number"&&la>=0&&(ro=Math.min(ro,la))}),ro<1/0&&ro>=0&&(ao=Jn.substring(0,ro+1))}(),di=this.tokenizer.inlineText(ao,Ri)){Jn=Jn.substring(di.raw.length),di.raw.slice(-1)!=="_"&&(Xo=di.raw.slice(-1)),Eo=!0,ki=ni[ni.length-1],ki&&ki.type==="text"?(ki.raw+=di.raw,ki.text+=di.text):ni.push(di);continue}if(Jn){var Po="Infinite loop on byte: "+Jn.charCodeAt(0);if(this.options.silent){console.error(Po);break}else throw new Error(Po)}}return ni},Dr(xi,null,[{key:"rules",get:function(){return{block:Vn,inline:si}}}]),xi}(),zi=function(){function xi(_i){this.options=_i||_r.defaults}var ci=xi.prototype;return ci.code=function(Jn,ni,mi){var di=(ni||"").match(/\S*/)[0];if(this.options.highlight){var ki=this.options.highlight(Jn,di);ki!=null&&ki!==Jn&&(mi=!0,Jn=ki)}return Jn=Jn.replace(/\n$/,"")+`
`,di?'<pre><code class="'+this.options.langPrefix+cn(di)+'">'+(mi?Jn:cn(Jn,!0))+`</code></pre>
`:"<pre><code>"+(mi?Jn:cn(Jn,!0))+`</code></pre>
`},ci.blockquote=function(Jn){return`<blockquote>
`+Jn+`</blockquote>
`},ci.html=function(Jn){return Jn},ci.heading=function(Jn,ni,mi,di){if(this.options.headerIds){var ki=this.options.headerPrefix+di.slug(mi);return"<h"+ni+' id="'+ki+'">'+Jn+"</h"+ni+`>
`}return"<h"+ni+">"+Jn+"</h"+ni+`>
`},ci.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ci.list=function(Jn,ni,mi){var di=ni?"ol":"ul",ki=ni&&mi!==1?' start="'+mi+'"':"";return"<"+di+ki+`>
`+Jn+"</"+di+`>
`},ci.listitem=function(Jn){return"<li>"+Jn+`</li>
`},ci.checkbox=function(Jn){return"<input "+(Jn?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ci.paragraph=function(Jn){return"<p>"+Jn+`</p>
`},ci.table=function(Jn,ni){return ni&&(ni="<tbody>"+ni+"</tbody>"),`<table>
<thead>
`+Jn+`</thead>
`+ni+`</table>
`},ci.tablerow=function(Jn){return`<tr>
`+Jn+`</tr>
`},ci.tablecell=function(Jn,ni){var mi=ni.header?"th":"td",di=ni.align?"<"+mi+' align="'+ni.align+'">':"<"+mi+">";return di+Jn+("</"+mi+`>
`)},ci.strong=function(Jn){return"<strong>"+Jn+"</strong>"},ci.em=function(Jn){return"<em>"+Jn+"</em>"},ci.codespan=function(Jn){return"<code>"+Jn+"</code>"},ci.br=function(){return this.options.xhtml?"<br/>":"<br>"},ci.del=function(Jn){return"<del>"+Jn+"</del>"},ci.link=function(Jn,ni,mi){if(Jn=wn(this.options.sanitize,this.options.baseUrl,Jn),Jn===null)return mi;var di='<a href="'+Jn+'"';return ni&&(di+=' title="'+ni+'"'),di+=">"+mi+"</a>",di},ci.image=function(Jn,ni,mi){if(Jn=wn(this.options.sanitize,this.options.baseUrl,Jn),Jn===null)return mi;var di='<img src="'+Jn+'" alt="'+mi+'"';return ni&&(di+=' title="'+ni+'"'),di+=this.options.xhtml?"/>":">",di},ci.text=function(Jn){return Jn},xi}(),oo=function(){function xi(){}var ci=xi.prototype;return ci.strong=function(Jn){return Jn},ci.em=function(Jn){return Jn},ci.codespan=function(Jn){return Jn},ci.del=function(Jn){return Jn},ci.html=function(Jn){return Jn},ci.text=function(Jn){return Jn},ci.link=function(Jn,ni,mi){return""+mi},ci.image=function(Jn,ni,mi){return""+mi},ci.br=function(){return""},xi}(),lo=function(){function xi(){this.seen={}}var ci=xi.prototype;return ci.serialize=function(Jn){return Jn.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ci.getNextSafeSlug=function(Jn,ni){var mi=Jn,di=0;if(this.seen.hasOwnProperty(mi)){di=this.seen[Jn];do di++,mi=Jn+"-"+di;while(this.seen.hasOwnProperty(mi))}return ni||(this.seen[Jn]=di,this.seen[mi]=0),mi},ci.slug=function(Jn,ni){ni===void 0&&(ni={});var mi=this.serialize(Jn);return this.getNextSafeSlug(mi,ni.dryrun)},xi}(),io=function(){function xi(_i){this.options=_i||_r.defaults,this.options.renderer=this.options.renderer||new zi,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new oo,this.slugger=new lo}xi.parse=function(Jn,ni){var mi=new xi(ni);return mi.parse(Jn)},xi.parseInline=function(Jn,ni){var mi=new xi(ni);return mi.parseInline(Jn)};var ci=xi.prototype;return ci.parse=function(Jn,ni){ni===void 0&&(ni=!0);var mi="",di,ki,ao,so,vo,Eo,Xo,Hi,Po,ro,ea,la,rs,ca,es,Pa,bs,qs,il,us=Jn.length;for(di=0;di<us;di++){if(ro=Jn[di],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ro.type]&&(il=this.options.extensions.renderers[ro.type].call({parser:this},ro),il!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ro.type))){mi+=il||"";continue}switch(ro.type){case"space":continue;case"hr":{mi+=this.renderer.hr();continue}case"heading":{mi+=this.renderer.heading(this.parseInline(ro.tokens),ro.depth,mn(this.parseInline(ro.tokens,this.textRenderer)),this.slugger);continue}case"code":{mi+=this.renderer.code(ro.text,ro.lang,ro.escaped);continue}case"table":{for(Hi="",Xo="",so=ro.header.length,ki=0;ki<so;ki++)Xo+=this.renderer.tablecell(this.parseInline(ro.header[ki].tokens),{header:!0,align:ro.align[ki]});for(Hi+=this.renderer.tablerow(Xo),Po="",so=ro.rows.length,ki=0;ki<so;ki++){for(Eo=ro.rows[ki],Xo="",vo=Eo.length,ao=0;ao<vo;ao++)Xo+=this.renderer.tablecell(this.parseInline(Eo[ao].tokens),{header:!1,align:ro.align[ao]});Po+=this.renderer.tablerow(Xo)}mi+=this.renderer.table(Hi,Po);continue}case"blockquote":{Po=this.parse(ro.tokens),mi+=this.renderer.blockquote(Po);continue}case"list":{for(ea=ro.ordered,la=ro.start,rs=ro.loose,so=ro.items.length,Po="",ki=0;ki<so;ki++)es=ro.items[ki],Pa=es.checked,bs=es.task,ca="",es.task&&(qs=this.renderer.checkbox(Pa),rs?es.tokens.length>0&&es.tokens[0].type==="paragraph"?(es.tokens[0].text=qs+" "+es.tokens[0].text,es.tokens[0].tokens&&es.tokens[0].tokens.length>0&&es.tokens[0].tokens[0].type==="text"&&(es.tokens[0].tokens[0].text=qs+" "+es.tokens[0].tokens[0].text)):es.tokens.unshift({type:"text",text:qs}):ca+=qs),ca+=this.parse(es.tokens,rs),Po+=this.renderer.listitem(ca,bs,Pa);mi+=this.renderer.list(Po,ea,la);continue}case"html":{mi+=this.renderer.html(ro.text);continue}case"paragraph":{mi+=this.renderer.paragraph(this.parseInline(ro.tokens));continue}case"text":{for(Po=ro.tokens?this.parseInline(ro.tokens):ro.text;di+1<us&&Jn[di+1].type==="text";)ro=Jn[++di],Po+=`
`+(ro.tokens?this.parseInline(ro.tokens):ro.text);mi+=ni?this.renderer.paragraph(Po):Po;continue}default:{var Vl='Token with "'+ro.type+'" type was not found.';if(this.options.silent){console.error(Vl);return}else throw new Error(Vl)}}}return mi},ci.parseInline=function(Jn,ni){ni=ni||this.renderer;var mi="",di,ki,ao,so=Jn.length;for(di=0;di<so;di++){if(ki=Jn[di],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ki.type]&&(ao=this.options.extensions.renderers[ki.type].call({parser:this},ki),ao!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ki.type))){mi+=ao||"";continue}switch(ki.type){case"escape":{mi+=ni.text(ki.text);break}case"html":{mi+=ni.html(ki.text);break}case"link":{mi+=ni.link(ki.href,ki.title,this.parseInline(ki.tokens,ni));break}case"image":{mi+=ni.image(ki.href,ki.title,ki.text);break}case"strong":{mi+=ni.strong(this.parseInline(ki.tokens,ni));break}case"em":{mi+=ni.em(this.parseInline(ki.tokens,ni));break}case"codespan":{mi+=ni.codespan(ki.text);break}case"br":{mi+=ni.br();break}case"del":{mi+=ni.del(this.parseInline(ki.tokens,ni));break}case"text":{mi+=ni.text(ki.text);break}default:{var vo='Token with "'+ki.type+'" type was not found.';if(this.options.silent){console.error(vo);return}else throw new Error(vo)}}}return mi},xi}(),Wi=function(){function xi(_i){this.options=_i||_r.defaults}var ci=xi.prototype;return ci.preprocess=function(Jn){return Jn},ci.postprocess=function(Jn){return Jn},xi}();Wi.passThroughHooks=new Set(["preprocess","postprocess"]);function Bo(xi,ci,_i){return function(Jn){if(Jn.message+=`
Please report this to https://github.com/markedjs/marked.`,xi){var ni="<p>An error occurred:</p><pre>"+cn(Jn.message+"",!0)+"</pre>";if(ci)return Promise.resolve(ni);if(_i){_i(null,ni);return}return ni}if(ci)return Promise.reject(Jn);if(_i){_i(Jn);return}throw Jn}}function Mo(xi,ci){return function(_i,Jn,ni){typeof Jn=="function"&&(ni=Jn,Jn=null);var mi=Mr({},Jn);Jn=Mr({},Zi.defaults,mi);var di=Bo(Jn.silent,Jn.async,ni);if(typeof _i>"u"||_i===null)return di(new Error("marked(): input parameter is undefined or null"));if(typeof _i!="string")return di(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(_i)+", string expected"));if(ri(Jn),Jn.hooks&&(Jn.hooks.options=Jn),ni){var ki=Jn.highlight,ao;try{Jn.hooks&&(_i=Jn.hooks.preprocess(_i)),ao=xi(_i,Jn)}catch(Hi){return di(Hi)}var so=function(Po){var ro;if(!Po)try{Jn.walkTokens&&Zi.walkTokens(ao,Jn.walkTokens),ro=ci(ao,Jn),Jn.hooks&&(ro=Jn.hooks.postprocess(ro))}catch(ea){Po=ea}return Jn.highlight=ki,Po?di(Po):ni(null,ro)};if(!ki||ki.length<3||(delete Jn.highlight,!ao.length))return so();var vo=0;Zi.walkTokens(ao,function(Hi){Hi.type==="code"&&(vo++,setTimeout(function(){ki(Hi.text,Hi.lang,function(Po,ro){if(Po)return so(Po);ro!=null&&ro!==Hi.text&&(Hi.text=ro,Hi.escaped=!0),vo--,vo===0&&so()})},0))}),vo===0&&so();return}if(Jn.async)return Promise.resolve(Jn.hooks?Jn.hooks.preprocess(_i):_i).then(function(Hi){return xi(Hi,Jn)}).then(function(Hi){return Jn.walkTokens?Promise.all(Zi.walkTokens(Hi,Jn.walkTokens)).then(function(){return Hi}):Hi}).then(function(Hi){return ci(Hi,Jn)}).then(function(Hi){return Jn.hooks?Jn.hooks.postprocess(Hi):Hi}).catch(di);try{Jn.hooks&&(_i=Jn.hooks.preprocess(_i));var Eo=xi(_i,Jn);Jn.walkTokens&&Zi.walkTokens(Eo,Jn.walkTokens);var Xo=ci(Eo,Jn);return Jn.hooks&&(Xo=Jn.hooks.postprocess(Xo)),Xo}catch(Hi){return di(Hi)}}}function Zi(xi,ci,_i){return Mo(Fi.lex,io.parse)(xi,ci,_i)}Zi.options=Zi.setOptions=function(xi){return Zi.defaults=Mr({},Zi.defaults,xi),Wr(Zi.defaults),Zi},Zi.getDefaults=Gr,Zi.defaults=_r.defaults,Zi.use=function(){for(var xi=Zi.defaults.extensions||{renderers:{},childTokens:{}},ci=arguments.length,_i=new Array(ci),Jn=0;Jn<ci;Jn++)_i[Jn]=arguments[Jn];_i.forEach(function(ni){var mi=Mr({},ni);if(mi.async=Zi.defaults.async||mi.async||!1,ni.extensions&&(ni.extensions.forEach(function(ki){if(!ki.name)throw new Error("extension name required");if(ki.renderer){var ao=xi.renderers[ki.name];ao?xi.renderers[ki.name]=function(){for(var so=arguments.length,vo=new Array(so),Eo=0;Eo<so;Eo++)vo[Eo]=arguments[Eo];var Xo=ki.renderer.apply(this,vo);return Xo===!1&&(Xo=ao.apply(this,vo)),Xo}:xi.renderers[ki.name]=ki.renderer}if(ki.tokenizer){if(!ki.level||ki.level!=="block"&&ki.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");xi[ki.level]?xi[ki.level].unshift(ki.tokenizer):xi[ki.level]=[ki.tokenizer],ki.start&&(ki.level==="block"?xi.startBlock?xi.startBlock.push(ki.start):xi.startBlock=[ki.start]:ki.level==="inline"&&(xi.startInline?xi.startInline.push(ki.start):xi.startInline=[ki.start]))}ki.childTokens&&(xi.childTokens[ki.name]=ki.childTokens)}),mi.extensions=xi),ni.renderer&&function(){var ki=Zi.defaults.renderer||new zi,ao=function(Eo){var Xo=ki[Eo];ki[Eo]=function(){for(var Hi=arguments.length,Po=new Array(Hi),ro=0;ro<Hi;ro++)Po[ro]=arguments[ro];var ea=ni.renderer[Eo].apply(ki,Po);return ea===!1&&(ea=Xo.apply(ki,Po)),ea}};for(var so in ni.renderer)ao(so);mi.renderer=ki}(),ni.tokenizer&&function(){var ki=Zi.defaults.tokenizer||new Yn,ao=function(Eo){var Xo=ki[Eo];ki[Eo]=function(){for(var Hi=arguments.length,Po=new Array(Hi),ro=0;ro<Hi;ro++)Po[ro]=arguments[ro];var ea=ni.tokenizer[Eo].apply(ki,Po);return ea===!1&&(ea=Xo.apply(ki,Po)),ea}};for(var so in ni.tokenizer)ao(so);mi.tokenizer=ki}(),ni.hooks&&function(){var ki=Zi.defaults.hooks||new Wi,ao=function(Eo){var Xo=ki[Eo];Wi.passThroughHooks.has(Eo)?ki[Eo]=function(Hi){if(Zi.defaults.async)return Promise.resolve(ni.hooks[Eo].call(ki,Hi)).then(function(ro){return Xo.call(ki,ro)});var Po=ni.hooks[Eo].call(ki,Hi);return Xo.call(ki,Po)}:ki[Eo]=function(){for(var Hi=arguments.length,Po=new Array(Hi),ro=0;ro<Hi;ro++)Po[ro]=arguments[ro];var ea=ni.hooks[Eo].apply(ki,Po);return ea===!1&&(ea=Xo.apply(ki,Po)),ea}};for(var so in ni.hooks)ao(so);mi.hooks=ki}(),ni.walkTokens){var di=Zi.defaults.walkTokens;mi.walkTokens=function(ki){var ao=[];return ao.push(ni.walkTokens.call(this,ki)),di&&(ao=ao.concat(di.call(this,ki))),ao}}Zi.setOptions(mi)})},Zi.walkTokens=function(xi,ci){for(var _i=[],Jn=function(){var ki=mi.value;switch(_i=_i.concat(ci.call(Zi,ki)),ki.type){case"table":{for(var ao=zr(ki.header),so;!(so=ao()).done;){var vo=so.value;_i=_i.concat(Zi.walkTokens(vo.tokens,ci))}for(var Eo=zr(ki.rows),Xo;!(Xo=Eo()).done;)for(var Hi=Xo.value,Po=zr(Hi),ro;!(ro=Po()).done;){var ea=ro.value;_i=_i.concat(Zi.walkTokens(ea.tokens,ci))}break}case"list":{_i=_i.concat(Zi.walkTokens(ki.items,ci));break}default:Zi.defaults.extensions&&Zi.defaults.extensions.childTokens&&Zi.defaults.extensions.childTokens[ki.type]?Zi.defaults.extensions.childTokens[ki.type].forEach(function(la){_i=_i.concat(Zi.walkTokens(ki[la],ci))}):ki.tokens&&(_i=_i.concat(Zi.walkTokens(ki.tokens,ci)))}},ni=zr(xi),mi;!(mi=ni()).done;)Jn();return _i},Zi.parseInline=Mo(Fi.lexInline,io.parseInline),Zi.Parser=io,Zi.parser=io.parse,Zi.Renderer=zi,Zi.TextRenderer=oo,Zi.Lexer=Fi,Zi.lexer=Fi.lex,Zi.Tokenizer=Yn,Zi.Slugger=lo,Zi.Hooks=Wi,Zi.parse=Zi;var Zo=Zi.options,Wo=Zi.setOptions,Ao=Zi.use,ba=Zi.walkTokens,Va=Zi.parseInline,Ia=Zi,Ua=io.parse,ka=Fi.lex;_r.Hooks=Wi,_r.Lexer=Fi,_r.Parser=io,_r.Renderer=zi,_r.Slugger=lo,_r.TextRenderer=oo,_r.Tokenizer=Yn,_r.getDefaults=Gr,_r.lexer=ka,_r.marked=Zi,_r.options=Zo,_r.parse=Ia,_r.parseInline=Va,_r.parser=Ua,_r.setOptions=Wo,_r.use=Ao,_r.walkTokens=ba})(marked$1);var CodeMirror=codemirrorExports,CodeMirrorSpellChecker=spellChecker,marked=marked$1.marked,isMac=/Mac/.test(navigator.platform),anchorToExternalRegex=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),bindings={toggleBold,toggleItalic,drawLink,toggleHeadingSmaller,toggleHeadingBigger,drawImage,toggleBlockquote,toggleOrderedList,toggleUnorderedList,toggleCodeBlock,togglePreview,toggleStrikethrough,toggleHeading1,toggleHeading2,toggleHeading3,toggleHeading4,toggleHeading5,toggleHeading6,cleanBlock,drawTable,drawHorizontalRule,undo,redo,toggleSideBySide,toggleFullScreen},shortcuts={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},getBindingName=function(_r){for(var Be in bindings)if(bindings[Be]===_r)return Be;return null},isMobile=function(){var _r=!1;return function(Be){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(Be)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(Be.substr(0,4)))&&(_r=!0)}(navigator.userAgent||navigator.vendor||window.opera),_r};function addAnchorTargetBlank(_r){for(var Be;(Be=anchorToExternalRegex.exec(_r))!==null;){var Dr=Be[0];if(Dr.indexOf("target=")===-1){var Mr=Dr.replace(/>$/,' target="_blank">');_r=_r.replace(Dr,Mr)}}return _r}function removeListStyleWhenCheckbox(_r){for(var Be=new DOMParser,Dr=Be.parseFromString(_r,"text/html"),Mr=Dr.getElementsByTagName("li"),$r=0;$r<Mr.length;$r++)for(var Br=Mr[$r],zr=0;zr<Br.children.length;zr++){var Vr=Br.children[zr];Vr instanceof HTMLInputElement&&Vr.type==="checkbox"&&(Br.style.marginLeft="-1.5em",Br.style.listStyleType="none")}return Dr.documentElement.innerHTML}function fixShortcut(_r){return isMac?_r=_r.replace("Ctrl","Cmd"):_r=_r.replace("Cmd","Ctrl"),_r}function createToolbarDropdown(_r,Be,Dr,Mr){var $r=createToolbarButton(_r,!1,Be,Dr,"button",Mr);$r.classList.add("easymde-dropdown"),$r.onclick=function(){$r.focus()};var Br=document.createElement("div");Br.className="easymde-dropdown-content";for(var zr=0;zr<_r.children.length;zr++){var Vr=_r.children[zr],jr;typeof Vr=="string"&&Vr in toolbarBuiltInButtons?jr=createToolbarButton(toolbarBuiltInButtons[Vr],!0,Be,Dr,"button",Mr):jr=createToolbarButton(Vr,!0,Be,Dr,"button",Mr),jr.addEventListener("click",function(Gr){Gr.stopPropagation()},!1),Br.appendChild(jr)}return $r.appendChild(Br),$r}function createToolbarButton(_r,Be,Dr,Mr,$r,Br){_r=_r||{};var zr=document.createElement($r);if(_r.attributes)for(var Vr in _r.attributes)Object.prototype.hasOwnProperty.call(_r.attributes,Vr)&&zr.setAttribute(Vr,_r.attributes[Vr]);var jr=Br.options.toolbarButtonClassPrefix?Br.options.toolbarButtonClassPrefix+"-":"";zr.className=jr+_r.name,zr.setAttribute("type",$r),Dr=Dr??!0,_r.text&&(zr.innerText=_r.text),_r.name&&_r.name in Mr&&(bindings[_r.name]=_r.action),_r.title&&Dr&&(zr.title=createTooltip(_r.title,_r.action,Mr),isMac&&(zr.title=zr.title.replace("Ctrl","â"),zr.title=zr.title.replace("Alt","â¥"))),_r.title&&zr.setAttribute("aria-label",_r.title),_r.noDisable&&zr.classList.add("no-disable"),_r.noMobile&&zr.classList.add("no-mobile");var Gr=[];typeof _r.className<"u"&&(Gr=_r.className.split(" "));for(var Wr=[],Kr=0;Kr<Gr.length;Kr++){var Zr=Gr[Kr];Zr.match(/^fa([srlb]|(-[\w-]*)|$)/)?Wr.push(Zr):zr.classList.add(Zr)}if(zr.tabIndex=-1,Wr.length>0){for(var Jr=document.createElement("i"),rn=0;rn<Wr.length;rn++){var nn=Wr[rn];Jr.classList.add(nn)}zr.appendChild(Jr)}return typeof _r.icon<"u"&&(zr.innerHTML=_r.icon),_r.action&&Be&&(typeof _r.action=="function"?zr.onclick=function(ln){ln.preventDefault(),_r.action(Br)}:typeof _r.action=="string"&&(zr.onclick=function(ln){ln.preventDefault(),window.open(_r.action,"_blank")})),zr}function createSep(){var _r=document.createElement("i");return _r.className="separator",_r.innerHTML="|",_r}function createTooltip(_r,Be,Dr){var Mr,$r=_r;return Be&&(Mr=getBindingName(Be),Dr[Mr]&&($r+=" ("+fixShortcut(Dr[Mr])+")")),$r}function getState(_r,Be){Be=Be||_r.getCursor("start");var Dr=_r.getTokenAt(Be);if(!Dr.type)return{};for(var Mr=Dr.type.split(" "),$r={},Br,zr,Vr=0;Vr<Mr.length;Vr++)Br=Mr[Vr],Br==="strong"?$r.bold=!0:Br==="variable-2"?(zr=_r.getLine(Be.line),/^\s*\d+\.\s/.test(zr)?$r["ordered-list"]=!0:$r["unordered-list"]=!0):Br==="atom"?$r.quote=!0:Br==="em"?$r.italic=!0:Br==="quote"?$r.quote=!0:Br==="strikethrough"?$r.strikethrough=!0:Br==="comment"?$r.code=!0:Br==="link"&&!$r.image?$r.link=!0:Br==="image"?$r.image=!0:Br.match(/^header(-[1-6])?$/)&&($r[Br.replace("header","heading")]=!0);return $r}var saved_overflow="";function toggleFullScreen(_r){var Be=_r.codemirror;Be.setOption("fullScreen",!Be.getOption("fullScreen")),Be.getOption("fullScreen")?(saved_overflow=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=saved_overflow;var Dr=Be.getWrapperElement(),Mr=Dr.nextSibling;if(Mr.classList.contains("editor-preview-active-side"))if(_r.options.sideBySideFullscreen===!1){var $r=Dr.parentNode;Be.getOption("fullScreen")?$r.classList.remove("sided--no-fullscreen"):$r.classList.add("sided--no-fullscreen")}else toggleSideBySide(_r);if(_r.options.onToggleFullScreen&&_r.options.onToggleFullScreen(Be.getOption("fullScreen")||!1),typeof _r.options.maxHeight<"u"&&(Be.getOption("fullScreen")?(Be.getScrollerElement().style.removeProperty("height"),Mr.style.removeProperty("height")):(Be.getScrollerElement().style.height=_r.options.maxHeight,_r.setPreviewMaxHeight())),_r.toolbar_div.classList.toggle("fullscreen"),_r.toolbarElements&&_r.toolbarElements.fullscreen){var Br=_r.toolbarElements.fullscreen;Br.classList.toggle("active")}}function toggleBold(_r){_toggleBlock(_r,"bold",_r.options.blockStyles.bold)}function toggleItalic(_r){_toggleBlock(_r,"italic",_r.options.blockStyles.italic)}function toggleStrikethrough(_r){_toggleBlock(_r,"strikethrough","~~")}function toggleCodeBlock(_r){var Be=_r.options.blockStyles.code;function Dr(jn){if(typeof jn!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof jn+": "+jn;return jn.styles&&jn.styles[2]&&jn.styles[2].indexOf("formatting-code-block")!==-1}function Mr(jn){return jn.state.base.base||jn.state.base}function $r(jn,Bn,Gn,ei,ri){Gn=Gn||jn.getLineHandle(Bn),ei=ei||jn.getTokenAt({line:Bn,ch:1}),ri=ri||!!Gn.text&&jn.getTokenAt({line:Bn,ch:Gn.text.length-1});var vi=ei.type?ei.type.split(" "):[];return ri&&Mr(ri).indentedCode?"indented":vi.indexOf("comment")===-1?!1:Mr(ei).fencedChars||Mr(ri).fencedChars||Dr(Gn)?"fenced":"single"}function Br(jn,Bn,Gn,ei){var ri=Bn.line+1,vi=Gn.line+1,wi=Bn.line!==Gn.line,Ni=ei+`
`,Yn=`
`+ei;wi&&vi++,wi&&Gn.ch===0&&(Yn=ei+`
`,vi--),_replaceSelection(jn,!1,[Ni,Yn]),jn.setSelection({line:ri,ch:0},{line:vi,ch:0})}var zr=_r.codemirror,Vr=zr.getCursor("start"),jr=zr.getCursor("end"),Gr=zr.getTokenAt({line:Vr.line,ch:Vr.ch||1}),Wr=zr.getLineHandle(Vr.line),Kr=$r(zr,Vr.line,Wr,Gr),Zr,Jr,rn;if(Kr==="single"){var nn=Wr.text.slice(0,Vr.ch).replace("`",""),ln=Wr.text.slice(Vr.ch).replace("`","");zr.replaceRange(nn+ln,{line:Vr.line,ch:0},{line:Vr.line,ch:99999999999999}),Vr.ch--,Vr!==jr&&jr.ch--,zr.setSelection(Vr,jr),zr.focus()}else if(Kr==="fenced")if(Vr.line!==jr.line||Vr.ch!==jr.ch){for(Zr=Vr.line;Zr>=0&&(Wr=zr.getLineHandle(Zr),!Dr(Wr));Zr--);var cn=zr.getTokenAt({line:Zr,ch:1}),hn=Mr(cn).fencedChars,mn,bn,An,vn;Dr(zr.getLineHandle(Vr.line))?(mn="",bn=Vr.line):Dr(zr.getLineHandle(Vr.line-1))?(mn="",bn=Vr.line-1):(mn=hn+`
`,bn=Vr.line),Dr(zr.getLineHandle(jr.line))?(An="",vn=jr.line,jr.ch===0&&(vn+=1)):jr.ch!==0&&Dr(zr.getLineHandle(jr.line+1))?(An="",vn=jr.line+1):(An=hn+`
`,vn=jr.line+1),jr.ch===0&&(vn-=1),zr.operation(function(){zr.replaceRange(An,{line:vn,ch:0},{line:vn+(An?0:1),ch:0}),zr.replaceRange(mn,{line:bn,ch:0},{line:bn+(mn?0:1),ch:0})}),zr.setSelection({line:bn+(mn?1:0),ch:0},{line:vn+(mn?1:-1),ch:0}),zr.focus()}else{var dn=Vr.line;if(Dr(zr.getLineHandle(Vr.line))&&($r(zr,Vr.line+1)==="fenced"?(Zr=Vr.line,dn=Vr.line+1):(Jr=Vr.line,dn=Vr.line-1)),Zr===void 0)for(Zr=dn;Zr>=0&&(Wr=zr.getLineHandle(Zr),!Dr(Wr));Zr--);if(Jr===void 0)for(rn=zr.lineCount(),Jr=dn;Jr<rn&&(Wr=zr.getLineHandle(Jr),!Dr(Wr));Jr++);zr.operation(function(){zr.replaceRange("",{line:Zr,ch:0},{line:Zr+1,ch:0}),zr.replaceRange("",{line:Jr-1,ch:0},{line:Jr,ch:0})}),zr.focus()}else if(Kr==="indented"){if(Vr.line!==jr.line||Vr.ch!==jr.ch)Zr=Vr.line,Jr=jr.line,jr.ch===0&&Jr--;else{for(Zr=Vr.line;Zr>=0;Zr--)if(Wr=zr.getLineHandle(Zr),!Wr.text.match(/^\s*$/)&&$r(zr,Zr,Wr)!=="indented"){Zr+=1;break}for(rn=zr.lineCount(),Jr=Vr.line;Jr<rn;Jr++)if(Wr=zr.getLineHandle(Jr),!Wr.text.match(/^\s*$/)&&$r(zr,Jr,Wr)!=="indented"){Jr-=1;break}}var wn=zr.getLineHandle(Jr+1),xn=wn&&zr.getTokenAt({line:Jr+1,ch:wn.text.length-1}),Mn=xn&&Mr(xn).indentedCode;Mn&&zr.replaceRange(`
`,{line:Jr+1,ch:0});for(var In=Zr;In<=Jr;In++)zr.indentLine(In,"subtract");zr.focus()}else{var Hn=Vr.line===jr.line&&Vr.ch===jr.ch&&Vr.ch===0,$n=Vr.line!==jr.line;Hn||$n?Br(zr,Vr,jr,Be):_replaceSelection(zr,!1,["`","`"])}}function toggleBlockquote(_r){_toggleLine(_r.codemirror,"quote")}function toggleHeadingSmaller(_r){_toggleHeading(_r.codemirror,"smaller")}function toggleHeadingBigger(_r){_toggleHeading(_r.codemirror,"bigger")}function toggleHeading1(_r){_toggleHeading(_r.codemirror,void 0,1)}function toggleHeading2(_r){_toggleHeading(_r.codemirror,void 0,2)}function toggleHeading3(_r){_toggleHeading(_r.codemirror,void 0,3)}function toggleHeading4(_r){_toggleHeading(_r.codemirror,void 0,4)}function toggleHeading5(_r){_toggleHeading(_r.codemirror,void 0,5)}function toggleHeading6(_r){_toggleHeading(_r.codemirror,void 0,6)}function toggleUnorderedList(_r){var Be=_r.codemirror,Dr="*";["-","+","*"].includes(_r.options.unorderedListStyle)&&(Dr=_r.options.unorderedListStyle),_toggleLine(Be,"unordered-list",Dr)}function toggleOrderedList(_r){_toggleLine(_r.codemirror,"ordered-list")}function cleanBlock(_r){_cleanBlock(_r.codemirror)}function drawLink(_r){var Be=_r.options,Dr="https://";if(Be.promptURLs){var Mr=prompt(Be.promptTexts.link,Dr);if(!Mr)return!1;Dr=escapePromptURL(Mr)}_toggleLink(_r,"link",Be.insertTexts.link,Dr)}function drawImage(_r){var Be=_r.options,Dr="https://";if(Be.promptURLs){var Mr=prompt(Be.promptTexts.image,Dr);if(!Mr)return!1;Dr=escapePromptURL(Mr)}_toggleLink(_r,"image",Be.insertTexts.image,Dr)}function escapePromptURL(_r){return encodeURI(_r).replace(/([\\()])/g,"\\$1")}function drawUploadedImage(_r){_r.openBrowseFileWindow()}function afterImageUploaded(_r,Be){var Dr=_r.codemirror,Mr=getState(Dr),$r=_r.options,Br=Be.substr(Be.lastIndexOf("/")+1),zr=Br.substring(Br.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(zr))_replaceSelection(Dr,Mr.image,$r.insertTexts.uploadedImage,Be);else{var Vr=$r.insertTexts.link;Vr[0]="["+Br,_replaceSelection(Dr,Mr.link,Vr,Be)}_r.updateStatusBar("upload-image",_r.options.imageTexts.sbOnUploaded.replace("#image_name#",Br)),setTimeout(function(){_r.updateStatusBar("upload-image",_r.options.imageTexts.sbInit)},1e3)}function drawTable(_r){var Be=_r.codemirror,Dr=getState(Be),Mr=_r.options;_replaceSelection(Be,Dr.table,Mr.insertTexts.table)}function drawHorizontalRule(_r){var Be=_r.codemirror,Dr=getState(Be),Mr=_r.options;_replaceSelection(Be,Dr.image,Mr.insertTexts.horizontalRule)}function undo(_r){var Be=_r.codemirror;Be.undo(),Be.focus()}function redo(_r){var Be=_r.codemirror;Be.redo(),Be.focus()}function toggleSideBySide(_r){var Be=_r.codemirror,Dr=Be.getWrapperElement(),Mr=Dr.nextSibling,$r=_r.toolbarElements&&_r.toolbarElements["side-by-side"],Br=!1,zr=Dr.parentNode;Mr.classList.contains("editor-preview-active-side")?(_r.options.sideBySideFullscreen===!1&&zr.classList.remove("sided--no-fullscreen"),Mr.classList.remove("editor-preview-active-side"),$r&&$r.classList.remove("active"),Dr.classList.remove("CodeMirror-sided")):(setTimeout(function(){Be.getOption("fullScreen")||(_r.options.sideBySideFullscreen===!1?zr.classList.add("sided--no-fullscreen"):toggleFullScreen(_r)),Mr.classList.add("editor-preview-active-side")},1),$r&&$r.classList.add("active"),Dr.classList.add("CodeMirror-sided"),Br=!0);var Vr=Dr.lastChild;if(Vr.classList.contains("editor-preview-active")){Vr.classList.remove("editor-preview-active");var jr=_r.toolbarElements.preview,Gr=_r.toolbar_div;jr.classList.remove("active"),Gr.classList.remove("disabled-for-preview")}var Wr=function(){var Zr=_r.options.previewRender(_r.value(),Mr);Zr!=null&&(Mr.innerHTML=Zr)};if(Be.sideBySideRenderingFunction||(Be.sideBySideRenderingFunction=Wr),Br){var Kr=_r.options.previewRender(_r.value(),Mr);Kr!=null&&(Mr.innerHTML=Kr),Be.on("update",Be.sideBySideRenderingFunction)}else Be.off("update",Be.sideBySideRenderingFunction);Be.refresh()}function togglePreview(_r){var Be=_r.codemirror,Dr=Be.getWrapperElement(),Mr=_r.toolbar_div,$r=_r.options.toolbar?_r.toolbarElements.preview:!1,Br=Dr.lastChild,zr=Be.getWrapperElement().nextSibling;if(zr.classList.contains("editor-preview-active-side")&&toggleSideBySide(_r),!Br||!Br.classList.contains("editor-preview-full")){if(Br=document.createElement("div"),Br.className="editor-preview-full",_r.options.previewClass)if(Array.isArray(_r.options.previewClass))for(var Vr=0;Vr<_r.options.previewClass.length;Vr++)Br.classList.add(_r.options.previewClass[Vr]);else typeof _r.options.previewClass=="string"&&Br.classList.add(_r.options.previewClass);Dr.appendChild(Br)}Br.classList.contains("editor-preview-active")?(Br.classList.remove("editor-preview-active"),$r&&($r.classList.remove("active"),Mr.classList.remove("disabled-for-preview"))):(setTimeout(function(){Br.classList.add("editor-preview-active")},1),$r&&($r.classList.add("active"),Mr.classList.add("disabled-for-preview")));var jr=_r.options.previewRender(_r.value(),Br);jr!==null&&(Br.innerHTML=jr)}function _replaceSelection(_r,Be,Dr,Mr){if(!_r.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var $r,Br=Dr[0],zr=Dr[1],Vr={},jr={};Object.assign(Vr,_r.getCursor("start")),Object.assign(jr,_r.getCursor("end")),Mr&&(Br=Br.replace("#url#",Mr),zr=zr.replace("#url#",Mr)),Be?($r=_r.getLine(Vr.line),Br=$r.slice(0,Vr.ch),zr=$r.slice(Vr.ch),_r.replaceRange(Br+zr,{line:Vr.line,ch:0})):($r=_r.getSelection(),_r.replaceSelection(Br+$r+zr),Vr.ch+=Br.length,Vr!==jr&&(jr.ch+=Br.length)),_r.setSelection(Vr,jr),_r.focus()}}function _toggleHeading(_r,Be,Dr){if(!_r.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var Mr=_r.getCursor("start"),$r=_r.getCursor("end"),Br=Mr.line;Br<=$r.line;Br++)(function(zr){var Vr=_r.getLine(zr),jr=Vr.search(/[^#]/);Be!==void 0?jr<=0?Be=="bigger"?Vr="###### "+Vr:Vr="# "+Vr:jr==6&&Be=="smaller"?Vr=Vr.substr(7):jr==1&&Be=="bigger"?Vr=Vr.substr(2):Be=="bigger"?Vr=Vr.substr(1):Vr="#"+Vr:jr<=0?Vr="#".repeat(Dr)+" "+Vr:jr==Dr?Vr=Vr.substr(jr+1):Vr="#".repeat(Dr)+" "+Vr.substr(jr+1),_r.replaceRange(Vr,{line:zr,ch:0},{line:zr,ch:99999999999999})})(Br);_r.focus()}}function _toggleLine(_r,Be,Dr){if(!_r.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var Mr=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,$r=/^\s*/,Br=getState(_r),zr=_r.getCursor("start"),Vr=_r.getCursor("end"),jr={quote:/^(\s*)>\s+/,"unordered-list":Mr,"ordered-list":Mr},Gr=function(rn,nn){var ln={quote:">","unordered-list":Dr,"ordered-list":"%%i."};return ln[rn].replace("%%i",nn)},Wr=function(rn,nn){var ln={quote:">","unordered-list":"\\"+Dr,"ordered-list":"\\d+."},cn=new RegExp(ln[rn]);return nn&&cn.test(nn)},Kr=function(rn,nn,ln){var cn=Mr.exec(nn),hn=Gr(rn,Zr);return cn!==null?(Wr(rn,cn[2])&&(hn=""),nn=cn[1]+hn+cn[3]+nn.replace($r,"").replace(jr[rn],"$1")):ln==!1&&(nn=hn+" "+nn),nn},Zr=1,Jr=zr.line;Jr<=Vr.line;Jr++)(function(rn){var nn=_r.getLine(rn);Br[Be]?nn=nn.replace(jr[Be],"$1"):(Be=="unordered-list"&&(nn=Kr("ordered-list",nn,!0)),nn=Kr(Be,nn,!1),Zr+=1),_r.replaceRange(nn,{line:rn,ch:0},{line:rn,ch:99999999999999})})(Jr);_r.focus()}}function _toggleLink(_r,Be,Dr,Mr){if(!(!_r.codemirror||_r.isPreviewActive())){var $r=_r.codemirror,Br=getState($r),zr=Br[Be];if(!zr){_replaceSelection($r,zr,Dr,Mr);return}var Vr=$r.getCursor("start"),jr=$r.getCursor("end"),Gr=$r.getLine(Vr.line),Wr=Gr.slice(0,Vr.ch),Kr=Gr.slice(Vr.ch);Be=="link"?Wr=Wr.replace(/(.*)[^!]\[/,"$1"):Be=="image"&&(Wr=Wr.replace(/(.*)!\[$/,"$1")),Kr=Kr.replace(/]\(.*?\)/,""),$r.replaceRange(Wr+Kr,{line:Vr.line,ch:0},{line:Vr.line,ch:99999999999999}),Vr.ch-=Dr[0].length,Vr!==jr&&(jr.ch-=Dr[0].length),$r.setSelection(Vr,jr),$r.focus()}}function _toggleBlock(_r,Be,Dr,Mr){if(!(!_r.codemirror||_r.isPreviewActive())){Mr=typeof Mr>"u"?Dr:Mr;var $r=_r.codemirror,Br=getState($r),zr,Vr=Dr,jr=Mr,Gr=$r.getCursor("start"),Wr=$r.getCursor("end");Br[Be]?(zr=$r.getLine(Gr.line),Vr=zr.slice(0,Gr.ch),jr=zr.slice(Gr.ch),Be=="bold"?(Vr=Vr.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),jr=jr.replace(/(\*\*|__)/,"")):Be=="italic"?(Vr=Vr.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),jr=jr.replace(/(\*|_)/,"")):Be=="strikethrough"&&(Vr=Vr.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),jr=jr.replace(/(\*\*|~~)/,"")),$r.replaceRange(Vr+jr,{line:Gr.line,ch:0},{line:Gr.line,ch:99999999999999}),Be=="bold"||Be=="strikethrough"?(Gr.ch-=2,Gr!==Wr&&(Wr.ch-=2)):Be=="italic"&&(Gr.ch-=1,Gr!==Wr&&(Wr.ch-=1))):(zr=$r.getSelection(),Be=="bold"?(zr=zr.split("**").join(""),zr=zr.split("__").join("")):Be=="italic"?(zr=zr.split("*").join(""),zr=zr.split("_").join("")):Be=="strikethrough"&&(zr=zr.split("~~").join("")),$r.replaceSelection(Vr+zr+jr),Gr.ch+=Dr.length,Wr.ch=Gr.ch+zr.length),$r.setSelection(Gr,Wr),$r.focus()}}function _cleanBlock(_r){if(!_r.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var Be=_r.getCursor("start"),Dr=_r.getCursor("end"),Mr,$r=Be.line;$r<=Dr.line;$r++)Mr=_r.getLine($r),Mr=Mr.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),_r.replaceRange(Mr,{line:$r,ch:0},{line:$r,ch:99999999999999})}function humanFileSize(_r,Be){if(Math.abs(_r)<1024)return""+_r+Be[0];var Dr=0;do _r/=1024,++Dr;while(Math.abs(_r)>=1024&&Dr<Be.length);return""+_r.toFixed(1)+Be[Dr]}function _mergeProperties(_r,Be){for(var Dr in Be)Object.prototype.hasOwnProperty.call(Be,Dr)&&(Be[Dr]instanceof Array?_r[Dr]=Be[Dr].concat(_r[Dr]instanceof Array?_r[Dr]:[]):Be[Dr]!==null&&typeof Be[Dr]=="object"&&Be[Dr].constructor===Object?_r[Dr]=_mergeProperties(_r[Dr]||{},Be[Dr]):_r[Dr]=Be[Dr]);return _r}function extend$2(_r){for(var Be=1;Be<arguments.length;Be++)_r=_mergeProperties(_r,arguments[Be]);return _r}function wordCount(_r){var Be=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,Dr=_r.match(Be),Mr=0;if(Dr===null)return Mr;for(var $r=0;$r<Dr.length;$r++)Dr[$r].charCodeAt(0)>=19968?Mr+=Dr[$r].length:Mr+=1;return Mr}var iconClassMap={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},toolbarBuiltInButtons={bold:{name:"bold",action:toggleBold,className:iconClassMap.bold,title:"Bold",default:!0},italic:{name:"italic",action:toggleItalic,className:iconClassMap.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:toggleStrikethrough,className:iconClassMap.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:toggleHeadingSmaller,className:iconClassMap.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:toggleHeadingSmaller,className:iconClassMap["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:toggleHeadingBigger,className:iconClassMap["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:toggleHeading1,className:iconClassMap["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:toggleHeading2,className:iconClassMap["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:toggleHeading3,className:iconClassMap["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:toggleCodeBlock,className:iconClassMap.code,title:"Code"},quote:{name:"quote",action:toggleBlockquote,className:iconClassMap.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:toggleUnorderedList,className:iconClassMap["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:toggleOrderedList,className:iconClassMap["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:cleanBlock,className:iconClassMap["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:drawLink,className:iconClassMap.link,title:"Create Link",default:!0},image:{name:"image",action:drawImage,className:iconClassMap.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:drawUploadedImage,className:iconClassMap["upload-image"],title:"Import an image"},table:{name:"table",action:drawTable,className:iconClassMap.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:drawHorizontalRule,className:iconClassMap["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:togglePreview,className:iconClassMap.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:toggleSideBySide,className:iconClassMap["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:toggleFullScreen,className:iconClassMap.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:iconClassMap.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:undo,className:iconClassMap.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:redo,className:iconClassMap.redo,noDisable:!0,title:"Redo"}},insertTexts={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},promptTexts={link:"URL for the link:",image:"URL of the image:"},timeFormat={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},blockStyles={bold:"**",code:"```",italic:"*"},imageTexts={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},errorMessages={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function EasyMDE(_r){_r=_r||{},_r.parent=this;var Be=!0;if(_r.autoDownloadFontAwesome===!1&&(Be=!1),_r.autoDownloadFontAwesome!==!0)for(var Dr=document.styleSheets,Mr=0;Mr<Dr.length;Mr++)Dr[Mr].href&&Dr[Mr].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(Be=!1);if(Be){var $r=document.createElement("link");$r.rel="stylesheet",$r.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild($r)}if(_r.element)this.element=_r.element;else if(_r.element===null){console.log("EasyMDE: Error. No element was found.");return}if(_r.toolbar===void 0){_r.toolbar=[];for(var Br in toolbarBuiltInButtons)Object.prototype.hasOwnProperty.call(toolbarBuiltInButtons,Br)&&(Br.indexOf("separator-")!=-1&&_r.toolbar.push("|"),(toolbarBuiltInButtons[Br].default===!0||_r.showIcons&&_r.showIcons.constructor===Array&&_r.showIcons.indexOf(Br)!=-1)&&_r.toolbar.push(Br))}if(Object.prototype.hasOwnProperty.call(_r,"previewClass")||(_r.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(_r,"status")||(_r.status=["autosave","lines","words","cursor"],_r.uploadImage&&_r.status.unshift("upload-image")),_r.previewRender||(_r.previewRender=function(Vr){return this.parent.markdown(Vr)}),_r.parsingConfig=extend$2({highlightFormatting:!0},_r.parsingConfig||{}),_r.insertTexts=extend$2({},insertTexts,_r.insertTexts||{}),_r.promptTexts=extend$2({},promptTexts,_r.promptTexts||{}),_r.blockStyles=extend$2({},blockStyles,_r.blockStyles||{}),_r.autosave!=null&&(_r.autosave.timeFormat=extend$2({},timeFormat,_r.autosave.timeFormat||{})),_r.iconClassMap=extend$2({},iconClassMap,_r.iconClassMap||{}),_r.shortcuts=extend$2({},shortcuts,_r.shortcuts||{}),_r.maxHeight=_r.maxHeight||void 0,_r.direction=_r.direction||"ltr",typeof _r.maxHeight<"u"?_r.minHeight=_r.maxHeight:_r.minHeight=_r.minHeight||"300px",_r.errorCallback=_r.errorCallback||function(Vr){alert(Vr)},_r.uploadImage=_r.uploadImage||!1,_r.imageMaxSize=_r.imageMaxSize||2097152,_r.imageAccept=_r.imageAccept||"image/png, image/jpeg, image/gif, image/avif",_r.imageTexts=extend$2({},imageTexts,_r.imageTexts||{}),_r.errorMessages=extend$2({},errorMessages,_r.errorMessages||{}),_r.imagePathAbsolute=_r.imagePathAbsolute||!1,_r.imageCSRFName=_r.imageCSRFName||"csrfmiddlewaretoken",_r.imageCSRFHeader=_r.imageCSRFHeader||!1,_r.autosave!=null&&_r.autosave.unique_id!=null&&_r.autosave.unique_id!=""&&(_r.autosave.uniqueId=_r.autosave.unique_id),_r.overlayMode&&_r.overlayMode.combine===void 0&&(_r.overlayMode.combine=!0),this.options=_r,this.render(),_r.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(_r.initialValue),_r.uploadImage){var zr=this;this.codemirror.on("dragenter",function(Vr,jr){zr.updateStatusBar("upload-image",zr.options.imageTexts.sbOnDragEnter),jr.stopPropagation(),jr.preventDefault()}),this.codemirror.on("dragend",function(Vr,jr){zr.updateStatusBar("upload-image",zr.options.imageTexts.sbInit),jr.stopPropagation(),jr.preventDefault()}),this.codemirror.on("dragleave",function(Vr,jr){zr.updateStatusBar("upload-image",zr.options.imageTexts.sbInit),jr.stopPropagation(),jr.preventDefault()}),this.codemirror.on("dragover",function(Vr,jr){zr.updateStatusBar("upload-image",zr.options.imageTexts.sbOnDragEnter),jr.stopPropagation(),jr.preventDefault()}),this.codemirror.on("drop",function(Vr,jr){jr.stopPropagation(),jr.preventDefault(),_r.imageUploadFunction?zr.uploadImagesUsingCustomFunction(_r.imageUploadFunction,jr.dataTransfer.files):zr.uploadImages(jr.dataTransfer.files)}),this.codemirror.on("paste",function(Vr,jr){_r.imageUploadFunction?zr.uploadImagesUsingCustomFunction(_r.imageUploadFunction,jr.clipboardData.files):zr.uploadImages(jr.clipboardData.files)})}}EasyMDE.prototype.uploadImages=function(_r,Be,Dr){if(_r.length!==0){for(var Mr=[],$r=0;$r<_r.length;$r++)Mr.push(_r[$r].name),this.uploadImage(_r[$r],Be,Dr);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",Mr.join(", ")))}};EasyMDE.prototype.uploadImagesUsingCustomFunction=function(_r,Be){if(Be.length!==0){for(var Dr=[],Mr=0;Mr<Be.length;Mr++)Dr.push(Be[Mr].name),this.uploadImageUsingCustomFunction(_r,Be[Mr]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",Dr.join(", ")))}};EasyMDE.prototype.updateStatusBar=function(_r,Be){if(this.gui.statusbar){var Dr=this.gui.statusbar.getElementsByClassName(_r);Dr.length===1?this.gui.statusbar.getElementsByClassName(_r)[0].textContent=Be:Dr.length===0?console.log("EasyMDE: status bar item "+_r+" was not found."):console.log("EasyMDE: Several status bar items named "+_r+" was found.")}};EasyMDE.prototype.markdown=function(_r){if(marked){var Be;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?Be=this.options.renderingConfig.markedOptions:Be={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?Be.breaks=!1:Be.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var Dr=this.options.renderingConfig.hljs||window.hljs;Dr&&(Be.highlight=function($r,Br){return Br&&Dr.getLanguage(Br)?Dr.highlight(Br,$r).value:Dr.highlightAuto($r).value})}marked.setOptions(Be);var Mr=marked.parse(_r);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(Mr=this.options.renderingConfig.sanitizerFunction.call(this,Mr)),Mr=addAnchorTargetBlank(Mr),Mr=removeListStyleWhenCheckbox(Mr),Mr}};EasyMDE.prototype.render=function(_r){if(_r||(_r=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===_r)return;this.element=_r;var Be=this.options,Dr=this,Mr={};for(var $r in Be.shortcuts)Be.shortcuts[$r]!==null&&bindings[$r]!==null&&function(ln){Mr[fixShortcut(Be.shortcuts[ln])]=function(){var cn=bindings[ln];typeof cn=="function"?cn(Dr):typeof cn=="string"&&window.open(cn,"_blank")}}($r);Mr.Enter="newlineAndIndentContinueMarkdownList",Mr.Tab="tabAndIndentMarkdownList",Mr["Shift-Tab"]="shiftTabAndUnindentMarkdownList",Mr.Esc=function(ln){ln.getOption("fullScreen")&&toggleFullScreen(Dr)},this.documentOnKeyDown=function(ln){ln=ln||window.event,ln.keyCode==27&&Dr.codemirror.getOption("fullScreen")&&toggleFullScreen(Dr)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var Br,zr;Be.overlayMode?(CodeMirror.defineMode("overlay-mode",function(ln){return CodeMirror.overlayMode(CodeMirror.getMode(ln,Be.spellChecker!==!1?"spell-checker":"gfm"),Be.overlayMode.mode,Be.overlayMode.combine)}),Br="overlay-mode",zr=Be.parsingConfig,zr.gitHubSpice=!1):(Br=Be.parsingConfig,Br.name="gfm",Br.gitHubSpice=!1),Be.spellChecker!==!1&&(Br="spell-checker",zr=Be.parsingConfig,zr.name="gfm",zr.gitHubSpice=!1,typeof Be.spellChecker=="function"?Be.spellChecker({codeMirrorInstance:CodeMirror}):CodeMirrorSpellChecker({codeMirrorInstance:CodeMirror}));function Vr(ln,cn,hn){return{addNew:!1}}if(this.codemirror=CodeMirror.fromTextArea(_r,{mode:Br,backdrop:zr,theme:Be.theme!=null?Be.theme:"easymde",tabSize:Be.tabSize!=null?Be.tabSize:2,indentUnit:Be.tabSize!=null?Be.tabSize:2,indentWithTabs:Be.indentWithTabs!==!1,lineNumbers:Be.lineNumbers===!0,autofocus:Be.autofocus===!0,extraKeys:Mr,direction:Be.direction,lineWrapping:Be.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:Be.placeholder||_r.getAttribute("placeholder")||"",styleSelectedText:Be.styleSelectedText!=null?Be.styleSelectedText:!isMobile(),scrollbarStyle:Be.scrollbarStyle!=null?Be.scrollbarStyle:"native",configureMouse:Vr,inputStyle:Be.inputStyle!=null?Be.inputStyle:isMobile()?"contenteditable":"textarea",spellcheck:Be.nativeSpellcheck!=null?Be.nativeSpellcheck:!0,autoRefresh:Be.autoRefresh!=null?Be.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=Be.minHeight,typeof Be.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=Be.maxHeight),Be.forceSync===!0){var jr=this.codemirror;jr.on("change",function(){jr.save()})}this.gui={};var Gr=document.createElement("div");Gr.classList.add("EasyMDEContainer"),Gr.setAttribute("role","application");var Wr=this.codemirror.getWrapperElement();Wr.parentNode.insertBefore(Gr,Wr),Gr.appendChild(Wr),Be.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),Be.status!==!1&&(this.gui.statusbar=this.createStatusbar()),Be.autosave!=null&&Be.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(Dr._autosave_timeout),Dr._autosave_timeout=setTimeout(function(){Dr.autosave()},Dr.options.autosave.submit_delay||Dr.options.autosave.delay||1e3)}));function Kr(ln,cn){var hn,mn=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return ln<mn?hn=cn+"px":hn=cn/ln*100+"%",hn}var Zr=this;function Jr(ln,cn){ln.setAttribute("data-img-src",cn.url),ln.setAttribute("style","--bg-image:url("+cn.url+");--width:"+cn.naturalWidth+"px;--height:"+Kr(cn.naturalWidth,cn.naturalHeight)),Zr.codemirror.setSize()}function rn(){Be.previewImagesInEditor&&Gr.querySelectorAll(".cm-image-marker").forEach(function(ln){var cn=ln.parentElement;if(cn.innerText.match(/^!\[.*?\]\(.*\)/g)&&!cn.hasAttribute("data-img-src")){var hn=cn.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),hn&&hn.length>=2){var mn=hn[1];if(Be.imagesPreviewHandler){var bn=Be.imagesPreviewHandler(hn[1]);typeof bn=="string"&&(mn=bn)}if(window.EMDEimagesCache[mn])Jr(cn,window.EMDEimagesCache[mn]);else{var An=document.createElement("img");An.onload=function(){window.EMDEimagesCache[mn]={naturalWidth:An.naturalWidth,naturalHeight:An.naturalHeight,url:mn},Jr(cn,window.EMDEimagesCache[mn])},An.src=mn}}}})}this.codemirror.on("update",function(){rn()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(Be.autofocus===!0||_r.autofocus)&&this.codemirror.focus();var nn=this.codemirror;setTimeout((function(){nn.refresh()}).bind(nn),0)};EasyMDE.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function isLocalStorageAvailable(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}EasyMDE.prototype.autosave=function(){if(isLocalStorageAvailable()){var _r=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(_r.element.form!=null&&_r.element.form!=null&&_r.element.form.addEventListener("submit",function(){clearTimeout(_r.autosaveTimeoutId),_r.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+_r.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var Be=_r.value();Be!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,Be):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var Dr=document.getElementById("autosaved");if(Dr!=null&&Dr!=null&&Dr!=""){var Mr=new Date,$r=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(Mr),Br=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;Dr.innerHTML=Br+$r}}else console.log("EasyMDE: localStorage not available, cannot autosave")};EasyMDE.prototype.clearAutosavedValue=function(){if(isLocalStorageAvailable()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};EasyMDE.prototype.openBrowseFileWindow=function(_r,Be){var Dr=this,Mr=this.gui.toolbar.getElementsByClassName("imageInput")[0];Mr.click();function $r(Br){Dr.options.imageUploadFunction?Dr.uploadImagesUsingCustomFunction(Dr.options.imageUploadFunction,Br.target.files):Dr.uploadImages(Br.target.files,_r,Be),Mr.removeEventListener("change",$r)}Mr.addEventListener("change",$r)};EasyMDE.prototype.uploadImage=function(_r,Be,Dr){var Mr=this;Be=Be||function(Gr){afterImageUploaded(Mr,Gr)};function $r(jr){Mr.updateStatusBar("upload-image",jr),setTimeout(function(){Mr.updateStatusBar("upload-image",Mr.options.imageTexts.sbInit)},1e4),Dr&&typeof Dr=="function"&&Dr(jr),Mr.options.errorCallback(jr)}function Br(jr){var Gr=Mr.options.imageTexts.sizeUnits.split(",");return jr.replace("#image_name#",_r.name).replace("#image_size#",humanFileSize(_r.size,Gr)).replace("#image_max_size#",humanFileSize(Mr.options.imageMaxSize,Gr))}if(_r.size>this.options.imageMaxSize){$r(Br(this.options.errorMessages.fileTooLarge));return}var zr=new FormData;zr.append("image",_r),Mr.options.imageCSRFToken&&!Mr.options.imageCSRFHeader&&zr.append(Mr.options.imageCSRFName,Mr.options.imageCSRFToken);var Vr=new XMLHttpRequest;Vr.upload.onprogress=function(jr){if(jr.lengthComputable){var Gr=""+Math.round(jr.loaded*100/jr.total);Mr.updateStatusBar("upload-image",Mr.options.imageTexts.sbProgress.replace("#file_name#",_r.name).replace("#progress#",Gr))}},Vr.open("POST",this.options.imageUploadEndpoint),Mr.options.imageCSRFToken&&Mr.options.imageCSRFHeader&&Vr.setRequestHeader(Mr.options.imageCSRFName,Mr.options.imageCSRFToken),Vr.onload=function(){try{var jr=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),$r(Br(Mr.options.errorMessages.importError));return}this.status===200&&jr&&!jr.error&&jr.data&&jr.data.filePath?Be((Mr.options.imagePathAbsolute?"":window.location.origin+"/")+jr.data.filePath):jr.error&&jr.error in Mr.options.errorMessages?$r(Br(Mr.options.errorMessages[jr.error])):jr.error?$r(Br(jr.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),$r(Br(Mr.options.errorMessages.importError)))},Vr.onerror=function(jr){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+jr.target.status+" ("+jr.target.statusText+")"),$r(Mr.options.errorMessages.importError)},Vr.send(zr)};EasyMDE.prototype.uploadImageUsingCustomFunction=function(_r,Be){var Dr=this;function Mr(zr){afterImageUploaded(Dr,zr)}function $r(zr){var Vr=Br(zr);Dr.updateStatusBar("upload-image",Vr),setTimeout(function(){Dr.updateStatusBar("upload-image",Dr.options.imageTexts.sbInit)},1e4),Dr.options.errorCallback(Vr)}function Br(zr){var Vr=Dr.options.imageTexts.sizeUnits.split(",");return zr.replace("#image_name#",Be.name).replace("#image_size#",humanFileSize(Be.size,Vr)).replace("#image_max_size#",humanFileSize(Dr.options.imageMaxSize,Vr))}_r.apply(this,[Be,Mr,$r])};EasyMDE.prototype.setPreviewMaxHeight=function(){var _r=this.codemirror,Be=_r.getWrapperElement(),Dr=Be.nextSibling,Mr=parseInt(window.getComputedStyle(Be).paddingTop),$r=parseInt(window.getComputedStyle(Be).borderTopWidth),Br=parseInt(this.options.maxHeight),zr=Br+Mr*2+$r*2,Vr=zr.toString()+"px";Dr.style.height=Vr};EasyMDE.prototype.createSideBySide=function(){var _r=this.codemirror,Be=_r.getWrapperElement(),Dr=Be.nextSibling;if(!Dr||!Dr.classList.contains("editor-preview-side")){if(Dr=document.createElement("div"),Dr.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var Mr=0;Mr<this.options.previewClass.length;Mr++)Dr.classList.add(this.options.previewClass[Mr]);else typeof this.options.previewClass=="string"&&Dr.classList.add(this.options.previewClass);Be.parentNode.insertBefore(Dr,Be.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return Dr;var $r=!1,Br=!1;return _r.on("scroll",function(zr){if($r){$r=!1;return}Br=!0;var Vr=zr.getScrollInfo().height-zr.getScrollInfo().clientHeight,jr=parseFloat(zr.getScrollInfo().top)/Vr,Gr=(Dr.scrollHeight-Dr.clientHeight)*jr;Dr.scrollTop=Gr}),Dr.onscroll=function(){if(Br){Br=!1;return}$r=!0;var zr=Dr.scrollHeight-Dr.clientHeight,Vr=parseFloat(Dr.scrollTop)/zr,jr=(_r.getScrollInfo().height-_r.getScrollInfo().clientHeight)*Vr;_r.scrollTo(0,jr)},Dr};EasyMDE.prototype.createToolbar=function(_r){if(_r=_r||this.options.toolbar,!(!_r||_r.length===0)){var Be;for(Be=0;Be<_r.length;Be++)toolbarBuiltInButtons[_r[Be]]!=null&&(_r[Be]=toolbarBuiltInButtons[_r[Be]]);var Dr=document.createElement("div");Dr.className="editor-toolbar",Dr.setAttribute("role","toolbar");var Mr=this,$r={};for(Mr.toolbar=_r,Be=0;Be<_r.length;Be++)if(!(_r[Be].name=="guide"&&Mr.options.toolbarGuideIcon===!1)&&!(Mr.options.hideIcons&&Mr.options.hideIcons.indexOf(_r[Be].name)!=-1)&&!((_r[Be].name=="fullscreen"||_r[Be].name=="side-by-side")&&isMobile())){if(_r[Be]==="|"){for(var Br=!1,zr=Be+1;zr<_r.length;zr++)_r[zr]!=="|"&&(!Mr.options.hideIcons||Mr.options.hideIcons.indexOf(_r[zr].name)==-1)&&(Br=!0);if(!Br)continue}(function(Gr){var Wr;if(Gr==="|"?Wr=createSep():Gr.children?Wr=createToolbarDropdown(Gr,Mr.options.toolbarTips,Mr.options.shortcuts,Mr):Wr=createToolbarButton(Gr,!0,Mr.options.toolbarTips,Mr.options.shortcuts,"button",Mr),$r[Gr.name||Gr]=Wr,Dr.appendChild(Wr),Gr.name==="upload-image"){var Kr=document.createElement("input");Kr.className="imageInput",Kr.type="file",Kr.multiple=!0,Kr.name="image",Kr.accept=Mr.options.imageAccept,Kr.style.display="none",Kr.style.opacity=0,Dr.appendChild(Kr)}})(_r[Be])}Mr.toolbar_div=Dr,Mr.toolbarElements=$r;var Vr=this.codemirror;Vr.on("cursorActivity",function(){var Gr=getState(Vr);for(var Wr in $r)(function(Kr){var Zr=$r[Kr];Gr[Kr]?Zr.classList.add("active"):Kr!="fullscreen"&&Kr!="side-by-side"&&Zr.classList.remove("active")})(Wr)});var jr=Vr.getWrapperElement();return jr.parentNode.insertBefore(Dr,jr),Dr}};EasyMDE.prototype.createStatusbar=function(_r){_r=_r||this.options.status;var Be=this.options,Dr=this.codemirror;if(!(!_r||_r.length===0)){var Mr=[],$r,Br,zr,Vr;for($r=0;$r<_r.length;$r++)if(Br=void 0,zr=void 0,Vr=void 0,typeof _r[$r]=="object")Mr.push({className:_r[$r].className,defaultValue:_r[$r].defaultValue,onUpdate:_r[$r].onUpdate,onActivity:_r[$r].onActivity});else{var jr=_r[$r];jr==="words"?(Vr=function(Jr){Jr.innerHTML=wordCount(Dr.getValue())},Br=function(Jr){Jr.innerHTML=wordCount(Dr.getValue())}):jr==="lines"?(Vr=function(Jr){Jr.innerHTML=Dr.lineCount()},Br=function(Jr){Jr.innerHTML=Dr.lineCount()}):jr==="cursor"?(Vr=function(Jr){Jr.innerHTML="1:1"},zr=function(Jr){var rn=Dr.getCursor(),nn=rn.line+1,ln=rn.ch+1;Jr.innerHTML=nn+":"+ln}):jr==="autosave"?Vr=function(Jr){Be.autosave!=null&&Be.autosave.enabled===!0&&Jr.setAttribute("id","autosaved")}:jr==="upload-image"&&(Vr=function(Jr){Jr.innerHTML=Be.imageTexts.sbInit}),Mr.push({className:jr,defaultValue:Vr,onUpdate:Br,onActivity:zr})}var Gr=document.createElement("div");for(Gr.className="editor-statusbar",$r=0;$r<Mr.length;$r++){var Wr=Mr[$r],Kr=document.createElement("span");Kr.className=Wr.className,typeof Wr.defaultValue=="function"&&Wr.defaultValue(Kr),typeof Wr.onUpdate=="function"&&this.codemirror.on("update",function(Jr,rn){return function(){rn.onUpdate(Jr)}}(Kr,Wr)),typeof Wr.onActivity=="function"&&this.codemirror.on("cursorActivity",function(Jr,rn){return function(){rn.onActivity(Jr)}}(Kr,Wr)),Gr.appendChild(Kr)}var Zr=this.codemirror.getWrapperElement();return Zr.parentNode.insertBefore(Gr,Zr.nextSibling),Gr}};EasyMDE.prototype.value=function(_r){var Be=this.codemirror;if(_r===void 0)return Be.getValue();if(Be.getDoc().setValue(_r),this.isPreviewActive()){var Dr=Be.getWrapperElement(),Mr=Dr.lastChild,$r=this.options.previewRender(_r,Mr);$r!==null&&(Mr.innerHTML=$r)}return this};EasyMDE.toggleBold=toggleBold;EasyMDE.toggleItalic=toggleItalic;EasyMDE.toggleStrikethrough=toggleStrikethrough;EasyMDE.toggleBlockquote=toggleBlockquote;EasyMDE.toggleHeadingSmaller=toggleHeadingSmaller;EasyMDE.toggleHeadingBigger=toggleHeadingBigger;EasyMDE.toggleHeading1=toggleHeading1;EasyMDE.toggleHeading2=toggleHeading2;EasyMDE.toggleHeading3=toggleHeading3;EasyMDE.toggleHeading4=toggleHeading4;EasyMDE.toggleHeading5=toggleHeading5;EasyMDE.toggleHeading6=toggleHeading6;EasyMDE.toggleCodeBlock=toggleCodeBlock;EasyMDE.toggleUnorderedList=toggleUnorderedList;EasyMDE.toggleOrderedList=toggleOrderedList;EasyMDE.cleanBlock=cleanBlock;EasyMDE.drawLink=drawLink;EasyMDE.drawImage=drawImage;EasyMDE.drawUploadedImage=drawUploadedImage;EasyMDE.drawTable=drawTable;EasyMDE.drawHorizontalRule=drawHorizontalRule;EasyMDE.undo=undo;EasyMDE.redo=redo;EasyMDE.togglePreview=togglePreview;EasyMDE.toggleSideBySide=toggleSideBySide;EasyMDE.toggleFullScreen=toggleFullScreen;EasyMDE.prototype.toggleBold=function(){toggleBold(this)};EasyMDE.prototype.toggleItalic=function(){toggleItalic(this)};EasyMDE.prototype.toggleStrikethrough=function(){toggleStrikethrough(this)};EasyMDE.prototype.toggleBlockquote=function(){toggleBlockquote(this)};EasyMDE.prototype.toggleHeadingSmaller=function(){toggleHeadingSmaller(this)};EasyMDE.prototype.toggleHeadingBigger=function(){toggleHeadingBigger(this)};EasyMDE.prototype.toggleHeading1=function(){toggleHeading1(this)};EasyMDE.prototype.toggleHeading2=function(){toggleHeading2(this)};EasyMDE.prototype.toggleHeading3=function(){toggleHeading3(this)};EasyMDE.prototype.toggleHeading4=function(){toggleHeading4(this)};EasyMDE.prototype.toggleHeading5=function(){toggleHeading5(this)};EasyMDE.prototype.toggleHeading6=function(){toggleHeading6(this)};EasyMDE.prototype.toggleCodeBlock=function(){toggleCodeBlock(this)};EasyMDE.prototype.toggleUnorderedList=function(){toggleUnorderedList(this)};EasyMDE.prototype.toggleOrderedList=function(){toggleOrderedList(this)};EasyMDE.prototype.cleanBlock=function(){cleanBlock(this)};EasyMDE.prototype.drawLink=function(){drawLink(this)};EasyMDE.prototype.drawImage=function(){drawImage(this)};EasyMDE.prototype.drawUploadedImage=function(){drawUploadedImage(this)};EasyMDE.prototype.drawTable=function(){drawTable(this)};EasyMDE.prototype.drawHorizontalRule=function(){drawHorizontalRule(this)};EasyMDE.prototype.undo=function(){undo(this)};EasyMDE.prototype.redo=function(){redo(this)};EasyMDE.prototype.togglePreview=function(){togglePreview(this)};EasyMDE.prototype.toggleSideBySide=function(){toggleSideBySide(this)};EasyMDE.prototype.toggleFullScreen=function(){toggleFullScreen(this)};EasyMDE.prototype.isPreviewActive=function(){var _r=this.codemirror,Be=_r.getWrapperElement(),Dr=Be.lastChild;return Dr.classList.contains("editor-preview-active")};EasyMDE.prototype.isSideBySideActive=function(){var _r=this.codemirror,Be=_r.getWrapperElement(),Dr=Be.nextSibling;return Dr.classList.contains("editor-preview-active-side")};EasyMDE.prototype.isFullscreenActive=function(){var _r=this.codemirror;return _r.getOption("fullScreen")};EasyMDE.prototype.getState=function(){var _r=this.codemirror;return getState(_r)};EasyMDE.prototype.toTextArea=function(){var _r=this.codemirror,Be=_r.getWrapperElement(),Dr=Be.parentNode;Dr&&(this.gui.toolbar&&Dr.removeChild(this.gui.toolbar),this.gui.statusbar&&Dr.removeChild(this.gui.statusbar),this.gui.sideBySide&&Dr.removeChild(this.gui.sideBySide)),Dr.parentNode.insertBefore(Be,Dr),Dr.remove(),_r.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};var easymde=EasyMDE;const EasyMDE$1=getDefaultExportFromCjs(easymde);var ckeditor={exports:{}};ckeditor.exports;(function(_r,Be){(function(Dr){const Mr=Dr.en=Dr.en||{};Mr.dictionary=Object.assign(Mr.dictionary||{},{"%0 of %1":"%0 of %1","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerâroman":"Lowerâroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerâlatin list style":"Toggle the lowerâlatin list style","Toggle the lowerâroman list style":"Toggle the lowerâroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperâlatin list style":"Toggle the upperâlatin list style","Toggle the upperâroman list style":"Toggle the upperâroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(Dr,Mr){_r.exports=Mr()}(self,()=>(()=>{var Dr={4959:(zr,Vr,jr)=>{const Gr=jr(1103),Wr={};for(const Zr of Object.keys(Gr))Wr[Gr[Zr]]=Zr;const Kr={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};zr.exports=Kr;for(const Zr of Object.keys(Kr)){if(!("channels"in Kr[Zr]))throw new Error("missing channels property: "+Zr);if(!("labels"in Kr[Zr]))throw new Error("missing channel labels property: "+Zr);if(Kr[Zr].labels.length!==Kr[Zr].channels)throw new Error("channel and label counts mismatch: "+Zr);const{channels:Jr,labels:rn}=Kr[Zr];delete Kr[Zr].channels,delete Kr[Zr].labels,Object.defineProperty(Kr[Zr],"channels",{value:Jr}),Object.defineProperty(Kr[Zr],"labels",{value:rn})}Kr.rgb.hsl=function(Zr){const Jr=Zr[0]/255,rn=Zr[1]/255,nn=Zr[2]/255,ln=Math.min(Jr,rn,nn),cn=Math.max(Jr,rn,nn),hn=cn-ln;let mn,bn;cn===ln?mn=0:Jr===cn?mn=(rn-nn)/hn:rn===cn?mn=2+(nn-Jr)/hn:nn===cn&&(mn=4+(Jr-rn)/hn),mn=Math.min(60*mn,360),mn<0&&(mn+=360);const An=(ln+cn)/2;return bn=cn===ln?0:An<=.5?hn/(cn+ln):hn/(2-cn-ln),[mn,100*bn,100*An]},Kr.rgb.hsv=function(Zr){let Jr,rn,nn,ln,cn;const hn=Zr[0]/255,mn=Zr[1]/255,bn=Zr[2]/255,An=Math.max(hn,mn,bn),vn=An-Math.min(hn,mn,bn),dn=function(wn){return(An-wn)/6/vn+.5};return vn===0?(ln=0,cn=0):(cn=vn/An,Jr=dn(hn),rn=dn(mn),nn=dn(bn),hn===An?ln=nn-rn:mn===An?ln=.3333333333333333+Jr-nn:bn===An&&(ln=.6666666666666666+rn-Jr),ln<0?ln+=1:ln>1&&(ln-=1)),[360*ln,100*cn,100*An]},Kr.rgb.hwb=function(Zr){const Jr=Zr[0],rn=Zr[1];let nn=Zr[2];const ln=Kr.rgb.hsl(Zr)[0],cn=1/255*Math.min(Jr,Math.min(rn,nn));return nn=1-.00392156862745098*Math.max(Jr,Math.max(rn,nn)),[ln,100*cn,100*nn]},Kr.rgb.cmyk=function(Zr){const Jr=Zr[0]/255,rn=Zr[1]/255,nn=Zr[2]/255,ln=Math.min(1-Jr,1-rn,1-nn);return[100*((1-Jr-ln)/(1-ln)||0),100*((1-rn-ln)/(1-ln)||0),100*((1-nn-ln)/(1-ln)||0),100*ln]},Kr.rgb.keyword=function(Zr){const Jr=Wr[Zr];if(Jr)return Jr;let rn,nn=1/0;for(const hn of Object.keys(Gr)){const mn=Gr[hn],bn=(cn=mn,((ln=Zr)[0]-cn[0])**2+(ln[1]-cn[1])**2+(ln[2]-cn[2])**2);bn<nn&&(nn=bn,rn=hn)}var ln,cn;return rn},Kr.keyword.rgb=function(Zr){return Gr[Zr]},Kr.rgb.xyz=function(Zr){let Jr=Zr[0]/255,rn=Zr[1]/255,nn=Zr[2]/255;return Jr=Jr>.04045?((Jr+.055)/1.055)**2.4:Jr/12.92,rn=rn>.04045?((rn+.055)/1.055)**2.4:rn/12.92,nn=nn>.04045?((nn+.055)/1.055)**2.4:nn/12.92,[100*(.4124*Jr+.3576*rn+.1805*nn),100*(.2126*Jr+.7152*rn+.0722*nn),100*(.0193*Jr+.1192*rn+.9505*nn)]},Kr.rgb.lab=function(Zr){const Jr=Kr.rgb.xyz(Zr);let rn=Jr[0],nn=Jr[1],ln=Jr[2];return rn/=95.047,nn/=100,ln/=108.883,rn=rn>.008856?rn**.3333333333333333:7.787*rn+.13793103448275862,nn=nn>.008856?nn**.3333333333333333:7.787*nn+.13793103448275862,ln=ln>.008856?ln**.3333333333333333:7.787*ln+.13793103448275862,[116*nn-16,500*(rn-nn),200*(nn-ln)]},Kr.hsl.rgb=function(Zr){const Jr=Zr[0]/360,rn=Zr[1]/100,nn=Zr[2]/100;let ln,cn,hn;if(rn===0)return hn=255*nn,[hn,hn,hn];ln=nn<.5?nn*(1+rn):nn+rn-nn*rn;const mn=2*nn-ln,bn=[0,0,0];for(let An=0;An<3;An++)cn=Jr+.3333333333333333*-(An-1),cn<0&&cn++,cn>1&&cn--,hn=6*cn<1?mn+6*(ln-mn)*cn:2*cn<1?ln:3*cn<2?mn+(ln-mn)*(.6666666666666666-cn)*6:mn,bn[An]=255*hn;return bn},Kr.hsl.hsv=function(Zr){const Jr=Zr[0];let rn=Zr[1]/100,nn=Zr[2]/100,ln=rn;const cn=Math.max(nn,.01);return nn*=2,rn*=nn<=1?nn:2-nn,ln*=cn<=1?cn:2-cn,[Jr,100*(nn===0?2*ln/(cn+ln):2*rn/(nn+rn)),100*((nn+rn)/2)]},Kr.hsv.rgb=function(Zr){const Jr=Zr[0]/60,rn=Zr[1]/100;let nn=Zr[2]/100;const ln=Math.floor(Jr)%6,cn=Jr-Math.floor(Jr),hn=255*nn*(1-rn),mn=255*nn*(1-rn*cn),bn=255*nn*(1-rn*(1-cn));switch(nn*=255,ln){case 0:return[nn,bn,hn];case 1:return[mn,nn,hn];case 2:return[hn,nn,bn];case 3:return[hn,mn,nn];case 4:return[bn,hn,nn];case 5:return[nn,hn,mn]}},Kr.hsv.hsl=function(Zr){const Jr=Zr[0],rn=Zr[1]/100,nn=Zr[2]/100,ln=Math.max(nn,.01);let cn,hn;hn=(2-rn)*nn;const mn=(2-rn)*ln;return cn=rn*ln,cn/=mn<=1?mn:2-mn,cn=cn||0,hn/=2,[Jr,100*cn,100*hn]},Kr.hwb.rgb=function(Zr){const Jr=Zr[0]/360;let rn=Zr[1]/100,nn=Zr[2]/100;const ln=rn+nn;let cn;ln>1&&(rn/=ln,nn/=ln);const hn=Math.floor(6*Jr),mn=1-nn;cn=6*Jr-hn,1&hn&&(cn=1-cn);const bn=rn+cn*(mn-rn);let An,vn,dn;switch(hn){default:case 6:case 0:An=mn,vn=bn,dn=rn;break;case 1:An=bn,vn=mn,dn=rn;break;case 2:An=rn,vn=mn,dn=bn;break;case 3:An=rn,vn=bn,dn=mn;break;case 4:An=bn,vn=rn,dn=mn;break;case 5:An=mn,vn=rn,dn=bn}return[255*An,255*vn,255*dn]},Kr.cmyk.rgb=function(Zr){const Jr=Zr[0]/100,rn=Zr[1]/100,nn=Zr[2]/100,ln=Zr[3]/100;return[255*(1-Math.min(1,Jr*(1-ln)+ln)),255*(1-Math.min(1,rn*(1-ln)+ln)),255*(1-Math.min(1,nn*(1-ln)+ln))]},Kr.xyz.rgb=function(Zr){const Jr=Zr[0]/100,rn=Zr[1]/100,nn=Zr[2]/100;let ln,cn,hn;return ln=3.2406*Jr+-1.5372*rn+-.4986*nn,cn=-.9689*Jr+1.8758*rn+.0415*nn,hn=.0557*Jr+-.204*rn+1.057*nn,ln=ln>.0031308?1.055*ln**.4166666666666667-.055:12.92*ln,cn=cn>.0031308?1.055*cn**.4166666666666667-.055:12.92*cn,hn=hn>.0031308?1.055*hn**.4166666666666667-.055:12.92*hn,ln=Math.min(Math.max(0,ln),1),cn=Math.min(Math.max(0,cn),1),hn=Math.min(Math.max(0,hn),1),[255*ln,255*cn,255*hn]},Kr.xyz.lab=function(Zr){let Jr=Zr[0],rn=Zr[1],nn=Zr[2];return Jr/=95.047,rn/=100,nn/=108.883,Jr=Jr>.008856?Jr**.3333333333333333:7.787*Jr+.13793103448275862,rn=rn>.008856?rn**.3333333333333333:7.787*rn+.13793103448275862,nn=nn>.008856?nn**.3333333333333333:7.787*nn+.13793103448275862,[116*rn-16,500*(Jr-rn),200*(rn-nn)]},Kr.lab.xyz=function(Zr){let Jr,rn,nn;rn=(Zr[0]+16)/116,Jr=Zr[1]/500+rn,nn=rn-Zr[2]/200;const ln=rn**3,cn=Jr**3,hn=nn**3;return rn=ln>.008856?ln:(rn-.13793103448275862)/7.787,Jr=cn>.008856?cn:(Jr-.13793103448275862)/7.787,nn=hn>.008856?hn:(nn-.13793103448275862)/7.787,Jr*=95.047,rn*=100,nn*=108.883,[Jr,rn,nn]},Kr.lab.lch=function(Zr){const Jr=Zr[0],rn=Zr[1],nn=Zr[2];let ln;return ln=360*Math.atan2(nn,rn)/2/Math.PI,ln<0&&(ln+=360),[Jr,Math.sqrt(rn*rn+nn*nn),ln]},Kr.lch.lab=function(Zr){const Jr=Zr[0],rn=Zr[1],nn=Zr[2]/360*2*Math.PI;return[Jr,rn*Math.cos(nn),rn*Math.sin(nn)]},Kr.rgb.ansi16=function(Zr,Jr=null){const[rn,nn,ln]=Zr;let cn=Jr===null?Kr.rgb.hsv(Zr)[2]:Jr;if(cn=Math.round(cn/50),cn===0)return 30;let hn=30+(Math.round(ln/255)<<2|Math.round(nn/255)<<1|Math.round(rn/255));return cn===2&&(hn+=60),hn},Kr.hsv.ansi16=function(Zr){return Kr.rgb.ansi16(Kr.hsv.rgb(Zr),Zr[2])},Kr.rgb.ansi256=function(Zr){const Jr=Zr[0],rn=Zr[1],nn=Zr[2];return Jr===rn&&rn===nn?Jr<8?16:Jr>248?231:Math.round((Jr-8)/247*24)+232:16+36*Math.round(Jr/255*5)+6*Math.round(rn/255*5)+Math.round(nn/255*5)},Kr.ansi16.rgb=function(Zr){let Jr=Zr%10;if(Jr===0||Jr===7)return Zr>50&&(Jr+=3.5),Jr=Jr/10.5*255,[Jr,Jr,Jr];const rn=.5*(1+~~(Zr>50));return[(1&Jr)*rn*255,(Jr>>1&1)*rn*255,(Jr>>2&1)*rn*255]},Kr.ansi256.rgb=function(Zr){if(Zr>=232){const rn=10*(Zr-232)+8;return[rn,rn,rn]}let Jr;return Zr-=16,[Math.floor(Zr/36)/5*255,Math.floor((Jr=Zr%36)/6)/5*255,Jr%6/5*255]},Kr.rgb.hex=function(Zr){const Jr=(((255&Math.round(Zr[0]))<<16)+((255&Math.round(Zr[1]))<<8)+(255&Math.round(Zr[2]))).toString(16).toUpperCase();return"000000".substring(Jr.length)+Jr},Kr.hex.rgb=function(Zr){const Jr=Zr.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!Jr)return[0,0,0];let rn=Jr[0];Jr[0].length===3&&(rn=rn.split("").map(ln=>ln+ln).join(""));const nn=parseInt(rn,16);return[nn>>16&255,nn>>8&255,255&nn]},Kr.rgb.hcg=function(Zr){const Jr=Zr[0]/255,rn=Zr[1]/255,nn=Zr[2]/255,ln=Math.max(Math.max(Jr,rn),nn),cn=Math.min(Math.min(Jr,rn),nn),hn=ln-cn;let mn,bn;return mn=hn<1?cn/(1-hn):0,bn=hn<=0?0:ln===Jr?(rn-nn)/hn%6:ln===rn?2+(nn-Jr)/hn:4+(Jr-rn)/hn,bn/=6,bn%=1,[360*bn,100*hn,100*mn]},Kr.hsl.hcg=function(Zr){const Jr=Zr[1]/100,rn=Zr[2]/100,nn=rn<.5?2*Jr*rn:2*Jr*(1-rn);let ln=0;return nn<1&&(ln=(rn-.5*nn)/(1-nn)),[Zr[0],100*nn,100*ln]},Kr.hsv.hcg=function(Zr){const Jr=Zr[1]/100,rn=Zr[2]/100,nn=Jr*rn;let ln=0;return nn<1&&(ln=(rn-nn)/(1-nn)),[Zr[0],100*nn,100*ln]},Kr.hcg.rgb=function(Zr){const Jr=Zr[0]/360,rn=Zr[1]/100,nn=Zr[2]/100;if(rn===0)return[255*nn,255*nn,255*nn];const ln=[0,0,0],cn=Jr%1*6,hn=cn%1,mn=1-hn;let bn=0;switch(Math.floor(cn)){case 0:ln[0]=1,ln[1]=hn,ln[2]=0;break;case 1:ln[0]=mn,ln[1]=1,ln[2]=0;break;case 2:ln[0]=0,ln[1]=1,ln[2]=hn;break;case 3:ln[0]=0,ln[1]=mn,ln[2]=1;break;case 4:ln[0]=hn,ln[1]=0,ln[2]=1;break;default:ln[0]=1,ln[1]=0,ln[2]=mn}return bn=(1-rn)*nn,[255*(rn*ln[0]+bn),255*(rn*ln[1]+bn),255*(rn*ln[2]+bn)]},Kr.hcg.hsv=function(Zr){const Jr=Zr[1]/100,rn=Jr+Zr[2]/100*(1-Jr);let nn=0;return rn>0&&(nn=Jr/rn),[Zr[0],100*nn,100*rn]},Kr.hcg.hsl=function(Zr){const Jr=Zr[1]/100,rn=Zr[2]/100*(1-Jr)+.5*Jr;let nn=0;return rn>0&&rn<.5?nn=Jr/(2*rn):rn>=.5&&rn<1&&(nn=Jr/(2*(1-rn))),[Zr[0],100*nn,100*rn]},Kr.hcg.hwb=function(Zr){const Jr=Zr[1]/100,rn=Jr+Zr[2]/100*(1-Jr);return[Zr[0],100*(rn-Jr),100*(1-rn)]},Kr.hwb.hcg=function(Zr){const Jr=Zr[1]/100,rn=1-Zr[2]/100,nn=rn-Jr;let ln=0;return nn<1&&(ln=(rn-nn)/(1-nn)),[Zr[0],100*nn,100*ln]},Kr.apple.rgb=function(Zr){return[Zr[0]/65535*255,Zr[1]/65535*255,Zr[2]/65535*255]},Kr.rgb.apple=function(Zr){return[Zr[0]/255*65535,Zr[1]/255*65535,Zr[2]/255*65535]},Kr.gray.rgb=function(Zr){return[Zr[0]/100*255,Zr[0]/100*255,Zr[0]/100*255]},Kr.gray.hsl=function(Zr){return[0,0,Zr[0]]},Kr.gray.hsv=Kr.gray.hsl,Kr.gray.hwb=function(Zr){return[0,100,Zr[0]]},Kr.gray.cmyk=function(Zr){return[0,0,0,Zr[0]]},Kr.gray.lab=function(Zr){return[Zr[0],0,0]},Kr.gray.hex=function(Zr){const Jr=255&Math.round(Zr[0]/100*255),rn=((Jr<<16)+(Jr<<8)+Jr).toString(16).toUpperCase();return"000000".substring(rn.length)+rn},Kr.rgb.gray=function(Zr){return[(Zr[0]+Zr[1]+Zr[2])/3/255*100]}},841:(zr,Vr,jr)=>{const Gr=jr(4959),Wr=jr(9325),Kr={};Object.keys(Gr).forEach(Zr=>{Kr[Zr]={},Object.defineProperty(Kr[Zr],"channels",{value:Gr[Zr].channels}),Object.defineProperty(Kr[Zr],"labels",{value:Gr[Zr].labels});const Jr=Wr(Zr);Object.keys(Jr).forEach(rn=>{const nn=Jr[rn];Kr[Zr][rn]=function(ln){const cn=function(...hn){const mn=hn[0];if(mn==null)return mn;mn.length>1&&(hn=mn);const bn=ln(hn);if(typeof bn=="object")for(let An=bn.length,vn=0;vn<An;vn++)bn[vn]=Math.round(bn[vn]);return bn};return"conversion"in ln&&(cn.conversion=ln.conversion),cn}(nn),Kr[Zr][rn].raw=function(ln){const cn=function(...hn){const mn=hn[0];return mn==null?mn:(mn.length>1&&(hn=mn),ln(hn))};return"conversion"in ln&&(cn.conversion=ln.conversion),cn}(nn)})}),zr.exports=Kr},9325:(zr,Vr,jr)=>{const Gr=jr(4959);function Wr(Jr){const rn=function(){const ln={},cn=Object.keys(Gr);for(let hn=cn.length,mn=0;mn<hn;mn++)ln[cn[mn]]={distance:-1,parent:null};return ln}(),nn=[Jr];for(rn[Jr].distance=0;nn.length;){const ln=nn.pop(),cn=Object.keys(Gr[ln]);for(let hn=cn.length,mn=0;mn<hn;mn++){const bn=cn[mn],An=rn[bn];An.distance===-1&&(An.distance=rn[ln].distance+1,An.parent=ln,nn.unshift(bn))}}return rn}function Kr(Jr,rn){return function(nn){return rn(Jr(nn))}}function Zr(Jr,rn){const nn=[rn[Jr].parent,Jr];let ln=Gr[rn[Jr].parent][Jr],cn=rn[Jr].parent;for(;rn[cn].parent;)nn.unshift(rn[cn].parent),ln=Kr(Gr[rn[cn].parent][cn],ln),cn=rn[cn].parent;return ln.conversion=nn,ln}zr.exports=function(Jr){const rn=Wr(Jr),nn={},ln=Object.keys(rn);for(let cn=ln.length,hn=0;hn<cn;hn++){const mn=ln[hn];rn[mn].parent!==null&&(nn[mn]=Zr(mn,rn))}return nn}},1103:zr=>{zr.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const Jr=Zr},3062:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const Jr=Zr},903:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const Jr=Zr},3143:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},4717:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const Jr=Zr},9315:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const Jr=Zr},8733:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const Jr=Zr},3508:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},2640:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const Jr=Zr},3535:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const Jr=Zr},1568:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},6270:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const Jr=Zr},5083:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},4036:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const Jr=Zr},3773:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const Jr=Zr},3689:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const Jr=Zr},1905:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},9773:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const Jr=Zr},2347:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},7754:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},111:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const Jr=Zr},4721:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},5730:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const Jr=Zr},4564:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},6082:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},2417:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},1199:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const Jr=Zr},4652:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const Jr=Zr},7442:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readâonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},9292:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},7368:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},4070:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},9247:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},1613:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const Jr=Zr},6306:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const Jr=Zr},2128:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-color-table-caption-background:#f7f7f7;--ck-color-table-caption-text:#333;--ck-color-table-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-table-caption-background);caption-side:top;color:var(--ck-color-table-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-table-caption-highlighted-background)}to{background-color:var(--ck-color-table-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAMC,yDAA0D,CAJ1D,gBAAiB,CAGjB,wCAAyC,CAJzC,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-caption-background: hsl(0, 0%, 97%);
	--ck-color-table-caption-text: hsl(0, 0%, 20%);
	--ck-color-table-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-table-caption-text);
	background-color: var(--ck-color-table-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-table-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-table-caption-background);
	}
}
`],sourceRoot:""}]);const Jr=Zr},5087:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},4101:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-color-table-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-table-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,iEAAkE,CAClE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,2DAA4D,CAC5D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-table-column-resizer-hover);
	opacity: 0.25;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const Jr=Zr},3881:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},6237:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},7341:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},6945:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},4906:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const Jr=Zr},5332:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingâpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const Jr=Zr},6781:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const Jr=Zr},3398:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAMD,CAJC,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const Jr=Zr},5485:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},3949:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},7686:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},7339:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const Jr=Zr},9688:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const Jr=Zr},8847:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const Jr=Zr},6574:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},4879:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const Jr=Zr},3662:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const Jr=Zr},2577:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},1046:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},8793:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const Jr=Zr},4650:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const Jr=Zr},7676:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const Jr=Zr},5868:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const Jr=Zr},6764:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const Jr=Zr},9695:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const Jr=Zr},5542:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const Jr=Zr},3332:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const Jr=Zr},4793:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const Jr=Zr},3488:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const Jr=Zr},8506:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const Jr=Zr},4921:(zr,Vr,jr)=>{jr.d(Vr,{Z:()=>Jr});var Gr=jr(1799),Wr=jr.n(Gr),Kr=jr(2609),Zr=jr.n(Kr)()(Wr());Zr.push([zr.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const Jr=Zr},2609:zr=>{zr.exports=function(Vr){var jr=[];return jr.toString=function(){return this.map(function(Gr){var Wr=Vr(Gr);return Gr[2]?"@media ".concat(Gr[2]," {").concat(Wr,"}"):Wr}).join("")},jr.i=function(Gr,Wr,Kr){typeof Gr=="string"&&(Gr=[[null,Gr,""]]);var Zr={};if(Kr)for(var Jr=0;Jr<this.length;Jr++){var rn=this[Jr][0];rn!=null&&(Zr[rn]=!0)}for(var nn=0;nn<Gr.length;nn++){var ln=[].concat(Gr[nn]);Kr&&Zr[ln[0]]||(Wr&&(ln[2]?ln[2]="".concat(Wr," and ").concat(ln[2]):ln[2]=Wr),jr.push(ln))}},jr}},1799:zr=>{function Vr(Gr,Wr){return function(Kr){if(Array.isArray(Kr))return Kr}(Gr)||function(Kr,Zr){var Jr=Kr&&(typeof Symbol<"u"&&Kr[Symbol.iterator]||Kr["@@iterator"]);if(Jr!=null){var rn,nn,ln=[],cn=!0,hn=!1;try{for(Jr=Jr.call(Kr);!(cn=(rn=Jr.next()).done)&&(ln.push(rn.value),!Zr||ln.length!==Zr);cn=!0);}catch(mn){hn=!0,nn=mn}finally{try{cn||Jr.return==null||Jr.return()}finally{if(hn)throw nn}}return ln}}(Gr,Wr)||function(Kr,Zr){if(Kr){if(typeof Kr=="string")return jr(Kr,Zr);var Jr=Object.prototype.toString.call(Kr).slice(8,-1);if(Jr==="Object"&&Kr.constructor&&(Jr=Kr.constructor.name),Jr==="Map"||Jr==="Set")return Array.from(Kr);if(Jr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Jr))return jr(Kr,Zr)}}(Gr,Wr)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function jr(Gr,Wr){(Wr==null||Wr>Gr.length)&&(Wr=Gr.length);for(var Kr=0,Zr=new Array(Wr);Kr<Wr;Kr++)Zr[Kr]=Gr[Kr];return Zr}zr.exports=function(Gr){var Wr=Vr(Gr,4),Kr=Wr[1],Zr=Wr[3];if(!Zr)return Kr;if(typeof btoa=="function"){var Jr=btoa(unescape(encodeURIComponent(JSON.stringify(Zr)))),rn="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Jr),nn="/*# ".concat(rn," */"),ln=Zr.sources.map(function(cn){return"/*# sourceURL=".concat(Zr.sourceRoot||"").concat(cn," */")});return[Kr].concat(ln).concat([nn]).join(`
`)}return[Kr].join(`
`)}},6062:(zr,Vr,jr)=>{var Gr,Wr=function(){return Gr===void 0&&(Gr=!!(window&&document&&document.all&&!window.atob)),Gr},Kr=function(){var dn={};return function(wn){if(dn[wn]===void 0){var xn=document.querySelector(wn);if(window.HTMLIFrameElement&&xn instanceof window.HTMLIFrameElement)try{xn=xn.contentDocument.head}catch{xn=null}dn[wn]=xn}return dn[wn]}}(),Zr=[];function Jr(dn){for(var wn=-1,xn=0;xn<Zr.length;xn++)if(Zr[xn].identifier===dn){wn=xn;break}return wn}function rn(dn,wn){for(var xn={},Mn=[],In=0;In<dn.length;In++){var Hn=dn[In],$n=wn.base?Hn[0]+wn.base:Hn[0],jn=xn[$n]||0,Bn="".concat($n," ").concat(jn);xn[$n]=jn+1;var Gn=Jr(Bn),ei={css:Hn[1],media:Hn[2],sourceMap:Hn[3]};Gn!==-1?(Zr[Gn].references++,Zr[Gn].updater(ei)):Zr.push({identifier:Bn,updater:vn(ei,wn),references:1}),Mn.push(Bn)}return Mn}function nn(dn){var wn=document.createElement("style"),xn=dn.attributes||{};if(xn.nonce===void 0){var Mn=jr.nc;Mn&&(xn.nonce=Mn)}if(Object.keys(xn).forEach(function(Hn){wn.setAttribute(Hn,xn[Hn])}),typeof dn.insert=="function")dn.insert(wn);else{var In=Kr(dn.insert||"head");if(!In)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");In.appendChild(wn)}return wn}var ln,cn=(ln=[],function(dn,wn){return ln[dn]=wn,ln.filter(Boolean).join(`
`)});function hn(dn,wn,xn,Mn){var In=xn?"":Mn.media?"@media ".concat(Mn.media," {").concat(Mn.css,"}"):Mn.css;if(dn.styleSheet)dn.styleSheet.cssText=cn(wn,In);else{var Hn=document.createTextNode(In),$n=dn.childNodes;$n[wn]&&dn.removeChild($n[wn]),$n.length?dn.insertBefore(Hn,$n[wn]):dn.appendChild(Hn)}}function mn(dn,wn,xn){var Mn=xn.css,In=xn.media,Hn=xn.sourceMap;if(In?dn.setAttribute("media",In):dn.removeAttribute("media"),Hn&&typeof btoa<"u"&&(Mn+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Hn))))," */")),dn.styleSheet)dn.styleSheet.cssText=Mn;else{for(;dn.firstChild;)dn.removeChild(dn.firstChild);dn.appendChild(document.createTextNode(Mn))}}var bn=null,An=0;function vn(dn,wn){var xn,Mn,In;if(wn.singleton){var Hn=An++;xn=bn||(bn=nn(wn)),Mn=hn.bind(null,xn,Hn,!1),In=hn.bind(null,xn,Hn,!0)}else xn=nn(wn),Mn=mn.bind(null,xn,wn),In=function(){(function($n){if($n.parentNode===null)return!1;$n.parentNode.removeChild($n)})(xn)};return Mn(dn),function($n){if($n){if($n.css===dn.css&&$n.media===dn.media&&$n.sourceMap===dn.sourceMap)return;Mn(dn=$n)}else In()}}zr.exports=function(dn,wn){(wn=wn||{}).singleton||typeof wn.singleton=="boolean"||(wn.singleton=Wr());var xn=rn(dn=dn||[],wn);return function(Mn){if(Mn=Mn||[],Object.prototype.toString.call(Mn)==="[object Array]"){for(var In=0;In<xn.length;In++){var Hn=Jr(xn[In]);Zr[Hn].references--}for(var $n=rn(Mn,wn),jn=0;jn<xn.length;jn++){var Bn=Jr(xn[jn]);Zr[Bn].references===0&&(Zr[Bn].updater(),Zr.splice(Bn,1))}xn=$n}}}}},Mr={};function $r(zr){var Vr=Mr[zr];if(Vr!==void 0)return Vr.exports;var jr=Mr[zr]={id:zr,exports:{}};return Dr[zr](jr,jr.exports,$r),jr.exports}$r.n=zr=>{var Vr=zr&&zr.__esModule?()=>zr.default:()=>zr;return $r.d(Vr,{a:Vr}),Vr},$r.d=(zr,Vr)=>{for(var jr in Vr)$r.o(Vr,jr)&&!$r.o(zr,jr)&&Object.defineProperty(zr,jr,{enumerable:!0,get:Vr[jr]})},$r.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),$r.o=(zr,Vr)=>Object.prototype.hasOwnProperty.call(zr,Vr),$r.nc=void 0;var Br={};return(()=>{function zr({emitter:Xr,activator:Fr,callback:Ur,contextElements:Yr}){Xr.listenTo(document,"mousedown",(Qr,tn)=>{if(!Fr())return;const sn=typeof tn.composedPath=="function"?tn.composedPath():[],un=typeof Yr=="function"?Yr():Yr;for(const gn of un)if(gn.contains(tn.target)||sn.includes(gn))return;Ur()})}function Vr(Xr){return class extends Xr{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...Fr){super(...Fr),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function jr({view:Xr}){Xr.listenTo(Xr.element,"submit",(Fr,Ur)=>{Ur.preventDefault(),Xr.fire("submit")},{useCapture:!0})}$r.d(Br,{default:()=>zm});const Gr=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var Wr;const Kr={isMac:Zr(Gr),isWindows:(Wr=Gr,Wr.indexOf("windows")>-1),isGecko:function(Xr){return!!Xr.match(/gecko\/\d+/)}(Gr),isSafari:function(Xr){return Xr.indexOf(" applewebkit/")>-1&&Xr.indexOf("chrome")===-1}(Gr),isiOS:function(Xr){return!!Xr.match(/iphone|ipad/i)||Zr(Xr)&&navigator.maxTouchPoints>0}(Gr),isAndroid:function(Xr){return Xr.indexOf("android")>-1}(Gr),isBlink:function(Xr){return Xr.indexOf("chrome/")>-1&&Xr.indexOf("edge/")<0}(Gr),features:{isRegExpUnicodePropertySupported:function(){let Xr=!1;try{Xr="Ä".search(new RegExp("[\\p{L}]","u"))===0}catch{}return Xr}()}};function Zr(Xr){return Xr.indexOf("macintosh")>-1}function Jr(Xr,Fr,Ur,Yr){Ur=Ur||function(gn,kn){return gn===kn};const Qr=Array.isArray(Xr)?Xr:Array.prototype.slice.call(Xr),tn=Array.isArray(Fr)?Fr:Array.prototype.slice.call(Fr),sn=function(gn,kn,Cn){const Dn=rn(gn,kn,Cn);if(Dn===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const Ln=nn(gn,Dn),zn=nn(kn,Dn),Wn=rn(Ln,zn,Cn),Xn=gn.length-Wn,ii=kn.length-Wn;return{firstIndex:Dn,lastIndexOld:Xn,lastIndexNew:ii}}(Qr,tn,Ur);return Yr?function(gn,kn){const{firstIndex:Cn,lastIndexOld:Dn,lastIndexNew:Ln}=gn;if(Cn===-1)return Array(kn).fill("equal");let zn=[];return Cn>0&&(zn=zn.concat(Array(Cn).fill("equal"))),Ln-Cn>0&&(zn=zn.concat(Array(Ln-Cn).fill("insert"))),Dn-Cn>0&&(zn=zn.concat(Array(Dn-Cn).fill("delete"))),Ln<kn&&(zn=zn.concat(Array(kn-Ln).fill("equal"))),zn}(sn,tn.length):function(gn,kn){const Cn=[],{firstIndex:Dn,lastIndexOld:Ln,lastIndexNew:zn}=kn;return zn-Dn>0&&Cn.push({index:Dn,type:"insert",values:gn.slice(Dn,zn)}),Ln-Dn>0&&Cn.push({index:Dn+(zn-Dn),type:"delete",howMany:Ln-Dn}),Cn}(tn,sn)}function rn(Xr,Fr,Ur){for(let Yr=0;Yr<Math.max(Xr.length,Fr.length);Yr++)if(Xr[Yr]===void 0||Fr[Yr]===void 0||!Ur(Xr[Yr],Fr[Yr]))return Yr;return-1}function nn(Xr,Fr){return Xr.slice(Fr).reverse()}function ln(Xr,Fr,Ur){Ur=Ur||function(Xn,ii){return Xn===ii};const Yr=Xr.length,Qr=Fr.length;if(Yr>200||Qr>200||Yr+Qr>300)return ln.fastDiff(Xr,Fr,Ur,!0);let tn,sn;if(Qr<Yr){const Xn=Xr;Xr=Fr,Fr=Xn,tn="delete",sn="insert"}else tn="insert",sn="delete";const un=Xr.length,gn=Fr.length,kn=gn-un,Cn={},Dn={};function Ln(Xn){const ii=(Dn[Xn-1]!==void 0?Dn[Xn-1]:-1)+1,ui=Dn[Xn+1]!==void 0?Dn[Xn+1]:-1,Ti=ii>ui?-1:1;Cn[Xn+Ti]&&(Cn[Xn]=Cn[Xn+Ti].slice(0)),Cn[Xn]||(Cn[Xn]=[]),Cn[Xn].push(ii>ui?tn:sn);let Xi=Math.max(ii,ui),$o=Xi-Xn;for(;$o<un&&Xi<gn&&Ur(Xr[$o],Fr[Xi]);)$o++,Xi++,Cn[Xn].push("equal");return Xi}let zn,Wn=0;do{for(zn=-Wn;zn<kn;zn++)Dn[zn]=Ln(zn);for(zn=kn+Wn;zn>kn;zn--)Dn[zn]=Ln(zn);Dn[kn]=Ln(kn),Wn++}while(Dn[kn]!==gn);return Cn[kn].slice(1)}ln.fastDiff=Jr;const cn=function(){return function Xr(){Xr.called=!0}};class hn{constructor(Fr,Ur){this.source=Fr,this.name=Ur,this.path=[],this.stop=cn(),this.off=cn()}}const mn=new Array(256).fill("").map((Xr,Fr)=>("0"+Fr.toString(16)).slice(-2));function bn(){const Xr=4294967296*Math.random()>>>0,Fr=4294967296*Math.random()>>>0,Ur=4294967296*Math.random()>>>0,Yr=4294967296*Math.random()>>>0;return"e"+mn[Xr>>0&255]+mn[Xr>>8&255]+mn[Xr>>16&255]+mn[Xr>>24&255]+mn[Fr>>0&255]+mn[Fr>>8&255]+mn[Fr>>16&255]+mn[Fr>>24&255]+mn[Ur>>0&255]+mn[Ur>>8&255]+mn[Ur>>16&255]+mn[Ur>>24&255]+mn[Yr>>0&255]+mn[Yr>>8&255]+mn[Yr>>16&255]+mn[Yr>>24&255]}const An={get(Xr="normal"){return typeof Xr!="number"?this[Xr]||this.normal:Xr},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function vn(Xr,Fr){const Ur=An.get(Fr.priority);for(let Yr=0;Yr<Xr.length;Yr++)if(An.get(Xr[Yr].priority)<Ur)return void Xr.splice(Yr,0,Fr);Xr.push(Fr)}const dn="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class wn extends Error{constructor(Fr,Ur,Yr){super(function(Qr,tn){const sn=new WeakSet,un=(Cn,Dn)=>{if(typeof Dn=="object"&&Dn!==null){if(sn.has(Dn))return`[object ${Dn.constructor.name}]`;sn.add(Dn)}return Dn},gn=tn?` ${JSON.stringify(tn,un)}`:"",kn=In(Qr);return Qr+gn+kn}(Fr,Yr)),this.name="CKEditorError",this.context=Ur,this.data=Yr}is(Fr){return Fr==="CKEditorError"}static rethrowUnexpectedError(Fr,Ur){if(Fr.is&&Fr.is("CKEditorError"))throw Fr;const Yr=new wn(Fr.message,Ur);throw Yr.stack=Fr.stack,Yr}}function xn(Xr,Fr){console.warn(...Hn(Xr,Fr))}function Mn(Xr,Fr){console.error(...Hn(Xr,Fr))}function In(Xr){return`
Read more: ${dn}#error-${Xr}`}function Hn(Xr,Fr){const Ur=In(Xr);return Fr?[Xr,Fr,Ur]:[Xr,Ur]}const $n="38.1.1",jn=new Date(2023,6,11),Bn=typeof window=="object"?window:$r.g;if(Bn.CKEDITOR_VERSION)throw new wn("ckeditor-duplicated-modules",null);Bn.CKEDITOR_VERSION=$n;const Gn=Symbol("listeningTo"),ei=Symbol("emitterId"),ri=Symbol("delegations"),vi=wi(Object);function wi(Xr){return Xr?class extends Xr{on(Fr,Ur,Yr){this.listenTo(this,Fr,Ur,Yr)}once(Fr,Ur,Yr){let Qr=!1;this.listenTo(this,Fr,(tn,...sn)=>{Qr||(Qr=!0,tn.off(),Ur.call(this,tn,...sn))},Yr)}off(Fr,Ur){this.stopListening(this,Fr,Ur)}listenTo(Fr,Ur,Yr,Qr={}){let tn,sn;this[Gn]||(this[Gn]={});const un=this[Gn];Yn(Fr)||Ni(Fr);const gn=Yn(Fr);(tn=un[gn])||(tn=un[gn]={emitter:Fr,callbacks:{}}),(sn=tn.callbacks[Ur])||(sn=tn.callbacks[Ur]=[]),sn.push(Yr),function(kn,Cn,Dn,Ln,zn){Cn._addEventListener?Cn._addEventListener(Dn,Ln,zn):kn._addEventListener.call(Cn,Dn,Ln,zn)}(this,Fr,Ur,Yr,Qr)}stopListening(Fr,Ur,Yr){const Qr=this[Gn];let tn=Fr&&Yn(Fr);const sn=Qr&&tn?Qr[tn]:void 0,un=sn&&Ur?sn.callbacks[Ur]:void 0;if(!(!Qr||Fr&&!sn||Ur&&!un))if(Yr)Fi(this,Fr,Ur,Yr),un.indexOf(Yr)!==-1&&(un.length===1?delete sn.callbacks[Ur]:Fi(this,Fr,Ur,Yr));else if(un){for(;Yr=un.pop();)Fi(this,Fr,Ur,Yr);delete sn.callbacks[Ur]}else if(sn){for(Ur in sn.callbacks)this.stopListening(Fr,Ur);delete Qr[tn]}else{for(tn in Qr)this.stopListening(Qr[tn].emitter);delete this[Gn]}}fire(Fr,...Ur){try{const Yr=Fr instanceof hn?Fr:new hn(this,Fr),Qr=Yr.name;let tn=Ri(this,Qr);if(Yr.path.push(this),tn){const un=[Yr,...Ur];tn=Array.from(tn);for(let gn=0;gn<tn.length&&(tn[gn].callback.apply(this,un),Yr.off.called&&(delete Yr.off.called,this._removeEventListener(Qr,tn[gn].callback)),!Yr.stop.called);gn++);}const sn=this[ri];if(sn){const un=sn.get(Qr),gn=sn.get("*");un&&Pi(un,Yr,Ur),gn&&Pi(gn,Yr,Ur)}return Yr.return}catch(Yr){wn.rethrowUnexpectedError(Yr,this)}}delegate(...Fr){return{to:(Ur,Yr)=>{this[ri]||(this[ri]=new Map),Fr.forEach(Qr=>{const tn=this[ri].get(Qr);tn?tn.set(Ur,Yr):this[ri].set(Qr,new Map([[Ur,Yr]]))})}}}stopDelegating(Fr,Ur){if(this[ri])if(Fr)if(Ur){const Yr=this[ri].get(Fr);Yr&&Yr.delete(Ur)}else this[ri].delete(Fr);else this[ri].clear()}_addEventListener(Fr,Ur,Yr){(function(sn,un){const gn=Vn(sn);if(gn[un])return;let kn=un,Cn=null;const Dn=[];for(;kn!==""&&!gn[kn];)gn[kn]={callbacks:[],childEvents:[]},Dn.push(gn[kn]),Cn&&gn[kn].childEvents.push(Cn),Cn=kn,kn=kn.substr(0,kn.lastIndexOf(":"));if(kn!==""){for(const Ln of Dn)Ln.callbacks=gn[kn].callbacks.slice();gn[kn].childEvents.push(Cn)}})(this,Fr);const Qr=si(this,Fr),tn={callback:Ur,priority:An.get(Yr.priority)};for(const sn of Qr)vn(sn,tn)}_removeEventListener(Fr,Ur){const Yr=si(this,Fr);for(const Qr of Yr)for(let tn=0;tn<Qr.length;tn++)Qr[tn].callback==Ur&&(Qr.splice(tn,1),tn--)}}:vi}function Ni(Xr,Fr){Xr[ei]||(Xr[ei]=Fr||bn())}function Yn(Xr){return Xr[ei]}function Vn(Xr){return Xr._events||Object.defineProperty(Xr,"_events",{value:{}}),Xr._events}function si(Xr,Fr){const Ur=Vn(Xr)[Fr];if(!Ur)return[];let Yr=[Ur.callbacks];for(let Qr=0;Qr<Ur.childEvents.length;Qr++){const tn=si(Xr,Ur.childEvents[Qr]);Yr=Yr.concat(tn)}return Yr}function Ri(Xr,Fr){let Ur;return Xr._events&&(Ur=Xr._events[Fr])&&Ur.callbacks.length?Ur.callbacks:Fr.indexOf(":")>-1?Ri(Xr,Fr.substr(0,Fr.lastIndexOf(":"))):null}function Pi(Xr,Fr,Ur){for(let[Yr,Qr]of Xr){Qr?typeof Qr=="function"&&(Qr=Qr(Fr.name)):Qr=Fr.name;const tn=new hn(Fr.source,Qr);tn.path=[...Fr.path],Yr.fire(tn,...Ur)}}function Fi(Xr,Fr,Ur,Yr){Fr._removeEventListener?Fr._removeEventListener(Ur,Yr):Xr._removeEventListener.call(Fr,Ur,Yr)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(Xr=>{wi[Xr]=vi.prototype[Xr]});const zi=function(Xr){var Fr=typeof Xr;return Xr!=null&&(Fr=="object"||Fr=="function")},oo=Symbol("observableProperties"),lo=Symbol("boundObservables"),io=Symbol("boundProperties"),Wi=Symbol("decoratedMethods"),Bo=Symbol("decoratedOriginal"),Mo=Zi(wi());function Zi(Xr){return Xr?class extends Xr{set(Fr,Ur){if(zi(Fr))return void Object.keys(Fr).forEach(Qr=>{this.set(Qr,Fr[Qr])},this);Zo(this);const Yr=this[oo];if(Fr in this&&!Yr.has(Fr))throw new wn("observable-set-cannot-override",this);Object.defineProperty(this,Fr,{enumerable:!0,configurable:!0,get:()=>Yr.get(Fr),set(Qr){const tn=Yr.get(Fr);let sn=this.fire(`set:${Fr}`,Fr,Qr,tn);sn===void 0&&(sn=Qr),tn===sn&&Yr.has(Fr)||(Yr.set(Fr,sn),this.fire(`change:${Fr}`,Fr,sn,tn))}}),this[Fr]=Ur}bind(...Fr){if(!Fr.length||!ba(Fr))throw new wn("observable-bind-wrong-properties",this);if(new Set(Fr).size!==Fr.length)throw new wn("observable-bind-duplicate-properties",this);Zo(this);const Ur=this[io];Fr.forEach(Qr=>{if(Ur.has(Qr))throw new wn("observable-bind-rebind",this)});const Yr=new Map;return Fr.forEach(Qr=>{const tn={property:Qr,to:[]};Ur.set(Qr,tn),Yr.set(Qr,tn)}),{to:Wo,toMany:Ao,_observable:this,_bindProperties:Fr,_to:[],_bindings:Yr}}unbind(...Fr){if(!this[oo])return;const Ur=this[io],Yr=this[lo];if(Fr.length){if(!ba(Fr))throw new wn("observable-unbind-wrong-properties",this);Fr.forEach(Qr=>{const tn=Ur.get(Qr);tn&&(tn.to.forEach(([sn,un])=>{const gn=Yr.get(sn),kn=gn[un];kn.delete(tn),kn.size||delete gn[un],Object.keys(gn).length||(Yr.delete(sn),this.stopListening(sn,"change"))}),Ur.delete(Qr))})}else Yr.forEach((Qr,tn)=>{this.stopListening(tn,"change")}),Yr.clear(),Ur.clear()}decorate(Fr){Zo(this);const Ur=this[Fr];if(!Ur)throw new wn("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:Fr});this.on(Fr,(Yr,Qr)=>{Yr.return=Ur.apply(this,Qr)}),this[Fr]=function(...Yr){return this.fire(Fr,Yr)},this[Fr][Bo]=Ur,this[Wi]||(this[Wi]=[]),this[Wi].push(Fr)}stopListening(Fr,Ur,Yr){if(!Fr&&this[Wi]){for(const Qr of this[Wi])this[Qr]=this[Qr][Bo];delete this[Wi]}super.stopListening(Fr,Ur,Yr)}}:Mo}function Zo(Xr){Xr[oo]||(Object.defineProperty(Xr,oo,{value:new Map}),Object.defineProperty(Xr,lo,{value:new Map}),Object.defineProperty(Xr,io,{value:new Map}))}function Wo(...Xr){const Fr=function(...tn){if(!tn.length)throw new wn("observable-bind-to-parse-error",null);const sn={to:[]};let un;return typeof tn[tn.length-1]=="function"&&(sn.callback=tn.pop()),tn.forEach(gn=>{if(typeof gn=="string")un.properties.push(gn);else{if(typeof gn!="object")throw new wn("observable-bind-to-parse-error",null);un={observable:gn,properties:[]},sn.to.push(un)}}),sn}(...Xr),Ur=Array.from(this._bindings.keys()),Yr=Ur.length;if(!Fr.callback&&Fr.to.length>1)throw new wn("observable-bind-to-no-callback",this);if(Yr>1&&Fr.callback)throw new wn("observable-bind-to-extra-callback",this);var Qr;Fr.to.forEach(tn=>{if(tn.properties.length&&tn.properties.length!==Yr)throw new wn("observable-bind-to-properties-length",this);tn.properties.length||(tn.properties=this._bindProperties)}),this._to=Fr.to,Fr.callback&&(this._bindings.get(Ur[0]).callback=Fr.callback),Qr=this._observable,this._to.forEach(tn=>{const sn=Qr[lo];let un;sn.get(tn.observable)||Qr.listenTo(tn.observable,"change",(gn,kn)=>{un=sn.get(tn.observable)[kn],un&&un.forEach(Cn=>{Va(Qr,Cn.property)})})}),function(tn){let sn;tn._bindings.forEach((un,gn)=>{tn._to.forEach(kn=>{sn=kn.properties[un.callback?0:tn._bindProperties.indexOf(gn)],un.to.push([kn.observable,sn]),function(Cn,Dn,Ln,zn){const Wn=Cn[lo],Xn=Wn.get(Ln),ii=Xn||{};ii[zn]||(ii[zn]=new Set),ii[zn].add(Dn),Xn||Wn.set(Ln,ii)}(tn._observable,un,kn.observable,sn)})})}(this),this._bindProperties.forEach(tn=>{Va(this._observable,tn)})}function Ao(Xr,Fr,Ur){if(this._bindings.size>1)throw new wn("observable-bind-to-many-not-one-binding",this);this.to(...function(Yr,Qr){const tn=Yr.map(sn=>[sn,Qr]);return Array.prototype.concat.apply([],tn)}(Xr,Fr),Ur)}function ba(Xr){return Xr.every(Fr=>typeof Fr=="string")}function Va(Xr,Fr){const Ur=Xr[io].get(Fr);let Yr;Ur.callback?Yr=Ur.callback.apply(Xr,Ur.to.map(Qr=>Qr[0][Qr[1]])):(Yr=Ur.to[0],Yr=Yr[0][Yr[1]]),Object.prototype.hasOwnProperty.call(Xr,Fr)?Xr[Fr]=Yr:Xr.set(Fr,Yr)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(Xr=>{Zi[Xr]=Mo.prototype[Xr]});class Ia{constructor(){this._replacedElements=[]}replace(Fr,Ur){this._replacedElements.push({element:Fr,newElement:Ur}),Fr.style.display="none",Ur&&Fr.parentNode.insertBefore(Ur,Fr.nextSibling)}restore(){this._replacedElements.forEach(({element:Fr,newElement:Ur})=>{Fr.style.display="",Ur&&Ur.remove()}),this._replacedElements=[]}}function Ua(Xr){let Fr=0;for(const Ur of Xr)Fr++;return Fr}function ka(Xr,Fr){const Ur=Math.min(Xr.length,Fr.length);for(let Yr=0;Yr<Ur;Yr++)if(Xr[Yr]!=Fr[Yr])return Yr;return Xr.length==Fr.length?"same":Xr.length<Fr.length?"prefix":"extension"}function xi(Xr){return!(!Xr||!Xr[Symbol.iterator])}const ci=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;var _i=typeof self=="object"&&self&&self.Object===Object&&self;const Jn=ci||_i||Function("return this")(),ni=Jn.Symbol;var mi=Object.prototype,di=mi.hasOwnProperty,ki=mi.toString,ao=ni?ni.toStringTag:void 0;const so=function(Xr){var Fr=di.call(Xr,ao),Ur=Xr[ao];try{Xr[ao]=void 0;var Yr=!0}catch{}var Qr=ki.call(Xr);return Yr&&(Fr?Xr[ao]=Ur:delete Xr[ao]),Qr};var vo=Object.prototype.toString;const Eo=function(Xr){return vo.call(Xr)};var Xo=ni?ni.toStringTag:void 0;const Hi=function(Xr){return Xr==null?Xr===void 0?"[object Undefined]":"[object Null]":Xo&&Xo in Object(Xr)?so(Xr):Eo(Xr)},Po=Array.isArray,ro=function(Xr){return Xr!=null&&typeof Xr=="object"},ea=function(Xr){return typeof Xr=="string"||!Po(Xr)&&ro(Xr)&&Hi(Xr)=="[object String]"};function la(Xr,Fr,Ur={},Yr=[]){const Qr=Ur&&Ur.xmlns,tn=Qr?Xr.createElementNS(Qr,Fr):Xr.createElement(Fr);for(const sn in Ur)tn.setAttribute(sn,Ur[sn]);!ea(Yr)&&xi(Yr)||(Yr=[Yr]);for(let sn of Yr)ea(sn)&&(sn=Xr.createTextNode(sn)),tn.appendChild(sn);return tn}const rs=function(Xr,Fr){return function(Ur){return Xr(Fr(Ur))}},ca=rs(Object.getPrototypeOf,Object);var es=Function.prototype,Pa=Object.prototype,bs=es.toString,qs=Pa.hasOwnProperty,il=bs.call(Object);const us=function(Xr){if(!ro(Xr)||Hi(Xr)!="[object Object]")return!1;var Fr=ca(Xr);if(Fr===null)return!0;var Ur=qs.call(Fr,"constructor")&&Fr.constructor;return typeof Ur=="function"&&Ur instanceof Ur&&bs.call(Ur)==il},Vl=function(){this.__data__=[],this.size=0},Bs=function(Xr,Fr){return Xr===Fr||Xr!=Xr&&Fr!=Fr},Ts=function(Xr,Fr){for(var Ur=Xr.length;Ur--;)if(Bs(Xr[Ur][0],Fr))return Ur;return-1};var Si=Array.prototype.splice;const Mi=function(Xr){var Fr=this.__data__,Ur=Ts(Fr,Xr);return!(Ur<0)&&(Ur==Fr.length-1?Fr.pop():Si.call(Fr,Ur,1),--this.size,!0)},Gi=function(Xr){var Fr=this.__data__,Ur=Ts(Fr,Xr);return Ur<0?void 0:Fr[Ur][1]},yo=function(Xr){return Ts(this.__data__,Xr)>-1},zo=function(Xr,Fr){var Ur=this.__data__,Yr=Ts(Ur,Xr);return Yr<0?(++this.size,Ur.push([Xr,Fr])):Ur[Yr][1]=Fr,this};function xo(Xr){var Fr=-1,Ur=Xr==null?0:Xr.length;for(this.clear();++Fr<Ur;){var Yr=Xr[Fr];this.set(Yr[0],Yr[1])}}xo.prototype.clear=Vl,xo.prototype.delete=Mi,xo.prototype.get=Gi,xo.prototype.has=yo,xo.prototype.set=zo;const bo=xo,Sa=function(){this.__data__=new bo,this.size=0},Io=function(Xr){var Fr=this.__data__,Ur=Fr.delete(Xr);return this.size=Fr.size,Ur},aa=function(Xr){return this.__data__.get(Xr)},ma=function(Xr){return this.__data__.has(Xr)},Na=function(Xr){if(!zi(Xr))return!1;var Fr=Hi(Xr);return Fr=="[object Function]"||Fr=="[object GeneratorFunction]"||Fr=="[object AsyncFunction]"||Fr=="[object Proxy]"},ts=Jn["__core-js_shared__"];var Oa=function(){var Xr=/[^.]+$/.exec(ts&&ts.keys&&ts.keys.IE_PROTO||"");return Xr?"Symbol(src)_1."+Xr:""}();const Ga=function(Xr){return!!Oa&&Oa in Xr};var ra=Function.prototype.toString;const Yo=function(Xr){if(Xr!=null){try{return ra.call(Xr)}catch{}try{return Xr+""}catch{}}return""};var na=/^\[object .+?Constructor\]$/,qo=Function.prototype,ko=Object.prototype,bi=qo.toString,ds=ko.hasOwnProperty,sa=RegExp("^"+bi.call(ds).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ms=function(Xr){return!(!zi(Xr)||Ga(Xr))&&(Na(Xr)?sa:na).test(Yo(Xr))},Aa=function(Xr,Fr){return Xr==null?void 0:Xr[Fr]},Fs=function(Xr,Fr){var Ur=Aa(Xr,Fr);return Ms(Ur)?Ur:void 0},Qs=Fs(Jn,"Map"),ol=Fs(Object,"create"),Ji=function(){this.__data__=ol?ol(null):{},this.size=0},Uo=function(Xr){var Fr=this.has(Xr)&&delete this.__data__[Xr];return this.size-=Fr?1:0,Fr};var hs=Object.prototype.hasOwnProperty;const ml=function(Xr){var Fr=this.__data__;if(ol){var Ur=Fr[Xr];return Ur==="__lodash_hash_undefined__"?void 0:Ur}return hs.call(Fr,Xr)?Fr[Xr]:void 0};var hi=Object.prototype.hasOwnProperty;const oi=function(Xr){var Fr=this.__data__;return ol?Fr[Xr]!==void 0:hi.call(Fr,Xr)},Di=function(Xr,Fr){var Ur=this.__data__;return this.size+=this.has(Xr)?0:1,Ur[Xr]=ol&&Fr===void 0?"__lodash_hash_undefined__":Fr,this};function Li(Xr){var Fr=-1,Ur=Xr==null?0:Xr.length;for(this.clear();++Fr<Ur;){var Yr=Xr[Fr];this.set(Yr[0],Yr[1])}}Li.prototype.clear=Ji,Li.prototype.delete=Uo,Li.prototype.get=ml,Li.prototype.has=oi,Li.prototype.set=Di;const Qi=Li,po=function(){this.size=0,this.__data__={hash:new Qi,map:new(Qs||bo),string:new Qi}},To=function(Xr){var Fr=typeof Xr;return Fr=="string"||Fr=="number"||Fr=="symbol"||Fr=="boolean"?Xr!=="__proto__":Xr===null},ho=function(Xr,Fr){var Ur=Xr.__data__;return To(Fr)?Ur[typeof Fr=="string"?"string":"hash"]:Ur.map},Ho=function(Xr){var Fr=ho(this,Xr).delete(Xr);return this.size-=Fr?1:0,Fr},Ko=function(Xr){return ho(this,Xr).get(Xr)},So=function(Xr){return ho(this,Xr).has(Xr)},Ra=function(Xr,Fr){var Ur=ho(this,Xr),Yr=Ur.size;return Ur.set(Xr,Fr),this.size+=Ur.size==Yr?0:1,this};function Ja(Xr){var Fr=-1,Ur=Xr==null?0:Xr.length;for(this.clear();++Fr<Ur;){var Yr=Xr[Fr];this.set(Yr[0],Yr[1])}}Ja.prototype.clear=po,Ja.prototype.delete=Ho,Ja.prototype.get=Ko,Ja.prototype.has=So,Ja.prototype.set=Ra;const Da=Ja,ha=function(Xr,Fr){var Ur=this.__data__;if(Ur instanceof bo){var Yr=Ur.__data__;if(!Qs||Yr.length<199)return Yr.push([Xr,Fr]),this.size=++Ur.size,this;Ur=this.__data__=new Da(Yr)}return Ur.set(Xr,Fr),this.size=Ur.size,this};function Ea(Xr){var Fr=this.__data__=new bo(Xr);this.size=Fr.size}Ea.prototype.clear=Sa,Ea.prototype.delete=Io,Ea.prototype.get=aa,Ea.prototype.has=ma,Ea.prototype.set=ha;const Ca=Ea,_s=function(Xr,Fr){for(var Ur=-1,Yr=Xr==null?0:Xr.length;++Ur<Yr&&Fr(Xr[Ur],Ur,Xr)!==!1;);return Xr},Wa=function(){try{var Xr=Fs(Object,"defineProperty");return Xr({},"",{}),Xr}catch{}}(),fs=function(Xr,Fr,Ur){Fr=="__proto__"&&Wa?Wa(Xr,Fr,{configurable:!0,enumerable:!0,value:Ur,writable:!0}):Xr[Fr]=Ur};var oa=Object.prototype.hasOwnProperty;const va=function(Xr,Fr,Ur){var Yr=Xr[Fr];oa.call(Xr,Fr)&&Bs(Yr,Ur)&&(Ur!==void 0||Fr in Xr)||fs(Xr,Fr,Ur)},Ba=function(Xr,Fr,Ur,Yr){var Qr=!Ur;Ur||(Ur={});for(var tn=-1,sn=Fr.length;++tn<sn;){var un=Fr[tn],gn=Yr?Yr(Ur[un],Xr[un],un,Ur,Xr):void 0;gn===void 0&&(gn=Xr[un]),Qr?fs(Ur,un,gn):va(Ur,un,gn)}return Ur},ps=function(Xr,Fr){for(var Ur=-1,Yr=Array(Xr);++Ur<Xr;)Yr[Ur]=Fr(Ur);return Yr},Za=function(Xr){return ro(Xr)&&Hi(Xr)=="[object Arguments]"};var gs=Object.prototype,Ss=gs.hasOwnProperty,ws=gs.propertyIsEnumerable;const xl=Za(function(){return arguments}())?Za:function(Xr){return ro(Xr)&&Ss.call(Xr,"callee")&&!ws.call(Xr,"callee")},al=function(){return!1};var Il=Be&&!Be.nodeType&&Be,Ql=Il&&!0&&_r&&!_r.nodeType&&_r,vl=Ql&&Ql.exports===Il?Jn.Buffer:void 0;const yl=(vl?vl.isBuffer:void 0)||al;var xc=/^(?:0|[1-9]\d*)$/;const dl=function(Xr,Fr){var Ur=typeof Xr;return!!(Fr=Fr??9007199254740991)&&(Ur=="number"||Ur!="symbol"&&xc.test(Xr))&&Xr>-1&&Xr%1==0&&Xr<Fr},Ll=function(Xr){return typeof Xr=="number"&&Xr>-1&&Xr%1==0&&Xr<=9007199254740991};var Ta={};Ta["[object Float32Array]"]=Ta["[object Float64Array]"]=Ta["[object Int8Array]"]=Ta["[object Int16Array]"]=Ta["[object Int32Array]"]=Ta["[object Uint8Array]"]=Ta["[object Uint8ClampedArray]"]=Ta["[object Uint16Array]"]=Ta["[object Uint32Array]"]=!0,Ta["[object Arguments]"]=Ta["[object Array]"]=Ta["[object ArrayBuffer]"]=Ta["[object Boolean]"]=Ta["[object DataView]"]=Ta["[object Date]"]=Ta["[object Error]"]=Ta["[object Function]"]=Ta["[object Map]"]=Ta["[object Number]"]=Ta["[object Object]"]=Ta["[object RegExp]"]=Ta["[object Set]"]=Ta["[object String]"]=Ta["[object WeakMap]"]=!1;const qi=function(Xr){return ro(Xr)&&Ll(Xr.length)&&!!Ta[Hi(Xr)]},Fo=function(Xr){return function(Fr){return Xr(Fr)}};var jo=Be&&!Be.nodeType&&Be,ua=jo&&!0&&_r&&!_r.nodeType&&_r,xa=ua&&ua.exports===jo&&ci.process;const Ya=function(){try{var Xr=ua&&ua.require&&ua.require("util").types;return Xr||xa&&xa.binding&&xa.binding("util")}catch{}}();var Is=Ya&&Ya.isTypedArray;const Ls=Is?Fo(Is):qi;var dc=Object.prototype.hasOwnProperty;const bl=function(Xr,Fr){var Ur=Po(Xr),Yr=!Ur&&xl(Xr),Qr=!Ur&&!Yr&&yl(Xr),tn=!Ur&&!Yr&&!Qr&&Ls(Xr),sn=Ur||Yr||Qr||tn,un=sn?ps(Xr.length,String):[],gn=un.length;for(var kn in Xr)!Fr&&!dc.call(Xr,kn)||sn&&(kn=="length"||Qr&&(kn=="offset"||kn=="parent")||tn&&(kn=="buffer"||kn=="byteLength"||kn=="byteOffset")||dl(kn,gn))||un.push(kn);return un};var Sl=Object.prototype;const jl=function(Xr){var Fr=Xr&&Xr.constructor;return Xr===(typeof Fr=="function"&&Fr.prototype||Sl)},sl=rs(Object.keys,Object);var _n=Object.prototype.hasOwnProperty;const Sn=function(Xr){if(!jl(Xr))return sl(Xr);var Fr=[];for(var Ur in Object(Xr))_n.call(Xr,Ur)&&Ur!="constructor"&&Fr.push(Ur);return Fr},Pn=function(Xr){return Xr!=null&&Ll(Xr.length)&&!Na(Xr)},Nn=function(Xr){return Pn(Xr)?bl(Xr):Sn(Xr)},qn=function(Xr,Fr){return Xr&&Ba(Fr,Nn(Fr),Xr)},Kn=function(Xr){var Fr=[];if(Xr!=null)for(var Ur in Object(Xr))Fr.push(Ur);return Fr};var ti=Object.prototype.hasOwnProperty;const yi=function(Xr){if(!zi(Xr))return Kn(Xr);var Fr=jl(Xr),Ur=[];for(var Yr in Xr)(Yr!="constructor"||!Fr&&ti.call(Xr,Yr))&&Ur.push(Yr);return Ur},gi=function(Xr){return Pn(Xr)?bl(Xr,!0):yi(Xr)},Ei=function(Xr,Fr){return Xr&&Ba(Fr,gi(Fr),Xr)};var ji=Be&&!Be.nodeType&&Be,eo=ji&&!0&&_r&&!_r.nodeType&&_r,$i=eo&&eo.exports===ji?Jn.Buffer:void 0,uo=$i?$i.allocUnsafe:void 0;const da=function(Xr,Fr){if(Fr)return Xr.slice();var Ur=Xr.length,Yr=uo?uo(Ur):new Xr.constructor(Ur);return Xr.copy(Yr),Yr},Fa=function(Xr,Fr){var Ur=-1,Yr=Xr.length;for(Fr||(Fr=Array(Yr));++Ur<Yr;)Fr[Ur]=Xr[Ur];return Fr},fa=function(Xr,Fr){for(var Ur=-1,Yr=Xr==null?0:Xr.length,Qr=0,tn=[];++Ur<Yr;){var sn=Xr[Ur];Fr(sn,Ur,Xr)&&(tn[Qr++]=sn)}return tn},Ps=function(){return[]};var Ks=Object.prototype.propertyIsEnumerable,Kl=Object.getOwnPropertySymbols;const Ul=Kl?function(Xr){return Xr==null?[]:(Xr=Object(Xr),fa(Kl(Xr),function(Fr){return Ks.call(Xr,Fr)}))}:Ps,Ma=function(Xr,Fr){return Ba(Xr,Ul(Xr),Fr)},vs=function(Xr,Fr){for(var Ur=-1,Yr=Fr.length,Qr=Xr.length;++Ur<Yr;)Xr[Qr+Ur]=Fr[Ur];return Xr},Ka=Object.getOwnPropertySymbols?function(Xr){for(var Fr=[];Xr;)vs(Fr,Ul(Xr)),Xr=ca(Xr);return Fr}:Ps,Es=function(Xr,Fr){return Ba(Xr,Ka(Xr),Fr)},Jl=function(Xr,Fr,Ur){var Yr=Fr(Xr);return Po(Xr)?Yr:vs(Yr,Ur(Xr))},Gc=function(Xr){return Jl(Xr,Nn,Ul)},_l=function(Xr){return Jl(Xr,gi,Ka)},Lc=Fs(Jn,"DataView"),Pl=Fs(Jn,"Promise"),ec=Fs(Jn,"Set"),tc=Fs(Jn,"WeakMap");var Ol="[object Map]",Wc="[object Promise]",rc="[object Set]",hc="[object WeakMap]",Yc="[object DataView]",mc=Yo(Lc),hu=Yo(Qs),ns=Yo(Pl),qc=Yo(ec),Zs=Yo(tc),Js=Hi;(Lc&&Js(new Lc(new ArrayBuffer(1)))!=Yc||Qs&&Js(new Qs)!=Ol||Pl&&Js(Pl.resolve())!=Wc||ec&&Js(new ec)!=rc||tc&&Js(new tc)!=hc)&&(Js=function(Xr){var Fr=Hi(Xr),Ur=Fr=="[object Object]"?Xr.constructor:void 0,Yr=Ur?Yo(Ur):"";if(Yr)switch(Yr){case mc:return Yc;case hu:return Ol;case ns:return Wc;case qc:return rc;case Zs:return hc}return Fr});const vc=Js;var $d=Object.prototype.hasOwnProperty;const Ku=function(Xr){var Fr=Xr.length,Ur=new Xr.constructor(Fr);return Fr&&typeof Xr[0]=="string"&&$d.call(Xr,"index")&&(Ur.index=Xr.index,Ur.input=Xr.input),Ur},fc=Jn.Uint8Array,Kc=function(Xr){var Fr=new Xr.constructor(Xr.byteLength);return new fc(Fr).set(new fc(Xr)),Fr},Gl=function(Xr,Fr){var Ur=Fr?Kc(Xr.buffer):Xr.buffer;return new Xr.constructor(Ur,Xr.byteOffset,Xr.byteLength)};var Pc=/\w*$/;const Rl=function(Xr){var Fr=new Xr.constructor(Xr.source,Pc.exec(Xr));return Fr.lastIndex=Xr.lastIndex,Fr};var Zc=ni?ni.prototype:void 0,Xc=Zc?Zc.valueOf:void 0;const Tu=function(Xr){return Xc?Object(Xc.call(Xr)):{}},gd=function(Xr,Fr){var Ur=Fr?Kc(Xr.buffer):Xr.buffer;return new Xr.constructor(Ur,Xr.byteOffset,Xr.length)},Mu=function(Xr,Fr,Ur){var Yr=Xr.constructor;switch(Fr){case"[object ArrayBuffer]":return Kc(Xr);case"[object Boolean]":case"[object Date]":return new Yr(+Xr);case"[object DataView]":return Gl(Xr,Ur);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gd(Xr,Ur);case"[object Map]":case"[object Set]":return new Yr;case"[object Number]":case"[object String]":return new Yr(Xr);case"[object RegExp]":return Rl(Xr);case"[object Symbol]":return Tu(Xr)}};var fu=Object.create;const Iu=function(){function Xr(){}return function(Fr){if(!zi(Fr))return{};if(fu)return fu(Fr);Xr.prototype=Fr;var Ur=new Xr;return Xr.prototype=void 0,Ur}}(),Oc=function(Xr){return typeof Xr.constructor!="function"||jl(Xr)?{}:Iu(ca(Xr))},pu=function(Xr){return ro(Xr)&&vc(Xr)=="[object Map]"};var Lu=Ya&&Ya.isMap;const li=Lu?Fo(Lu):pu,Ai=function(Xr){return ro(Xr)&&vc(Xr)=="[object Set]"};var Oi=Ya&&Ya.isSet;const Bi=Oi?Fo(Oi):Ai;var Yi="[object Arguments]",wo="[object Function]",Ro="[object Object]",_o={};_o[Yi]=_o["[object Array]"]=_o["[object ArrayBuffer]"]=_o["[object DataView]"]=_o["[object Boolean]"]=_o["[object Date]"]=_o["[object Float32Array]"]=_o["[object Float64Array]"]=_o["[object Int8Array]"]=_o["[object Int16Array]"]=_o["[object Int32Array]"]=_o["[object Map]"]=_o["[object Number]"]=_o[Ro]=_o["[object RegExp]"]=_o["[object Set]"]=_o["[object String]"]=_o["[object Symbol]"]=_o["[object Uint8Array]"]=_o["[object Uint8ClampedArray]"]=_o["[object Uint16Array]"]=_o["[object Uint32Array]"]=!0,_o["[object Error]"]=_o[wo]=_o["[object WeakMap]"]=!1;const Oo=function Xr(Fr,Ur,Yr,Qr,tn,sn){var un,gn=1&Ur,kn=2&Ur,Cn=4&Ur;if(Yr&&(un=tn?Yr(Fr,Qr,tn,sn):Yr(Fr)),un!==void 0)return un;if(!zi(Fr))return Fr;var Dn=Po(Fr);if(Dn){if(un=Ku(Fr),!gn)return Fa(Fr,un)}else{var Ln=vc(Fr),zn=Ln==wo||Ln=="[object GeneratorFunction]";if(yl(Fr))return da(Fr,gn);if(Ln==Ro||Ln==Yi||zn&&!tn){if(un=kn||zn?{}:Oc(Fr),!gn)return kn?Es(Fr,Ei(un,Fr)):Ma(Fr,qn(un,Fr))}else{if(!_o[Ln])return tn?Fr:{};un=Mu(Fr,Ln,gn)}}sn||(sn=new Ca);var Wn=sn.get(Fr);if(Wn)return Wn;sn.set(Fr,un),Bi(Fr)?Fr.forEach(function(ii){un.add(Xr(ii,Ur,Yr,ii,Fr,sn))}):li(Fr)&&Fr.forEach(function(ii,ui){un.set(ui,Xr(ii,Ur,Yr,ui,Fr,sn))});var Xn=Dn?void 0:(Cn?kn?_l:Gc:kn?gi:Nn)(Fr);return _s(Xn||Fr,function(ii,ui){Xn&&(ii=Fr[ui=ii]),va(un,ui,Xr(ii,Ur,Yr,ui,Fr,sn))}),un},La=function(Xr,Fr){return Oo(Xr,5,Fr=typeof Fr=="function"?Fr:void 0)},ta=function(Xr){return ro(Xr)&&Xr.nodeType===1&&!us(Xr)};class pa{constructor(Fr,Ur){this._config={},Ur&&this.define(za(Ur)),Fr&&this._setObjectToTarget(this._config,Fr)}set(Fr,Ur){this._setToTarget(this._config,Fr,Ur)}define(Fr,Ur){this._setToTarget(this._config,Fr,Ur,!0)}get(Fr){return this._getFromSource(this._config,Fr)}*names(){for(const Fr of Object.keys(this._config))yield Fr}_setToTarget(Fr,Ur,Yr,Qr=!1){if(us(Ur))return void this._setObjectToTarget(Fr,Ur,Qr);const tn=Ur.split(".");Ur=tn.pop();for(const sn of tn)us(Fr[sn])||(Fr[sn]={}),Fr=Fr[sn];if(us(Yr))return us(Fr[Ur])||(Fr[Ur]={}),Fr=Fr[Ur],void this._setObjectToTarget(Fr,Yr,Qr);Qr&&Fr[Ur]!==void 0||(Fr[Ur]=Yr)}_getFromSource(Fr,Ur){const Yr=Ur.split(".");Ur=Yr.pop();for(const Qr of Yr){if(!us(Fr[Qr])){Fr=null;break}Fr=Fr[Qr]}return Fr?za(Fr[Ur]):void 0}_setObjectToTarget(Fr,Ur,Yr){Object.keys(Ur).forEach(Qr=>{this._setToTarget(Fr,Qr,Ur[Qr],Yr)})}}function za(Xr){return La(Xr,ia)}function ia(Xr){return ta(Xr)?Xr:void 0}function $a(Xr){if(Xr){if(Xr.defaultView)return Xr instanceof Xr.defaultView.Document;if(Xr.ownerDocument&&Xr.ownerDocument.defaultView)return Xr instanceof Xr.ownerDocument.defaultView.Node}return!1}function zs(Xr){const Fr=Object.prototype.toString.apply(Xr);return Fr=="[object Window]"||Fr=="[object global]"}const Hs=Ys(wi());function Ys(Xr){return Xr?class extends Xr{listenTo(Fr,Ur,Yr,Qr={}){if($a(Fr)||zs(Fr)){const tn={capture:!!Qr.useCapture,passive:!!Qr.usePassive},sn=this._getProxyEmitter(Fr,tn)||new ll(Fr,tn);this.listenTo(sn,Ur,Yr,Qr)}else super.listenTo(Fr,Ur,Yr,Qr)}stopListening(Fr,Ur,Yr){if($a(Fr)||zs(Fr)){const Qr=this._getAllProxyEmitters(Fr);for(const tn of Qr)this.stopListening(tn,Ur,Yr)}else super.stopListening(Fr,Ur,Yr)}_getProxyEmitter(Fr,Ur){return function(Yr,Qr){const tn=Yr[Gn];return tn&&tn[Qr]?tn[Qr].emitter:null}(this,yc(Fr,Ur))}_getAllProxyEmitters(Fr){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(Ur=>this._getProxyEmitter(Fr,Ur)).filter(Ur=>!!Ur)}}:Hs}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(Xr=>{Ys[Xr]=Hs.prototype[Xr]});class ll extends wi(){constructor(Fr,Ur){super(),Ni(this,yc(Fr,Ur)),this._domNode=Fr,this._options=Ur}attach(Fr){if(this._domListeners&&this._domListeners[Fr])return;const Ur=this._createDomListener(Fr);this._domNode.addEventListener(Fr,Ur,this._options),this._domListeners||(this._domListeners={}),this._domListeners[Fr]=Ur}detach(Fr){let Ur;!this._domListeners[Fr]||(Ur=this._events[Fr])&&Ur.callbacks.length||this._domListeners[Fr].removeListener()}_addEventListener(Fr,Ur,Yr){this.attach(Fr),wi().prototype._addEventListener.call(this,Fr,Ur,Yr)}_removeEventListener(Fr,Ur){wi().prototype._removeEventListener.call(this,Fr,Ur),this.detach(Fr)}_createDomListener(Fr){const Ur=Yr=>{this.fire(Fr,Yr)};return Ur.removeListener=()=>{this._domNode.removeEventListener(Fr,Ur,this._options),delete this._domListeners[Fr]},Ur}}function yc(Xr,Fr){let Ur=function(Yr){return Yr["data-ck-expando"]||(Yr["data-ck-expando"]=bn())}(Xr);for(const Yr of Object.keys(Fr).sort())Fr[Yr]&&(Ur+="-"+Yr);return Ur}let el;try{el={window,document}}catch{el={window:{},document:{}}}const wa=el;function Qc(Xr){const Fr=[];let Ur=Xr;for(;Ur&&Ur.nodeType!=Node.DOCUMENT_NODE;)Fr.unshift(Ur),Ur=Ur.parentNode;return Fr}function Xa(Xr){return Object.prototype.toString.call(Xr)=="[object Text]"}function bc(Xr){return Object.prototype.toString.apply(Xr)=="[object Range]"}function Sc(Xr){const Fr=Xr.ownerDocument.defaultView.getComputedStyle(Xr);return{top:parseInt(Fr.borderTopWidth,10),right:parseInt(Fr.borderRightWidth,10),bottom:parseInt(Fr.borderBottomWidth,10),left:parseInt(Fr.borderLeftWidth,10)}}const Zu=["top","right","bottom","left","width","height"];class Vs{constructor(Fr){const Ur=bc(Fr);if(Object.defineProperty(this,"_source",{value:Fr._source||Fr,writable:!0,enumerable:!1}),Pu(Fr)||Ur)if(Ur){const Yr=Vs.getDomRangeRects(Fr);Xu(this,Vs.getBoundingRect(Yr))}else Xu(this,Fr.getBoundingClientRect());else if(zs(Fr)){const{innerWidth:Yr,innerHeight:Qr}=Fr;Xu(this,{top:0,right:Yr,bottom:Qr,left:0,width:Yr,height:Qr})}else Xu(this,Fr)}clone(){return new Vs(this)}moveTo(Fr,Ur){return this.top=Ur,this.right=Fr+this.width,this.bottom=Ur+this.height,this.left=Fr,this}moveBy(Fr,Ur){return this.top+=Ur,this.right+=Fr,this.left+=Fr,this.bottom+=Ur,this}getIntersection(Fr){const Ur={top:Math.max(this.top,Fr.top),right:Math.min(this.right,Fr.right),bottom:Math.min(this.bottom,Fr.bottom),left:Math.max(this.left,Fr.left),width:0,height:0};return Ur.width=Ur.right-Ur.left,Ur.height=Ur.bottom-Ur.top,Ur.width<0||Ur.height<0?null:new Vs(Ur)}getIntersectionArea(Fr){const Ur=this.getIntersection(Fr);return Ur?Ur.getArea():0}getArea(){return this.width*this.height}getVisible(){const Fr=this._source;let Ur=this.clone();if(Wl(Fr))return Ur;let Yr,Qr=Fr,tn=Fr.parentNode||Fr.commonAncestorContainer;for(;tn&&!Wl(tn);){if(Qr instanceof HTMLElement&&js(Qr)==="absolute"&&(Yr=Qr),Yr&&(js(tn)!=="relative"||(sn=tn).ownerDocument.defaultView.getComputedStyle(sn).overflow==="visible")){Qr=tn,tn=tn.parentNode;continue}const un=new Vs(tn),gn=Ur.getIntersection(un);if(!gn)return null;gn.getArea()<Ur.getArea()&&(Ur=gn),Qr=tn,tn=tn.parentNode}var sn;return Ur}isEqual(Fr){for(const Ur of Zu)if(this[Ur]!==Fr[Ur])return!1;return!0}contains(Fr){const Ur=this.getIntersection(Fr);return!(!Ur||!Ur.isEqual(Fr))}excludeScrollbarsAndBorders(){const Fr=this._source;let Ur,Yr,Qr;if(zs(Fr))Ur=Fr.innerWidth-Fr.document.documentElement.clientWidth,Yr=Fr.innerHeight-Fr.document.documentElement.clientHeight,Qr=Fr.getComputedStyle(Fr.document.documentElement).direction;else{const tn=Sc(Fr);Ur=Fr.offsetWidth-Fr.clientWidth-tn.left-tn.right,Yr=Fr.offsetHeight-Fr.clientHeight-tn.top-tn.bottom,Qr=Fr.ownerDocument.defaultView.getComputedStyle(Fr).direction,this.left+=tn.left,this.top+=tn.top,this.right-=tn.right,this.bottom-=tn.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=Ur,Qr==="ltr"?this.right-=Ur:this.left+=Ur,this.height-=Yr,this.bottom-=Yr,this}static getDomRangeRects(Fr){const Ur=[],Yr=Array.from(Fr.getClientRects());if(Yr.length)for(const Qr of Yr)Ur.push(new Vs(Qr));else{let Qr=Fr.startContainer;Xa(Qr)&&(Qr=Qr.parentNode);const tn=new Vs(Qr.getBoundingClientRect());tn.right=tn.left,tn.width=0,Ur.push(tn)}return Ur}static getBoundingRect(Fr){const Ur={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let Yr=0;for(const Qr of Fr)Yr++,Ur.left=Math.min(Ur.left,Qr.left),Ur.top=Math.min(Ur.top,Qr.top),Ur.right=Math.max(Ur.right,Qr.right),Ur.bottom=Math.max(Ur.bottom,Qr.bottom);return Yr==0?null:(Ur.width=Ur.right-Ur.left,Ur.height=Ur.bottom-Ur.top,new Vs(Ur))}}function Xu(Xr,Fr){for(const Ur of Zu)Xr[Ur]=Fr[Ur]}function Wl(Xr){return!!Pu(Xr)&&Xr===Xr.ownerDocument.body}function Pu(Xr){return Xr!==null&&typeof Xr=="object"&&Xr.nodeType===1&&typeof Xr.getBoundingClientRect=="function"}function js(Xr){return Xr.ownerDocument.defaultView.getComputedStyle(Xr).position}const Us=class{constructor(Xr,Fr){Us._observerInstance||Us._createObserver(),this._element=Xr,this._callback=Fr,Us._addElementCallback(Xr,Fr),Us._observerInstance.observe(Xr)}get element(){return this._element}destroy(){Us._deleteElementCallback(this._element,this._callback)}static _addElementCallback(Xr,Fr){Us._elementCallbacks||(Us._elementCallbacks=new Map);let Ur=Us._elementCallbacks.get(Xr);Ur||(Ur=new Set,Us._elementCallbacks.set(Xr,Ur)),Ur.add(Fr)}static _deleteElementCallback(Xr,Fr){const Ur=Us._getElementCallbacks(Xr);Ur&&(Ur.delete(Fr),Ur.size||(Us._elementCallbacks.delete(Xr),Us._observerInstance.unobserve(Xr))),Us._elementCallbacks&&!Us._elementCallbacks.size&&(Us._observerInstance=null,Us._elementCallbacks=null)}static _getElementCallbacks(Xr){return Us._elementCallbacks?Us._elementCallbacks.get(Xr):null}static _createObserver(){Us._observerInstance=new wa.window.ResizeObserver(Xr=>{for(const Fr of Xr){const Ur=Us._getElementCallbacks(Fr.target);if(Ur)for(const Yr of Ur)Yr(Fr)}})}};let md=Us;function Nd(Xr,Fr){Xr instanceof HTMLTextAreaElement&&(Xr.value=Fr),Xr.innerHTML=Fr}function vd(Xr){return Fr=>Fr+Xr}function Ou(Xr){let Fr=0;for(;Xr.previousSibling;)Xr=Xr.previousSibling,Fr++;return Fr}function yd(Xr,Fr,Ur){Xr.insertBefore(Ur,Xr.childNodes[Fr]||null)}function wc(Xr){return Xr&&Xr.nodeType===Node.COMMENT_NODE}function nc(Xr){return!!(Xr&&Xr.getClientRects&&Xr.getClientRects().length)}md._observerInstance=null,md._elementCallbacks=null;var Tn=Math.pow;function Rn({element:Xr,target:Fr,positions:Ur,limiter:Yr,fitInViewport:Qr,viewportOffsetConfig:tn}){Na(Fr)&&(Fr=Fr()),Na(Yr)&&(Yr=Yr());const sn=function(Ln){return Ln&&Ln.parentNode?Ln.offsetParent===wa.document.body?null:Ln.offsetParent:null}(Xr),un=new Vs(Xr),gn=new Vs(Fr);let kn;const Cn=Qr&&function(Ln){Ln=Object.assign({top:0,bottom:0,left:0,right:0},Ln);const zn=new Vs(wa.window);return zn.top+=Ln.top,zn.height-=Ln.top,zn.bottom-=Ln.bottom,zn.height-=Ln.bottom,zn}(tn)||null,Dn={targetRect:gn,elementRect:un,positionedElementAncestor:sn,viewportRect:Cn};if(Yr||Qr){const Ln=Yr&&new Vs(Yr).getVisible();Object.assign(Dn,{limiterRect:Ln,viewportRect:Cn}),kn=function(zn,Wn){const{elementRect:Xn}=Wn,ii=Xn.getArea(),ui=zn.map($o=>new fi($o,Wn)).filter($o=>!!$o.name);let Ti=0,Xi=null;for(const $o of ui){const{limiterIntersectionArea:ya,viewportIntersectionArea:Ns}=$o;if(ya===ii)return $o;const ss=Tn(Ns,2)+Tn(ya,2);ss>Ti&&(Ti=ss,Xi=$o)}return Xi}(Ur,Dn)||new fi(Ur[0],Dn)}else kn=new fi(Ur[0],Dn);return kn}function Qn(Xr){const{scrollX:Fr,scrollY:Ur}=wa.window;return Xr.clone().moveBy(Fr,Ur)}class fi{constructor(Fr,Ur){const Yr=Fr(Ur.targetRect,Ur.elementRect,Ur.viewportRect);if(!Yr)return;const{left:Qr,top:tn,name:sn,config:un}=Yr;this.name=sn,this.config=un,this._positioningFunctionCorrdinates={left:Qr,top:tn},this._options=Ur}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const Fr=this._options.limiterRect;if(Fr){const Ur=this._options.viewportRect;if(!Ur)return Fr.getIntersectionArea(this._rect);{const Yr=Fr.getIntersection(Ur);if(Yr)return Yr.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const Fr=this._options.viewportRect;return Fr?Fr.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=Qn(this._rect),this._options.positionedElementAncestor&&function(Fr,Ur){const Yr=Qn(new Vs(Ur)),Qr=Sc(Ur);let tn=0,sn=0;tn-=Yr.left,sn-=Yr.top,tn+=Ur.scrollLeft,sn+=Ur.scrollTop,tn-=Qr.left,sn-=Qr.top,Fr.moveBy(tn,sn)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function Ki(Xr){const Fr=Xr.parentNode;Fr&&Fr.removeChild(Xr)}function Qo({window:Xr,rect:Fr,alignToTop:Ur,forceScroll:Yr,viewportOffset:Qr}){const tn=Fr.clone().moveBy(0,Qr.bottom),sn=Fr.clone().moveBy(0,-Qr.top),un=new Vs(Xr).excludeScrollbarsAndBorders(),gn=Ur&&Yr,kn=[sn,tn].every(Wn=>un.contains(Wn));let{scrollX:Cn,scrollY:Dn}=Xr;const Ln=Cn,zn=Dn;gn?Dn-=un.top-Fr.top+Qr.top:kn||(ks(sn,un)?Dn-=un.top-Fr.top+Qr.top:ls(tn,un)&&(Dn+=Ur?Fr.top-un.top-Qr.top:Fr.bottom-un.bottom+Qr.bottom)),kn||(gu(Fr,un)?Cn-=un.left-Fr.left+Qr.left:mu(Fr,un)&&(Cn+=Fr.right-un.right+Qr.right)),Cn==Ln&&Dn===zn||Xr.scrollTo(Cn,Dn)}function is({parent:Xr,getRect:Fr,alignToTop:Ur,forceScroll:Yr,ancestorOffset:Qr=0}){const tn=vh(Xr),sn=Ur&&Yr;let un,gn,kn;for(;Xr!=tn.document.body;)gn=Fr(),un=new Vs(Xr).excludeScrollbarsAndBorders(),kn=un.contains(gn),sn?Xr.scrollTop-=un.top-gn.top+Qr:kn||(ks(gn,un)?Xr.scrollTop-=un.top-gn.top+Qr:ls(gn,un)&&(Xr.scrollTop+=Ur?gn.top-un.top-Qr:gn.bottom-un.bottom+Qr)),kn||(gu(gn,un)?Xr.scrollLeft-=un.left-gn.left+Qr:mu(gn,un)&&(Xr.scrollLeft+=gn.right-un.right+Qr)),Xr=Xr.parentNode}function ls(Xr,Fr){return Xr.bottom>Fr.bottom}function ks(Xr,Fr){return Xr.top<Fr.top}function gu(Xr,Fr){return Xr.left<Fr.left}function mu(Xr,Fr){return Xr.right>Fr.right}function vh(Xr){return bc(Xr)?Xr.startContainer.ownerDocument.defaultView:Xr.ownerDocument.defaultView}function Bd(Xr){if(bc(Xr)){let Fr=Xr.commonAncestorContainer;return Xa(Fr)&&(Fr=Fr.parentNode),Fr}return Xr.parentNode}function Xh(Xr,Fr){const Ur=vh(Xr),Yr=new Vs(Xr);if(Ur===Fr)return Yr;{let Qr=Ur;for(;Qr!=Fr;){const tn=Qr.frameElement,sn=new Vs(tn).excludeScrollbarsAndBorders();Yr.moveBy(sn.left,sn.top),Qr=Qr.parent}}return Yr}const Qu={ctrl:"â",cmd:"â",alt:"â¥",shift:"â§"},Fd={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},qa=function(){const Xr={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let Fr=65;Fr<=90;Fr++)Xr[String.fromCharCode(Fr).toLowerCase()]=Fr;for(let Fr=48;Fr<=57;Fr++)Xr[Fr-48]=Fr;for(let Fr=112;Fr<=123;Fr++)Xr["f"+(Fr-111)]=Fr;for(const Fr of"`-=[];',./\\")Xr[Fr]=Fr.charCodeAt(0);return Xr}(),zd=Object.fromEntries(Object.entries(qa).map(([Xr,Fr])=>[Fr,Xr.charAt(0).toUpperCase()+Xr.slice(1)]));function Rc(Xr){let Fr;if(typeof Xr=="string"){if(Fr=qa[Xr.toLowerCase()],!Fr)throw new wn("keyboard-unknown-key",null,{key:Xr})}else Fr=Xr.keyCode+(Xr.altKey?qa.alt:0)+(Xr.ctrlKey?qa.ctrl:0)+(Xr.shiftKey?qa.shift:0)+(Xr.metaKey?qa.cmd:0);return Fr}function Hd(Xr){return typeof Xr=="string"&&(Xr=function(Fr){return Fr.split("+").map(Ur=>Ur.trim())}(Xr)),Xr.map(Fr=>typeof Fr=="string"?function(Ur){if(Ur.endsWith("!"))return Rc(Ur.slice(0,-1));const Yr=Rc(Ur);return Kr.isMac&&Yr==qa.ctrl?qa.cmd:Yr}(Fr):Fr).reduce((Fr,Ur)=>Ur+Fr,0)}function Qh(Xr){let Fr=Hd(Xr);return Object.entries(Kr.isMac?Qu:Fd).reduce((Ur,[Yr,Qr])=>(Fr&qa[Yr]&&(Fr&=~qa[Yr],Ur+=Qr),Ur),"")+(Fr?zd[Fr]:"")}function yh(Xr,Fr){const Ur=Fr==="ltr";switch(Xr){case qa.arrowleft:return Ur?"left":"right";case qa.arrowright:return Ur?"right":"left";case qa.arrowup:return"up";case qa.arrowdown:return"down"}}function $l(Xr){return Array.isArray(Xr)?Xr:[Xr]}function Ju(Xr,Fr,Ur=1){if(typeof Ur!="number")throw new wn("translation-service-quantity-not-a-number",null,{quantity:Ur});const Yr=Object.keys(wa.window.CKEDITOR_TRANSLATIONS).length;Yr===1&&(Xr=Object.keys(wa.window.CKEDITOR_TRANSLATIONS)[0]);const Qr=Fr.id||Fr.string;if(Yr===0||!function(gn,kn){return!!wa.window.CKEDITOR_TRANSLATIONS[gn]&&!!wa.window.CKEDITOR_TRANSLATIONS[gn].dictionary[kn]}(Xr,Qr))return Ur!==1?Fr.plural:Fr.string;const tn=wa.window.CKEDITOR_TRANSLATIONS[Xr].dictionary,sn=wa.window.CKEDITOR_TRANSLATIONS[Xr].getPluralForm||(gn=>gn===1?0:1),un=tn[Qr];return typeof un=="string"?un:un[Number(sn(Ur))]}wa.window.CKEDITOR_TRANSLATIONS||(wa.window.CKEDITOR_TRANSLATIONS={});const ed=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function tp(Xr){return ed.includes(Xr)?"rtl":"ltr"}class ig{constructor({uiLanguage:Fr="en",contentLanguage:Ur}={}){this.uiLanguage=Fr,this.contentLanguage=Ur||this.uiLanguage,this.uiLanguageDirection=tp(this.uiLanguage),this.contentLanguageDirection=tp(this.contentLanguage),this.t=(Yr,Qr)=>this._t(Yr,Qr)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(Fr,Ur=[]){Ur=$l(Ur),typeof Fr=="string"&&(Fr={string:Fr});const Yr=Fr.plural?Ur[0]:1;return function(Qr,tn){return Qr.replace(/%(\d+)/g,(sn,un)=>un<tn.length?tn[un]:sn)}(Ju(this.uiLanguage,Fr,Yr),Ur)}}class $c extends wi(){constructor(Fr={},Ur={}){super();const Yr=xi(Fr);if(Yr||(Ur=Fr),this._items=[],this._itemMap=new Map,this._idProperty=Ur.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],Yr)for(const Qr of Fr)this._items.push(Qr),this._itemMap.set(this._getItemIdBeforeAdding(Qr),Qr)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(Fr,Ur){return this.addMany([Fr],Ur)}addMany(Fr,Ur){if(Ur===void 0)Ur=this._items.length;else if(Ur>this._items.length||Ur<0)throw new wn("collection-add-item-invalid-index",this);let Yr=0;for(const Qr of Fr){const tn=this._getItemIdBeforeAdding(Qr),sn=Ur+Yr;this._items.splice(sn,0,Qr),this._itemMap.set(tn,Qr),this.fire("add",Qr,sn),Yr++}return this.fire("change",{added:Fr,removed:[],index:Ur}),this}get(Fr){let Ur;if(typeof Fr=="string")Ur=this._itemMap.get(Fr);else{if(typeof Fr!="number")throw new wn("collection-get-invalid-arg",this);Ur=this._items[Fr]}return Ur||null}has(Fr){if(typeof Fr=="string")return this._itemMap.has(Fr);{const Ur=Fr[this._idProperty];return Ur&&this._itemMap.has(Ur)}}getIndex(Fr){let Ur;return Ur=typeof Fr=="string"?this._itemMap.get(Fr):Fr,Ur?this._items.indexOf(Ur):-1}remove(Fr){const[Ur,Yr]=this._remove(Fr);return this.fire("change",{added:[],removed:[Ur],index:Yr}),Ur}map(Fr,Ur){return this._items.map(Fr,Ur)}find(Fr,Ur){return this._items.find(Fr,Ur)}filter(Fr,Ur){return this._items.filter(Fr,Ur)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const Fr=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:Fr,index:0})}bindTo(Fr){if(this._bindToCollection)throw new wn("collection-bind-to-rebind",this);return this._bindToCollection=Fr,{as:Ur=>{this._setUpBindToBinding(Yr=>new Ur(Yr))},using:Ur=>{typeof Ur=="function"?this._setUpBindToBinding(Ur):this._setUpBindToBinding(Yr=>Yr[Ur])}}}_setUpBindToBinding(Fr){const Ur=this._bindToCollection,Yr=(Qr,tn,sn)=>{const un=Ur._bindToCollection==this,gn=Ur._bindToInternalToExternalMap.get(tn);if(un&&gn)this._bindToExternalToInternalMap.set(tn,gn),this._bindToInternalToExternalMap.set(gn,tn);else{const kn=Fr(tn);if(!kn)return void this._skippedIndexesFromExternal.push(sn);let Cn=sn;for(const Dn of this._skippedIndexesFromExternal)sn>Dn&&Cn--;for(const Dn of Ur._skippedIndexesFromExternal)Cn>=Dn&&Cn++;this._bindToExternalToInternalMap.set(tn,kn),this._bindToInternalToExternalMap.set(kn,tn),this.add(kn,Cn);for(let Dn=0;Dn<Ur._skippedIndexesFromExternal.length;Dn++)Cn<=Ur._skippedIndexesFromExternal[Dn]&&Ur._skippedIndexesFromExternal[Dn]++}};for(const Qr of Ur)Yr(0,Qr,Ur.getIndex(Qr));this.listenTo(Ur,"add",Yr),this.listenTo(Ur,"remove",(Qr,tn,sn)=>{const un=this._bindToExternalToInternalMap.get(tn);un&&this.remove(un),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((gn,kn)=>(sn<kn&&gn.push(kn-1),sn>kn&&gn.push(kn),gn),[])})}_getItemIdBeforeAdding(Fr){const Ur=this._idProperty;let Yr;if(Ur in Fr){if(Yr=Fr[Ur],typeof Yr!="string")throw new wn("collection-add-invalid-id",this);if(this.get(Yr))throw new wn("collection-add-item-already-exists",this)}else Fr[Ur]=Yr=bn();return Yr}_remove(Fr){let Ur,Yr,Qr,tn=!1;const sn=this._idProperty;if(typeof Fr=="string"?(Yr=Fr,Qr=this._itemMap.get(Yr),tn=!Qr,Qr&&(Ur=this._items.indexOf(Qr))):typeof Fr=="number"?(Ur=Fr,Qr=this._items[Ur],tn=!Qr,Qr&&(Yr=Qr[sn])):(Qr=Fr,Yr=Qr[sn],Ur=this._items.indexOf(Qr),tn=Ur==-1||!this._itemMap.get(Yr)),tn)throw new wn("collection-remove-404",this);this._items.splice(Ur,1),this._itemMap.delete(Yr);const un=this._bindToInternalToExternalMap.get(Qr);return this._bindToInternalToExternalMap.delete(Qr),this._bindToExternalToInternalMap.delete(un),this.fire("remove",Qr,Ur),[Qr,Ur]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function wl(Xr){const Fr=Xr.next();return Fr.done?null:Fr.value}class Dc extends Ys(Zi()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(Fr){if(this._elements.has(Fr))throw new wn("focustracker-add-element-already-exist",this);this.listenTo(Fr,"focus",()=>this._focus(Fr),{useCapture:!0}),this.listenTo(Fr,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(Fr)}remove(Fr){Fr===this.focusedElement&&this._blur(),this._elements.has(Fr)&&(this.stopListening(Fr),this._elements.delete(Fr))}destroy(){this.stopListening()}_focus(Fr){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=Fr,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Jc{constructor(){this._listener=new(Ys())}listenTo(Fr){this._listener.listenTo(Fr,"keydown",(Ur,Yr)=>{this._listener.fire("_keydown:"+Rc(Yr),Yr)})}set(Fr,Ur,Yr={}){const Qr=Hd(Fr),tn=Yr.priority;this._listener.listenTo(this._listener,"_keydown:"+Qr,(sn,un)=>{Ur(un,()=>{un.preventDefault(),un.stopPropagation(),sn.stop()}),sn.return=!0},{priority:tn})}press(Fr){return!!this._listener.fire("_keydown:"+Rc(Fr),Fr)}stopListening(Fr){this._listener.stopListening(Fr)}destroy(){this.stopListening()}}function tl(Xr){return xi(Xr)?new Map(Xr):function(Fr){const Ur=new Map;for(const Yr in Fr)Ur.set(Yr,Fr[Yr]);return Ur}(Xr)}function hl(Xr,Fr){let Ur;function Yr(...Qr){Yr.cancel(),Ur=setTimeout(()=>Xr(...Qr),Fr)}return Yr.cancel=()=>{clearTimeout(Ur)},Yr}function Nl(Xr,Fr){return!!(Ur=Xr.charAt(Fr-1))&&Ur.length==1&&/[\ud800-\udbff]/.test(Ur)&&function(Yr){return!!Yr&&Yr.length==1&&/[\udc00-\udfff]/.test(Yr)}(Xr.charAt(Fr));var Ur}function fl(Xr,Fr){return!!(Ur=Xr.charAt(Fr))&&Ur.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(Ur);var Ur}const Vd=function(){const Xr=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],Fr=new RegExp("\\p{Regional_Indicator}{2}","u").source,Ur="(?:"+Xr.map(Yr=>Yr.source).join("|")+")";return new RegExp(`${Fr}|${Ur}(?:â${Ur})*`,"ug")}();function rp(Xr,Fr){const Ur=String(Xr).matchAll(Vd);return Array.from(Ur).some(Yr=>Yr.index<Fr&&Fr<Yr.index+Yr[0].length)}class Nc extends $c{constructor(Fr=[]){super(Fr,{idProperty:"viewUid"}),this.on("add",(Ur,Yr,Qr)=>{this._renderViewIntoCollectionParent(Yr,Qr)}),this.on("remove",(Ur,Yr)=>{Yr.element&&this._parentElement&&Yr.element.remove()}),this._parentElement=null}destroy(){this.map(Fr=>Fr.destroy())}setParent(Fr){this._parentElement=Fr;for(const Ur of this)this._renderViewIntoCollectionParent(Ur)}delegate(...Fr){if(!Fr.length||!Fr.every(Ur=>typeof Ur=="string"))throw new wn("ui-viewcollection-delegate-wrong-events",this);return{to:Ur=>{for(const Yr of this)for(const Qr of Fr)Yr.delegate(Qr).to(Ur);this.on("add",(Yr,Qr)=>{for(const tn of Fr)Qr.delegate(tn).to(Ur)}),this.on("remove",(Yr,Qr)=>{for(const tn of Fr)Qr.stopDelegating(tn,Ur)})}}}_renderViewIntoCollectionParent(Fr,Ur){Fr.isRendered||Fr.render(),Fr.element&&this._parentElement&&this._parentElement.insertBefore(Fr.element,this._parentElement.children[Ur])}remove(Fr){return super.remove(Fr)}}var og=$r(6062),Vo=$r.n(og),np=$r(4793),Jh={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(np.Z,Jh),np.Z.locals;class Qa extends Ys(Zi()){constructor(Fr){super(),this.element=null,this.isRendered=!1,this.locale=Fr,this.t=Fr&&Fr.t,this._viewCollections=new $c,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(Ur,Yr)=>{Yr.locale=Fr,Yr.t=Fr&&Fr.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=kc.bind(this,this)}createCollection(Fr){const Ur=new Nc(Fr);return this._viewCollections.add(Ur),Ur}registerChild(Fr){xi(Fr)||(Fr=[Fr]);for(const Ur of Fr)this._unboundChildren.add(Ur)}deregisterChild(Fr){xi(Fr)||(Fr=[Fr]);for(const Ur of Fr)this._unboundChildren.remove(Ur)}setTemplate(Fr){this.template=new kc(Fr)}extendTemplate(Fr){kc.extend(this.template,Fr)}render(){if(this.isRendered)throw new wn("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(Fr=>Fr.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class kc extends wi(){constructor(Fr){super(),Object.assign(this,Wd(op(Fr))),this._isRendered=!1,this._revertData=null}render(){const Fr=this._renderNode({intoFragment:!0});return this._isRendered=!0,Fr}apply(Fr){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:Fr,intoFragment:!1,isApplying:!0,revertData:this._revertData}),Fr}revert(Fr){if(!this._revertData)throw new wn("ui-template-revert-not-applied",[this,Fr]);this._revertTemplateFromNode(Fr,this._revertData)}*getViews(){yield*function*Fr(Ur){if(Ur.children)for(const Yr of Ur.children)os(Yr)?yield Yr:Ac(Yr)&&(yield*Fr(Yr))}(this)}static bind(Fr,Ur){return{to:(Yr,Qr)=>new ef({eventNameOrFunction:Yr,attribute:Yr,observable:Fr,emitter:Ur,callback:Qr}),if:(Yr,Qr,tn)=>new bh({observable:Fr,emitter:Ur,attribute:Yr,valueIfTrue:Qr,callback:tn})}}static extend(Fr,Ur){if(Fr._isRendered)throw new wn("template-extend-render",[this,Fr]);of(Fr,Wd(op(Ur)))}_renderNode(Fr){let Ur;if(Ur=Fr.node?this.tag&&this.text:this.tag?this.text:!this.text,Ur)throw new wn("ui-template-wrong-syntax",this);return this.text?this._renderText(Fr):this._renderElement(Fr)}_renderElement(Fr){let Ur=Fr.node;return Ur||(Ur=Fr.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(Fr),this._renderElementChildren(Fr),this._setUpListeners(Fr),Ur}_renderText(Fr){let Ur=Fr.node;return Ur?Fr.revertData.text=Ur.textContent:Ur=Fr.node=document.createTextNode(""),Ud(this.text)?this._bindToObservable({schema:this.text,updater:rf(Ur),data:Fr}):Ur.textContent=this.text.join(""),Ur}_renderAttributes(Fr){if(!this.attributes)return;const Ur=Fr.node,Yr=Fr.revertData;for(const Qr in this.attributes){const tn=Ur.getAttribute(Qr),sn=this.attributes[Qr];Yr&&(Yr.attributes[Qr]=tn);const un=vu(sn)?sn[0].ns:null;if(Ud(sn)){const gn=vu(sn)?sn[0].value:sn;Yr&&af(Qr)&&gn.unshift(tn),this._bindToObservable({schema:gn,updater:ip(Ur,Qr,un),data:Fr})}else if(Qr=="style"&&typeof sn[0]!="string")this._renderStyleAttribute(sn[0],Fr);else{Yr&&tn&&af(Qr)&&sn.unshift(tn);const gn=sn.map(kn=>kn&&kn.value||kn).reduce((kn,Cn)=>kn.concat(Cn),[]).reduce(nf,"");Bl(gn)||Ur.setAttributeNS(un,Qr,gn)}}}_renderStyleAttribute(Fr,Ur){const Yr=Ur.node;for(const Qr in Fr){const tn=Fr[Qr];Ud(tn)?this._bindToObservable({schema:[tn],updater:Gd(Yr,Qr),data:Ur}):Yr.style[Qr]=tn}}_renderElementChildren(Fr){const Ur=Fr.node,Yr=Fr.intoFragment?document.createDocumentFragment():Ur,Qr=Fr.isApplying;let tn=0;for(const sn of this.children)if(tu(sn)){if(!Qr){sn.setParent(Ur);for(const un of sn)Yr.appendChild(un.element)}}else if(os(sn))Qr||(sn.isRendered||sn.render(),Yr.appendChild(sn.element));else if($a(sn))Yr.appendChild(sn);else if(Qr){const un={children:[],bindings:[],attributes:{}};Fr.revertData.children.push(un),sn._renderNode({intoFragment:!1,node:Yr.childNodes[tn++],isApplying:!0,revertData:un})}else Yr.appendChild(sn.render());Fr.intoFragment&&Ur.appendChild(Yr)}_setUpListeners(Fr){if(this.eventListeners)for(const Ur in this.eventListeners){const Yr=this.eventListeners[Ur].map(Qr=>{const[tn,sn]=Ur.split("@");return Qr.activateDomEventListener(tn,sn,Fr)});Fr.revertData&&Fr.revertData.bindings.push(Yr)}}_bindToObservable({schema:Fr,updater:Ur,data:Yr}){const Qr=Yr.revertData;tf(Fr,Ur,Yr);const tn=Fr.filter(sn=>!Bl(sn)).filter(sn=>sn.observable).map(sn=>sn.activateAttributeListener(Fr,Ur,Yr));Qr&&Qr.bindings.push(tn)}_revertTemplateFromNode(Fr,Ur){for(const Qr of Ur.bindings)for(const tn of Qr)tn();if(Ur.text)return void(Fr.textContent=Ur.text);const Yr=Fr;for(const Qr in Ur.attributes){const tn=Ur.attributes[Qr];tn===null?Yr.removeAttribute(Qr):Yr.setAttribute(Qr,tn)}for(let Qr=0;Qr<Ur.children.length;++Qr)this._revertTemplateFromNode(Yr.childNodes[Qr],Ur.children[Qr])}}class jd{constructor(Fr){this.attribute=Fr.attribute,this.observable=Fr.observable,this.emitter=Fr.emitter,this.callback=Fr.callback}getValue(Fr){const Ur=this.observable[this.attribute];return this.callback?this.callback(Ur,Fr):Ur}activateAttributeListener(Fr,Ur,Yr){const Qr=()=>tf(Fr,Ur,Yr);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,Qr),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,Qr)}}}class ef extends jd{constructor(Fr){super(Fr),this.eventNameOrFunction=Fr.eventNameOrFunction}activateDomEventListener(Fr,Ur,Yr){const Qr=(tn,sn)=>{Ur&&!sn.target.matches(Ur)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(sn):this.observable.fire(this.eventNameOrFunction,sn))};return this.emitter.listenTo(Yr.node,Fr,Qr),()=>{this.emitter.stopListening(Yr.node,Fr,Qr)}}}class bh extends jd{constructor(Fr){super(Fr),this.valueIfTrue=Fr.valueIfTrue}getValue(Fr){return!Bl(super.getValue(Fr))&&(this.valueIfTrue||!0)}}function Ud(Xr){return!!Xr&&(Xr.value&&(Xr=Xr.value),Array.isArray(Xr)?Xr.some(Ud):Xr instanceof jd)}function tf(Xr,Fr,{node:Ur}){const Yr=function(tn,sn){return tn.map(un=>un instanceof jd?un.getValue(sn):un)}(Xr,Ur);let Qr;Qr=Xr.length==1&&Xr[0]instanceof bh?Yr[0]:Yr.reduce(nf,""),Bl(Qr)?Fr.remove():Fr.set(Qr)}function rf(Xr){return{set(Fr){Xr.textContent=Fr},remove(){Xr.textContent=""}}}function ip(Xr,Fr,Ur){return{set(Yr){Xr.setAttributeNS(Ur,Fr,Yr)},remove(){Xr.removeAttributeNS(Ur,Fr)}}}function Gd(Xr,Fr){return{set(Ur){Xr.style[Fr]=Ur},remove(){Xr.style[Fr]=null}}}function op(Xr){return La(Xr,Fr=>{if(Fr&&(Fr instanceof jd||Ac(Fr)||os(Fr)||tu(Fr)))return Fr})}function Wd(Xr){if(typeof Xr=="string"?Xr=function(Fr){return{text:[Fr]}}(Xr):Xr.text&&function(Fr){Fr.text=$l(Fr.text)}(Xr),Xr.on&&(Xr.eventListeners=function(Fr){for(const Ur in Fr)eu(Fr,Ur);return Fr}(Xr.on),delete Xr.on),!Xr.text){Xr.attributes&&function(Ur){for(const Yr in Ur)Ur[Yr].value&&(Ur[Yr].value=$l(Ur[Yr].value)),eu(Ur,Yr)}(Xr.attributes);const Fr=[];if(Xr.children)if(tu(Xr.children))Fr.push(Xr.children);else for(const Ur of Xr.children)Ac(Ur)||os(Ur)||$a(Ur)?Fr.push(Ur):Fr.push(new kc(Ur));Xr.children=Fr}return Xr}function eu(Xr,Fr){Xr[Fr]=$l(Xr[Fr])}function nf(Xr,Fr){return Bl(Fr)?Xr:Bl(Xr)?Fr:`${Xr} ${Fr}`}function ap(Xr,Fr){for(const Ur in Fr)Xr[Ur]?Xr[Ur].push(...Fr[Ur]):Xr[Ur]=Fr[Ur]}function of(Xr,Fr){if(Fr.attributes&&(Xr.attributes||(Xr.attributes={}),ap(Xr.attributes,Fr.attributes)),Fr.eventListeners&&(Xr.eventListeners||(Xr.eventListeners={}),ap(Xr.eventListeners,Fr.eventListeners)),Fr.text&&Xr.text.push(...Fr.text),Fr.children&&Fr.children.length){if(Xr.children.length!=Fr.children.length)throw new wn("ui-template-extend-children-mismatch",Xr);let Ur=0;for(const Yr of Fr.children)of(Xr.children[Ur++],Yr)}}function Bl(Xr){return!Xr&&Xr!==0}function os(Xr){return Xr instanceof Qa}function Ac(Xr){return Xr instanceof kc}function tu(Xr){return Xr instanceof Nc}function vu(Xr){return zi(Xr[0])&&Xr[0].ns}function af(Xr){return Xr=="class"||Xr=="style"}class sf extends Nc{constructor(Fr,Ur=[]){super(Ur),this.locale=Fr}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new kc({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let Fr=document.querySelector(".ck-body-wrapper");Fr||(Fr=la(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(Fr)),Fr.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const Fr=document.querySelector(".ck-body-wrapper");Fr&&Fr.childElementCount==0&&Fr.remove()}}var lf=$r(6574),ag={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(lf.Z,ag),lf.Z.locals;const _h=class extends Qa{constructor(){super();const Xr=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",Xr.if("isColorInherited","ck-icon_inherit-color")],viewBox:Xr.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const Xr=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),Fr=Xr.getAttribute("viewBox");Fr&&(this.viewBox=Fr);for(const{name:Ur,value:Yr}of Array.from(Xr.attributes))_h.presentationalAttributeNames.includes(Ur)&&this.element.setAttribute(Ur,Yr);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;Xr.childNodes.length>0;)this.element.appendChild(Xr.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(Xr=>{Xr.style.fill=this.fillColor})}};let ru=_h;ru.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var cf=$r(4906),uf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(cf.Z,uf),cf.Z.locals;class cs extends Qa{constructor(Fr){super(Fr),this._focusDelayed=null;const Ur=this.bindTemplate,Yr=bn();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${Yr}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new ru,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const Qr={tag:"button",attributes:{class:["ck","ck-button",Ur.to("class"),Ur.if("isEnabled","ck-disabled",tn=>!tn),Ur.if("isVisible","ck-hidden",tn=>!tn),Ur.to("isOn",tn=>tn?"ck-on":"ck-off"),Ur.if("withText","ck-button_with-text"),Ur.if("withKeystroke","ck-button_with-keystroke")],role:Ur.to("role"),type:Ur.to("type",tn=>tn||"button"),tabindex:Ur.to("tabindex"),"aria-label":Ur.to("ariaLabel"),"aria-labelledby":Ur.to("ariaLabelledBy"),"aria-disabled":Ur.if("isEnabled",!0,tn=>!tn),"aria-checked":Ur.to("isOn"),"aria-pressed":Ur.to("isOn",tn=>!!this.isToggleable&&String(!!tn)),"data-cke-tooltip-text":Ur.to("_tooltipString"),"data-cke-tooltip-position":Ur.to("tooltipPosition")},children:this.children,on:{click:Ur.to(tn=>{this.isEnabled?this.fire("execute"):tn.preventDefault()})}};Kr.isSafari&&(this._focusDelayed||(this._focusDelayed=hl(()=>this.focus(),0)),Qr.on.mousedown=Ur.to(()=>{this._focusDelayed()}),Qr.on.mouseup=Ur.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(Qr)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const Fr=new Qa,Ur=this.bindTemplate;return Fr.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:Ur.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:Ur.to("label")}]}),Fr}_createKeystrokeView(){const Fr=new Qa;return Fr.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",Ur=>Qh(Ur))}]}),Fr}_getTooltipString(Fr,Ur,Yr){return Fr?typeof Fr=="string"?Fr:(Yr&&(Yr=Qh(Yr)),Fr instanceof Function?Fr(Ur,Yr):`${Ur}${Yr?` (${Yr})`:""}`):""}}var df=$r(5332),sp={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(df.Z,sp),df.Z.locals;class wh extends cs{constructor(Fr){super(Fr),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const Fr=new Qa;return Fr.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),Fr}}var Yd=$r(6781),hf={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Yd.Z,hf),Yd.Z.locals,$r(1103),$r(841);var ff=$r(3662),sg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(ff.Z,sg),ff.Z.locals;class pf extends Qa{constructor(Fr){super(Fr),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${bn()}`;const Ur=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:Ur.to("for")},children:[{text:Ur.to("text")}]})}}var lp=$r(2577),lg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(lp.Z,lg),lp.Z.locals;class bd extends Qa{constructor(Fr,Ur){super(Fr);const Yr=`ck-labeled-field-view-${bn()}`,Qr=`ck-labeled-field-view-status-${bn()}`;this.fieldView=Ur(this,Yr,Qr),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(Yr),this.statusView=this._createStatusView(Qr),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(sn,un)=>sn||un);const tn=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",tn.to("class"),tn.if("isEnabled","ck-disabled",sn=>!sn),tn.if("isEmpty","ck-labeled-field-view_empty"),tn.if("isFocused","ck-labeled-field-view_focused"),tn.if("placeholder","ck-labeled-field-view_placeholder"),tn.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(Fr){const Ur=new pf(this.locale);return Ur.for=Fr,Ur.bind("text").to(this,"label"),Ur}_createStatusView(Fr){const Ur=new Qa(this.locale),Yr=this.bindTemplate;return Ur.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",Yr.if("errorText","ck-labeled-field-view__status_error"),Yr.if("_statusText","ck-hidden",Qr=>!Qr)],id:Fr,role:Yr.if("errorText","alert")},children:[{text:Yr.to("_statusText")}]}),Ur}focus(){this.fieldView.focus()}}var gf=$r(4879),cg={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(gf.Z,cg),gf.Z.locals;class ug extends Qa{constructor(Fr){super(Fr),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new Dc,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const Ur=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",Ur.if("isFocused","ck-input_focused"),Ur.if("isEmpty","ck-input-text_empty"),Ur.if("hasError","ck-error")],id:Ur.to("id"),placeholder:Ur.to("placeholder"),readonly:Ur.to("isReadOnly"),inputmode:Ur.to("inputMode"),"aria-invalid":Ur.if("hasError",!0),"aria-describedby":Ur.to("ariaDescribedById")},on:{input:Ur.to((...Yr)=>{this.fire("input",...Yr),this._updateIsEmpty()}),change:Ur.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(Fr,Ur,Yr)=>{this._setDomElementValue(Yr),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(Fr){this.element.value=Fr||Fr===0?Fr:""}}class cp extends ug{constructor(Fr){super(Fr),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class _d extends Qa{constructor(Fr){super(Fr);const Ur=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",Ur.to("position",Yr=>`ck-dropdown__panel_${Yr}`),Ur.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:Ur.to(Yr=>{Yr.target.tagName.toLocaleLowerCase()!=="input"&&Yr.preventDefault()})}})}focus(){if(this.children.length){const Fr=this.children.first;typeof Fr.focus=="function"?Fr.focus():xn("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const Fr=this.children.last;typeof Fr.focusLast=="function"?Fr.focusLast():Fr.focus()}}}var kh=$r(5485),Ah={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(kh.Z,Ah),kh.Z.locals;const Ch=class extends Qa{constructor(Xr,Fr,Ur){super(Xr);const Yr=this.bindTemplate;this.buttonView=Fr,this.panelView=Ur,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Jc,this.focusTracker=new Dc,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",Yr.to("class"),Yr.if("isEnabled","ck-disabled",Qr=>!Qr)],id:Yr.to("id"),"aria-describedby":Yr.to("ariaDescribedById")},children:[Fr,Ur]}),Fr.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":Yr.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(Fr,Ur,Yr)=>{Yr&&(this.panelPosition==="auto"?this.panelView.position=Ch._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const Xr=(Fr,Ur)=>{this.isOpen&&(this.isOpen=!1,Ur())};this.keystrokes.set("arrowdown",(Fr,Ur)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,Ur())}),this.keystrokes.set("arrowright",(Fr,Ur)=>{this.isOpen&&Ur()}),this.keystrokes.set("arrowleft",Xr),this.keystrokes.set("esc",Xr)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:Xr,north:Fr,southEast:Ur,southWest:Yr,northEast:Qr,northWest:tn,southMiddleEast:sn,southMiddleWest:un,northMiddleEast:gn,northMiddleWest:kn}=Ch.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[Ur,Yr,sn,un,Xr,Qr,tn,gn,kn,Fr]:[Yr,Ur,un,sn,Xr,tn,Qr,kn,gn,Fr]}};let qd=Ch;qd.defaultPanelPositions={south:(Xr,Fr)=>({top:Xr.bottom,left:Xr.left-(Fr.width-Xr.width)/2,name:"s"}),southEast:Xr=>({top:Xr.bottom,left:Xr.left,name:"se"}),southWest:(Xr,Fr)=>({top:Xr.bottom,left:Xr.left-Fr.width+Xr.width,name:"sw"}),southMiddleEast:(Xr,Fr)=>({top:Xr.bottom,left:Xr.left-(Fr.width-Xr.width)/4,name:"sme"}),southMiddleWest:(Xr,Fr)=>({top:Xr.bottom,left:Xr.left-3*(Fr.width-Xr.width)/4,name:"smw"}),north:(Xr,Fr)=>({top:Xr.top-Fr.height,left:Xr.left-(Fr.width-Xr.width)/2,name:"n"}),northEast:(Xr,Fr)=>({top:Xr.top-Fr.height,left:Xr.left,name:"ne"}),northWest:(Xr,Fr)=>({top:Xr.top-Fr.height,left:Xr.left-Fr.width+Xr.width,name:"nw"}),northMiddleEast:(Xr,Fr)=>({top:Xr.top-Fr.height,left:Xr.left-(Fr.width-Xr.width)/4,name:"nme"}),northMiddleWest:(Xr,Fr)=>({top:Xr.top-Fr.height,left:Xr.left-3*(Fr.width-Xr.width)/4,name:"nmw"})},qd._getOptimalPosition=Rn;const mf='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class dg extends cs{constructor(Fr){super(Fr),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",Ur=>String(Ur))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const Fr=new ru;return Fr.content=mf,Fr.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),Fr}}class td{constructor(Fr){if(this.focusables=Fr.focusables,this.focusTracker=Fr.focusTracker,this.keystrokeHandler=Fr.keystrokeHandler,this.actions=Fr.actions,Fr.actions&&Fr.keystrokeHandler)for(const Ur in Fr.actions){let Yr=Fr.actions[Ur];typeof Yr=="string"&&(Yr=[Yr]);for(const Qr of Yr)Fr.keystrokeHandler.set(Qr,(tn,sn)=>{this[Ur](),sn()})}}get first(){return this.focusables.find(Dl)||null}get last(){return this.focusables.filter(Dl).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let Fr=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((Ur,Yr)=>{const Qr=Ur.element===this.focusTracker.focusedElement;return Qr&&(Fr=Yr),Qr}),Fr)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(Fr){Fr&&Fr.focus()}_getFocusableItem(Fr){const Ur=this.current,Yr=this.focusables.length;if(!Yr)return null;if(Ur===null)return this[Fr===1?"first":"last"];let Qr=(Ur+Yr+Fr)%Yr;do{const tn=this.focusables.get(Qr);if(Dl(tn))return tn;Qr=(Qr+Yr+Fr)%Yr}while(Qr!==Ur);return null}}function Dl(Xr){return!(!Xr.focus||!nc(Xr.element))}class Kd extends Qa{constructor(Fr){super(Fr),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class up extends Qa{constructor(Fr){super(Fr),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function vf(Xr){return Array.isArray(Xr)?{items:Xr,removeItems:[]}:Xr?Object.assign({items:[],removeItems:[]},Xr):{items:[],removeItems:[]}}class go extends Zi(){constructor(Fr){super(),this._disableStack=new Set,this.editor=Fr,this.set("isEnabled",!0)}forceDisabled(Fr){this._disableStack.add(Fr),this._disableStack.size==1&&(this.on("set:isEnabled",rd,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(Fr){this._disableStack.delete(Fr),this._disableStack.size==0&&(this.off("set:isEnabled",rd),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function rd(Xr){Xr.return=!1,Xr.stop()}class ja extends Zi(){constructor(Fr){super(),this.editor=Fr,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(Fr,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",Ur=>{this.affectsData&&(Fr.isReadOnly||this._isEnabledBasedOnSelection&&!Fr.model.canEditAt(Fr.model.document.selection))&&(Ur.return=!1,Ur.stop())},{priority:"highest"}),this.on("execute",Ur=>{this.isEnabled||Ur.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(Fr){this._affectsData=Fr}refresh(){this.isEnabled=!0}forceDisabled(Fr){this._disableStack.add(Fr),this._disableStack.size==1&&(this.on("set:isEnabled",yf,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(Fr){this._disableStack.delete(Fr),this._disableStack.size==0&&(this.off("set:isEnabled",yf),this.refresh())}execute(...Fr){}destroy(){this.stopListening()}}function yf(Xr){Xr.return=!1,Xr.stop()}class bf extends ja{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...Fr){const Ur=this._getFirstEnabledCommand();return!!Ur&&Ur.execute(Fr)}registerChildCommand(Fr,Ur={}){vn(this._childCommandsDefinitions,{command:Fr,priority:Ur.priority||"normal"}),Fr.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const Fr=this._childCommandsDefinitions.find(({command:Ur})=>Ur.isEnabled);return Fr&&Fr.command}}class _f extends wi(){constructor(Fr,Ur=[],Yr=[]){super(),this._plugins=new Map,this._context=Fr,this._availablePlugins=new Map;for(const Qr of Ur)Qr.pluginName&&this._availablePlugins.set(Qr.pluginName,Qr);this._contextPlugins=new Map;for(const[Qr,tn]of Yr)this._contextPlugins.set(Qr,tn),this._contextPlugins.set(tn,Qr),Qr.pluginName&&this._availablePlugins.set(Qr.pluginName,Qr)}*[Symbol.iterator](){for(const Fr of this._plugins)typeof Fr[0]=="function"&&(yield Fr)}get(Fr){const Ur=this._plugins.get(Fr);if(!Ur){let Yr=Fr;throw typeof Fr=="function"&&(Yr=Fr.pluginName||Fr.name),new wn("plugincollection-plugin-not-loaded",this._context,{plugin:Yr})}return Ur}has(Fr){return this._plugins.has(Fr)}init(Fr,Ur=[],Yr=[]){const Qr=this,tn=this._context;(function Wn(Xn,ii=new Set){Xn.forEach(ui=>{gn(ui)&&(ii.has(ui)||(ii.add(ui),ui.pluginName&&!Qr._availablePlugins.has(ui.pluginName)&&Qr._availablePlugins.set(ui.pluginName,ui),ui.requires&&Wn(ui.requires,ii)))})})(Fr),Ln(Fr);const sn=[...function Wn(Xn,ii=new Set){return Xn.map(ui=>gn(ui)?ui:Qr._availablePlugins.get(ui)).reduce((ui,Ti)=>ii.has(Ti)?ui:(ii.add(Ti),Ti.requires&&(Ln(Ti.requires,Ti),Wn(Ti.requires,ii).forEach(Xi=>ui.add(Xi))),ui.add(Ti)),new Set)}(Fr.filter(Wn=>!Cn(Wn,Ur)))];(function(Wn,Xn){for(const ii of Xn){if(typeof ii!="function")throw new wn("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ii});const ui=ii.pluginName;if(!ui)throw new wn("plugincollection-replace-plugin-missing-name",null,{pluginItem:ii});if(ii.requires&&ii.requires.length)throw new wn("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:ui});const Ti=Qr._availablePlugins.get(ui);if(!Ti)throw new wn("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:ui});const Xi=Wn.indexOf(Ti);if(Xi===-1){if(Qr._contextPlugins.has(Ti))return;throw new wn("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:ui})}if(Ti.requires&&Ti.requires.length)throw new wn("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:ui});Wn.splice(Xi,1,ii),Qr._availablePlugins.set(ui,ii)}})(sn,Yr);const un=sn.map(Wn=>{let Xn=Qr._contextPlugins.get(Wn);return Xn=Xn||new Wn(tn),Qr._add(Wn,Xn),Xn});return zn(un,"init").then(()=>zn(un,"afterInit")).then(()=>un);function gn(Wn){return typeof Wn=="function"}function kn(Wn){return gn(Wn)&&!!Wn.isContextPlugin}function Cn(Wn,Xn){return Xn.some(ii=>ii===Wn||Dn(Wn)===ii||Dn(ii)===Wn)}function Dn(Wn){return gn(Wn)?Wn.pluginName||Wn.name:Wn}function Ln(Wn,Xn=null){Wn.map(ii=>gn(ii)?ii:Qr._availablePlugins.get(ii)||ii).forEach(ii=>{(function(ui,Ti){if(!gn(ui))throw Ti?new wn("plugincollection-soft-required",tn,{missingPlugin:ui,requiredBy:Dn(Ti)}):new wn("plugincollection-plugin-not-found",tn,{plugin:ui})})(ii,Xn),function(ui,Ti){if(kn(Ti)&&!kn(ui))throw new wn("plugincollection-context-required",tn,{plugin:Dn(ui),requiredBy:Dn(Ti)})}(ii,Xn),function(ui,Ti){if(Ti&&Cn(ui,Ur))throw new wn("plugincollection-required",tn,{plugin:Dn(ui),requiredBy:Dn(Ti)})}(ii,Xn)})}function zn(Wn,Xn){return Wn.reduce((ii,ui)=>ui[Xn]?Qr._contextPlugins.has(ui)?ii:ii.then(ui[Xn].bind(ui)):ii,Promise.resolve())}}destroy(){const Fr=[];for(const[,Ur]of this)typeof Ur.destroy!="function"||this._contextPlugins.has(Ur)||Fr.push(Ur.destroy());return Promise.all(Fr)}_add(Fr,Ur){this._plugins.set(Fr,Ur);const Yr=Fr.pluginName;if(Yr){if(this._plugins.has(Yr))throw new wn("plugincollection-plugin-name-conflict",null,{pluginName:Yr,plugin1:this._plugins.get(Yr).constructor,plugin2:Fr});this._plugins.set(Yr,Ur)}}}class nd{constructor(Fr){this._contextOwner=null,this.config=new pa(Fr,this.constructor.defaultConfig);const Ur=this.constructor.builtinPlugins;this.config.define("plugins",Ur),this.plugins=new _f(this,Ur);const Yr=this.config.get("language")||{};this.locale=new ig({uiLanguage:typeof Yr=="string"?Yr:Yr.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new $c}initPlugins(){const Fr=this.config.get("plugins")||[],Ur=this.config.get("substitutePlugins")||[];for(const Yr of Fr.concat(Ur)){if(typeof Yr!="function")throw new wn("context-initplugins-constructor-only",null,{Plugin:Yr});if(Yr.isContextPlugin!==!0)throw new wn("context-initplugins-invalid-plugin",null,{Plugin:Yr})}return this.plugins.init(Fr,[],Ur)}destroy(){return Promise.all(Array.from(this.editors,Fr=>Fr.destroy())).then(()=>this.plugins.destroy())}_addEditor(Fr,Ur){if(this._contextOwner)throw new wn("context-addeditor-private-context");this.editors.add(Fr),Ur&&(this._contextOwner=Fr)}_removeEditor(Fr){return this.editors.has(Fr)&&this.editors.remove(Fr),this._contextOwner===Fr?this.destroy():Promise.resolve()}_getEditorConfig(){const Fr={};for(const Ur of this.config.names())["plugins","removePlugins","extraPlugins"].includes(Ur)||(Fr[Ur]=this.config.get(Ur));return Fr}static create(Fr){return new Promise(Ur=>{const Yr=new this(Fr);Ur(Yr.initPlugins().then(()=>Yr))})}}class Zd extends Zi(){constructor(Fr){super(),this.context=Fr}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class xh extends Jc{constructor(Fr){super(),this.editor=Fr}set(Fr,Ur,Yr={}){if(typeof Ur=="string"){const Qr=Ur;Ur=(tn,sn)=>{this.editor.execute(Qr),sn()}}super.set(Fr,Ur,Yr)}}var wf=$r(4717),Xd={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(wf.Z,Xd),wf.Z.locals;const Sh=new WeakMap;function id({view:Xr,element:Fr,text:Ur,isDirectHost:Yr=!0,keepOnFocus:Qr=!1}){const tn=Xr.document;Sh.has(tn)||(Sh.set(tn,new Map),tn.registerPostFixer(sn=>Dh(tn,sn)),tn.on("change:isComposing",()=>{Xr.change(sn=>Dh(tn,sn))},{priority:"high"})),Sh.get(tn).set(Fr,{text:Ur,isDirectHost:Yr,keepOnFocus:Qr,hostElement:Yr?Fr:null}),Xr.change(sn=>Dh(tn,sn))}function dp(Xr,Fr){return!!Fr.hasClass("ck-placeholder")&&(Xr.removeClass("ck-placeholder",Fr),!0)}function Dh(Xr,Fr){const Ur=Sh.get(Xr),Yr=[];let Qr=!1;for(const[tn,sn]of Ur)sn.isDirectHost&&(Yr.push(tn),kf(Fr,tn,sn)&&(Qr=!0));for(const[tn,sn]of Ur){if(sn.isDirectHost)continue;const un=Qd(tn);un&&(Yr.includes(un)||(sn.hostElement=un,kf(Fr,tn,sn)&&(Qr=!0)))}return Qr}function kf(Xr,Fr,Ur){const{text:Yr,isDirectHost:Qr,hostElement:tn}=Ur;let sn=!1;return tn.getAttribute("data-placeholder")!==Yr&&(Xr.setAttribute("data-placeholder",Yr,tn),sn=!0),(Qr||Fr.childCount==1)&&function(un,gn){if(!un.isAttached()||Array.from(un.getChildren()).some(Dn=>!Dn.is("uiElement")))return!1;const kn=un.document,Cn=kn.selection.anchor;return!(kn.isComposing&&Cn&&Cn.parent===un||!gn&&kn.isFocused&&(!Cn||Cn.parent===un))}(tn,Ur.keepOnFocus)?function(un,gn){return!gn.hasClass("ck-placeholder")&&(un.addClass("ck-placeholder",gn),!0)}(Xr,tn)&&(sn=!0):dp(Xr,tn)&&(sn=!0),sn}function Qd(Xr){if(Xr.childCount){const Fr=Xr.getChild(0);if(Fr.is("element")&&!Fr.is("uiElement")&&!Fr.is("attributeElement"))return Fr}return null}class Bc{is(){throw new Error("is() method is abstract")}}const wd=function(Xr){return Oo(Xr,4)};class Fc extends wi(Bc){constructor(Fr){super(),this.document=Fr,this.parent=null}get index(){let Fr;if(!this.parent)return null;if((Fr=this.parent.getChildIndex(this))==-1)throw new wn("view-node-not-found-in-parent",this);return Fr}get nextSibling(){const Fr=this.index;return Fr!==null&&this.parent.getChild(Fr+1)||null}get previousSibling(){const Fr=this.index;return Fr!==null&&this.parent.getChild(Fr-1)||null}get root(){let Fr=this;for(;Fr.parent;)Fr=Fr.parent;return Fr}isAttached(){return this.root.is("rootElement")}getPath(){const Fr=[];let Ur=this;for(;Ur.parent;)Fr.unshift(Ur.index),Ur=Ur.parent;return Fr}getAncestors(Fr={}){const Ur=[];let Yr=Fr.includeSelf?this:this.parent;for(;Yr;)Ur[Fr.parentFirst?"push":"unshift"](Yr),Yr=Yr.parent;return Ur}getCommonAncestor(Fr,Ur={}){const Yr=this.getAncestors(Ur),Qr=Fr.getAncestors(Ur);let tn=0;for(;Yr[tn]==Qr[tn]&&Yr[tn];)tn++;return tn===0?null:Yr[tn-1]}isBefore(Fr){if(this==Fr||this.root!==Fr.root)return!1;const Ur=this.getPath(),Yr=Fr.getPath(),Qr=ka(Ur,Yr);switch(Qr){case"prefix":return!0;case"extension":return!1;default:return Ur[Qr]<Yr[Qr]}}isAfter(Fr){return this!=Fr&&this.root===Fr.root&&!this.isBefore(Fr)}_remove(){this.parent._removeChildren(this.index)}_fireChange(Fr,Ur){this.fire(`change:${Fr}`,Ur),this.parent&&this.parent._fireChange(Fr,Ur)}toJSON(){const Fr=wd(this);return delete Fr.parent,Fr}}Fc.prototype.is=function(Xr){return Xr==="node"||Xr==="view:node"};class Ds extends Fc{constructor(Fr,Ur){super(Fr),this._textData=Ur}get data(){return this._textData}get _data(){return this.data}set _data(Fr){this._fireChange("text",this),this._textData=Fr}isSimilar(Fr){return Fr instanceof Ds&&(this===Fr||this.data===Fr.data)}_clone(){return new Ds(this.document,this.data)}}Ds.prototype.is=function(Xr){return Xr==="$text"||Xr==="view:$text"||Xr==="text"||Xr==="view:text"||Xr==="node"||Xr==="view:node"};class nu extends Bc{constructor(Fr,Ur,Yr){if(super(),this.textNode=Fr,Ur<0||Ur>Fr.data.length)throw new wn("view-textproxy-wrong-offsetintext",this);if(Yr<0||Ur+Yr>Fr.data.length)throw new wn("view-textproxy-wrong-length",this);this.data=Fr.data.substring(Ur,Ur+Yr),this.offsetInText=Ur}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(Fr={}){const Ur=[];let Yr=Fr.includeSelf?this.textNode:this.parent;for(;Yr!==null;)Ur[Fr.parentFirst?"push":"unshift"](Yr),Yr=Yr.parent;return Ur}}nu.prototype.is=function(Xr){return Xr==="$textProxy"||Xr==="view:$textProxy"||Xr==="textProxy"||Xr==="view:textProxy"};class zc{constructor(...Fr){this._patterns=[],this.add(...Fr)}add(...Fr){for(let Ur of Fr)(typeof Ur=="string"||Ur instanceof RegExp)&&(Ur={name:Ur}),this._patterns.push(Ur)}match(...Fr){for(const Ur of Fr)for(const Yr of this._patterns){const Qr=yu(Ur,Yr);if(Qr)return{element:Ur,pattern:Yr,match:Qr}}return null}matchAll(...Fr){const Ur=[];for(const Yr of Fr)for(const Qr of this._patterns){const tn=yu(Yr,Qr);tn&&Ur.push({element:Yr,pattern:Qr,match:tn})}return Ur.length>0?Ur:null}getElementName(){if(this._patterns.length!==1)return null;const Fr=this._patterns[0],Ur=Fr.name;return typeof Fr=="function"||!Ur||Ur instanceof RegExp?null:Ur}}function yu(Xr,Fr){if(typeof Fr=="function")return Fr(Xr);const Ur={};return Fr.name&&(Ur.name=function(Yr,Qr){return Yr instanceof RegExp?!!Qr.match(Yr):Yr===Qr}(Fr.name,Xr.name),!Ur.name)||Fr.attributes&&(Ur.attributes=function(Yr,Qr){const tn=new Set(Qr.getAttributeKeys());return us(Yr)?(Yr.style!==void 0&&xn("matcher-pattern-deprecated-attributes-style-key",Yr),Yr.class!==void 0&&xn("matcher-pattern-deprecated-attributes-class-key",Yr)):(tn.delete("style"),tn.delete("class")),Ru(Yr,tn,sn=>Qr.getAttribute(sn))}(Fr.attributes,Xr),!Ur.attributes)||Fr.classes&&(Ur.classes=function(Yr,Qr){return Ru(Yr,Qr.getClassNames(),()=>{})}(Fr.classes,Xr),!Ur.classes)||Fr.styles&&(Ur.styles=function(Yr,Qr){return Ru(Yr,Qr.getStyleNames(!0),tn=>Qr.getStyle(tn))}(Fr.styles,Xr),!Ur.styles)?null:Ur}function Ru(Xr,Fr,Ur){const Yr=function(sn){return Array.isArray(sn)?sn.map(un=>us(un)?(un.key!==void 0&&un.value!==void 0||xn("matcher-pattern-missing-key-or-value",un),[un.key,un.value]):[un,!0]):us(sn)?Object.entries(sn):[[sn,!0]]}(Xr),Qr=Array.from(Fr),tn=[];if(Yr.forEach(([sn,un])=>{Qr.forEach(gn=>{(function(kn,Cn){return kn===!0||kn===Cn||kn instanceof RegExp&&Cn.match(kn)})(sn,gn)&&function(kn,Cn,Dn){if(kn===!0)return!0;const Ln=Dn(Cn);return kn===Ln||kn instanceof RegExp&&!!String(Ln).match(kn)}(un,gn,Ur)&&tn.push(gn)})}),Yr.length&&!(tn.length<Yr.length))return tn}const $u=function(Xr){return typeof Xr=="symbol"||ro(Xr)&&Hi(Xr)=="[object Symbol]"};var hg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hp=/^\w*$/;const fg=function(Xr,Fr){if(Po(Xr))return!1;var Ur=typeof Xr;return!(Ur!="number"&&Ur!="symbol"&&Ur!="boolean"&&Xr!=null&&!$u(Xr))||hp.test(Xr)||!hg.test(Xr)||Fr!=null&&Xr in Object(Fr)};function Af(Xr,Fr){if(typeof Xr!="function"||Fr!=null&&typeof Fr!="function")throw new TypeError("Expected a function");var Ur=function(){var Yr=arguments,Qr=Fr?Fr.apply(this,Yr):Yr[0],tn=Ur.cache;if(tn.has(Qr))return tn.get(Qr);var sn=Xr.apply(this,Yr);return Ur.cache=tn.set(Qr,sn)||tn,sn};return Ur.cache=new(Af.Cache||Da),Ur}Af.Cache=Da;const pg=Af,ic=function(Xr){var Fr=pg(Xr,function(Yr){return Ur.size===500&&Ur.clear(),Yr}),Ur=Fr.cache;return Fr};var fp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gg=/\\(\\)?/g,mg=ic(function(Xr){var Fr=[];return Xr.charCodeAt(0)===46&&Fr.push(""),Xr.replace(fp,function(Ur,Yr,Qr,tn){Fr.push(Qr?tn.replace(gg,"$1"):Yr||Ur)}),Fr});const vg=mg,pp=function(Xr,Fr){for(var Ur=-1,Yr=Xr==null?0:Xr.length,Qr=Array(Yr);++Ur<Yr;)Qr[Ur]=Fr(Xr[Ur],Ur,Xr);return Qr};var Cf=ni?ni.prototype:void 0,xf=Cf?Cf.toString:void 0;const yg=function Xr(Fr){if(typeof Fr=="string")return Fr;if(Po(Fr))return pp(Fr,Xr)+"";if($u(Fr))return xf?xf.call(Fr):"";var Ur=Fr+"";return Ur=="0"&&1/Fr==-1/0?"-0":Ur},Sf=function(Xr){return Xr==null?"":yg(Xr)},Df=function(Xr,Fr){return Po(Xr)?Xr:fg(Xr,Fr)?[Xr]:vg(Sf(Xr))},Nu=function(Xr){var Fr=Xr==null?0:Xr.length;return Fr?Xr[Fr-1]:void 0},od=function(Xr){if(typeof Xr=="string"||$u(Xr))return Xr;var Fr=Xr+"";return Fr=="0"&&1/Xr==-1/0?"-0":Fr},Jd=function(Xr,Fr){for(var Ur=0,Yr=(Fr=Df(Fr,Xr)).length;Xr!=null&&Ur<Yr;)Xr=Xr[od(Fr[Ur++])];return Ur&&Ur==Yr?Xr:void 0},kd=function(Xr,Fr,Ur){var Yr=-1,Qr=Xr.length;Fr<0&&(Fr=-Fr>Qr?0:Qr+Fr),(Ur=Ur>Qr?Qr:Ur)<0&&(Ur+=Qr),Qr=Fr>Ur?0:Ur-Fr>>>0,Fr>>>=0;for(var tn=Array(Qr);++Yr<Qr;)tn[Yr]=Xr[Yr+Fr];return tn},bu=function(Xr,Fr){return Fr.length<2?Xr:Jd(Xr,kd(Fr,0,-1))},bg=function(Xr,Fr){return Fr=Df(Fr,Xr),(Xr=bu(Xr,Fr))==null||delete Xr[od(Nu(Fr))]},_g=function(Xr,Fr){return Xr==null||bg(Xr,Fr)},_u=function(Xr,Fr,Ur){var Yr=Xr==null?void 0:Jd(Xr,Fr);return Yr===void 0?Ur:Yr},Eh=function(Xr,Fr,Ur){(Ur!==void 0&&!Bs(Xr[Fr],Ur)||Ur===void 0&&!(Fr in Xr))&&fs(Xr,Fr,Ur)},gp=function(Xr){return function(Fr,Ur,Yr){for(var Qr=-1,tn=Object(Fr),sn=Yr(Fr),un=sn.length;un--;){var gn=sn[Xr?un:++Qr];if(Ur(tn[gn],gn,tn)===!1)break}return Fr}}(),mp=function(Xr){return ro(Xr)&&Pn(Xr)},Ad=function(Xr,Fr){if((Fr!=="constructor"||typeof Xr[Fr]!="function")&&Fr!="__proto__")return Xr[Fr]},Cd=function(Xr){return Ba(Xr,gi(Xr))},Ef=function(Xr,Fr,Ur,Yr,Qr,tn,sn){var un=Ad(Xr,Ur),gn=Ad(Fr,Ur),kn=sn.get(gn);if(kn)Eh(Xr,Ur,kn);else{var Cn=tn?tn(un,gn,Ur+"",Xr,Fr,sn):void 0,Dn=Cn===void 0;if(Dn){var Ln=Po(gn),zn=!Ln&&yl(gn),Wn=!Ln&&!zn&&Ls(gn);Cn=gn,Ln||zn||Wn?Po(un)?Cn=un:mp(un)?Cn=Fa(un):zn?(Dn=!1,Cn=da(gn,!0)):Wn?(Dn=!1,Cn=gd(gn,!0)):Cn=[]:us(gn)||xl(gn)?(Cn=un,xl(un)?Cn=Cd(un):zi(un)&&!Na(un)||(Cn=Oc(gn))):Dn=!1}Dn&&(sn.set(gn,Cn),Qr(Cn,gn,Yr,tn,sn),sn.delete(gn)),Eh(Xr,Ur,Cn)}},Tf=function Xr(Fr,Ur,Yr,Qr,tn){Fr!==Ur&&gp(Ur,function(sn,un){if(tn||(tn=new Ca),zi(sn))Ef(Fr,Ur,un,Yr,Xr,Qr,tn);else{var gn=Qr?Qr(Ad(Fr,un),sn,un+"",Fr,Ur,tn):void 0;gn===void 0&&(gn=sn),Eh(Fr,un,gn)}},gi)},wu=function(Xr){return Xr},wg=function(Xr,Fr,Ur){switch(Ur.length){case 0:return Xr.call(Fr);case 1:return Xr.call(Fr,Ur[0]);case 2:return Xr.call(Fr,Ur[0],Ur[1]);case 3:return Xr.call(Fr,Ur[0],Ur[1],Ur[2])}return Xr.apply(Fr,Ur)};var xd=Math.max;const vp=function(Xr,Fr,Ur){return Fr=xd(Fr===void 0?Xr.length-1:Fr,0),function(){for(var Yr=arguments,Qr=-1,tn=xd(Yr.length-Fr,0),sn=Array(tn);++Qr<tn;)sn[Qr]=Yr[Fr+Qr];Qr=-1;for(var un=Array(Fr+1);++Qr<Fr;)un[Qr]=Yr[Qr];return un[Fr]=Ur(sn),wg(Xr,this,un)}},kg=function(Xr){return function(){return Xr}},yp=Wa?function(Xr,Fr){return Wa(Xr,"toString",{configurable:!0,enumerable:!1,value:kg(Fr),writable:!0})}:wu;var Th=Date.now;const Ag=function(Xr){var Fr=0,Ur=0;return function(){var Yr=Th(),Qr=16-(Yr-Ur);if(Ur=Yr,Qr>0){if(++Fr>=800)return arguments[0]}else Fr=0;return Xr.apply(void 0,arguments)}}(yp),eh=function(Xr,Fr){return Ag(vp(Xr,Fr,wu),Xr+"")},bp=function(Xr,Fr,Ur){if(!zi(Ur))return!1;var Yr=typeof Fr;return!!(Yr=="number"?Pn(Ur)&&dl(Fr,Ur.length):Yr=="string"&&Fr in Ur)&&Bs(Ur[Fr],Xr)},Mf=function(Xr){return eh(function(Fr,Ur){var Yr=-1,Qr=Ur.length,tn=Qr>1?Ur[Qr-1]:void 0,sn=Qr>2?Ur[2]:void 0;for(tn=Xr.length>3&&typeof tn=="function"?(Qr--,tn):void 0,sn&&bp(Ur[0],Ur[1],sn)&&(tn=Qr<3?void 0:tn,Qr=1),Fr=Object(Fr);++Yr<Qr;){var un=Ur[Yr];un&&Xr(Fr,un,Yr,tn)}return Fr})},_p=Mf(function(Xr,Fr,Ur){Tf(Xr,Fr,Ur)}),If=function(Xr,Fr,Ur,Yr){if(!zi(Xr))return Xr;for(var Qr=-1,tn=(Fr=Df(Fr,Xr)).length,sn=tn-1,un=Xr;un!=null&&++Qr<tn;){var gn=od(Fr[Qr]),kn=Ur;if(gn==="__proto__"||gn==="constructor"||gn==="prototype")return Xr;if(Qr!=sn){var Cn=un[gn];(kn=Yr?Yr(Cn,gn,un):void 0)===void 0&&(kn=zi(Cn)?Cn:dl(Fr[Qr+1])?[]:{})}va(un,gn,kn),un=un[gn]}return Xr},wp=function(Xr,Fr,Ur){return Xr==null?Xr:If(Xr,Fr,Ur)};class Cg{constructor(Fr){this._styles={},this._styleProcessor=Fr}get isEmpty(){const Fr=Object.entries(this._styles);return!Array.from(Fr).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(Fr){this.clear();const Ur=Array.from(function(Yr){let Qr=null,tn=0,sn=0,un=null;const gn=new Map;if(Yr==="")return gn;Yr.charAt(Yr.length-1)!=";"&&(Yr+=";");for(let kn=0;kn<Yr.length;kn++){const Cn=Yr.charAt(kn);if(Qr===null)switch(Cn){case":":un||(un=Yr.substr(tn,kn-tn),sn=kn+1);break;case'"':case"'":Qr=Cn;break;case";":{const Dn=Yr.substr(sn,kn-sn);un&&gn.set(un.trim(),Dn.trim()),un=null,tn=kn+1;break}}else Cn===Qr&&(Qr=null)}return gn}(Fr).entries());for(const[Yr,Qr]of Ur)this._styleProcessor.toNormalizedForm(Yr,Qr,this._styles)}has(Fr){if(this.isEmpty)return!1;const Ur=this._styleProcessor.getReducedForm(Fr,this._styles).find(([Yr])=>Yr===Fr);return Array.isArray(Ur)}set(Fr,Ur){if(zi(Fr))for(const[Yr,Qr]of Object.entries(Fr))this._styleProcessor.toNormalizedForm(Yr,Qr,this._styles);else this._styleProcessor.toNormalizedForm(Fr,Ur,this._styles)}remove(Fr){const Ur=Mh(Fr);_g(this._styles,Ur),delete this._styles[Fr],this._cleanEmptyObjectsOnPath(Ur)}getNormalized(Fr){return this._styleProcessor.getNormalized(Fr,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(Fr=>Fr.join(":")).sort().join(";")+";"}getAsString(Fr){if(this.isEmpty)return;if(this._styles[Fr]&&!zi(this._styles[Fr]))return this._styles[Fr];const Ur=this._styleProcessor.getReducedForm(Fr,this._styles).find(([Yr])=>Yr===Fr);return Array.isArray(Ur)?Ur[1]:void 0}getStyleNames(Fr=!1){return this.isEmpty?[]:Fr?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([Ur])=>Ur)}clear(){this._styles={}}_getStylesEntries(){const Fr=[],Ur=Object.keys(this._styles);for(const Yr of Ur)Fr.push(...this._styleProcessor.getReducedForm(Yr,this._styles));return Fr}_cleanEmptyObjectsOnPath(Fr){const Ur=Fr.split(".");if(!(Ur.length>1))return;const Yr=Ur.splice(0,Ur.length-1).join("."),Qr=_u(this._styles,Yr);Qr&&!Array.from(Object.keys(Qr)).length&&this.remove(Yr)}}class kp{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(Fr,Ur,Yr){if(zi(Ur))Lf(Yr,Mh(Fr),Ur);else if(this._normalizers.has(Fr)){const Qr=this._normalizers.get(Fr),{path:tn,value:sn}=Qr(Ur);Lf(Yr,tn,sn)}else Lf(Yr,Fr,Ur)}getNormalized(Fr,Ur){if(!Fr)return _p({},Ur);if(Ur[Fr]!==void 0)return Ur[Fr];if(this._extractors.has(Fr)){const Yr=this._extractors.get(Fr);if(typeof Yr=="string")return _u(Ur,Yr);const Qr=Yr(Fr,Ur);if(Qr)return Qr}return _u(Ur,Mh(Fr))}getReducedForm(Fr,Ur){const Yr=this.getNormalized(Fr,Ur);return Yr===void 0?[]:this._reducers.has(Fr)?this._reducers.get(Fr)(Yr):[[Fr,Yr]]}getStyleNames(Fr){const Ur=Array.from(this._consumables.keys()).filter(Qr=>{const tn=this.getNormalized(Qr,Fr);return tn&&typeof tn=="object"?Object.keys(tn).length:tn}),Yr=new Set([...Ur,...Object.keys(Fr)]);return Array.from(Yr.values())}getRelatedStyles(Fr){return this._consumables.get(Fr)||[]}setNormalizer(Fr,Ur){this._normalizers.set(Fr,Ur)}setExtractor(Fr,Ur){this._extractors.set(Fr,Ur)}setReducer(Fr,Ur){this._reducers.set(Fr,Ur)}setStyleRelation(Fr,Ur){this._mapStyleNames(Fr,Ur);for(const Yr of Ur)this._mapStyleNames(Yr,[Fr])}_mapStyleNames(Fr,Ur){this._consumables.has(Fr)||this._consumables.set(Fr,[]),this._consumables.get(Fr).push(...Ur)}}function Mh(Xr){return Xr.replace("-",".")}function Lf(Xr,Fr,Ur){let Yr=Ur;zi(Ur)&&(Yr=_p({},_u(Xr,Fr),Ur)),wp(Xr,Fr,Yr)}class oc extends Fc{constructor(Fr,Ur,Yr,Qr){if(super(Fr),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=Ur,this._attrs=function(tn){const sn=tl(tn);for(const[un,gn]of sn)gn===null?sn.delete(un):typeof gn!="string"&&sn.set(un,String(gn));return sn}(Yr),this._children=[],Qr&&this._insertChild(0,Qr),this._classes=new Set,this._attrs.has("class")){const tn=this._attrs.get("class");Sd(this._classes,tn),this._attrs.delete("class")}this._styles=new Cg(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(Fr){return this._children[Fr]}getChildIndex(Fr){return this._children.indexOf(Fr)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(Fr){if(Fr=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(Fr=="style"){const Ur=this._styles.toString();return Ur==""?void 0:Ur}return this._attrs.get(Fr)}hasAttribute(Fr){return Fr=="class"?this._classes.size>0:Fr=="style"?!this._styles.isEmpty:this._attrs.has(Fr)}isSimilar(Fr){if(!(Fr instanceof oc))return!1;if(this===Fr)return!0;if(this.name!=Fr.name||this._attrs.size!==Fr._attrs.size||this._classes.size!==Fr._classes.size||this._styles.size!==Fr._styles.size)return!1;for(const[Ur,Yr]of this._attrs)if(!Fr._attrs.has(Ur)||Fr._attrs.get(Ur)!==Yr)return!1;for(const Ur of this._classes)if(!Fr._classes.has(Ur))return!1;for(const Ur of this._styles.getStyleNames())if(!Fr._styles.has(Ur)||Fr._styles.getAsString(Ur)!==this._styles.getAsString(Ur))return!1;return!0}hasClass(...Fr){for(const Ur of Fr)if(!this._classes.has(Ur))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(Fr){return this._styles.getAsString(Fr)}getNormalizedStyle(Fr){return this._styles.getNormalized(Fr)}getStyleNames(Fr){return this._styles.getStyleNames(Fr)}hasStyle(...Fr){for(const Ur of Fr)if(!this._styles.has(Ur))return!1;return!0}findAncestor(...Fr){const Ur=new zc(...Fr);let Yr=this.parent;for(;Yr&&!Yr.is("documentFragment");){if(Ur.match(Yr))return Yr;Yr=Yr.parent}return null}getCustomProperty(Fr){return this._customProperties.get(Fr)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const Fr=Array.from(this._classes).sort().join(","),Ur=this._styles.toString(),Yr=Array.from(this._attrs).map(Qr=>`${Qr[0]}="${Qr[1]}"`).sort().join(" ");return this.name+(Fr==""?"":` class="${Fr}"`)+(Ur?` style="${Ur}"`:"")+(Yr==""?"":` ${Yr}`)}shouldRenderUnsafeAttribute(Fr){return this._unsafeAttributesToRender.includes(Fr)}_clone(Fr=!1){const Ur=[];if(Fr)for(const Qr of this.getChildren())Ur.push(Qr._clone(Fr));const Yr=new this.constructor(this.document,this.name,this._attrs,Ur);return Yr._classes=new Set(this._classes),Yr._styles.set(this._styles.getNormalized()),Yr._customProperties=new Map(this._customProperties),Yr.getFillerOffset=this.getFillerOffset,Yr._unsafeAttributesToRender=this._unsafeAttributesToRender,Yr}_appendChild(Fr){return this._insertChild(this.childCount,Fr)}_insertChild(Fr,Ur){this._fireChange("children",this);let Yr=0;const Qr=function(tn,sn){return typeof sn=="string"?[new Ds(tn,sn)]:(xi(sn)||(sn=[sn]),Array.from(sn).map(un=>typeof un=="string"?new Ds(tn,un):un instanceof nu?new Ds(tn,un.data):un))}(this.document,Ur);for(const tn of Qr)tn.parent!==null&&tn._remove(),tn.parent=this,tn.document=this.document,this._children.splice(Fr,0,tn),Fr++,Yr++;return Yr}_removeChildren(Fr,Ur=1){this._fireChange("children",this);for(let Yr=Fr;Yr<Fr+Ur;Yr++)this._children[Yr].parent=null;return this._children.splice(Fr,Ur)}_setAttribute(Fr,Ur){const Yr=String(Ur);this._fireChange("attributes",this),Fr=="class"?Sd(this._classes,Yr):Fr=="style"?this._styles.setTo(Yr):this._attrs.set(Fr,Yr)}_removeAttribute(Fr){return this._fireChange("attributes",this),Fr=="class"?this._classes.size>0&&(this._classes.clear(),!0):Fr=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(Fr)}_addClass(Fr){this._fireChange("attributes",this);for(const Ur of $l(Fr))this._classes.add(Ur)}_removeClass(Fr){this._fireChange("attributes",this);for(const Ur of $l(Fr))this._classes.delete(Ur)}_setStyle(Fr,Ur){this._fireChange("attributes",this),typeof Fr!="string"?this._styles.set(Fr):this._styles.set(Fr,Ur)}_removeStyle(Fr){this._fireChange("attributes",this);for(const Ur of $l(Fr))this._styles.remove(Ur)}_setCustomProperty(Fr,Ur){this._customProperties.set(Fr,Ur)}_removeCustomProperty(Fr){return this._customProperties.delete(Fr)}}function Sd(Xr,Fr){const Ur=Fr.split(/\s+/);Xr.clear(),Ur.forEach(Yr=>Xr.add(Yr))}oc.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="element"||Xr==="view:element"):Xr==="element"||Xr==="view:element"||Xr==="node"||Xr==="view:node"};class ku extends oc{constructor(Fr,Ur,Yr,Qr){super(Fr,Ur,Yr,Qr),this.getFillerOffset=Ap}}function Ap(){const Xr=[...this.getChildren()],Fr=Xr[this.childCount-1];if(Fr&&Fr.is("element","br"))return this.childCount;for(const Ur of Xr)if(!Ur.is("uiElement"))return null;return this.childCount}ku.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="containerElement"||Xr==="view:containerElement"||Xr==="element"||Xr==="view:element"):Xr==="containerElement"||Xr==="view:containerElement"||Xr==="element"||Xr==="view:element"||Xr==="node"||Xr==="view:node"};class th extends Zi(ku){constructor(Fr,Ur,Yr,Qr){super(Fr,Ur,Yr,Qr),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(Fr),this.bind("isFocused").to(Fr,"isFocused",tn=>tn&&Fr.selection.editableElement==this),this.listenTo(Fr.selection,"change",()=>{this.isFocused=Fr.isFocused&&Fr.selection.editableElement==this})}destroy(){this.stopListening()}}th.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="editableElement"||Xr==="view:editableElement"||Xr==="containerElement"||Xr==="view:containerElement"||Xr==="element"||Xr==="view:element"):Xr==="editableElement"||Xr==="view:editableElement"||Xr==="containerElement"||Xr==="view:containerElement"||Xr==="element"||Xr==="view:element"||Xr==="node"||Xr==="view:node"};const Cp=Symbol("rootName");class xp extends th{constructor(Fr,Ur){super(Fr,Ur),this.rootName="main"}get rootName(){return this.getCustomProperty(Cp)}set rootName(Fr){this._setCustomProperty(Cp,Fr)}set _name(Fr){this.name=Fr}}xp.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="rootElement"||Xr==="view:rootElement"||Xr==="editableElement"||Xr==="view:editableElement"||Xr==="containerElement"||Xr==="view:containerElement"||Xr==="element"||Xr==="view:element"):Xr==="rootElement"||Xr==="view:rootElement"||Xr==="editableElement"||Xr==="view:editableElement"||Xr==="containerElement"||Xr==="view:containerElement"||Xr==="element"||Xr==="view:element"||Xr==="node"||Xr==="view:node"};class ad{constructor(Fr={}){if(!Fr.boundaries&&!Fr.startPosition)throw new wn("view-tree-walker-no-start-position",null);if(Fr.direction&&Fr.direction!="forward"&&Fr.direction!="backward")throw new wn("view-tree-walker-unknown-direction",Fr.startPosition,{direction:Fr.direction});this.boundaries=Fr.boundaries||null,Fr.startPosition?this._position=Do._createAt(Fr.startPosition):this._position=Do._createAt(Fr.boundaries[Fr.direction=="backward"?"end":"start"]),this.direction=Fr.direction||"forward",this.singleCharacters=!!Fr.singleCharacters,this.shallow=!!Fr.shallow,this.ignoreElementEnd=!!Fr.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(Fr){let Ur,Yr;do Yr=this.position,Ur=this.next();while(!Ur.done&&Fr(Ur.value));Ur.done||(this._position=Yr)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let Fr=this.position.clone();const Ur=this.position,Yr=Fr.parent;if(Yr.parent===null&&Fr.offset===Yr.childCount)return{done:!0,value:void 0};if(Yr===this._boundaryEndParent&&Fr.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let Qr;if(Yr instanceof Ds){if(Fr.isAtEnd)return this._position=Do._createAfter(Yr),this._next();Qr=Yr.data[Fr.offset]}else Qr=Yr.getChild(Fr.offset);if(Qr instanceof oc){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(Fr))return{done:!0,value:void 0};Fr.offset++}else Fr=new Do(Qr,0);return this._position=Fr,this._formatReturnValue("elementStart",Qr,Ur,Fr,1)}if(Qr instanceof Ds){if(this.singleCharacters)return Fr=new Do(Qr,0),this._position=Fr,this._next();let tn,sn=Qr.data.length;return Qr==this._boundaryEndParent?(sn=this.boundaries.end.offset,tn=new nu(Qr,0,sn),Fr=Do._createAfter(tn)):(tn=new nu(Qr,0,Qr.data.length),Fr.offset++),this._position=Fr,this._formatReturnValue("text",tn,Ur,Fr,sn)}if(typeof Qr=="string"){let tn;this.singleCharacters?tn=1:tn=(Yr===this._boundaryEndParent?this.boundaries.end.offset:Yr.data.length)-Fr.offset;const sn=new nu(Yr,Fr.offset,tn);return Fr.offset+=tn,this._position=Fr,this._formatReturnValue("text",sn,Ur,Fr,tn)}return Fr=Do._createAfter(Yr),this._position=Fr,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",Yr,Ur,Fr)}_previous(){let Fr=this.position.clone();const Ur=this.position,Yr=Fr.parent;if(Yr.parent===null&&Fr.offset===0)return{done:!0,value:void 0};if(Yr==this._boundaryStartParent&&Fr.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let Qr;if(Yr instanceof Ds){if(Fr.isAtStart)return this._position=Do._createBefore(Yr),this._previous();Qr=Yr.data[Fr.offset-1]}else Qr=Yr.getChild(Fr.offset-1);if(Qr instanceof oc)return this.shallow?(Fr.offset--,this._position=Fr,this._formatReturnValue("elementStart",Qr,Ur,Fr,1)):(Fr=new Do(Qr,Qr.childCount),this._position=Fr,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",Qr,Ur,Fr));if(Qr instanceof Ds){if(this.singleCharacters)return Fr=new Do(Qr,Qr.data.length),this._position=Fr,this._previous();let tn,sn=Qr.data.length;if(Qr==this._boundaryStartParent){const un=this.boundaries.start.offset;tn=new nu(Qr,un,Qr.data.length-un),sn=tn.data.length,Fr=Do._createBefore(tn)}else tn=new nu(Qr,0,Qr.data.length),Fr.offset--;return this._position=Fr,this._formatReturnValue("text",tn,Ur,Fr,sn)}if(typeof Qr=="string"){let tn;if(this.singleCharacters)tn=1;else{const un=Yr===this._boundaryStartParent?this.boundaries.start.offset:0;tn=Fr.offset-un}Fr.offset-=tn;const sn=new nu(Yr,Fr.offset,tn);return this._position=Fr,this._formatReturnValue("text",sn,Ur,Fr,tn)}return Fr=Do._createBefore(Yr),this._position=Fr,this._formatReturnValue("elementStart",Yr,Ur,Fr,1)}_formatReturnValue(Fr,Ur,Yr,Qr,tn){return Ur instanceof nu&&(Ur.offsetInText+Ur.data.length==Ur.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?Yr=Do._createAfter(Ur.textNode):(Qr=Do._createAfter(Ur.textNode),this._position=Qr)),Ur.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?Yr=Do._createBefore(Ur.textNode):(Qr=Do._createBefore(Ur.textNode),this._position=Qr))),{done:!1,value:{type:Fr,item:Ur,previousPosition:Yr,nextPosition:Qr,length:tn}}}}class Do extends Bc{constructor(Fr,Ur){super(),this.parent=Fr,this.offset=Ur}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const Fr=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===Fr}get root(){return this.parent.root}get editableElement(){let Fr=this.parent;for(;!(Fr instanceof th);){if(!Fr.parent)return null;Fr=Fr.parent}return Fr}getShiftedBy(Fr){const Ur=Do._createAt(this),Yr=Ur.offset+Fr;return Ur.offset=Yr<0?0:Yr,Ur}getLastMatchingPosition(Fr,Ur={}){Ur.startPosition=this;const Yr=new ad(Ur);return Yr.skip(Fr),Yr.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(Fr){const Ur=this.getAncestors(),Yr=Fr.getAncestors();let Qr=0;for(;Ur[Qr]==Yr[Qr]&&Ur[Qr];)Qr++;return Qr===0?null:Ur[Qr-1]}isEqual(Fr){return this.parent==Fr.parent&&this.offset==Fr.offset}isBefore(Fr){return this.compareWith(Fr)=="before"}isAfter(Fr){return this.compareWith(Fr)=="after"}compareWith(Fr){if(this.root!==Fr.root)return"different";if(this.isEqual(Fr))return"same";const Ur=this.parent.is("node")?this.parent.getPath():[],Yr=Fr.parent.is("node")?Fr.parent.getPath():[];Ur.push(this.offset),Yr.push(Fr.offset);const Qr=ka(Ur,Yr);switch(Qr){case"prefix":return"before";case"extension":return"after";default:return Ur[Qr]<Yr[Qr]?"before":"after"}}getWalker(Fr={}){return Fr.startPosition=this,new ad(Fr)}clone(){return new Do(this.parent,this.offset)}static _createAt(Fr,Ur){if(Fr instanceof Do)return new this(Fr.parent,Fr.offset);{const Yr=Fr;if(Ur=="end")Ur=Yr.is("$text")?Yr.data.length:Yr.childCount;else{if(Ur=="before")return this._createBefore(Yr);if(Ur=="after")return this._createAfter(Yr);if(Ur!==0&&!Ur)throw new wn("view-createpositionat-offset-required",Yr)}return new Do(Yr,Ur)}}static _createAfter(Fr){if(Fr.is("$textProxy"))return new Do(Fr.textNode,Fr.offsetInText+Fr.data.length);if(!Fr.parent)throw new wn("view-position-after-root",Fr,{root:Fr});return new Do(Fr.parent,Fr.index+1)}static _createBefore(Fr){if(Fr.is("$textProxy"))return new Do(Fr.textNode,Fr.offsetInText);if(!Fr.parent)throw new wn("view-position-before-root",Fr,{root:Fr});return new Do(Fr.parent,Fr.index)}}Do.prototype.is=function(Xr){return Xr==="position"||Xr==="view:position"};class ga extends Bc{constructor(Fr,Ur=null){super(),this.start=Fr.clone(),this.end=Ur?Ur.clone():Fr.clone()}*[Symbol.iterator](){yield*new ad({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let Fr=this.start.getLastMatchingPosition(Ih,{direction:"backward"}),Ur=this.end.getLastMatchingPosition(Ih);return Fr.parent.is("$text")&&Fr.isAtStart&&(Fr=Do._createBefore(Fr.parent)),Ur.parent.is("$text")&&Ur.isAtEnd&&(Ur=Do._createAfter(Ur.parent)),new ga(Fr,Ur)}getTrimmed(){let Fr=this.start.getLastMatchingPosition(Ih);if(Fr.isAfter(this.end)||Fr.isEqual(this.end))return new ga(Fr,Fr);let Ur=this.end.getLastMatchingPosition(Ih,{direction:"backward"});const Yr=Fr.nodeAfter,Qr=Ur.nodeBefore;return Yr&&Yr.is("$text")&&(Fr=new Do(Yr,0)),Qr&&Qr.is("$text")&&(Ur=new Do(Qr,Qr.data.length)),new ga(Fr,Ur)}isEqual(Fr){return this==Fr||this.start.isEqual(Fr.start)&&this.end.isEqual(Fr.end)}containsPosition(Fr){return Fr.isAfter(this.start)&&Fr.isBefore(this.end)}containsRange(Fr,Ur=!1){Fr.isCollapsed&&(Ur=!1);const Yr=this.containsPosition(Fr.start)||Ur&&this.start.isEqual(Fr.start),Qr=this.containsPosition(Fr.end)||Ur&&this.end.isEqual(Fr.end);return Yr&&Qr}getDifference(Fr){const Ur=[];return this.isIntersecting(Fr)?(this.containsPosition(Fr.start)&&Ur.push(new ga(this.start,Fr.start)),this.containsPosition(Fr.end)&&Ur.push(new ga(Fr.end,this.end))):Ur.push(this.clone()),Ur}getIntersection(Fr){if(this.isIntersecting(Fr)){let Ur=this.start,Yr=this.end;return this.containsPosition(Fr.start)&&(Ur=Fr.start),this.containsPosition(Fr.end)&&(Yr=Fr.end),new ga(Ur,Yr)}return null}getWalker(Fr={}){return Fr.boundaries=this,new ad(Fr)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let Fr=this.start.nodeAfter,Ur=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(Fr=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(Ur=this.end.parent.previousSibling),Fr&&Fr.is("element")&&Fr===Ur?Fr:null}clone(){return new ga(this.start,this.end)}*getItems(Fr={}){Fr.boundaries=this,Fr.ignoreElementEnd=!0;const Ur=new ad(Fr);for(const Yr of Ur)yield Yr.item}*getPositions(Fr={}){Fr.boundaries=this;const Ur=new ad(Fr);yield Ur.position;for(const Yr of Ur)yield Yr.nextPosition}isIntersecting(Fr){return this.start.isBefore(Fr.end)&&this.end.isAfter(Fr.start)}static _createFromParentsAndOffsets(Fr,Ur,Yr,Qr){return new this(new Do(Fr,Ur),new Do(Yr,Qr))}static _createFromPositionAndShift(Fr,Ur){const Yr=Fr,Qr=Fr.getShiftedBy(Ur);return Ur>0?new this(Yr,Qr):new this(Qr,Yr)}static _createIn(Fr){return this._createFromParentsAndOffsets(Fr,0,Fr,Fr.childCount)}static _createOn(Fr){const Ur=Fr.is("$textProxy")?Fr.offsetSize:1;return this._createFromPositionAndShift(Do._createBefore(Fr),Ur)}}function Ih(Xr){return!(!Xr.item.is("attributeElement")&&!Xr.item.is("uiElement"))}ga.prototype.is=function(Xr){return Xr==="range"||Xr==="view:range"};class iu extends wi(Bc){constructor(...Fr){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",Fr.length&&this.setTo(...Fr)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const Fr=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?Fr.end:Fr.start).clone()}get focus(){if(!this._ranges.length)return null;const Fr=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?Fr.start:Fr.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const Fr of this._ranges)yield Fr.clone()}getFirstRange(){let Fr=null;for(const Ur of this._ranges)Fr&&!Ur.start.isBefore(Fr.start)||(Fr=Ur);return Fr?Fr.clone():null}getLastRange(){let Fr=null;for(const Ur of this._ranges)Fr&&!Ur.end.isAfter(Fr.end)||(Fr=Ur);return Fr?Fr.clone():null}getFirstPosition(){const Fr=this.getFirstRange();return Fr?Fr.start.clone():null}getLastPosition(){const Fr=this.getLastRange();return Fr?Fr.end.clone():null}isEqual(Fr){if(this.isFake!=Fr.isFake||this.isFake&&this.fakeSelectionLabel!=Fr.fakeSelectionLabel||this.rangeCount!=Fr.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(Fr.anchor)||!this.focus.isEqual(Fr.focus))return!1;for(const Ur of this._ranges){let Yr=!1;for(const Qr of Fr._ranges)if(Ur.isEqual(Qr)){Yr=!0;break}if(!Yr)return!1}return!0}isSimilar(Fr){if(this.isBackward!=Fr.isBackward)return!1;const Ur=Ua(this.getRanges());if(Ur!=Ua(Fr.getRanges()))return!1;if(Ur==0)return!0;for(let Yr of this.getRanges()){Yr=Yr.getTrimmed();let Qr=!1;for(let tn of Fr.getRanges())if(tn=tn.getTrimmed(),Yr.start.isEqual(tn.start)&&Yr.end.isEqual(tn.end)){Qr=!0;break}if(!Qr)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...Fr){let[Ur,Yr,Qr]=Fr;if(typeof Yr=="object"&&(Qr=Yr,Yr=void 0),Ur===null)this._setRanges([]),this._setFakeOptions(Qr);else if(Ur instanceof iu||Ur instanceof Lh)this._setRanges(Ur.getRanges(),Ur.isBackward),this._setFakeOptions({fake:Ur.isFake,label:Ur.fakeSelectionLabel});else if(Ur instanceof ga)this._setRanges([Ur],Qr&&Qr.backward),this._setFakeOptions(Qr);else if(Ur instanceof Do)this._setRanges([new ga(Ur)]),this._setFakeOptions(Qr);else if(Ur instanceof Fc){const tn=!!Qr&&!!Qr.backward;let sn;if(Yr===void 0)throw new wn("view-selection-setto-required-second-parameter",this);sn=Yr=="in"?ga._createIn(Ur):Yr=="on"?ga._createOn(Ur):new ga(Do._createAt(Ur,Yr)),this._setRanges([sn],tn),this._setFakeOptions(Qr)}else{if(!xi(Ur))throw new wn("view-selection-setto-not-selectable",this);this._setRanges(Ur,Qr&&Qr.backward),this._setFakeOptions(Qr)}this.fire("change")}setFocus(Fr,Ur){if(this.anchor===null)throw new wn("view-selection-setfocus-no-ranges",this);const Yr=Do._createAt(Fr,Ur);if(Yr.compareWith(this.focus)=="same")return;const Qr=this.anchor;this._ranges.pop(),Yr.compareWith(Qr)=="before"?this._addRange(new ga(Yr,Qr),!0):this._addRange(new ga(Qr,Yr)),this.fire("change")}_setRanges(Fr,Ur=!1){Fr=Array.from(Fr),this._ranges=[];for(const Yr of Fr)this._addRange(Yr);this._lastRangeBackward=!!Ur}_setFakeOptions(Fr={}){this._isFake=!!Fr.fake,this._fakeSelectionLabel=Fr.fake&&Fr.label||""}_addRange(Fr,Ur=!1){if(!(Fr instanceof ga))throw new wn("view-selection-add-range-not-range",this);this._pushRange(Fr),this._lastRangeBackward=!!Ur}_pushRange(Fr){for(const Ur of this._ranges)if(Fr.isIntersecting(Ur))throw new wn("view-selection-range-intersects",this,{addedRange:Fr,intersectingRange:Ur});this._ranges.push(new ga(Fr.start,Fr.end))}}iu.prototype.is=function(Xr){return Xr==="selection"||Xr==="view:selection"};class Lh extends wi(Bc){constructor(...Fr){super(),this._selection=new iu,this._selection.delegate("change").to(this),Fr.length&&this._selection.setTo(...Fr)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(Fr){return this._selection.isEqual(Fr)}isSimilar(Fr){return this._selection.isSimilar(Fr)}_setTo(...Fr){this._selection.setTo(...Fr)}_setFocus(Fr,Ur){this._selection.setFocus(Fr,Ur)}}Lh.prototype.is=function(Xr){return Xr==="selection"||Xr=="documentSelection"||Xr=="view:selection"||Xr=="view:documentSelection"};class Bu extends hn{constructor(Fr,Ur,Yr){super(Fr,Ur),this.startRange=Yr,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Ph=Symbol("bubbling contexts");function Pf(Xr){return class extends Xr{fire(Fr,...Ur){try{const Yr=Fr instanceof hn?Fr:new hn(this,Fr),Qr=Ed(this);if(!Qr.size)return;if(Dd(Yr,"capturing",this),Hc(Qr,"$capture",Yr,...Ur))return Yr.return;const tn=Yr.startRange||this.selection.getFirstRange(),sn=tn?tn.getContainedElement():null,un=!!sn&&!!Of(Qr,sn);let gn=sn||function(kn){if(!kn)return null;const Cn=kn.start.parent,Dn=kn.end.parent,Ln=Cn.getPath(),zn=Dn.getPath();return Ln.length>zn.length?Cn:Dn}(tn);if(Dd(Yr,"atTarget",gn),!un){if(Hc(Qr,"$text",Yr,...Ur))return Yr.return;Dd(Yr,"bubbling",gn)}for(;gn;){if(gn.is("rootElement")){if(Hc(Qr,"$root",Yr,...Ur))return Yr.return}else if(gn.is("element")&&Hc(Qr,gn.name,Yr,...Ur))return Yr.return;if(Hc(Qr,gn,Yr,...Ur))return Yr.return;gn=gn.parent,Dd(Yr,"bubbling",gn)}return Dd(Yr,"bubbling",this),Hc(Qr,"$document",Yr,...Ur),Yr.return}catch(Yr){wn.rethrowUnexpectedError(Yr,this)}}_addEventListener(Fr,Ur,Yr){const Qr=$l(Yr.context||"$document"),tn=Ed(this);for(const sn of Qr){let un=tn.get(sn);un||(un=new(wi()),tn.set(sn,un)),this.listenTo(un,Fr,Ur,Yr)}}_removeEventListener(Fr,Ur){const Yr=Ed(this);for(const Qr of Yr.values())this.stopListening(Qr,Fr,Ur)}}}{const Xr=Pf(Object);["fire","_addEventListener","_removeEventListener"].forEach(Fr=>{Pf[Fr]=Xr.prototype[Fr]})}function Dd(Xr,Fr,Ur){Xr instanceof Bu&&(Xr._eventPhase=Fr,Xr._currentTarget=Ur)}function Hc(Xr,Fr,Ur,...Yr){const Qr=typeof Fr=="string"?Xr.get(Fr):Of(Xr,Fr);return!!Qr&&(Qr.fire(Ur,...Yr),Ur.stop.called)}function Of(Xr,Fr){for(const[Ur,Yr]of Xr)if(typeof Ur=="function"&&Ur(Fr))return Yr;return null}function Ed(Xr){return Xr[Ph]||(Xr[Ph]=new Map),Xr[Ph]}class Oh extends Pf(Zi()){constructor(Fr){super(),this._postFixers=new Set,this.selection=new Lh,this.roots=new $c({idProperty:"rootName"}),this.stylesProcessor=Fr,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(Fr="main"){return this.roots.get(Fr)}registerPostFixer(Fr){this._postFixers.add(Fr)}destroy(){this.roots.map(Fr=>Fr.destroy()),this.stopListening()}_callPostFixers(Fr){let Ur=!1;do for(const Yr of this._postFixers)if(Ur=Yr(Fr),Ur)break;while(Ur)}}class sd extends oc{constructor(Fr,Ur,Yr,Qr){super(Fr,Ur,Yr,Qr),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=xg}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new wn("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(Fr){return this.id!==null||Fr.id!==null?this.id===Fr.id:super.isSimilar(Fr)&&this.priority==Fr.priority}_clone(Fr=!1){const Ur=super._clone(Fr);return Ur._priority=this._priority,Ur._id=this._id,Ur}}function xg(){if(Os(this))return null;let Xr=this.parent;for(;Xr&&Xr.is("attributeElement");){if(Os(Xr)>1)return null;Xr=Xr.parent}return!Xr||Os(Xr)>1?null:this.childCount}function Os(Xr){return Array.from(Xr.getChildren()).filter(Fr=>!Fr.is("uiElement")).length}sd.DEFAULT_PRIORITY=10,sd.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="attributeElement"||Xr==="view:attributeElement"||Xr==="element"||Xr==="view:element"):Xr==="attributeElement"||Xr==="view:attributeElement"||Xr==="element"||Xr==="view:element"||Xr==="node"||Xr==="view:node"};class Rf extends oc{constructor(Fr,Ur,Yr,Qr){super(Fr,Ur,Yr,Qr),this.getFillerOffset=$f}_insertChild(Fr,Ur){if(Ur&&(Ur instanceof Fc||Array.from(Ur).length>0))throw new wn("view-emptyelement-cannot-add",[this,Ur]);return 0}}function $f(){return null}Rf.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="emptyElement"||Xr==="view:emptyElement"||Xr==="element"||Xr==="view:element"):Xr==="emptyElement"||Xr==="view:emptyElement"||Xr==="element"||Xr==="view:element"||Xr==="node"||Xr==="view:node"};class Fu extends oc{constructor(Fr,Ur,Yr,Qr){super(Fr,Ur,Yr,Qr),this.getFillerOffset=Rh}_insertChild(Fr,Ur){if(Ur&&(Ur instanceof Fc||Array.from(Ur).length>0))throw new wn("view-uielement-cannot-add",[this,Ur]);return 0}render(Fr,Ur){return this.toDomElement(Fr)}toDomElement(Fr){const Ur=Fr.createElement(this.name);for(const Yr of this.getAttributeKeys())Ur.setAttribute(Yr,this.getAttribute(Yr));return Ur}}function Vc(Xr){Xr.document.on("arrowKey",(Fr,Ur)=>function(Yr,Qr,tn){if(Qr.keyCode==qa.arrowright){const sn=Qr.domTarget.ownerDocument.defaultView.getSelection(),un=sn.rangeCount==1&&sn.getRangeAt(0).collapsed;if(un||Qr.shiftKey){const gn=sn.focusNode,kn=sn.focusOffset,Cn=tn.domPositionToView(gn,kn);if(Cn===null)return;let Dn=!1;const Ln=Cn.getLastMatchingPosition(zn=>(zn.item.is("uiElement")&&(Dn=!0),!(!zn.item.is("uiElement")&&!zn.item.is("attributeElement"))));if(Dn){const zn=tn.viewPositionToDom(Ln);un?sn.collapse(zn.parent,zn.offset):sn.extend(zn.parent,zn.offset)}}}}(0,Ur,Xr.domConverter),{priority:"low"})}function Rh(){return null}Fu.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="uiElement"||Xr==="view:uiElement"||Xr==="element"||Xr==="view:element"):Xr==="uiElement"||Xr==="view:uiElement"||Xr==="element"||Xr==="view:element"||Xr==="node"||Xr==="view:node"};class rh extends oc{constructor(Fr,Ur,Yr,Qr){super(Fr,Ur,Yr,Qr),this.getFillerOffset=Sp}_insertChild(Fr,Ur){if(Ur&&(Ur instanceof Fc||Array.from(Ur).length>0))throw new wn("view-rawelement-cannot-add",[this,Ur]);return 0}render(Fr,Ur){}}function Sp(){return null}rh.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="rawElement"||Xr==="view:rawElement"||Xr==="element"||Xr==="view:element"):Xr==="rawElement"||Xr==="view:rawElement"||Xr===this.name||Xr==="view:"+this.name||Xr==="element"||Xr==="view:element"||Xr==="node"||Xr==="view:node"};class zu extends wi(Bc){constructor(Fr,Ur){super(),this._children=[],this._customProperties=new Map,this.document=Fr,Ur&&this._insertChild(0,Ur)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(Fr){return this._customProperties.get(Fr)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(Fr){return this._insertChild(this.childCount,Fr)}getChild(Fr){return this._children[Fr]}getChildIndex(Fr){return this._children.indexOf(Fr)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(Fr,Ur){this._fireChange("children",this);let Yr=0;const Qr=function(tn,sn){return typeof sn=="string"?[new Ds(tn,sn)]:(xi(sn)||(sn=[sn]),Array.from(sn).map(un=>typeof un=="string"?new Ds(tn,un):un instanceof nu?new Ds(tn,un.data):un))}(this.document,Ur);for(const tn of Qr)tn.parent!==null&&tn._remove(),tn.parent=this,this._children.splice(Fr,0,tn),Fr++,Yr++;return Yr}_removeChildren(Fr,Ur=1){this._fireChange("children",this);for(let Yr=Fr;Yr<Fr+Ur;Yr++)this._children[Yr].parent=null;return this._children.splice(Fr,Ur)}_fireChange(Fr,Ur){this.fire("change:"+Fr,Ur)}_setCustomProperty(Fr,Ur){this._customProperties.set(Fr,Ur)}_removeCustomProperty(Fr){return this._customProperties.delete(Fr)}}zu.prototype.is=function(Xr){return Xr==="documentFragment"||Xr==="view:documentFragment"};class Nf{constructor(Fr){this._cloneGroups=new Map,this._slotFactory=null,this.document=Fr}setSelection(...Fr){this.document.selection._setTo(...Fr)}setSelectionFocus(Fr,Ur){this.document.selection._setFocus(Fr,Ur)}createDocumentFragment(Fr){return new zu(this.document,Fr)}createText(Fr){return new Ds(this.document,Fr)}createAttributeElement(Fr,Ur,Yr={}){const Qr=new sd(this.document,Fr,Ur);return typeof Yr.priority=="number"&&(Qr._priority=Yr.priority),Yr.id&&(Qr._id=Yr.id),Yr.renderUnsafeAttributes&&Qr._unsafeAttributesToRender.push(...Yr.renderUnsafeAttributes),Qr}createContainerElement(Fr,Ur,Yr={},Qr={}){let tn=null;us(Yr)?Qr=Yr:tn=Yr;const sn=new ku(this.document,Fr,Ur,tn);return Qr.renderUnsafeAttributes&&sn._unsafeAttributesToRender.push(...Qr.renderUnsafeAttributes),sn}createEditableElement(Fr,Ur,Yr={}){const Qr=new th(this.document,Fr,Ur);return Yr.renderUnsafeAttributes&&Qr._unsafeAttributesToRender.push(...Yr.renderUnsafeAttributes),Qr}createEmptyElement(Fr,Ur,Yr={}){const Qr=new Rf(this.document,Fr,Ur);return Yr.renderUnsafeAttributes&&Qr._unsafeAttributesToRender.push(...Yr.renderUnsafeAttributes),Qr}createUIElement(Fr,Ur,Yr){const Qr=new Fu(this.document,Fr,Ur);return Yr&&(Qr.render=Yr),Qr}createRawElement(Fr,Ur,Yr,Qr={}){const tn=new rh(this.document,Fr,Ur);return Yr&&(tn.render=Yr),Qr.renderUnsafeAttributes&&tn._unsafeAttributesToRender.push(...Qr.renderUnsafeAttributes),tn}setAttribute(Fr,Ur,Yr){Yr._setAttribute(Fr,Ur)}removeAttribute(Fr,Ur){Ur._removeAttribute(Fr)}addClass(Fr,Ur){Ur._addClass(Fr)}removeClass(Fr,Ur){Ur._removeClass(Fr)}setStyle(Fr,Ur,Yr){us(Fr)&&Yr===void 0?Ur._setStyle(Fr):Yr._setStyle(Fr,Ur)}removeStyle(Fr,Ur){Ur._removeStyle(Fr)}setCustomProperty(Fr,Ur,Yr){Yr._setCustomProperty(Fr,Ur)}removeCustomProperty(Fr,Ur){return Ur._removeCustomProperty(Fr)}breakAttributes(Fr){return Fr instanceof Do?this._breakAttributes(Fr):this._breakAttributesRange(Fr)}breakContainer(Fr){const Ur=Fr.parent;if(!Ur.is("containerElement"))throw new wn("view-writer-break-non-container-element",this.document);if(!Ur.parent)throw new wn("view-writer-break-root",this.document);if(Fr.isAtStart)return Do._createBefore(Ur);if(!Fr.isAtEnd){const Yr=Ur._clone(!1);this.insert(Do._createAfter(Ur),Yr);const Qr=new ga(Fr,Do._createAt(Ur,"end")),tn=new Do(Yr,0);this.move(Qr,tn)}return Do._createAfter(Ur)}mergeAttributes(Fr){const Ur=Fr.offset,Yr=Fr.parent;if(Yr.is("$text"))return Fr;if(Yr.is("attributeElement")&&Yr.childCount===0){const sn=Yr.parent,un=Yr.index;return Yr._remove(),this._removeFromClonedElementsGroup(Yr),this.mergeAttributes(new Do(sn,un))}const Qr=Yr.getChild(Ur-1),tn=Yr.getChild(Ur);if(!Qr||!tn)return Fr;if(Qr.is("$text")&&tn.is("$text"))return Bf(Qr,tn);if(Qr.is("attributeElement")&&tn.is("attributeElement")&&Qr.isSimilar(tn)){const sn=Qr.childCount;return Qr._appendChild(tn.getChildren()),tn._remove(),this._removeFromClonedElementsGroup(tn),this.mergeAttributes(new Do(Qr,sn))}return Fr}mergeContainers(Fr){const Ur=Fr.nodeBefore,Yr=Fr.nodeAfter;if(!(Ur&&Yr&&Ur.is("containerElement")&&Yr.is("containerElement")))throw new wn("view-writer-merge-containers-invalid-position",this.document);const Qr=Ur.getChild(Ur.childCount-1),tn=Qr instanceof Ds?Do._createAt(Qr,"end"):Do._createAt(Ur,"end");return this.move(ga._createIn(Yr),Do._createAt(Ur,"end")),this.remove(ga._createOn(Yr)),tn}insert(Fr,Ur){Ff(Ur=xi(Ur)?[...Ur]:[Ur],this.document);const Yr=Ur.reduce((sn,un)=>{const gn=sn[sn.length-1],kn=!un.is("uiElement");return gn&&gn.breakAttributes==kn?gn.nodes.push(un):sn.push({breakAttributes:kn,nodes:[un]}),sn},[]);let Qr=null,tn=Fr;for(const{nodes:sn,breakAttributes:un}of Yr){const gn=this._insertNodes(tn,sn,un);Qr||(Qr=gn.start),tn=gn.end}return Qr?new ga(Qr,tn):new ga(Fr)}remove(Fr){const Ur=Fr instanceof ga?Fr:ga._createOn(Fr);if(ou(Ur,this.document),Ur.isCollapsed)return new zu(this.document);const{start:Yr,end:Qr}=this._breakAttributesRange(Ur,!0),tn=Yr.parent,sn=Qr.offset-Yr.offset,un=tn._removeChildren(Yr.offset,sn);for(const kn of un)this._removeFromClonedElementsGroup(kn);const gn=this.mergeAttributes(Yr);return Ur.start=gn,Ur.end=gn.clone(),new zu(this.document,un)}clear(Fr,Ur){ou(Fr,this.document);const Yr=Fr.getWalker({direction:"backward",ignoreElementEnd:!0});for(const Qr of Yr){const tn=Qr.item;let sn;if(tn.is("element")&&Ur.isSimilar(tn))sn=ga._createOn(tn);else if(!Qr.nextPosition.isAfter(Fr.start)&&tn.is("$textProxy")){const un=tn.getAncestors().find(gn=>gn.is("element")&&Ur.isSimilar(gn));un&&(sn=ga._createIn(un))}sn&&(sn.end.isAfter(Fr.end)&&(sn.end=Fr.end),sn.start.isBefore(Fr.start)&&(sn.start=Fr.start),this.remove(sn))}}move(Fr,Ur){let Yr;if(Ur.isAfter(Fr.end)){const Qr=(Ur=this._breakAttributes(Ur,!0)).parent,tn=Qr.childCount;Fr=this._breakAttributesRange(Fr,!0),Yr=this.remove(Fr),Ur.offset+=Qr.childCount-tn}else Yr=this.remove(Fr);return this.insert(Ur,Yr)}wrap(Fr,Ur){if(!(Ur instanceof sd))throw new wn("view-writer-wrap-invalid-attribute",this.document);if(ou(Fr,this.document),Fr.isCollapsed){let Qr=Fr.start;Qr.parent.is("element")&&(Yr=Qr.parent,!Array.from(Yr.getChildren()).some(sn=>!sn.is("uiElement")))&&(Qr=Qr.getLastMatchingPosition(sn=>sn.item.is("uiElement"))),Qr=this._wrapPosition(Qr,Ur);const tn=this.document.selection;return tn.isCollapsed&&tn.getFirstPosition().isEqual(Fr.start)&&this.setSelection(Qr),new ga(Qr)}return this._wrapRange(Fr,Ur);var Yr}unwrap(Fr,Ur){if(!(Ur instanceof sd))throw new wn("view-writer-unwrap-invalid-attribute",this.document);if(ou(Fr,this.document),Fr.isCollapsed)return Fr;const{start:Yr,end:Qr}=this._breakAttributesRange(Fr,!0),tn=Yr.parent,sn=this._unwrapChildren(tn,Yr.offset,Qr.offset,Ur),un=this.mergeAttributes(sn.start);un.isEqual(sn.start)||sn.end.offset--;const gn=this.mergeAttributes(sn.end);return new ga(un,gn)}rename(Fr,Ur){const Yr=new ku(this.document,Fr,Ur.getAttributes());return this.insert(Do._createAfter(Ur),Yr),this.move(ga._createIn(Ur),Do._createAt(Yr,0)),this.remove(ga._createOn(Ur)),Yr}clearClonedElementsGroup(Fr){this._cloneGroups.delete(Fr)}createPositionAt(Fr,Ur){return Do._createAt(Fr,Ur)}createPositionAfter(Fr){return Do._createAfter(Fr)}createPositionBefore(Fr){return Do._createBefore(Fr)}createRange(Fr,Ur){return new ga(Fr,Ur)}createRangeOn(Fr){return ga._createOn(Fr)}createRangeIn(Fr){return ga._createIn(Fr)}createSelection(...Fr){return new iu(...Fr)}createSlot(Fr="children"){if(!this._slotFactory)throw new wn("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,Fr)}_registerSlotFactory(Fr){this._slotFactory=Fr}_clearSlotFactory(){this._slotFactory=null}_insertNodes(Fr,Ur,Yr){let Qr,tn;if(Qr=Yr?nh(Fr):Fr.parent.is("$text")?Fr.parent.parent:Fr.parent,!Qr)throw new wn("view-writer-invalid-position-container",this.document);tn=Yr?this._breakAttributes(Fr,!0):Fr.parent.is("$text")?ih(Fr):Fr;const sn=Qr._insertChild(tn.offset,Ur);for(const Cn of Ur)this._addToClonedElementsGroup(Cn);const un=tn.getShiftedBy(sn),gn=this.mergeAttributes(tn);gn.isEqual(tn)||un.offset--;const kn=this.mergeAttributes(un);return new ga(gn,kn)}_wrapChildren(Fr,Ur,Yr,Qr){let tn=Ur;const sn=[];for(;tn<Yr;){const gn=Fr.getChild(tn),kn=gn.is("$text"),Cn=gn.is("attributeElement");if(Cn&&this._wrapAttributeElement(Qr,gn))sn.push(new Do(Fr,tn));else if(kn||!Cn||Dp(Qr,gn)){const Dn=Qr._clone();gn._remove(),Dn._appendChild(gn),Fr._insertChild(tn,Dn),this._addToClonedElementsGroup(Dn),sn.push(new Do(Fr,tn))}else this._wrapChildren(gn,0,gn.childCount,Qr);tn++}let un=0;for(const gn of sn)gn.offset-=un,gn.offset!=Ur&&(this.mergeAttributes(gn).isEqual(gn)||(un++,Yr--));return ga._createFromParentsAndOffsets(Fr,Ur,Fr,Yr)}_unwrapChildren(Fr,Ur,Yr,Qr){let tn=Ur;const sn=[];for(;tn<Yr;){const gn=Fr.getChild(tn);if(gn.is("attributeElement"))if(gn.isSimilar(Qr)){const kn=gn.getChildren(),Cn=gn.childCount;gn._remove(),Fr._insertChild(tn,kn),this._removeFromClonedElementsGroup(gn),sn.push(new Do(Fr,tn),new Do(Fr,tn+Cn)),tn+=Cn,Yr+=Cn-1}else this._unwrapAttributeElement(Qr,gn)?(sn.push(new Do(Fr,tn),new Do(Fr,tn+1)),tn++):(this._unwrapChildren(gn,0,gn.childCount,Qr),tn++);else tn++}let un=0;for(const gn of sn)gn.offset-=un,!(gn.offset==Ur||gn.offset==Yr)&&(this.mergeAttributes(gn).isEqual(gn)||(un++,Yr--));return ga._createFromParentsAndOffsets(Fr,Ur,Fr,Yr)}_wrapRange(Fr,Ur){const{start:Yr,end:Qr}=this._breakAttributesRange(Fr,!0),tn=Yr.parent,sn=this._wrapChildren(tn,Yr.offset,Qr.offset,Ur),un=this.mergeAttributes(sn.start);un.isEqual(sn.start)||sn.end.offset--;const gn=this.mergeAttributes(sn.end);return new ga(un,gn)}_wrapPosition(Fr,Ur){if(Ur.isSimilar(Fr.parent))return Ep(Fr.clone());Fr.parent.is("$text")&&(Fr=ih(Fr));const Yr=this.createAttributeElement("_wrapPosition-fake-element");Yr._priority=Number.POSITIVE_INFINITY,Yr.isSimilar=()=>!1,Fr.parent._insertChild(Fr.offset,Yr);const Qr=new ga(Fr,Fr.getShiftedBy(1));this.wrap(Qr,Ur);const tn=new Do(Yr.parent,Yr.index);Yr._remove();const sn=tn.nodeBefore,un=tn.nodeAfter;return sn instanceof Ds&&un instanceof Ds?Bf(sn,un):Ep(tn)}_wrapAttributeElement(Fr,Ur){if(!Tp(Fr,Ur)||Fr.name!==Ur.name||Fr.priority!==Ur.priority)return!1;for(const Yr of Fr.getAttributeKeys())if(Yr!=="class"&&Yr!=="style"&&Ur.hasAttribute(Yr)&&Ur.getAttribute(Yr)!==Fr.getAttribute(Yr))return!1;for(const Yr of Fr.getStyleNames())if(Ur.hasStyle(Yr)&&Ur.getStyle(Yr)!==Fr.getStyle(Yr))return!1;for(const Yr of Fr.getAttributeKeys())Yr!=="class"&&Yr!=="style"&&(Ur.hasAttribute(Yr)||this.setAttribute(Yr,Fr.getAttribute(Yr),Ur));for(const Yr of Fr.getStyleNames())Ur.hasStyle(Yr)||this.setStyle(Yr,Fr.getStyle(Yr),Ur);for(const Yr of Fr.getClassNames())Ur.hasClass(Yr)||this.addClass(Yr,Ur);return!0}_unwrapAttributeElement(Fr,Ur){if(!Tp(Fr,Ur)||Fr.name!==Ur.name||Fr.priority!==Ur.priority)return!1;for(const Yr of Fr.getAttributeKeys())if(Yr!=="class"&&Yr!=="style"&&(!Ur.hasAttribute(Yr)||Ur.getAttribute(Yr)!==Fr.getAttribute(Yr)))return!1;if(!Ur.hasClass(...Fr.getClassNames()))return!1;for(const Yr of Fr.getStyleNames())if(!Ur.hasStyle(Yr)||Ur.getStyle(Yr)!==Fr.getStyle(Yr))return!1;for(const Yr of Fr.getAttributeKeys())Yr!=="class"&&Yr!=="style"&&this.removeAttribute(Yr,Ur);return this.removeClass(Array.from(Fr.getClassNames()),Ur),this.removeStyle(Array.from(Fr.getStyleNames()),Ur),!0}_breakAttributesRange(Fr,Ur=!1){const Yr=Fr.start,Qr=Fr.end;if(ou(Fr,this.document),Fr.isCollapsed){const gn=this._breakAttributes(Fr.start,Ur);return new ga(gn,gn)}const tn=this._breakAttributes(Qr,Ur),sn=tn.parent.childCount,un=this._breakAttributes(Yr,Ur);return tn.offset+=tn.parent.childCount-sn,new ga(un,tn)}_breakAttributes(Fr,Ur=!1){const Yr=Fr.offset,Qr=Fr.parent;if(Fr.parent.is("emptyElement"))throw new wn("view-writer-cannot-break-empty-element",this.document);if(Fr.parent.is("uiElement"))throw new wn("view-writer-cannot-break-ui-element",this.document);if(Fr.parent.is("rawElement"))throw new wn("view-writer-cannot-break-raw-element",this.document);if(!Ur&&Qr.is("$text")&&zf(Qr.parent)||zf(Qr))return Fr.clone();if(Qr.is("$text"))return this._breakAttributes(ih(Fr),Ur);if(Yr==Qr.childCount){const tn=new Do(Qr.parent,Qr.index+1);return this._breakAttributes(tn,Ur)}if(Yr===0){const tn=new Do(Qr.parent,Qr.index);return this._breakAttributes(tn,Ur)}{const tn=Qr.index+1,sn=Qr._clone();Qr.parent._insertChild(tn,sn),this._addToClonedElementsGroup(sn);const un=Qr.childCount-Yr,gn=Qr._removeChildren(Yr,un);sn._appendChild(gn);const kn=new Do(Qr.parent,tn);return this._breakAttributes(kn,Ur)}}_addToClonedElementsGroup(Fr){if(!Fr.root.is("rootElement"))return;if(Fr.is("element"))for(const Qr of Fr.getChildren())this._addToClonedElementsGroup(Qr);const Ur=Fr.id;if(!Ur)return;let Yr=this._cloneGroups.get(Ur);Yr||(Yr=new Set,this._cloneGroups.set(Ur,Yr)),Yr.add(Fr),Fr._clonesGroup=Yr}_removeFromClonedElementsGroup(Fr){if(Fr.is("element"))for(const Qr of Fr.getChildren())this._removeFromClonedElementsGroup(Qr);const Ur=Fr.id;if(!Ur)return;const Yr=this._cloneGroups.get(Ur);Yr&&Yr.delete(Fr)}}function nh(Xr){let Fr=Xr.parent;for(;!zf(Fr);){if(!Fr)return;Fr=Fr.parent}return Fr}function Dp(Xr,Fr){return Xr.priority<Fr.priority||!(Xr.priority>Fr.priority)&&Xr.getIdentity()<Fr.getIdentity()}function Ep(Xr){const Fr=Xr.nodeBefore;if(Fr&&Fr.is("$text"))return new Do(Fr,Fr.data.length);const Ur=Xr.nodeAfter;return Ur&&Ur.is("$text")?new Do(Ur,0):Xr}function ih(Xr){if(Xr.offset==Xr.parent.data.length)return new Do(Xr.parent.parent,Xr.parent.index+1);if(Xr.offset===0)return new Do(Xr.parent.parent,Xr.parent.index);const Fr=Xr.parent.data.slice(Xr.offset);return Xr.parent._data=Xr.parent.data.slice(0,Xr.offset),Xr.parent.parent._insertChild(Xr.parent.index+1,new Ds(Xr.root.document,Fr)),new Do(Xr.parent.parent,Xr.parent.index+1)}function Bf(Xr,Fr){const Ur=Xr.data.length;return Xr._data+=Fr.data,Fr._remove(),new Do(Xr,Ur)}const As=[Ds,sd,ku,Rf,rh,Fu];function Ff(Xr,Fr){for(const Ur of Xr){if(!As.some(Yr=>Ur instanceof Yr))throw new wn("view-writer-insert-invalid-node-type",Fr);Ur.is("$text")||Ff(Ur.getChildren(),Fr)}}function zf(Xr){return Xr&&(Xr.is("containerElement")||Xr.is("documentFragment"))}function ou(Xr,Fr){const Ur=nh(Xr.start),Yr=nh(Xr.end);if(!Ur||!Yr||Ur!==Yr)throw new wn("view-writer-invalid-range-container",Fr)}function Tp(Xr,Fr){return Xr.id===null&&Fr.id===null}const oh=Xr=>Xr.createTextNode("Â "),Mp=Xr=>{const Fr=Xr.createElement("span");return Fr.dataset.ckeFiller="true",Fr.innerText="Â ",Fr},rl=Xr=>{const Fr=Xr.createElement("br");return Fr.dataset.ckeFiller="true",Fr},au=7,$h="â ".repeat(au);function Cc(Xr){return Xa(Xr)&&Xr.data.substr(0,au)===$h}function Hu(Xr){return Xr.data.length==au&&Cc(Xr)}function en(Xr){return Cc(Xr)?Xr.data.slice(au):Xr.data}function an(Xr,Fr){if(Fr.keyCode==qa.arrowleft){const Ur=Fr.domTarget.ownerDocument.defaultView.getSelection();if(Ur.rangeCount==1&&Ur.getRangeAt(0).collapsed){const Yr=Ur.getRangeAt(0).startContainer,Qr=Ur.getRangeAt(0).startOffset;Cc(Yr)&&Qr<=au&&Ur.collapse(Yr,0)}}}var pn=$r(9315),fn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(pn.Z,fn),pn.Z.locals;class yn extends Zi(){constructor(Fr,Ur){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=Fr,this.selection=Ur,this.set("isFocused",!1),this.set("isSelecting",!1),Kr.isBlink&&!Kr.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(Fr,Ur){if(Fr==="text")this.domConverter.mapViewToDom(Ur.parent)&&this.markedTexts.add(Ur);else{if(!this.domConverter.mapViewToDom(Ur))return;if(Fr==="attributes")this.markedAttributes.add(Ur);else{if(Fr!=="children")throw new wn("view-renderer-unknown-type",this);this.markedChildren.add(Ur)}}}render(){if(this.isComposing&&!Kr.isAndroid)return;let Fr=null;const Ur=!(Kr.isBlink&&!Kr.isAndroid)||!this.isSelecting;for(const Yr of this.markedChildren)this._updateChildrenMappings(Yr);Ur?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?Fr=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(Fr=this.selection.getFirstPosition(),this.markedChildren.add(Fr.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(Fr=this.domConverter.domPositionToView(this._inlineFiller),Fr&&Fr.parent.is("$text")&&(Fr=Do._createBefore(Fr.parent)));for(const Yr of this.markedAttributes)this._updateAttrs(Yr);for(const Yr of this.markedChildren)this._updateChildren(Yr,{inlineFillerPosition:Fr});for(const Yr of this.markedTexts)!this.markedChildren.has(Yr.parent)&&this.domConverter.mapViewToDom(Yr.parent)&&this._updateText(Yr,{inlineFillerPosition:Fr});if(Ur)if(Fr){const Yr=this.domConverter.viewPositionToDom(Fr),Qr=Yr.parent.ownerDocument;Cc(Yr.parent)?this._inlineFiller=Yr.parent:this._inlineFiller=En(Qr,Yr.parent,Yr.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(Fr){if(!this.domConverter.mapViewToDom(Fr))return;const Ur=Array.from(this.domConverter.mapViewToDom(Fr).childNodes),Yr=Array.from(this.domConverter.viewChildrenToDom(Fr,{withChildren:!1})),Qr=this._diffNodeLists(Ur,Yr),tn=this._findUpdateActions(Qr,Ur,Yr,On);if(tn.indexOf("update")!==-1){const sn={equal:0,insert:0,delete:0};for(const un of tn)if(un==="update"){const gn=sn.equal+sn.insert,kn=sn.equal+sn.delete,Cn=Fr.getChild(gn);!Cn||Cn.is("uiElement")||Cn.is("rawElement")||this._updateElementMappings(Cn,Ur[kn]),Ki(Yr[gn]),sn.equal++}else sn[un]++}}_updateElementMappings(Fr,Ur){this.domConverter.unbindDomElement(Ur),this.domConverter.bindElements(Ur,Fr),this.markedChildren.add(Fr),this.markedAttributes.add(Fr)}_getInlineFillerPosition(){const Fr=this.selection.getFirstPosition();return Fr.parent.is("$text")?Do._createBefore(Fr.parent):Fr}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const Fr=this.selection.getFirstPosition(),Ur=this.domConverter.viewPositionToDom(Fr);return!!(Ur&&Xa(Ur.parent)&&Cc(Ur.parent))}_removeInlineFiller(){const Fr=this._inlineFiller;if(!Cc(Fr))throw new wn("view-renderer-filler-was-lost",this);Hu(Fr)?Fr.remove():Fr.data=Fr.data.substr(au),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const Fr=this.selection.getFirstPosition(),Ur=Fr.parent,Yr=Fr.offset;if(!this.domConverter.mapViewToDom(Ur.root)||!Ur.is("element")||!function(sn){if(sn.getAttribute("contenteditable")=="false")return!1;const un=sn.findAncestor(gn=>gn.hasAttribute("contenteditable"));return!un||un.getAttribute("contenteditable")=="true"}(Ur)||Yr===Ur.getFillerOffset())return!1;const Qr=Fr.nodeBefore,tn=Fr.nodeAfter;return!(Qr instanceof Ds||tn instanceof Ds)&&(!Kr.isAndroid||!Qr&&!tn)}_updateText(Fr,Ur){const Yr=this.domConverter.findCorrespondingDomText(Fr);let Qr=this.domConverter.viewToDom(Fr).data;const tn=Ur.inlineFillerPosition;tn&&tn.parent==Fr.parent&&tn.offset==Fr.index&&(Qr=$h+Qr),Zn(Yr,Qr)}_updateAttrs(Fr){const Ur=this.domConverter.mapViewToDom(Fr);if(!Ur)return;const Yr=Array.from(Ur.attributes).map(tn=>tn.name),Qr=Fr.getAttributeKeys();for(const tn of Qr)this.domConverter.setDomElementAttribute(Ur,tn,Fr.getAttribute(tn),Fr);for(const tn of Yr)Fr.hasAttribute(tn)||this.domConverter.removeDomElementAttribute(Ur,tn)}_updateChildren(Fr,Ur){const Yr=this.domConverter.mapViewToDom(Fr);if(!Yr)return;if(Kr.isAndroid){let Dn=null;for(const Ln of Array.from(Yr.childNodes)){if(Dn&&Xa(Dn)&&Xa(Ln)){Yr.normalize();break}Dn=Ln}}const Qr=Ur.inlineFillerPosition,tn=Yr.childNodes,sn=Array.from(this.domConverter.viewChildrenToDom(Fr,{bind:!0}));Qr&&Qr.parent===Fr&&En(Yr.ownerDocument,sn,Qr.offset);const un=this._diffNodeLists(tn,sn),gn=this._findUpdateActions(un,tn,sn,Fn);let kn=0;const Cn=new Set;for(const Dn of gn)Dn==="delete"?(Cn.add(tn[kn]),Ki(tn[kn])):Dn!=="equal"&&Dn!=="update"||kn++;kn=0;for(const Dn of gn)Dn==="insert"?(yd(Yr,kn,sn[kn]),kn++):Dn==="update"?(Zn(tn[kn],sn[kn].data),kn++):Dn==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(sn[kn])),kn++);for(const Dn of Cn)Dn.parentNode||this.domConverter.unbindDomElement(Dn)}_diffNodeLists(Fr,Ur){return Fr=function(Yr,Qr){const tn=Array.from(Yr);return tn.length==0||!Qr||tn[tn.length-1]==Qr&&tn.pop(),tn}(Fr,this._fakeSelectionContainer),ln(Fr,Ur,Un.bind(null,this.domConverter))}_findUpdateActions(Fr,Ur,Yr,Qr){if(Fr.indexOf("insert")===-1||Fr.indexOf("delete")===-1)return Fr;let tn=[],sn=[],un=[];const gn={equal:0,insert:0,delete:0};for(const kn of Fr)kn==="insert"?un.push(Yr[gn.equal+gn.insert]):kn==="delete"?sn.push(Ur[gn.equal+gn.delete]):(tn=tn.concat(ln(sn,un,Qr).map(Cn=>Cn==="equal"?"update":Cn)),tn.push("equal"),sn=[],un=[]),gn[kn]++;return tn.concat(ln(sn,un,Qr).map(kn=>kn==="equal"?"update":kn))}_markDescendantTextToSync(Fr){if(Fr){if(Fr.is("$text"))this.markedTexts.add(Fr);else if(Fr.is("element"))for(const Ur of Fr.getChildren())this._markDescendantTextToSync(Ur)}}_updateSelection(){if(Kr.isBlink&&!Kr.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const Fr=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&Fr&&(this.selection.isFake?this._updateFakeSelection(Fr):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(Fr)):this.isComposing&&Kr.isAndroid||this._updateDomSelection(Fr))}_updateFakeSelection(Fr){const Ur=Fr.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(sn){const un=sn.createElement("div");return un.className="ck-fake-selection-container",Object.assign(un.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),un.textContent="Â ",un}(Ur));const Yr=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(Yr,this.selection),!this._fakeSelectionNeedsUpdate(Fr))return;Yr.parentElement&&Yr.parentElement==Fr||Fr.appendChild(Yr),Yr.textContent=this.selection.fakeSelectionLabel||"Â ";const Qr=Ur.getSelection(),tn=Ur.createRange();Qr.removeAllRanges(),tn.selectNodeContents(Yr),Qr.addRange(tn)}_updateDomSelection(Fr){const Ur=Fr.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(Ur))return;const Yr=this.domConverter.viewPositionToDom(this.selection.anchor),Qr=this.domConverter.viewPositionToDom(this.selection.focus);Ur.collapse(Yr.parent,Yr.offset),Ur.extend(Qr.parent,Qr.offset),Kr.isGecko&&function(tn,sn){const un=tn.parent;if(un.nodeType!=Node.ELEMENT_NODE||tn.offset!=un.childNodes.length-1)return;const gn=un.childNodes[tn.offset];gn&&gn.tagName=="BR"&&sn.addRange(sn.getRangeAt(0))}(Qr,Ur)}_domSelectionNeedsUpdate(Fr){if(!this.domConverter.isDomSelectionCorrect(Fr))return!0;const Ur=Fr&&this.domConverter.domSelectionToView(Fr);return(!Ur||!this.selection.isEqual(Ur))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(Ur))}_fakeSelectionNeedsUpdate(Fr){const Ur=this._fakeSelectionContainer,Yr=Fr.ownerDocument.getSelection();return!Ur||Ur.parentElement!==Fr||Yr.anchorNode!==Ur&&!Ur.contains(Yr.anchorNode)||Ur.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const Fr of this.domDocuments){const Ur=Fr.getSelection();if(Ur.rangeCount){const Yr=Fr.activeElement,Qr=this.domConverter.mapDomToView(Yr);Yr&&Qr&&Ur.removeAllRanges()}}}_removeFakeSelection(){const Fr=this._fakeSelectionContainer;Fr&&Fr.remove()}_updateFocus(){if(this.isFocused){const Fr=this.selection.editableElement;Fr&&this.domConverter.focus(Fr)}}}function En(Xr,Fr,Ur){const Yr=Fr instanceof Array?Fr:Fr.childNodes,Qr=Yr[Ur];if(Xa(Qr))return Qr.data=$h+Qr.data,Qr;{const tn=Xr.createTextNode($h);return Array.isArray(Fr)?Yr.splice(Ur,0,tn):yd(Fr,Ur,tn),tn}}function On(Xr,Fr){return $a(Xr)&&$a(Fr)&&!Xa(Xr)&&!Xa(Fr)&&!wc(Xr)&&!wc(Fr)&&Xr.tagName.toLowerCase()===Fr.tagName.toLowerCase()}function Fn(Xr,Fr){return $a(Xr)&&$a(Fr)&&Xa(Xr)&&Xa(Fr)}function Un(Xr,Fr,Ur){return Fr===Ur||(Xa(Fr)&&Xa(Ur)?Fr.data===Ur.data:!(!Xr.isBlockFiller(Fr)||!Xr.isBlockFiller(Ur)))}function Zn(Xr,Fr){const Ur=Xr.data;if(Ur==Fr)return;const Yr=Jr(Ur,Fr);for(const Qr of Yr)Qr.type==="insert"?Xr.insertData(Qr.index,Qr.values.join("")):Xr.deleteData(Qr.index,Qr.howMany)}const ai=rl(wa.document),pi=oh(wa.document),Ii=Mp(wa.document),Ci="data-ck-unsafe-attribute-",Vi="data-ck-unsafe-element";class no{constructor(Fr,{blockFillerMode:Ur,renderingMode:Yr="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new zc,this._encounteredRawContentDomNodes=new WeakSet,this.document=Fr,this.renderingMode=Yr,this.blockFillerMode=Ur||(Yr==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?wa.document:wa.document.implementation.createHTMLDocument("")}bindFakeSelection(Fr,Ur){this._fakeSelectionMapping.set(Fr,new iu(Ur))}fakeSelectionToView(Fr){return this._fakeSelectionMapping.get(Fr)}bindElements(Fr,Ur){this._domToViewMapping.set(Fr,Ur),this._viewToDomMapping.set(Ur,Fr)}unbindDomElement(Fr){const Ur=this._domToViewMapping.get(Fr);if(Ur){this._domToViewMapping.delete(Fr),this._viewToDomMapping.delete(Ur);for(const Yr of Array.from(Fr.children))this.unbindDomElement(Yr)}}bindDocumentFragments(Fr,Ur){this._domToViewMapping.set(Fr,Ur),this._viewToDomMapping.set(Ur,Fr)}shouldRenderAttribute(Fr,Ur,Yr){return this.renderingMode==="data"||!(Fr=Fr.toLowerCase()).startsWith("on")&&(Fr!=="srcdoc"||!Ur.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(Yr==="img"&&(Fr==="src"||Fr==="srcset")||Yr==="source"&&Fr==="srcset"||!Ur.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(Fr,Ur){if(this.renderingMode==="data")return void(Fr.innerHTML=Ur);const Yr=new DOMParser().parseFromString(Ur,"text/html"),Qr=Yr.createDocumentFragment(),tn=Yr.body.childNodes;for(;tn.length>0;)Qr.appendChild(tn[0]);const sn=Yr.createTreeWalker(Qr,NodeFilter.SHOW_ELEMENT),un=[];let gn;for(;gn=sn.nextNode();)un.push(gn);for(const kn of un){for(const Dn of kn.getAttributeNames())this.setDomElementAttribute(kn,Dn,kn.getAttribute(Dn));const Cn=kn.tagName.toLowerCase();this._shouldRenameElement(Cn)&&(Lo(Cn),kn.replaceWith(this._createReplacementDomElement(Cn,kn)))}for(;Fr.firstChild;)Fr.firstChild.remove();Fr.append(Qr)}viewToDom(Fr,Ur={}){if(Fr.is("$text")){const Yr=this._processDataFromViewText(Fr);return this._domDocument.createTextNode(Yr)}{if(this.mapViewToDom(Fr))return this.mapViewToDom(Fr);let Yr;if(Fr.is("documentFragment"))Yr=this._domDocument.createDocumentFragment(),Ur.bind&&this.bindDocumentFragments(Yr,Fr);else{if(Fr.is("uiElement"))return Yr=Fr.name==="$comment"?this._domDocument.createComment(Fr.getCustomProperty("$rawContent")):Fr.render(this._domDocument,this),Ur.bind&&this.bindElements(Yr,Fr),Yr;this._shouldRenameElement(Fr.name)?(Lo(Fr.name),Yr=this._createReplacementDomElement(Fr.name)):Yr=Fr.hasAttribute("xmlns")?this._domDocument.createElementNS(Fr.getAttribute("xmlns"),Fr.name):this._domDocument.createElement(Fr.name),Fr.is("rawElement")&&Fr.render(Yr,this),Ur.bind&&this.bindElements(Yr,Fr);for(const Qr of Fr.getAttributeKeys())this.setDomElementAttribute(Yr,Qr,Fr.getAttribute(Qr),Fr)}if(Ur.withChildren!==!1)for(const Qr of this.viewChildrenToDom(Fr,Ur))Yr.appendChild(Qr);return Yr}}setDomElementAttribute(Fr,Ur,Yr,Qr){const tn=this.shouldRenderAttribute(Ur,Yr,Fr.tagName.toLowerCase())||Qr&&Qr.shouldRenderUnsafeAttribute(Ur);tn||xn("domconverter-unsafe-attribute-detected",{domElement:Fr,key:Ur,value:Yr}),function(sn){try{wa.document.createAttribute(sn)}catch{return!1}return!0}(Ur)?(Fr.hasAttribute(Ur)&&!tn?Fr.removeAttribute(Ur):Fr.hasAttribute(Ci+Ur)&&tn&&Fr.removeAttribute(Ci+Ur),Fr.setAttribute(tn?Ur:Ci+Ur,Yr)):xn("domconverter-invalid-attribute-detected",{domElement:Fr,key:Ur,value:Yr})}removeDomElementAttribute(Fr,Ur){Ur!=Vi&&(Fr.removeAttribute(Ur),Fr.removeAttribute(Ci+Ur))}*viewChildrenToDom(Fr,Ur={}){const Yr=Fr.getFillerOffset&&Fr.getFillerOffset();let Qr=0;for(const tn of Fr.getChildren()){Yr===Qr&&(yield this._getBlockFiller());const sn=tn.is("element")&&!!tn.getCustomProperty("dataPipeline:transparentRendering")&&!wl(tn.getAttributes());sn&&this.renderingMode=="data"?yield*this.viewChildrenToDom(tn,Ur):(sn&&xn("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:tn}),yield this.viewToDom(tn,Ur)),Qr++}Yr===Qr&&(yield this._getBlockFiller())}viewRangeToDom(Fr){const Ur=this.viewPositionToDom(Fr.start),Yr=this.viewPositionToDom(Fr.end),Qr=this._domDocument.createRange();return Qr.setStart(Ur.parent,Ur.offset),Qr.setEnd(Yr.parent,Yr.offset),Qr}viewPositionToDom(Fr){const Ur=Fr.parent;if(Ur.is("$text")){const Yr=this.findCorrespondingDomText(Ur);if(!Yr)return null;let Qr=Fr.offset;return Cc(Yr)&&(Qr+=au),{parent:Yr,offset:Qr}}{let Yr,Qr,tn;if(Fr.offset===0){if(Yr=this.mapViewToDom(Ur),!Yr)return null;tn=Yr.childNodes[0]}else{const sn=Fr.nodeBefore;if(Qr=sn.is("$text")?this.findCorrespondingDomText(sn):this.mapViewToDom(sn),!Qr)return null;Yr=Qr.parentNode,tn=Qr.nextSibling}return Xa(tn)&&Cc(tn)?{parent:tn,offset:au}:{parent:Yr,offset:Qr?Ou(Qr)+1:0}}}domToView(Fr,Ur={}){if(this.isBlockFiller(Fr))return null;const Yr=this.getHostViewElement(Fr);if(Yr)return Yr;if(wc(Fr)&&Ur.skipComments)return null;if(Xa(Fr)){if(Hu(Fr))return null;{const Qr=this._processDataFromDomText(Fr);return Qr===""?null:new Ds(this.document,Qr)}}{if(this.mapDomToView(Fr))return this.mapDomToView(Fr);let Qr;if(this.isDocumentFragment(Fr))Qr=new zu(this.document),Ur.bind&&this.bindDocumentFragments(Fr,Qr);else{Qr=this._createViewElement(Fr,Ur),Ur.bind&&this.bindElements(Fr,Qr);const tn=Fr.attributes;if(tn)for(let sn=tn.length,un=0;un<sn;un++)Qr._setAttribute(tn[un].name,tn[un].value);if(this._isViewElementWithRawContent(Qr,Ur)||wc(Fr)){const sn=wc(Fr)?Fr.data:Fr.innerHTML;return Qr._setCustomProperty("$rawContent",sn),this._encounteredRawContentDomNodes.add(Fr),Qr}}if(Ur.withChildren!==!1)for(const tn of this.domChildrenToView(Fr,Ur))Qr._appendChild(tn);return Qr}}*domChildrenToView(Fr,Ur){for(let Yr=0;Yr<Fr.childNodes.length;Yr++){const Qr=Fr.childNodes[Yr],tn=this.domToView(Qr,Ur);tn!==null&&(yield tn)}}domSelectionToView(Fr){if(Fr.rangeCount===1){let Qr=Fr.getRangeAt(0).startContainer;Xa(Qr)&&(Qr=Qr.parentNode);const tn=this.fakeSelectionToView(Qr);if(tn)return tn}const Ur=this.isDomSelectionBackward(Fr),Yr=[];for(let Qr=0;Qr<Fr.rangeCount;Qr++){const tn=Fr.getRangeAt(Qr),sn=this.domRangeToView(tn);sn&&Yr.push(sn)}return new iu(Yr,{backward:Ur})}domRangeToView(Fr){const Ur=this.domPositionToView(Fr.startContainer,Fr.startOffset),Yr=this.domPositionToView(Fr.endContainer,Fr.endOffset);return Ur&&Yr?new ga(Ur,Yr):null}domPositionToView(Fr,Ur=0){if(this.isBlockFiller(Fr))return this.domPositionToView(Fr.parentNode,Ou(Fr));const Yr=this.mapDomToView(Fr);if(Yr&&(Yr.is("uiElement")||Yr.is("rawElement")))return Do._createBefore(Yr);if(Xa(Fr)){if(Hu(Fr))return this.domPositionToView(Fr.parentNode,Ou(Fr));const Qr=this.findCorrespondingViewText(Fr);let tn=Ur;return Qr?(Cc(Fr)&&(tn-=au,tn=tn<0?0:tn),new Do(Qr,tn)):null}if(Ur===0){const Qr=this.mapDomToView(Fr);if(Qr)return new Do(Qr,0)}else{const Qr=Fr.childNodes[Ur-1];if(Xa(Qr)&&Hu(Qr)||Qr&&this.isBlockFiller(Qr))return this.domPositionToView(Qr.parentNode,Ou(Qr));const tn=Xa(Qr)?this.findCorrespondingViewText(Qr):this.mapDomToView(Qr);if(tn&&tn.parent)return new Do(tn.parent,tn.index+1)}return null}mapDomToView(Fr){return this.getHostViewElement(Fr)||this._domToViewMapping.get(Fr)}findCorrespondingViewText(Fr){if(Hu(Fr))return null;const Ur=this.getHostViewElement(Fr);if(Ur)return Ur;const Yr=Fr.previousSibling;if(Yr){if(!this.isElement(Yr))return null;const Qr=this.mapDomToView(Yr);if(Qr){const tn=Qr.nextSibling;return tn instanceof Ds?tn:null}}else{const Qr=this.mapDomToView(Fr.parentNode);if(Qr){const tn=Qr.getChild(0);return tn instanceof Ds?tn:null}}return null}mapViewToDom(Fr){return this._viewToDomMapping.get(Fr)}findCorrespondingDomText(Fr){const Ur=Fr.previousSibling;return Ur&&this.mapViewToDom(Ur)?this.mapViewToDom(Ur).nextSibling:!Ur&&Fr.parent&&this.mapViewToDom(Fr.parent)?this.mapViewToDom(Fr.parent).childNodes[0]:null}focus(Fr){const Ur=this.mapViewToDom(Fr);if(Ur&&Ur.ownerDocument.activeElement!==Ur){const{scrollX:Yr,scrollY:Qr}=wa.window,tn=[];fo(Ur,sn=>{const{scrollLeft:un,scrollTop:gn}=sn;tn.push([un,gn])}),Ur.focus(),fo(Ur,sn=>{const[un,gn]=tn.shift();sn.scrollLeft=un,sn.scrollTop=gn}),wa.window.scrollTo(Yr,Qr)}}isElement(Fr){return Fr&&Fr.nodeType==Node.ELEMENT_NODE}isDocumentFragment(Fr){return Fr&&Fr.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(Fr){return this.blockFillerMode=="br"?Fr.isEqualNode(ai):!(Fr.tagName!=="BR"||!Co(Fr,this.blockElements)||Fr.parentNode.childNodes.length!==1)||Fr.isEqualNode(Ii)||function(Ur,Yr){return Ur.isEqualNode(pi)&&Co(Ur,Yr)&&Ur.parentNode.childNodes.length===1}(Fr,this.blockElements)}isDomSelectionBackward(Fr){if(Fr.isCollapsed)return!1;const Ur=this._domDocument.createRange();try{Ur.setStart(Fr.anchorNode,Fr.anchorOffset),Ur.setEnd(Fr.focusNode,Fr.focusOffset)}catch{return!1}const Yr=Ur.collapsed;return Ur.detach(),Yr}getHostViewElement(Fr){const Ur=Qc(Fr);for(Ur.pop();Ur.length;){const Yr=Ur.pop(),Qr=this._domToViewMapping.get(Yr);if(Qr&&(Qr.is("uiElement")||Qr.is("rawElement")))return Qr}return null}isDomSelectionCorrect(Fr){return this._isDomSelectionPositionCorrect(Fr.anchorNode,Fr.anchorOffset)&&this._isDomSelectionPositionCorrect(Fr.focusNode,Fr.focusOffset)}registerRawContentMatcher(Fr){this._rawContentElementMatcher.add(Fr)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return oh(this._domDocument);case"markedNbsp":return Mp(this._domDocument);case"br":return rl(this._domDocument)}}_isDomSelectionPositionCorrect(Fr,Ur){if(Xa(Fr)&&Cc(Fr)&&Ur<au||this.isElement(Fr)&&Cc(Fr.childNodes[Ur]))return!1;const Yr=this.mapDomToView(Fr);return!Yr||!Yr.is("uiElement")&&!Yr.is("rawElement")}_processDataFromViewText(Fr){let Ur=Fr.data;if(Fr.getAncestors().some(Yr=>this.preElements.includes(Yr.name)))return Ur;if(Ur.charAt(0)==" "){const Yr=this._getTouchingInlineViewNode(Fr,!1);!(Yr&&Yr.is("$textProxy")&&this._nodeEndsWithSpace(Yr))&&Yr||(Ur="Â "+Ur.substr(1))}if(Ur.charAt(Ur.length-1)==" "){const Yr=this._getTouchingInlineViewNode(Fr,!0),Qr=Yr&&Yr.is("$textProxy")&&Yr.data.charAt(0)==" ";Ur.charAt(Ur.length-2)!=" "&&Yr&&!Qr||(Ur=Ur.substr(0,Ur.length-1)+"Â ")}return Ur.replace(/ {2}/g," Â ")}_nodeEndsWithSpace(Fr){if(Fr.getAncestors().some(Yr=>this.preElements.includes(Yr.name)))return!1;const Ur=this._processDataFromViewText(Fr);return Ur.charAt(Ur.length-1)==" "}_processDataFromDomText(Fr){let Ur=Fr.data;if(function(kn,Cn){return Qc(kn).some(Ln=>Ln.tagName&&Cn.includes(Ln.tagName.toLowerCase()))}(Fr,this.preElements))return en(Fr);Ur=Ur.replace(/[ \n\t\r]{1,}/g," ");const Yr=this._getTouchingInlineDomNode(Fr,!1),Qr=this._getTouchingInlineDomNode(Fr,!0),tn=this._checkShouldLeftTrimDomText(Fr,Yr),sn=this._checkShouldRightTrimDomText(Fr,Qr);tn&&(Ur=Ur.replace(/^ /,"")),sn&&(Ur=Ur.replace(/ $/,"")),Ur=en(new Text(Ur)),Ur=Ur.replace(/ \u00A0/g,"  ");const un=Qr&&this.isElement(Qr)&&Qr.tagName!="BR",gn=Qr&&Xa(Qr)&&Qr.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(Ur)||!Qr||un||gn)&&(Ur=Ur.replace(/\u00A0$/," ")),(tn||Yr&&this.isElement(Yr)&&Yr.tagName!="BR")&&(Ur=Ur.replace(/^\u00A0/," ")),Ur}_checkShouldLeftTrimDomText(Fr,Ur){return!Ur||(this.isElement(Ur)?Ur.tagName==="BR":!this._encounteredRawContentDomNodes.has(Fr.previousSibling)&&/[^\S\u00A0]/.test(Ur.data.charAt(Ur.data.length-1)))}_checkShouldRightTrimDomText(Fr,Ur){return!Ur&&!Cc(Fr)}_getTouchingInlineViewNode(Fr,Ur){const Yr=new ad({startPosition:Ur?Do._createAfter(Fr):Do._createBefore(Fr),direction:Ur?"forward":"backward"});for(const Qr of Yr){if(Qr.item.is("element")&&this.inlineObjectElements.includes(Qr.item.name))return Qr.item;if(Qr.item.is("containerElement")||Qr.item.is("element","br"))return null;if(Qr.item.is("$textProxy"))return Qr.item}return null}_getTouchingInlineDomNode(Fr,Ur){if(!Fr.parentNode)return null;const Yr=Ur?"firstChild":"lastChild",Qr=Ur?"nextSibling":"previousSibling";let tn=!0,sn=Fr;do if(!tn&&sn[Yr]?sn=sn[Yr]:sn[Qr]?(sn=sn[Qr],tn=!1):(sn=sn.parentNode,tn=!0),!sn||this._isBlockElement(sn))return null;while(!Xa(sn)&&sn.tagName!="BR"&&!this._isInlineObjectElement(sn));return sn}_isBlockElement(Fr){return this.isElement(Fr)&&this.blockElements.includes(Fr.tagName.toLowerCase())}_isInlineObjectElement(Fr){return this.isElement(Fr)&&this.inlineObjectElements.includes(Fr.tagName.toLowerCase())}_createViewElement(Fr,Ur){if(wc(Fr))return new Fu(this.document,"$comment");const Yr=Ur.keepOriginalCase?Fr.tagName:Fr.tagName.toLowerCase();return new oc(this.document,Yr)}_isViewElementWithRawContent(Fr,Ur){return Ur.withChildren!==!1&&!!this._rawContentElementMatcher.match(Fr)}_shouldRenameElement(Fr){const Ur=Fr.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(Ur)}_createReplacementDomElement(Fr,Ur){const Yr=this._domDocument.createElement("span");if(Yr.setAttribute(Vi,Fr),Ur){for(;Ur.firstChild;)Yr.appendChild(Ur.firstChild);for(const Qr of Ur.getAttributeNames())Yr.setAttribute(Qr,Ur.getAttribute(Qr))}return Yr}}function fo(Xr,Fr){let Ur=Xr;for(;Ur;)Fr(Ur),Ur=Ur.parentElement}function Co(Xr,Fr){const Ur=Xr.parentNode;return!!Ur&&!!Ur.tagName&&Fr.includes(Ur.tagName.toLowerCase())}function Lo(Xr){Xr==="script"&&xn("domconverter-unsafe-script-element-detected"),Xr==="style"&&xn("domconverter-unsafe-style-element-detected")}class mo extends Ys(){constructor(Fr){super(),this._isEnabled=!1,this.view=Fr,this.document=Fr.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(Fr){return Fr&&Fr.nodeType===3&&(Fr=Fr.parentNode),!(!Fr||Fr.nodeType!==1)&&Fr.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const No=Mf(function(Xr,Fr){Ba(Fr,gi(Fr),Xr)});class Jo{constructor(Fr,Ur,Yr){this.view=Fr,this.document=Fr.document,this.domEvent=Ur,this.domTarget=Ur.target,No(this,Yr)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Go extends mo{constructor(){super(...arguments),this.useCapture=!1}observe(Fr){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(Ur=>{this.listenTo(Fr,Ur,(Yr,Qr)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(Qr.target)&&this.onDomEvent(Qr)},{useCapture:this.useCapture})})}stopObserving(Fr){this.stopListening(Fr)}fire(Fr,Ur,Yr){this.isEnabled&&this.document.fire(Fr,new Jo(this.view,Ur,Yr))}}class Ha extends Go{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(Fr){const Ur={keyCode:Fr.keyCode,altKey:Fr.altKey,ctrlKey:Fr.ctrlKey,shiftKey:Fr.shiftKey,metaKey:Fr.metaKey,get keystroke(){return Rc(this)}};this.fire(Fr.type,Fr,Ur)}}const Cs=function(){return Jn.Date.now()};var El=/\s/;const Xs=function(Xr){for(var Fr=Xr.length;Fr--&&El.test(Xr.charAt(Fr)););return Fr};var pc=/^\s+/;const ac=function(Xr){return Xr&&Xr.slice(0,Xs(Xr)+1).replace(pc,"")};var pl=/^[-+]0x[0-9a-f]+$/i,sc=/^0b[01]+$/i,Fl=/^0o[0-7]+$/i,kl=parseInt;const cl=function(Xr){if(typeof Xr=="number")return Xr;if($u(Xr))return NaN;if(zi(Xr)){var Fr=typeof Xr.valueOf=="function"?Xr.valueOf():Xr;Xr=zi(Fr)?Fr+"":Fr}if(typeof Xr!="string")return Xr===0?Xr:+Xr;Xr=ac(Xr);var Ur=sc.test(Xr);return Ur||Fl.test(Xr)?kl(Xr.slice(2),Ur?2:8):pl.test(Xr)?NaN:+Xr};var nl=Math.max,lc=Math.min;const su=function(Xr,Fr,Ur){var Yr,Qr,tn,sn,un,gn,kn=0,Cn=!1,Dn=!1,Ln=!0;if(typeof Xr!="function")throw new TypeError("Expected a function");function zn(Ti){var Xi=Yr,$o=Qr;return Yr=Qr=void 0,kn=Ti,sn=Xr.apply($o,Xi)}function Wn(Ti){var Xi=Ti-gn;return gn===void 0||Xi>=Fr||Xi<0||Dn&&Ti-kn>=tn}function Xn(){var Ti=Cs();if(Wn(Ti))return ii(Ti);un=setTimeout(Xn,function(Xi){var $o=Fr-(Xi-gn);return Dn?lc($o,tn-(Xi-kn)):$o}(Ti))}function ii(Ti){return un=void 0,Ln&&Yr?zn(Ti):(Yr=Qr=void 0,sn)}function ui(){var Ti=Cs(),Xi=Wn(Ti);if(Yr=arguments,Qr=this,gn=Ti,Xi){if(un===void 0)return function($o){return kn=$o,un=setTimeout(Xn,Fr),Cn?zn($o):sn}(gn);if(Dn)return clearTimeout(un),un=setTimeout(Xn,Fr),zn(gn)}return un===void 0&&(un=setTimeout(Xn,Fr)),sn}return Fr=cl(Fr)||0,zi(Ur)&&(Cn=!!Ur.leading,tn=(Dn="maxWait"in Ur)?nl(cl(Ur.maxWait)||0,Fr):tn,Ln="trailing"in Ur?!!Ur.trailing:Ln),ui.cancel=function(){un!==void 0&&clearTimeout(un),kn=0,Yr=gn=Qr=un=void 0},ui.flush=function(){return un===void 0?sn:ii(Cs())},ui};class Vu extends mo{constructor(Fr){super(Fr),this._fireSelectionChangeDoneDebounced=su(Ur=>{this.document.fire("selectionChangeDone",Ur)},200)}observe(){const Fr=this.document;Fr.on("arrowKey",(Ur,Yr)=>{Fr.selection.isFake&&this.isEnabled&&Yr.preventDefault()},{context:"$capture"}),Fr.on("arrowKey",(Ur,Yr)=>{Fr.selection.isFake&&this.isEnabled&&this._handleSelectionMove(Yr.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(Fr){const Ur=this.document.selection,Yr=new iu(Ur.getRanges(),{backward:Ur.isBackward,fake:!1});Fr!=qa.arrowleft&&Fr!=qa.arrowup||Yr.setTo(Yr.getFirstPosition()),Fr!=qa.arrowright&&Fr!=qa.arrowdown||Yr.setTo(Yr.getLastPosition());const Qr={oldSelection:Ur,newSelection:Yr,domSelection:null};this.document.fire("selectionChange",Qr),this._fireSelectionChangeDoneDebounced(Qr)}}const Yl=function(Xr){return this.__data__.set(Xr,"__lodash_hash_undefined__"),this},lu=function(Xr){return this.__data__.has(Xr)};function ul(Xr){var Fr=-1,Ur=Xr==null?0:Xr.length;for(this.__data__=new Da;++Fr<Ur;)this.add(Xr[Fr])}ul.prototype.add=ul.prototype.push=Yl,ul.prototype.has=lu;const Hf=ul,Au=function(Xr,Fr){for(var Ur=-1,Yr=Xr==null?0:Xr.length;++Ur<Yr;)if(Fr(Xr[Ur],Ur,Xr))return!0;return!1},ld=function(Xr,Fr){return Xr.has(Fr)},ju=function(Xr,Fr,Ur,Yr,Qr,tn){var sn=1&Ur,un=Xr.length,gn=Fr.length;if(un!=gn&&!(sn&&gn>un))return!1;var kn=tn.get(Xr),Cn=tn.get(Fr);if(kn&&Cn)return kn==Fr&&Cn==Xr;var Dn=-1,Ln=!0,zn=2&Ur?new Hf:void 0;for(tn.set(Xr,Fr),tn.set(Fr,Xr);++Dn<un;){var Wn=Xr[Dn],Xn=Fr[Dn];if(Yr)var ii=sn?Yr(Xn,Wn,Dn,Fr,Xr,tn):Yr(Wn,Xn,Dn,Xr,Fr,tn);if(ii!==void 0){if(ii)continue;Ln=!1;break}if(zn){if(!Au(Fr,function(ui,Ti){if(!ld(zn,Ti)&&(Wn===ui||Qr(Wn,ui,Ur,Yr,tn)))return zn.push(Ti)})){Ln=!1;break}}else if(Wn!==Xn&&!Qr(Wn,Xn,Ur,Yr,tn)){Ln=!1;break}}return tn.delete(Xr),tn.delete(Fr),Ln},Zl=function(Xr){var Fr=-1,Ur=Array(Xr.size);return Xr.forEach(function(Yr,Qr){Ur[++Fr]=[Qr,Yr]}),Ur},Td=function(Xr){var Fr=-1,Ur=Array(Xr.size);return Xr.forEach(function(Yr){Ur[++Fr]=Yr}),Ur};var Nh=ni?ni.prototype:void 0,Sg=Nh?Nh.valueOf:void 0;const Jw=function(Xr,Fr,Ur,Yr,Qr,tn,sn){switch(Ur){case"[object DataView]":if(Xr.byteLength!=Fr.byteLength||Xr.byteOffset!=Fr.byteOffset)return!1;Xr=Xr.buffer,Fr=Fr.buffer;case"[object ArrayBuffer]":return!(Xr.byteLength!=Fr.byteLength||!tn(new fc(Xr),new fc(Fr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Bs(+Xr,+Fr);case"[object Error]":return Xr.name==Fr.name&&Xr.message==Fr.message;case"[object RegExp]":case"[object String]":return Xr==Fr+"";case"[object Map]":var un=Zl;case"[object Set]":var gn=1&Yr;if(un||(un=Td),Xr.size!=Fr.size&&!gn)return!1;var kn=sn.get(Xr);if(kn)return kn==Fr;Yr|=2,sn.set(Xr,Fr);var Cn=ju(un(Xr),un(Fr),Yr,Qr,tn,sn);return sn.delete(Xr),Cn;case"[object Symbol]":if(Sg)return Sg.call(Xr)==Sg.call(Fr)}return!1};var e1=Object.prototype.hasOwnProperty;const t1=function(Xr,Fr,Ur,Yr,Qr,tn){var sn=1&Ur,un=Gc(Xr),gn=un.length;if(gn!=Gc(Fr).length&&!sn)return!1;for(var kn=gn;kn--;){var Cn=un[kn];if(!(sn?Cn in Fr:e1.call(Fr,Cn)))return!1}var Dn=tn.get(Xr),Ln=tn.get(Fr);if(Dn&&Ln)return Dn==Fr&&Ln==Xr;var zn=!0;tn.set(Xr,Fr),tn.set(Fr,Xr);for(var Wn=sn;++kn<gn;){var Xn=Xr[Cn=un[kn]],ii=Fr[Cn];if(Yr)var ui=sn?Yr(ii,Xn,Cn,Fr,Xr,tn):Yr(Xn,ii,Cn,Xr,Fr,tn);if(!(ui===void 0?Xn===ii||Qr(Xn,ii,Ur,Yr,tn):ui)){zn=!1;break}Wn||(Wn=Cn=="constructor")}if(zn&&!Wn){var Ti=Xr.constructor,Xi=Fr.constructor;Ti==Xi||!("constructor"in Xr)||!("constructor"in Fr)||typeof Ti=="function"&&Ti instanceof Ti&&typeof Xi=="function"&&Xi instanceof Xi||(zn=!1)}return tn.delete(Xr),tn.delete(Fr),zn};var Vm="[object Arguments]",jm="[object Array]",Ip="[object Object]",Um=Object.prototype.hasOwnProperty;const r1=function(Xr,Fr,Ur,Yr,Qr,tn){var sn=Po(Xr),un=Po(Fr),gn=sn?jm:vc(Xr),kn=un?jm:vc(Fr),Cn=(gn=gn==Vm?Ip:gn)==Ip,Dn=(kn=kn==Vm?Ip:kn)==Ip,Ln=gn==kn;if(Ln&&yl(Xr)){if(!yl(Fr))return!1;sn=!0,Cn=!1}if(Ln&&!Cn)return tn||(tn=new Ca),sn||Ls(Xr)?ju(Xr,Fr,Ur,Yr,Qr,tn):Jw(Xr,Fr,gn,Ur,Yr,Qr,tn);if(!(1&Ur)){var zn=Cn&&Um.call(Xr,"__wrapped__"),Wn=Dn&&Um.call(Fr,"__wrapped__");if(zn||Wn){var Xn=zn?Xr.value():Xr,ii=Wn?Fr.value():Fr;return tn||(tn=new Ca),Qr(Xn,ii,Ur,Yr,tn)}}return!!Ln&&(tn||(tn=new Ca),t1(Xr,Fr,Ur,Yr,Qr,tn))},Gm=function Xr(Fr,Ur,Yr,Qr,tn){return Fr===Ur||(Fr==null||Ur==null||!ro(Fr)&&!ro(Ur)?Fr!=Fr&&Ur!=Ur:r1(Fr,Ur,Yr,Qr,Xr,tn))},n1=function(Xr,Fr,Ur){var Yr=(Ur=typeof Ur=="function"?Ur:void 0)?Ur(Xr,Fr):void 0;return Yr===void 0?Gm(Xr,Fr,void 0,Ur):!!Yr};class Wm extends mo{constructor(Fr){super(Fr),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=Fr.domConverter,this.renderer=Fr._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(Fr){this._domElements.add(Fr),this.isEnabled&&this._mutationObserver.observe(Fr,this._config)}stopObserving(Fr){if(this._domElements.delete(Fr),this.isEnabled){this._mutationObserver.disconnect();for(const Ur of this._domElements)this._mutationObserver.observe(Ur,this._config)}}enable(){super.enable();for(const Fr of this._domElements)this._mutationObserver.observe(Fr,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(Fr){if(Fr.length===0)return;const Ur=this.domConverter,Yr=new Set,Qr=new Set;for(const sn of Fr){const un=Ur.mapDomToView(sn.target);un&&(un.is("uiElement")||un.is("rawElement")||sn.type!=="childList"||this._isBogusBrMutation(sn)||Qr.add(un))}for(const sn of Fr){const un=Ur.mapDomToView(sn.target);if((!un||!un.is("uiElement")&&!un.is("rawElement"))&&sn.type==="characterData"){const gn=Ur.findCorrespondingViewText(sn.target);gn&&!Qr.has(gn.parent)?Yr.add(gn):!gn&&Cc(sn.target)&&Qr.add(Ur.mapDomToView(sn.target.parentNode))}}let tn=!1;for(const sn of Yr)tn=!0,this.renderer.markToSync("text",sn);for(const sn of Qr){const un=Ur.mapViewToDom(sn),gn=Array.from(sn.getChildren()),kn=Array.from(Ur.domChildrenToView(un,{withChildren:!1}));n1(gn,kn,i1)||(tn=!0,this.renderer.markToSync("children",sn))}tn&&this.view.forceRender()}_isBogusBrMutation(Fr){let Ur=null;return Fr.nextSibling===null&&Fr.removedNodes.length===0&&Fr.addedNodes.length==1&&(Ur=this.domConverter.domToView(Fr.addedNodes[0],{withChildren:!1})),Ur&&Ur.is("element","br")}}function i1(Xr,Fr){if(!Array.isArray(Xr))return Xr===Fr||!(!Xr.is("$text")||!Fr.is("$text"))&&Xr.data===Fr.data}class Dg extends Go{constructor(Fr){super(Fr),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const Ur=this.document;Ur.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),Fr.change(()=>{})},50)}),Ur.on("blur",(Yr,Qr)=>{const tn=Ur.selection.editableElement;tn!==null&&tn!==Qr.target||(Ur.isFocused=!1,this._isFocusChanging=!1,Fr.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(Fr){this.fire(Fr.type,Fr)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class o1 extends mo{constructor(Fr){super(Fr),this.mutationObserver=Fr.getObserver(Wm),this.focusObserver=Fr.getObserver(Dg),this.selection=this.document.selection,this.domConverter=Fr.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=su(Ur=>{this.document.fire("selectionChangeDone",Ur)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=su(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(Fr){const Ur=Fr.ownerDocument,Yr=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,Ur),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(Fr,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(Fr,"keydown",Yr,{priority:"highest",useCapture:!0}),this.listenTo(Fr,"keyup",Yr,{priority:"highest",useCapture:!0}),this._documents.has(Ur)||(this.listenTo(Ur,"mouseup",Yr,{priority:"highest",useCapture:!0}),this.listenTo(Ur,"selectionchange",(Qr,tn)=>{this.document.isComposing&&!Kr.isAndroid||(this._handleSelectionChange(tn,Ur),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(Ur))}stopObserving(Fr){this.stopListening(Fr)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(Fr,Ur){if(!this.isEnabled)return;const Yr=Ur.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(Yr.anchorNode))return;this.mutationObserver.flush();const Qr=this.domConverter.domSelectionToView(Yr);if(Qr.rangeCount!=0){if(this.view.hasDomSelection=!0,!this.selection.isEqual(Qr)||!this.domConverter.isDomSelectionCorrect(Yr))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.focusObserver.flush(),this.selection.isSimilar(Qr))this.view.forceRender();else{const tn={oldSelection:this.selection,newSelection:Qr,domSelection:Yr};this.document.fire("selectionChange",tn),this._fireSelectionChangeDoneDebounced(tn)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class a1 extends Go{constructor(Fr){super(Fr),this.domEventType=["compositionstart","compositionupdate","compositionend"];const Ur=this.document;Ur.on("compositionstart",()=>{Ur.isComposing=!0},{priority:"low"}),Ur.on("compositionend",()=>{Ur.isComposing=!1},{priority:"low"})}onDomEvent(Fr){this.fire(Fr.type,Fr,{data:Fr.data})}}class Ym{constructor(Fr,Ur={}){this._files=Ur.cacheFiles?qm(Fr):null,this._native=Fr}get files(){return this._files||(this._files=qm(this._native)),this._files}get types(){return this._native.types}getData(Fr){return this._native.getData(Fr)}setData(Fr,Ur){this._native.setData(Fr,Ur)}set effectAllowed(Fr){this._native.effectAllowed=Fr}get effectAllowed(){return this._native.effectAllowed}set dropEffect(Fr){this._native.dropEffect=Fr}get dropEffect(){return this._native.dropEffect}setDragImage(Fr,Ur,Yr){this._native.setDragImage(Fr,Ur,Yr)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function qm(Xr){const Fr=Array.from(Xr.files||[]),Ur=Array.from(Xr.items||[]);return Fr.length?Fr:Ur.filter(Yr=>Yr.kind==="file").map(Yr=>Yr.getAsFile())}class s1 extends Go{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(Fr){const Ur=Fr.getTargetRanges(),Yr=this.view,Qr=Yr.document;let tn=null,sn=null,un=[];if(Fr.dataTransfer&&(tn=new Ym(Fr.dataTransfer)),Fr.data!==null?sn=Fr.data:tn&&(sn=tn.getData("text/plain")),Qr.selection.isFake)un=Array.from(Qr.selection.getRanges());else if(Ur.length)un=Ur.map(gn=>{const kn=Yr.domConverter.domPositionToView(gn.startContainer,gn.startOffset),Cn=Yr.domConverter.domPositionToView(gn.endContainer,gn.endOffset);return kn?Yr.createRange(kn,Cn):Cn?Yr.createRange(Cn):void 0}).filter(gn=>!!gn);else if(Kr.isAndroid){const gn=Fr.target.ownerDocument.defaultView.getSelection();un=Array.from(Yr.domConverter.domSelectionToView(gn).getRanges())}if(Kr.isAndroid&&Fr.inputType=="insertCompositionText"&&sn&&sn.endsWith(`
`))this.fire(Fr.type,Fr,{inputType:"insertParagraph",targetRanges:[Yr.createRange(un[0].end)]});else if(Fr.inputType=="insertText"&&sn&&sn.includes(`
`)){const gn=sn.split(/\n{1,2}/g);let kn=un;for(let Cn=0;Cn<gn.length;Cn++){const Dn=gn[Cn];Dn!=""&&(this.fire(Fr.type,Fr,{data:Dn,dataTransfer:tn,targetRanges:kn,inputType:Fr.inputType,isComposing:Fr.isComposing}),kn=[Qr.selection.getFirstRange()]),Cn+1<gn.length&&(this.fire(Fr.type,Fr,{inputType:"insertParagraph",targetRanges:kn}),kn=[Qr.selection.getFirstRange()])}}else this.fire(Fr.type,Fr,{data:sn,dataTransfer:tn,targetRanges:un,inputType:Fr.inputType,isComposing:Fr.isComposing})}}class l1 extends mo{constructor(Fr){super(Fr),this.document.on("keydown",(Ur,Yr)=>{if(this.isEnabled&&((Qr=Yr.keyCode)==qa.arrowright||Qr==qa.arrowleft||Qr==qa.arrowup||Qr==qa.arrowdown)){const tn=new Bu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(tn,Yr),tn.stop.called&&Ur.stop()}var Qr})}observe(){}stopObserving(){}}class c1 extends mo{constructor(Fr){super(Fr);const Ur=this.document;Ur.on("keydown",(Yr,Qr)=>{if(!this.isEnabled||Qr.keyCode!=qa.tab||Qr.ctrlKey)return;const tn=new Bu(Ur,"tab",Ur.selection.getFirstRange());Ur.fire(tn,Qr),tn.stop.called&&Yr.stop()})}observe(){}stopObserving(){}}const Md=function(Xr){return Oo(Xr,5)};class u1 extends Zi(){constructor(Fr){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Oh(Fr),this.domConverter=new no(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new yn(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new Nf(this.document),this.addObserver(Wm),this.addObserver(Dg),this.addObserver(o1),this.addObserver(Ha),this.addObserver(Vu),this.addObserver(a1),this.addObserver(l1),this.addObserver(s1),this.addObserver(c1),this.document.on("arrowKey",an,{priority:"low"}),Vc(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(Fr,Ur="main"){const Yr=this.document.getRoot(Ur);Yr._name=Fr.tagName.toLowerCase();const Qr={};for(const{name:sn,value:un}of Array.from(Fr.attributes))Qr[sn]=un,sn==="class"?this._writer.addClass(un.split(" "),Yr):this._writer.setAttribute(sn,un,Yr);this._initialDomRootAttributes.set(Fr,Qr);const tn=()=>{this._writer.setAttribute("contenteditable",(!Yr.isReadOnly).toString(),Yr),Yr.isReadOnly?this._writer.addClass("ck-read-only",Yr):this._writer.removeClass("ck-read-only",Yr)};tn(),this.domRoots.set(Ur,Fr),this.domConverter.bindElements(Fr,Yr),this._renderer.markToSync("children",Yr),this._renderer.markToSync("attributes",Yr),this._renderer.domDocuments.add(Fr.ownerDocument),Yr.on("change:children",(sn,un)=>this._renderer.markToSync("children",un)),Yr.on("change:attributes",(sn,un)=>this._renderer.markToSync("attributes",un)),Yr.on("change:text",(sn,un)=>this._renderer.markToSync("text",un)),Yr.on("change:isReadOnly",()=>this.change(tn)),Yr.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const sn of this._observers.values())sn.observe(Fr,Ur)}detachDomRoot(Fr){const Ur=this.domRoots.get(Fr);Array.from(Ur.attributes).forEach(({name:Qr})=>Ur.removeAttribute(Qr));const Yr=this._initialDomRootAttributes.get(Ur);for(const Qr in Yr)Ur.setAttribute(Qr,Yr[Qr]);this.domRoots.delete(Fr),this.domConverter.unbindDomElement(Ur);for(const Qr of this._observers.values())Qr.stopObserving(Ur)}getDomRoot(Fr="main"){return this.domRoots.get(Fr)}addObserver(Fr){let Ur=this._observers.get(Fr);if(Ur)return Ur;Ur=new Fr(this),this._observers.set(Fr,Ur);for(const[Yr,Qr]of this.domRoots)Ur.observe(Qr,Yr);return Ur.enable(),Ur}getObserver(Fr){return this._observers.get(Fr)}disableObservers(){for(const Fr of this._observers.values())Fr.disable()}enableObservers(){for(const Fr of this._observers.values())Fr.enable()}scrollToTheSelection({alignToTop:Fr,forceScroll:Ur,viewportOffset:Yr=20,ancestorOffset:Qr=20}={}){const tn=this.document.selection.getFirstRange();if(!tn)return;const sn=Md({alignToTop:Fr,forceScroll:Ur,viewportOffset:Yr,ancestorOffset:Qr});typeof Yr=="number"&&(Yr={top:Yr,bottom:Yr,left:Yr,right:Yr});const un={target:this.domConverter.viewRangeToDom(tn),viewportOffset:Yr,ancestorOffset:Qr,alignToTop:Fr,forceScroll:Ur};this.fire("scrollToTheSelection",un,sn),function({target:gn,viewportOffset:kn=0,ancestorOffset:Cn=0,alignToTop:Dn,forceScroll:Ln}){const zn=vh(gn);let Wn=zn,Xn=null;for(kn=function(ii){return typeof ii=="number"?{top:ii,bottom:ii,left:ii,right:ii}:ii}(kn);Wn;){let ii;ii=Bd(Wn==zn?gn:Xn),is({parent:ii,getRect:()=>Xh(gn,Wn),alignToTop:Dn,ancestorOffset:Cn,forceScroll:Ln});const ui=Xh(gn,Wn);if(Qo({window:Wn,rect:ui,viewportOffset:kn,alignToTop:Dn,forceScroll:Ln}),Wn.parent!=Wn){if(Xn=Wn.frameElement,Wn=Wn.parent,!Xn)return}else Wn=null}}(un)}focus(){if(!this.document.isFocused){const Fr=this.document.selection.editableElement;Fr&&(this.domConverter.focus(Fr),this.forceRender())}}change(Fr){if(this.isRenderingInProgress||this._postFixersInProgress)throw new wn("cannot-change-view-tree",this);try{if(this._ongoingChange)return Fr(this._writer);this._ongoingChange=!0;const Ur=Fr(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),Ur}catch(Ur){wn.rethrowUnexpectedError(Ur,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Dg).flush(),this.change(()=>{})}destroy(){for(const Fr of this._observers.values())Fr.destroy();this.document.destroy(),this.stopListening()}createPositionAt(Fr,Ur){return Do._createAt(Fr,Ur)}createPositionAfter(Fr){return Do._createAfter(Fr)}createPositionBefore(Fr){return Do._createBefore(Fr)}createRange(Fr,Ur){return new ga(Fr,Ur)}createRangeOn(Fr){return ga._createOn(Fr)}createRangeIn(Fr){return ga._createIn(Fr)}createSelection(...Fr){return new iu(...Fr)}_disableRendering(Fr){this._renderingDisabled=Fr,Fr==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Id{is(){throw new Error("is() method is abstract")}}class ah extends Id{constructor(Fr){super(),this.parent=null,this._attrs=tl(Fr)}get document(){return null}get index(){let Fr;if(!this.parent)return null;if((Fr=this.parent.getChildIndex(this))===null)throw new wn("model-node-not-found-in-parent",this);return Fr}get startOffset(){let Fr;if(!this.parent)return null;if((Fr=this.parent.getChildStartOffset(this))===null)throw new wn("model-node-not-found-in-parent",this);return Fr}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const Fr=this.index;return Fr!==null&&this.parent.getChild(Fr+1)||null}get previousSibling(){const Fr=this.index;return Fr!==null&&this.parent.getChild(Fr-1)||null}get root(){let Fr=this;for(;Fr.parent;)Fr=Fr.parent;return Fr}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const Fr=[];let Ur=this;for(;Ur.parent;)Fr.unshift(Ur.startOffset),Ur=Ur.parent;return Fr}getAncestors(Fr={}){const Ur=[];let Yr=Fr.includeSelf?this:this.parent;for(;Yr;)Ur[Fr.parentFirst?"push":"unshift"](Yr),Yr=Yr.parent;return Ur}getCommonAncestor(Fr,Ur={}){const Yr=this.getAncestors(Ur),Qr=Fr.getAncestors(Ur);let tn=0;for(;Yr[tn]==Qr[tn]&&Yr[tn];)tn++;return tn===0?null:Yr[tn-1]}isBefore(Fr){if(this==Fr||this.root!==Fr.root)return!1;const Ur=this.getPath(),Yr=Fr.getPath(),Qr=ka(Ur,Yr);switch(Qr){case"prefix":return!0;case"extension":return!1;default:return Ur[Qr]<Yr[Qr]}}isAfter(Fr){return this!=Fr&&this.root===Fr.root&&!this.isBefore(Fr)}hasAttribute(Fr){return this._attrs.has(Fr)}getAttribute(Fr){return this._attrs.get(Fr)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const Fr={};return this._attrs.size&&(Fr.attributes=Array.from(this._attrs).reduce((Ur,Yr)=>(Ur[Yr[0]]=Yr[1],Ur),{})),Fr}_clone(Fr){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(Fr,Ur){this._attrs.set(Fr,Ur)}_setAttributesTo(Fr){this._attrs=tl(Fr)}_removeAttribute(Fr){return this._attrs.delete(Fr)}_clearAttributes(){this._attrs.clear()}}ah.prototype.is=function(Xr){return Xr==="node"||Xr==="model:node"};class Vf{constructor(Fr){this._nodes=[],Fr&&this._insertNodes(0,Fr)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((Fr,Ur)=>Fr+Ur.offsetSize,0)}getNode(Fr){return this._nodes[Fr]||null}getNodeIndex(Fr){const Ur=this._nodes.indexOf(Fr);return Ur==-1?null:Ur}getNodeStartOffset(Fr){const Ur=this.getNodeIndex(Fr);return Ur===null?null:this._nodes.slice(0,Ur).reduce((Yr,Qr)=>Yr+Qr.offsetSize,0)}indexToOffset(Fr){if(Fr==this._nodes.length)return this.maxOffset;const Ur=this._nodes[Fr];if(!Ur)throw new wn("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(Ur)}offsetToIndex(Fr){let Ur=0;for(const Yr of this._nodes){if(Fr>=Ur&&Fr<Ur+Yr.offsetSize)return this.getNodeIndex(Yr);Ur+=Yr.offsetSize}if(Ur!=Fr)throw new wn("model-nodelist-offset-out-of-bounds",this,{offset:Fr,nodeList:this});return this.length}_insertNodes(Fr,Ur){for(const Yr of Ur)if(!(Yr instanceof ah))throw new wn("model-nodelist-insertnodes-not-node",this);this._nodes=function(Yr,Qr,tn,sn){if(Math.max(Qr.length,Yr.length)>1e4)return Yr.slice(0,tn).concat(Qr).concat(Yr.slice(tn+sn,Yr.length));{const un=Array.from(Yr);return un.splice(tn,sn,...Qr),un}}(this._nodes,Array.from(Ur),Fr,0)}_removeNodes(Fr,Ur=1){return this._nodes.splice(Fr,Ur)}toJSON(){return this._nodes.map(Fr=>Fr.toJSON())}}class Gs extends ah{constructor(Fr,Ur){super(Ur),this._data=Fr||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const Fr=super.toJSON();return Fr.data=this.data,Fr}_clone(){return new Gs(this.data,this.getAttributes())}static fromJSON(Fr){return new Gs(Fr.data,Fr.attributes)}}Gs.prototype.is=function(Xr){return Xr==="$text"||Xr==="model:$text"||Xr==="text"||Xr==="model:text"||Xr==="node"||Xr==="model:node"};class Cu extends Id{constructor(Fr,Ur,Yr){if(super(),this.textNode=Fr,Ur<0||Ur>Fr.offsetSize)throw new wn("model-textproxy-wrong-offsetintext",this);if(Yr<0||Ur+Yr>Fr.offsetSize)throw new wn("model-textproxy-wrong-length",this);this.data=Fr.data.substring(Ur,Ur+Yr),this.offsetInText=Ur}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const Fr=this.textNode.getPath();return Fr.length>0&&(Fr[Fr.length-1]+=this.offsetInText),Fr}getAncestors(Fr={}){const Ur=[];let Yr=Fr.includeSelf?this:this.parent;for(;Yr;)Ur[Fr.parentFirst?"push":"unshift"](Yr),Yr=Yr.parent;return Ur}hasAttribute(Fr){return this.textNode.hasAttribute(Fr)}getAttribute(Fr){return this.textNode.getAttribute(Fr)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Cu.prototype.is=function(Xr){return Xr==="$textProxy"||Xr==="model:$textProxy"||Xr==="textProxy"||Xr==="model:textProxy"};class Rs extends ah{constructor(Fr,Ur,Yr){super(Ur),this._children=new Vf,this.name=Fr,Yr&&this._insertChild(0,Yr)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(Fr){return this._children.getNode(Fr)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(Fr){return this._children.getNodeIndex(Fr)}getChildStartOffset(Fr){return this._children.getNodeStartOffset(Fr)}offsetToIndex(Fr){return this._children.offsetToIndex(Fr)}getNodeByPath(Fr){let Ur=this;for(const Yr of Fr)Ur=Ur.getChild(Ur.offsetToIndex(Yr));return Ur}findAncestor(Fr,Ur={}){let Yr=Ur.includeSelf?this:this.parent;for(;Yr;){if(Yr.name===Fr)return Yr;Yr=Yr.parent}return null}toJSON(){const Fr=super.toJSON();if(Fr.name=this.name,this._children.length>0){Fr.children=[];for(const Ur of this._children)Fr.children.push(Ur.toJSON())}return Fr}_clone(Fr=!1){const Ur=Fr?Array.from(this._children).map(Yr=>Yr._clone(!0)):void 0;return new Rs(this.name,this.getAttributes(),Ur)}_appendChild(Fr){this._insertChild(this.childCount,Fr)}_insertChild(Fr,Ur){const Yr=function(Qr){return typeof Qr=="string"?[new Gs(Qr)]:(xi(Qr)||(Qr=[Qr]),Array.from(Qr).map(tn=>typeof tn=="string"?new Gs(tn):tn instanceof Cu?new Gs(tn.data,tn.getAttributes()):tn))}(Ur);for(const Qr of Yr)Qr.parent!==null&&Qr._remove(),Qr.parent=this;this._children._insertNodes(Fr,Yr)}_removeChildren(Fr,Ur=1){const Yr=this._children._removeNodes(Fr,Ur);for(const Qr of Yr)Qr.parent=null;return Yr}static fromJSON(Fr){let Ur;if(Fr.children){Ur=[];for(const Yr of Fr.children)Yr.name?Ur.push(Rs.fromJSON(Yr)):Ur.push(Gs.fromJSON(Yr))}return new Rs(Fr.name,Fr.attributes,Ur)}}Rs.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="element"||Xr==="model:element"):Xr==="element"||Xr==="model:element"||Xr==="node"||Xr==="model:node"};class Uu{constructor(Fr){if(!Fr||!Fr.boundaries&&!Fr.startPosition)throw new wn("model-tree-walker-no-start-position",null);const Ur=Fr.direction||"forward";if(Ur!="forward"&&Ur!="backward")throw new wn("model-tree-walker-unknown-direction",Fr,{direction:Ur});this.direction=Ur,this.boundaries=Fr.boundaries||null,Fr.startPosition?this._position=Fr.startPosition.clone():this._position=co._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!Fr.singleCharacters,this.shallow=!!Fr.shallow,this.ignoreElementEnd=!!Fr.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(Fr){let Ur,Yr,Qr,tn;do Qr=this.position,tn=this._visitedParent,{done:Ur,value:Yr}=this.next();while(!Ur&&Fr(Yr));Ur||(this._position=Qr,this._visitedParent=tn)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const Fr=this.position,Ur=this.position.clone(),Yr=this._visitedParent;if(Yr.parent===null&&Ur.offset===Yr.maxOffset)return{done:!0,value:void 0};if(Yr===this._boundaryEndParent&&Ur.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const Qr=jf(Ur,Yr),tn=Qr||Km(Ur,Yr,Qr);if(tn instanceof Rs){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(Ur))return{done:!0,value:void 0};Ur.offset++}else Ur.path.push(0),this._visitedParent=tn;return this._position=Ur,sh("elementStart",tn,Fr,Ur,1)}if(tn instanceof Gs){let sn;if(this.singleCharacters)sn=1;else{let kn=tn.endOffset;this._boundaryEndParent==Yr&&this.boundaries.end.offset<kn&&(kn=this.boundaries.end.offset),sn=kn-Ur.offset}const un=Ur.offset-tn.startOffset,gn=new Cu(tn,un,sn);return Ur.offset+=sn,this._position=Ur,sh("text",gn,Fr,Ur,sn)}return Ur.path.pop(),Ur.offset++,this._position=Ur,this._visitedParent=Yr.parent,this.ignoreElementEnd?this._next():sh("elementEnd",Yr,Fr,Ur)}_previous(){const Fr=this.position,Ur=this.position.clone(),Yr=this._visitedParent;if(Yr.parent===null&&Ur.offset===0)return{done:!0,value:void 0};if(Yr==this._boundaryStartParent&&Ur.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const Qr=Ur.parent,tn=jf(Ur,Qr),sn=tn||Zm(Ur,Qr,tn);if(sn instanceof Rs)return Ur.offset--,this.shallow?(this._position=Ur,sh("elementStart",sn,Fr,Ur,1)):(Ur.path.push(sn.maxOffset),this._position=Ur,this._visitedParent=sn,this.ignoreElementEnd?this._previous():sh("elementEnd",sn,Fr,Ur));if(sn instanceof Gs){let un;if(this.singleCharacters)un=1;else{let Cn=sn.startOffset;this._boundaryStartParent==Yr&&this.boundaries.start.offset>Cn&&(Cn=this.boundaries.start.offset),un=Ur.offset-Cn}const gn=Ur.offset-sn.startOffset,kn=new Cu(sn,gn-un,un);return Ur.offset-=un,this._position=Ur,sh("text",kn,Fr,Ur,un)}return Ur.path.pop(),this._position=Ur,this._visitedParent=Yr.parent,sh("elementStart",Yr,Fr,Ur,1)}}function sh(Xr,Fr,Ur,Yr,Qr){return{done:!1,value:{type:Xr,item:Fr,previousPosition:Ur,nextPosition:Yr,length:Qr}}}class co extends Id{constructor(Fr,Ur,Yr="toNone"){if(super(),!Fr.is("element")&&!Fr.is("documentFragment"))throw new wn("model-position-root-invalid",Fr);if(!(Ur instanceof Array)||Ur.length===0)throw new wn("model-position-path-incorrect-format",Fr,{path:Ur});Fr.is("rootElement")?Ur=Ur.slice():(Ur=[...Fr.getPath(),...Ur],Fr=Fr.root),this.root=Fr,this.path=Ur,this.stickiness=Yr}get offset(){return this.path[this.path.length-1]}set offset(Fr){this.path[this.path.length-1]=Fr}get parent(){let Fr=this.root;for(let Ur=0;Ur<this.path.length-1;Ur++)if(Fr=Fr.getChild(Fr.offsetToIndex(this.path[Ur])),!Fr)throw new wn("model-position-path-incorrect",this,{position:this});if(Fr.is("$text"))throw new wn("model-position-path-incorrect",this,{position:this});return Fr}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return jf(this,this.parent)}get nodeAfter(){const Fr=this.parent;return Km(this,Fr,jf(this,Fr))}get nodeBefore(){const Fr=this.parent;return Zm(this,Fr,jf(this,Fr))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(Fr){if(this.root!=Fr.root)return"different";const Ur=ka(this.path,Fr.path);switch(Ur){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[Ur]<Fr.path[Ur]?"before":"after"}}getLastMatchingPosition(Fr,Ur={}){Ur.startPosition=this;const Yr=new Uu(Ur);return Yr.skip(Fr),Yr.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const Fr=this.parent;return Fr.is("documentFragment")?[Fr]:Fr.getAncestors({includeSelf:!0})}findAncestor(Fr){const Ur=this.parent;return Ur.is("element")?Ur.findAncestor(Fr,{includeSelf:!0}):null}getCommonPath(Fr){if(this.root!=Fr.root)return[];const Ur=ka(this.path,Fr.path),Yr=typeof Ur=="string"?Math.min(this.path.length,Fr.path.length):Ur;return this.path.slice(0,Yr)}getCommonAncestor(Fr){const Ur=this.getAncestors(),Yr=Fr.getAncestors();let Qr=0;for(;Ur[Qr]==Yr[Qr]&&Ur[Qr];)Qr++;return Qr===0?null:Ur[Qr-1]}getShiftedBy(Fr){const Ur=this.clone(),Yr=Ur.offset+Fr;return Ur.offset=Yr<0?0:Yr,Ur}isAfter(Fr){return this.compareWith(Fr)=="after"}isBefore(Fr){return this.compareWith(Fr)=="before"}isEqual(Fr){return this.compareWith(Fr)=="same"}isTouching(Fr){if(this.root!==Fr.root)return!1;const Ur=Math.min(this.path.length,Fr.path.length);for(let Yr=0;Yr<Ur;Yr++){const Qr=this.path[Yr]-Fr.path[Yr];if(Qr<-1||Qr>1)return!1;if(Qr===1)return Xm(Fr,this,Yr);if(Qr===-1)return Xm(this,Fr,Yr)}return this.path.length===Fr.path.length||(this.path.length>Fr.path.length?Eg(this.path,Ur):Eg(Fr.path,Ur))}hasSameParentAs(Fr){return this.root!==Fr.root?!1:ka(this.getParentPath(),Fr.getParentPath())=="same"}getTransformedByOperation(Fr){let Ur;switch(Fr.type){case"insert":Ur=this._getTransformedByInsertOperation(Fr);break;case"move":case"remove":case"reinsert":Ur=this._getTransformedByMoveOperation(Fr);break;case"split":Ur=this._getTransformedBySplitOperation(Fr);break;case"merge":Ur=this._getTransformedByMergeOperation(Fr);break;default:Ur=co._createAt(this)}return Ur}_getTransformedByInsertOperation(Fr){return this._getTransformedByInsertion(Fr.position,Fr.howMany)}_getTransformedByMoveOperation(Fr){return this._getTransformedByMove(Fr.sourcePosition,Fr.targetPosition,Fr.howMany)}_getTransformedBySplitOperation(Fr){const Ur=Fr.movedRange;return Ur.containsPosition(this)||Ur.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(Fr.splitPosition,Fr.moveTargetPosition):Fr.graveyardPosition?this._getTransformedByMove(Fr.graveyardPosition,Fr.insertionPosition,1):this._getTransformedByInsertion(Fr.insertionPosition,1)}_getTransformedByMergeOperation(Fr){const Ur=Fr.movedRange;let Yr;return Ur.containsPosition(this)||Ur.start.isEqual(this)?(Yr=this._getCombined(Fr.sourcePosition,Fr.targetPosition),Fr.sourcePosition.isBefore(Fr.targetPosition)&&(Yr=Yr._getTransformedByDeletion(Fr.deletionPosition,1))):Yr=this.isEqual(Fr.deletionPosition)?co._createAt(Fr.deletionPosition):this._getTransformedByMove(Fr.deletionPosition,Fr.graveyardPosition,1),Yr}_getTransformedByDeletion(Fr,Ur){const Yr=co._createAt(this);if(this.root!=Fr.root)return Yr;if(ka(Fr.getParentPath(),this.getParentPath())=="same"){if(Fr.offset<this.offset){if(Fr.offset+Ur>this.offset)return null;Yr.offset-=Ur}}else if(ka(Fr.getParentPath(),this.getParentPath())=="prefix"){const Qr=Fr.path.length-1;if(Fr.offset<=this.path[Qr]){if(Fr.offset+Ur>this.path[Qr])return null;Yr.path[Qr]-=Ur}}return Yr}_getTransformedByInsertion(Fr,Ur){const Yr=co._createAt(this);if(this.root!=Fr.root)return Yr;if(ka(Fr.getParentPath(),this.getParentPath())=="same")(Fr.offset<this.offset||Fr.offset==this.offset&&this.stickiness!="toPrevious")&&(Yr.offset+=Ur);else if(ka(Fr.getParentPath(),this.getParentPath())=="prefix"){const Qr=Fr.path.length-1;Fr.offset<=this.path[Qr]&&(Yr.path[Qr]+=Ur)}return Yr}_getTransformedByMove(Fr,Ur,Yr){if(Ur=Ur._getTransformedByDeletion(Fr,Yr),Fr.isEqual(Ur))return co._createAt(this);const Qr=this._getTransformedByDeletion(Fr,Yr);return Qr===null||Fr.isEqual(this)&&this.stickiness=="toNext"||Fr.getShiftedBy(Yr).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(Fr,Ur):Qr._getTransformedByInsertion(Ur,Yr)}_getCombined(Fr,Ur){const Yr=Fr.path.length-1,Qr=co._createAt(Ur);return Qr.stickiness=this.stickiness,Qr.offset=Qr.offset+this.path[Yr]-Fr.offset,Qr.path=[...Qr.path,...this.path.slice(Yr+1)],Qr}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(Fr,Ur,Yr="toNone"){if(Fr instanceof co)return new co(Fr.root,Fr.path,Fr.stickiness);{const Qr=Fr;if(Ur=="end")Ur=Qr.maxOffset;else{if(Ur=="before")return this._createBefore(Qr,Yr);if(Ur=="after")return this._createAfter(Qr,Yr);if(Ur!==0&&!Ur)throw new wn("model-createpositionat-offset-required",[this,Fr])}if(!Qr.is("element")&&!Qr.is("documentFragment"))throw new wn("model-position-parent-incorrect",[this,Fr]);const tn=Qr.getPath();return tn.push(Ur),new this(Qr.root,tn,Yr)}}static _createAfter(Fr,Ur){if(!Fr.parent)throw new wn("model-position-after-root",[this,Fr],{root:Fr});return this._createAt(Fr.parent,Fr.endOffset,Ur)}static _createBefore(Fr,Ur){if(!Fr.parent)throw new wn("model-position-before-root",Fr,{root:Fr});return this._createAt(Fr.parent,Fr.startOffset,Ur)}static fromJSON(Fr,Ur){if(Fr.root==="$graveyard"){const Yr=new co(Ur.graveyard,Fr.path);return Yr.stickiness=Fr.stickiness,Yr}if(!Ur.getRoot(Fr.root))throw new wn("model-position-fromjson-no-root",Ur,{rootName:Fr.root});return new co(Ur.getRoot(Fr.root),Fr.path,Fr.stickiness)}}function jf(Xr,Fr){const Ur=Fr.getChild(Fr.offsetToIndex(Xr.offset));return Ur&&Ur.is("$text")&&Ur.startOffset<Xr.offset?Ur:null}function Km(Xr,Fr,Ur){return Ur!==null?null:Fr.getChild(Fr.offsetToIndex(Xr.offset))}function Zm(Xr,Fr,Ur){return Ur!==null?null:Fr.getChild(Fr.offsetToIndex(Xr.offset)-1)}function Xm(Xr,Fr,Ur){return Ur+1!==Xr.path.length&&!!Eg(Fr.path,Ur+1)&&!!function(Yr,Qr){let tn=Yr.parent,sn=Yr.path.length-1,un=0;for(;sn>=Qr;){if(Yr.path[sn]+un!==tn.maxOffset)return!1;un=1,sn--,tn=tn.parent}return!0}(Xr,Ur+1)}function Eg(Xr,Fr){for(;Fr<Xr.length;){if(Xr[Fr]!==0)return!1;Fr++}return!0}co.prototype.is=function(Xr){return Xr==="position"||Xr==="model:position"};class Ui extends Id{constructor(Fr,Ur){super(),this.start=co._createAt(Fr),this.end=Ur?co._createAt(Ur):co._createAt(Fr),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Uu({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return ka(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(Fr){return Fr.isAfter(this.start)&&Fr.isBefore(this.end)}containsRange(Fr,Ur=!1){Fr.isCollapsed&&(Ur=!1);const Yr=this.containsPosition(Fr.start)||Ur&&this.start.isEqual(Fr.start),Qr=this.containsPosition(Fr.end)||Ur&&this.end.isEqual(Fr.end);return Yr&&Qr}containsItem(Fr){const Ur=co._createBefore(Fr);return this.containsPosition(Ur)||this.start.isEqual(Ur)}isEqual(Fr){return this.start.isEqual(Fr.start)&&this.end.isEqual(Fr.end)}isIntersecting(Fr){return this.start.isBefore(Fr.end)&&this.end.isAfter(Fr.start)}getDifference(Fr){const Ur=[];return this.isIntersecting(Fr)?(this.containsPosition(Fr.start)&&Ur.push(new Ui(this.start,Fr.start)),this.containsPosition(Fr.end)&&Ur.push(new Ui(Fr.end,this.end))):Ur.push(new Ui(this.start,this.end)),Ur}getIntersection(Fr){if(this.isIntersecting(Fr)){let Ur=this.start,Yr=this.end;return this.containsPosition(Fr.start)&&(Ur=Fr.start),this.containsPosition(Fr.end)&&(Yr=Fr.end),new Ui(Ur,Yr)}return null}getJoined(Fr,Ur=!1){let Yr=this.isIntersecting(Fr);if(Yr||(Yr=this.start.isBefore(Fr.start)?Ur?this.end.isTouching(Fr.start):this.end.isEqual(Fr.start):Ur?Fr.end.isTouching(this.start):Fr.end.isEqual(this.start)),!Yr)return null;let Qr=this.start,tn=this.end;return Fr.start.isBefore(Qr)&&(Qr=Fr.start),Fr.end.isAfter(tn)&&(tn=Fr.end),new Ui(Qr,tn)}getMinimalFlatRanges(){const Fr=[],Ur=this.start.getCommonPath(this.end).length,Yr=co._createAt(this.start);let Qr=Yr.parent;for(;Yr.path.length>Ur+1;){const tn=Qr.maxOffset-Yr.offset;tn!==0&&Fr.push(new Ui(Yr,Yr.getShiftedBy(tn))),Yr.path=Yr.path.slice(0,-1),Yr.offset++,Qr=Qr.parent}for(;Yr.path.length<=this.end.path.length;){const tn=this.end.path[Yr.path.length-1],sn=tn-Yr.offset;sn!==0&&Fr.push(new Ui(Yr,Yr.getShiftedBy(sn))),Yr.offset=tn,Yr.path.push(0)}return Fr}getWalker(Fr={}){return Fr.boundaries=this,new Uu(Fr)}*getItems(Fr={}){Fr.boundaries=this,Fr.ignoreElementEnd=!0;const Ur=new Uu(Fr);for(const Yr of Ur)yield Yr.item}*getPositions(Fr={}){Fr.boundaries=this;const Ur=new Uu(Fr);yield Ur.position;for(const Yr of Ur)yield Yr.nextPosition}getTransformedByOperation(Fr){switch(Fr.type){case"insert":return this._getTransformedByInsertOperation(Fr);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(Fr);case"split":return[this._getTransformedBySplitOperation(Fr)];case"merge":return[this._getTransformedByMergeOperation(Fr)]}return[new Ui(this.start,this.end)]}getTransformedByOperations(Fr){const Ur=[new Ui(this.start,this.end)];for(const Yr of Fr)for(let Qr=0;Qr<Ur.length;Qr++){const tn=Ur[Qr].getTransformedByOperation(Yr);Ur.splice(Qr,1,...tn),Qr+=tn.length-1}for(let Yr=0;Yr<Ur.length;Yr++){const Qr=Ur[Yr];for(let tn=Yr+1;tn<Ur.length;tn++){const sn=Ur[tn];(Qr.containsRange(sn)||sn.containsRange(Qr)||Qr.isEqual(sn))&&Ur.splice(tn,1)}}return Ur}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const Fr=this.start.nodeAfter,Ur=this.end.nodeBefore;return Fr&&Fr.is("element")&&Fr===Ur?Fr:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(Fr,Ur=!1){return this._getTransformedByInsertion(Fr.position,Fr.howMany,Ur)}_getTransformedByMoveOperation(Fr,Ur=!1){const Yr=Fr.sourcePosition,Qr=Fr.howMany,tn=Fr.targetPosition;return this._getTransformedByMove(Yr,tn,Qr,Ur)}_getTransformedBySplitOperation(Fr){const Ur=this.start._getTransformedBySplitOperation(Fr);let Yr=this.end._getTransformedBySplitOperation(Fr);return this.end.isEqual(Fr.insertionPosition)&&(Yr=this.end.getShiftedBy(1)),Ur.root!=Yr.root&&(Yr=this.end.getShiftedBy(-1)),new Ui(Ur,Yr)}_getTransformedByMergeOperation(Fr){if(this.start.isEqual(Fr.targetPosition)&&this.end.isEqual(Fr.deletionPosition))return new Ui(this.start);let Ur=this.start._getTransformedByMergeOperation(Fr),Yr=this.end._getTransformedByMergeOperation(Fr);return Ur.root!=Yr.root&&(Yr=this.end.getShiftedBy(-1)),Ur.isAfter(Yr)?(Fr.sourcePosition.isBefore(Fr.targetPosition)?(Ur=co._createAt(Yr),Ur.offset=0):(Fr.deletionPosition.isEqual(Ur)||(Yr=Fr.deletionPosition),Ur=Fr.targetPosition),new Ui(Ur,Yr)):new Ui(Ur,Yr)}_getTransformedByInsertion(Fr,Ur,Yr=!1){if(Yr&&this.containsPosition(Fr))return[new Ui(this.start,Fr),new Ui(Fr.getShiftedBy(Ur),this.end._getTransformedByInsertion(Fr,Ur))];{const Qr=new Ui(this.start,this.end);return Qr.start=Qr.start._getTransformedByInsertion(Fr,Ur),Qr.end=Qr.end._getTransformedByInsertion(Fr,Ur),[Qr]}}_getTransformedByMove(Fr,Ur,Yr,Qr=!1){if(this.isCollapsed){const Dn=this.start._getTransformedByMove(Fr,Ur,Yr);return[new Ui(Dn)]}const tn=Ui._createFromPositionAndShift(Fr,Yr),sn=Ur._getTransformedByDeletion(Fr,Yr);if(this.containsPosition(Ur)&&!Qr&&(tn.containsPosition(this.start)||tn.containsPosition(this.end))){const Dn=this.start._getTransformedByMove(Fr,Ur,Yr),Ln=this.end._getTransformedByMove(Fr,Ur,Yr);return[new Ui(Dn,Ln)]}let un;const gn=this.getDifference(tn);let kn=null;const Cn=this.getIntersection(tn);if(gn.length==1?kn=new Ui(gn[0].start._getTransformedByDeletion(Fr,Yr),gn[0].end._getTransformedByDeletion(Fr,Yr)):gn.length==2&&(kn=new Ui(this.start,this.end._getTransformedByDeletion(Fr,Yr))),un=kn?kn._getTransformedByInsertion(sn,Yr,Cn!==null||Qr):[],Cn){const Dn=new Ui(Cn.start._getCombined(tn.start,sn),Cn.end._getCombined(tn.start,sn));un.length==2?un.splice(1,0,Dn):un.push(Dn)}return un}_getTransformedByDeletion(Fr,Ur){let Yr=this.start._getTransformedByDeletion(Fr,Ur),Qr=this.end._getTransformedByDeletion(Fr,Ur);return Yr==null&&Qr==null?null:(Yr==null&&(Yr=Fr),Qr==null&&(Qr=Fr),new Ui(Yr,Qr))}static _createFromPositionAndShift(Fr,Ur){const Yr=Fr,Qr=Fr.getShiftedBy(Ur);return Ur>0?new this(Yr,Qr):new this(Qr,Yr)}static _createIn(Fr){return new this(co._createAt(Fr,0),co._createAt(Fr,Fr.maxOffset))}static _createOn(Fr){return this._createFromPositionAndShift(co._createBefore(Fr),Fr.offsetSize)}static _createFromRanges(Fr){if(Fr.length===0)throw new wn("range-create-from-ranges-empty-array",null);if(Fr.length==1)return Fr[0].clone();const Ur=Fr[0];Fr.sort((tn,sn)=>tn.start.isAfter(sn.start)?1:-1);const Yr=Fr.indexOf(Ur),Qr=new this(Ur.start,Ur.end);if(Yr>0)for(let tn=Yr-1;Fr[tn].end.isEqual(Qr.start);tn++)Qr.start=co._createAt(Fr[tn].start);for(let tn=Yr+1;tn<Fr.length&&Fr[tn].start.isEqual(Qr.end);tn++)Qr.end=co._createAt(Fr[tn].end);return Qr}static fromJSON(Fr,Ur){return new this(co.fromJSON(Fr.start,Ur),co.fromJSON(Fr.end,Ur))}}Ui.prototype.is=function(Xr){return Xr==="range"||Xr==="model:range"};class Qm extends wi(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(Fr,Ur)=>{if(Ur.viewPosition)return;const Yr=this._modelToViewMapping.get(Ur.modelPosition.parent);if(!Yr)throw new wn("mapping-model-position-view-parent-not-found",this,{modelPosition:Ur.modelPosition});Ur.viewPosition=this.findPositionIn(Yr,Ur.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(Fr,Ur)=>{if(Ur.modelPosition)return;const Yr=this.findMappedViewAncestor(Ur.viewPosition),Qr=this._viewToModelMapping.get(Yr),tn=this._toModelOffset(Ur.viewPosition.parent,Ur.viewPosition.offset,Yr);Ur.modelPosition=co._createAt(Qr,tn)},{priority:"low"})}bindElements(Fr,Ur){this._modelToViewMapping.set(Fr,Ur),this._viewToModelMapping.set(Ur,Fr)}unbindViewElement(Fr,Ur={}){const Yr=this.toModelElement(Fr);if(this._elementToMarkerNames.has(Fr))for(const Qr of this._elementToMarkerNames.get(Fr))this._unboundMarkerNames.add(Qr);Ur.defer?this._deferredBindingRemovals.set(Fr,Fr.root):(this._viewToModelMapping.delete(Fr),this._modelToViewMapping.get(Yr)==Fr&&this._modelToViewMapping.delete(Yr))}unbindModelElement(Fr){const Ur=this.toViewElement(Fr);this._modelToViewMapping.delete(Fr),this._viewToModelMapping.get(Ur)==Fr&&this._viewToModelMapping.delete(Ur)}bindElementToMarker(Fr,Ur){const Yr=this._markerNameToElements.get(Ur)||new Set;Yr.add(Fr);const Qr=this._elementToMarkerNames.get(Fr)||new Set;Qr.add(Ur),this._markerNameToElements.set(Ur,Yr),this._elementToMarkerNames.set(Fr,Qr)}unbindElementFromMarkerName(Fr,Ur){const Yr=this._markerNameToElements.get(Ur);Yr&&(Yr.delete(Fr),Yr.size==0&&this._markerNameToElements.delete(Ur));const Qr=this._elementToMarkerNames.get(Fr);Qr&&(Qr.delete(Ur),Qr.size==0&&this._elementToMarkerNames.delete(Fr))}flushUnboundMarkerNames(){const Fr=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),Fr}flushDeferredBindings(){for(const[Fr,Ur]of this._deferredBindingRemovals)Fr.root==Ur&&this.unbindViewElement(Fr);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(Fr){return this._viewToModelMapping.get(Fr)}toViewElement(Fr){return this._modelToViewMapping.get(Fr)}toModelRange(Fr){return new Ui(this.toModelPosition(Fr.start),this.toModelPosition(Fr.end))}toViewRange(Fr){return new ga(this.toViewPosition(Fr.start),this.toViewPosition(Fr.end))}toModelPosition(Fr){const Ur={viewPosition:Fr,mapper:this};return this.fire("viewToModelPosition",Ur),Ur.modelPosition}toViewPosition(Fr,Ur={}){const Yr={modelPosition:Fr,mapper:this,isPhantom:Ur.isPhantom};return this.fire("modelToViewPosition",Yr),Yr.viewPosition}markerNameToElements(Fr){const Ur=this._markerNameToElements.get(Fr);if(!Ur)return null;const Yr=new Set;for(const Qr of Ur)if(Qr.is("attributeElement"))for(const tn of Qr.getElementsWithSameId())Yr.add(tn);else Yr.add(Qr);return Yr}registerViewToModelLength(Fr,Ur){this._viewToModelLengthCallbacks.set(Fr,Ur)}findMappedViewAncestor(Fr){let Ur=Fr.parent;for(;!this._viewToModelMapping.has(Ur);)Ur=Ur.parent;return Ur}_toModelOffset(Fr,Ur,Yr){if(Yr!=Fr)return this._toModelOffset(Fr.parent,Fr.index,Yr)+this._toModelOffset(Fr,Ur,Fr);if(Fr.is("$text"))return Ur;let Qr=0;for(let tn=0;tn<Ur;tn++)Qr+=this.getModelLength(Fr.getChild(tn));return Qr}getModelLength(Fr){if(this._viewToModelLengthCallbacks.get(Fr.name))return this._viewToModelLengthCallbacks.get(Fr.name)(Fr);if(this._viewToModelMapping.has(Fr))return 1;if(Fr.is("$text"))return Fr.data.length;if(Fr.is("uiElement"))return 0;{let Ur=0;for(const Yr of Fr.getChildren())Ur+=this.getModelLength(Yr);return Ur}}findPositionIn(Fr,Ur){let Yr,Qr=0,tn=0,sn=0;if(Fr.is("$text"))return new Do(Fr,Ur);for(;tn<Ur;)Yr=Fr.getChild(sn),Qr=this.getModelLength(Yr),tn+=Qr,sn++;return tn==Ur?this._moveViewPositionToTextNode(new Do(Fr,sn)):this.findPositionIn(Yr,Ur-(tn-Qr))}_moveViewPositionToTextNode(Fr){const Ur=Fr.nodeBefore,Yr=Fr.nodeAfter;return Ur instanceof Ds?new Do(Ur,Ur.data.length):Yr instanceof Ds?new Do(Yr,0):Fr}}class d1{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(Fr,Ur){Ur=Lp(Ur),Fr instanceof Cu&&(Fr=this._getSymbolForTextProxy(Fr)),this._consumable.has(Fr)||this._consumable.set(Fr,new Map),this._consumable.get(Fr).set(Ur,!0)}consume(Fr,Ur){return Ur=Lp(Ur),Fr instanceof Cu&&(Fr=this._getSymbolForTextProxy(Fr)),!!this.test(Fr,Ur)&&(this._consumable.get(Fr).set(Ur,!1),!0)}test(Fr,Ur){Ur=Lp(Ur),Fr instanceof Cu&&(Fr=this._getSymbolForTextProxy(Fr));const Yr=this._consumable.get(Fr);if(Yr===void 0)return null;const Qr=Yr.get(Ur);return Qr===void 0?null:Qr}revert(Fr,Ur){Ur=Lp(Ur),Fr instanceof Cu&&(Fr=this._getSymbolForTextProxy(Fr));const Yr=this.test(Fr,Ur);return Yr===!1?(this._consumable.get(Fr).set(Ur,!0),!0):Yr!==!0&&null}verifyAllConsumed(Fr){const Ur=[];for(const[Yr,Qr]of this._consumable)for(const[tn,sn]of Qr){const un=tn.split(":")[0];sn&&Fr==un&&Ur.push({event:tn,item:Yr.name||Yr.description})}if(Ur.length)throw new wn("conversion-model-consumable-not-consumed",null,{items:Ur})}_getSymbolForTextProxy(Fr){let Ur=null;const Yr=this._textProxyRegistry.get(Fr.startOffset);if(Yr){const Qr=Yr.get(Fr.endOffset);Qr&&(Ur=Qr.get(Fr.parent))}return Ur||(Ur=this._addSymbolForTextProxy(Fr)),Ur}_addSymbolForTextProxy(Fr){const Ur=Fr.startOffset,Yr=Fr.endOffset,Qr=Fr.parent,tn=Symbol("$textProxy:"+Fr.data);let sn,un;return sn=this._textProxyRegistry.get(Ur),sn||(sn=new Map,this._textProxyRegistry.set(Ur,sn)),un=sn.get(Yr),un||(un=new Map,sn.set(Yr,un)),un.set(Qr,tn),tn}}function Lp(Xr){const Fr=Xr.split(":");return Fr[0]=="insert"?Fr[0]:Fr[0]=="addMarker"||Fr[0]=="removeMarker"?Xr:Fr.length>1?Fr[0]+":"+Fr[1]:Fr[0]}var h1=Object.defineProperty,f1=Object.defineProperties,p1=Object.getOwnPropertyDescriptors,Jm=Object.getOwnPropertySymbols,g1=Object.prototype.hasOwnProperty,m1=Object.prototype.propertyIsEnumerable,ev=(Xr,Fr,Ur)=>Fr in Xr?h1(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur,Tg=(Xr,Fr)=>{for(var Ur in Fr||(Fr={}))g1.call(Fr,Ur)&&ev(Xr,Ur,Fr[Ur]);if(Jm)for(var Ur of Jm(Fr))m1.call(Fr,Ur)&&ev(Xr,Ur,Fr[Ur]);return Xr},tv=(Xr,Fr)=>f1(Xr,p1(Fr));class rv extends wi(){constructor(Fr){super(),this._conversionApi=Tg({dispatcher:this},Fr),this._firedEventsMap=new WeakMap}convertChanges(Fr,Ur,Yr){const Qr=this._createConversionApi(Yr,Fr.getRefreshedItems());for(const sn of Fr.getMarkersToRemove())this._convertMarkerRemove(sn.name,sn.range,Qr);const tn=this._reduceChanges(Fr.getChanges());for(const sn of tn)sn.type==="insert"?this._convertInsert(Ui._createFromPositionAndShift(sn.position,sn.length),Qr):sn.type==="reinsert"?this._convertReinsert(Ui._createFromPositionAndShift(sn.position,sn.length),Qr):sn.type==="remove"?this._convertRemove(sn.position,sn.length,sn.name,Qr):this._convertAttribute(sn.range,sn.attributeKey,sn.attributeOldValue,sn.attributeNewValue,Qr);for(const sn of Qr.mapper.flushUnboundMarkerNames()){const un=Ur.get(sn).getRange();this._convertMarkerRemove(sn,un,Qr),this._convertMarkerAdd(sn,un,Qr)}for(const sn of Fr.getMarkersToAdd())this._convertMarkerAdd(sn.name,sn.range,Qr);Qr.mapper.flushDeferredBindings(),Qr.consumable.verifyAllConsumed("insert")}convert(Fr,Ur,Yr,Qr={}){const tn=this._createConversionApi(Yr,void 0,Qr);this._convertInsert(Fr,tn);for(const[sn,un]of Ur)this._convertMarkerAdd(sn,un,tn);tn.consumable.verifyAllConsumed("insert")}convertSelection(Fr,Ur,Yr){const Qr=Array.from(Ur.getMarkersAtPosition(Fr.getFirstPosition())),tn=this._createConversionApi(Yr);if(this._addConsumablesForSelection(tn.consumable,Fr,Qr),this.fire("selection",{selection:Fr},tn),Fr.isCollapsed){for(const sn of Qr){const un=sn.getRange();if(!y1(Fr.getFirstPosition(),sn,tn.mapper))continue;const gn={item:Fr,markerName:sn.name,markerRange:un};tn.consumable.test(Fr,"addMarker:"+sn.name)&&this.fire(`addMarker:${sn.name}`,gn,tn)}for(const sn of Fr.getAttributeKeys()){const un={item:Fr,range:Fr.getFirstRange(),attributeKey:sn,attributeOldValue:null,attributeNewValue:Fr.getAttribute(sn)};tn.consumable.test(Fr,"attribute:"+un.attributeKey)&&this.fire(`attribute:${un.attributeKey}:$text`,un,tn)}}}_convertInsert(Fr,Ur,Yr={}){Yr.doNotAddConsumables||this._addConsumablesForInsert(Ur.consumable,Array.from(Fr));for(const Qr of Array.from(Fr.getWalker({shallow:!0})).map(nv))this._testAndFire("insert",Qr,Ur)}_convertRemove(Fr,Ur,Yr,Qr){this.fire(`remove:${Yr}`,{position:Fr,length:Ur},Qr)}_convertAttribute(Fr,Ur,Yr,Qr,tn){this._addConsumablesForRange(tn.consumable,Fr,`attribute:${Ur}`);for(const sn of Fr){const un={item:sn.item,range:Ui._createFromPositionAndShift(sn.previousPosition,sn.length),attributeKey:Ur,attributeOldValue:Yr,attributeNewValue:Qr};this._testAndFire(`attribute:${Ur}`,un,tn)}}_convertReinsert(Fr,Ur){const Yr=Array.from(Fr.getWalker({shallow:!0}));this._addConsumablesForInsert(Ur.consumable,Yr);for(const Qr of Yr.map(nv))this._testAndFire("insert",tv(Tg({},Qr),{reconversion:!0}),Ur)}_convertMarkerAdd(Fr,Ur,Yr){if(Ur.root.rootName=="$graveyard")return;const Qr=`addMarker:${Fr}`;if(Yr.consumable.add(Ur,Qr),this.fire(Qr,{markerName:Fr,markerRange:Ur},Yr),Yr.consumable.consume(Ur,Qr)){this._addConsumablesForRange(Yr.consumable,Ur,Qr);for(const tn of Ur.getItems()){if(!Yr.consumable.test(tn,Qr))continue;const sn={item:tn,range:Ui._createOn(tn),markerName:Fr,markerRange:Ur};this.fire(Qr,sn,Yr)}}}_convertMarkerRemove(Fr,Ur,Yr){Ur.root.rootName!="$graveyard"&&this.fire(`removeMarker:${Fr}`,{markerName:Fr,markerRange:Ur},Yr)}_reduceChanges(Fr){const Ur={changes:Fr};return this.fire("reduceChanges",Ur),Ur.changes}_addConsumablesForInsert(Fr,Ur){for(const Yr of Ur){const Qr=Yr.item;if(Fr.test(Qr,"insert")===null){Fr.add(Qr,"insert");for(const tn of Qr.getAttributeKeys())Fr.add(Qr,"attribute:"+tn)}}return Fr}_addConsumablesForRange(Fr,Ur,Yr){for(const Qr of Ur.getItems())Fr.add(Qr,Yr);return Fr}_addConsumablesForSelection(Fr,Ur,Yr){Fr.add(Ur,"selection");for(const Qr of Yr)Fr.add(Ur,"addMarker:"+Qr.name);for(const Qr of Ur.getAttributeKeys())Fr.add(Ur,"attribute:"+Qr);return Fr}_testAndFire(Fr,Ur,Yr){const Qr=function(gn,kn){const Cn=kn.item.is("element")?kn.item.name:"$text";return`${gn}:${Cn}`}(Fr,Ur),tn=Ur.item.is("$textProxy")?Yr.consumable._getSymbolForTextProxy(Ur.item):Ur.item,sn=this._firedEventsMap.get(Yr),un=sn.get(tn);if(un){if(un.has(Qr))return;un.add(Qr)}else sn.set(tn,new Set([Qr]));this.fire(Qr,Ur,Yr)}_testAndFireAddAttributes(Fr,Ur){const Yr={item:Fr,range:Ui._createOn(Fr)};for(const Qr of Yr.item.getAttributeKeys())Yr.attributeKey=Qr,Yr.attributeOldValue=null,Yr.attributeNewValue=Yr.item.getAttribute(Qr),this._testAndFire(`attribute:${Qr}`,Yr,Ur)}_createConversionApi(Fr,Ur=new Set,Yr={}){const Qr=tv(Tg({},this._conversionApi),{consumable:new d1,writer:Fr,options:Yr,convertItem:tn=>this._convertInsert(Ui._createOn(tn),Qr),convertChildren:tn=>this._convertInsert(Ui._createIn(tn),Qr,{doNotAddConsumables:!0}),convertAttributes:tn=>this._testAndFireAddAttributes(tn,Qr),canReuseView:tn=>!Ur.has(Qr.mapper.toModelElement(tn))});return this._firedEventsMap.set(Qr,new Map),Qr}}function y1(Xr,Fr,Ur){const Yr=Fr.getRange(),Qr=Array.from(Xr.getAncestors());return Qr.shift(),Qr.reverse(),!Qr.some(tn=>{if(Yr.containsItem(tn))return!!Ur.toViewElement(tn).getCustomProperty("addHighlight")})}function nv(Xr){return{item:Xr.item,range:Ui._createFromPositionAndShift(Xr.previousPosition,Xr.length)}}class jc extends wi(Id){constructor(...Fr){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],Fr.length&&this.setTo(...Fr)}get anchor(){if(this._ranges.length>0){const Fr=this._ranges[this._ranges.length-1];return this._lastRangeBackward?Fr.end:Fr.start}return null}get focus(){if(this._ranges.length>0){const Fr=this._ranges[this._ranges.length-1];return this._lastRangeBackward?Fr.start:Fr.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(Fr){if(this.rangeCount!=Fr.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(Fr.anchor)||!this.focus.isEqual(Fr.focus))return!1;for(const Ur of this._ranges){let Yr=!1;for(const Qr of Fr._ranges)if(Ur.isEqual(Qr)){Yr=!0;break}if(!Yr)return!1}return!0}*getRanges(){for(const Fr of this._ranges)yield new Ui(Fr.start,Fr.end)}getFirstRange(){let Fr=null;for(const Ur of this._ranges)Fr&&!Ur.start.isBefore(Fr.start)||(Fr=Ur);return Fr?new Ui(Fr.start,Fr.end):null}getLastRange(){let Fr=null;for(const Ur of this._ranges)Fr&&!Ur.end.isAfter(Fr.end)||(Fr=Ur);return Fr?new Ui(Fr.start,Fr.end):null}getFirstPosition(){const Fr=this.getFirstRange();return Fr?Fr.start.clone():null}getLastPosition(){const Fr=this.getLastRange();return Fr?Fr.end.clone():null}setTo(...Fr){let[Ur,Yr,Qr]=Fr;if(typeof Yr=="object"&&(Qr=Yr,Yr=void 0),Ur===null)this._setRanges([]);else if(Ur instanceof jc)this._setRanges(Ur.getRanges(),Ur.isBackward);else if(Ur&&typeof Ur.getRanges=="function")this._setRanges(Ur.getRanges(),Ur.isBackward);else if(Ur instanceof Ui)this._setRanges([Ur],!!Qr&&!!Qr.backward);else if(Ur instanceof co)this._setRanges([new Ui(Ur)]);else if(Ur instanceof ah){const tn=!!Qr&&!!Qr.backward;let sn;if(Yr=="in")sn=Ui._createIn(Ur);else if(Yr=="on")sn=Ui._createOn(Ur);else{if(Yr===void 0)throw new wn("model-selection-setto-required-second-parameter",[this,Ur]);sn=new Ui(co._createAt(Ur,Yr))}this._setRanges([sn],tn)}else{if(!xi(Ur))throw new wn("model-selection-setto-not-selectable",[this,Ur]);this._setRanges(Ur,Qr&&!!Qr.backward)}}_setRanges(Fr,Ur=!1){const Yr=Array.from(Fr),Qr=Yr.some(tn=>{if(!(tn instanceof Ui))throw new wn("model-selection-set-ranges-not-range",[this,Fr]);return this._ranges.every(sn=>!sn.isEqual(tn))});(Yr.length!==this._ranges.length||Qr)&&(this._replaceAllRanges(Yr),this._lastRangeBackward=!!Ur,this.fire("change:range",{directChange:!0}))}setFocus(Fr,Ur){if(this.anchor===null)throw new wn("model-selection-setfocus-no-ranges",[this,Fr]);const Yr=co._createAt(Fr,Ur);if(Yr.compareWith(this.focus)=="same")return;const Qr=this.anchor;this._ranges.length&&this._popRange(),Yr.compareWith(Qr)=="before"?(this._pushRange(new Ui(Yr,Qr)),this._lastRangeBackward=!0):(this._pushRange(new Ui(Qr,Yr)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(Fr){return this._attrs.get(Fr)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(Fr){return this._attrs.has(Fr)}removeAttribute(Fr){this.hasAttribute(Fr)&&(this._attrs.delete(Fr),this.fire("change:attribute",{attributeKeys:[Fr],directChange:!0}))}setAttribute(Fr,Ur){this.getAttribute(Fr)!==Ur&&(this._attrs.set(Fr,Ur),this.fire("change:attribute",{attributeKeys:[Fr],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const Fr=new WeakSet;for(const Ur of this.getRanges()){const Yr=ov(Ur.start,Fr);_1(Yr,Ur)&&(yield Yr);for(const tn of Ur.getWalker()){const sn=tn.item;tn.type=="elementEnd"&&b1(sn,Fr,Ur)&&(yield sn)}const Qr=ov(Ur.end,Fr);w1(Qr,Ur)&&(yield Qr)}}containsEntireContent(Fr=this.anchor.root){const Ur=co._createAt(Fr,0),Yr=co._createAt(Fr,"end");return Ur.isTouching(this.getFirstPosition())&&Yr.isTouching(this.getLastPosition())}_pushRange(Fr){this._checkRange(Fr),this._ranges.push(new Ui(Fr.start,Fr.end))}_checkRange(Fr){for(let Ur=0;Ur<this._ranges.length;Ur++)if(Fr.isIntersecting(this._ranges[Ur]))throw new wn("model-selection-range-intersects",[this,Fr],{addedRange:Fr,intersectingRange:this._ranges[Ur]})}_replaceAllRanges(Fr){this._removeAllRanges();for(const Ur of Fr)this._pushRange(Ur)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function iv(Xr,Fr){return!Fr.has(Xr)&&(Fr.add(Xr),Xr.root.document.model.schema.isBlock(Xr)&&!!Xr.parent)}function b1(Xr,Fr,Ur){return iv(Xr,Fr)&&Mg(Xr,Ur)}function ov(Xr,Fr){const Ur=Xr.parent.root.document.model.schema,Yr=Xr.parent.getAncestors({parentFirst:!0,includeSelf:!0});let Qr=!1;const tn=Yr.find(sn=>!Qr&&(Qr=Ur.isLimit(sn),!Qr&&iv(sn,Fr)));return Yr.forEach(sn=>Fr.add(sn)),tn}function Mg(Xr,Fr){const Ur=function(Yr){const Qr=Yr.root.document.model.schema;let tn=Yr.parent;for(;tn;){if(Qr.isBlock(tn))return tn;tn=tn.parent}}(Xr);return Ur?!Fr.containsRange(Ui._createOn(Ur),!0):!0}function _1(Xr,Fr){return!!Xr&&(!(!Fr.isCollapsed&&!Xr.isEmpty)||!Fr.start.isTouching(co._createAt(Xr,Xr.maxOffset))&&Mg(Xr,Fr))}function w1(Xr,Fr){return!!Xr&&(!(!Fr.isCollapsed&&!Xr.isEmpty)||!Fr.end.isTouching(co._createAt(Xr,0))&&Mg(Xr,Fr))}jc.prototype.is=function(Xr){return Xr==="selection"||Xr==="model:selection"};class xu extends wi(Ui){constructor(Fr,Ur){super(Fr,Ur),k1.call(this)}detach(){this.stopListening()}toRange(){return new Ui(this.start,this.end)}static fromRange(Fr){return new xu(Fr.start,Fr.end)}}function k1(){this.listenTo(this.root.document.model,"applyOperation",(Xr,Fr)=>{const Ur=Fr[0];Ur.isDocumentOperation&&A1.call(this,Ur)},{priority:"low"})}function A1(Xr){const Fr=this.getTransformedByOperation(Xr),Ur=Ui._createFromRanges(Fr),Yr=!Ur.isEqual(this),Qr=function(sn,un){switch(un.type){case"insert":return sn.containsPosition(un.position);case"move":case"remove":case"reinsert":case"merge":return sn.containsPosition(un.sourcePosition)||sn.start.isEqual(un.sourcePosition)||sn.containsPosition(un.targetPosition);case"split":return sn.containsPosition(un.splitPosition)||sn.containsPosition(un.insertionPosition)}return!1}(this,Xr);let tn=null;if(Yr){Ur.root.rootName=="$graveyard"&&(tn=Xr.type=="remove"?Xr.sourcePosition:Xr.deletionPosition);const sn=this.toRange();this.start=Ur.start,this.end=Ur.end,this.fire("change:range",sn,{deletionPosition:tn})}else Qr&&this.fire("change:content",this.toRange(),{deletionPosition:tn})}xu.prototype.is=function(Xr){return Xr==="liveRange"||Xr==="model:liveRange"||Xr=="range"||Xr==="model:range"};const Pp="selection:";class Su extends wi(Id){constructor(Fr){super(),this._selection=new C1(Fr),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(Fr){return this._selection.containsEntireContent(Fr)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(Fr){return this._selection.getAttribute(Fr)}hasAttribute(Fr){return this._selection.hasAttribute(Fr)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(Fr){this._selection.observeMarkers(Fr)}_setFocus(Fr,Ur){this._selection.setFocus(Fr,Ur)}_setTo(...Fr){this._selection.setTo(...Fr)}_setAttribute(Fr,Ur){this._selection.setAttribute(Fr,Ur)}_removeAttribute(Fr){this._selection.removeAttribute(Fr)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(Fr){this._selection.restoreGravity(Fr)}static _getStoreAttributeKey(Fr){return Pp+Fr}static _isStoreAttributeKey(Fr){return Fr.startsWith(Pp)}}Su.prototype.is=function(Xr){return Xr==="selection"||Xr=="model:selection"||Xr=="documentSelection"||Xr=="model:documentSelection"};class C1 extends jc{constructor(Fr){super(),this.markers=new $c({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=Fr.model,this._document=Fr,this.listenTo(this._model,"applyOperation",(Ur,Yr)=>{const Qr=Yr[0];Qr.isDocumentOperation&&Qr.type!="marker"&&Qr.type!="rename"&&Qr.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(Ur,Yr,Qr,tn)=>{this._updateMarker(Yr,tn)}),this.listenTo(this._document,"change",(Ur,Yr)=>{(function(Qr,tn){const sn=Qr.document.differ;for(const un of sn.getChanges()){if(un.type!="insert")continue;const gn=un.position.parent;un.length===gn.maxOffset&&Qr.enqueueChange(tn,kn=>{const Cn=Array.from(gn.getAttributeKeys()).filter(Dn=>Dn.startsWith(Pp));for(const Dn of Cn)kn.removeAttribute(Dn,gn)})}})(this._model,Yr)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let Fr=0;Fr<this._ranges.length;Fr++)this._ranges[Fr].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...Fr){super.setTo(...Fr),this._updateAttributes(!0),this.updateMarkers()}setFocus(Fr,Ur){super.setFocus(Fr,Ur),this._updateAttributes(!0),this.updateMarkers()}setAttribute(Fr,Ur){if(this._setAttribute(Fr,Ur)){const Yr=[Fr];this.fire("change:attribute",{attributeKeys:Yr,directChange:!0})}}removeAttribute(Fr){if(this._removeAttribute(Fr)){const Ur=[Fr];this.fire("change:attribute",{attributeKeys:Ur,directChange:!0})}}overrideGravity(){const Fr=bn();return this._overriddenGravityRegister.add(Fr),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),Fr}restoreGravity(Fr){if(!this._overriddenGravityRegister.has(Fr))throw new wn("document-selection-gravity-wrong-restore",this,{uid:Fr});this._overriddenGravityRegister.delete(Fr),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(Fr){this._observedMarkers.add(Fr),this.updateMarkers()}_replaceAllRanges(Fr){this._validateSelectionRanges(Fr),super._replaceAllRanges(Fr)}_popRange(){this._ranges.pop().detach()}_pushRange(Fr){const Ur=this._prepareRange(Fr);Ur&&this._ranges.push(Ur)}_validateSelectionRanges(Fr){for(const Ur of Fr)if(!this._document._validateSelectionRange(Ur))throw new wn("document-selection-wrong-position",this,{range:Ur})}_prepareRange(Fr){if(this._checkRange(Fr),Fr.root==this._document.graveyard)return;const Ur=xu.fromRange(Fr);return Ur.on("change:range",(Yr,Qr,tn)=>{if(this._hasChangedRange=!0,Ur.root==this._document.graveyard){this._selectionRestorePosition=tn.deletionPosition;const sn=this._ranges.indexOf(Ur);this._ranges.splice(sn,1),Ur.detach()}}),Ur}updateMarkers(){if(!this._observedMarkers.size)return;const Fr=[];let Ur=!1;for(const Qr of this._model.markers){const tn=Qr.name.split(":",1)[0];if(!this._observedMarkers.has(tn))continue;const sn=Qr.getRange();for(const un of this.getRanges())sn.containsRange(un,!un.isCollapsed)&&Fr.push(Qr)}const Yr=Array.from(this.markers);for(const Qr of Fr)this.markers.has(Qr)||(this.markers.add(Qr),Ur=!0);for(const Qr of Array.from(this.markers))Fr.includes(Qr)||(this.markers.remove(Qr),Ur=!0);Ur&&this.fire("change:marker",{oldMarkers:Yr,directChange:!1})}_updateMarker(Fr,Ur){const Yr=Fr.name.split(":",1)[0];if(!this._observedMarkers.has(Yr))return;let Qr=!1;const tn=Array.from(this.markers),sn=this.markers.has(Fr);if(Ur){let un=!1;for(const gn of this.getRanges())if(Ur.containsRange(gn,!gn.isCollapsed)){un=!0;break}un&&!sn?(this.markers.add(Fr),Qr=!0):!un&&sn&&(this.markers.remove(Fr),Qr=!0)}else sn&&(this.markers.remove(Fr),Qr=!0);Qr&&this.fire("change:marker",{oldMarkers:tn,directChange:!1})}_updateAttributes(Fr){const Ur=tl(this._getSurroundingAttributes()),Yr=tl(this.getAttributes());if(Fr)this._attributePriority=new Map,this._attrs=new Map;else for(const[tn,sn]of this._attributePriority)sn=="low"&&(this._attrs.delete(tn),this._attributePriority.delete(tn));this._setAttributesTo(Ur);const Qr=[];for(const[tn,sn]of this.getAttributes())Yr.has(tn)&&Yr.get(tn)===sn||Qr.push(tn);for(const[tn]of Yr)this.hasAttribute(tn)||Qr.push(tn);Qr.length>0&&this.fire("change:attribute",{attributeKeys:Qr,directChange:!1})}_setAttribute(Fr,Ur,Yr=!0){const Qr=Yr?"normal":"low";return Qr=="low"&&this._attributePriority.get(Fr)=="normal"?!1:super.getAttribute(Fr)!==Ur&&(this._attrs.set(Fr,Ur),this._attributePriority.set(Fr,Qr),!0)}_removeAttribute(Fr,Ur=!0){const Yr=Ur?"normal":"low";return(Yr!="low"||this._attributePriority.get(Fr)!="normal")&&(this._attributePriority.set(Fr,Yr),!!super.hasAttribute(Fr)&&(this._attrs.delete(Fr),!0))}_setAttributesTo(Fr){const Ur=new Set;for(const[Yr,Qr]of this.getAttributes())Fr.get(Yr)!==Qr&&this._removeAttribute(Yr,!1);for(const[Yr,Qr]of Fr)this._setAttribute(Yr,Qr,!1)&&Ur.add(Yr);return Ur}*getStoredAttributes(){const Fr=this.getFirstPosition().parent;if(this.isCollapsed&&Fr.isEmpty)for(const Ur of Fr.getAttributeKeys())Ur.startsWith(Pp)&&(yield[Ur.substr(10),Fr.getAttribute(Ur)])}_getSurroundingAttributes(){const Fr=this.getFirstPosition(),Ur=this._model.schema;let Yr=null;if(this.isCollapsed){const Qr=Fr.textNode?Fr.textNode:Fr.nodeBefore,tn=Fr.textNode?Fr.textNode:Fr.nodeAfter;if(this.isGravityOverridden||(Yr=Op(Qr,Ur)),Yr||(Yr=Op(tn,Ur)),!this.isGravityOverridden&&!Yr){let sn=Qr;for(;sn&&!Yr;)sn=sn.previousSibling,Yr=Op(sn,Ur)}if(!Yr){let sn=tn;for(;sn&&!Yr;)sn=sn.nextSibling,Yr=Op(sn,Ur)}Yr||(Yr=this.getStoredAttributes())}else{const Qr=this.getFirstRange();for(const tn of Qr){if(tn.item.is("element")&&Ur.isObject(tn.item))break;if(tn.type=="text"){Yr=tn.item.getAttributes();break}}}return Yr}_fixGraveyardSelection(Fr){const Ur=this._model.schema.getNearestSelectionRange(Fr);Ur&&this._pushRange(Ur)}}function Op(Xr,Fr){if(!Xr)return null;if(Xr instanceof Cu||Xr instanceof Gs)return Xr.getAttributes();if(!Fr.isInline(Xr))return null;if(!Fr.isObject(Xr))return[];const Ur=[];for(const[Yr,Qr]of Xr.getAttributes())Fr.checkAttribute("$text",Yr)&&Ur.push([Yr,Qr]);return Ur}class av{constructor(Fr){this._dispatchers=Fr}add(Fr){for(const Ur of this._dispatchers)Fr(Ur);return this}}class x1 extends av{elementToElement(Fr){return this.add(function(Ur){const Yr=cv(Ur.model),Qr=Uf(Ur.view,"container");return Yr.attributes.length&&(Yr.children=!0),tn=>{tn.on(`insert:${Yr.name}`,function(sn,un=D1){return(gn,kn,Cn)=>{if(!un(kn.item,Cn.consumable,{preflight:!0}))return;const Dn=sn(kn.item,Cn,kn);if(!Dn)return;un(kn.item,Cn.consumable);const Ln=Cn.mapper.toViewPosition(kn.range.start);Cn.mapper.bindElements(kn.item,Dn),Cn.writer.insert(Ln,Dn),Cn.convertAttributes(kn.item),pv(Dn,kn.item.getChildren(),Cn,{reconversion:kn.reconversion})}}(Qr,fv(Yr)),{priority:Ur.converterPriority||"normal"}),(Yr.children||Yr.attributes.length)&&tn.on("reduceChanges",hv(Yr),{priority:"low"})}}(Fr))}elementToStructure(Fr){return this.add(function(Ur){const Yr=cv(Ur.model),Qr=Uf(Ur.view,"container");return Yr.children=!0,tn=>{if(tn._conversionApi.schema.checkChild(Yr.name,"$text"))throw new wn("conversion-element-to-structure-disallowed-text",tn,{elementName:Yr.name});var sn,un;tn.on(`insert:${Yr.name}`,(sn=Qr,un=fv(Yr),(gn,kn,Cn)=>{if(!un(kn.item,Cn.consumable,{preflight:!0}))return;const Dn=new Map;Cn.writer._registerSlotFactory(function(Wn,Xn,ii){return(ui,Ti)=>{const Xi=ui.createContainerElement("$slot");let $o=null;if(Ti==="children")$o=Array.from(Wn.getChildren());else{if(typeof Ti!="function")throw new wn("conversion-slot-mode-unknown",ii.dispatcher,{modeOrFilter:Ti});$o=Array.from(Wn.getChildren()).filter(ya=>Ti(ya))}return Xn.set(Xi,$o),Xi}}(kn.item,Dn,Cn));const Ln=sn(kn.item,Cn,kn);if(Cn.writer._clearSlotFactory(),!Ln)return;(function(Wn,Xn,ii){const ui=Array.from(Xn.values()).flat(),Ti=new Set(ui);if(Ti.size!=ui.length)throw new wn("conversion-slot-filter-overlap",ii.dispatcher,{element:Wn});if(Ti.size!=Wn.childCount)throw new wn("conversion-slot-filter-incomplete",ii.dispatcher,{element:Wn})})(kn.item,Dn,Cn),un(kn.item,Cn.consumable);const zn=Cn.mapper.toViewPosition(kn.range.start);Cn.mapper.bindElements(kn.item,Ln),Cn.writer.insert(zn,Ln),Cn.convertAttributes(kn.item),function(Wn,Xn,ii,ui){ii.mapper.on("modelToViewPosition",$o,{priority:"highest"});let Ti=null,Xi=null;for([Ti,Xi]of Xn)pv(Wn,Xi,ii,ui),ii.writer.move(ii.writer.createRangeIn(Ti),ii.writer.createPositionBefore(Ti)),ii.writer.remove(Ti);function $o(ya,Ns){const ss=Ns.modelPosition.nodeAfter,ql=Xi.indexOf(ss);ql<0||(Ns.viewPosition=Ns.mapper.findPositionIn(Ti,ql))}ii.mapper.off("modelToViewPosition",$o)}(Ln,Dn,Cn,{reconversion:kn.reconversion})}),{priority:Ur.converterPriority||"normal"}),tn.on("reduceChanges",hv(Yr),{priority:"low"})}}(Fr))}attributeToElement(Fr){return this.add(function(Ur){Ur=Md(Ur);let Yr=Ur.model;typeof Yr=="string"&&(Yr={key:Yr});let Qr=`attribute:${Yr.key}`;if(Yr.name&&(Qr+=":"+Yr.name),Yr.values)for(const sn of Yr.values)Ur.view[sn]=Uf(Ur.view[sn],"attribute");else Ur.view=Uf(Ur.view,"attribute");const tn=uv(Ur);return sn=>{sn.on(Qr,function(un){return(gn,kn,Cn)=>{if(!Cn.consumable.test(kn.item,gn.name))return;const Dn=un(kn.attributeOldValue,Cn,kn),Ln=un(kn.attributeNewValue,Cn,kn);if(!Dn&&!Ln)return;Cn.consumable.consume(kn.item,gn.name);const zn=Cn.writer,Wn=zn.document.selection;if(kn.item instanceof jc||kn.item instanceof Su)zn.wrap(Wn.getFirstRange(),Ln);else{let Xn=Cn.mapper.toViewRange(kn.range);kn.attributeOldValue!==null&&Dn&&(Xn=zn.unwrap(Xn,Dn)),kn.attributeNewValue!==null&&Ln&&zn.wrap(Xn,Ln)}}}(tn),{priority:Ur.converterPriority||"normal"})}}(Fr))}attributeToAttribute(Fr){return this.add(function(Ur){Ur=Md(Ur);let Yr=Ur.model;typeof Yr=="string"&&(Yr={key:Yr});let Qr=`attribute:${Yr.key}`;if(Yr.name&&(Qr+=":"+Yr.name),Yr.values)for(const sn of Yr.values)Ur.view[sn]=dv(Ur.view[sn]);else Ur.view=dv(Ur.view);const tn=uv(Ur);return sn=>{var un;sn.on(Qr,(un=tn,(gn,kn,Cn)=>{if(!Cn.consumable.test(kn.item,gn.name))return;const Dn=un(kn.attributeOldValue,Cn,kn),Ln=un(kn.attributeNewValue,Cn,kn);if(!Dn&&!Ln)return;Cn.consumable.consume(kn.item,gn.name);const zn=Cn.mapper.toViewElement(kn.item),Wn=Cn.writer;if(!zn)throw new wn("conversion-attribute-to-attribute-on-text",Cn.dispatcher,kn);if(kn.attributeOldValue!==null&&Dn)if(Dn.key=="class"){const Xn=$l(Dn.value);for(const ii of Xn)Wn.removeClass(ii,zn)}else if(Dn.key=="style"){const Xn=Object.keys(Dn.value);for(const ii of Xn)Wn.removeStyle(ii,zn)}else Wn.removeAttribute(Dn.key,zn);if(kn.attributeNewValue!==null&&Ln)if(Ln.key=="class"){const Xn=$l(Ln.value);for(const ii of Xn)Wn.addClass(ii,zn)}else if(Ln.key=="style"){const Xn=Object.keys(Ln.value);for(const ii of Xn)Wn.setStyle(ii,Ln.value[ii],zn)}else Wn.setAttribute(Ln.key,Ln.value,zn)}),{priority:Ur.converterPriority||"normal"})}}(Fr))}markerToElement(Fr){return this.add(function(Ur){const Yr=Uf(Ur.view,"ui");return Qr=>{var tn;Qr.on(`addMarker:${Ur.model}`,(tn=Yr,(sn,un,gn)=>{un.isOpening=!0;const kn=tn(un,gn);un.isOpening=!1;const Cn=tn(un,gn);if(!kn||!Cn)return;const Dn=un.markerRange;if(Dn.isCollapsed&&!gn.consumable.consume(Dn,sn.name))return;for(const Wn of Dn)if(!gn.consumable.consume(Wn.item,sn.name))return;const Ln=gn.mapper,zn=gn.writer;zn.insert(Ln.toViewPosition(Dn.start),kn),gn.mapper.bindElementToMarker(kn,un.markerName),Dn.isCollapsed||(zn.insert(Ln.toViewPosition(Dn.end),Cn),gn.mapper.bindElementToMarker(Cn,un.markerName)),sn.stop()}),{priority:Ur.converterPriority||"normal"}),Qr.on(`removeMarker:${Ur.model}`,(sn,un,gn)=>{const kn=gn.mapper.markerNameToElements(un.markerName);if(kn){for(const Cn of kn)gn.mapper.unbindElementFromMarkerName(Cn,un.markerName),gn.writer.clear(gn.writer.createRangeOn(Cn),Cn);gn.writer.clearClonedElementsGroup(un.markerName),sn.stop()}},{priority:Ur.converterPriority||"normal"})}}(Fr))}markerToHighlight(Fr){return this.add(function(Ur){return Yr=>{var Qr;Yr.on(`addMarker:${Ur.model}`,(Qr=Ur.view,(tn,sn,un)=>{if(!sn.item||!(sn.item instanceof jc||sn.item instanceof Su||sn.item.is("$textProxy")))return;const gn=Ig(Qr,sn,un);if(!gn||!un.consumable.consume(sn.item,tn.name))return;const kn=un.writer,Cn=sv(kn,gn),Dn=kn.document.selection;if(sn.item instanceof jc||sn.item instanceof Su)kn.wrap(Dn.getFirstRange(),Cn);else{const Ln=un.mapper.toViewRange(sn.range),zn=kn.wrap(Ln,Cn);for(const Wn of zn.getItems())if(Wn.is("attributeElement")&&Wn.isSimilar(Cn)){un.mapper.bindElementToMarker(Wn,sn.markerName);break}}}),{priority:Ur.converterPriority||"normal"}),Yr.on(`addMarker:${Ur.model}`,function(tn){return(sn,un,gn)=>{if(!un.item||!(un.item instanceof Rs))return;const kn=Ig(tn,un,gn);if(!kn||!gn.consumable.test(un.item,sn.name))return;const Cn=gn.mapper.toViewElement(un.item);if(Cn&&Cn.getCustomProperty("addHighlight")){gn.consumable.consume(un.item,sn.name);for(const Dn of Ui._createIn(un.item))gn.consumable.consume(Dn.item,sn.name);Cn.getCustomProperty("addHighlight")(Cn,kn,gn.writer),gn.mapper.bindElementToMarker(Cn,un.markerName)}}}(Ur.view),{priority:Ur.converterPriority||"normal"}),Yr.on(`removeMarker:${Ur.model}`,function(tn){return(sn,un,gn)=>{if(un.markerRange.isCollapsed)return;const kn=Ig(tn,un,gn);if(!kn)return;const Cn=sv(gn.writer,kn),Dn=gn.mapper.markerNameToElements(un.markerName);if(Dn){for(const Ln of Dn)gn.mapper.unbindElementFromMarkerName(Ln,un.markerName),Ln.is("attributeElement")?gn.writer.unwrap(gn.writer.createRangeOn(Ln),Cn):Ln.getCustomProperty("removeHighlight")(Ln,kn.id,gn.writer);gn.writer.clearClonedElementsGroup(un.markerName),sn.stop()}}}(Ur.view),{priority:Ur.converterPriority||"normal"})}}(Fr))}markerToData(Fr){return this.add(function(Ur){Ur=Md(Ur);const Yr=Ur.model;let Qr=Ur.view;return Qr||(Qr=tn=>({group:Yr,name:tn.substr(Ur.model.length+1)})),tn=>{var sn;tn.on(`addMarker:${Yr}`,(sn=Qr,(un,gn,kn)=>{const Cn=sn(gn.markerName,kn);if(!Cn)return;const Dn=gn.markerRange;kn.consumable.consume(Dn,un.name)&&(lv(Dn,!1,kn,gn,Cn),lv(Dn,!0,kn,gn,Cn),un.stop())}),{priority:Ur.converterPriority||"normal"}),tn.on(`removeMarker:${Yr}`,function(un){return(gn,kn,Cn)=>{const Dn=un(kn.markerName,Cn);if(!Dn)return;const Ln=Cn.mapper.markerNameToElements(kn.markerName);if(Ln){for(const Wn of Ln)Cn.mapper.unbindElementFromMarkerName(Wn,kn.markerName),Wn.is("containerElement")?(zn(`data-${Dn.group}-start-before`,Wn),zn(`data-${Dn.group}-start-after`,Wn),zn(`data-${Dn.group}-end-before`,Wn),zn(`data-${Dn.group}-end-after`,Wn)):Cn.writer.clear(Cn.writer.createRangeOn(Wn),Wn);Cn.writer.clearClonedElementsGroup(kn.markerName),gn.stop()}function zn(Wn,Xn){if(Xn.hasAttribute(Wn)){const ii=new Set(Xn.getAttribute(Wn).split(","));ii.delete(Dn.name),ii.size==0?Cn.writer.removeAttribute(Wn,Xn):Cn.writer.setAttribute(Wn,Array.from(ii).join(","),Xn)}}}}(Qr),{priority:Ur.converterPriority||"normal"})}}(Fr))}}function sv(Xr,Fr){const Ur=Xr.createAttributeElement("span",Fr.attributes);return Fr.classes&&Ur._addClass(Fr.classes),typeof Fr.priority=="number"&&(Ur._priority=Fr.priority),Ur._id=Fr.id,Ur}function lv(Xr,Fr,Ur,Yr,Qr){const tn=Fr?Xr.start:Xr.end,sn=tn.nodeAfter&&tn.nodeAfter.is("element")?tn.nodeAfter:null,un=tn.nodeBefore&&tn.nodeBefore.is("element")?tn.nodeBefore:null;if(sn||un){let gn,kn;Fr&&sn||!Fr&&!un?(gn=sn,kn=!0):(gn=un,kn=!1);const Cn=Ur.mapper.toViewElement(gn);if(Cn)return void function(Dn,Ln,zn,Wn,Xn,ii){const ui=`data-${ii.group}-${Ln?"start":"end"}-${zn?"before":"after"}`,Ti=Dn.hasAttribute(ui)?Dn.getAttribute(ui).split(","):[];Ti.unshift(ii.name),Wn.writer.setAttribute(ui,Ti.join(","),Dn),Wn.mapper.bindElementToMarker(Dn,Xn.markerName)}(Cn,Fr,kn,Ur,Yr,Qr)}(function(gn,kn,Cn,Dn,Ln){const zn=`${Ln.group}-${kn?"start":"end"}`,Wn=Ln.name?{name:Ln.name}:null,Xn=Cn.writer.createUIElement(zn,Wn);Cn.writer.insert(gn,Xn),Cn.mapper.bindElementToMarker(Xn,Dn.markerName)})(Ur.mapper.toViewPosition(tn),Fr,Ur,Yr,Qr)}function cv(Xr){return typeof Xr=="string"&&(Xr={name:Xr}),Xr.attributes?Array.isArray(Xr.attributes)||(Xr.attributes=[Xr.attributes]):Xr.attributes=[],Xr.children=!!Xr.children,Xr}function Uf(Xr,Fr){return typeof Xr=="function"?Xr:(Ur,Yr)=>function(Qr,tn,sn){typeof Qr=="string"&&(Qr={name:Qr});let un;const gn=tn.writer,kn=Object.assign({},Qr.attributes);if(sn=="container")un=gn.createContainerElement(Qr.name,kn);else if(sn=="attribute"){const Cn={priority:Qr.priority||sd.DEFAULT_PRIORITY};un=gn.createAttributeElement(Qr.name,kn,Cn)}else un=gn.createUIElement(Qr.name,kn);if(Qr.styles){const Cn=Object.keys(Qr.styles);for(const Dn of Cn)gn.setStyle(Dn,Qr.styles[Dn],un)}if(Qr.classes){const Cn=Qr.classes;if(typeof Cn=="string")gn.addClass(Cn,un);else for(const Dn of Cn)gn.addClass(Dn,un)}return un}(Xr,Yr,Fr)}function uv(Xr){return Xr.model.values?(Fr,Ur,Yr)=>{const Qr=Xr.view[Fr];return Qr?Qr(Fr,Ur,Yr):null}:Xr.view}function dv(Xr){return typeof Xr=="string"?Fr=>({key:Xr,value:Fr}):typeof Xr=="object"?Xr.value?()=>Xr:Fr=>({key:Xr.key,value:Fr}):Xr}function Ig(Xr,Fr,Ur){const Yr=typeof Xr=="function"?Xr(Fr,Ur):Xr;return Yr?(Yr.priority||(Yr.priority=10),Yr.id||(Yr.id=Fr.markerName),Yr):null}function hv(Xr){const Fr=function(Ur){return(Yr,Qr)=>{if(!Yr.is("element",Ur.name))return!1;if(Qr.type=="attribute"){if(Ur.attributes.includes(Qr.attributeKey))return!0}else if(Ur.children)return!0;return!1}}(Xr);return(Ur,Yr)=>{const Qr=[];Yr.reconvertedElements||(Yr.reconvertedElements=new Set);for(const tn of Yr.changes){const sn=tn.type=="attribute"?tn.range.start.nodeAfter:tn.position.parent;if(sn&&Fr(sn,tn)){if(!Yr.reconvertedElements.has(sn)){Yr.reconvertedElements.add(sn);const un=co._createBefore(sn);let gn=Qr.length;for(let kn=Qr.length-1;kn>=0;kn--){const Cn=Qr[kn],Dn=(Cn.type=="attribute"?Cn.range.start:Cn.position).compareWith(un);if(Dn=="before"||Cn.type=="remove"&&Dn=="same")break;gn=kn}Qr.splice(gn,0,{type:"remove",name:sn.name,position:un,length:1},{type:"reinsert",name:sn.name,position:un,length:1})}}else Qr.push(tn)}Yr.changes=Qr}}function fv(Xr){return(Fr,Ur,Yr={})=>{const Qr=["insert"];for(const tn of Xr.attributes)Fr.hasAttribute(tn)&&Qr.push(`attribute:${tn}`);return!!Qr.every(tn=>Ur.test(Fr,tn))&&(Yr.preflight||Qr.forEach(tn=>Ur.consume(Fr,tn)),!0)}}function pv(Xr,Fr,Ur,Yr){for(const Qr of Fr)S1(Xr.root,Qr,Ur,Yr)||Ur.convertItem(Qr)}function S1(Xr,Fr,Ur,Yr){const{writer:Qr,mapper:tn}=Ur;if(!Yr.reconversion)return!1;const sn=tn.toViewElement(Fr);return!(!sn||sn.root==Xr)&&!!Ur.canReuseView(sn)&&(Qr.move(Qr.createRangeOn(sn),tn.toViewPosition(co._createBefore(Fr))),!0)}function D1(Xr,Fr,{preflight:Ur}={}){return Ur?Fr.test(Xr,"insert"):Fr.consume(Xr,"insert")}function gv(Xr){const{schema:Fr,document:Ur}=Xr.model;for(const Yr of Ur.getRootNames()){const Qr=Ur.getRoot(Yr);if(Qr.isEmpty&&!Fr.checkChild(Qr,"$text")&&Fr.checkChild(Qr,"paragraph"))return Xr.insertElement("paragraph",Qr),!0}return!1}function mv(Xr,Fr,Ur){const Yr=Ur.createContext(Xr);return!!Ur.checkChild(Yr,"paragraph")&&!!Ur.checkChild(Yr.push("paragraph"),Fr)}function vv(Xr,Fr){const Ur=Fr.createElement("paragraph");return Fr.insert(Ur,Xr),Fr.createPositionAt(Ur,0)}var E1=Object.defineProperty,T1=Object.defineProperties,M1=Object.getOwnPropertyDescriptors,yv=Object.getOwnPropertySymbols,I1=Object.prototype.hasOwnProperty,L1=Object.prototype.propertyIsEnumerable,bv=(Xr,Fr,Ur)=>Fr in Xr?E1(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur;class P1 extends av{elementToElement(Fr){return this.add(_v(Fr))}elementToAttribute(Fr){return this.add(function(Ur){Ur=Md(Ur),wv(Ur);const Yr=kv(Ur,!1),Qr=Lg(Ur.view),tn=Qr?`element:${Qr}`:"element";return sn=>{sn.on(tn,Yr,{priority:Ur.converterPriority||"low"})}}(Fr))}attributeToAttribute(Fr){return this.add(function(Ur){Ur=Md(Ur);let Yr=null;(typeof Ur.view=="string"||Ur.view.key)&&(Yr=function(tn){typeof tn.view=="string"&&(tn.view={key:tn.view});const sn=tn.view.key;let un;return sn=="class"||sn=="style"?un={[sn=="class"?"classes":"styles"]:tn.view.value}:un={attributes:{[sn]:tn.view.value===void 0?/[\s\S]*/:tn.view.value}},tn.view.name&&(un.name=tn.view.name),tn.view=un,sn}(Ur)),wv(Ur,Yr);const Qr=kv(Ur,!0);return tn=>{tn.on("element",Qr,{priority:Ur.converterPriority||"low"})}}(Fr))}elementToMarker(Fr){return this.add(function(Ur){const Yr=function(sn){return(un,gn)=>{const kn=typeof sn=="string"?sn:sn(un,gn);return gn.writer.createElement("$marker",{"data-name":kn})}}(Ur.model);return _v((Qr=((sn,un)=>{for(var gn in un||(un={}))I1.call(un,gn)&&bv(sn,gn,un[gn]);if(yv)for(var gn of yv(un))L1.call(un,gn)&&bv(sn,gn,un[gn]);return sn})({},Ur),tn={model:Yr},T1(Qr,M1(tn))));var Qr,tn}(Fr))}dataToMarker(Fr){return this.add(function(Ur){Ur=Md(Ur),Ur.model||(Ur.model=sn=>sn?Ur.view+":"+sn:Ur.view);const Yr={view:Ur.view,model:Ur.model},Qr=Pg(Av(Yr,"start")),tn=Pg(Av(Yr,"end"));return sn=>{sn.on(`element:${Ur.view}-start`,Qr,{priority:Ur.converterPriority||"normal"}),sn.on(`element:${Ur.view}-end`,tn,{priority:Ur.converterPriority||"normal"});const un=An.low,gn=An.highest,kn=An.get(Ur.converterPriority)/gn;sn.on("element",function(Cn){return(Dn,Ln,zn)=>{const Wn=`data-${Cn.view}`;function Xn(ii,ui){for(const Ti of ui){const Xi=Cn.model(Ti,zn),$o=zn.writer.createElement("$marker",{"data-name":Xi});zn.writer.insert($o,ii),Ln.modelCursor.isEqual(ii)?Ln.modelCursor=Ln.modelCursor.getShiftedBy(1):Ln.modelCursor=Ln.modelCursor._getTransformedByInsertion(ii,1),Ln.modelRange=Ln.modelRange._getTransformedByInsertion(ii,1)[0]}}(zn.consumable.test(Ln.viewItem,{attributes:Wn+"-end-after"})||zn.consumable.test(Ln.viewItem,{attributes:Wn+"-start-after"})||zn.consumable.test(Ln.viewItem,{attributes:Wn+"-end-before"})||zn.consumable.test(Ln.viewItem,{attributes:Wn+"-start-before"}))&&(Ln.modelRange||Object.assign(Ln,zn.convertChildren(Ln.viewItem,Ln.modelCursor)),zn.consumable.consume(Ln.viewItem,{attributes:Wn+"-end-after"})&&Xn(Ln.modelRange.end,Ln.viewItem.getAttribute(Wn+"-end-after").split(",")),zn.consumable.consume(Ln.viewItem,{attributes:Wn+"-start-after"})&&Xn(Ln.modelRange.end,Ln.viewItem.getAttribute(Wn+"-start-after").split(",")),zn.consumable.consume(Ln.viewItem,{attributes:Wn+"-end-before"})&&Xn(Ln.modelRange.start,Ln.viewItem.getAttribute(Wn+"-end-before").split(",")),zn.consumable.consume(Ln.viewItem,{attributes:Wn+"-start-before"})&&Xn(Ln.modelRange.start,Ln.viewItem.getAttribute(Wn+"-start-before").split(",")))}}(Yr),{priority:un+kn})}}(Fr))}}function _v(Xr){const Fr=Pg(Xr=Md(Xr)),Ur=Lg(Xr.view),Yr=Ur?`element:${Ur}`:"element";return Qr=>{Qr.on(Yr,Fr,{priority:Xr.converterPriority||"normal"})}}function Lg(Xr){return typeof Xr=="string"?Xr:typeof Xr=="object"&&typeof Xr.name=="string"?Xr.name:null}function Pg(Xr){const Fr=new zc(Xr.view);return(Ur,Yr,Qr)=>{const tn=Fr.match(Yr.viewItem);if(!tn)return;const sn=tn.match;if(sn.name=!0,!Qr.consumable.test(Yr.viewItem,sn))return;const un=function(gn,kn,Cn){return gn instanceof Function?gn(kn,Cn):Cn.writer.createElement(gn)}(Xr.model,Yr.viewItem,Qr);un&&Qr.safeInsert(un,Yr.modelCursor)&&(Qr.consumable.consume(Yr.viewItem,sn),Qr.convertChildren(Yr.viewItem,un),Qr.updateConversionResult(un,Yr))}}function wv(Xr,Fr=null){const Ur=Fr===null||(tn=>tn.getAttribute(Fr)),Yr=typeof Xr.model!="object"?Xr.model:Xr.model.key,Qr=typeof Xr.model!="object"||Xr.model.value===void 0?Ur:Xr.model.value;Xr.model={key:Yr,value:Qr}}function kv(Xr,Fr){const Ur=new zc(Xr.view);return(Yr,Qr,tn)=>{if(!Qr.modelRange&&Fr)return;const sn=Ur.match(Qr.viewItem);if(!sn||(function(Cn,Dn){const Ln=typeof Cn=="function"?Cn(Dn):Cn;return typeof Ln=="object"&&!Lg(Ln)?!1:!Ln.classes&&!Ln.attributes&&!Ln.styles}(Xr.view,Qr.viewItem)?sn.match.name=!0:delete sn.match.name,!tn.consumable.test(Qr.viewItem,sn.match)))return;const un=Xr.model.key,gn=typeof Xr.model.value=="function"?Xr.model.value(Qr.viewItem,tn):Xr.model.value;if(gn===null)return;Qr.modelRange||Object.assign(Qr,tn.convertChildren(Qr.viewItem,Qr.modelCursor)),function(Cn,Dn,Ln,zn){let Wn=!1;for(const Xn of Array.from(Cn.getItems({shallow:Ln})))zn.schema.checkAttribute(Xn,Dn.key)&&(Wn=!0,Xn.hasAttribute(Dn.key)||zn.writer.setAttribute(Dn.key,Dn.value,Xn));return Wn}(Qr.modelRange,{key:un,value:gn},Fr,tn)&&(tn.consumable.test(Qr.viewItem,{name:!0})&&(sn.match.name=!0),tn.consumable.consume(Qr.viewItem,sn.match))}}function Av(Xr,Fr){return{view:`${Xr.view}-${Fr}`,model:(Ur,Yr)=>{const Qr=Ur.getAttribute("name"),tn=Xr.model(Qr,Yr);return Yr.writer.createElement("$marker",{"data-name":tn})}}}function O1(Xr){Xr.document.registerPostFixer(Fr=>function(Ur,Yr){const Qr=Yr.document.selection,tn=Yr.schema,sn=[];let un=!1;for(const gn of Qr.getRanges()){const kn=Cv(gn,tn);kn&&!kn.isEqual(gn)?(sn.push(kn),un=!0):sn.push(gn)}return un&&Ur.setSelection(function(gn){const kn=[...gn],Cn=new Set;let Dn=1;for(;Dn<kn.length;){const Ln=kn[Dn],zn=kn.slice(0,Dn);for(const[Wn,Xn]of zn.entries())if(!Cn.has(Wn)){if(Ln.isEqual(Xn))Cn.add(Wn);else if(Ln.isIntersecting(Xn)){Cn.add(Wn),Cn.add(Dn);const ii=Ln.getJoined(Xn);kn.push(ii)}}Dn++}return kn.filter((Ln,zn)=>!Cn.has(zn))}(sn),{backward:Qr.isBackward}),!1}(Fr,Xr))}function Cv(Xr,Fr){return Xr.isCollapsed?function(Ur,Yr){const Qr=Ur.start,tn=Yr.getNearestSelectionRange(Qr);if(!tn){const un=Qr.getAncestors().reverse().find(gn=>Yr.isObject(gn));return un?Ui._createOn(un):null}if(!tn.isCollapsed)return tn;const sn=tn.start;return Qr.isEqual(sn)?null:new Ui(sn)}(Xr,Fr):function(Ur,Yr){const{start:Qr,end:tn}=Ur,sn=Yr.checkChild(Qr,"$text"),un=Yr.checkChild(tn,"$text"),gn=Yr.getLimitElement(Qr),kn=Yr.getLimitElement(tn);if(gn===kn){if(sn&&un)return null;if(function(Ln,zn,Wn){const Xn=Ln.nodeAfter&&!Wn.isLimit(Ln.nodeAfter)||Wn.checkChild(Ln,"$text"),ii=zn.nodeBefore&&!Wn.isLimit(zn.nodeBefore)||Wn.checkChild(zn,"$text");return Xn||ii}(Qr,tn,Yr)){const Ln=Qr.nodeAfter&&Yr.isSelectable(Qr.nodeAfter)?null:Yr.getNearestSelectionRange(Qr,"forward"),zn=tn.nodeBefore&&Yr.isSelectable(tn.nodeBefore)?null:Yr.getNearestSelectionRange(tn,"backward"),Wn=Ln?Ln.start:Qr,Xn=zn?zn.end:tn;return new Ui(Wn,Xn)}}const Cn=gn&&!gn.is("rootElement"),Dn=kn&&!kn.is("rootElement");if(Cn||Dn){const Ln=Qr.nodeAfter&&tn.nodeBefore&&Qr.nodeAfter.parent===tn.nodeBefore.parent,zn=Cn&&(!Ln||!Sv(Qr.nodeAfter,Yr)),Wn=Dn&&(!Ln||!Sv(tn.nodeBefore,Yr));let Xn=Qr,ii=tn;return zn&&(Xn=co._createBefore(xv(gn,Yr))),Wn&&(ii=co._createAfter(xv(kn,Yr))),new Ui(Xn,ii)}return null}(Xr,Fr)}function xv(Xr,Fr){let Ur=Xr,Yr=Ur;for(;Fr.isLimit(Yr)&&Yr.parent;)Ur=Yr,Yr=Yr.parent;return Ur}function Sv(Xr,Fr){return Xr&&Fr.isSelectable(Xr)}class R1 extends Zi(){constructor(Fr,Ur){super(),this.model=Fr,this.view=new u1(Ur),this.mapper=new Qm,this.downcastDispatcher=new rv({mapper:this.mapper,schema:Fr.schema});const Yr=this.model.document,Qr=Yr.selection,tn=this.model.markers;var sn,un,gn;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(Yr,"change",()=>{this.view.change(kn=>{this.downcastDispatcher.convertChanges(Yr.differ,tn,kn),this.downcastDispatcher.convertSelection(Qr,tn,kn)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(kn,Cn){return(Dn,Ln)=>{const zn=Ln.newSelection,Wn=[];for(const ii of zn.getRanges())Wn.push(Cn.toModelRange(ii));const Xn=kn.createSelection(Wn,{backward:zn.isBackward});Xn.isEqual(kn.document.selection)||kn.change(ii=>{ii.setSelection(Xn)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(sn=this.mapper,un=this.model.schema,gn=this.view,(kn,Cn)=>{if(!gn.document.isComposing||Kr.isAndroid)for(let Dn=0;Dn<Cn.targetRanges.length;Dn++){const Ln=Cn.targetRanges[Dn],zn=sn.toModelRange(Ln),Wn=Cv(zn,un);Wn&&!Wn.isEqual(zn)&&(Cn.targetRanges[Dn]=sn.toViewRange(Wn))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(kn,Cn,Dn)=>{if(!Dn.consumable.consume(Cn.item,kn.name))return;const Ln=Dn.writer,zn=Dn.mapper.toViewPosition(Cn.range.start),Wn=Ln.createText(Cn.item.data);Ln.insert(zn,Wn)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(kn,Cn,Dn)=>{Dn.convertAttributes(Cn.item),Cn.reconversion||!Cn.item.is("element")||Cn.item.isEmpty||Dn.convertChildren(Cn.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(kn,Cn,Dn)=>{const Ln=Dn.mapper.toViewPosition(Cn.position),zn=Cn.position.getShiftedBy(Cn.length),Wn=Dn.mapper.toViewPosition(zn,{isPhantom:!0}),Xn=Dn.writer.createRange(Ln,Wn),ii=Dn.writer.remove(Xn.getTrimmed());for(const ui of Dn.writer.createRangeIn(ii).getItems())Dn.mapper.unbindViewElement(ui,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(kn,Cn,Dn)=>{const Ln=Dn.writer,zn=Ln.document.selection;for(const Wn of zn.getRanges())Wn.isCollapsed&&Wn.end.parent.isAttached()&&Dn.writer.mergeAttributes(Wn.start);Ln.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(kn,Cn,Dn)=>{const Ln=Cn.selection;if(Ln.isCollapsed||!Dn.consumable.consume(Ln,"selection"))return;const zn=[];for(const Wn of Ln.getRanges())zn.push(Dn.mapper.toViewRange(Wn));Dn.writer.setSelection(zn,{backward:Ln.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(kn,Cn,Dn)=>{const Ln=Cn.selection;if(!Ln.isCollapsed||!Dn.consumable.consume(Ln,"selection"))return;const zn=Dn.writer,Wn=Ln.getFirstPosition(),Xn=Dn.mapper.toViewPosition(Wn),ii=zn.breakAttributes(Xn);zn.setSelection(ii)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(kn=>{if(kn.rootName=="$graveyard")return null;const Cn=new xp(this.view.document,kn.name);return Cn.rootName=kn.rootName,this.mapper.bindElements(kn,Cn),Cn})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(Fr){const Ur=typeof Fr=="string"?Fr:Fr.name,Yr=this.model.markers.get(Ur);if(!Yr)throw new wn("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:Ur});this.model.change(()=>{this.model.markers._refresh(Yr)})}reconvertItem(Fr){this.model.change(()=>{this.model.document.differ._refreshItem(Fr)})}}class Gf{constructor(){this._consumables=new Map}add(Fr,Ur){let Yr;Fr.is("$text")||Fr.is("documentFragment")?this._consumables.set(Fr,!0):(this._consumables.has(Fr)?Yr=this._consumables.get(Fr):(Yr=new $1(Fr),this._consumables.set(Fr,Yr)),Yr.add(Ur))}test(Fr,Ur){const Yr=this._consumables.get(Fr);return Yr===void 0?null:Fr.is("$text")||Fr.is("documentFragment")?Yr:Yr.test(Ur)}consume(Fr,Ur){return!!this.test(Fr,Ur)&&(Fr.is("$text")||Fr.is("documentFragment")?this._consumables.set(Fr,!1):this._consumables.get(Fr).consume(Ur),!0)}revert(Fr,Ur){const Yr=this._consumables.get(Fr);Yr!==void 0&&(Fr.is("$text")||Fr.is("documentFragment")?this._consumables.set(Fr,!0):Yr.revert(Ur))}static consumablesFromElement(Fr){const Ur={element:Fr,name:!0,attributes:[],classes:[],styles:[]},Yr=Fr.getAttributeKeys();for(const sn of Yr)sn!="style"&&sn!="class"&&Ur.attributes.push(sn);const Qr=Fr.getClassNames();for(const sn of Qr)Ur.classes.push(sn);const tn=Fr.getStyleNames();for(const sn of tn)Ur.styles.push(sn);return Ur}static createFrom(Fr,Ur){if(Ur||(Ur=new Gf),Fr.is("$text"))return Ur.add(Fr),Ur;Fr.is("element")&&Ur.add(Fr,Gf.consumablesFromElement(Fr)),Fr.is("documentFragment")&&Ur.add(Fr);for(const Yr of Fr.getChildren())Ur=Gf.createFrom(Yr,Ur);return Ur}}const Rp=["attributes","classes","styles"];class $1{constructor(Fr){this.element=Fr,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(Fr){Fr.name&&(this._canConsumeName=!0);for(const Ur of Rp)Ur in Fr&&this._add(Ur,Fr[Ur])}test(Fr){if(Fr.name&&!this._canConsumeName)return this._canConsumeName;for(const Ur of Rp)if(Ur in Fr){const Yr=this._test(Ur,Fr[Ur]);if(Yr!==!0)return Yr}return!0}consume(Fr){Fr.name&&(this._canConsumeName=!1);for(const Ur of Rp)Ur in Fr&&this._consume(Ur,Fr[Ur])}revert(Fr){Fr.name&&(this._canConsumeName=!0);for(const Ur of Rp)Ur in Fr&&this._revert(Ur,Fr[Ur])}_add(Fr,Ur){const Yr=Po(Ur)?Ur:[Ur],Qr=this._consumables[Fr];for(const tn of Yr){if(Fr==="attributes"&&(tn==="class"||tn==="style"))throw new wn("viewconsumable-invalid-attribute",this);if(Qr.set(tn,!0),Fr==="styles")for(const sn of this.element.document.stylesProcessor.getRelatedStyles(tn))Qr.set(sn,!0)}}_test(Fr,Ur){const Yr=Po(Ur)?Ur:[Ur],Qr=this._consumables[Fr];for(const tn of Yr)if(Fr!=="attributes"||tn!=="class"&&tn!=="style"){const sn=Qr.get(tn);if(sn===void 0)return null;if(!sn)return!1}else{const sn=tn=="class"?"classes":"styles",un=this._test(sn,[...this._consumables[sn].keys()]);if(un!==!0)return un}return!0}_consume(Fr,Ur){const Yr=Po(Ur)?Ur:[Ur],Qr=this._consumables[Fr];for(const tn of Yr)if(Fr!=="attributes"||tn!=="class"&&tn!=="style"){if(Qr.set(tn,!1),Fr=="styles")for(const sn of this.element.document.stylesProcessor.getRelatedStyles(tn))Qr.set(sn,!1)}else{const sn=tn=="class"?"classes":"styles";this._consume(sn,[...this._consumables[sn].keys()])}}_revert(Fr,Ur){const Yr=Po(Ur)?Ur:[Ur],Qr=this._consumables[Fr];for(const tn of Yr)if(Fr!=="attributes"||tn!=="class"&&tn!=="style")Qr.get(tn)===!1&&Qr.set(tn,!0);else{const sn=tn=="class"?"classes":"styles";this._revert(sn,[...this._consumables[sn].keys()])}}}class N1 extends Zi(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(Fr,Ur)=>{Ur[0]=new lh(Ur[0])},{priority:"highest"}),this.on("checkChild",(Fr,Ur)=>{Ur[0]=new lh(Ur[0]),Ur[1]=this.getDefinition(Ur[1])},{priority:"highest"})}register(Fr,Ur){if(this._sourceDefinitions[Fr])throw new wn("schema-cannot-register-item-twice",this,{itemName:Fr});this._sourceDefinitions[Fr]=[Object.assign({},Ur)],this._clearCache()}extend(Fr,Ur){if(!this._sourceDefinitions[Fr])throw new wn("schema-cannot-extend-missing-item",this,{itemName:Fr});this._sourceDefinitions[Fr].push(Object.assign({},Ur)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(Fr){let Ur;return Ur=typeof Fr=="string"?Fr:"is"in Fr&&(Fr.is("$text")||Fr.is("$textProxy"))?"$text":Fr.name,this.getDefinitions()[Ur]}isRegistered(Fr){return!!this.getDefinition(Fr)}isBlock(Fr){const Ur=this.getDefinition(Fr);return!(!Ur||!Ur.isBlock)}isLimit(Fr){const Ur=this.getDefinition(Fr);return!!Ur&&!(!Ur.isLimit&&!Ur.isObject)}isObject(Fr){const Ur=this.getDefinition(Fr);return!!Ur&&!!(Ur.isObject||Ur.isLimit&&Ur.isSelectable&&Ur.isContent)}isInline(Fr){const Ur=this.getDefinition(Fr);return!(!Ur||!Ur.isInline)}isSelectable(Fr){const Ur=this.getDefinition(Fr);return!!Ur&&!(!Ur.isSelectable&&!Ur.isObject)}isContent(Fr){const Ur=this.getDefinition(Fr);return!!Ur&&!(!Ur.isContent&&!Ur.isObject)}checkChild(Fr,Ur){return!!Ur&&this._checkContextMatch(Ur,Fr)}checkAttribute(Fr,Ur){const Yr=this.getDefinition(Fr.last);return!!Yr&&Yr.allowAttributes.includes(Ur)}checkMerge(Fr,Ur){if(Fr instanceof co){const Yr=Fr.nodeBefore,Qr=Fr.nodeAfter;if(!(Yr instanceof Rs))throw new wn("schema-check-merge-no-element-before",this);if(!(Qr instanceof Rs))throw new wn("schema-check-merge-no-element-after",this);return this.checkMerge(Yr,Qr)}for(const Yr of Ur.getChildren())if(!this.checkChild(Fr,Yr))return!1;return!0}addChildCheck(Fr){this.on("checkChild",(Ur,[Yr,Qr])=>{if(!Qr)return;const tn=Fr(Yr,Qr);typeof tn=="boolean"&&(Ur.stop(),Ur.return=tn)},{priority:"high"})}addAttributeCheck(Fr){this.on("checkAttribute",(Ur,[Yr,Qr])=>{const tn=Fr(Yr,Qr);typeof tn=="boolean"&&(Ur.stop(),Ur.return=tn)},{priority:"high"})}setAttributeProperties(Fr,Ur){this._attributeProperties[Fr]=Object.assign(this.getAttributeProperties(Fr),Ur)}getAttributeProperties(Fr){return this._attributeProperties[Fr]||{}}getLimitElement(Fr){let Ur;for(Fr instanceof co?Ur=Fr.parent:Ur=(Fr instanceof Ui?[Fr]:Array.from(Fr.getRanges())).reduce((Yr,Qr)=>{const tn=Qr.getCommonAncestor();return Yr?Yr.getCommonAncestor(tn,{includeSelf:!0}):tn},null);!this.isLimit(Ur)&&Ur.parent;)Ur=Ur.parent;return Ur}checkAttributeInSelection(Fr,Ur){if(Fr.isCollapsed){const Yr=[...Fr.getFirstPosition().getAncestors(),new Gs("",Fr.getAttributes())];return this.checkAttribute(Yr,Ur)}{const Yr=Fr.getRanges();for(const Qr of Yr)for(const tn of Qr)if(this.checkAttribute(tn.item,Ur))return!0}return!1}*getValidRanges(Fr,Ur){Fr=function*(Yr){for(const Qr of Yr)yield*Qr.getMinimalFlatRanges()}(Fr);for(const Yr of Fr)yield*this._getValidRangesForRange(Yr,Ur)}getNearestSelectionRange(Fr,Ur="both"){if(this.checkChild(Fr,"$text"))return new Ui(Fr);let Yr,Qr;const tn=Fr.getAncestors().reverse().find(sn=>this.isLimit(sn))||Fr.root;Ur!="both"&&Ur!="backward"||(Yr=new Uu({boundaries:Ui._createIn(tn),startPosition:Fr,direction:"backward"})),Ur!="both"&&Ur!="forward"||(Qr=new Uu({boundaries:Ui._createIn(tn),startPosition:Fr}));for(const sn of function*(un,gn){let kn=!1;for(;!kn;){if(kn=!0,un){const Cn=un.next();Cn.done||(kn=!1,yield{walker:un,value:Cn.value})}if(gn){const Cn=gn.next();Cn.done||(kn=!1,yield{walker:gn,value:Cn.value})}}}(Yr,Qr)){const un=sn.walker==Yr?"elementEnd":"elementStart",gn=sn.value;if(gn.type==un&&this.isObject(gn.item))return Ui._createOn(gn.item);if(this.checkChild(gn.nextPosition,"$text"))return new Ui(gn.nextPosition)}return null}findAllowedParent(Fr,Ur){let Yr=Fr.parent;for(;Yr;){if(this.checkChild(Yr,Ur))return Yr;if(this.isLimit(Yr))return null;Yr=Yr.parent}return null}setAllowedAttributes(Fr,Ur,Yr){const Qr=Yr.model;for(const[tn,sn]of Object.entries(Ur))Qr.schema.checkAttribute(Fr,tn)&&Yr.setAttribute(tn,sn,Fr)}removeDisallowedAttributes(Fr,Ur){for(const Yr of Fr)if(Yr.is("$text"))Dv(this,Yr,Ur);else{const Qr=Ui._createIn(Yr).getPositions();for(const tn of Qr)Dv(this,tn.nodeBefore||tn.parent,Ur)}}getAttributesWithProperty(Fr,Ur,Yr){const Qr={};for(const[tn,sn]of Fr.getAttributes()){const un=this.getAttributeProperties(tn);un[Ur]!==void 0&&(Yr!==void 0&&Yr!==un[Ur]||(Qr[tn]=sn))}return Qr}createContext(Fr){return new lh(Fr)}_clearCache(){this._compiledDefinitions=null}_compile(){const Fr={},Ur=this._sourceDefinitions,Yr=Object.keys(Ur);for(const Qr of Yr)Fr[Qr]=B1(Ur[Qr],Qr);for(const Qr of Yr)F1(Fr,Qr);for(const Qr of Yr)z1(Fr,Qr);for(const Qr of Yr)H1(Fr,Qr);for(const Qr of Yr)V1(Fr,Qr),j1(Fr,Qr);for(const Qr of Yr)U1(Fr,Qr),G1(Fr,Qr),W1(Fr,Qr);this._compiledDefinitions=Fr}_checkContextMatch(Fr,Ur,Yr=Ur.length-1){const Qr=Ur.getItem(Yr);if(Fr.allowIn.includes(Qr.name)){if(Yr==0)return!0;{const tn=this.getDefinition(Qr);return this._checkContextMatch(tn,Ur,Yr-1)}}return!1}*_getValidRangesForRange(Fr,Ur){let Yr=Fr.start,Qr=Fr.start;for(const tn of Fr.getItems({shallow:!0}))tn.is("element")&&(yield*this._getValidRangesForRange(Ui._createIn(tn),Ur)),this.checkAttribute(tn,Ur)||(Yr.isEqual(Qr)||(yield new Ui(Yr,Qr)),Yr=co._createAfter(tn)),Qr=co._createAfter(tn);Yr.isEqual(Qr)||(yield new Ui(Yr,Qr))}}class lh{constructor(Fr){if(Fr instanceof lh)return Fr;let Ur;Ur=typeof Fr=="string"?[Fr]:Array.isArray(Fr)?Fr:Fr.getAncestors({includeSelf:!0}),this._items=Ur.map(q1)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(Fr){const Ur=new lh([Fr]);return Ur._items=[...this._items,...Ur._items],Ur}getItem(Fr){return this._items[Fr]}*getNames(){yield*this._items.map(Fr=>Fr.name)}endsWith(Fr){return Array.from(this.getNames()).join(" ").endsWith(Fr)}startsWith(Fr){return Array.from(this.getNames()).join(" ").startsWith(Fr)}}function B1(Xr,Fr){const Ur={name:Fr,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(Yr,Qr){for(const tn of Yr){const sn=Object.keys(tn).filter(un=>un.startsWith("is"));for(const un of sn)Qr[un]=!!tn[un]}}(Xr,Ur),ch(Xr,Ur,"allowIn"),ch(Xr,Ur,"allowContentOf"),ch(Xr,Ur,"allowWhere"),ch(Xr,Ur,"allowAttributes"),ch(Xr,Ur,"allowAttributesOf"),ch(Xr,Ur,"allowChildren"),ch(Xr,Ur,"inheritTypesFrom"),function(Yr,Qr){for(const tn of Yr){const sn=tn.inheritAllFrom;sn&&(Qr.allowContentOf.push(sn),Qr.allowWhere.push(sn),Qr.allowAttributesOf.push(sn),Qr.inheritTypesFrom.push(sn))}}(Xr,Ur),Ur}function F1(Xr,Fr){const Ur=Xr[Fr];for(const Yr of Ur.allowChildren){const Qr=Xr[Yr];Qr&&Qr.allowIn.push(Fr)}Ur.allowChildren.length=0}function z1(Xr,Fr){for(const Ur of Xr[Fr].allowContentOf)Xr[Ur]&&Y1(Xr,Ur).forEach(Yr=>{Yr.allowIn.push(Fr)});delete Xr[Fr].allowContentOf}function H1(Xr,Fr){for(const Ur of Xr[Fr].allowWhere){const Yr=Xr[Ur];if(Yr){const Qr=Yr.allowIn;Xr[Fr].allowIn.push(...Qr)}}delete Xr[Fr].allowWhere}function V1(Xr,Fr){for(const Ur of Xr[Fr].allowAttributesOf){const Yr=Xr[Ur];if(Yr){const Qr=Yr.allowAttributes;Xr[Fr].allowAttributes.push(...Qr)}}delete Xr[Fr].allowAttributesOf}function j1(Xr,Fr){const Ur=Xr[Fr];for(const Yr of Ur.inheritTypesFrom){const Qr=Xr[Yr];if(Qr){const tn=Object.keys(Qr).filter(sn=>sn.startsWith("is"));for(const sn of tn)sn in Ur||(Ur[sn]=Qr[sn])}}delete Ur.inheritTypesFrom}function U1(Xr,Fr){const Ur=Xr[Fr],Yr=Ur.allowIn.filter(Qr=>Xr[Qr]);Ur.allowIn=Array.from(new Set(Yr))}function G1(Xr,Fr){const Ur=Xr[Fr];for(const Yr of Ur.allowIn)Xr[Yr].allowChildren.push(Fr)}function W1(Xr,Fr){const Ur=Xr[Fr];Ur.allowAttributes=Array.from(new Set(Ur.allowAttributes))}function ch(Xr,Fr,Ur){for(const Yr of Xr){const Qr=Yr[Ur];typeof Qr=="string"?Fr[Ur].push(Qr):Array.isArray(Qr)&&Fr[Ur].push(...Qr)}}function Y1(Xr,Fr){const Ur=Xr[Fr];return(Yr=Xr,Object.keys(Yr).map(Qr=>Yr[Qr])).filter(Qr=>Qr.allowIn.includes(Ur.name));var Yr}function q1(Xr){return typeof Xr=="string"||Xr.is("documentFragment")?{name:typeof Xr=="string"?Xr:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:Xr.is("element")?Xr.name:"$text",*getAttributeKeys(){yield*Xr.getAttributeKeys()},getAttribute:Fr=>Xr.getAttribute(Fr)}}function Dv(Xr,Fr,Ur){for(const Yr of Fr.getAttributeKeys())Xr.checkAttribute(Fr,Yr)||Ur.removeAttribute(Yr,Fr)}var K1=Object.defineProperty,Z1=Object.defineProperties,X1=Object.getOwnPropertyDescriptors,Ev=Object.getOwnPropertySymbols,Q1=Object.prototype.hasOwnProperty,J1=Object.prototype.propertyIsEnumerable,Tv=(Xr,Fr,Ur)=>Fr in Xr?K1(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur;class ek extends wi(){constructor(Fr){var Ur;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(Ur=((Yr,Qr)=>{for(var tn in Qr||(Qr={}))Q1.call(Qr,tn)&&Tv(Yr,tn,Qr[tn]);if(Ev)for(var tn of Ev(Qr))J1.call(Qr,tn)&&Tv(Yr,tn,Qr[tn]);return Yr})({},Fr),Z1(Ur,X1({consumable:null,writer:null,store:null,convertItem:(Yr,Qr)=>this._convertItem(Yr,Qr),convertChildren:(Yr,Qr)=>this._convertChildren(Yr,Qr),safeInsert:(Yr,Qr)=>this._safeInsert(Yr,Qr),updateConversionResult:(Yr,Qr)=>this._updateConversionResult(Yr,Qr),splitToAllowedParent:(Yr,Qr)=>this._splitToAllowedParent(Yr,Qr),getSplitParts:Yr=>this._getSplitParts(Yr),keepEmptyElement:Yr=>this._keepEmptyElement(Yr)})))}convert(Fr,Ur,Yr=["$root"]){this.fire("viewCleanup",Fr),this._modelCursor=function(sn,un){let gn;for(const kn of new lh(sn)){const Cn={};for(const Ln of kn.getAttributeKeys())Cn[Ln]=kn.getAttribute(Ln);const Dn=un.createElement(kn.name,Cn);gn&&un.insert(Dn,gn),gn=co._createAt(Dn,0)}return gn}(Yr,Ur),this.conversionApi.writer=Ur,this.conversionApi.consumable=Gf.createFrom(Fr),this.conversionApi.store={};const{modelRange:Qr}=this._convertItem(Fr,this._modelCursor),tn=Ur.createDocumentFragment();if(Qr){this._removeEmptyElements();for(const sn of Array.from(this._modelCursor.parent.getChildren()))Ur.append(sn,tn);tn.markers=function(sn,un){const gn=new Set,kn=new Map,Cn=Ui._createIn(sn).getItems();for(const Dn of Cn)Dn.is("element","$marker")&&gn.add(Dn);for(const Dn of gn){const Ln=Dn.getAttribute("data-name"),zn=un.createPositionBefore(Dn);kn.has(Ln)?kn.get(Ln).end=zn.clone():kn.set(Ln,new Ui(zn.clone())),un.remove(Dn)}return kn}(tn,Ur)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,tn}_convertItem(Fr,Ur){const Yr={viewItem:Fr,modelCursor:Ur,modelRange:null};if(Fr.is("element")?this.fire(`element:${Fr.name}`,Yr,this.conversionApi):Fr.is("$text")?this.fire("text",Yr,this.conversionApi):this.fire("documentFragment",Yr,this.conversionApi),Yr.modelRange&&!(Yr.modelRange instanceof Ui))throw new wn("view-conversion-dispatcher-incorrect-result",this);return{modelRange:Yr.modelRange,modelCursor:Yr.modelCursor}}_convertChildren(Fr,Ur){let Yr=Ur.is("position")?Ur:co._createAt(Ur,0);const Qr=new Ui(Yr);for(const tn of Array.from(Fr.getChildren())){const sn=this._convertItem(tn,Yr);sn.modelRange instanceof Ui&&(Qr.end=sn.modelRange.end,Yr=sn.modelCursor)}return{modelRange:Qr,modelCursor:Yr}}_safeInsert(Fr,Ur){const Yr=this._splitToAllowedParent(Fr,Ur);return!!Yr&&(this.conversionApi.writer.insert(Fr,Yr.position),!0)}_updateConversionResult(Fr,Ur){const Yr=this._getSplitParts(Fr),Qr=this.conversionApi.writer;Ur.modelRange||(Ur.modelRange=Qr.createRange(Qr.createPositionBefore(Fr),Qr.createPositionAfter(Yr[Yr.length-1])));const tn=this._cursorParents.get(Fr);Ur.modelCursor=tn?Qr.createPositionAt(tn,0):Ur.modelRange.end}_splitToAllowedParent(Fr,Ur){const{schema:Yr,writer:Qr}=this.conversionApi;let tn=Yr.findAllowedParent(Ur,Fr);if(tn){if(tn===Ur.parent)return{position:Ur};this._modelCursor.parent.getAncestors().includes(tn)&&(tn=null)}if(!tn)return mv(Ur,Fr,Yr)?{position:vv(Ur,Qr)}:null;const sn=this.conversionApi.writer.split(Ur,tn),un=[];for(const kn of sn.range.getWalker())if(kn.type=="elementEnd")un.push(kn.item);else{const Cn=un.pop(),Dn=kn.item;this._registerSplitPair(Cn,Dn)}const gn=sn.range.end.parent;return this._cursorParents.set(Fr,gn),{position:sn.position,cursorParent:gn}}_registerSplitPair(Fr,Ur){this._splitParts.has(Fr)||this._splitParts.set(Fr,[Fr]);const Yr=this._splitParts.get(Fr);this._splitParts.set(Ur,Yr),Yr.push(Ur)}_getSplitParts(Fr){let Ur;return Ur=this._splitParts.has(Fr)?this._splitParts.get(Fr):[Fr],Ur}_keepEmptyElement(Fr){this._emptyElementsToKeep.add(Fr)}_removeEmptyElements(){let Fr=!1;for(const Ur of this._splitParts.keys())Ur.isEmpty&&!this._emptyElementsToKeep.has(Ur)&&(this.conversionApi.writer.remove(Ur),this._splitParts.delete(Ur),Fr=!0);Fr&&this._removeEmptyElements()}}class tk{getHtml(Fr){const Ur=document.implementation.createHTMLDocument("").createElement("div");return Ur.appendChild(Fr),Ur.innerHTML}}class rk{constructor(Fr){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new no(Fr,{renderingMode:"data"}),this.htmlWriter=new tk}toData(Fr){const Ur=this.domConverter.viewToDom(Fr);return this.htmlWriter.getHtml(Ur)}toView(Fr){const Ur=this._toDom(Fr);return this.domConverter.domToView(Ur,{skipComments:this.skipComments})}registerRawContentMatcher(Fr){this.domConverter.registerRawContentMatcher(Fr)}useFillerType(Fr){this.domConverter.blockFillerMode=Fr=="marked"?"markedNbsp":"nbsp"}_toDom(Fr){Fr.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(Fr=`<body>${Fr}</body>`);const Ur=this.domParser.parseFromString(Fr,"text/html"),Yr=Ur.createDocumentFragment(),Qr=Ur.body.childNodes;for(;Qr.length>0;)Yr.appendChild(Qr[0]);return Yr}}class nk extends wi(){constructor(Fr,Ur){super(),this.model=Fr,this.mapper=new Qm,this.downcastDispatcher=new rv({mapper:this.mapper,schema:Fr.schema}),this.downcastDispatcher.on("insert:$text",(Yr,Qr,tn)=>{if(!tn.consumable.consume(Qr.item,Yr.name))return;const sn=tn.writer,un=tn.mapper.toViewPosition(Qr.range.start),gn=sn.createText(Qr.item.data);sn.insert(un,gn)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(Yr,Qr,tn)=>{tn.convertAttributes(Qr.item),Qr.reconversion||!Qr.item.is("element")||Qr.item.isEmpty||tn.convertChildren(Qr.item)},{priority:"lowest"}),this.upcastDispatcher=new ek({schema:Fr.schema}),this.viewDocument=new Oh(Ur),this.stylesProcessor=Ur,this.htmlProcessor=new rk(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Nf(this.viewDocument),this.upcastDispatcher.on("text",(Yr,Qr,{schema:tn,consumable:sn,writer:un})=>{let gn=Qr.modelCursor;if(!sn.test(Qr.viewItem))return;if(!tn.checkChild(gn,"$text")){if(!mv(gn,"$text",tn)||Qr.viewItem.data.trim().length==0)return;const Cn=gn.nodeBefore;gn=vv(gn,un),Cn&&Cn.is("element","$marker")&&(un.move(un.createRangeOn(Cn),gn),gn=un.createPositionAfter(Cn))}sn.consume(Qr.viewItem);const kn=un.createText(Qr.viewItem.data);un.insert(kn,gn),Qr.modelRange=un.createRange(gn,gn.getShiftedBy(kn.offsetSize)),Qr.modelCursor=Qr.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(Yr,Qr,tn)=>{if(!Qr.modelRange&&tn.consumable.consume(Qr.viewItem,{name:!0})){const{modelRange:sn,modelCursor:un}=tn.convertChildren(Qr.viewItem,Qr.modelCursor);Qr.modelRange=sn,Qr.modelCursor=un}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(Yr,Qr,tn)=>{if(!Qr.modelRange&&tn.consumable.consume(Qr.viewItem,{name:!0})){const{modelRange:sn,modelCursor:un}=tn.convertChildren(Qr.viewItem,Qr.modelCursor);Qr.modelRange=sn,Qr.modelCursor=un}},{priority:"lowest"}),Zi().prototype.decorate.call(this,"init"),Zi().prototype.decorate.call(this,"set"),Zi().prototype.decorate.call(this,"get"),Zi().prototype.decorate.call(this,"toView"),Zi().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},gv)},{priority:"lowest"})}get(Fr={}){const{rootName:Ur="main",trim:Yr="empty"}=Fr;if(!this._checkIfRootsExists([Ur]))throw new wn("datacontroller-get-non-existent-root",this);const Qr=this.model.document.getRoot(Ur);return Qr.isAttached()||xn("datacontroller-get-detached-root",this),Yr!=="empty"||this.model.hasContent(Qr,{ignoreWhitespaces:!0})?this.stringify(Qr,Fr):""}stringify(Fr,Ur={}){const Yr=this.toView(Fr,Ur);return this.processor.toData(Yr)}toView(Fr,Ur={}){const Yr=this.viewDocument,Qr=this._viewWriter;this.mapper.clearBindings();const tn=Ui._createIn(Fr),sn=new zu(Yr);this.mapper.bindElements(Fr,sn);const un=Fr.is("documentFragment")?Fr.markers:function(gn){const kn=[],Cn=gn.root.document;if(!Cn)return new Map;const Dn=Ui._createIn(gn);for(const Ln of Cn.model.markers){const zn=Ln.getRange(),Wn=zn.isCollapsed,Xn=zn.start.isEqual(Dn.start)||zn.end.isEqual(Dn.end);if(Wn&&Xn)kn.push([Ln.name,zn]);else{const ii=Dn.getIntersection(zn);ii&&kn.push([Ln.name,ii])}}return kn.sort(([Ln,zn],[Wn,Xn])=>{if(zn.end.compareWith(Xn.start)!=="after")return 1;if(zn.start.compareWith(Xn.end)!=="before")return-1;switch(zn.start.compareWith(Xn.start)){case"before":return 1;case"after":return-1;default:switch(zn.end.compareWith(Xn.end)){case"before":return 1;case"after":return-1;default:return Wn.localeCompare(Ln)}}}),new Map(kn)}(Fr);return this.downcastDispatcher.convert(tn,un,Qr,Ur),sn}init(Fr){if(this.model.document.version)throw new wn("datacontroller-init-document-not-empty",this);let Ur={};if(typeof Fr=="string"?Ur.main=Fr:Ur=Fr,!this._checkIfRootsExists(Object.keys(Ur)))throw new wn("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},Yr=>{for(const Qr of Object.keys(Ur)){const tn=this.model.document.getRoot(Qr);Yr.insert(this.parse(Ur[Qr],tn),tn,0)}}),Promise.resolve()}set(Fr,Ur={}){let Yr={};if(typeof Fr=="string"?Yr.main=Fr:Yr=Fr,!this._checkIfRootsExists(Object.keys(Yr)))throw new wn("datacontroller-set-non-existent-root",this);this.model.enqueueChange(Ur.batchType||{},Qr=>{Qr.setSelection(null),Qr.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const tn of Object.keys(Yr)){const sn=this.model.document.getRoot(tn);Qr.remove(Qr.createRangeIn(sn)),Qr.insert(this.parse(Yr[tn],sn),sn,0)}})}parse(Fr,Ur="$root"){const Yr=this.processor.toView(Fr);return this.toModel(Yr,Ur)}toModel(Fr,Ur="$root"){return this.model.change(Yr=>this.upcastDispatcher.convert(Fr,Yr,Ur))}addStyleProcessorRules(Fr){Fr(this.stylesProcessor)}registerRawContentMatcher(Fr){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(Fr),this.htmlProcessor.registerRawContentMatcher(Fr)}destroy(){this.stopListening()}_checkIfRootsExists(Fr){for(const Ur of Fr)if(!this.model.document.getRoot(Ur))return!1;return!0}}class ik{constructor(Fr,Ur){this._helpers=new Map,this._downcast=$l(Fr),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=$l(Ur),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(Fr,Ur){const Yr=this._downcast.includes(Ur);if(!this._upcast.includes(Ur)&&!Yr)throw new wn("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:Fr,dispatchers:[Ur],isDowncast:Yr})}for(Fr){if(!this._helpers.has(Fr))throw new wn("conversion-for-unknown-group",this);return this._helpers.get(Fr)}elementToElement(Fr){this.for("downcast").elementToElement(Fr);for(const{model:Ur,view:Yr}of Og(Fr))this.for("upcast").elementToElement({model:Ur,view:Yr,converterPriority:Fr.converterPriority})}attributeToElement(Fr){this.for("downcast").attributeToElement(Fr);for(const{model:Ur,view:Yr}of Og(Fr))this.for("upcast").elementToAttribute({view:Yr,model:Ur,converterPriority:Fr.converterPriority})}attributeToAttribute(Fr){this.for("downcast").attributeToAttribute(Fr);for(const{model:Ur,view:Yr}of Og(Fr))this.for("upcast").attributeToAttribute({view:Yr,model:Ur})}_createConversionHelpers({name:Fr,dispatchers:Ur,isDowncast:Yr}){if(this._helpers.has(Fr))throw new wn("conversion-group-exists",this);const Qr=Yr?new x1(Ur):new P1(Ur);this._helpers.set(Fr,Qr)}}function*Og(Xr){if(Xr.model.values)for(const Fr of Xr.model.values){const Ur={key:Xr.model.key,value:Fr},Yr=Xr.view[Fr],Qr=Xr.upcastAlso?Xr.upcastAlso[Fr]:void 0;yield*Mv(Ur,Yr,Qr)}else yield*Mv(Xr.model,Xr.view,Xr.upcastAlso)}function*Mv(Xr,Fr,Ur){if(yield{model:Xr,view:Fr},Ur)for(const Yr of $l(Ur))yield{model:Xr,view:Yr}}class Uc{constructor(Fr){this.baseVersion=Fr,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const Fr=Object.assign({},this);return Fr.__className=this.constructor.className,delete Fr.batch,delete Fr.isDocumentOperation,Fr}static get className(){return"Operation"}static fromJSON(Fr,Ur){return new this(Fr.baseVersion)}}function Rg(Xr,Fr){const Ur=Lv(Fr),Yr=Ur.reduce((sn,un)=>sn+un.offsetSize,0),Qr=Xr.parent;qf(Xr);const tn=Xr.index;return Qr._insertChild(tn,Ur),Yf(Qr,tn+Ur.length),Yf(Qr,tn),new Ui(Xr,Xr.getShiftedBy(Yr))}function Iv(Xr){if(!Xr.isFlat)throw new wn("operation-utils-remove-range-not-flat",this);const Fr=Xr.start.parent;qf(Xr.start),qf(Xr.end);const Ur=Fr._removeChildren(Xr.start.index,Xr.end.index-Xr.start.index);return Yf(Fr,Xr.start.index),Ur}function Wf(Xr,Fr){if(!Xr.isFlat)throw new wn("operation-utils-move-range-not-flat",this);const Ur=Iv(Xr);return Rg(Fr=Fr._getTransformedByDeletion(Xr.start,Xr.end.offset-Xr.start.offset),Ur)}function Lv(Xr){const Fr=[];(function Ur(Yr){if(typeof Yr=="string")Fr.push(new Gs(Yr));else if(Yr instanceof Cu)Fr.push(new Gs(Yr.data,Yr.getAttributes()));else if(Yr instanceof ah)Fr.push(Yr);else if(xi(Yr))for(const Qr of Yr)Ur(Qr)})(Xr);for(let Ur=1;Ur<Fr.length;Ur++){const Yr=Fr[Ur],Qr=Fr[Ur-1];Yr instanceof Gs&&Qr instanceof Gs&&Pv(Yr,Qr)&&(Fr.splice(Ur-1,2,new Gs(Qr.data+Yr.data,Qr.getAttributes())),Ur--)}return Fr}function Yf(Xr,Fr){const Ur=Xr.getChild(Fr-1),Yr=Xr.getChild(Fr);if(Ur&&Yr&&Ur.is("$text")&&Yr.is("$text")&&Pv(Ur,Yr)){const Qr=new Gs(Ur.data+Yr.data,Ur.getAttributes());Xr._removeChildren(Fr-1,2),Xr._insertChild(Fr-1,Qr)}}function qf(Xr){const Fr=Xr.textNode,Ur=Xr.parent;if(Fr){const Yr=Xr.offset-Fr.startOffset,Qr=Fr.index;Ur._removeChildren(Qr,1);const tn=new Gs(Fr.data.substr(0,Yr),Fr.getAttributes()),sn=new Gs(Fr.data.substr(Yr),Fr.getAttributes());Ur._insertChild(Qr,[tn,sn])}}function Pv(Xr,Fr){const Ur=Xr.getAttributes(),Yr=Fr.getAttributes();for(const Qr of Ur){if(Qr[1]!==Fr.getAttribute(Qr[0]))return!1;Yr.next()}return Yr.next().done}class xs extends Uc{constructor(Fr,Ur,Yr,Qr){super(Qr),this.sourcePosition=Fr.clone(),this.sourcePosition.stickiness="toNext",this.howMany=Ur,this.targetPosition=Yr.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Ui._createFromPositionAndShift(this.sourcePosition,this.howMany),Ui._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new xs(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const Fr=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new xs(this.getMovedRangeStart(),this.howMany,Fr,this.baseVersion+1)}_validate(){const Fr=this.sourcePosition.parent,Ur=this.targetPosition.parent,Yr=this.sourcePosition.offset,Qr=this.targetPosition.offset;if(Yr+this.howMany>Fr.maxOffset)throw new wn("move-operation-nodes-do-not-exist",this);if(Fr===Ur&&Yr<Qr&&Qr<Yr+this.howMany)throw new wn("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&ka(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const tn=this.sourcePosition.path.length-1;if(this.targetPosition.path[tn]>=Yr&&this.targetPosition.path[tn]<Yr+this.howMany)throw new wn("move-operation-node-into-itself",this)}}_execute(){Wf(Ui._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const Fr=super.toJSON();return Fr.sourcePosition=this.sourcePosition.toJSON(),Fr.targetPosition=this.targetPosition.toJSON(),Fr}static get className(){return"MoveOperation"}static fromJSON(Fr,Ur){const Yr=co.fromJSON(Fr.sourcePosition,Ur),Qr=co.fromJSON(Fr.targetPosition,Ur);return new this(Yr,Fr.howMany,Qr,Fr.baseVersion)}}class Xl extends Uc{constructor(Fr,Ur,Yr){super(Yr),this.position=Fr.clone(),this.position.stickiness="toNone",this.nodes=new Vf(Lv(Ur)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const Fr=new Vf([...this.nodes].map(Yr=>Yr._clone(!0))),Ur=new Xl(this.position,Fr,this.baseVersion);return Ur.shouldReceiveAttributes=this.shouldReceiveAttributes,Ur}getReversed(){const Fr=this.position.root.document.graveyard,Ur=new co(Fr,[0]);return new xs(this.position,this.nodes.maxOffset,Ur,this.baseVersion+1)}_validate(){const Fr=this.position.parent;if(!Fr||Fr.maxOffset<this.position.offset)throw new wn("insert-operation-position-invalid",this)}_execute(){const Fr=this.nodes;this.nodes=new Vf([...Fr].map(Ur=>Ur._clone(!0))),Rg(this.position,Fr)}toJSON(){const Fr=super.toJSON();return Fr.position=this.position.toJSON(),Fr.nodes=this.nodes.toJSON(),Fr}static get className(){return"InsertOperation"}static fromJSON(Fr,Ur){const Yr=[];for(const tn of Fr.nodes)tn.name?Yr.push(Rs.fromJSON(tn)):Yr.push(Gs.fromJSON(tn));const Qr=new Xl(co.fromJSON(Fr.position,Ur),Yr,Fr.baseVersion);return Qr.shouldReceiveAttributes=Fr.shouldReceiveAttributes,Qr}}class Ws extends Uc{constructor(Fr,Ur,Yr,Qr,tn){super(tn),this.splitPosition=Fr.clone(),this.splitPosition.stickiness="toNext",this.howMany=Ur,this.insertionPosition=Yr,this.graveyardPosition=Qr?Qr.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const Fr=this.insertionPosition.path.slice();return Fr.push(0),new co(this.insertionPosition.root,Fr)}get movedRange(){const Fr=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ui(this.splitPosition,Fr)}get affectedSelectable(){const Fr=[Ui._createFromPositionAndShift(this.splitPosition,0),Ui._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&Fr.push(Ui._createFromPositionAndShift(this.graveyardPosition,0)),Fr}clone(){return new Ws(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const Fr=this.splitPosition.root.document.graveyard,Ur=new co(Fr,[0]);return new Al(this.moveTargetPosition,this.howMany,this.splitPosition,Ur,this.baseVersion+1)}_validate(){const Fr=this.splitPosition.parent,Ur=this.splitPosition.offset;if(!Fr||Fr.maxOffset<Ur)throw new wn("split-operation-position-invalid",this);if(!Fr.parent)throw new wn("split-operation-split-in-root",this);if(this.howMany!=Fr.maxOffset-this.splitPosition.offset)throw new wn("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new wn("split-operation-graveyard-position-invalid",this)}_execute(){const Fr=this.splitPosition.parent;if(this.graveyardPosition)Wf(Ui._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const Ur=Fr._clone();Rg(this.insertionPosition,Ur)}Wf(new Ui(co._createAt(Fr,this.splitPosition.offset),co._createAt(Fr,Fr.maxOffset)),this.moveTargetPosition)}toJSON(){const Fr=super.toJSON();return Fr.splitPosition=this.splitPosition.toJSON(),Fr.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(Fr.graveyardPosition=this.graveyardPosition.toJSON()),Fr}static get className(){return"SplitOperation"}static getInsertionPosition(Fr){const Ur=Fr.path.slice(0,-1);return Ur[Ur.length-1]++,new co(Fr.root,Ur,"toPrevious")}static fromJSON(Fr,Ur){const Yr=co.fromJSON(Fr.splitPosition,Ur),Qr=co.fromJSON(Fr.insertionPosition,Ur),tn=Fr.graveyardPosition?co.fromJSON(Fr.graveyardPosition,Ur):null;return new this(Yr,Fr.howMany,Qr,tn,Fr.baseVersion)}}class Al extends Uc{constructor(Fr,Ur,Yr,Qr,tn){super(tn),this.sourcePosition=Fr.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=Ur,this.targetPosition=Yr.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=Qr.clone()}get type(){return"merge"}get deletionPosition(){return new co(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const Fr=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Ui(this.sourcePosition,Fr)}get affectedSelectable(){const Fr=this.sourcePosition.parent;return[Ui._createOn(Fr),Ui._createFromPositionAndShift(this.targetPosition,0),Ui._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Al(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const Fr=this.targetPosition._getTransformedByMergeOperation(this),Ur=this.sourcePosition.path.slice(0,-1),Yr=new co(this.sourcePosition.root,Ur)._getTransformedByMergeOperation(this);return new Ws(Fr,this.howMany,Yr,this.graveyardPosition,this.baseVersion+1)}_validate(){const Fr=this.sourcePosition.parent,Ur=this.targetPosition.parent;if(!Fr.parent)throw new wn("merge-operation-source-position-invalid",this);if(!Ur.parent)throw new wn("merge-operation-target-position-invalid",this);if(this.howMany!=Fr.maxOffset)throw new wn("merge-operation-how-many-invalid",this)}_execute(){const Fr=this.sourcePosition.parent;Wf(Ui._createIn(Fr),this.targetPosition),Wf(Ui._createOn(Fr),this.graveyardPosition)}toJSON(){const Fr=super.toJSON();return Fr.sourcePosition=Fr.sourcePosition.toJSON(),Fr.targetPosition=Fr.targetPosition.toJSON(),Fr.graveyardPosition=Fr.graveyardPosition.toJSON(),Fr}static get className(){return"MergeOperation"}static fromJSON(Fr,Ur){const Yr=co.fromJSON(Fr.sourcePosition,Ur),Qr=co.fromJSON(Fr.targetPosition,Ur),tn=co.fromJSON(Fr.graveyardPosition,Ur);return new this(Yr,Fr.howMany,Qr,tn,Fr.baseVersion)}}class Ec extends Uc{constructor(Fr,Ur,Yr,Qr,tn,sn){super(sn),this.name=Fr,this.oldRange=Ur?Ur.clone():null,this.newRange=Yr?Yr.clone():null,this.affectsData=tn,this._markers=Qr}get type(){return"marker"}get affectedSelectable(){const Fr=[];return this.oldRange&&Fr.push(this.oldRange.clone()),this.newRange&&(this.oldRange?Fr.push(...this.newRange.getDifference(this.oldRange)):Fr.push(this.newRange.clone())),Fr}clone(){return new Ec(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ec(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const Fr=super.toJSON();return this.oldRange&&(Fr.oldRange=this.oldRange.toJSON()),this.newRange&&(Fr.newRange=this.newRange.toJSON()),delete Fr._markers,Fr}static get className(){return"MarkerOperation"}static fromJSON(Fr,Ur){return new Ec(Fr.name,Fr.oldRange?Ui.fromJSON(Fr.oldRange,Ur):null,Fr.newRange?Ui.fromJSON(Fr.newRange,Ur):null,Ur.model.markers,Fr.affectsData,Fr.baseVersion)}}const Ov=function(Xr,Fr){return Gm(Xr,Fr)};class Tl extends Uc{constructor(Fr,Ur,Yr,Qr,tn){super(tn),this.range=Fr.clone(),this.key=Ur,this.oldValue=Yr===void 0?null:Yr,this.newValue=Qr===void 0?null:Qr}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Tl(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Tl(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const Fr=super.toJSON();return Fr.range=this.range.toJSON(),Fr}_validate(){if(!this.range.isFlat)throw new wn("attribute-operation-range-not-flat",this);for(const Fr of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Ov(Fr.getAttribute(this.key),this.oldValue))throw new wn("attribute-operation-wrong-old-value",this,{item:Fr,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&Fr.hasAttribute(this.key))throw new wn("attribute-operation-attribute-exists",this,{node:Fr,key:this.key})}}_execute(){Ov(this.oldValue,this.newValue)||function(Fr,Ur,Yr){qf(Fr.start),qf(Fr.end);for(const Qr of Fr.getItems({shallow:!0})){const tn=Qr.is("$textProxy")?Qr.textNode:Qr;Yr!==null?tn._setAttribute(Ur,Yr):tn._removeAttribute(Ur),Yf(tn.parent,tn.index)}Yf(Fr.end.parent,Fr.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(Fr,Ur){return new Tl(Ui.fromJSON(Fr.range,Ur),Fr.key,Fr.oldValue,Fr.newValue,Fr.baseVersion)}}class zl extends Uc{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new zl(this.baseVersion)}getReversed(){return new zl(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Tc extends Uc{constructor(Fr,Ur,Yr,Qr){super(Qr),this.position=Fr,this.position.stickiness="toNext",this.oldName=Ur,this.newName=Yr}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Tc(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Tc(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const Fr=this.position.nodeAfter;if(!(Fr instanceof Rs))throw new wn("rename-operation-wrong-position",this);if(Fr.name!==this.oldName)throw new wn("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const Fr=super.toJSON();return Fr.position=this.position.toJSON(),Fr}static get className(){return"RenameOperation"}static fromJSON(Fr,Ur){return new Tc(co.fromJSON(Fr.position,Ur),Fr.oldName,Fr.newName,Fr.baseVersion)}}class cd extends Uc{constructor(Fr,Ur,Yr,Qr,tn){super(tn),this.root=Fr,this.key=Ur,this.oldValue=Yr===void 0?null:Yr,this.newValue=Qr===void 0?null:Qr}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new cd(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new cd(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new wn("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new wn("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new wn("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const Fr=super.toJSON();return Fr.root=this.root.toJSON(),Fr}static get className(){return"RootAttributeOperation"}static fromJSON(Fr,Ur){if(!Ur.getRoot(Fr.root))throw new wn("rootattribute-operation-fromjson-no-root",this,{rootName:Fr.root});return new cd(Ur.getRoot(Fr.root),Fr.key,Fr.oldValue,Fr.newValue,Fr.baseVersion)}}class Gu extends Uc{constructor(Fr,Ur,Yr,Qr,tn){super(tn),this.rootName=Fr,this.elementName=Ur,this.isAdd=Yr,this._document=Qr,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Gu(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Gu(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_validate(){const Fr=this._document.getRoot(this.rootName);if(Fr.isAttached()&&this.isAdd)throw new wn("root-operation-root-attached",this);if(!Fr.isAttached()&&!this.isAdd)throw new wn("root-operation-root-detached",this)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const Fr=super.toJSON();return delete Fr._document,Fr}static get className(){return"RootOperation"}static fromJSON(Fr,Ur){return new Gu(Fr.rootName,Fr.elementName,Fr.isAdd,Ur,Fr.baseVersion)}}const cu={};cu[Tl.className]=Tl,cu[Xl.className]=Xl,cu[Ec.className]=Ec,cu[xs.className]=xs,cu[zl.className]=zl,cu[Uc.className]=Uc,cu[Tc.className]=Tc,cu[cd.className]=cd,cu[Gu.className]=Gu,cu[Ws.className]=Ws,cu[Al.className]=Al;class ok{static fromJSON(Fr,Ur){return cu[Fr.__className].fromJSON(Fr,Ur)}}const $g=new Map;function ms(Xr,Fr,Ur){let Yr=$g.get(Xr);Yr||(Yr=new Map,$g.set(Xr,Yr)),Yr.set(Fr,Ur)}function ak(Xr){return[Xr]}function Rv(Xr,Fr,Ur={}){const Yr=function(Qr,tn){const sn=$g.get(Qr);return sn&&sn.has(tn)?sn.get(tn):ak}(Xr.constructor,Fr.constructor);try{return Yr(Xr=Xr.clone(),Fr,Ur)}catch(Qr){throw Qr}}function sk(Xr,Fr,Ur){Xr=Xr.slice(),Fr=Fr.slice();const Yr=new lk(Ur.document,Ur.useRelations,Ur.forceWeakRemove);Yr.setOriginalOperations(Xr),Yr.setOriginalOperations(Fr);const Qr=Yr.originalOperations;if(Xr.length==0||Fr.length==0)return{operationsA:Xr,operationsB:Fr,originalOperations:Qr};const tn=new WeakMap;for(const gn of Xr)tn.set(gn,0);const sn={nextBaseVersionA:Xr[Xr.length-1].baseVersion+1,nextBaseVersionB:Fr[Fr.length-1].baseVersion+1,originalOperationsACount:Xr.length,originalOperationsBCount:Fr.length};let un=0;for(;un<Xr.length;){const gn=Xr[un],kn=tn.get(gn);if(kn==Fr.length){un++;continue}const Cn=Fr[kn],Dn=Rv(gn,Cn,Yr.getContext(gn,Cn,!0)),Ln=Rv(Cn,gn,Yr.getContext(Cn,gn,!1));Yr.updateRelation(gn,Cn),Yr.setOriginalOperations(Dn,gn),Yr.setOriginalOperations(Ln,Cn);for(const zn of Dn)tn.set(zn,kn+Ln.length);Xr.splice(un,1,...Dn),Fr.splice(kn,1,...Ln)}if(Ur.padWithNoOps){const gn=Xr.length-sn.originalOperationsACount,kn=Fr.length-sn.originalOperationsBCount;Nv(Xr,kn-gn),Nv(Fr,gn-kn)}return $v(Xr,sn.nextBaseVersionB),$v(Fr,sn.nextBaseVersionA),{operationsA:Xr,operationsB:Fr,originalOperations:Qr}}class lk{constructor(Fr,Ur,Yr=!1){this.originalOperations=new Map,this._history=Fr.history,this._useRelations=Ur,this._forceWeakRemove=!!Yr,this._relations=new Map}setOriginalOperations(Fr,Ur=null){const Yr=Ur?this.originalOperations.get(Ur):null;for(const Qr of Fr)this.originalOperations.set(Qr,Yr||Qr)}updateRelation(Fr,Ur){if(Fr instanceof xs)Ur instanceof Al?Fr.targetPosition.isEqual(Ur.sourcePosition)||Ur.movedRange.containsPosition(Fr.targetPosition)?this._setRelation(Fr,Ur,"insertAtSource"):Fr.targetPosition.isEqual(Ur.deletionPosition)?this._setRelation(Fr,Ur,"insertBetween"):Fr.targetPosition.isAfter(Ur.sourcePosition)&&this._setRelation(Fr,Ur,"moveTargetAfter"):Ur instanceof xs&&(Fr.targetPosition.isEqual(Ur.sourcePosition)||Fr.targetPosition.isBefore(Ur.sourcePosition)?this._setRelation(Fr,Ur,"insertBefore"):this._setRelation(Fr,Ur,"insertAfter"));else if(Fr instanceof Ws){if(Ur instanceof Al)Fr.splitPosition.isBefore(Ur.sourcePosition)&&this._setRelation(Fr,Ur,"splitBefore");else if(Ur instanceof xs)if(Fr.splitPosition.isEqual(Ur.sourcePosition)||Fr.splitPosition.isBefore(Ur.sourcePosition))this._setRelation(Fr,Ur,"splitBefore");else{const Yr=Ui._createFromPositionAndShift(Ur.sourcePosition,Ur.howMany);if(Fr.splitPosition.hasSameParentAs(Ur.sourcePosition)&&Yr.containsPosition(Fr.splitPosition)){const Qr=Yr.end.offset-Fr.splitPosition.offset,tn=Fr.splitPosition.offset-Yr.start.offset;this._setRelation(Fr,Ur,{howMany:Qr,offset:tn})}}}else if(Fr instanceof Al)Ur instanceof Al?(Fr.targetPosition.isEqual(Ur.sourcePosition)||this._setRelation(Fr,Ur,"mergeTargetNotMoved"),Fr.sourcePosition.isEqual(Ur.targetPosition)&&this._setRelation(Fr,Ur,"mergeSourceNotMoved"),Fr.sourcePosition.isEqual(Ur.sourcePosition)&&this._setRelation(Fr,Ur,"mergeSameElement")):Ur instanceof Ws&&Fr.sourcePosition.isEqual(Ur.splitPosition)&&this._setRelation(Fr,Ur,"splitAtSource");else if(Fr instanceof Ec){const Yr=Fr.newRange;if(!Yr)return;if(Ur instanceof xs){const Qr=Ui._createFromPositionAndShift(Ur.sourcePosition,Ur.howMany),tn=Qr.containsPosition(Yr.start)||Qr.start.isEqual(Yr.start),sn=Qr.containsPosition(Yr.end)||Qr.end.isEqual(Yr.end);!tn&&!sn||Qr.containsRange(Yr)||this._setRelation(Fr,Ur,{side:tn?"left":"right",path:tn?Yr.start.path.slice():Yr.end.path.slice()})}else if(Ur instanceof Al){const Qr=Yr.start.isEqual(Ur.targetPosition),tn=Yr.start.isEqual(Ur.deletionPosition),sn=Yr.end.isEqual(Ur.deletionPosition),un=Yr.end.isEqual(Ur.sourcePosition);(Qr||tn||sn||un)&&this._setRelation(Fr,Ur,{wasInLeftElement:Qr,wasStartBeforeMergedElement:tn,wasEndBeforeMergedElement:sn,wasInRightElement:un})}}}getContext(Fr,Ur,Yr){return{aIsStrong:Yr,aWasUndone:this._wasUndone(Fr),bWasUndone:this._wasUndone(Ur),abRelation:this._useRelations?this._getRelation(Fr,Ur):null,baRelation:this._useRelations?this._getRelation(Ur,Fr):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(Fr){const Ur=this.originalOperations.get(Fr);return Ur.wasUndone||this._history.isUndoneOperation(Ur)}_getRelation(Fr,Ur){const Yr=this.originalOperations.get(Ur),Qr=this._history.getUndoneOperation(Yr);if(!Qr)return null;const tn=this.originalOperations.get(Fr),sn=this._relations.get(tn);return sn&&sn.get(Qr)||null}_setRelation(Fr,Ur,Yr){const Qr=this.originalOperations.get(Fr),tn=this.originalOperations.get(Ur);let sn=this._relations.get(Qr);sn||(sn=new Map,this._relations.set(Qr,sn)),sn.set(tn,Yr)}}function $v(Xr,Fr){for(const Ur of Xr)Ur.baseVersion=Fr++}function Nv(Xr,Fr){for(let Ur=0;Ur<Fr;Ur++)Xr.push(new zl(0))}function Bv(Xr,Fr,Ur){const Yr=Xr.nodes.getNode(0).getAttribute(Fr);if(Yr==Ur)return null;const Qr=new Ui(Xr.position,Xr.position.getShiftedBy(Xr.howMany));return new Tl(Qr,Fr,Yr,Ur,0)}function Fv(Xr,Fr){return Xr.targetPosition._getTransformedByDeletion(Fr.sourcePosition,Fr.howMany)===null}function Bh(Xr,Fr){const Ur=[];for(let Yr=0;Yr<Xr.length;Yr++){const Qr=Xr[Yr],tn=new xs(Qr.start,Qr.end.offset-Qr.start.offset,Fr,0);Ur.push(tn);for(let sn=Yr+1;sn<Xr.length;sn++)Xr[sn]=Xr[sn]._getTransformedByMove(tn.sourcePosition,tn.targetPosition,tn.howMany)[0];Fr=Fr._getTransformedByMove(tn.sourcePosition,tn.targetPosition,tn.howMany)}return Ur}ms(Tl,Tl,(Xr,Fr,Ur)=>{if(Xr.key===Fr.key&&Xr.range.start.hasSameParentAs(Fr.range.start)){const Yr=Xr.range.getDifference(Fr.range).map(tn=>new Tl(tn,Xr.key,Xr.oldValue,Xr.newValue,0)),Qr=Xr.range.getIntersection(Fr.range);return Qr&&Ur.aIsStrong&&Yr.push(new Tl(Qr,Fr.key,Fr.newValue,Xr.newValue,0)),Yr.length==0?[new zl(0)]:Yr}return[Xr]}),ms(Tl,Xl,(Xr,Fr)=>{if(Xr.range.start.hasSameParentAs(Fr.position)&&Xr.range.containsPosition(Fr.position)){const Ur=Xr.range._getTransformedByInsertion(Fr.position,Fr.howMany,!Fr.shouldReceiveAttributes).map(Yr=>new Tl(Yr,Xr.key,Xr.oldValue,Xr.newValue,Xr.baseVersion));if(Fr.shouldReceiveAttributes){const Yr=Bv(Fr,Xr.key,Xr.oldValue);Yr&&Ur.unshift(Yr)}return Ur}return Xr.range=Xr.range._getTransformedByInsertion(Fr.position,Fr.howMany,!1)[0],[Xr]}),ms(Tl,Al,(Xr,Fr)=>{const Ur=[];Xr.range.start.hasSameParentAs(Fr.deletionPosition)&&(Xr.range.containsPosition(Fr.deletionPosition)||Xr.range.start.isEqual(Fr.deletionPosition))&&Ur.push(Ui._createFromPositionAndShift(Fr.graveyardPosition,1));const Yr=Xr.range._getTransformedByMergeOperation(Fr);return Yr.isCollapsed||Ur.push(Yr),Ur.map(Qr=>new Tl(Qr,Xr.key,Xr.oldValue,Xr.newValue,Xr.baseVersion))}),ms(Tl,xs,(Xr,Fr)=>function(Yr,Qr){const tn=Ui._createFromPositionAndShift(Qr.sourcePosition,Qr.howMany);let sn=null,un=[];tn.containsRange(Yr,!0)?sn=Yr:Yr.start.hasSameParentAs(tn.start)?(un=Yr.getDifference(tn),sn=Yr.getIntersection(tn)):un=[Yr];const gn=[];for(let kn of un){kn=kn._getTransformedByDeletion(Qr.sourcePosition,Qr.howMany);const Cn=Qr.getMovedRangeStart(),Dn=kn.start.hasSameParentAs(Cn),Ln=kn._getTransformedByInsertion(Cn,Qr.howMany,Dn);gn.push(...Ln)}return sn&&gn.push(sn._getTransformedByMove(Qr.sourcePosition,Qr.targetPosition,Qr.howMany,!1)[0]),gn}(Xr.range,Fr).map(Yr=>new Tl(Yr,Xr.key,Xr.oldValue,Xr.newValue,Xr.baseVersion))),ms(Tl,Ws,(Xr,Fr)=>{if(Xr.range.end.isEqual(Fr.insertionPosition))return Fr.graveyardPosition||Xr.range.end.offset++,[Xr];if(Xr.range.start.hasSameParentAs(Fr.splitPosition)&&Xr.range.containsPosition(Fr.splitPosition)){const Ur=Xr.clone();return Ur.range=new Ui(Fr.moveTargetPosition.clone(),Xr.range.end._getCombined(Fr.splitPosition,Fr.moveTargetPosition)),Xr.range.end=Fr.splitPosition.clone(),Xr.range.end.stickiness="toPrevious",[Xr,Ur]}return Xr.range=Xr.range._getTransformedBySplitOperation(Fr),[Xr]}),ms(Xl,Tl,(Xr,Fr)=>{const Ur=[Xr];if(Xr.shouldReceiveAttributes&&Xr.position.hasSameParentAs(Fr.range.start)&&Fr.range.containsPosition(Xr.position)){const Yr=Bv(Xr,Fr.key,Fr.newValue);Yr&&Ur.push(Yr)}return Ur}),ms(Xl,Xl,(Xr,Fr,Ur)=>(Xr.position.isEqual(Fr.position)&&Ur.aIsStrong||(Xr.position=Xr.position._getTransformedByInsertOperation(Fr)),[Xr])),ms(Xl,xs,(Xr,Fr)=>(Xr.position=Xr.position._getTransformedByMoveOperation(Fr),[Xr])),ms(Xl,Ws,(Xr,Fr)=>(Xr.position=Xr.position._getTransformedBySplitOperation(Fr),[Xr])),ms(Xl,Al,(Xr,Fr)=>(Xr.position=Xr.position._getTransformedByMergeOperation(Fr),[Xr])),ms(Ec,Xl,(Xr,Fr)=>(Xr.oldRange&&(Xr.oldRange=Xr.oldRange._getTransformedByInsertOperation(Fr)[0]),Xr.newRange&&(Xr.newRange=Xr.newRange._getTransformedByInsertOperation(Fr)[0]),[Xr])),ms(Ec,Ec,(Xr,Fr,Ur)=>{if(Xr.name==Fr.name){if(!Ur.aIsStrong)return[new zl(0)];Xr.oldRange=Fr.newRange?Fr.newRange.clone():null}return[Xr]}),ms(Ec,Al,(Xr,Fr)=>(Xr.oldRange&&(Xr.oldRange=Xr.oldRange._getTransformedByMergeOperation(Fr)),Xr.newRange&&(Xr.newRange=Xr.newRange._getTransformedByMergeOperation(Fr)),[Xr])),ms(Ec,xs,(Xr,Fr,Ur)=>{if(Xr.oldRange&&(Xr.oldRange=Ui._createFromRanges(Xr.oldRange._getTransformedByMoveOperation(Fr))),Xr.newRange){if(Ur.abRelation){const Yr=Ui._createFromRanges(Xr.newRange._getTransformedByMoveOperation(Fr));if(Ur.abRelation.side=="left"&&Fr.targetPosition.isEqual(Xr.newRange.start))return Xr.newRange.end=Yr.end,Xr.newRange.start.path=Ur.abRelation.path,[Xr];if(Ur.abRelation.side=="right"&&Fr.targetPosition.isEqual(Xr.newRange.end))return Xr.newRange.start=Yr.start,Xr.newRange.end.path=Ur.abRelation.path,[Xr]}Xr.newRange=Ui._createFromRanges(Xr.newRange._getTransformedByMoveOperation(Fr))}return[Xr]}),ms(Ec,Ws,(Xr,Fr,Ur)=>{if(Xr.oldRange&&(Xr.oldRange=Xr.oldRange._getTransformedBySplitOperation(Fr)),Xr.newRange){if(Ur.abRelation){const Yr=Xr.newRange._getTransformedBySplitOperation(Fr);return Xr.newRange.start.isEqual(Fr.splitPosition)&&Ur.abRelation.wasStartBeforeMergedElement?Xr.newRange.start=co._createAt(Fr.insertionPosition):Xr.newRange.start.isEqual(Fr.splitPosition)&&!Ur.abRelation.wasInLeftElement&&(Xr.newRange.start=co._createAt(Fr.moveTargetPosition)),Xr.newRange.end.isEqual(Fr.splitPosition)&&Ur.abRelation.wasInRightElement?Xr.newRange.end=co._createAt(Fr.moveTargetPosition):Xr.newRange.end.isEqual(Fr.splitPosition)&&Ur.abRelation.wasEndBeforeMergedElement?Xr.newRange.end=co._createAt(Fr.insertionPosition):Xr.newRange.end=Yr.end,[Xr]}Xr.newRange=Xr.newRange._getTransformedBySplitOperation(Fr)}return[Xr]}),ms(Al,Xl,(Xr,Fr)=>(Xr.sourcePosition.hasSameParentAs(Fr.position)&&(Xr.howMany+=Fr.howMany),Xr.sourcePosition=Xr.sourcePosition._getTransformedByInsertOperation(Fr),Xr.targetPosition=Xr.targetPosition._getTransformedByInsertOperation(Fr),[Xr])),ms(Al,Al,(Xr,Fr,Ur)=>{if(Xr.sourcePosition.isEqual(Fr.sourcePosition)&&Xr.targetPosition.isEqual(Fr.targetPosition)){if(Ur.bWasUndone){const Yr=Fr.graveyardPosition.path.slice();return Yr.push(0),Xr.sourcePosition=new co(Fr.graveyardPosition.root,Yr),Xr.howMany=0,[Xr]}return[new zl(0)]}if(Xr.sourcePosition.isEqual(Fr.sourcePosition)&&!Xr.targetPosition.isEqual(Fr.targetPosition)&&!Ur.bWasUndone&&Ur.abRelation!="splitAtSource"){const Yr=Xr.targetPosition.root.rootName=="$graveyard",Qr=Fr.targetPosition.root.rootName=="$graveyard";if(Qr&&!Yr||!(Yr&&!Qr)&&Ur.aIsStrong){const tn=Fr.targetPosition._getTransformedByMergeOperation(Fr),sn=Xr.targetPosition._getTransformedByMergeOperation(Fr);return[new xs(tn,Xr.howMany,sn,0)]}return[new zl(0)]}return Xr.sourcePosition.hasSameParentAs(Fr.targetPosition)&&(Xr.howMany+=Fr.howMany),Xr.sourcePosition=Xr.sourcePosition._getTransformedByMergeOperation(Fr),Xr.targetPosition=Xr.targetPosition._getTransformedByMergeOperation(Fr),Xr.graveyardPosition.isEqual(Fr.graveyardPosition)&&Ur.aIsStrong||(Xr.graveyardPosition=Xr.graveyardPosition._getTransformedByMergeOperation(Fr)),[Xr]}),ms(Al,xs,(Xr,Fr,Ur)=>{const Yr=Ui._createFromPositionAndShift(Fr.sourcePosition,Fr.howMany);return Fr.type=="remove"&&!Ur.bWasUndone&&!Ur.forceWeakRemove&&Xr.deletionPosition.hasSameParentAs(Fr.sourcePosition)&&Yr.containsPosition(Xr.sourcePosition)?[new zl(0)]:(Xr.sourcePosition.hasSameParentAs(Fr.targetPosition)&&(Xr.howMany+=Fr.howMany),Xr.sourcePosition.hasSameParentAs(Fr.sourcePosition)&&(Xr.howMany-=Fr.howMany),Xr.sourcePosition=Xr.sourcePosition._getTransformedByMoveOperation(Fr),Xr.targetPosition=Xr.targetPosition._getTransformedByMoveOperation(Fr),Xr.graveyardPosition.isEqual(Fr.targetPosition)||(Xr.graveyardPosition=Xr.graveyardPosition._getTransformedByMoveOperation(Fr)),[Xr])}),ms(Al,Ws,(Xr,Fr,Ur)=>{if(Fr.graveyardPosition&&(Xr.graveyardPosition=Xr.graveyardPosition._getTransformedByDeletion(Fr.graveyardPosition,1),Xr.deletionPosition.isEqual(Fr.graveyardPosition)&&(Xr.howMany=Fr.howMany)),Xr.targetPosition.isEqual(Fr.splitPosition)){const Yr=Fr.howMany!=0,Qr=Fr.graveyardPosition&&Xr.deletionPosition.isEqual(Fr.graveyardPosition);if(Yr||Qr||Ur.abRelation=="mergeTargetNotMoved")return Xr.sourcePosition=Xr.sourcePosition._getTransformedBySplitOperation(Fr),[Xr]}if(Xr.sourcePosition.isEqual(Fr.splitPosition)){if(Ur.abRelation=="mergeSourceNotMoved")return Xr.howMany=0,Xr.targetPosition=Xr.targetPosition._getTransformedBySplitOperation(Fr),[Xr];if(Ur.abRelation=="mergeSameElement"||Xr.sourcePosition.offset>0)return Xr.sourcePosition=Fr.moveTargetPosition.clone(),Xr.targetPosition=Xr.targetPosition._getTransformedBySplitOperation(Fr),[Xr]}return Xr.sourcePosition.hasSameParentAs(Fr.splitPosition)&&(Xr.howMany=Fr.splitPosition.offset),Xr.sourcePosition=Xr.sourcePosition._getTransformedBySplitOperation(Fr),Xr.targetPosition=Xr.targetPosition._getTransformedBySplitOperation(Fr),[Xr]}),ms(xs,Xl,(Xr,Fr)=>{const Ur=Ui._createFromPositionAndShift(Xr.sourcePosition,Xr.howMany)._getTransformedByInsertOperation(Fr,!1)[0];return Xr.sourcePosition=Ur.start,Xr.howMany=Ur.end.offset-Ur.start.offset,Xr.targetPosition.isEqual(Fr.position)||(Xr.targetPosition=Xr.targetPosition._getTransformedByInsertOperation(Fr)),[Xr]}),ms(xs,xs,(Xr,Fr,Ur)=>{const Yr=Ui._createFromPositionAndShift(Xr.sourcePosition,Xr.howMany),Qr=Ui._createFromPositionAndShift(Fr.sourcePosition,Fr.howMany);let tn,sn=Ur.aIsStrong,un=!Ur.aIsStrong;if(Ur.abRelation=="insertBefore"||Ur.baRelation=="insertAfter"?un=!0:Ur.abRelation!="insertAfter"&&Ur.baRelation!="insertBefore"||(un=!1),tn=Xr.targetPosition.isEqual(Fr.targetPosition)&&un?Xr.targetPosition._getTransformedByDeletion(Fr.sourcePosition,Fr.howMany):Xr.targetPosition._getTransformedByMove(Fr.sourcePosition,Fr.targetPosition,Fr.howMany),Fv(Xr,Fr)&&Fv(Fr,Xr))return[Fr.getReversed()];if(Yr.containsPosition(Fr.targetPosition)&&Yr.containsRange(Qr,!0))return Yr.start=Yr.start._getTransformedByMove(Fr.sourcePosition,Fr.targetPosition,Fr.howMany),Yr.end=Yr.end._getTransformedByMove(Fr.sourcePosition,Fr.targetPosition,Fr.howMany),Bh([Yr],tn);if(Qr.containsPosition(Xr.targetPosition)&&Qr.containsRange(Yr,!0))return Yr.start=Yr.start._getCombined(Fr.sourcePosition,Fr.getMovedRangeStart()),Yr.end=Yr.end._getCombined(Fr.sourcePosition,Fr.getMovedRangeStart()),Bh([Yr],tn);const gn=ka(Xr.sourcePosition.getParentPath(),Fr.sourcePosition.getParentPath());if(gn=="prefix"||gn=="extension")return Yr.start=Yr.start._getTransformedByMove(Fr.sourcePosition,Fr.targetPosition,Fr.howMany),Yr.end=Yr.end._getTransformedByMove(Fr.sourcePosition,Fr.targetPosition,Fr.howMany),Bh([Yr],tn);Xr.type!="remove"||Fr.type=="remove"||Ur.aWasUndone||Ur.forceWeakRemove?Xr.type=="remove"||Fr.type!="remove"||Ur.bWasUndone||Ur.forceWeakRemove||(sn=!1):sn=!0;const kn=[],Cn=Yr.getDifference(Qr);for(const Ln of Cn){Ln.start=Ln.start._getTransformedByDeletion(Fr.sourcePosition,Fr.howMany),Ln.end=Ln.end._getTransformedByDeletion(Fr.sourcePosition,Fr.howMany);const zn=ka(Ln.start.getParentPath(),Fr.getMovedRangeStart().getParentPath())=="same",Wn=Ln._getTransformedByInsertion(Fr.getMovedRangeStart(),Fr.howMany,zn);kn.push(...Wn)}const Dn=Yr.getIntersection(Qr);return Dn!==null&&sn&&(Dn.start=Dn.start._getCombined(Fr.sourcePosition,Fr.getMovedRangeStart()),Dn.end=Dn.end._getCombined(Fr.sourcePosition,Fr.getMovedRangeStart()),kn.length===0?kn.push(Dn):kn.length==1?Qr.start.isBefore(Yr.start)||Qr.start.isEqual(Yr.start)?kn.unshift(Dn):kn.push(Dn):kn.splice(1,0,Dn)),kn.length===0?[new zl(Xr.baseVersion)]:Bh(kn,tn)}),ms(xs,Ws,(Xr,Fr,Ur)=>{let Yr=Xr.targetPosition.clone();Xr.targetPosition.isEqual(Fr.insertionPosition)&&Fr.graveyardPosition&&Ur.abRelation!="moveTargetAfter"||(Yr=Xr.targetPosition._getTransformedBySplitOperation(Fr));const Qr=Ui._createFromPositionAndShift(Xr.sourcePosition,Xr.howMany);if(Qr.end.isEqual(Fr.insertionPosition))return Fr.graveyardPosition||Xr.howMany++,Xr.targetPosition=Yr,[Xr];if(Qr.start.hasSameParentAs(Fr.splitPosition)&&Qr.containsPosition(Fr.splitPosition)){let sn=new Ui(Fr.splitPosition,Qr.end);return sn=sn._getTransformedBySplitOperation(Fr),Bh([new Ui(Qr.start,Fr.splitPosition),sn],Yr)}Xr.targetPosition.isEqual(Fr.splitPosition)&&Ur.abRelation=="insertAtSource"&&(Yr=Fr.moveTargetPosition),Xr.targetPosition.isEqual(Fr.insertionPosition)&&Ur.abRelation=="insertBetween"&&(Yr=Xr.targetPosition);const tn=[Qr._getTransformedBySplitOperation(Fr)];if(Fr.graveyardPosition){const sn=Qr.start.isEqual(Fr.graveyardPosition)||Qr.containsPosition(Fr.graveyardPosition);Xr.howMany>1&&sn&&!Ur.aWasUndone&&tn.push(Ui._createFromPositionAndShift(Fr.insertionPosition,1))}return Bh(tn,Yr)}),ms(xs,Al,(Xr,Fr,Ur)=>{const Yr=Ui._createFromPositionAndShift(Xr.sourcePosition,Xr.howMany);if(Fr.deletionPosition.hasSameParentAs(Xr.sourcePosition)&&Yr.containsPosition(Fr.sourcePosition)){if(Xr.type!="remove"||Ur.forceWeakRemove){if(Xr.howMany==1)return Ur.bWasUndone?(Xr.sourcePosition=Fr.graveyardPosition.clone(),Xr.targetPosition=Xr.targetPosition._getTransformedByMergeOperation(Fr),[Xr]):[new zl(0)]}else if(!Ur.aWasUndone){const tn=[];let sn=Fr.graveyardPosition.clone(),un=Fr.targetPosition._getTransformedByMergeOperation(Fr);Xr.howMany>1&&(tn.push(new xs(Xr.sourcePosition,Xr.howMany-1,Xr.targetPosition,0)),sn=sn._getTransformedByMove(Xr.sourcePosition,Xr.targetPosition,Xr.howMany-1),un=un._getTransformedByMove(Xr.sourcePosition,Xr.targetPosition,Xr.howMany-1));const gn=Fr.deletionPosition._getCombined(Xr.sourcePosition,Xr.targetPosition),kn=new xs(sn,1,gn,0),Cn=kn.getMovedRangeStart().path.slice();Cn.push(0);const Dn=new co(kn.targetPosition.root,Cn);un=un._getTransformedByMove(sn,gn,1);const Ln=new xs(un,Fr.howMany,Dn,0);return tn.push(kn),tn.push(Ln),tn}}const Qr=Ui._createFromPositionAndShift(Xr.sourcePosition,Xr.howMany)._getTransformedByMergeOperation(Fr);return Xr.sourcePosition=Qr.start,Xr.howMany=Qr.end.offset-Qr.start.offset,Xr.targetPosition=Xr.targetPosition._getTransformedByMergeOperation(Fr),[Xr]}),ms(Tc,Xl,(Xr,Fr)=>(Xr.position=Xr.position._getTransformedByInsertOperation(Fr),[Xr])),ms(Tc,Al,(Xr,Fr)=>Xr.position.isEqual(Fr.deletionPosition)?(Xr.position=Fr.graveyardPosition.clone(),Xr.position.stickiness="toNext",[Xr]):(Xr.position=Xr.position._getTransformedByMergeOperation(Fr),[Xr])),ms(Tc,xs,(Xr,Fr)=>(Xr.position=Xr.position._getTransformedByMoveOperation(Fr),[Xr])),ms(Tc,Tc,(Xr,Fr,Ur)=>{if(Xr.position.isEqual(Fr.position)){if(!Ur.aIsStrong)return[new zl(0)];Xr.oldName=Fr.newName}return[Xr]}),ms(Tc,Ws,(Xr,Fr)=>{if(ka(Xr.position.path,Fr.splitPosition.getParentPath())=="same"&&!Fr.graveyardPosition){const Ur=new Tc(Xr.position.getShiftedBy(1),Xr.oldName,Xr.newName,0);return[Xr,Ur]}return Xr.position=Xr.position._getTransformedBySplitOperation(Fr),[Xr]}),ms(cd,cd,(Xr,Fr,Ur)=>{if(Xr.root===Fr.root&&Xr.key===Fr.key){if(!Ur.aIsStrong||Xr.newValue===Fr.newValue)return[new zl(0)];Xr.oldValue=Fr.newValue}return[Xr]}),ms(Gu,Gu,(Xr,Fr,Ur)=>Xr.rootName!==Fr.rootName||Xr.isAdd!==Fr.isAdd||Ur.bWasUndone?[Xr]:[new zl(0)]),ms(Ws,Xl,(Xr,Fr)=>(Xr.splitPosition.hasSameParentAs(Fr.position)&&Xr.splitPosition.offset<Fr.position.offset&&(Xr.howMany+=Fr.howMany),Xr.splitPosition=Xr.splitPosition._getTransformedByInsertOperation(Fr),Xr.insertionPosition=Xr.insertionPosition._getTransformedByInsertOperation(Fr),[Xr])),ms(Ws,Al,(Xr,Fr,Ur)=>{if(!Xr.graveyardPosition&&!Ur.bWasUndone&&Xr.splitPosition.hasSameParentAs(Fr.sourcePosition)){const Yr=Fr.graveyardPosition.path.slice();Yr.push(0);const Qr=new co(Fr.graveyardPosition.root,Yr),tn=Ws.getInsertionPosition(new co(Fr.graveyardPosition.root,Yr)),sn=new Ws(Qr,0,tn,null,0);return Xr.splitPosition=Xr.splitPosition._getTransformedByMergeOperation(Fr),Xr.insertionPosition=Ws.getInsertionPosition(Xr.splitPosition),Xr.graveyardPosition=sn.insertionPosition.clone(),Xr.graveyardPosition.stickiness="toNext",[sn,Xr]}return Xr.splitPosition.hasSameParentAs(Fr.deletionPosition)&&!Xr.splitPosition.isAfter(Fr.deletionPosition)&&Xr.howMany--,Xr.splitPosition.hasSameParentAs(Fr.targetPosition)&&(Xr.howMany+=Fr.howMany),Xr.splitPosition=Xr.splitPosition._getTransformedByMergeOperation(Fr),Xr.insertionPosition=Ws.getInsertionPosition(Xr.splitPosition),Xr.graveyardPosition&&(Xr.graveyardPosition=Xr.graveyardPosition._getTransformedByMergeOperation(Fr)),[Xr]}),ms(Ws,xs,(Xr,Fr,Ur)=>{const Yr=Ui._createFromPositionAndShift(Fr.sourcePosition,Fr.howMany);if(Xr.graveyardPosition){const tn=Yr.start.isEqual(Xr.graveyardPosition)||Yr.containsPosition(Xr.graveyardPosition);if(!Ur.bWasUndone&&tn){const sn=Xr.splitPosition._getTransformedByMoveOperation(Fr),un=Xr.graveyardPosition._getTransformedByMoveOperation(Fr),gn=un.path.slice();gn.push(0);const kn=new co(un.root,gn);return[new xs(sn,Xr.howMany,kn,0)]}Xr.graveyardPosition=Xr.graveyardPosition._getTransformedByMoveOperation(Fr)}const Qr=Xr.splitPosition.isEqual(Fr.targetPosition);if(Qr&&(Ur.baRelation=="insertAtSource"||Ur.abRelation=="splitBefore"))return Xr.howMany+=Fr.howMany,Xr.splitPosition=Xr.splitPosition._getTransformedByDeletion(Fr.sourcePosition,Fr.howMany),Xr.insertionPosition=Ws.getInsertionPosition(Xr.splitPosition),[Xr];if(Qr&&Ur.abRelation&&Ur.abRelation.howMany){const{howMany:tn,offset:sn}=Ur.abRelation;return Xr.howMany+=tn,Xr.splitPosition=Xr.splitPosition.getShiftedBy(sn),[Xr]}if(Xr.splitPosition.hasSameParentAs(Fr.sourcePosition)&&Yr.containsPosition(Xr.splitPosition)){const tn=Fr.howMany-(Xr.splitPosition.offset-Fr.sourcePosition.offset);return Xr.howMany-=tn,Xr.splitPosition.hasSameParentAs(Fr.targetPosition)&&Xr.splitPosition.offset<Fr.targetPosition.offset&&(Xr.howMany+=Fr.howMany),Xr.splitPosition=Fr.sourcePosition.clone(),Xr.insertionPosition=Ws.getInsertionPosition(Xr.splitPosition),[Xr]}return Fr.sourcePosition.isEqual(Fr.targetPosition)||(Xr.splitPosition.hasSameParentAs(Fr.sourcePosition)&&Xr.splitPosition.offset<=Fr.sourcePosition.offset&&(Xr.howMany-=Fr.howMany),Xr.splitPosition.hasSameParentAs(Fr.targetPosition)&&Xr.splitPosition.offset<Fr.targetPosition.offset&&(Xr.howMany+=Fr.howMany)),Xr.splitPosition.stickiness="toNone",Xr.splitPosition=Xr.splitPosition._getTransformedByMoveOperation(Fr),Xr.splitPosition.stickiness="toNext",Xr.graveyardPosition?Xr.insertionPosition=Xr.insertionPosition._getTransformedByMoveOperation(Fr):Xr.insertionPosition=Ws.getInsertionPosition(Xr.splitPosition),[Xr]}),ms(Ws,Ws,(Xr,Fr,Ur)=>{if(Xr.splitPosition.isEqual(Fr.splitPosition)){if(!Xr.graveyardPosition&&!Fr.graveyardPosition)return[new zl(0)];if(Xr.graveyardPosition&&Fr.graveyardPosition&&Xr.graveyardPosition.isEqual(Fr.graveyardPosition))return[new zl(0)];if(Ur.abRelation=="splitBefore")return Xr.howMany=0,Xr.graveyardPosition=Xr.graveyardPosition._getTransformedBySplitOperation(Fr),[Xr]}if(Xr.graveyardPosition&&Fr.graveyardPosition&&Xr.graveyardPosition.isEqual(Fr.graveyardPosition)){const Yr=Xr.splitPosition.root.rootName=="$graveyard",Qr=Fr.splitPosition.root.rootName=="$graveyard";if(Qr&&!Yr||!(Yr&&!Qr)&&Ur.aIsStrong){const tn=[];return Fr.howMany&&tn.push(new xs(Fr.moveTargetPosition,Fr.howMany,Fr.splitPosition,0)),Xr.howMany&&tn.push(new xs(Xr.splitPosition,Xr.howMany,Xr.moveTargetPosition,0)),tn}return[new zl(0)]}if(Xr.graveyardPosition&&(Xr.graveyardPosition=Xr.graveyardPosition._getTransformedBySplitOperation(Fr)),Xr.splitPosition.isEqual(Fr.insertionPosition)&&Ur.abRelation=="splitBefore")return Xr.howMany++,[Xr];if(Fr.splitPosition.isEqual(Xr.insertionPosition)&&Ur.baRelation=="splitBefore"){const Yr=Fr.insertionPosition.path.slice();Yr.push(0);const Qr=new co(Fr.insertionPosition.root,Yr);return[Xr,new xs(Xr.insertionPosition,1,Qr,0)]}return Xr.splitPosition.hasSameParentAs(Fr.splitPosition)&&Xr.splitPosition.offset<Fr.splitPosition.offset&&(Xr.howMany-=Fr.howMany),Xr.splitPosition=Xr.splitPosition._getTransformedBySplitOperation(Fr),Xr.insertionPosition=Ws.getInsertionPosition(Xr.splitPosition),[Xr]});class cc extends wi(co){constructor(Fr,Ur,Yr="toNone"){if(super(Fr,Ur,Yr),!this.root.is("rootElement"))throw new wn("model-liveposition-root-not-rootelement",Fr);ck.call(this)}detach(){this.stopListening()}toPosition(){return new co(this.root,this.path.slice(),this.stickiness)}static fromPosition(Fr,Ur){return new this(Fr.root,Fr.path.slice(),Ur||Fr.stickiness)}}function ck(){this.listenTo(this.root.document.model,"applyOperation",(Xr,Fr)=>{const Ur=Fr[0];Ur.isDocumentOperation&&uk.call(this,Ur)},{priority:"low"})}function uk(Xr){const Fr=this.getTransformedByOperation(Xr);if(!this.isEqual(Fr)){const Ur=this.toPosition();this.path=Fr.path,this.root=Fr.root,this.fire("change",Ur)}}cc.prototype.is=function(Xr){return Xr==="livePosition"||Xr==="model:livePosition"||Xr=="position"||Xr==="model:position"};class Fh{constructor(Fr={}){typeof Fr=="string"&&(Fr=Fr==="transparent"?{isUndoable:!1}:{},xn("batch-constructor-deprecated-string-type"));const{isUndoable:Ur=!0,isLocal:Yr=!0,isUndo:Qr=!1,isTyping:tn=!1}=Fr;this.operations=[],this.isUndoable=Ur,this.isLocal=Yr,this.isUndo=Qr,this.isTyping=tn}get type(){return xn("batch-type-deprecated"),"default"}get baseVersion(){for(const Fr of this.operations)if(Fr.baseVersion!==null)return Fr.baseVersion;return null}addOperation(Fr){return Fr.batch=this,this.operations.push(Fr),Fr}}var dk=Object.defineProperty,zv=Object.getOwnPropertySymbols,hk=Object.prototype.hasOwnProperty,fk=Object.prototype.propertyIsEnumerable,Hv=(Xr,Fr,Ur)=>Fr in Xr?dk(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur;class pk{constructor(Fr){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=Fr}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(Fr){const Ur=Fr;switch(Ur.type){case"insert":if(this._isInInsertedElement(Ur.position.parent))return;this._markInsert(Ur.position.parent,Ur.position.offset,Ur.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const Yr of Ur.range.getItems({shallow:!0}))this._isInInsertedElement(Yr.parent)||this._markAttribute(Yr);break;case"remove":case"move":case"reinsert":{if(Ur.sourcePosition.isEqual(Ur.targetPosition)||Ur.sourcePosition.getShiftedBy(Ur.howMany).isEqual(Ur.targetPosition))return;const Yr=this._isInInsertedElement(Ur.sourcePosition.parent),Qr=this._isInInsertedElement(Ur.targetPosition.parent);Yr||this._markRemove(Ur.sourcePosition.parent,Ur.sourcePosition.offset,Ur.howMany),Qr||this._markInsert(Ur.targetPosition.parent,Ur.getMovedRangeStart().offset,Ur.howMany);break}case"rename":{if(this._isInInsertedElement(Ur.position.parent))return;this._markRemove(Ur.position.parent,Ur.position.offset,1),this._markInsert(Ur.position.parent,Ur.position.offset,1);const Yr=Ui._createFromPositionAndShift(Ur.position,1);for(const Qr of this._markerCollection.getMarkersIntersectingRange(Yr)){const tn=Qr.getData();this.bufferMarkerChange(Qr.name,tn,tn)}break}case"split":{const Yr=Ur.splitPosition.parent;this._isInInsertedElement(Yr)||this._markRemove(Yr,Ur.splitPosition.offset,Ur.howMany),this._isInInsertedElement(Ur.insertionPosition.parent)||this._markInsert(Ur.insertionPosition.parent,Ur.insertionPosition.offset,1),Ur.graveyardPosition&&this._markRemove(Ur.graveyardPosition.parent,Ur.graveyardPosition.offset,1);break}case"merge":{const Yr=Ur.sourcePosition.parent;this._isInInsertedElement(Yr.parent)||this._markRemove(Yr.parent,Yr.startOffset,1);const Qr=Ur.graveyardPosition.parent;this._markInsert(Qr,Ur.graveyardPosition.offset,1);const tn=Ur.targetPosition.parent;this._isInInsertedElement(tn)||this._markInsert(tn,Ur.targetPosition.offset,Yr.maxOffset);break}case"detachRoot":case"addRoot":this._bufferRootStateChange(Ur.rootName,Ur.isAdd);break;case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{const Yr=Ur.root.rootName;this._bufferRootAttributeChange(Yr,Ur.key,Ur.oldValue,Ur.newValue);break}}this._cachedChanges=null}bufferMarkerChange(Fr,Ur,Yr){const Qr=this._changedMarkers.get(Fr);Qr?(Qr.newMarkerData=Yr,Qr.oldMarkerData.range==null&&Yr.range==null&&this._changedMarkers.delete(Fr)):this._changedMarkers.set(Fr,{newMarkerData:Yr,oldMarkerData:Ur})}getMarkersToRemove(){const Fr=[];for(const[Ur,Yr]of this._changedMarkers)Yr.oldMarkerData.range!=null&&Fr.push({name:Ur,range:Yr.oldMarkerData.range});return Fr}getMarkersToAdd(){const Fr=[];for(const[Ur,Yr]of this._changedMarkers)Yr.newMarkerData.range!=null&&Fr.push({name:Ur,range:Yr.newMarkerData.range});return Fr}getChangedMarkers(){return Array.from(this._changedMarkers).map(([Fr,Ur])=>({name:Fr,data:{oldRange:Ur.oldMarkerData.range,newRange:Ur.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:Fr,oldMarkerData:Ur}of this._changedMarkers.values()){if(Fr.affectsData!==Ur.affectsData)return!0;if(Fr.affectsData){const Yr=Fr.range&&!Ur.range,Qr=!Fr.range&&Ur.range,tn=Fr.range&&Ur.range&&!Fr.range.isEqual(Ur.range);if(Yr||Qr||tn)return!0}}return!1}getChanges(Fr={}){if(this._cachedChanges)return Fr.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let Ur=[];for(const Yr of this._changesInElement.keys()){const Qr=this._changesInElement.get(Yr).sort((Cn,Dn)=>Cn.offset===Dn.offset?Cn.type!=Dn.type?Cn.type=="remove"?-1:1:0:Cn.offset<Dn.offset?-1:1),tn=this._elementSnapshots.get(Yr),sn=Vv(Yr.getChildren()),un=gk(tn.length,Qr);let gn=0,kn=0;for(const Cn of un)if(Cn==="i")Ur.push(this._getInsertDiff(Yr,gn,sn[gn])),gn++;else if(Cn==="r")Ur.push(this._getRemoveDiff(Yr,gn,tn[kn])),kn++;else if(Cn==="a"){const Dn=sn[gn].attributes,Ln=tn[kn].attributes;let zn;if(sn[gn].name=="$text")zn=new Ui(co._createAt(Yr,gn),co._createAt(Yr,gn+1));else{const Wn=Yr.offsetToIndex(gn);zn=new Ui(co._createAt(Yr,gn),co._createAt(Yr.getChild(Wn),0))}Ur.push(...this._getAttributesDiff(zn,Ln,Dn)),gn++,kn++}else gn++,kn++}Ur.sort((Yr,Qr)=>Yr.position.root!=Qr.position.root?Yr.position.root.rootName<Qr.position.root.rootName?-1:1:Yr.position.isEqual(Qr.position)?Yr.changeCount-Qr.changeCount:Yr.position.isBefore(Qr.position)?-1:1);for(let Yr=1,Qr=0;Yr<Ur.length;Yr++){const tn=Ur[Qr],sn=Ur[Yr],un=tn.type=="remove"&&sn.type=="remove"&&tn.name=="$text"&&sn.name=="$text"&&tn.position.isEqual(sn.position),gn=tn.type=="insert"&&sn.type=="insert"&&tn.name=="$text"&&sn.name=="$text"&&tn.position.parent==sn.position.parent&&tn.position.offset+tn.length==sn.position.offset,kn=tn.type=="attribute"&&sn.type=="attribute"&&tn.position.parent==sn.position.parent&&tn.range.isFlat&&sn.range.isFlat&&tn.position.offset+tn.length==sn.position.offset&&tn.attributeKey==sn.attributeKey&&tn.attributeOldValue==sn.attributeOldValue&&tn.attributeNewValue==sn.attributeNewValue;un||gn||kn?(tn.length++,kn&&(tn.range.end=tn.range.end.getShiftedBy(1)),Ur[Yr]=null):Qr=Yr}Ur=Ur.filter(Yr=>Yr);for(const Yr of Ur)delete Yr.changeCount,Yr.type=="attribute"&&(delete Yr.position,delete Yr.length);return this._changeCount=0,this._cachedChangesWithGraveyard=Ur,this._cachedChanges=Ur.filter(mk),Fr.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(Fr=>{const Ur=((Yr,Qr)=>{for(var tn in Qr||(Qr={}))hk.call(Qr,tn)&&Hv(Yr,tn,Qr[tn]);if(zv)for(var tn of zv(Qr))fk.call(Qr,tn)&&Hv(Yr,tn,Qr[tn]);return Yr})({},Fr);return Ur.state!==void 0&&delete Ur.attributes,Ur})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(Fr,Ur){if(!this._changedRoots.has(Fr))return void this._changedRoots.set(Fr,{name:Fr,state:Ur?"attached":"detached"});const Yr=this._changedRoots.get(Fr);Yr.state!==void 0?(delete Yr.state,Yr.attributes===void 0&&this._changedRoots.delete(Fr)):Yr.state=Ur?"attached":"detached"}_bufferRootAttributeChange(Fr,Ur,Yr,Qr){const tn=this._changedRoots.get(Fr)||{name:Fr},sn=tn.attributes||{};if(sn[Ur]){const un=sn[Ur];Qr===un.oldValue?delete sn[Ur]:un.newValue=Qr}else sn[Ur]={oldValue:Yr,newValue:Qr};Object.entries(sn).length===0?(delete tn.attributes,tn.state===void 0&&this._changedRoots.delete(Fr)):(tn.attributes=sn,this._changedRoots.set(Fr,tn))}_refreshItem(Fr){if(this._isInInsertedElement(Fr.parent))return;this._markRemove(Fr.parent,Fr.startOffset,Fr.offsetSize),this._markInsert(Fr.parent,Fr.startOffset,Fr.offsetSize),this._refreshedItems.add(Fr);const Ur=Ui._createOn(Fr);for(const Yr of this._markerCollection.getMarkersIntersectingRange(Ur)){const Qr=Yr.getData();this.bufferMarkerChange(Yr.name,Qr,Qr)}this._cachedChanges=null}_markInsert(Fr,Ur,Yr){const Qr={type:"insert",offset:Ur,howMany:Yr,count:this._changeCount++};this._markChange(Fr,Qr)}_markRemove(Fr,Ur,Yr){const Qr={type:"remove",offset:Ur,howMany:Yr,count:this._changeCount++};this._markChange(Fr,Qr),this._removeAllNestedChanges(Fr,Ur,Yr)}_markAttribute(Fr){const Ur={type:"attribute",offset:Fr.startOffset,howMany:Fr.offsetSize,count:this._changeCount++};this._markChange(Fr.parent,Ur)}_markChange(Fr,Ur){this._makeSnapshot(Fr);const Yr=this._getChangesForElement(Fr);this._handleChange(Ur,Yr),Yr.push(Ur);for(let Qr=0;Qr<Yr.length;Qr++)Yr[Qr].howMany<1&&(Yr.splice(Qr,1),Qr--)}_getChangesForElement(Fr){let Ur;return this._changesInElement.has(Fr)?Ur=this._changesInElement.get(Fr):(Ur=[],this._changesInElement.set(Fr,Ur)),Ur}_makeSnapshot(Fr){this._elementSnapshots.has(Fr)||this._elementSnapshots.set(Fr,Vv(Fr.getChildren()))}_handleChange(Fr,Ur){Fr.nodesToHandle=Fr.howMany;for(const Yr of Ur){const Qr=Fr.offset+Fr.howMany,tn=Yr.offset+Yr.howMany;if(Fr.type=="insert"&&(Yr.type=="insert"&&(Fr.offset<=Yr.offset?Yr.offset+=Fr.howMany:Fr.offset<tn&&(Yr.howMany+=Fr.nodesToHandle,Fr.nodesToHandle=0)),Yr.type=="remove"&&Fr.offset<Yr.offset&&(Yr.offset+=Fr.howMany),Yr.type=="attribute")){if(Fr.offset<=Yr.offset)Yr.offset+=Fr.howMany;else if(Fr.offset<tn){const sn=Yr.howMany;Yr.howMany=Fr.offset-Yr.offset,Ur.unshift({type:"attribute",offset:Qr,howMany:sn-Yr.howMany,count:this._changeCount++})}}if(Fr.type=="remove"){if(Yr.type=="insert"){if(Qr<=Yr.offset)Yr.offset-=Fr.howMany;else if(Qr<=tn)if(Fr.offset<Yr.offset){const sn=Qr-Yr.offset;Yr.offset=Fr.offset,Yr.howMany-=sn,Fr.nodesToHandle-=sn}else Yr.howMany-=Fr.nodesToHandle,Fr.nodesToHandle=0;else if(Fr.offset<=Yr.offset)Fr.nodesToHandle-=Yr.howMany,Yr.howMany=0;else if(Fr.offset<tn){const sn=tn-Fr.offset;Yr.howMany-=sn,Fr.nodesToHandle-=sn}}if(Yr.type=="remove"&&(Qr<=Yr.offset?Yr.offset-=Fr.howMany:Fr.offset<Yr.offset&&(Fr.nodesToHandle+=Yr.howMany,Yr.howMany=0)),Yr.type=="attribute"){if(Qr<=Yr.offset)Yr.offset-=Fr.howMany;else if(Fr.offset<Yr.offset){const sn=Qr-Yr.offset;Yr.offset=Fr.offset,Yr.howMany-=sn}else if(Fr.offset<tn)if(Qr<=tn){const sn=Yr.howMany;Yr.howMany=Fr.offset-Yr.offset;const un=sn-Yr.howMany-Fr.nodesToHandle;Ur.unshift({type:"attribute",offset:Fr.offset,howMany:un,count:this._changeCount++})}else Yr.howMany-=tn-Fr.offset}}if(Fr.type=="attribute"){if(Yr.type=="insert")if(Fr.offset<Yr.offset&&Qr>Yr.offset){if(Qr>tn){const sn={type:"attribute",offset:tn,howMany:Qr-tn,count:this._changeCount++};this._handleChange(sn,Ur),Ur.push(sn)}Fr.nodesToHandle=Yr.offset-Fr.offset,Fr.howMany=Fr.nodesToHandle}else Fr.offset>=Yr.offset&&Fr.offset<tn&&(Qr>tn?(Fr.nodesToHandle=Qr-tn,Fr.offset=tn):Fr.nodesToHandle=0);if(Yr.type=="remove"&&Fr.offset<Yr.offset&&Qr>Yr.offset){const sn={type:"attribute",offset:Yr.offset,howMany:Qr-Yr.offset,count:this._changeCount++};this._handleChange(sn,Ur),Ur.push(sn),Fr.nodesToHandle=Yr.offset-Fr.offset,Fr.howMany=Fr.nodesToHandle}Yr.type=="attribute"&&(Fr.offset>=Yr.offset&&Qr<=tn?(Fr.nodesToHandle=0,Fr.howMany=0,Fr.offset=0):Fr.offset<=Yr.offset&&Qr>=tn&&(Yr.howMany=0))}}Fr.howMany=Fr.nodesToHandle,delete Fr.nodesToHandle}_getInsertDiff(Fr,Ur,Yr){return{type:"insert",position:co._createAt(Fr,Ur),name:Yr.name,attributes:new Map(Yr.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(Fr,Ur,Yr){return{type:"remove",position:co._createAt(Fr,Ur),name:Yr.name,attributes:new Map(Yr.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(Fr,Ur,Yr){const Qr=[];Yr=new Map(Yr);for(const[tn,sn]of Ur){const un=Yr.has(tn)?Yr.get(tn):null;un!==sn&&Qr.push({type:"attribute",position:Fr.start,range:Fr.clone(),length:1,attributeKey:tn,attributeOldValue:sn,attributeNewValue:un,changeCount:this._changeCount++}),Yr.delete(tn)}for(const[tn,sn]of Yr)Qr.push({type:"attribute",position:Fr.start,range:Fr.clone(),length:1,attributeKey:tn,attributeOldValue:null,attributeNewValue:sn,changeCount:this._changeCount++});return Qr}_isInInsertedElement(Fr){const Ur=Fr.parent;if(!Ur)return!1;const Yr=this._changesInElement.get(Ur),Qr=Fr.startOffset;if(Yr){for(const tn of Yr)if(tn.type=="insert"&&Qr>=tn.offset&&Qr<tn.offset+tn.howMany)return!0}return this._isInInsertedElement(Ur)}_removeAllNestedChanges(Fr,Ur,Yr){const Qr=new Ui(co._createAt(Fr,Ur),co._createAt(Fr,Ur+Yr));for(const tn of Qr.getItems({shallow:!0}))tn.is("element")&&(this._elementSnapshots.delete(tn),this._changesInElement.delete(tn),this._removeAllNestedChanges(tn,0,tn.maxOffset))}}function Vv(Xr){const Fr=[];for(const Ur of Xr)if(Ur.is("$text"))for(let Yr=0;Yr<Ur.data.length;Yr++)Fr.push({name:"$text",attributes:new Map(Ur.getAttributes())});else Fr.push({name:Ur.name,attributes:new Map(Ur.getAttributes())});return Fr}function gk(Xr,Fr){const Ur=[];let Yr=0,Qr=0;for(const tn of Fr){if(tn.offset>Yr){for(let sn=0;sn<tn.offset-Yr;sn++)Ur.push("e");Qr+=tn.offset-Yr}if(tn.type=="insert"){for(let sn=0;sn<tn.howMany;sn++)Ur.push("i");Yr=tn.offset+tn.howMany}else if(tn.type=="remove"){for(let sn=0;sn<tn.howMany;sn++)Ur.push("r");Yr=tn.offset,Qr+=tn.howMany}else Ur.push(..."a".repeat(tn.howMany).split("")),Yr=tn.offset+tn.howMany,Qr+=tn.howMany}if(Qr<Xr)for(let tn=0;tn<Xr-Qr-Yr;tn++)Ur.push("e");return Ur}function mk(Xr){const Fr="position"in Xr&&Xr.position.root.rootName=="$graveyard",Ur="range"in Xr&&Xr.range.root.rootName=="$graveyard";return!Fr&&!Ur}class vk{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(Fr){this._operations.length&&Fr>this._version+1&&this._gaps.set(this._version,Fr),this._version=Fr}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(Fr){if(Fr.baseVersion!==this.version)throw new wn("model-document-history-addoperation-incorrect-version",this,{operation:Fr,historyVersion:this.version});this._operations.push(Fr),this._version++,this._baseVersionToOperationIndex.set(Fr.baseVersion,this._operations.length-1)}getOperations(Fr,Ur=this.version){if(!this._operations.length)return[];const Yr=this._operations[0];Fr===void 0&&(Fr=Yr.baseVersion);let Qr=Ur-1;for(const[un,gn]of this._gaps)Fr>un&&Fr<gn&&(Fr=gn),Qr>un&&Qr<gn&&(Qr=un-1);if(Qr<Yr.baseVersion||Fr>this.lastOperation.baseVersion)return[];let tn=this._baseVersionToOperationIndex.get(Fr);tn===void 0&&(tn=0);let sn=this._baseVersionToOperationIndex.get(Qr);return sn===void 0&&(sn=this._operations.length-1),this._operations.slice(tn,sn+1)}getOperation(Fr){const Ur=this._baseVersionToOperationIndex.get(Fr);if(Ur!==void 0)return this._operations[Ur]}setOperationAsUndone(Fr,Ur){this._undoPairs.set(Ur,Fr),this._undoneOperations.add(Fr)}isUndoingOperation(Fr){return this._undoPairs.has(Fr)}isUndoneOperation(Fr){return this._undoneOperations.has(Fr)}getUndoneOperation(Fr){return this._undoPairs.get(Fr)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class $p extends Rs{constructor(Fr,Ur,Yr="main"){super(Ur),this._isAttached=!0,this._document=Fr,this.rootName=Yr}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}$p.prototype.is=function(Xr,Fr){return Fr?Fr===this.name&&(Xr==="rootElement"||Xr==="model:rootElement"||Xr==="element"||Xr==="model:element"):Xr==="rootElement"||Xr==="model:rootElement"||Xr==="element"||Xr==="model:element"||Xr==="node"||Xr==="model:node"};var yk=Object.defineProperty,bk=Object.defineProperties,_k=Object.getOwnPropertyDescriptors,jv=Object.getOwnPropertySymbols,wk=Object.prototype.hasOwnProperty,kk=Object.prototype.propertyIsEnumerable,Uv=(Xr,Fr,Ur)=>Fr in Xr?yk(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur,Gv=(Xr,Fr)=>{for(var Ur in Fr||(Fr={}))wk.call(Fr,Ur)&&Uv(Xr,Ur,Fr[Ur]);if(jv)for(var Ur of jv(Fr))kk.call(Fr,Ur)&&Uv(Xr,Ur,Fr[Ur]);return Xr},Wv=(Xr,Fr)=>bk(Xr,_k(Fr));const Ng="$graveyard";class Ak extends wi(){constructor(Fr){super(),this.model=Fr,this.history=new vk,this.selection=new Su(this),this.roots=new $c({idProperty:"rootName"}),this.differ=new pk(Fr.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Ng),this.listenTo(Fr,"applyOperation",(Ur,Yr)=>{const Qr=Yr[0];Qr.isDocumentOperation&&this.differ.bufferOperation(Qr)},{priority:"high"}),this.listenTo(Fr,"applyOperation",(Ur,Yr)=>{const Qr=Yr[0];Qr.isDocumentOperation&&this.history.addOperation(Qr)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(Fr.markers,"update",(Ur,Yr,Qr,tn,sn)=>{const un=Wv(Gv({},Yr.getData()),{range:tn});this.differ.bufferMarkerChange(Yr.name,sn,un),Qr===null&&Yr.on("change",(gn,kn)=>{const Cn=Yr.getData();this.differ.bufferMarkerChange(Yr.name,Wv(Gv({},Cn),{range:kn}),Cn)})}),this.registerPostFixer(Ur=>{let Yr=!1;for(const Qr of this.roots)Qr.isAttached()||Qr.isEmpty||(Ur.remove(Ur.createRangeIn(Qr)),Yr=!0);for(const Qr of this.model.markers)Qr.getRange().root.isAttached()||(Ur.removeMarker(Qr),Yr=!0);return Yr})}get version(){return this.history.version}set version(Fr){this.history.version=Fr}get graveyard(){return this.getRoot(Ng)}createRoot(Fr="$root",Ur="main"){if(this.roots.get(Ur))throw new wn("model-document-createroot-name-exists",this,{name:Ur});const Yr=new $p(this,Fr,Ur);return this.roots.add(Yr),Yr}destroy(){this.selection.destroy(),this.stopListening()}getRoot(Fr="main"){return this.roots.get(Fr)}getRootNames(Fr=!1){return Array.from(this.roots).filter(Ur=>Ur.rootName!=Ng&&(Fr||Ur.isAttached())).map(Ur=>Ur.rootName)}registerPostFixer(Fr){this._postFixers.add(Fr)}toJSON(){const Fr=wd(this);return Fr.selection="[engine.model.DocumentSelection]",Fr.model="[engine.model.Model]",Fr}_handleChangeBlock(Fr){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(Fr),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",Fr.batch):this.fire("change",Fr.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const Fr of this.roots)if(Fr!==this.graveyard)return Fr;return this.graveyard}_getDefaultRange(){const Fr=this._getDefaultRoot(),Ur=this.model,Yr=Ur.schema,Qr=Ur.createPositionFromPath(Fr,[0]);return Yr.getNearestSelectionRange(Qr)||Ur.createRange(Qr)}_validateSelectionRange(Fr){return Yv(Fr.start)&&Yv(Fr.end)}_callPostFixers(Fr){let Ur=!1;do for(const Yr of this._postFixers)if(this.selection.refresh(),Ur=Yr(Fr),Ur)break;while(Ur)}}function Yv(Xr){const Fr=Xr.textNode;if(Fr){const Ur=Fr.data,Yr=Xr.offset-Fr.startOffset;return!Nl(Ur,Yr)&&!fl(Ur,Yr)}return!0}var Ck=Object.defineProperty,xk=Object.defineProperties,Sk=Object.getOwnPropertyDescriptors,qv=Object.getOwnPropertySymbols,Dk=Object.prototype.hasOwnProperty,Ek=Object.prototype.propertyIsEnumerable,Kv=(Xr,Fr,Ur)=>Fr in Xr?Ck(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur;class Tk extends wi(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(Fr){const Ur=Fr instanceof zh?Fr.name:Fr;return this._markers.has(Ur)}get(Fr){return this._markers.get(Fr)||null}_set(Fr,Ur,Yr=!1,Qr=!1){const tn=Fr instanceof zh?Fr.name:Fr;if(tn.includes(","))throw new wn("markercollection-incorrect-marker-name",this);const sn=this._markers.get(tn);if(sn){const Cn=sn.getData(),Dn=sn.getRange();let Ln=!1;return Dn.isEqual(Ur)||(sn._attachLiveRange(xu.fromRange(Ur)),Ln=!0),Yr!=sn.managedUsingOperations&&(sn._managedUsingOperations=Yr,Ln=!0),typeof Qr=="boolean"&&Qr!=sn.affectsData&&(sn._affectsData=Qr,Ln=!0),Ln&&this.fire(`update:${tn}`,sn,Dn,Ur,Cn),sn}const un=xu.fromRange(Ur),gn=new zh(tn,un,Yr,Qr);var kn;return this._markers.set(tn,gn),this.fire(`update:${tn}`,gn,null,Ur,(kn=((Cn,Dn)=>{for(var Ln in Dn||(Dn={}))Dk.call(Dn,Ln)&&Kv(Cn,Ln,Dn[Ln]);if(qv)for(var Ln of qv(Dn))Ek.call(Dn,Ln)&&Kv(Cn,Ln,Dn[Ln]);return Cn})({},gn.getData()),xk(kn,Sk({range:null})))),gn}_remove(Fr){const Ur=Fr instanceof zh?Fr.name:Fr,Yr=this._markers.get(Ur);return!!Yr&&(this._markers.delete(Ur),this.fire(`update:${Ur}`,Yr,Yr.getRange(),null,Yr.getData()),this._destroyMarker(Yr),!0)}_refresh(Fr){const Ur=Fr instanceof zh?Fr.name:Fr,Yr=this._markers.get(Ur);if(!Yr)throw new wn("markercollection-refresh-marker-not-exists",this);const Qr=Yr.getRange();this.fire(`update:${Ur}`,Yr,Qr,Qr,Yr.getData())}*getMarkersAtPosition(Fr){for(const Ur of this)Ur.getRange().containsPosition(Fr)&&(yield Ur)}*getMarkersIntersectingRange(Fr){for(const Ur of this)Ur.getRange().getIntersection(Fr)!==null&&(yield Ur)}destroy(){for(const Fr of this._markers.values())this._destroyMarker(Fr);this._markers=null,this.stopListening()}*getMarkersGroup(Fr){for(const Ur of this._markers.values())Ur.name.startsWith(Fr+":")&&(yield Ur)}_destroyMarker(Fr){Fr.stopListening(),Fr._detachLiveRange()}}class zh extends wi(Id){constructor(Fr,Ur,Yr,Qr){super(),this.name=Fr,this._liveRange=this._attachLiveRange(Ur),this._managedUsingOperations=Yr,this._affectsData=Qr}get managedUsingOperations(){if(!this._liveRange)throw new wn("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new wn("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new wn("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new wn("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new wn("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(Fr){return this._liveRange&&this._detachLiveRange(),Fr.delegate("change:range").to(this),Fr.delegate("change:content").to(this),this._liveRange=Fr,Fr}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}zh.prototype.is=function(Xr){return Xr==="marker"||Xr==="model:marker"};class Mk extends Uc{constructor(Fr,Ur){super(null),this.sourcePosition=Fr.clone(),this.howMany=Ur}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const Fr=super.toJSON();return Fr.sourcePosition=this.sourcePosition.toJSON(),Fr}_validate(){if(this.sourcePosition.root.document)throw new wn("detach-operation-on-document-node",this)}_execute(){Iv(Ui._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ud extends Id{constructor(Fr){super(),this.markers=new Map,this._children=new Vf,Fr&&this._insertChild(0,Fr)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(Fr){return this._children.getNode(Fr)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(Fr){return this._children.getNodeIndex(Fr)}getChildStartOffset(Fr){return this._children.getNodeStartOffset(Fr)}getPath(){return[]}getNodeByPath(Fr){let Ur=this;for(const Yr of Fr)Ur=Ur.getChild(Ur.offsetToIndex(Yr));return Ur}offsetToIndex(Fr){return this._children.offsetToIndex(Fr)}toJSON(){const Fr=[];for(const Ur of this._children)Fr.push(Ur.toJSON());return Fr}static fromJSON(Fr){const Ur=[];for(const Yr of Fr)Yr.name?Ur.push(Rs.fromJSON(Yr)):Ur.push(Gs.fromJSON(Yr));return new ud(Ur)}_appendChild(Fr){this._insertChild(this.childCount,Fr)}_insertChild(Fr,Ur){const Yr=function(Qr){return typeof Qr=="string"?[new Gs(Qr)]:(xi(Qr)||(Qr=[Qr]),Array.from(Qr).map(tn=>typeof tn=="string"?new Gs(tn):tn instanceof Cu?new Gs(tn.data,tn.getAttributes()):tn))}(Ur);for(const Qr of Yr)Qr.parent!==null&&Qr._remove(),Qr.parent=this;this._children._insertNodes(Fr,Yr)}_removeChildren(Fr,Ur=1){const Yr=this._children._removeNodes(Fr,Ur);for(const Qr of Yr)Qr.parent=null;return Yr}}ud.prototype.is=function(Xr){return Xr==="documentFragment"||Xr==="model:documentFragment"};class Ik{constructor(Fr,Ur){this.model=Fr,this.batch=Ur}createText(Fr,Ur){return new Gs(Fr,Ur)}createElement(Fr,Ur){return new Rs(Fr,Ur)}createDocumentFragment(){return new ud}cloneElement(Fr,Ur=!0){return Fr._clone(Ur)}insert(Fr,Ur,Yr=0){if(this._assertWriterUsedCorrectly(),Fr instanceof Gs&&Fr.data=="")return;const Qr=co._createAt(Ur,Yr);if(Fr.parent){if(Qv(Fr.root,Qr.root))return void this.move(Ui._createOn(Fr),Qr);if(Fr.root.document)throw new wn("model-writer-insert-forbidden-move",this);this.remove(Fr)}const tn=Qr.root.document?Qr.root.document.version:null,sn=new Xl(Qr,Fr,tn);if(Fr instanceof Gs&&(sn.shouldReceiveAttributes=!0),this.batch.addOperation(sn),this.model.applyOperation(sn),Fr instanceof ud)for(const[un,gn]of Fr.markers){const kn=co._createAt(gn.root,0),Cn={range:new Ui(gn.start._getCombined(kn,Qr),gn.end._getCombined(kn,Qr)),usingOperation:!0,affectsData:!0};this.model.markers.has(un)?this.updateMarker(un,Cn):this.addMarker(un,Cn)}}insertText(Fr,Ur,Yr,Qr){Ur instanceof ud||Ur instanceof Rs||Ur instanceof co?this.insert(this.createText(Fr),Ur,Yr):this.insert(this.createText(Fr,Ur),Yr,Qr)}insertElement(Fr,Ur,Yr,Qr){Ur instanceof ud||Ur instanceof Rs||Ur instanceof co?this.insert(this.createElement(Fr),Ur,Yr):this.insert(this.createElement(Fr,Ur),Yr,Qr)}append(Fr,Ur){this.insert(Fr,Ur,"end")}appendText(Fr,Ur,Yr){Ur instanceof ud||Ur instanceof Rs?this.insert(this.createText(Fr),Ur,"end"):this.insert(this.createText(Fr,Ur),Yr,"end")}appendElement(Fr,Ur,Yr){Ur instanceof ud||Ur instanceof Rs?this.insert(this.createElement(Fr),Ur,"end"):this.insert(this.createElement(Fr,Ur),Yr,"end")}setAttribute(Fr,Ur,Yr){if(this._assertWriterUsedCorrectly(),Yr instanceof Ui){const Qr=Yr.getMinimalFlatRanges();for(const tn of Qr)Zv(this,Fr,Ur,tn)}else Xv(this,Fr,Ur,Yr)}setAttributes(Fr,Ur){for(const[Yr,Qr]of tl(Fr))this.setAttribute(Yr,Qr,Ur)}removeAttribute(Fr,Ur){if(this._assertWriterUsedCorrectly(),Ur instanceof Ui){const Yr=Ur.getMinimalFlatRanges();for(const Qr of Yr)Zv(this,Fr,null,Qr)}else Xv(this,Fr,null,Ur)}clearAttributes(Fr){this._assertWriterUsedCorrectly();const Ur=Yr=>{for(const Qr of Yr.getAttributeKeys())this.removeAttribute(Qr,Yr)};if(Fr instanceof Ui)for(const Yr of Fr.getItems())Ur(Yr);else Ur(Fr)}move(Fr,Ur,Yr){if(this._assertWriterUsedCorrectly(),!(Fr instanceof Ui))throw new wn("writer-move-invalid-range",this);if(!Fr.isFlat)throw new wn("writer-move-range-not-flat",this);const Qr=co._createAt(Ur,Yr);if(Qr.isEqual(Fr.start))return;if(this._addOperationForAffectedMarkers("move",Fr),!Qv(Fr.root,Qr.root))throw new wn("writer-move-different-document",this);const tn=Fr.root.document?Fr.root.document.version:null,sn=new xs(Fr.start,Fr.end.offset-Fr.start.offset,Qr,tn);this.batch.addOperation(sn),this.model.applyOperation(sn)}remove(Fr){this._assertWriterUsedCorrectly();const Ur=(Fr instanceof Ui?Fr:Ui._createOn(Fr)).getMinimalFlatRanges().reverse();for(const Yr of Ur)this._addOperationForAffectedMarkers("move",Yr),Lk(Yr.start,Yr.end.offset-Yr.start.offset,this.batch,this.model)}merge(Fr){this._assertWriterUsedCorrectly();const Ur=Fr.nodeBefore,Yr=Fr.nodeAfter;if(this._addOperationForAffectedMarkers("merge",Fr),!(Ur instanceof Rs))throw new wn("writer-merge-no-element-before",this);if(!(Yr instanceof Rs))throw new wn("writer-merge-no-element-after",this);Fr.root.document?this._merge(Fr):this._mergeDetached(Fr)}createPositionFromPath(Fr,Ur,Yr){return this.model.createPositionFromPath(Fr,Ur,Yr)}createPositionAt(Fr,Ur){return this.model.createPositionAt(Fr,Ur)}createPositionAfter(Fr){return this.model.createPositionAfter(Fr)}createPositionBefore(Fr){return this.model.createPositionBefore(Fr)}createRange(Fr,Ur){return this.model.createRange(Fr,Ur)}createRangeIn(Fr){return this.model.createRangeIn(Fr)}createRangeOn(Fr){return this.model.createRangeOn(Fr)}createSelection(...Fr){return this.model.createSelection(...Fr)}_mergeDetached(Fr){const Ur=Fr.nodeBefore,Yr=Fr.nodeAfter;this.move(Ui._createIn(Yr),co._createAt(Ur,"end")),this.remove(Yr)}_merge(Fr){const Ur=co._createAt(Fr.nodeBefore,"end"),Yr=co._createAt(Fr.nodeAfter,0),Qr=Fr.root.document.graveyard,tn=new co(Qr,[0]),sn=Fr.root.document.version,un=new Al(Yr,Fr.nodeAfter.maxOffset,Ur,tn,sn);this.batch.addOperation(un),this.model.applyOperation(un)}rename(Fr,Ur){if(this._assertWriterUsedCorrectly(),!(Fr instanceof Rs))throw new wn("writer-rename-not-element-instance",this);const Yr=Fr.root.document?Fr.root.document.version:null,Qr=new Tc(co._createBefore(Fr),Fr.name,Ur,Yr);this.batch.addOperation(Qr),this.model.applyOperation(Qr)}split(Fr,Ur){this._assertWriterUsedCorrectly();let Yr,Qr,tn=Fr.parent;if(!tn.parent)throw new wn("writer-split-element-no-parent",this);if(Ur||(Ur=tn.parent),!Fr.parent.getAncestors({includeSelf:!0}).includes(Ur))throw new wn("writer-split-invalid-limit-element",this);do{const sn=tn.root.document?tn.root.document.version:null,un=tn.maxOffset-Fr.offset,gn=Ws.getInsertionPosition(Fr),kn=new Ws(Fr,un,gn,null,sn);this.batch.addOperation(kn),this.model.applyOperation(kn),Yr||Qr||(Yr=tn,Qr=Fr.parent.nextSibling),tn=(Fr=this.createPositionAfter(Fr.parent)).parent}while(tn!==Ur);return{position:Fr,range:new Ui(co._createAt(Yr,"end"),co._createAt(Qr,0))}}wrap(Fr,Ur){if(this._assertWriterUsedCorrectly(),!Fr.isFlat)throw new wn("writer-wrap-range-not-flat",this);const Yr=Ur instanceof Rs?Ur:new Rs(Ur);if(Yr.childCount>0)throw new wn("writer-wrap-element-not-empty",this);if(Yr.parent!==null)throw new wn("writer-wrap-element-attached",this);this.insert(Yr,Fr.start);const Qr=new Ui(Fr.start.getShiftedBy(1),Fr.end.getShiftedBy(1));this.move(Qr,co._createAt(Yr,0))}unwrap(Fr){if(this._assertWriterUsedCorrectly(),Fr.parent===null)throw new wn("writer-unwrap-element-no-parent",this);this.move(Ui._createIn(Fr),this.createPositionAfter(Fr)),this.remove(Fr)}addMarker(Fr,Ur){if(this._assertWriterUsedCorrectly(),!Ur||typeof Ur.usingOperation!="boolean")throw new wn("writer-addmarker-no-usingoperation",this);const Yr=Ur.usingOperation,Qr=Ur.range,tn=Ur.affectsData!==void 0&&Ur.affectsData;if(this.model.markers.has(Fr))throw new wn("writer-addmarker-marker-exists",this);if(!Qr)throw new wn("writer-addmarker-no-range",this);return Yr?(Kf(this,Fr,null,Qr,tn),this.model.markers.get(Fr)):this.model.markers._set(Fr,Qr,Yr,tn)}updateMarker(Fr,Ur){this._assertWriterUsedCorrectly();const Yr=typeof Fr=="string"?Fr:Fr.name,Qr=this.model.markers.get(Yr);if(!Qr)throw new wn("writer-updatemarker-marker-not-exists",this);if(!Ur)return xn("writer-updatemarker-reconvert-using-editingcontroller",{markerName:Yr}),void this.model.markers._refresh(Qr);const tn=typeof Ur.usingOperation=="boolean",sn=typeof Ur.affectsData=="boolean",un=sn?Ur.affectsData:Qr.affectsData;if(!tn&&!Ur.range&&!sn)throw new wn("writer-updatemarker-wrong-options",this);const gn=Qr.getRange(),kn=Ur.range?Ur.range:gn;tn&&Ur.usingOperation!==Qr.managedUsingOperations?Ur.usingOperation?Kf(this,Yr,null,kn,un):(Kf(this,Yr,gn,null,un),this.model.markers._set(Yr,kn,void 0,un)):Qr.managedUsingOperations?Kf(this,Yr,gn,kn,un):this.model.markers._set(Yr,kn,void 0,un)}removeMarker(Fr){this._assertWriterUsedCorrectly();const Ur=typeof Fr=="string"?Fr:Fr.name;if(!this.model.markers.has(Ur))throw new wn("writer-removemarker-no-marker",this);const Yr=this.model.markers.get(Ur);if(!Yr.managedUsingOperations)return void this.model.markers._remove(Ur);Kf(this,Ur,Yr.getRange(),null,Yr.affectsData)}addRoot(Fr,Ur="$root"){this._assertWriterUsedCorrectly();const Yr=this.model.document.getRoot(Fr);if(Yr&&Yr.isAttached())throw new wn("writer-addroot-root-exists",this);const Qr=this.model.document,tn=new Gu(Fr,Ur,!0,Qr,Qr.version);return this.batch.addOperation(tn),this.model.applyOperation(tn),this.model.document.getRoot(Fr)}detachRoot(Fr){this._assertWriterUsedCorrectly();const Ur=typeof Fr=="string"?this.model.document.getRoot(Fr):Fr;if(!Ur||!Ur.isAttached())throw new wn("writer-detachroot-no-root",this);for(const tn of this.model.markers)tn.getRange().root===Ur&&this.removeMarker(tn);for(const tn of Ur.getAttributeKeys())this.removeAttribute(tn,Ur);this.remove(this.createRangeIn(Ur));const Yr=this.model.document,Qr=new Gu(Ur.rootName,Ur.name,!1,Yr,Yr.version);this.batch.addOperation(Qr),this.model.applyOperation(Qr)}setSelection(...Fr){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...Fr)}setSelectionFocus(Fr,Ur){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(Fr,Ur)}setSelectionAttribute(Fr,Ur){if(this._assertWriterUsedCorrectly(),typeof Fr=="string")this._setSelectionAttribute(Fr,Ur);else for(const[Yr,Qr]of tl(Fr))this._setSelectionAttribute(Yr,Qr)}removeSelectionAttribute(Fr){if(this._assertWriterUsedCorrectly(),typeof Fr=="string")this._removeSelectionAttribute(Fr);else for(const Ur of Fr)this._removeSelectionAttribute(Ur)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(Fr){this.model.document.selection._restoreGravity(Fr)}_setSelectionAttribute(Fr,Ur){const Yr=this.model.document.selection;if(Yr.isCollapsed&&Yr.anchor.parent.isEmpty){const Qr=Su._getStoreAttributeKey(Fr);this.setAttribute(Qr,Ur,Yr.anchor.parent)}Yr._setAttribute(Fr,Ur)}_removeSelectionAttribute(Fr){const Ur=this.model.document.selection;if(Ur.isCollapsed&&Ur.anchor.parent.isEmpty){const Yr=Su._getStoreAttributeKey(Fr);this.removeAttribute(Yr,Ur.anchor.parent)}Ur._removeAttribute(Fr)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new wn("writer-incorrect-use",this)}_addOperationForAffectedMarkers(Fr,Ur){for(const Yr of this.model.markers){if(!Yr.managedUsingOperations)continue;const Qr=Yr.getRange();let tn=!1;if(Fr==="move"){const sn=Ur;tn=sn.containsPosition(Qr.start)||sn.start.isEqual(Qr.start)||sn.containsPosition(Qr.end)||sn.end.isEqual(Qr.end)}else{const sn=Ur,un=sn.nodeBefore,gn=sn.nodeAfter,kn=Qr.start.parent==un&&Qr.start.isAtEnd,Cn=Qr.end.parent==gn&&Qr.end.offset==0,Dn=Qr.end.nodeAfter==gn,Ln=Qr.start.nodeAfter==gn;tn=kn||Cn||Dn||Ln}tn&&this.updateMarker(Yr.name,{range:Qr})}}}function Zv(Xr,Fr,Ur,Yr){const Qr=Xr.model,tn=Qr.document;let sn,un,gn,kn=Yr.start;for(const Dn of Yr.getWalker({shallow:!0}))gn=Dn.item.getAttribute(Fr),sn&&un!=gn&&(un!=Ur&&Cn(),kn=sn),sn=Dn.nextPosition,un=gn;function Cn(){const Dn=new Ui(kn,sn),Ln=Dn.root.document?tn.version:null,zn=new Tl(Dn,Fr,un,Ur,Ln);Xr.batch.addOperation(zn),Qr.applyOperation(zn)}sn instanceof co&&sn!=kn&&un!=Ur&&Cn()}function Xv(Xr,Fr,Ur,Yr){const Qr=Xr.model,tn=Qr.document,sn=Yr.getAttribute(Fr);let un,gn;if(sn!=Ur){if(Yr.root===Yr){const kn=Yr.document?tn.version:null;gn=new cd(Yr,Fr,sn,Ur,kn)}else{un=new Ui(co._createBefore(Yr),Xr.createPositionAfter(Yr));const kn=un.root.document?tn.version:null;gn=new Tl(un,Fr,sn,Ur,kn)}Xr.batch.addOperation(gn),Qr.applyOperation(gn)}}function Kf(Xr,Fr,Ur,Yr,Qr){const tn=Xr.model,sn=tn.document,un=new Ec(Fr,Ur,Yr,tn.markers,!!Qr,sn.version);Xr.batch.addOperation(un),tn.applyOperation(un)}function Lk(Xr,Fr,Ur,Yr){let Qr;if(Xr.root.document){const tn=Yr.document,sn=new co(tn.graveyard,[0]);Qr=new xs(Xr,Fr,sn,tn.version)}else Qr=new Mk(Xr,Fr);Ur.addOperation(Qr),Yr.applyOperation(Qr)}function Qv(Xr,Fr){return Xr===Fr||Xr instanceof $p&&Fr instanceof $p}function Pk(Xr,Fr,Ur={}){if(Fr.isCollapsed)return;const Yr=Fr.getFirstRange();if(Yr.root.rootName=="$graveyard")return;const Qr=Xr.schema;Xr.change(tn=>{if(!Ur.doNotResetEntireContent&&function(kn,Cn){const Dn=kn.getLimitElement(Cn);if(!Cn.containsEntireContent(Dn))return!1;const Ln=Cn.getFirstRange();return Ln.start.parent==Ln.end.parent?!1:kn.checkChild(Dn,"paragraph")}(Qr,Fr))return void function(kn,Cn){const Dn=kn.model.schema.getLimitElement(Cn);kn.remove(kn.createRangeIn(Dn)),ty(kn,kn.createPositionAt(Dn,0),Cn)}(tn,Fr);const sn={};if(!Ur.doNotAutoparagraph){const kn=Fr.getSelectedElement();kn&&Object.assign(sn,Qr.getAttributesWithProperty(kn,"copyOnReplace",!0))}const[un,gn]=function(kn){const Cn=kn.root.document.model,Dn=kn.start;let Ln=kn.end;if(Cn.hasContent(kn,{ignoreMarkers:!0})){const zn=function(Wn){const Xn=Wn.parent,ii=Xn.root.document.model.schema,ui=Xn.getAncestors({parentFirst:!0,includeSelf:!0});for(const Ti of ui){if(ii.isLimit(Ti))return null;if(ii.isBlock(Ti))return Ti}}(Ln);if(zn&&Ln.isTouching(Cn.createPositionAt(zn,0))){const Wn=Cn.createSelection(kn);Cn.modifySelection(Wn,{direction:"backward"});const Xn=Wn.getLastPosition(),ii=Cn.createRange(Xn,Ln);Cn.hasContent(ii,{ignoreMarkers:!0})||(Ln=Xn)}}return[cc.fromPosition(Dn,"toPrevious"),cc.fromPosition(Ln,"toNext")]}(Yr);un.isTouching(gn)||tn.remove(tn.createRange(un,gn)),Ur.leaveUnmerged||(function(kn,Cn,Dn){const Ln=kn.model;if(!Bg(kn.model.schema,Cn,Dn))return;const[zn,Wn]=function(Xn,ii){const ui=Xn.getAncestors(),Ti=ii.getAncestors();let Xi=0;for(;ui[Xi]&&ui[Xi]==Ti[Xi];)Xi++;return[ui[Xi],Ti[Xi]]}(Cn,Dn);!zn||!Wn||(!Ln.hasContent(zn,{ignoreMarkers:!0})&&Ln.hasContent(Wn,{ignoreMarkers:!0})?ey(kn,Cn,Dn,zn.parent):Jv(kn,Cn,Dn,zn.parent))}(tn,un,gn),Qr.removeDisallowedAttributes(un.parent.getChildren(),tn)),ry(tn,Fr,un),!Ur.doNotAutoparagraph&&function(kn,Cn){const Dn=kn.checkChild(Cn,"$text"),Ln=kn.checkChild(Cn,"paragraph");return!Dn&&Ln}(Qr,un)&&ty(tn,un,Fr,sn),un.detach(),gn.detach()})}function Jv(Xr,Fr,Ur,Yr){const Qr=Fr.parent,tn=Ur.parent;if(Qr!=Yr&&tn!=Yr){for(Fr=Xr.createPositionAfter(Qr),(Ur=Xr.createPositionBefore(tn)).isEqual(Fr)||Xr.insert(tn,Fr),Xr.merge(Fr);Ur.parent.isEmpty;){const sn=Ur.parent;Ur=Xr.createPositionBefore(sn),Xr.remove(sn)}Bg(Xr.model.schema,Fr,Ur)&&Jv(Xr,Fr,Ur,Yr)}}function ey(Xr,Fr,Ur,Yr){const Qr=Fr.parent,tn=Ur.parent;if(Qr!=Yr&&tn!=Yr){for(Fr=Xr.createPositionAfter(Qr),(Ur=Xr.createPositionBefore(tn)).isEqual(Fr)||Xr.insert(Qr,Ur);Fr.parent.isEmpty;){const sn=Fr.parent;Fr=Xr.createPositionBefore(sn),Xr.remove(sn)}Ur=Xr.createPositionBefore(tn),function(sn,un){const gn=un.nodeBefore,kn=un.nodeAfter;gn.name!=kn.name&&sn.rename(gn,kn.name),sn.clearAttributes(gn),sn.setAttributes(Object.fromEntries(kn.getAttributes()),gn),sn.merge(un)}(Xr,Ur),Bg(Xr.model.schema,Fr,Ur)&&ey(Xr,Fr,Ur,Yr)}}function Bg(Xr,Fr,Ur){const Yr=Fr.parent,Qr=Ur.parent;return Yr!=Qr&&!Xr.isLimit(Yr)&&!Xr.isLimit(Qr)&&function(tn,sn,un){const gn=new Ui(tn,sn);for(const kn of gn.getWalker())if(un.isLimit(kn.item))return!1;return!0}(Fr,Ur,Xr)}function ty(Xr,Fr,Ur,Yr={}){const Qr=Xr.createElement("paragraph");Xr.model.schema.setAllowedAttributes(Qr,Yr,Xr),Xr.insert(Qr,Fr),ry(Xr,Ur,Xr.createPositionAt(Qr,0))}function ry(Xr,Fr,Ur){Fr instanceof Su?Xr.setSelection(Ur):Fr.setTo(Ur)}function ny(Xr,Fr){const Ur=[];Array.from(Xr.getItems({direction:"backward"})).map(Yr=>Fr.createRangeOn(Yr)).filter(Yr=>(Yr.start.isAfter(Xr.start)||Yr.start.isEqual(Xr.start))&&(Yr.end.isBefore(Xr.end)||Yr.end.isEqual(Xr.end))).forEach(Yr=>{Ur.push(Yr.start.parent),Fr.remove(Yr)}),Ur.forEach(Yr=>{let Qr=Yr;for(;Qr.parent&&Qr.isEmpty;){const tn=Fr.createRangeOn(Qr);Qr=Qr.parent,Fr.remove(tn)}})}class Ok{constructor(Fr,Ur,Yr){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=Fr,this.writer=Ur,this.position=Yr,this.canMergeWith=new Set([this.position.parent]),this.schema=Fr.schema,this._documentFragment=Ur.createDocumentFragment(),this._documentFragmentPosition=Ur.createPositionAt(this._documentFragment,0)}handleNodes(Fr){for(const Ur of Array.from(Fr))this._handleNode(Ur);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(Fr){const Ur=this.writer.createPositionAfter(this._lastNode),Yr=this.writer.createPositionAfter(Fr);if(Yr.isAfter(Ur)){if(this._lastNode=Fr,this.position.parent!=Fr||!this.position.isAtEnd)throw new wn("insertcontent-invalid-insertion-position",this);this.position=Yr,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Ui._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Ui(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(Fr){if(this.schema.isObject(Fr))return void this._handleObject(Fr);let Ur=this._checkAndAutoParagraphToAllowedPosition(Fr);Ur||(Ur=this._checkAndSplitToAllowedPosition(Fr),Ur)?(this._appendToFragment(Fr),this._firstNode||(this._firstNode=Fr),this._lastNode=Fr):this._handleDisallowedNode(Fr)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const Fr=cc.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=Fr.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=Fr.toPosition(),Fr.detach()}_handleObject(Fr){this._checkAndSplitToAllowedPosition(Fr)?this._appendToFragment(Fr):this._tryAutoparagraphing(Fr)}_handleDisallowedNode(Fr){Fr.is("element")?this.handleNodes(Fr.getChildren()):this._tryAutoparagraphing(Fr)}_appendToFragment(Fr){if(!this.schema.checkChild(this.position,Fr))throw new wn("insertcontent-wrong-position",this,{node:Fr,position:this.position});this.writer.insert(Fr,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(Fr.offsetSize),this.schema.isObject(Fr)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=Fr:this._nodeToSelect=null,this._filterAttributesOf.push(Fr)}_setAffectedBoundaries(Fr){this._affectedStart||(this._affectedStart=cc.fromPosition(Fr,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(Fr)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=cc.fromPosition(Fr,"toNext"))}_mergeOnLeft(){const Fr=this._firstNode;if(!(Fr instanceof Rs)||!this._canMergeLeft(Fr))return;const Ur=cc._createBefore(Fr);Ur.stickiness="toNext";const Yr=cc.fromPosition(this.position,"toNext");this._affectedStart.isEqual(Ur)&&(this._affectedStart.detach(),this._affectedStart=cc._createAt(Ur.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=Ur.nodeBefore,this._lastNode=Ur.nodeBefore),this.writer.merge(Ur),Ur.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=cc._createAt(Ur.nodeBefore,"end","toNext")),this.position=Yr.toPosition(),Yr.detach(),this._filterAttributesOf.push(this.position.parent),Ur.detach()}_mergeOnRight(){const Fr=this._lastNode;if(!(Fr instanceof Rs)||!this._canMergeRight(Fr))return;const Ur=cc._createAfter(Fr);if(Ur.stickiness="toNext",!this.position.isEqual(Ur))throw new wn("insertcontent-invalid-insertion-position",this);this.position=co._createAt(Ur.nodeBefore,"end");const Yr=cc.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(Ur)&&(this._affectedEnd.detach(),this._affectedEnd=cc._createAt(Ur.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=Ur.nodeBefore,this._lastNode=Ur.nodeBefore),this.writer.merge(Ur),Ur.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=cc._createAt(Ur.nodeBefore,0,"toPrevious")),this.position=Yr.toPosition(),Yr.detach(),this._filterAttributesOf.push(this.position.parent),Ur.detach()}_canMergeLeft(Fr){const Ur=Fr.previousSibling;return Ur instanceof Rs&&this.canMergeWith.has(Ur)&&this.model.schema.checkMerge(Ur,Fr)}_canMergeRight(Fr){const Ur=Fr.nextSibling;return Ur instanceof Rs&&this.canMergeWith.has(Ur)&&this.model.schema.checkMerge(Fr,Ur)}_tryAutoparagraphing(Fr){const Ur=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,Ur)&&this.schema.checkChild(Ur,Fr)&&(Ur._appendChild(Fr),this._handleNode(Ur))}_checkAndAutoParagraphToAllowedPosition(Fr){if(this.schema.checkChild(this.position.parent,Fr))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",Fr))return!1;this._insertPartialFragment();const Ur=this.writer.createElement("paragraph");return this.writer.insert(Ur,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=Ur,this.position=this.writer.createPositionAt(Ur,0),!0}_checkAndSplitToAllowedPosition(Fr){const Ur=this._getAllowedIn(this.position.parent,Fr);if(!Ur)return!1;for(Ur!=this.position.parent&&this._insertPartialFragment();Ur!=this.position.parent;)if(this.position.isAtStart){const Yr=this.position.parent;this.position=this.writer.createPositionBefore(Yr),Yr.isEmpty&&Yr.parent===Ur&&this.writer.remove(Yr)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const Yr=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=Yr,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(Fr,Ur){return this.schema.checkChild(Fr,Ur)?Fr:this.schema.isLimit(Fr)?null:this._getAllowedIn(Fr.parent,Ur)}}function iy(Xr,Fr,Ur="auto"){const Yr=Xr.getSelectedElement();if(Yr&&Fr.schema.isObject(Yr)&&!Fr.schema.isInline(Yr))return Ur=="before"||Ur=="after"?Fr.createRange(Fr.createPositionAt(Yr,Ur)):Fr.createRangeOn(Yr);const Qr=wl(Xr.getSelectedBlocks());if(!Qr)return Fr.createRange(Xr.focus);if(Qr.isEmpty)return Fr.createRange(Fr.createPositionAt(Qr,0));const tn=Fr.createPositionAfter(Qr);return Xr.focus.isTouching(tn)?Fr.createRange(tn):Fr.createRange(Fr.createPositionBefore(Qr))}function Rk(Xr,Fr,Ur,Yr={}){if(!Xr.schema.isObject(Fr))throw new wn("insertobject-element-not-an-object",Xr,{object:Fr});const Qr=Ur||Xr.document.selection;let tn=Qr;Yr.findOptimalPosition&&Xr.schema.isBlock(Fr)&&(tn=Xr.createSelection(iy(Qr,Xr,Yr.findOptimalPosition)));const sn=wl(Qr.getSelectedBlocks()),un={};return sn&&Object.assign(un,Xr.schema.getAttributesWithProperty(sn,"copyOnReplace",!0)),Xr.change(gn=>{tn.isCollapsed||Xr.deleteContent(tn,{doNotAutoparagraph:!0});let kn=Fr;const Cn=tn.anchor.parent;!Xr.schema.checkChild(Cn,Fr)&&Xr.schema.checkChild(Cn,"paragraph")&&Xr.schema.checkChild("paragraph",Fr)&&(kn=gn.createElement("paragraph"),gn.insert(Fr,kn)),Xr.schema.setAllowedAttributes(kn,un,gn);const Dn=Xr.insertContent(kn,tn);return Dn.isCollapsed||Yr.setSelection&&function(Ln,zn,Wn,Xn){const ii=Ln.model;if(Wn=="on")return void Ln.setSelection(zn,"on");if(Wn!="after")throw new wn("insertobject-invalid-place-parameter-value",ii);let ui=zn.nextSibling;if(ii.schema.isInline(zn))return void Ln.setSelection(zn,"after");!(ui&&ii.schema.checkChild(ui,"$text"))&&ii.schema.checkChild(zn.parent,"paragraph")&&(ui=Ln.createElement("paragraph"),ii.schema.setAllowedAttributes(ui,Xn,Ln),ii.insertContent(ui,Ln.createPositionAfter(zn))),ui&&Ln.setSelection(ui,0)}(gn,Fr,Yr.setSelection,un),Dn})}const $k=' ,.?!:;"-()';function Nk(Xr,Fr){const{isForward:Ur,walker:Yr,unit:Qr,schema:tn,treatEmojiAsSingleUnit:sn}=Xr,{type:un,item:gn,nextPosition:kn}=Fr;if(un=="text")return Xr.unit==="word"?function(Cn,Dn){let Ln=Cn.position.textNode;for(Ln||(Ln=Dn?Cn.position.nodeAfter:Cn.position.nodeBefore);Ln&&Ln.is("$text");){const zn=Cn.position.offset-Ln.startOffset;if(zk(Ln,zn,Dn))Ln=Dn?Cn.position.nodeAfter:Cn.position.nodeBefore;else{if(Fk(Ln.data,zn,Dn))break;Cn.next()}}return Cn.position}(Yr,Ur):function(Cn,Dn,Ln){const zn=Cn.position.textNode;if(zn){const Wn=zn.data;let Xn=Cn.position.offset-zn.startOffset;for(;Nl(Wn,Xn)||Dn=="character"&&fl(Wn,Xn)||Ln&&rp(Wn,Xn);)Cn.next(),Xn=Cn.position.offset-zn.startOffset}return Cn.position}(Yr,Qr,sn);if(un==(Ur?"elementStart":"elementEnd")){if(tn.isSelectable(gn))return co._createAt(gn,Ur?"after":"before");if(tn.checkChild(kn,"$text"))return kn}else{if(tn.isLimit(gn))return void Yr.skip(()=>!0);if(tn.checkChild(kn,"$text"))return kn}}function Bk(Xr,Fr){const Ur=Xr.root,Yr=co._createAt(Ur,Fr?"end":0);return Fr?new Ui(Xr,Yr):new Ui(Yr,Xr)}function Fk(Xr,Fr,Ur){const Yr=Fr+(Ur?0:-1);return $k.includes(Xr.charAt(Yr))}function zk(Xr,Fr,Ur){return Fr===(Ur?Xr.offsetSize:0)}class Hk extends Zi(){constructor(){super(),this.markers=new Tk,this.document=new Ak(this),this.schema=new N1,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(Fr=>this.decorate(Fr)),this.on("applyOperation",(Fr,Ur)=>{Ur[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((Fr,Ur)=>{if(Ur.name==="$marker")return!0}),O1(this),this.document.registerPostFixer(gv),this.on("insertContent",(Fr,[Ur,Yr])=>{Fr.return=function(Qr,tn,sn){return Qr.change(un=>{const gn=sn||Qr.document.selection;gn.isCollapsed||Qr.deleteContent(gn,{doNotAutoparagraph:!0});const kn=new Ok(Qr,un,gn.anchor),Cn=[];let Dn;if(tn.is("documentFragment")){if(tn.markers.size){const Wn=[];for(const[Xn,ii]of tn.markers){const{start:ui,end:Ti}=ii,Xi=ui.isEqual(Ti);Wn.push({position:ui,name:Xn,isCollapsed:Xi},{position:Ti,name:Xn,isCollapsed:Xi})}Wn.sort(({position:Xn},{position:ii})=>Xn.isBefore(ii)?1:-1);for(const{position:Xn,name:ii,isCollapsed:ui}of Wn){let Ti=null,Xi=null;const $o=Xn.parent===tn&&Xn.isAtStart,ya=Xn.parent===tn&&Xn.isAtEnd;$o||ya?ui&&(Xi=$o?"start":"end"):(Ti=un.createElement("$marker"),un.insert(Ti,Xn)),Cn.push({name:ii,element:Ti,collapsed:Xi})}}Dn=tn.getChildren()}else Dn=[tn];kn.handleNodes(Dn);let Ln=kn.getSelectionRange();if(tn.is("documentFragment")&&Cn.length){const Wn=Ln?xu.fromRange(Ln):null,Xn={};for(let ii=Cn.length-1;ii>=0;ii--){const{name:ui,element:Ti,collapsed:Xi}=Cn[ii],$o=!Xn[ui];if($o&&(Xn[ui]=[]),Ti){const ya=un.createPositionAt(Ti,"before");Xn[ui].push(ya),un.remove(Ti)}else{const ya=kn.getAffectedRange();if(!ya){Xi&&Xn[ui].push(kn.position);continue}Xi?Xn[ui].push(ya[Xi]):Xn[ui].push($o?ya.start:ya.end)}}for(const[ii,[ui,Ti]]of Object.entries(Xn))ui&&Ti&&ui.root===Ti.root&&un.addMarker(ii,{usingOperation:!0,affectsData:!0,range:new Ui(ui,Ti)});Wn&&(Ln=Wn.toRange(),Wn.detach())}Ln&&(gn instanceof Su?un.setSelection(Ln):gn.setTo(Ln));const zn=kn.getAffectedRange()||Qr.createRange(gn.anchor);return kn.destroy(),zn})}(this,Ur,Yr)}),this.on("insertObject",(Fr,[Ur,Yr,Qr])=>{Fr.return=Rk(this,Ur,Yr,Qr)}),this.on("canEditAt",Fr=>{const Ur=!this.document.isReadOnly;Fr.return=Ur,Ur||Fr.stop()})}change(Fr){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Fh,callback:Fr}),this._runPendingChanges()[0]):Fr(this._currentWriter)}catch(Ur){wn.rethrowUnexpectedError(Ur,this)}}enqueueChange(Fr,Ur){try{Fr?typeof Fr=="function"?(Ur=Fr,Fr=new Fh):Fr instanceof Fh||(Fr=new Fh(Fr)):Fr=new Fh,this._pendingChanges.push({batch:Fr,callback:Ur}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(Yr){wn.rethrowUnexpectedError(Yr,this)}}applyOperation(Fr){Fr._execute()}insertContent(Fr,Ur,Yr,...Qr){const tn=Fg(Ur,Yr);return this.fire("insertContent",[Fr,tn,Yr,...Qr])}insertObject(Fr,Ur,Yr,Qr,...tn){const sn=Fg(Ur,Yr);return this.fire("insertObject",[Fr,sn,Qr,Qr,...tn])}deleteContent(Fr,Ur){Pk(this,Fr,Ur)}modifySelection(Fr,Ur){(function(Yr,Qr,tn={}){const sn=Yr.schema,un=tn.direction!="backward",gn=tn.unit?tn.unit:"character",kn=!!tn.treatEmojiAsSingleUnit,Cn=Qr.focus,Dn=new Uu({boundaries:Bk(Cn,un),singleCharacters:!0,direction:un?"forward":"backward"}),Ln={walker:Dn,schema:sn,isForward:un,unit:gn,treatEmojiAsSingleUnit:kn};let zn;for(;zn=Dn.next();){if(zn.done)return;const Wn=Nk(Ln,zn.value);if(Wn)return void(Qr instanceof Su?Yr.change(Xn=>{Xn.setSelectionFocus(Wn)}):Qr.setFocus(Wn))}})(this,Fr,Ur)}getSelectedContent(Fr){return function(Ur,Yr){return Ur.change(Qr=>{const tn=Qr.createDocumentFragment(),sn=Yr.getFirstRange();if(!sn||sn.isCollapsed)return tn;const un=sn.start.root,gn=sn.start.getCommonPath(sn.end),kn=un.getNodeByPath(gn);let Cn;Cn=sn.start.parent==sn.end.parent?sn:Qr.createRange(Qr.createPositionAt(kn,sn.start.path[gn.length]),Qr.createPositionAt(kn,sn.end.path[gn.length]+1));const Dn=Cn.end.offset-Cn.start.offset;for(const Ln of Cn.getItems({shallow:!0}))Ln.is("$textProxy")?Qr.appendText(Ln.data,Ln.getAttributes(),tn):Qr.append(Qr.cloneElement(Ln,!0),tn);if(Cn!=sn){const Ln=sn._getTransformedByMove(Cn.start,Qr.createPositionAt(tn,0),Dn)[0],zn=Qr.createRange(Qr.createPositionAt(tn,0),Ln.start);ny(Qr.createRange(Ln.end,Qr.createPositionAt(tn,"end")),Qr),ny(zn,Qr)}return tn})}(this,Fr)}hasContent(Fr,Ur={}){const Yr=Fr instanceof Ui?Fr:Ui._createIn(Fr);if(Yr.isCollapsed)return!1;const{ignoreWhitespaces:Qr=!1,ignoreMarkers:tn=!1}=Ur;if(!tn){for(const sn of this.markers.getMarkersIntersectingRange(Yr))if(sn.affectsData)return!0}for(const sn of Yr.getItems())if(this.schema.isContent(sn)&&(!sn.is("$textProxy")||!Qr||sn.data.search(/\S/)!==-1))return!0;return!1}canEditAt(Fr){const Ur=Fg(Fr);return this.fire("canEditAt",[Ur])}createPositionFromPath(Fr,Ur,Yr){return new co(Fr,Ur,Yr)}createPositionAt(Fr,Ur){return co._createAt(Fr,Ur)}createPositionAfter(Fr){return co._createAfter(Fr)}createPositionBefore(Fr){return co._createBefore(Fr)}createRange(Fr,Ur){return new Ui(Fr,Ur)}createRangeIn(Fr){return Ui._createIn(Fr)}createRangeOn(Fr){return Ui._createOn(Fr)}createSelection(...Fr){return new jc(...Fr)}createBatch(Fr){return new Fh(Fr)}createOperationFromJSON(Fr){return ok.fromJSON(Fr,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const Fr=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const Ur=this._pendingChanges[0].batch;this._currentWriter=new Ik(this,Ur);const Yr=this._pendingChanges[0].callback(this._currentWriter);Fr.push(Yr),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return Fr}}function Fg(Xr,Fr){if(Xr)return Xr instanceof jc||Xr instanceof Su?Xr:Xr instanceof ah?Fr||Fr===0?new jc(Xr,Fr):Xr.is("rootElement")?new jc(Xr,"in"):new jc(Xr,"on"):new jc(Xr)}class Vk extends Go{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(Fr){this.fire(Fr.type,Fr)}}class zg extends Go{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(Fr){this.fire(Fr.type,Fr)}}class uh{constructor(Fr){this.document=Fr}createDocumentFragment(Fr){return new zu(this.document,Fr)}createElement(Fr,Ur,Yr){return new oc(this.document,Fr,Ur,Yr)}createText(Fr){return new Ds(this.document,Fr)}clone(Fr,Ur=!1){return Fr._clone(Ur)}appendChild(Fr,Ur){return Ur._appendChild(Fr)}insertChild(Fr,Ur,Yr){return Yr._insertChild(Fr,Ur)}removeChildren(Fr,Ur,Yr){return Yr._removeChildren(Fr,Ur)}remove(Fr){const Ur=Fr.parent;return Ur?this.removeChildren(Ur.getChildIndex(Fr),1,Ur):[]}replace(Fr,Ur){const Yr=Fr.parent;if(Yr){const Qr=Yr.getChildIndex(Fr);return this.removeChildren(Qr,1,Yr),this.insertChild(Qr,Ur,Yr),!0}return!1}unwrapElement(Fr){const Ur=Fr.parent;if(Ur){const Yr=Ur.getChildIndex(Fr);this.remove(Fr),this.insertChild(Yr,Fr.getChildren(),Ur)}}rename(Fr,Ur){const Yr=new oc(this.document,Fr,Ur.getAttributes(),Ur.getChildren());return this.replace(Ur,Yr)?Yr:null}setAttribute(Fr,Ur,Yr){Yr._setAttribute(Fr,Ur)}removeAttribute(Fr,Ur){Ur._removeAttribute(Fr)}addClass(Fr,Ur){Ur._addClass(Fr)}removeClass(Fr,Ur){Ur._removeClass(Fr)}setStyle(Fr,Ur,Yr){us(Fr)&&Yr===void 0?Ur._setStyle(Fr):Yr._setStyle(Fr,Ur)}removeStyle(Fr,Ur){Ur._removeStyle(Fr)}setCustomProperty(Fr,Ur,Yr){Yr._setCustomProperty(Fr,Ur)}removeCustomProperty(Fr,Ur){return Ur._removeCustomProperty(Fr)}createPositionAt(Fr,Ur){return Do._createAt(Fr,Ur)}createPositionAfter(Fr){return Do._createAfter(Fr)}createPositionBefore(Fr){return Do._createBefore(Fr)}createRange(Fr,Ur){return new ga(Fr,Ur)}createRangeOn(Fr){return ga._createOn(Fr)}createRangeIn(Fr){return ga._createIn(Fr)}createSelection(...Fr){return new iu(...Fr)}}class jk{constructor(){this._commands=new Map}add(Fr,Ur){this._commands.set(Fr,Ur)}get(Fr){return this._commands.get(Fr)}execute(Fr,...Ur){const Yr=this.get(Fr);if(!Yr)throw new wn("commandcollection-command-not-found",this,{commandName:Fr});return Yr.execute(...Ur)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const Fr of this.commands())Fr.destroy()}}class Uk extends Zi(){constructor(Fr={}){super();const Ur=this.constructor,Yr=Fr.language||Ur.defaultConfig&&Ur.defaultConfig.language;this._context=Fr.context||new nd({language:Yr}),this._context._addEditor(this,!Fr.context);const Qr=Array.from(Ur.builtinPlugins||[]);this.config=new pa(Fr,Ur.defaultConfig),this.config.define("plugins",Qr),this.config.define(this._context._getEditorConfig()),this.plugins=new _f(this,Qr,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new jk,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Hk,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const tn=new kp;this.data=new nk(this.model,tn),this.editing=new R1(this.model,tn),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ik([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new xh(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(Fr){throw new wn("editor-isreadonly-has-no-setter")}enableReadOnlyMode(Fr){if(typeof Fr!="string"&&typeof Fr!="symbol")throw new wn("editor-read-only-lock-id-invalid",null,{lockId:Fr});this._readOnlyLocks.has(Fr)||(this._readOnlyLocks.add(Fr),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(Fr){if(typeof Fr!="string"&&typeof Fr!="symbol")throw new wn("editor-read-only-lock-id-invalid",null,{lockId:Fr});this._readOnlyLocks.has(Fr)&&(this._readOnlyLocks.delete(Fr),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const Fr=this.config,Ur=Fr.get("plugins"),Yr=Fr.get("removePlugins")||[],Qr=Fr.get("extraPlugins")||[],tn=Fr.get("substitutePlugins")||[];return this.plugins.init(Ur.concat(Qr),Yr,tn)}destroy(){let Fr=Promise.resolve();return this.state=="initializing"&&(Fr=new Promise(Ur=>this.once("ready",Ur))),Fr.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(Fr,...Ur){try{return this.commands.execute(Fr,...Ur)}catch(Yr){wn.rethrowUnexpectedError(Yr,this)}}focus(){this.editing.view.focus()}static create(...Fr){throw new Error("This is an abstract method.")}}function Np(Xr){return class extends Xr{setData(Fr){this.data.set(Fr)}getData(Fr){return this.data.get(Fr)}}}{const Xr=Np(Object);Np.setData=Xr.prototype.setData,Np.getData=Xr.prototype.getData}function Hg(Xr){return class extends Xr{updateSourceElement(Fr=this.data.get()){if(!this.sourceElement)throw new wn("editor-missing-sourceelement",this);const Ur=this.config.get("updateSourceElementOnDestroy"),Yr=this.sourceElement instanceof HTMLTextAreaElement;Nd(this.sourceElement,Ur||Yr?Fr:"")}}}Hg.updateSourceElement=Hg(Object).prototype.updateSourceElement;class oy extends Zd{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new $c({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(Fr){if(typeof Fr!="string")throw new wn("pendingactions-add-invalid-message",this);const Ur=new(Zi());return Ur.set("message",Fr),this._actions.add(Ur),this.hasAny=!0,Ur}remove(Fr){this._actions.remove(Fr),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Ml={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var ay=$r(5542),Gk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(ay.Z,Gk),ay.Z.locals;const{threeVerticalDots:sy}=Ml,Wk={alignLeft:Ml.alignLeft,bold:Ml.bold,importExport:Ml.importExport,paragraph:Ml.paragraph,plus:Ml.plus,text:Ml.text,threeVerticalDots:Ml.threeVerticalDots};class Vg extends Qa{constructor(Fr,Ur){super(Fr);const Yr=this.bindTemplate,Qr=this.t;this.options=Ur||{},this.set("ariaLabel",Qr("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Dc,this.keystrokes=new Jc,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Yk(Fr),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const tn=Fr.uiLanguageDirection==="rtl";this._focusCycler=new td({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[tn?"arrowright":"arrowleft","arrowup"],focusNext:[tn?"arrowleft":"arrowright","arrowdown"]}});const sn=["ck","ck-toolbar",Yr.to("class"),Yr.if("isCompact","ck-toolbar_compact")];var un;this.options.shouldGroupWhenFull&&this.options.isFloating&&sn.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:sn,role:"toolbar","aria-label":Yr.to("ariaLabel"),style:{maxWidth:Yr.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(un=this,un.bindTemplate.to(gn=>{gn.target===un.element&&gn.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Kk(this):new qk(this)}render(){super.render(),this.focusTracker.add(this.element);for(const Fr of this.items)this.focusTracker.add(Fr.element);this.items.on("add",(Fr,Ur)=>{this.focusTracker.add(Ur.element)}),this.items.on("remove",(Fr,Ur)=>{this.focusTracker.remove(Ur.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(Fr,Ur,Yr){this.items.addMany(this._buildItemsFromConfig(Fr,Ur,Yr))}_buildItemsFromConfig(Fr,Ur,Yr){const Qr=vf(Fr),tn=Yr||Qr.removeItems;return this._cleanItemsConfiguration(Qr.items,Ur,tn).map(sn=>zi(sn)?this._createNestedToolbarDropdown(sn,Ur,tn):sn==="|"?new Kd:sn==="-"?new up:Ur.create(sn)).filter(sn=>!!sn)}_cleanItemsConfiguration(Fr,Ur,Yr){const Qr=Fr.filter((tn,sn,un)=>tn==="|"||Yr.indexOf(tn)===-1&&(tn==="-"?!this.options.shouldGroupWhenFull||(xn("toolbarview-line-break-ignored-when-grouping-items",un),!1):!(!zi(tn)&&!Ur.has(tn))||(xn("toolbarview-item-unavailable",{item:tn}),!1)));return this._cleanSeparatorsAndLineBreaks(Qr)}_cleanSeparatorsAndLineBreaks(Fr){const Ur=sn=>sn!=="-"&&sn!=="|",Yr=Fr.length,Qr=Fr.findIndex(Ur);if(Qr===-1)return[];const tn=Yr-Fr.slice().reverse().findIndex(Ur);return Fr.slice(Qr,tn).filter((sn,un,gn)=>Ur(sn)?!0:!(un>0&&gn[un-1]===sn))}_createNestedToolbarDropdown(Fr,Ur,Yr){let{label:Qr,icon:tn,items:sn,tooltip:un=!0,withText:gn=!1}=Fr;if(sn=this._cleanItemsConfiguration(sn,Ur,Yr),!sn.length)return null;const kn=Ld(this.locale);return Qr||xn("toolbarview-nested-toolbar-dropdown-missing-label",Fr),kn.class="ck-toolbar__nested-toolbar-dropdown",kn.buttonView.set({label:Qr,tooltip:un,withText:!!gn}),tn!==!1?kn.buttonView.icon=Wk[tn]||tn||sy:kn.buttonView.withText=!0,Ug(kn,()=>kn.toolbarView._buildItemsFromConfig(sn,Ur,Yr)),kn}}class Yk extends Qa{constructor(Fr){super(Fr),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class qk{constructor(Fr){const Ur=Fr.bindTemplate;Fr.set("isVertical",!1),Fr.itemsView.children.bindTo(Fr.items).using(Yr=>Yr),Fr.focusables.bindTo(Fr.items).using(Yr=>Yr),Fr.extendTemplate({attributes:{class:[Ur.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Kk{constructor(Fr){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=Fr,this.viewChildren=Fr.children,this.viewFocusables=Fr.focusables,this.viewItemsView=Fr.itemsView,this.viewFocusTracker=Fr.focusTracker,this.viewLocale=Fr.locale,this.ungroupedItems=Fr.createCollection(),this.groupedItems=Fr.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),Fr.itemsView.children.bindTo(this.ungroupedItems).using(Ur=>Ur),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),Fr.children.on("change",this._updateFocusCycleableItems.bind(this)),Fr.items.on("change",(Ur,Yr)=>{const Qr=Yr.index,tn=Array.from(Yr.added);for(const sn of Yr.removed)Qr>=this.ungroupedItems.length?this.groupedItems.remove(sn):this.ungroupedItems.remove(sn);for(let sn=Qr;sn<Qr+tn.length;sn++){const un=tn[sn-Qr];sn>this.ungroupedItems.length?this.groupedItems.add(un,sn-this.ungroupedItems.length):this.ungroupedItems.add(un,sn)}this._updateGrouping()}),Fr.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(Fr){this.viewElement=Fr.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(Fr)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!nc(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const Fr=this.groupedItems.length;let Ur;for(;this._areItemsOverflowing;)this._groupLastItem(),Ur=!0;if(!Ur&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==Fr&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const Fr=this.viewElement,Ur=this.viewLocale.uiLanguageDirection,Yr=new Vs(Fr.lastChild),Qr=new Vs(Fr);if(!this.cachedPadding){const tn=wa.window.getComputedStyle(Fr),sn=Ur==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(tn[sn])}return Ur==="ltr"?Yr.right>Qr.right-this.cachedPadding:Yr.left<Qr.left+this.cachedPadding}_enableGroupingOnResize(){let Fr;this.resizeObserver=new md(this.viewElement,Ur=>{Fr&&Fr===Ur.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),Fr=Ur.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(Fr){Fr.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Kd),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const Fr=this.viewLocale,Ur=Fr.t,Yr=Ld(Fr);return Yr.class="ck-toolbar__grouped-dropdown",Yr.panelPosition=Fr.uiLanguageDirection==="ltr"?"sw":"se",Ug(Yr,this.groupedItems),Yr.buttonView.set({label:Ur("Show more items"),tooltip:!0,tooltipPosition:Fr.uiLanguageDirection==="rtl"?"se":"sw",icon:sy}),Yr}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(Fr=>{this.viewFocusables.add(Fr)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var ly=$r(1046),Zk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(ly.Z,Zk),ly.Z.locals;class Xk extends Qa{constructor(Fr){super(Fr);const Ur=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Dc,this.keystrokes=new Jc,this._focusCycler=new td({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:Ur.to("role"),"aria-label":Ur.to("ariaLabel")},children:this.items})}render(){super.render();for(const Fr of this.items)this.focusTracker.add(Fr.element);this.items.on("add",(Fr,Ur)=>{this.focusTracker.add(Ur.element)}),this.items.on("remove",(Fr,Ur)=>{this.focusTracker.remove(Ur.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class cy extends Qa{constructor(Fr){super(Fr);const Ur=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",Ur.if("isVisible","ck-hidden",Yr=>!Yr)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class Qk extends Qa{constructor(Fr){super(Fr),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var uy=$r(7686),Jk={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(uy.Z,Jk),uy.Z.locals;class jg extends Qa{constructor(Fr){super(Fr);const Ur=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Jc,this.focusTracker=new Dc,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",Ur.to("class"),Ur.if("isVisible","ck-hidden",Yr=>!Yr),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(Fr,Ur)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),Ur())}),this.keystrokes.set("arrowleft",(Fr,Ur)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),Ur())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const Fr=new cs;return Fr.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),Fr.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),Fr.delegate("execute").to(this),Fr}_createArrowView(){const Fr=new cs,Ur=Fr.bindTemplate;return Fr.icon=mf,Fr.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":Ur.to("isOn"),"aria-haspopup":!0,"aria-expanded":Ur.to("isOn",Yr=>String(Yr))}}),Fr.bind("isEnabled").to(this),Fr.bind("label").to(this),Fr.bind("tooltip").to(this),Fr.delegate("execute").to(this,"open"),Fr}}var dy=$r(7339),eA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(dy.Z,eA),dy.Z.locals;var hy=$r(3949),tA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(hy.Z,tA),hy.Z.locals;function Ld(Xr,Fr=dg){const Ur=new Fr(Xr),Yr=new _d(Xr),Qr=new qd(Xr,Ur,Yr);return Ur.bind("isEnabled").to(Qr),Ur instanceof jg?Ur.arrowView.bind("isOn").to(Qr,"isOpen"):Ur.bind("isOn").to(Qr,"isOpen"),function(tn){(function(sn){sn.on("render",()=>{zr({emitter:sn,activator:()=>sn.isOpen,callback:()=>{sn.isOpen=!1},contextElements:[sn.element]})})})(tn),function(sn){sn.on("execute",un=>{un.source instanceof wh||(sn.isOpen=!1)})}(tn),function(sn){sn.focusTracker.on("change:isFocused",(un,gn,kn)=>{sn.isOpen&&!kn&&(sn.isOpen=!1)})}(tn),function(sn){sn.keystrokes.set("arrowdown",(un,gn)=>{sn.isOpen&&(sn.panelView.focus(),gn())}),sn.keystrokes.set("arrowup",(un,gn)=>{sn.isOpen&&(sn.panelView.focusLast(),gn())})}(tn),function(sn){sn.on("change:isOpen",(un,gn,kn)=>{if(kn)return;const Cn=sn.panelView.element;Cn&&Cn.contains(wa.document.activeElement)&&sn.buttonView.focus()})}(tn),function(sn){sn.on("change:isOpen",(un,gn,kn)=>{kn&&sn.panelView.focus()},{priority:"low"})}(tn)}(Qr),Qr}function Ug(Xr,Fr,Ur={}){Xr.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),Xr.isOpen?fy(Xr,Fr,Ur):Xr.once("change:isOpen",()=>fy(Xr,Fr,Ur),{priority:"highest"}),Ur.enableActiveItemFocusOnDropdownOpen&&my(Xr,()=>Xr.toolbarView.items.find(Yr=>Yr.isOn))}function fy(Xr,Fr,Ur){const Yr=Xr.locale,Qr=Yr.t,tn=Xr.toolbarView=new Vg(Yr),sn=typeof Fr=="function"?Fr():Fr;tn.ariaLabel=Ur.ariaLabel||Qr("Dropdown toolbar"),Ur.maxWidth&&(tn.maxWidth=Ur.maxWidth),Ur.class&&(tn.class=Ur.class),Ur.isCompact&&(tn.isCompact=Ur.isCompact),Ur.isVertical&&(tn.isVertical=!0),sn instanceof Nc?tn.items.bindTo(sn).using(un=>un):tn.items.addMany(sn),Xr.panelView.children.add(tn),tn.items.delegate("execute").to(Xr)}function py(Xr,Fr,Ur={}){Xr.isOpen?gy(Xr,Fr,Ur):Xr.once("change:isOpen",()=>gy(Xr,Fr,Ur),{priority:"highest"}),my(Xr,()=>Xr.listView.items.find(Yr=>Yr instanceof cy&&Yr.children.first.isOn))}function gy(Xr,Fr,Ur){const Yr=Xr.locale,Qr=Xr.listView=new Xk(Yr),tn=typeof Fr=="function"?Fr():Fr;Qr.ariaLabel=Ur.ariaLabel,Qr.role=Ur.role,Qr.items.bindTo(tn).using(sn=>{if(sn.type==="separator")return new Qk(Yr);if(sn.type==="button"||sn.type==="switchbutton"){const un=new cy(Yr);let gn;return gn=sn.type==="button"?new cs(Yr):new wh(Yr),gn.bind(...Object.keys(sn.model)).to(sn.model),gn.delegate("execute").to(un),un.children.add(gn),un}return null}),Xr.panelView.children.add(Qr),Qr.items.delegate("execute").to(Xr)}function my(Xr,Fr){Xr.on("change:isOpen",()=>{if(!Xr.isOpen)return;const Ur=Fr();Ur&&(typeof Ur.focus=="function"?Ur.focus():xn("ui-dropdown-focus-child-on-open-child-missing-focus",{view:Ur}))},{priority:An.low-10})}function Gg(Xr,Fr,Ur){const Yr=new cp(Xr.locale);return Yr.set({id:Fr,ariaDescribedById:Ur}),Yr.bind("isReadOnly").to(Xr,"isEnabled",Qr=>!Qr),Yr.bind("hasError").to(Xr,"errorText",Qr=>!!Qr),Yr.on("input",()=>{Xr.errorText=null}),Xr.bind("isEmpty","isFocused","placeholder").to(Yr),Yr}const Zf=(Xr,Fr=0,Ur=1)=>Xr>Ur?Ur:Xr<Fr?Fr:Xr,uc=(Xr,Fr=0,Ur=Math.pow(10,Fr))=>Math.round(Ur*Xr)/Ur,Wg=Xr=>(Xr[0]==="#"&&(Xr=Xr.substring(1)),Xr.length<6?{r:parseInt(Xr[0]+Xr[0],16),g:parseInt(Xr[1]+Xr[1],16),b:parseInt(Xr[2]+Xr[2],16),a:Xr.length===4?uc(parseInt(Xr[3]+Xr[3],16)/255,2):1}:{r:parseInt(Xr.substring(0,2),16),g:parseInt(Xr.substring(2,4),16),b:parseInt(Xr.substring(4,6),16),a:Xr.length===8?uc(parseInt(Xr.substring(6,8),16)/255,2):1}),rA=({h:Xr,s:Fr,v:Ur,a:Yr})=>{const Qr=(200-Fr)*Ur/100;return{h:uc(Xr),s:uc(Qr>0&&Qr<200?Fr*Ur/100/(Qr<=100?Qr:200-Qr)*100:0),l:uc(Qr/2),a:uc(Yr,2)}},Yg=Xr=>{const{h:Fr,s:Ur,l:Yr}=rA(Xr);return`hsl(${Fr}, ${Ur}%, ${Yr}%)`},nA=({h:Xr,s:Fr,v:Ur,a:Yr})=>{Xr=Xr/360*6,Fr/=100,Ur/=100;const Qr=Math.floor(Xr),tn=Ur*(1-Fr),sn=Ur*(1-(Xr-Qr)*Fr),un=Ur*(1-(1-Xr+Qr)*Fr),gn=Qr%6;return{r:uc(255*[Ur,sn,tn,tn,un,Ur][gn]),g:uc(255*[un,Ur,Ur,sn,tn,tn][gn]),b:uc(255*[tn,tn,un,Ur,Ur,sn][gn]),a:uc(Yr,2)}},Bp=Xr=>{const Fr=Xr.toString(16);return Fr.length<2?"0"+Fr:Fr},iA=({r:Xr,g:Fr,b:Ur,a:Yr})=>{const Qr=Yr<1?Bp(uc(255*Yr)):"";return"#"+Bp(Xr)+Bp(Fr)+Bp(Ur)+Qr},oA=({r:Xr,g:Fr,b:Ur,a:Yr})=>{const Qr=Math.max(Xr,Fr,Ur),tn=Qr-Math.min(Xr,Fr,Ur),sn=tn?Qr===Xr?(Fr-Ur)/tn:Qr===Fr?2+(Ur-Xr)/tn:4+(Xr-Fr)/tn:0;return{h:uc(60*(sn<0?sn+6:sn)),s:uc(Qr?tn/Qr*100:0),v:uc(Qr/255*100),a:Yr}},vy=(Xr,Fr)=>{if(Xr===Fr)return!0;for(const Ur in Xr)if(Xr[Ur]!==Fr[Ur])return!1;return!0},yy={},by=Xr=>{let Fr=yy[Xr];return Fr||(Fr=document.createElement("template"),Fr.innerHTML=Xr,yy[Xr]=Fr),Fr},qg=(Xr,Fr,Ur)=>{Xr.dispatchEvent(new CustomEvent(Fr,{bubbles:!0,detail:Ur}))};let Hh=!1;const Kg=Xr=>"touches"in Xr,_y=(Xr,Fr)=>{const Ur=Kg(Fr)?Fr.touches[0]:Fr,Yr=Xr.el.getBoundingClientRect();qg(Xr.el,"move",Xr.getMove({x:Zf((Ur.pageX-(Yr.left+window.pageXOffset))/Yr.width),y:Zf((Ur.pageY-(Yr.top+window.pageYOffset))/Yr.height)}))};class wy{constructor(Fr,Ur,Yr,Qr){const tn=by(`<div role="slider" tabindex="0" part="${Ur}" ${Yr}><div part="${Ur}-pointer"></div></div>`);Fr.appendChild(tn.content.cloneNode(!0));const sn=Fr.querySelector(`[part=${Ur}]`);sn.addEventListener("mousedown",this),sn.addEventListener("touchstart",this),sn.addEventListener("keydown",this),this.el=sn,this.xy=Qr,this.nodes=[sn.firstChild,sn]}set dragging(Fr){const Ur=Fr?document.addEventListener:document.removeEventListener;Ur(Hh?"touchmove":"mousemove",this),Ur(Hh?"touchend":"mouseup",this)}handleEvent(Fr){switch(Fr.type){case"mousedown":case"touchstart":if(Fr.preventDefault(),!(Ur=>!(Hh&&!Kg(Ur)||(Hh||(Hh=Kg(Ur)),0)))(Fr)||!Hh&&Fr.button!=0)return;this.el.focus(),_y(this,Fr),this.dragging=!0;break;case"mousemove":case"touchmove":Fr.preventDefault(),_y(this,Fr);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((Ur,Yr)=>{const Qr=Yr.keyCode;Qr>40||Ur.xy&&Qr<37||Qr<33||(Yr.preventDefault(),qg(Ur.el,"move",Ur.getMove({x:Qr===39?.01:Qr===37?-.01:Qr===34?.05:Qr===33?-.05:Qr===35?1:Qr===36?-1:0,y:Qr===40?.01:Qr===38?-.01:0},!0)))})(this,Fr)}}style(Fr){Fr.forEach((Ur,Yr)=>{for(const Qr in Ur)this.nodes[Yr].style.setProperty(Qr,Ur[Qr])})}}class aA extends wy{constructor(Fr){super(Fr,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:Fr}){this.h=Fr,this.style([{left:Fr/360*100+"%",color:Yg({h:Fr,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${uc(Fr)}`)}getMove(Fr,Ur){return{h:Ur?Zf(this.h+360*Fr.x,0,360):360*Fr.x}}}class sA extends wy{constructor(Fr){super(Fr,"saturation",'aria-label="Color"',!0)}update(Fr){this.hsva=Fr,this.style([{top:100-Fr.v+"%",left:`${Fr.s}%`,color:Yg(Fr)},{"background-color":Yg({h:Fr.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${uc(Fr.s)}%, Brightness ${uc(Fr.v)}%`)}getMove(Fr,Ur){return{s:Ur?Zf(this.hsva.s+100*Fr.x,0,100):100*Fr.x,v:Ur?Zf(this.hsva.v-100*Fr.y,0,100):Math.round(100-100*Fr.y)}}}const Fp=Symbol("same"),Zg=Symbol("color"),ky=Symbol("hsva"),Xg=Symbol("update"),Ay=Symbol("parts"),Cy=Symbol("css"),xy=Symbol("sliders");class lA extends HTMLElement{static get observedAttributes(){return["color"]}get[Cy](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[xy](){return[sA,aA]}get color(){return this[Zg]}set color(Fr){if(!this[Fp](Fr)){const Ur=this.colorModel.toHsva(Fr);this[Xg](Ur),this[Zg]=Fr}}constructor(){super();const Fr=by(`<style>${this[Cy].join("")}</style>`),Ur=this.attachShadow({mode:"open"});Ur.appendChild(Fr.content.cloneNode(!0)),Ur.addEventListener("move",this),this[Ay]=this[xy].map(Yr=>new Yr(Ur))}connectedCallback(){if(this.hasOwnProperty("color")){const Fr=this.color;delete this.color,this.color=Fr}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(Fr,Ur,Yr){const Qr=this.colorModel.fromAttr(Yr);this[Fp](Qr)||(this.color=Qr)}handleEvent(Fr){const Ur=this[ky],Yr={...Ur,...Fr.detail};let Qr;this[Xg](Yr),vy(Yr,Ur)||this[Fp](Qr=this.colorModel.fromHsva(Yr))||(this[Zg]=Qr,qg(this,"color-changed",{value:Qr}))}[Fp](Fr){return this.color&&this.colorModel.equal(Fr,this.color)}[Xg](Fr){this[ky]=Fr,this[Ay].forEach(Ur=>Ur.update(Fr))}}const cA={defaultColor:"#000",toHsva:Xr=>oA(Wg(Xr)),fromHsva:({h:Xr,s:Fr,v:Ur})=>iA(nA({h:Xr,s:Fr,v:Ur,a:1})),equal:(Xr,Fr)=>Xr.toLowerCase()===Fr.toLowerCase()||vy(Wg(Xr),Wg(Fr)),fromAttr:Xr=>Xr};class uA extends lA{get colorModel(){return cA}}customElements.define("hex-color-picker",class extends uA{});var Sy=$r(3398),dA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Sy.Z,dA),Sy.Z.locals;class hA{constructor(Fr){this._components=new Map,this.editor=Fr}*names(){for(const Fr of this._components.values())yield Fr.originalName}add(Fr,Ur){this._components.set(Qg(Fr),{callback:Ur,originalName:Fr})}create(Fr){if(!this.has(Fr))throw new wn("componentfactory-item-missing",this,{name:Fr});return this._components.get(Qg(Fr)).callback(this.editor.locale)}has(Fr){return this._components.has(Qg(Fr))}}function Qg(Xr){return String(Xr).toLowerCase()}var Dy=$r(8793),fA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Dy.Z,fA),Dy.Z.locals;var pA=Object.defineProperty,Ey=Object.getOwnPropertySymbols,gA=Object.prototype.hasOwnProperty,mA=Object.prototype.propertyIsEnumerable,Ty=(Xr,Fr,Ur)=>Fr in Xr?pA(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur,ys=(Xr,Fr)=>{for(var Ur in Fr||(Fr={}))gA.call(Fr,Ur)&&Ty(Xr,Ur,Fr[Ur]);if(Ey)for(var Ur of Ey(Fr))mA.call(Fr,Ur)&&Ty(Xr,Ur,Fr[Ur]);return Xr};const My=vd("px"),Iy=wa.document.body,Jg=class extends Qa{constructor(Xr){super(Xr);const Fr=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",Fr.to("position",Ur=>`ck-balloon-panel_${Ur}`),Fr.if("isVisible","ck-balloon-panel_visible"),Fr.if("withArrow","ck-balloon-panel_with-arrow"),Fr.to("class")],style:{top:Fr.to("top",My),left:Fr.to("left",My)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(Xr){this.show();const Fr=Jg.defaultPositions,Ur=Object.assign({},{element:this.element,positions:[Fr.southArrowNorth,Fr.southArrowNorthMiddleWest,Fr.southArrowNorthMiddleEast,Fr.southArrowNorthWest,Fr.southArrowNorthEast,Fr.northArrowSouth,Fr.northArrowSouthMiddleWest,Fr.northArrowSouthMiddleEast,Fr.northArrowSouthWest,Fr.northArrowSouthEast,Fr.viewportStickyNorth],limiter:Iy,fitInViewport:!0},Xr),Yr=Jg._getOptimalPosition(Ur),Qr=parseInt(Yr.left),tn=parseInt(Yr.top),sn=Yr.name,un=Yr.config||{},{withArrow:gn=!0}=un;this.top=tn,this.left=Qr,this.position=sn,this.withArrow=gn}pin(Xr){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(Xr):this._stopPinning()},this._startPinning(Xr),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(Xr){this.attachTo(Xr);const Fr=em(Xr.target),Ur=Xr.limiter?em(Xr.limiter):Iy;this.listenTo(wa.document,"scroll",(Yr,Qr)=>{const tn=Qr.target,sn=Fr&&tn.contains(Fr),un=Ur&&tn.contains(Ur);!sn&&!un&&Fr&&Ur||this.attachTo(Xr)},{useCapture:!0}),this.listenTo(wa.window,"resize",()=>{this.attachTo(Xr)})}_stopPinning(){this.stopListening(wa.document,"scroll"),this.stopListening(wa.window,"resize")}};let Mc=Jg;function em(Xr){return ta(Xr)?Xr:bc(Xr)?Xr.commonAncestorContainer:typeof Xr=="function"?em(Xr()):null}function Ly(Xr={}){const{sideOffset:Fr=Mc.arrowSideOffset,heightOffset:Ur=Mc.arrowHeightOffset,stickyVerticalOffset:Yr=Mc.stickyVerticalOffset,config:Qr}=Xr;return{northWestArrowSouthWest:(un,gn)=>ys({top:tn(un,gn),left:un.left-Fr,name:"arrow_sw"},Qr&&{config:Qr}),northWestArrowSouthMiddleWest:(un,gn)=>ys({top:tn(un,gn),left:un.left-.25*gn.width-Fr,name:"arrow_smw"},Qr&&{config:Qr}),northWestArrowSouth:(un,gn)=>ys({top:tn(un,gn),left:un.left-gn.width/2,name:"arrow_s"},Qr&&{config:Qr}),northWestArrowSouthMiddleEast:(un,gn)=>ys({top:tn(un,gn),left:un.left-.75*gn.width+Fr,name:"arrow_sme"},Qr&&{config:Qr}),northWestArrowSouthEast:(un,gn)=>ys({top:tn(un,gn),left:un.left-gn.width+Fr,name:"arrow_se"},Qr&&{config:Qr}),northArrowSouthWest:(un,gn)=>ys({top:tn(un,gn),left:un.left+un.width/2-Fr,name:"arrow_sw"},Qr&&{config:Qr}),northArrowSouthMiddleWest:(un,gn)=>ys({top:tn(un,gn),left:un.left+un.width/2-.25*gn.width-Fr,name:"arrow_smw"},Qr&&{config:Qr}),northArrowSouth:(un,gn)=>ys({top:tn(un,gn),left:un.left+un.width/2-gn.width/2,name:"arrow_s"},Qr&&{config:Qr}),northArrowSouthMiddleEast:(un,gn)=>ys({top:tn(un,gn),left:un.left+un.width/2-.75*gn.width+Fr,name:"arrow_sme"},Qr&&{config:Qr}),northArrowSouthEast:(un,gn)=>ys({top:tn(un,gn),left:un.left+un.width/2-gn.width+Fr,name:"arrow_se"},Qr&&{config:Qr}),northEastArrowSouthWest:(un,gn)=>ys({top:tn(un,gn),left:un.right-Fr,name:"arrow_sw"},Qr&&{config:Qr}),northEastArrowSouthMiddleWest:(un,gn)=>ys({top:tn(un,gn),left:un.right-.25*gn.width-Fr,name:"arrow_smw"},Qr&&{config:Qr}),northEastArrowSouth:(un,gn)=>ys({top:tn(un,gn),left:un.right-gn.width/2,name:"arrow_s"},Qr&&{config:Qr}),northEastArrowSouthMiddleEast:(un,gn)=>ys({top:tn(un,gn),left:un.right-.75*gn.width+Fr,name:"arrow_sme"},Qr&&{config:Qr}),northEastArrowSouthEast:(un,gn)=>ys({top:tn(un,gn),left:un.right-gn.width+Fr,name:"arrow_se"},Qr&&{config:Qr}),southWestArrowNorthWest:un=>ys({top:sn(un),left:un.left-Fr,name:"arrow_nw"},Qr&&{config:Qr}),southWestArrowNorthMiddleWest:(un,gn)=>ys({top:sn(un),left:un.left-.25*gn.width-Fr,name:"arrow_nmw"},Qr&&{config:Qr}),southWestArrowNorth:(un,gn)=>ys({top:sn(un),left:un.left-gn.width/2,name:"arrow_n"},Qr&&{config:Qr}),southWestArrowNorthMiddleEast:(un,gn)=>ys({top:sn(un),left:un.left-.75*gn.width+Fr,name:"arrow_nme"},Qr&&{config:Qr}),southWestArrowNorthEast:(un,gn)=>ys({top:sn(un),left:un.left-gn.width+Fr,name:"arrow_ne"},Qr&&{config:Qr}),southArrowNorthWest:un=>ys({top:sn(un),left:un.left+un.width/2-Fr,name:"arrow_nw"},Qr&&{config:Qr}),southArrowNorthMiddleWest:(un,gn)=>ys({top:sn(un),left:un.left+un.width/2-.25*gn.width-Fr,name:"arrow_nmw"},Qr&&{config:Qr}),southArrowNorth:(un,gn)=>ys({top:sn(un),left:un.left+un.width/2-gn.width/2,name:"arrow_n"},Qr&&{config:Qr}),southArrowNorthMiddleEast:(un,gn)=>ys({top:sn(un),left:un.left+un.width/2-.75*gn.width+Fr,name:"arrow_nme"},Qr&&{config:Qr}),southArrowNorthEast:(un,gn)=>ys({top:sn(un),left:un.left+un.width/2-gn.width+Fr,name:"arrow_ne"},Qr&&{config:Qr}),southEastArrowNorthWest:un=>ys({top:sn(un),left:un.right-Fr,name:"arrow_nw"},Qr&&{config:Qr}),southEastArrowNorthMiddleWest:(un,gn)=>ys({top:sn(un),left:un.right-.25*gn.width-Fr,name:"arrow_nmw"},Qr&&{config:Qr}),southEastArrowNorth:(un,gn)=>ys({top:sn(un),left:un.right-gn.width/2,name:"arrow_n"},Qr&&{config:Qr}),southEastArrowNorthMiddleEast:(un,gn)=>ys({top:sn(un),left:un.right-.75*gn.width+Fr,name:"arrow_nme"},Qr&&{config:Qr}),southEastArrowNorthEast:(un,gn)=>ys({top:sn(un),left:un.right-gn.width+Fr,name:"arrow_ne"},Qr&&{config:Qr}),westArrowEast:(un,gn)=>ys({top:un.top+un.height/2-gn.height/2,left:un.left-gn.width-Ur,name:"arrow_e"},Qr&&{config:Qr}),eastArrowWest:(un,gn)=>ys({top:un.top+un.height/2-gn.height/2,left:un.right+Ur,name:"arrow_w"},Qr&&{config:Qr}),viewportStickyNorth:(un,gn,kn)=>un.getIntersection(kn)?{top:kn.top+Yr,left:un.left+un.width/2-gn.width/2,name:"arrowless",config:ys({withArrow:!1},Qr)}:null};function tn(un,gn){return un.top-gn.height-Ur}function sn(un){return un.bottom+Ur}}Mc.arrowSideOffset=25,Mc.arrowHeightOffset=10,Mc.stickyVerticalOffset=20,Mc._getOptimalPosition=Rn,Mc.defaultPositions=Ly();var Py=$r(3332),vA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Py.Z,vA),Py.Z.locals;const Oy="ck-tooltip",Ic=class extends Ys(){constructor(Xr){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Ic._editors.add(Xr),Ic._instance)return Ic._instance;Ic._instance=this,this.tooltipTextView=new Qa(Xr.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Mc(Xr.locale),this.balloonPanelView.class=Oy,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=su(this._pinTooltip,600),this.listenTo(wa.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(wa.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(wa.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(wa.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(wa.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(Xr){const Fr=Xr.ui.view&&Xr.ui.view.body;Ic._editors.delete(Xr),this.stopListening(Xr.ui),Fr&&Fr.has(this.balloonPanelView)&&Fr.remove(this.balloonPanelView),Ic._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ic._instance=null)}static getPositioningFunctions(Xr){const Fr=Ic.defaultBalloonPositions;return{s:[Fr.southArrowNorth,Fr.southArrowNorthEast,Fr.southArrowNorthWest],n:[Fr.northArrowSouth],e:[Fr.eastArrowWest],w:[Fr.westArrowEast],sw:[Fr.southArrowNorthEast],se:[Fr.southArrowNorthWest]}[Xr]}_onEnterOrFocus(Xr,{target:Fr}){const Ur=tm(Fr);var Yr;Ur&&Ur!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(Ur,{text:(Yr=Ur).dataset.ckeTooltipText,position:Yr.dataset.ckeTooltipPosition||"s",cssClass:Yr.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(Xr,{target:Fr,relatedTarget:Ur}){if(Xr.name==="mouseleave"){if(!ta(Fr)||this._currentElementWithTooltip&&Fr!==this._currentElementWithTooltip)return;const Yr=tm(Fr),Qr=tm(Ur);Yr&&Yr!==Qr&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&Fr!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(Xr,{target:Fr}){this._currentElementWithTooltip&&(Fr.contains(this.balloonPanelView.element)&&Fr.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(Xr,{text:Fr,position:Ur,cssClass:Yr}){const Qr=wl(Ic._editors.values()).ui.view.body;Qr.has(this.balloonPanelView)||Qr.add(this.balloonPanelView),this.tooltipTextView.text=Fr,this.balloonPanelView.pin({target:Xr,positions:Ic.getPositioningFunctions(Ur)}),this._resizeObserver=new md(Xr,()=>{nc(Xr)||this._unpinTooltip()}),this.balloonPanelView.class=[Oy,Yr].filter(tn=>tn).join(" ");for(const tn of Ic._editors)this.listenTo(tn.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=Xr,this._currentTooltipPosition=Ur}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const Xr of Ic._editors)this.stopListening(Xr.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){nc(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ic.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let zp=Ic;function tm(Xr){return ta(Xr)?Xr.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}zp.defaultBalloonPositions=Ly({heightOffset:5,sideOffset:13}),zp._editors=new Set,zp._instance=null;const rm=function(Xr,Fr,Ur){var Yr=!0,Qr=!0;if(typeof Xr!="function")throw new TypeError("Expected a function");return zi(Ur)&&(Yr="leading"in Ur?!!Ur.leading:Yr,Qr="trailing"in Ur?!!Ur.trailing:Qr),su(Xr,Fr,{leading:Yr,maxWait:Fr,trailing:Qr})};var yA=Object.defineProperty,Ry=Object.getOwnPropertySymbols,bA=Object.prototype.hasOwnProperty,_A=Object.prototype.propertyIsEnumerable,$y=(Xr,Fr,Ur)=>Fr in Xr?yA(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur,wA=(Xr,Fr)=>{for(var Ur in Fr||(Fr={}))bA.call(Fr,Ur)&&$y(Xr,Ur,Fr[Ur]);if(Ry)for(var Ur of Ry(Fr))_A.call(Fr,Ur)&&$y(Xr,Ur,Fr[Ur]);return Xr};const kA=50,AA=350,CA="Powered by",Hp={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class xA extends Ys(){constructor(Fr){super(),this.editor=Fr,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=rm(this._showBalloon.bind(this),50,{leading:!0}),Fr.on("ready",this._handleEditorReady.bind(this))}destroy(){const Fr=this._balloonView;Fr&&(Fr.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const Fr=this.editor;(Fr.config.get("ui.poweredBy.forceVisible")||function(Ur){function Yr(zn){return zn.length>=40&&zn.length<=255?"VALID":"INVALID"}if(!Ur)return"INVALID";let Qr="";try{Qr=atob(Ur)}catch{return"INVALID"}const tn=Qr.split("-"),sn=tn[0],un=tn[1];if(!un)return Yr(Ur);try{atob(un)}catch{try{if(atob(sn),!atob(sn).length)return Yr(Ur)}catch{return Yr(Ur)}}if(sn.length<40||sn.length>255)return"INVALID";let gn="";try{atob(sn),gn=atob(un)}catch{return"INVALID"}if(gn.length!==8)return"INVALID";const kn=Number(gn.substring(0,4)),Cn=Number(gn.substring(4,6))-1,Dn=Number(gn.substring(6,8)),Ln=new Date(kn,Cn,Dn);return Ln<jn||isNaN(Number(Ln))?"INVALID":"VALID"}(Fr.config.get("licenseKey"))!=="VALID")&&Fr.ui.view&&(Fr.ui.focusTracker.on("change:isFocused",(Ur,Yr,Qr)=>{this._updateLastFocusedEditableElement(),Qr?this._showBalloon():this._hideBalloon()}),Fr.ui.focusTracker.on("change:focusedElement",(Ur,Yr,Qr)=>{this._updateLastFocusedEditableElement(),Qr&&this._showBalloon()}),Fr.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const Fr=this.editor,Ur=this._balloonView=new Mc,Yr=By(Fr),Qr=new SA(Fr.locale,Yr.label);Ur.content.add(Qr),Ur.set({class:"ck-powered-by-balloon"}),Fr.ui.view.body.add(Ur),Fr.ui.focusTracker.add(Ur.element),this._balloonView=Ur}_showBalloon(){if(!this._lastFocusedEditableElement)return;const Fr=function(Ur,Yr){const Qr=By(Ur),tn=Qr.side==="right"?function(sn,un){return Ny(sn,un,(gn,kn)=>gn.left+gn.width-kn.width-un.horizontalOffset)}(Yr,Qr):function(sn,un){return Ny(sn,un,gn=>gn.left+un.horizontalOffset)}(Yr,Qr);return{target:Yr,positions:[tn]}}(this.editor,this._lastFocusedEditableElement);Fr&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(Fr))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const Fr=this.editor,Ur=Fr.ui.focusTracker.isFocused,Yr=Fr.ui.focusTracker.focusedElement;if(!Ur||!Yr)return void(this._lastFocusedEditableElement=null);const Qr=Array.from(Fr.ui.getEditableElementsNames()).map(tn=>Fr.ui.getEditableElement(tn));Qr.includes(Yr)?this._lastFocusedEditableElement=Yr:this._lastFocusedEditableElement=Qr[0]}}class SA extends Qa{constructor(Fr,Ur){super(Fr);const Yr=new ru,Qr=this.bindTemplate;Yr.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),Yr.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...Ur?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[Ur]}]:[],Yr],on:{dragstart:Qr.to(tn=>tn.preventDefault())}}]})}}function Ny(Xr,Fr,Ur){return(Yr,Qr)=>{const tn=Yr.getVisible();if(!tn||Yr.width<AA||Yr.height<kA)return Hp;let sn;sn=Fr.position==="inside"?Yr.bottom-Qr.height:Yr.bottom-Qr.height/2,sn-=Fr.verticalOffset;const un=Ur(Yr,Qr);if(Fr.position==="inside"){const gn=Qr.clone().moveTo(un,sn);if(gn.getIntersectionArea(tn)<gn.getArea())return Hp}else{const gn=function(kn){let Cn=kn.parentElement;if(!Cn)return null;for(;Cn.tagName!="BODY";){const Dn=Cn.style.overflowY||wa.window.getComputedStyle(Cn).overflowY;if(Dn==="auto"||Dn==="scroll")break;if(Cn=Cn.parentElement,!Cn)return null}return Cn}(Xr);if(gn){const kn=new Vs(gn);if(tn.bottom+Qr.height/2>kn.bottom)return Hp}}return{top:sn,left:un,name:`position_${Fr.position}-side_${Fr.side}`,config:{withArrow:!1}}}}function By(Xr){const Fr=Xr.config.get("ui.poweredBy"),Ur=Fr&&Fr.position||"border";return wA({position:Ur,label:CA,verticalOffset:Ur==="inside"?5:0,horizontalOffset:5,side:Xr.locale.contentLanguageDirection==="ltr"?"right":"left"},Fr)}var DA=Object.defineProperty,Fy=Object.getOwnPropertySymbols,EA=Object.prototype.hasOwnProperty,TA=Object.prototype.propertyIsEnumerable,zy=(Xr,Fr,Ur)=>Fr in Xr?DA(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur;class MA extends Zi(){constructor(Fr){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const Ur=Fr.editing.view;this.editor=Fr,this.componentFactory=new hA(Fr),this.focusTracker=new Dc,this.tooltipManager=new zp(Fr),this.poweredBy=new xA(Fr),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(Ur.document,"layoutChanged",this.update.bind(this)),this.listenTo(Ur,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const Fr of this._editableElementsMap.values())Fr.ckeditorInstance=null,this.editor.keystrokes.stopListening(Fr);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(Fr,Ur){this._editableElementsMap.set(Fr,Ur),Ur.ckeditorInstance||(Ur.ckeditorInstance=this.editor),this.focusTracker.add(Ur);const Yr=()=>{this.editor.editing.view.getDomRoot(Fr)||this.editor.keystrokes.listenTo(Ur)};this.isReady?Yr():this.once("ready",Yr)}removeEditableElement(Fr){const Ur=this._editableElementsMap.get(Fr);Ur&&(this._editableElementsMap.delete(Fr),this.editor.keystrokes.stopListening(Ur),this.focusTracker.remove(Ur),Ur.ckeditorInstance=null)}getEditableElement(Fr="main"){return this._editableElementsMap.get(Fr)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(Fr,Ur={}){Fr.isRendered?(this.focusTracker.add(Fr.element),this.editor.keystrokes.listenTo(Fr.element)):Fr.once("render",()=>{this.focusTracker.add(Fr.element),this.editor.keystrokes.listenTo(Fr.element)}),this._focusableToolbarDefinitions.push({toolbarView:Fr,options:Ur})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const Fr=this.editor,Ur=Fr.config.get("ui.viewportOffset");if(Ur)return Ur;const Yr=Fr.config.get("toolbar.viewportTopOffset");return Yr?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:Yr}):{top:0}}_initFocusTracking(){const Fr=this.editor,Ur=Fr.editing.view;let Yr,Qr;Fr.keystrokes.set("Alt+F10",(tn,sn)=>{const un=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(un)&&!Array.from(Ur.domRoots.values()).includes(un)&&(Yr=un);const gn=this._getCurrentFocusedToolbarDefinition();gn&&Qr||(Qr=this._getFocusableCandidateToolbarDefinitions());for(let kn=0;kn<Qr.length;kn++){const Cn=Qr.shift();if(Qr.push(Cn),Cn!==gn&&this._focusFocusableCandidateToolbar(Cn)){gn&&gn.options.afterBlur&&gn.options.afterBlur();break}}sn()}),Fr.keystrokes.set("Esc",(tn,sn)=>{const un=this._getCurrentFocusedToolbarDefinition();un&&(Yr?(Yr.focus(),Yr=null):Fr.editing.view.focus(),un.options.afterBlur&&un.options.afterBlur(),sn())})}_getFocusableCandidateToolbarDefinitions(){const Fr=[];for(const Ur of this._focusableToolbarDefinitions){const{toolbarView:Yr,options:Qr}=Ur;(nc(Yr.element)||Qr.beforeFocus)&&Fr.push(Ur)}return Fr.sort((Ur,Yr)=>Hy(Ur)-Hy(Yr)),Fr}_getCurrentFocusedToolbarDefinition(){for(const Fr of this._focusableToolbarDefinitions)if(Fr.toolbarView.element&&Fr.toolbarView.element.contains(this.focusTracker.focusedElement))return Fr;return null}_focusFocusableCandidateToolbar(Fr){const{toolbarView:Ur,options:{beforeFocus:Yr}}=Fr;return Yr&&Yr(),!!nc(Ur.element)&&(Ur.focus(),!0)}_handleScrollToTheSelection(Fr,Ur){const Yr=((Qr,tn)=>{for(var sn in tn||(tn={}))EA.call(tn,sn)&&zy(Qr,sn,tn[sn]);if(Fy)for(var sn of Fy(tn))TA.call(tn,sn)&&zy(Qr,sn,tn[sn]);return Qr})({top:0,bottom:0,left:0,right:0},this.viewportOffset);Ur.viewportOffset.top+=Yr.top,Ur.viewportOffset.bottom+=Yr.bottom,Ur.viewportOffset.left+=Yr.left,Ur.viewportOffset.right+=Yr.right}}function Hy(Xr){const{toolbarView:Fr,options:Ur}=Xr;let Yr=10;return nc(Fr.element)&&Yr--,Ur.isContextual&&Yr--,Yr}var Vy=$r(9688),IA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Vy.Z,IA),Vy.Z.locals;class LA extends Qa{constructor(Fr){super(Fr),this.body=new sf(Fr)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class PA extends LA{constructor(Fr){super(Fr),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:Fr.uiLanguageDirection,lang:Fr.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const Fr=this.t,Ur=new pf;return Ur.text=Fr("Rich Text Editor"),Ur.extendTemplate({attributes:{class:"ck-voice-label"}}),Ur}}class OA extends Qa{constructor(Fr,Ur,Yr){super(Fr),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:Fr.contentLanguage,dir:Fr.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=Yr,this._hasExternalElement=!!this._editableElement,this._editingView=Ur}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const Fr=this._editingView;function Ur(Yr){Fr.change(Qr=>{const tn=Fr.document.getRoot(Yr.name);Qr.addClass(Yr.isFocused?"ck-focused":"ck-blurred",tn),Qr.removeClass(Yr.isFocused?"ck-blurred":"ck-focused",tn)})}Fr.isRenderingInProgress?function Yr(Qr){Fr.once("change:isRenderingInProgress",(tn,sn,un)=>{un?Yr(Qr):Ur(Qr)})}(this):Ur(this)}}class RA extends OA{constructor(Fr,Ur,Yr,Qr={}){super(Fr,Ur,Yr);const tn=Fr.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=Qr.label||(()=>tn("Editor editing area: %0",this.name))}render(){super.render();const Fr=this._editingView;Fr.change(Ur=>{const Yr=Fr.document.getRoot(this.name);Ur.setAttribute("aria-label",this._generateLabel(this),Yr)})}}var jy=$r(8847),$A={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(jy.Z,$A),jy.Z.locals;class nm extends Zd{static get pluginName(){return"Notification"}init(){this.on("show:warning",(Fr,Ur)=>{window.alert(Ur.message)},{priority:"lowest"})}showSuccess(Fr,Ur={}){this._showNotification({message:Fr,type:"success",namespace:Ur.namespace,title:Ur.title})}showInfo(Fr,Ur={}){this._showNotification({message:Fr,type:"info",namespace:Ur.namespace,title:Ur.title})}showWarning(Fr,Ur={}){this._showNotification({message:Fr,type:"warning",namespace:Ur.namespace,title:Ur.title})}_showNotification(Fr){const Ur=Fr.namespace?`show:${Fr.type}:${Fr.namespace}`:`show:${Fr.type}`;this.fire(Ur,{message:Fr.message,type:Fr.type,title:Fr.title||""})}}class Uy extends Zi(){constructor(Fr,Ur){super(),Ur&&No(this,Ur),Fr&&this.set(Fr)}}var Gy=$r(4650),NA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Gy.Z,NA),Gy.Z.locals;var Wy=$r(7676),BA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Wy.Z,BA),Wy.Z.locals;const Vp=vd("px");class jp extends go{constructor(Fr){super(Fr),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const Ur=this.editor.editing.view,Yr=Ur.document.selection.editableElement;return Yr?Ur.domConverter.mapViewToDom(Yr.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(Fr){return Array.from(this._viewToStack.keys()).includes(Fr)}add(Fr){if(this._view||this._createPanelView(),this.hasView(Fr.view))throw new wn("contextualballoon-add-view-exist",[this,Fr]);const Ur=Fr.stackId||"main";if(!this._idToStack.has(Ur))return this._idToStack.set(Ur,new Map([[Fr.view,Fr]])),this._viewToStack.set(Fr.view,this._idToStack.get(Ur)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!Fr.singleViewMode||this.showStack(Ur));const Yr=this._idToStack.get(Ur);Fr.singleViewMode&&this.showStack(Ur),Yr.set(Fr.view,Fr),this._viewToStack.set(Fr.view,Yr),Yr===this._visibleStack&&this._showView(Fr)}remove(Fr){if(!this.hasView(Fr))throw new wn("contextualballoon-remove-view-not-exist",[this,Fr]);const Ur=this._viewToStack.get(Fr);this._singleViewMode&&this.visibleView===Fr&&(this._singleViewMode=!1),this.visibleView===Fr&&(Ur.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(Ur.values())[Ur.size-2])),Ur.size===1?(this._idToStack.delete(this._getStackId(Ur)),this._numberOfStacks=this._idToStack.size):Ur.delete(Fr),this._viewToStack.delete(Fr)}updatePosition(Fr){Fr&&(this._visibleStack.get(this.visibleView).position=Fr),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(Fr){this.visibleStack=Fr;const Ur=this._idToStack.get(Fr);if(!Ur)throw new wn("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==Ur&&this._showView(Array.from(Ur.values()).pop())}_createPanelView(){this._view=new Mc(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(Fr){return Array.from(this._idToStack.entries()).find(Ur=>Ur[1]===Fr)[0]}_showNextStack(){const Fr=Array.from(this._idToStack.values());let Ur=Fr.indexOf(this._visibleStack)+1;Fr[Ur]||(Ur=0),this.showStack(this._getStackId(Fr[Ur]))}_showPrevStack(){const Fr=Array.from(this._idToStack.values());let Ur=Fr.indexOf(this._visibleStack)-1;Fr[Ur]||(Ur=Fr.length-1),this.showStack(this._getStackId(Fr[Ur]))}_createRotatorView(){const Fr=new FA(this.editor.locale),Ur=this.editor.locale.t;return this.view.content.add(Fr),Fr.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(Yr,Qr)=>!Qr&&Yr>1),Fr.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),Fr.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(Yr,Qr)=>{if(Qr<2)return"";const tn=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return Ur("%0 of %1",[tn,Qr])}),Fr.buttonNextView.on("execute",()=>{Fr.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),Fr.buttonPrevView.on("execute",()=>{Fr.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),Fr}_createFakePanelsView(){const Fr=new zA(this.editor.locale,this.view);return Fr.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(Ur,Yr)=>!Yr&&Ur>=2?Math.min(Ur-1,2):0),Fr.listenTo(this.view,"change:top",()=>Fr.updatePosition()),Fr.listenTo(this.view,"change:left",()=>Fr.updatePosition()),this.editor.ui.view.body.add(Fr),Fr}_showView({view:Fr,balloonClassName:Ur="",withArrow:Yr=!0,singleViewMode:Qr=!1}){this.view.class=Ur,this.view.withArrow=Yr,this._rotatorView.showView(Fr),this.visibleView=Fr,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),Qr&&(this._singleViewMode=!0)}_getBalloonPosition(){let Fr=Array.from(this._visibleStack.values()).pop().position;return Fr&&(Fr.limiter||(Fr=Object.assign({},Fr,{limiter:this.positionLimiter})),Fr=Object.assign({},Fr,{viewportOffsetConfig:this.editor.ui.viewportOffset})),Fr}}class FA extends Qa{constructor(Fr){super(Fr);const Ur=Fr.t,Yr=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Dc,this.buttonPrevView=this._createButtonView(Ur("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(Ur("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",Yr.to("isNavigationVisible",Qr=>Qr?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:Yr.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(Fr){this.hideView(),this.content.add(Fr)}hideView(){this.content.clear()}_createButtonView(Fr,Ur){const Yr=new cs(this.locale);return Yr.set({label:Fr,icon:Ur,tooltip:!0}),Yr}}class zA extends Qa{constructor(Fr,Ur){super(Fr);const Yr=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=Ur,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",Yr.to("numberOfPanels",Qr=>Qr?"":"ck-hidden")],style:{top:Yr.to("top",Vp),left:Yr.to("left",Vp),width:Yr.to("width",Vp),height:Yr.to("height",Vp)}},children:this.content}),this.on("change:numberOfPanels",(Qr,tn,sn,un)=>{sn>un?this._addPanels(sn-un):this._removePanels(un-sn),this.updatePosition()})}_addPanels(Fr){for(;Fr--;){const Ur=new Qa;Ur.setTemplate({tag:"div"}),this.content.add(Ur),this.registerChild(Ur)}}_removePanels(Fr){for(;Fr--;){const Ur=this.content.last;this.content.remove(Ur),this.deregisterChild(Ur),Ur.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:Fr,left:Ur}=this._balloonPanelView,{width:Yr,height:Qr}=new Vs(this._balloonPanelView.element);Object.assign(this,{top:Fr,left:Ur,width:Yr,height:Qr})}}}var Yy=$r(5868),HA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Yy.Z,HA),Yy.Z.locals;const Xf=vd("px");class VA extends Qa{constructor(Fr){super(Fr);const Ur=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new kc({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:Ur.to("isSticky",Yr=>Yr?"block":"none"),height:Ur.to("isSticky",Yr=>Yr?Xf(this._panelRect.height):null)}}}).render(),this._contentPanel=new kc({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",Ur.if("isSticky","ck-sticky-panel__content_sticky"),Ur.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:Ur.to("isSticky",Yr=>Yr?Xf(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:Ur.to("_hasViewportTopOffset",Yr=>Yr?Xf(this.viewportTopOffset):null),bottom:Ur.to("_isStickyToTheLimiter",Yr=>Yr?Xf(this.limiterBottomOffset):null),marginLeft:Ur.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(wa.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const Fr=this._panelRect=this._contentPanel.getBoundingClientRect();let Ur;this.limiterElement?(Ur=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&Ur.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<Ur.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=Ur.bottom<Fr.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Xf(-wa.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var qy=$r(9695),jA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(qy.Z,jA),qy.Z.locals;class UA extends MA{constructor(Fr,Ur){super(Fr),this.view=Ur,this._toolbarConfig=vf(Fr.config.get("toolbar")),this._elementReplacer=new Ia,this.listenTo(Fr.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(Fr){const Ur=this.editor,Yr=this.view,Qr=Ur.editing.view,tn=Yr.editable,sn=Qr.document.getRoot();tn.name=sn.rootName,Yr.render();const un=tn.element;this.setEditableElement(tn.name,un),Yr.editable.bind("isFocused").to(this.focusTracker),Qr.attachDomRoot(un),Fr&&this._elementReplacer.replace(Fr,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const Fr=this.view,Ur=this.editor.editing.view;this._elementReplacer.restore(),Ur.detachDomRoot(Fr.editable.name),Fr.destroy()}_initToolbar(){const Fr=this.view;Fr.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),Fr.stickyPanel.limiterElement=Fr.element,Fr.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:Ur})=>Ur||0),Fr.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(Fr.toolbar)}_initPlaceholder(){const Fr=this.editor,Ur=Fr.editing.view,Yr=Ur.document.getRoot(),Qr=Fr.sourceElement;let tn;const sn=Fr.config.get("placeholder");sn&&(tn=typeof sn=="string"?sn:sn[this.view.editable.name]),!tn&&Qr&&Qr.tagName.toLowerCase()==="textarea"&&(tn=Qr.getAttribute("placeholder")),tn&&id({view:Ur,element:Yr,text:tn,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(Fr,Ur,Yr){const Qr=this.view.stickyPanel;if(Qr.isSticky){const tn=new Vs(Qr.element).height;Ur.viewportOffset.top+=tn}else{const tn=()=>{this.editor.editing.view.scrollToTheSelection(Yr)};this.listenTo(Qr,"change:isSticky",tn),setTimeout(()=>{this.stopListening(Qr,"change:isSticky",tn)},20)}}}var Ky=$r(3143),GA={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Ky.Z,GA),Ky.Z.locals;class WA extends PA{constructor(Fr,Ur,Yr={}){super(Fr),this.stickyPanel=new VA(Fr),this.toolbar=new Vg(Fr,{shouldGroupWhenFull:Yr.shouldToolbarGroupWhenFull}),this.editable=new RA(Fr,Ur)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Zy{constructor(Fr){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof Fr.crashNumberLimit=="number"?Fr.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof Fr.minimumNonErrorTimePeriod=="number"?Fr.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=Ur=>{const Yr="error"in Ur?Ur.error:Ur.reason;Yr instanceof Error&&this._handleError(Yr,Ur)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(Fr,Ur){this._listeners[Fr]||(this._listeners[Fr]=[]),this._listeners[Fr].push(Ur)}off(Fr,Ur){this._listeners[Fr]=this._listeners[Fr].filter(Yr=>Yr!==Ur)}_fire(Fr,...Ur){const Yr=this._listeners[Fr]||[];for(const Qr of Yr)Qr.apply(this,[null,...Ur])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(Fr,Ur){if(this._shouldReactToError(Fr)){this.crashes.push({message:Fr.message,stack:Fr.stack,filename:Ur instanceof ErrorEvent?Ur.filename:void 0,lineno:Ur instanceof ErrorEvent?Ur.lineno:void 0,colno:Ur instanceof ErrorEvent?Ur.colno:void 0,date:this._now()});const Yr=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:Fr,causesRestart:Yr}),Yr?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(Fr){return Fr.is&&Fr.is("CKEditorError")&&Fr.context!==void 0&&Fr.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(Fr)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function im(Xr,Fr=new Set){const Ur=[Xr],Yr=new Set;let Qr=0;for(;Ur.length>Qr;){const tn=Ur[Qr++];if(!Yr.has(tn)&&YA(tn)&&!Fr.has(tn))if(Yr.add(tn),Symbol.iterator in tn)try{for(const sn of tn)Ur.push(sn)}catch{}else for(const sn in tn)sn!=="defaultValue"&&Ur.push(tn[sn])}return Yr}function YA(Xr){const Fr=Object.prototype.toString.call(Xr),Ur=typeof Xr;return!(Ur==="number"||Ur==="boolean"||Ur==="string"||Ur==="symbol"||Ur==="function"||Fr==="[object Date]"||Fr==="[object RegExp]"||Fr==="[object Module]"||Xr==null||Xr._watchdogExcluded||Xr instanceof EventTarget||Xr instanceof Event)}function Xy(Xr,Fr,Ur=new Set){if(Xr===Fr&&typeof(Yr=Xr)=="object"&&Yr!==null)return!0;var Yr;const Qr=im(Xr,Ur),tn=im(Fr,Ur);for(const sn of Qr)if(tn.has(sn))return!0;return!1}class Qy extends Zy{constructor(Fr,Ur={}){super(Ur),this._editor=null,this._throttledSave=rm(this._save.bind(this),typeof Ur.saveInterval=="number"?Ur.saveInterval:5e3),Fr&&(this._creator=(Yr,Qr)=>Fr.create(Yr,Qr)),this._destructor=Yr=>Yr.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(Fr){this._creator=Fr}setDestructor(Fr){this._destructor=Fr}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(Fr=>{console.error("An error happened during the editor destroying.",Fr)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const Fr=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,Fr,Fr.context)}}).then(()=>{this._fire("restart")})}create(Fr=this._elementOrData,Ur=this._config,Yr){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=Fr,this._config=this._cloneEditorConfiguration(Ur)||{},this._config.context=Yr,this._creator(Fr,this._config))).then(Qr=>{this._editor=Qr,Qr.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=Qr.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const Fr=this._editor;return this._editor=null,Fr.model.document.off("change:data",this._throttledSave),this._destructor(Fr)})}_save(){const Fr=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=Fr}catch(Ur){console.error(Ur,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(Fr){this._excludedProps=Fr}_getData(){const Fr={};for(const Ur of this._editor.model.document.getRootNames())Fr[Ur]=this._editor.data.get({rootName:Ur});return Fr}_isErrorComingFromThisItem(Fr){return Xy(this._editor,Fr.context,this._excludedProps)}_cloneEditorConfiguration(Fr){return La(Fr,(Ur,Yr)=>ta(Ur)||Yr==="context"?Ur:void 0)}}const Qf=Symbol("MainQueueId");class qA{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(Fr){this._onEmptyCallbacks.push(Fr)}enqueue(Fr,Ur){const Yr=Fr===Qf;this._activeActions++,this._queues.get(Fr)||this._queues.set(Fr,Promise.resolve());const Qr=(Yr?Promise.all(this._queues.values()):Promise.all([this._queues.get(Qf),this._queues.get(Fr)])).then(Ur),tn=Qr.catch(()=>{});return this._queues.set(Fr,tn),Qr.finally(()=>{this._activeActions--,this._queues.get(Fr)===tn&&this._activeActions===0&&this._onEmptyCallbacks.forEach(sn=>sn())})}}function Jy(Xr){return Array.isArray(Xr)?Xr:[Xr]}class Up extends Np(Hg(Uk)){constructor(Fr,Ur={}){if(!Gp(Fr)&&Ur.initialData!==void 0)throw new wn("editor-create-initial-data",null);super(Ur),this.config.get("initialData")===void 0&&this.config.set("initialData",function(tn){return Gp(tn)?(sn=tn,sn instanceof HTMLTextAreaElement?sn.value:sn.innerHTML):tn;var sn}(Fr)),Gp(Fr)&&(this.sourceElement=Fr),this.model.document.createRoot();const Yr=!this.config.get("toolbar.shouldNotGroupWhenFull"),Qr=new WA(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:Yr});this.ui=new UA(this,Qr),function(tn){if(!Na(tn.updateSourceElement))throw new wn("attachtoform-missing-elementapi-interface",tn);const sn=tn.sourceElement;if(function(un){return!!un&&un.tagName.toLowerCase()==="textarea"}(sn)&&sn.form){let un;const gn=sn.form,kn=()=>tn.updateSourceElement();Na(gn.submit)&&(un=gn.submit,gn.submit=()=>{kn(),un.apply(gn)}),gn.addEventListener("submit",kn),tn.on("destroy",()=>{gn.removeEventListener("submit",kn),un&&(gn.submit=un)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(Fr,Ur={}){return new Promise(Yr=>{const Qr=new this(Fr,Ur);Yr(Qr.initPlugins().then(()=>Qr.ui.init(Gp(Fr)?Fr:null)).then(()=>Qr.data.init(Qr.config.get("initialData"))).then(()=>Qr.fire("ready")).then(()=>Qr))})}}function Gp(Xr){return ta(Xr)}Up.Context=nd,Up.EditorWatchdog=Qy,Up.ContextWatchdog=class extends Zy{constructor(Xr,Fr={}){super(Fr),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new qA,this._watchdogConfig=Fr,this._creator=Ur=>Xr.create(Ur),this._destructor=Ur=>Ur.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(Xr){this._creator=Xr}setDestructor(Xr){this._destructor=Xr}get context(){return this._context}create(Xr={}){return this._actionQueues.enqueue(Qf,()=>(this._contextConfig=Xr,this._create()))}getItem(Xr){return this._getWatchdog(Xr)._item}getItemState(Xr){return this._getWatchdog(Xr).state}add(Xr){const Fr=Jy(Xr);return Promise.all(Fr.map(Ur=>this._actionQueues.enqueue(Ur.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Yr;if(this._watchdogs.has(Ur.id))throw new Error(`Item with the given id is already added: '${Ur.id}'.`);if(Ur.type==="editor")return Yr=new Qy(null,this._watchdogConfig),Yr.setCreator(Ur.creator),Yr._setExcludedProperties(this._contextProps),Ur.destructor&&Yr.setDestructor(Ur.destructor),this._watchdogs.set(Ur.id,Yr),Yr.on("error",(Qr,{error:tn,causesRestart:sn})=>{this._fire("itemError",{itemId:Ur.id,error:tn}),sn&&this._actionQueues.enqueue(Ur.id,()=>new Promise(un=>{const gn=()=>{Yr.off("restart",gn),this._fire("itemRestart",{itemId:Ur.id}),un()};Yr.on("restart",gn)}))}),Yr.create(Ur.sourceElementOrData,Ur.config,this._context);throw new Error(`Not supported item type: '${Ur.type}'.`)})))}remove(Xr){const Fr=Jy(Xr);return Promise.all(Fr.map(Ur=>this._actionQueues.enqueue(Ur,()=>{const Yr=this._getWatchdog(Ur);return this._watchdogs.delete(Ur),Yr.destroy()})))}destroy(){return this._actionQueues.enqueue(Qf,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Qf,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(Xr=>{console.error("An error happened during destroying the context or items.",Xr)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(Xr=>(this._context=Xr,this._contextProps=im(this._context),Promise.all(Array.from(this._watchdogs.values()).map(Fr=>(Fr._setExcludedProperties(this._contextProps),Fr.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const Xr=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(Fr=>Fr.destroy())).then(()=>this._destructor(Xr))})}_getWatchdog(Xr){const Fr=this._watchdogs.get(Xr);if(!Fr)throw new Error(`Item with the given id was not registered: ${Xr}.`);return Fr}_isErrorComingFromThisItem(Xr){for(const Fr of this._watchdogs.values())if(Fr._isErrorComingFromThisItem(Xr))return!1;return Xy(this._context,Xr.context)}};class om extends Go{constructor(Fr){super(Fr),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const Ur=this.document;function Yr(Qr){return(tn,sn)=>{sn.preventDefault();const un=sn.dropRange?[sn.dropRange]:null,gn=new hn(Ur,Qr);Ur.fire(gn,{dataTransfer:sn.dataTransfer,method:tn.name,targetRanges:un,target:sn.target,domEvent:sn.domEvent}),gn.stop.called&&sn.stopPropagation()}}this.listenTo(Ur,"paste",Yr("clipboardInput"),{priority:"low"}),this.listenTo(Ur,"drop",Yr("clipboardInput"),{priority:"low"}),this.listenTo(Ur,"dragover",Yr("dragging"),{priority:"low"})}onDomEvent(Fr){const Ur="clipboardData"in Fr?Fr.clipboardData:Fr.dataTransfer,Yr=Fr.type=="drop"||Fr.type=="paste",Qr={dataTransfer:new Ym(Ur,{cacheFiles:Yr})};Fr.type!="drop"&&Fr.type!="dragover"||(Qr.dropRange=function(tn,sn){const un=sn.target.ownerDocument,gn=sn.clientX,kn=sn.clientY;let Cn;return un.caretRangeFromPoint&&un.caretRangeFromPoint(gn,kn)?Cn=un.caretRangeFromPoint(gn,kn):sn.rangeParent&&(Cn=un.createRange(),Cn.setStart(sn.rangeParent,sn.rangeOffset),Cn.collapse(!0)),Cn?tn.domConverter.domRangeToView(Cn):null}(this.view,Fr)),this.fire(Fr.type,Fr,Qr)}}const eb=["figcaption","li"];function tb(Xr){let Fr="";if(Xr.is("$text")||Xr.is("$textProxy"))Fr=Xr.data;else if(Xr.is("element","img")&&Xr.hasAttribute("alt"))Fr=Xr.getAttribute("alt");else if(Xr.is("element","br"))Fr=`
`;else{let Ur=null;for(const Yr of Xr.getChildren()){const Qr=tb(Yr);Ur&&(Ur.is("containerElement")||Yr.is("containerElement"))&&(eb.includes(Ur.name)||eb.includes(Yr.name)?Fr+=`
`:Fr+=`

`),Fr+=Qr,Ur=Yr}}return Fr}class Wu extends go{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(om),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.editing.view,Qr=Yr.document;this.listenTo(Qr,"clipboardInput",(tn,sn)=>{sn.method!="paste"||Fr.model.canEditAt(Fr.model.document.selection)||tn.stop()},{priority:"highest"}),this.listenTo(Qr,"clipboardInput",(tn,sn)=>{const un=sn.dataTransfer;let gn;if(sn.content)gn=sn.content;else{let Dn="";un.getData("text/html")?Dn=function(Ln){return Ln.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(zn,Wn)=>Wn.length==1?" ":Wn).replace(/<!--[\s\S]*?-->/g,"")}(un.getData("text/html")):un.getData("text/plain")&&(((kn=(kn=un.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||kn.includes("<br>"))&&(kn=`<p>${kn}</p>`),Dn=kn),gn=this.editor.data.htmlProcessor.toView(Dn)}var kn;const Cn=new hn(this,"inputTransformation");this.fire(Cn,{content:gn,dataTransfer:un,targetRanges:sn.targetRanges,method:sn.method}),Cn.stop.called&&tn.stop(),Yr.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(tn,sn)=>{if(sn.content.isEmpty)return;const un=this.editor.data.toModel(sn.content,"$clipboardHolder");un.childCount!=0&&(tn.stop(),Ur.change(()=>{this.fire("contentInsertion",{content:un,method:sn.method,dataTransfer:sn.dataTransfer,targetRanges:sn.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(tn,sn)=>{sn.resultRange=Ur.insertContent(sn.content)},{priority:"low"})}_setupCopyCut(){const Fr=this.editor,Ur=Fr.model.document,Yr=Fr.editing.view.document,Qr=(tn,sn)=>{const un=sn.dataTransfer;sn.preventDefault();const gn=Fr.data.toView(Fr.model.getSelectedContent(Ur.selection));Yr.fire("clipboardOutput",{dataTransfer:un,content:gn,method:tn.name})};this.listenTo(Yr,"copy",Qr,{priority:"low"}),this.listenTo(Yr,"cut",(tn,sn)=>{Fr.model.canEditAt(Fr.model.document.selection)?Qr(tn,sn):sn.preventDefault()},{priority:"low"}),this.listenTo(Yr,"clipboardOutput",(tn,sn)=>{sn.content.isEmpty||(sn.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(sn.content)),sn.dataTransfer.setData("text/plain",tb(sn.content))),sn.method=="cut"&&Fr.model.deleteContent(Ur.selection)},{priority:"low"})}}class nb{constructor(Fr,Ur=20){this._batch=null,this.model=Fr,this._size=0,this.limit=Ur,this._isLocked=!1,this._changeCallback=(Yr,Qr)=>{Qr.isLocal&&Qr.isUndoable&&Qr!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(Fr){this._size+=Fr,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(Fr=!1){this.isLocked&&!Fr||(this._batch=null,this._size=0)}}class KA extends ja{constructor(Fr,Ur){super(Fr),this._buffer=new nb(Fr.model,Ur),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(Fr={}){const Ur=this.editor.model,Yr=Ur.document,Qr=Fr.text||"",tn=Qr.length;let sn=Yr.selection;if(Fr.selection?sn=Fr.selection:Fr.range&&(sn=Ur.createSelection(Fr.range)),!Ur.canEditAt(sn))return;const un=Fr.resultRange;Ur.enqueueChange(this._buffer.batch,gn=>{this._buffer.lock(),Ur.deleteContent(sn),Qr&&Ur.insertContent(gn.createText(Qr,Yr.selection.getAttributes()),sn),un?gn.setSelection(un):sn.is("documentSelection")||gn.setSelection(sn),this._buffer.unlock(),this._buffer.input(tn)})}}const ib=["insertText","insertReplacementText"];class ZA extends mo{constructor(Fr){super(Fr),Kr.isAndroid&&ib.push("insertCompositionText");const Ur=Fr.document;Ur.on("beforeinput",(Yr,Qr)=>{if(!this.isEnabled)return;const{data:tn,targetRanges:sn,inputType:un,domEvent:gn}=Qr;if(!ib.includes(un))return;const kn=new hn(Ur,"insertText");Ur.fire(kn,new Jo(Fr,gn,{text:tn,selection:Fr.createSelection(sn)})),kn.stop.called&&Yr.stop()}),Ur.on("compositionend",(Yr,{data:Qr,domEvent:tn})=>{this.isEnabled&&!Kr.isAndroid&&Qr&&Ur.fire("insertText",new Jo(Fr,tn,{text:Qr,selection:Ur.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class ob extends go{static get pluginName(){return"Input"}init(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.editing.view,Qr=Ur.document.selection;Yr.addObserver(ZA);const tn=new KA(Fr,Fr.config.get("typing.undoStep")||20);Fr.commands.add("insertText",tn),Fr.commands.add("input",tn),this.listenTo(Yr.document,"insertText",(sn,un)=>{Yr.document.isComposing||un.preventDefault();const{text:gn,selection:kn,resultRange:Cn}=un,Dn=Array.from(kn.getRanges()).map(Wn=>Fr.editing.mapper.toModelRange(Wn));let Ln=gn;if(Kr.isAndroid){const Wn=Array.from(Dn[0].getItems()).reduce((Xn,ii)=>Xn+(ii.is("$textProxy")?ii.data:""),"");Wn&&(Wn.length<=Ln.length?Ln.startsWith(Wn)&&(Ln=Ln.substring(Wn.length),Dn[0].start=Dn[0].start.getShiftedBy(Wn.length)):Wn.startsWith(Ln)&&(Dn[0].start=Dn[0].start.getShiftedBy(Ln.length),Ln=""))}const zn={text:Ln,selection:Ur.createSelection(Dn)};Cn&&(zn.resultRange=Fr.editing.mapper.toModelRange(Cn)),Fr.execute("insertText",zn)}),Kr.isAndroid?this.listenTo(Yr.document,"keydown",(sn,un)=>{!Qr.isCollapsed&&un.keyCode==229&&Yr.document.isComposing&&ab(Ur,tn)}):this.listenTo(Yr.document,"compositionstart",()=>{Qr.isCollapsed||ab(Ur,tn)})}}function ab(Xr,Fr){if(!Fr.isEnabled)return;const Ur=Fr.buffer;Ur.lock(),Xr.enqueueChange(Ur.batch,()=>{Xr.deleteContent(Xr.document.selection)}),Ur.unlock()}class sb extends ja{constructor(Fr,Ur){super(Fr),this.direction=Ur,this._buffer=new nb(Fr.model,Fr.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(Fr={}){const Ur=this.editor.model,Yr=Ur.document;Ur.enqueueChange(this._buffer.batch,Qr=>{this._buffer.lock();const tn=Qr.createSelection(Fr.selection||Yr.selection);if(!Ur.canEditAt(tn))return;const sn=Fr.sequence||1,un=tn.isCollapsed;if(tn.isCollapsed&&Ur.modifySelection(tn,{direction:this.direction,unit:Fr.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(sn))return void this._replaceEntireContentWithParagraph(Qr);if(this._shouldReplaceFirstBlockWithParagraph(tn,sn))return void this.editor.execute("paragraph",{selection:tn});if(tn.isCollapsed)return;let gn=0;tn.getFirstRange().getMinimalFlatRanges().forEach(kn=>{gn+=Ua(kn.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),Ur.deleteContent(tn,{doNotResetEntireContent:un,direction:this.direction}),this._buffer.input(gn),Qr.setSelection(tn),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(Fr){if(Fr>1)return!1;const Ur=this.editor.model,Yr=Ur.document.selection,Qr=Ur.schema.getLimitElement(Yr);if(!(Yr.isCollapsed&&Yr.containsEntireContent(Qr))||!Ur.schema.checkChild(Qr,"paragraph"))return!1;const tn=Qr.getChild(0);return!tn||!tn.is("element","paragraph")}_replaceEntireContentWithParagraph(Fr){const Ur=this.editor.model,Yr=Ur.document.selection,Qr=Ur.schema.getLimitElement(Yr),tn=Fr.createElement("paragraph");Fr.remove(Fr.createRangeIn(Qr)),Fr.insert(tn,Qr),Fr.setSelection(tn,0)}_shouldReplaceFirstBlockWithParagraph(Fr,Ur){const Yr=this.editor.model;if(Ur>1||this.direction!="backward"||!Fr.isCollapsed)return!1;const Qr=Fr.getFirstPosition(),tn=Yr.schema.getLimitElement(Qr),sn=tn.getChild(0);return Qr.parent==sn&&!!Fr.containsEntireContent(sn)&&!!Yr.schema.checkChild(tn,"paragraph")&&sn.name!="paragraph"}}const cb="word",Pd="selection",Vh="backward",Jf="forward",ub={deleteContent:{unit:Pd,direction:Vh},deleteContentBackward:{unit:"codePoint",direction:Vh},deleteWordBackward:{unit:cb,direction:Vh},deleteHardLineBackward:{unit:Pd,direction:Vh},deleteSoftLineBackward:{unit:Pd,direction:Vh},deleteContentForward:{unit:"character",direction:Jf},deleteWordForward:{unit:cb,direction:Jf},deleteHardLineForward:{unit:Pd,direction:Jf},deleteSoftLineForward:{unit:Pd,direction:Jf}};class XA extends mo{constructor(Fr){super(Fr);const Ur=Fr.document;let Yr=0;Ur.on("keydown",()=>{Yr++}),Ur.on("keyup",()=>{Yr=0}),Ur.on("beforeinput",(Qr,tn)=>{if(!this.isEnabled)return;const{targetRanges:sn,domEvent:un,inputType:gn}=tn,kn=ub[gn];if(!kn)return;const Cn={direction:kn.direction,unit:kn.unit,sequence:Yr};Cn.unit==Pd&&(Cn.selectionToRemove=Fr.createSelection(sn[0])),gn==="deleteContentBackward"&&(Kr.isAndroid&&(Cn.sequence=1),function(Ln){if(Ln.length!=1||Ln[0].isCollapsed)return!1;const zn=Ln[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let Wn=0;for(const{nextPosition:Xn}of zn){if(Xn.parent.is("$text")){const ii=Xn.parent.data,ui=Xn.offset;if(Nl(ii,ui)||fl(ii,ui)||rp(ii,ui))continue;Wn++}else Wn++;if(Wn>1)return!0}return!1}(sn)&&(Cn.unit=Pd,Cn.selectionToRemove=Fr.createSelection(sn)));const Dn=new Bu(Ur,"delete",sn[0]);Ur.fire(Dn,new Jo(Fr,un,Cn)),Dn.stop.called&&Qr.stop()}),Kr.isBlink&&function(Qr){const tn=Qr.view,sn=tn.document;let un=null,gn=!1;function kn(Dn){return Dn==qa.backspace||Dn==qa.delete}function Cn(Dn){return Dn==qa.backspace?Vh:Jf}sn.on("keydown",(Dn,{keyCode:Ln})=>{un=Ln,gn=!1}),sn.on("keyup",(Dn,{keyCode:Ln,domEvent:zn})=>{const Wn=sn.selection,Xn=Qr.isEnabled&&Ln==un&&kn(Ln)&&!Wn.isCollapsed&&!gn;if(un=null,Xn){const ii=Wn.getFirstRange(),ui=new Bu(sn,"delete",ii),Ti={unit:Pd,direction:Cn(Ln),selectionToRemove:Wn};sn.fire(ui,new Jo(tn,zn,Ti))}}),sn.on("beforeinput",(Dn,{inputType:Ln})=>{const zn=ub[Ln];kn(un)&&zn&&zn.direction==Cn(un)&&(gn=!0)},{priority:"high"}),sn.on("beforeinput",(Dn,{inputType:Ln,data:zn})=>{un==qa.delete&&Ln=="insertText"&&zn==""&&Dn.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class dd extends go{static get pluginName(){return"Delete"}init(){const Fr=this.editor,Ur=Fr.editing.view,Yr=Ur.document,Qr=Fr.model.document;Ur.addObserver(XA),this._undoOnBackspace=!1;const tn=new sb(Fr,"forward");Fr.commands.add("deleteForward",tn),Fr.commands.add("forwardDelete",tn),Fr.commands.add("delete",new sb(Fr,"backward")),this.listenTo(Yr,"delete",(sn,un)=>{Yr.isComposing||un.preventDefault();const{direction:gn,sequence:kn,selectionToRemove:Cn,unit:Dn}=un,Ln=gn==="forward"?"deleteForward":"delete",zn={sequence:kn};if(Dn=="selection"){const Wn=Array.from(Cn.getRanges()).map(Xn=>Fr.editing.mapper.toModelRange(Xn));zn.selection=Fr.model.createSelection(Wn)}else zn.unit=Dn;Fr.execute(Ln,zn),Ur.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(Yr,"delete",(sn,un)=>{this._undoOnBackspace&&un.direction=="backward"&&un.sequence==1&&un.unit=="codePoint"&&(this._undoOnBackspace=!1,Fr.execute("undo"),un.preventDefault(),sn.stop())},{context:"$capture"}),this.listenTo(Qr,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class QA extends go{static get requires(){return[ob,dd]}static get pluginName(){return"Typing"}}function db(Xr,Fr){let Ur=Xr.start;return{text:Array.from(Xr.getWalker({ignoreElementEnd:!1})).reduce((Yr,{item:Qr})=>Qr.is("$text")||Qr.is("$textProxy")?Yr+Qr.data:(Ur=Fr.createPositionAfter(Qr),""),""),range:Fr.createRange(Ur,Xr.end)}}class hb extends Zi(){constructor(Fr,Ur){super(),this.model=Fr,this.testCallback=Ur,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(Fr.document.selection),this.stopListening(Fr.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const Fr=this.model.document;this.listenTo(Fr.selection,"change:range",(Ur,{directChange:Yr})=>{Yr&&(Fr.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(Fr,"change:data",(Ur,Yr)=>{!Yr.isUndo&&Yr.isLocal&&this._evaluateTextBeforeSelection("data",{batch:Yr})})}_evaluateTextBeforeSelection(Fr,Ur={}){const Yr=this.model,Qr=Yr.document.selection,tn=Yr.createRange(Yr.createPositionAt(Qr.focus.parent,0),Qr.focus),{text:sn,range:un}=db(tn,Yr),gn=this.testCallback(sn);if(!gn&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!gn,gn){const kn=Object.assign(Ur,{text:sn,range:un});typeof gn=="object"&&Object.assign(kn,gn),this.fire(`matched:${Fr}`,kn)}}}class fb extends go{constructor(Fr){super(Fr),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.editing.view,Qr=Fr.locale,tn=Ur.document.selection;this.listenTo(Yr.document,"arrowKey",(sn,un)=>{if(!tn.isCollapsed||un.shiftKey||un.altKey||un.ctrlKey)return;const gn=un.keyCode==qa.arrowright,kn=un.keyCode==qa.arrowleft;if(!gn&&!kn)return;const Cn=Qr.contentLanguageDirection;let Dn=!1;Dn=Cn==="ltr"&&gn||Cn==="rtl"&&kn?this._handleForwardMovement(un):this._handleBackwardMovement(un),Dn===!0&&sn.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(tn,"change:range",(sn,un)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!un.directChange&&Yp(tn.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(Fr){this.attributes.add(Fr)}_handleForwardMovement(Fr){const Ur=this.attributes,Yr=this.editor.model.document.selection,Qr=Yr.getFirstPosition();return!this._isGravityOverridden&&(!Qr.isAtStart||!am(Yr,Ur))&&!!Yp(Qr,Ur)&&(Wp(Fr),this._overrideGravity(),!0)}_handleBackwardMovement(Fr){const Ur=this.attributes,Yr=this.editor.model,Qr=Yr.document.selection,tn=Qr.getFirstPosition();return this._isGravityOverridden?(Wp(Fr),this._restoreGravity(),sm(Yr,Ur,tn),!0):tn.isAtStart?!!am(Qr,Ur)&&(Wp(Fr),sm(Yr,Ur,tn),!0):!!function(sn,un){const gn=sn.getShiftedBy(-1);return Yp(gn,un)}(tn,Ur)&&(tn.isAtEnd&&!am(Qr,Ur)&&Yp(tn,Ur)?(Wp(Fr),sm(Yr,Ur,tn),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(Fr=>Fr.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(Fr=>{Fr.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function am(Xr,Fr){for(const Ur of Fr)if(Xr.hasAttribute(Ur))return!0;return!1}function sm(Xr,Fr,Ur){const Yr=Ur.nodeBefore;Xr.change(Qr=>{Yr?Qr.setSelectionAttribute(Yr.getAttributes()):Qr.removeSelectionAttribute(Fr)})}function Wp(Xr){Xr.preventDefault()}function Yp(Xr,Fr){const{nodeBefore:Ur,nodeAfter:Yr}=Xr;for(const Qr of Fr){const tn=Ur?Ur.getAttribute(Qr):void 0;if((Yr?Yr.getAttribute(Qr):void 0)!==tn)return!0}return!1}var pb=/[\\^$.*+?()[\]{}|]/g,JA=RegExp(pb.source);const eC=function(Xr){return(Xr=Sf(Xr))&&JA.test(Xr)?Xr.replace(pb,"\\$&"):Xr},gb={copyright:{from:"(c)",to:"Â©"},registeredTrademark:{from:"(r)",to:"Â®"},trademark:{from:"(tm)",to:"â¢"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"Â½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"â",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"â",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"Â¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"Â¾",null]},lessThanOrEqual:{from:"<=",to:"â¤"},greaterThanOrEqual:{from:">=",to:"â¥"},notEqual:{from:"!=",to:"â "},arrowLeft:{from:"<-",to:"â"},arrowRight:{from:"->",to:"â"},horizontalEllipsis:{from:"...",to:"â¦"},enDash:{from:/(^| )(--)( )$/,to:[null,"â",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"â",null]},quotesPrimary:{from:jh('"'),to:[null,"â",null,"â"]},quotesSecondary:{from:jh("'"),to:[null,"â",null,"â"]},quotesPrimaryEnGb:{from:jh("'"),to:[null,"â",null,"â"]},quotesSecondaryEnGb:{from:jh('"'),to:[null,"â",null,"â"]},quotesPrimaryPl:{from:jh('"'),to:[null,"â",null,"â"]},quotesSecondaryPl:{from:jh("'"),to:[null,"â",null,"â"]}},mb={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},tC=["symbols","mathematical","typography","quotes"];function rC(Xr){return typeof Xr=="string"?new RegExp(`(${eC(Xr)})$`):Xr}function nC(Xr){return typeof Xr=="string"?()=>[Xr]:Xr instanceof Array?()=>Xr:Xr}function iC(Xr){return(Xr.textNode?Xr.textNode:Xr.nodeAfter).getAttributes()}function jh(Xr){return new RegExp(`(^|\\s)(${Xr})([^${Xr}]*)(${Xr})$`)}function Uh(Xr,Fr,Ur,Yr){return Yr.createRange(vb(Xr,Fr,Ur,!0,Yr),vb(Xr,Fr,Ur,!1,Yr))}function vb(Xr,Fr,Ur,Yr,Qr){let tn=Xr.textNode||(Yr?Xr.nodeBefore:Xr.nodeAfter),sn=null;for(;tn&&tn.getAttribute(Fr)==Ur;)sn=tn,tn=Yr?tn.previousSibling:tn.nextSibling;return sn?Qr.createPositionAt(sn,Yr?"before":"after"):Xr}function*yb(Xr,Fr){for(const Ur of Fr)Ur&&Xr.getAttributeProperties(Ur[0]).copyOnEnter&&(yield Ur)}class oC extends ja{execute(){this.editor.model.change(Fr=>{this.enterBlock(Fr),this.fire("afterExecute",{writer:Fr})})}enterBlock(Fr){const Ur=this.editor.model,Yr=Ur.document.selection,Qr=Ur.schema,tn=Yr.isCollapsed,sn=Yr.getFirstRange(),un=sn.start.parent,gn=sn.end.parent;if(Qr.isLimit(un)||Qr.isLimit(gn))return tn||un!=gn||Ur.deleteContent(Yr),!1;if(tn){const kn=yb(Fr.model.schema,Yr.getAttributes());return bb(Fr,sn.start),Fr.setSelectionAttribute(kn),!0}{const kn=!(sn.start.isAtStart&&sn.end.isAtEnd),Cn=un==gn;if(Ur.deleteContent(Yr,{leaveUnmerged:kn}),kn){if(Cn)return bb(Fr,Yr.focus),!0;Fr.setSelection(gn,0)}}return!1}}function bb(Xr,Fr){Xr.split(Fr),Xr.setSelection(Fr.parent.nextSibling,0)}const aC={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class wb extends mo{constructor(Fr){super(Fr);const Ur=this.document;let Yr=!1;Ur.on("keydown",(Qr,tn)=>{Yr=tn.shiftKey}),Ur.on("beforeinput",(Qr,tn)=>{if(!this.isEnabled)return;let sn=tn.inputType;Kr.isSafari&&Yr&&sn=="insertParagraph"&&(sn="insertLineBreak");const un=tn.domEvent,gn=aC[sn];if(!gn)return;const kn=new Bu(Ur,"enter",tn.targetRanges[0]);Ur.fire(kn,new Jo(Fr,un,{isSoft:gn.isSoft})),kn.stop.called&&Qr.stop()})}observe(){}stopObserving(){}}class qp extends go{static get pluginName(){return"Enter"}init(){const Fr=this.editor,Ur=Fr.editing.view,Yr=Ur.document;Ur.addObserver(wb),Fr.commands.add("enter",new oC(Fr)),this.listenTo(Yr,"enter",(Qr,tn)=>{Yr.isComposing||tn.preventDefault(),tn.isSoft||(Fr.execute("enter"),Ur.scrollToTheSelection())},{priority:"low"})}}class sC extends ja{execute(){const Fr=this.editor.model,Ur=Fr.document;Fr.change(Yr=>{(function(Qr,tn,sn){const un=sn.isCollapsed,gn=sn.getFirstRange(),kn=gn.start.parent,Cn=gn.end.parent,Dn=kn==Cn;if(un){const Ln=yb(Qr.schema,sn.getAttributes());kb(Qr,tn,gn.end),tn.removeSelectionAttribute(sn.getAttributeKeys()),tn.setSelectionAttribute(Ln)}else{const Ln=!(gn.start.isAtStart&&gn.end.isAtEnd);Qr.deleteContent(sn,{leaveUnmerged:Ln}),Dn?kb(Qr,tn,sn.focus):Ln&&tn.setSelection(Cn,0)}})(Fr,Yr,Ur.selection),this.fire("afterExecute",{writer:Yr})})}refresh(){const Fr=this.editor.model,Ur=Fr.document;this.isEnabled=function(Yr,Qr){if(Qr.rangeCount>1)return!1;const tn=Qr.anchor;if(!tn||!Yr.checkChild(tn,"softBreak"))return!1;const sn=Qr.getFirstRange(),un=sn.start.parent,gn=sn.end.parent;return!((lm(un,Yr)||lm(gn,Yr))&&un!==gn)}(Fr.schema,Ur.selection)}}function kb(Xr,Fr,Ur){const Yr=Fr.createElement("softBreak");Xr.insertContent(Yr,Ur),Fr.setSelection(Yr,"after")}function lm(Xr,Fr){return!Xr.is("rootElement")&&(Fr.isLimit(Xr)||lm(Xr.parent,Fr))}class lC extends go{static get pluginName(){return"ShiftEnter"}init(){const Fr=this.editor,Ur=Fr.model.schema,Yr=Fr.conversion,Qr=Fr.editing.view,tn=Qr.document;Ur.register("softBreak",{allowWhere:"$text",isInline:!0}),Yr.for("upcast").elementToElement({model:"softBreak",view:"br"}),Yr.for("downcast").elementToElement({model:"softBreak",view:(sn,{writer:un})=>un.createEmptyElement("br")}),Qr.addObserver(wb),Fr.commands.add("shiftEnter",new sC(Fr)),this.listenTo(tn,"enter",(sn,un)=>{tn.isComposing||un.preventDefault(),un.isSoft&&(Fr.execute("shiftEnter"),Qr.scrollToTheSelection())},{priority:"low"})}}class cC extends wi(){constructor(){super(...arguments),this._stack=[]}add(Fr,Ur){const Yr=this._stack,Qr=Yr[0];this._insertDescriptor(Fr);const tn=Yr[0];Qr===tn||cm(Qr,tn)||this.fire("change:top",{oldDescriptor:Qr,newDescriptor:tn,writer:Ur})}remove(Fr,Ur){const Yr=this._stack,Qr=Yr[0];this._removeDescriptor(Fr);const tn=Yr[0];Qr===tn||cm(Qr,tn)||this.fire("change:top",{oldDescriptor:Qr,newDescriptor:tn,writer:Ur})}_insertDescriptor(Fr){const Ur=this._stack,Yr=Ur.findIndex(tn=>tn.id===Fr.id);if(cm(Fr,Ur[Yr]))return;Yr>-1&&Ur.splice(Yr,1);let Qr=0;for(;Ur[Qr]&&uC(Ur[Qr],Fr);)Qr++;Ur.splice(Qr,0,Fr)}_removeDescriptor(Fr){const Ur=this._stack,Yr=Ur.findIndex(Qr=>Qr.id===Fr);Yr>-1&&Ur.splice(Yr,1)}}function cm(Xr,Fr){return Xr&&Fr&&Xr.priority==Fr.priority&&Kp(Xr.classes)==Kp(Fr.classes)}function uC(Xr,Fr){return Xr.priority>Fr.priority||!(Xr.priority<Fr.priority)&&Kp(Xr.classes)>Kp(Fr.classes)}function Kp(Xr){return Array.isArray(Xr)?Xr.sort().join(","):Xr}const dC='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',hC="ck-widget",Ab="ck-widget_selected";function gl(Xr){return!!Xr.is("element")&&!!Xr.getCustomProperty("widget")}function um(Xr,Fr,Ur={}){if(!Xr.is("containerElement"))throw new wn("widget-to-widget-wrong-element-type",null,{element:Xr});return Fr.setAttribute("contenteditable","false",Xr),Fr.addClass(hC,Xr),Fr.setCustomProperty("widget",!0,Xr),Xr.getFillerOffset=gC,Fr.setCustomProperty("widgetLabel",[],Xr),Ur.label&&function(Yr,Qr){Yr.getCustomProperty("widgetLabel").push(Qr)}(Xr,Ur.label),Ur.hasSelectionHandle&&function(Yr,Qr){const tn=Qr.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(sn){const un=this.toDomElement(sn),gn=new ru;return gn.set("content",dC),gn.render(),un.appendChild(gn.element),un});Qr.insert(Qr.createPositionAt(Yr,0),tn),Qr.addClass(["ck-widget_with-selection-handle"],Yr)}(Xr,Fr),Cb(Xr,Fr),Xr}function fC(Xr,Fr,Ur){if(Fr.classes&&Ur.addClass($l(Fr.classes),Xr),Fr.attributes)for(const Yr in Fr.attributes)Ur.setAttribute(Yr,Fr.attributes[Yr],Xr)}function pC(Xr,Fr,Ur){if(Fr.classes&&Ur.removeClass($l(Fr.classes),Xr),Fr.attributes)for(const Yr in Fr.attributes)Ur.removeAttribute(Yr,Xr)}function Cb(Xr,Fr,Ur=fC,Yr=pC){const Qr=new cC;Qr.on("change:top",(tn,sn)=>{sn.oldDescriptor&&Yr(Xr,sn.oldDescriptor,sn.writer),sn.newDescriptor&&Ur(Xr,sn.newDescriptor,sn.writer)}),Fr.setCustomProperty("addHighlight",(tn,sn,un)=>Qr.add(sn,un),Xr),Fr.setCustomProperty("removeHighlight",(tn,sn,un)=>Qr.remove(sn,un),Xr)}function xb(Xr,Fr,Ur={}){return Fr.addClass(["ck-editor__editable","ck-editor__nested-editable"],Xr),Fr.setAttribute("role","textbox",Xr),Ur.label&&Fr.setAttribute("aria-label",Ur.label,Xr),Fr.setAttribute("contenteditable",Xr.isReadOnly?"false":"true",Xr),Xr.on("change:isReadOnly",(Yr,Qr,tn)=>{Fr.setAttribute("contenteditable",tn?"false":"true",Xr)}),Xr.on("change:isFocused",(Yr,Qr,tn)=>{tn?Fr.addClass("ck-editor__nested-editable_focused",Xr):Fr.removeClass("ck-editor__nested-editable_focused",Xr)}),Cb(Xr,Fr),Xr}function Sb(Xr,Fr){const Ur=Xr.getSelectedElement();if(Ur){const Yr=Od(Xr);if(Yr)return Fr.createRange(Fr.createPositionAt(Ur,Yr))}return iy(Xr,Fr)}function gC(){return null}const hd="widget-type-around";function dh(Xr,Fr,Ur){return!!Xr&&gl(Xr)&&!Ur.isInline(Fr)}function Od(Xr){return Xr.getAttribute(hd)}var Db=$r(4921),mC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Db.Z,mC),Db.Z.locals;const Eb=["before","after"],vC=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Tb="ck-widget__type-around_disabled";class yC extends go{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[qp,dd]}init(){const Fr=this.editor,Ur=Fr.editing.view;this.on("change:isEnabled",(Yr,Qr,tn)=>{Ur.change(sn=>{for(const un of Ur.document.roots)tn?sn.removeClass(Tb,un):sn.addClass(Tb,un)}),tn||Fr.model.change(sn=>{sn.removeSelectionAttribute(hd)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(Fr,Ur){const Yr=this.editor,Qr=Yr.editing.view,tn=Yr.model.schema.getAttributesWithProperty(Fr,"copyOnReplace",!0);Yr.execute("insertParagraph",{position:Yr.model.createPositionAt(Fr,Ur),attributes:tn}),Qr.focus(),Qr.scrollToTheSelection()}_listenToIfEnabled(Fr,Ur,Yr,Qr){this.listenTo(Fr,Ur,(...tn)=>{this.isEnabled&&Yr(...tn)},Qr)}_insertParagraphAccordingToFakeCaretPosition(){const Fr=this.editor.model.document.selection,Ur=Od(Fr);if(!Ur)return!1;const Yr=Fr.getSelectedElement();return this._insertParagraph(Yr,Ur),!0}_enableTypeAroundUIInjection(){const Fr=this.editor,Ur=Fr.model.schema,Yr=Fr.locale.t,Qr={before:Yr("Insert paragraph before block"),after:Yr("Insert paragraph after block")};Fr.editing.downcastDispatcher.on("insert",(tn,sn,un)=>{const gn=un.mapper.toViewElement(sn.item);gn&&dh(gn,sn.item,Ur)&&(function(kn,Cn,Dn){const Ln=kn.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(zn){const Wn=this.toDomElement(zn);return function(Xn,ii){for(const ui of Eb){const Ti=new kc({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${ui}`],title:ii[ui],"aria-hidden":"true"},children:[Xn.ownerDocument.importNode(vC,!0)]});Xn.appendChild(Ti.render())}}(Wn,Cn),function(Xn){const ii=new kc({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});Xn.appendChild(ii.render())}(Wn),Wn});kn.insert(kn.createPositionAt(Dn,"end"),Ln)}(un.writer,Qr,gn),gn.getCustomProperty("widgetLabel").push(()=>this.isEnabled?Yr("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const Fr=this.editor,Ur=Fr.model,Yr=Ur.document.selection,Qr=Ur.schema,tn=Fr.editing.view;function sn(un){return`ck-widget_type-around_show-fake-caret_${un}`}this._listenToIfEnabled(tn.document,"arrowKey",(un,gn)=>{this._handleArrowKeyPress(un,gn)},{context:[gl,"$text"],priority:"high"}),this._listenToIfEnabled(Yr,"change:range",(un,gn)=>{gn.directChange&&Fr.model.change(kn=>{kn.removeSelectionAttribute(hd)})}),this._listenToIfEnabled(Ur.document,"change:data",()=>{const un=Yr.getSelectedElement();un&&dh(Fr.editing.mapper.toViewElement(un),un,Qr)||Fr.model.change(gn=>{gn.removeSelectionAttribute(hd)})}),this._listenToIfEnabled(Fr.editing.downcastDispatcher,"selection",(un,gn,kn)=>{const Cn=kn.writer;if(this._currentFakeCaretModelElement){const Wn=kn.mapper.toViewElement(this._currentFakeCaretModelElement);Wn&&(Cn.removeClass(Eb.map(sn),Wn),this._currentFakeCaretModelElement=null)}const Dn=gn.selection.getSelectedElement();if(!Dn)return;const Ln=kn.mapper.toViewElement(Dn);if(!dh(Ln,Dn,Qr))return;const zn=Od(gn.selection);zn&&(Cn.addClass(sn(zn),Ln),this._currentFakeCaretModelElement=Dn)}),this._listenToIfEnabled(Fr.ui.focusTracker,"change:isFocused",(un,gn,kn)=>{kn||Fr.model.change(Cn=>{Cn.removeSelectionAttribute(hd)})})}_handleArrowKeyPress(Fr,Ur){const Yr=this.editor,Qr=Yr.model,tn=Qr.document.selection,sn=Qr.schema,un=Yr.editing.view,gn=function(Dn,Ln){const zn=yh(Dn,Ln);return zn==="down"||zn==="right"}(Ur.keyCode,Yr.locale.contentLanguageDirection),kn=un.document.selection.getSelectedElement();let Cn;dh(kn,Yr.editing.mapper.toModelElement(kn),sn)?Cn=this._handleArrowKeyPressOnSelectedWidget(gn):tn.isCollapsed?Cn=this._handleArrowKeyPressWhenSelectionNextToAWidget(gn):Ur.shiftKey||(Cn=this._handleArrowKeyPressWhenNonCollapsedSelection(gn)),Cn&&(Ur.preventDefault(),Fr.stop())}_handleArrowKeyPressOnSelectedWidget(Fr){const Ur=this.editor.model,Yr=Od(Ur.document.selection);return Ur.change(Qr=>Yr?Yr!==(Fr?"after":"before")?(Qr.removeSelectionAttribute(hd),!0):!1:(Qr.setSelectionAttribute(hd,Fr?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(Fr){const Ur=this.editor,Yr=Ur.model,Qr=Yr.schema,tn=Ur.plugins.get("Widget"),sn=tn._getObjectElementNextToSelection(Fr);return!!dh(Ur.editing.mapper.toViewElement(sn),sn,Qr)&&(Yr.change(un=>{tn._setSelectionOverElement(sn),un.setSelectionAttribute(hd,Fr?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(Fr){const Ur=this.editor,Yr=Ur.model,Qr=Yr.schema,tn=Ur.editing.mapper,sn=Yr.document.selection,un=Fr?sn.getLastPosition().nodeBefore:sn.getFirstPosition().nodeAfter;return!!dh(tn.toViewElement(un),un,Qr)&&(Yr.change(gn=>{gn.setSelection(un,"on"),gn.setSelectionAttribute(hd,Fr?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const Fr=this.editor,Ur=Fr.editing.view;this._listenToIfEnabled(Ur.document,"mousedown",(Yr,Qr)=>{const tn=Qr.domTarget.closest(".ck-widget__type-around__button");if(!tn)return;const sn=function(kn){return kn.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(tn),un=function(kn,Cn){const Dn=kn.closest(".ck-widget");return Cn.mapDomToView(Dn)}(tn,Ur.domConverter),gn=Fr.editing.mapper.toModelElement(un);this._insertParagraph(gn,sn),Qr.preventDefault(),Yr.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const Fr=this.editor,Ur=Fr.model.document.selection,Yr=Fr.editing.view;this._listenToIfEnabled(Yr.document,"enter",(Qr,tn)=>{if(Qr.eventPhase!="atTarget")return;const sn=Ur.getSelectedElement(),un=Fr.editing.mapper.toViewElement(sn),gn=Fr.model.schema;let kn;this._insertParagraphAccordingToFakeCaretPosition()?kn=!0:dh(un,sn,gn)&&(this._insertParagraph(sn,tn.isSoft?"before":"after"),kn=!0),kn&&(tn.preventDefault(),Qr.stop())},{context:gl})}_enableInsertingParagraphsOnTypingKeystroke(){const Fr=this.editor.editing.view.document;this._listenToIfEnabled(Fr,"insertText",(Ur,Yr)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(Yr.selection=Fr.selection)},{priority:"high"}),Kr.isAndroid?this._listenToIfEnabled(Fr,"keydown",(Ur,Yr)=>{Yr.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(Fr,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const Fr=this.editor,Ur=Fr.editing.view,Yr=Fr.model,Qr=Yr.schema;this._listenToIfEnabled(Ur.document,"delete",(tn,sn)=>{if(tn.eventPhase!="atTarget")return;const un=Od(Yr.document.selection);if(!un)return;const gn=sn.direction,kn=Yr.document.selection.getSelectedElement(),Cn=gn=="forward";if(un==="before"===Cn)Fr.execute("delete",{selection:Yr.createSelection(kn,"on")});else{const Dn=Qr.getNearestSelectionRange(Yr.createPositionAt(kn,un),gn);if(Dn)if(Dn.isCollapsed){const Ln=Yr.createSelection(Dn.start);if(Yr.modifySelection(Ln,{direction:gn}),Ln.focus.isEqual(Dn.start)){const zn=function(Wn,Xn){let ii=Xn;for(const ui of Xn.getAncestors({parentFirst:!0})){if(ui.childCount>1||Wn.isLimit(ui))break;ii=ui}return ii}(Qr,Dn.start.parent);Yr.deleteContent(Yr.createSelection(zn,"on"),{doNotAutoparagraph:!0})}else Yr.change(zn=>{zn.setSelection(Dn),Fr.execute(Cn?"deleteForward":"delete")})}else Yr.change(Ln=>{Ln.setSelection(Dn),Fr.execute(Cn?"deleteForward":"delete")})}sn.preventDefault(),tn.stop()},{context:gl})}_enableInsertContentIntegration(){const Fr=this.editor,Ur=this.editor.model,Yr=Ur.document.selection;this._listenToIfEnabled(Fr.model,"insertContent",(Qr,[tn,sn])=>{if(sn&&!sn.is("documentSelection"))return;const un=Od(Yr);return un?(Qr.stop(),Ur.change(gn=>{const kn=Yr.getSelectedElement(),Cn=Ur.createPositionAt(kn,un),Dn=gn.createSelection(Cn),Ln=Ur.insertContent(tn,Dn);return gn.setSelection(Dn),Ln})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const Fr=this.editor,Ur=this.editor.model.document.selection;this._listenToIfEnabled(Fr.model,"insertObject",(Yr,Qr)=>{const[,tn,sn={}]=Qr;if(tn&&!tn.is("documentSelection"))return;const un=Od(Ur);un&&(sn.findOptimalPosition=un,Qr[3]=sn)},{priority:"high"})}_enableDeleteContentIntegration(){const Fr=this.editor,Ur=this.editor.model.document.selection;this._listenToIfEnabled(Fr.model,"deleteContent",(Yr,[Qr])=>{Qr&&!Qr.is("documentSelection")||Od(Ur)&&Yr.stop()},{priority:"high"})}}function bC(Xr){const Fr=Xr.model;return(Ur,Yr)=>{const Qr=Yr.keyCode==qa.arrowup,tn=Yr.keyCode==qa.arrowdown,sn=Yr.shiftKey,un=Fr.document.selection;if(!Qr&&!tn)return;const gn=tn;if(sn&&function(Cn,Dn){return!Cn.isCollapsed&&Cn.isBackward==Dn}(un,gn))return;const kn=function(Cn,Dn,Ln){const zn=Cn.model;if(Ln){const Wn=Dn.isCollapsed?Dn.focus:Dn.getLastPosition(),Xn=Mb(zn,Wn,"forward");if(!Xn)return null;const ii=zn.createRange(Wn,Xn),ui=Ib(zn.schema,ii,"backward");return ui?zn.createRange(Wn,ui):null}{const Wn=Dn.isCollapsed?Dn.focus:Dn.getFirstPosition(),Xn=Mb(zn,Wn,"backward");if(!Xn)return null;const ii=zn.createRange(Xn,Wn),ui=Ib(zn.schema,ii,"forward");return ui?zn.createRange(ui,Wn):null}}(Xr,un,gn);if(kn){if(kn.isCollapsed&&(un.isCollapsed||sn))return;(kn.isCollapsed||function(Cn,Dn,Ln){const zn=Cn.model,Wn=Cn.view.domConverter;if(Ln){const Xi=zn.createSelection(Dn.start);zn.modifySelection(Xi),Xi.focus.isAtEnd||Dn.start.isEqual(Xi.focus)||(Dn=zn.createRange(Xi.focus,Dn.end))}const Xn=Cn.mapper.toViewRange(Dn),ii=Wn.viewRangeToDom(Xn),ui=Vs.getDomRangeRects(ii);let Ti;for(const Xi of ui)if(Ti!==void 0){if(Math.round(Xi.top)>=Ti)return!1;Ti=Math.max(Ti,Math.round(Xi.bottom))}else Ti=Math.round(Xi.bottom);return!0}(Xr,kn,gn))&&(Fr.change(Cn=>{const Dn=gn?kn.end:kn.start;if(sn){const Ln=Fr.createSelection(un.anchor);Ln.setFocus(Dn),Cn.setSelection(Ln)}else Cn.setSelection(Dn)}),Ur.stop(),Yr.preventDefault(),Yr.stopPropagation())}}}function Mb(Xr,Fr,Ur){const Yr=Xr.schema,Qr=Xr.createRangeIn(Fr.root),tn=Ur=="forward"?"elementStart":"elementEnd";for(const{previousPosition:sn,item:un,type:gn}of Qr.getWalker({startPosition:Fr,direction:Ur})){if(Yr.isLimit(un)&&!Yr.isInline(un))return sn;if(gn==tn&&Yr.isBlock(un))return null}return null}function Ib(Xr,Fr,Ur){const Yr=Ur=="backward"?Fr.end:Fr.start;if(Xr.checkChild(Yr,"$text"))return Yr;for(const{nextPosition:Qr}of Fr.getWalker({direction:Ur}))if(Xr.checkChild(Qr,"$text"))return Qr;return null}var Lb=$r(3488),_C={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Lb.Z,_C),Lb.Z.locals;class ep extends go{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[yC,dd]}init(){const Fr=this.editor,Ur=Fr.editing.view,Yr=Ur.document;this.editor.editing.downcastDispatcher.on("selection",(Qr,tn,sn)=>{const un=sn.writer,gn=tn.selection;if(gn.isCollapsed)return;const kn=gn.getSelectedElement();if(!kn)return;const Cn=Fr.editing.mapper.toViewElement(kn);var Dn;gl(Cn)&&sn.consumable.consume(gn,"selection")&&un.setSelection(un.createRangeOn(Cn),{fake:!0,label:(Dn=Cn,Dn.getCustomProperty("widgetLabel").reduce((Ln,zn)=>typeof zn=="function"?Ln?Ln+". "+zn():zn():Ln?Ln+". "+zn:zn,""))})}),this.editor.editing.downcastDispatcher.on("selection",(Qr,tn,sn)=>{this._clearPreviouslySelectedWidgets(sn.writer);const un=sn.writer,gn=un.document.selection;let kn=null;for(const Cn of gn.getRanges())for(const Dn of Cn){const Ln=Dn.item;gl(Ln)&&!wC(Ln,kn)&&(un.addClass(Ab,Ln),this._previouslySelected.add(Ln),kn=Ln)}},{priority:"low"}),Ur.addObserver(zg),this.listenTo(Yr,"mousedown",(...Qr)=>this._onMousedown(...Qr)),this.listenTo(Yr,"arrowKey",(...Qr)=>{this._handleSelectionChangeOnArrowKeyPress(...Qr)},{context:[gl,"$text"]}),this.listenTo(Yr,"arrowKey",(...Qr)=>{this._preventDefaultOnArrowKeyPress(...Qr)},{context:"$root"}),this.listenTo(Yr,"arrowKey",bC(this.editor.editing),{context:"$text"}),this.listenTo(Yr,"delete",(Qr,tn)=>{this._handleDelete(tn.direction=="forward")&&(tn.preventDefault(),Qr.stop())},{context:"$root"})}_onMousedown(Fr,Ur){const Yr=this.editor,Qr=Yr.editing.view,tn=Qr.document;let sn=Ur.target;if(function(gn){let kn=gn;for(;kn;){if(kn.is("editableElement")&&!kn.is("rootElement"))return!0;if(gl(kn))return!1;kn=kn.parent}return!1}(sn)){if((Kr.isSafari||Kr.isGecko)&&Ur.domEvent.detail>=3){const gn=Yr.editing.mapper,kn=sn.is("attributeElement")?sn.findAncestor(Dn=>!Dn.is("attributeElement")):sn,Cn=gn.toModelElement(kn);Ur.preventDefault(),this.editor.model.change(Dn=>{Dn.setSelection(Cn,"in")})}return}if(!gl(sn)&&(sn=sn.findAncestor(gl),!sn))return;Kr.isAndroid&&Ur.preventDefault(),tn.isFocused||Qr.focus();const un=Yr.editing.mapper.toModelElement(sn);this._setSelectionOverElement(un)}_handleSelectionChangeOnArrowKeyPress(Fr,Ur){const Yr=Ur.keyCode,Qr=this.editor.model,tn=Qr.schema,sn=Qr.document.selection,un=sn.getSelectedElement(),gn=yh(Yr,this.editor.locale.contentLanguageDirection),kn=gn=="down"||gn=="right",Cn=gn=="up"||gn=="down";if(un&&tn.isObject(un)){const Ln=kn?sn.getLastPosition():sn.getFirstPosition(),zn=tn.getNearestSelectionRange(Ln,kn?"forward":"backward");return void(zn&&(Qr.change(Wn=>{Wn.setSelection(zn)}),Ur.preventDefault(),Fr.stop()))}if(!sn.isCollapsed&&!Ur.shiftKey){const Ln=sn.getFirstPosition(),zn=sn.getLastPosition(),Wn=Ln.nodeAfter,Xn=zn.nodeBefore;return void((Wn&&tn.isObject(Wn)||Xn&&tn.isObject(Xn))&&(Qr.change(ii=>{ii.setSelection(kn?zn:Ln)}),Ur.preventDefault(),Fr.stop()))}if(!sn.isCollapsed)return;const Dn=this._getObjectElementNextToSelection(kn);if(Dn&&tn.isObject(Dn)){if(tn.isInline(Dn)&&Cn)return;this._setSelectionOverElement(Dn),Ur.preventDefault(),Fr.stop()}}_preventDefaultOnArrowKeyPress(Fr,Ur){const Yr=this.editor.model,Qr=Yr.schema,tn=Yr.document.selection.getSelectedElement();tn&&Qr.isObject(tn)&&(Ur.preventDefault(),Fr.stop())}_handleDelete(Fr){const Ur=this.editor.model.document.selection;if(!this.editor.model.canEditAt(Ur)||!Ur.isCollapsed)return;const Yr=this._getObjectElementNextToSelection(Fr);return Yr?(this.editor.model.change(Qr=>{let tn=Ur.anchor.parent;for(;tn.isEmpty;){const sn=tn;tn=sn.parent,Qr.remove(sn)}this._setSelectionOverElement(Yr)}),!0):void 0}_setSelectionOverElement(Fr){this.editor.model.change(Ur=>{Ur.setSelection(Ur.createRangeOn(Fr))})}_getObjectElementNextToSelection(Fr){const Ur=this.editor.model,Yr=Ur.schema,Qr=Ur.document.selection,tn=Ur.createSelection(Qr);if(Ur.modifySelection(tn,{direction:Fr?"forward":"backward"}),tn.isEqual(Qr))return null;const sn=Fr?tn.focus.nodeBefore:tn.focus.nodeAfter;return sn&&Yr.isObject(sn)?sn:null}_clearPreviouslySelectedWidgets(Fr){for(const Ur of this._previouslySelected)Fr.removeClass(Ab,Ur);this._previouslySelected.clear()}}function wC(Xr,Fr){return!!Fr&&Array.from(Xr.getAncestors()).includes(Fr)}class Zp extends go{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[jp]}static get pluginName(){return"WidgetToolbarRepository"}init(){const Fr=this.editor;if(Fr.plugins.has("BalloonToolbar")){const Ur=Fr.plugins.get("BalloonToolbar");this.listenTo(Ur,"show",Yr=>{(function(Qr){const tn=Qr.getSelectedElement();return!(!tn||!gl(tn))})(Fr.editing.view.document.selection)&&Yr.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(Fr.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(Fr.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const Fr of this._toolbarDefinitions.values())Fr.view.destroy()}register(Fr,{ariaLabel:Ur,items:Yr,getRelatedElement:Qr,balloonClassName:tn="ck-toolbar-container"}){if(!Yr.length)return void xn("widget-toolbar-no-items",{toolbarId:Fr});const sn=this.editor,un=sn.t,gn=new Vg(sn.locale);if(gn.ariaLabel=Ur||un("Widget toolbar"),this._toolbarDefinitions.has(Fr))throw new wn("widget-toolbar-duplicated",this,{toolbarId:Fr});const kn={view:gn,getRelatedElement:Qr,balloonClassName:tn,itemsConfig:Yr,initialized:!1};sn.ui.addToolbar(gn,{isContextual:!0,beforeFocus:()=>{const Cn=Qr(sn.editing.view.document.selection);Cn&&this._showToolbar(kn,Cn)},afterBlur:()=>{this._hideToolbar(kn)}}),this._toolbarDefinitions.set(Fr,kn)}_updateToolbarsVisibility(){let Fr=0,Ur=null,Yr=null;for(const Qr of this._toolbarDefinitions.values()){const tn=Qr.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&tn)if(this.editor.ui.focusTracker.isFocused){const sn=tn.getAncestors().length;sn>Fr&&(Fr=sn,Ur=tn,Yr=Qr)}else this._isToolbarVisible(Qr)&&this._hideToolbar(Qr);else this._isToolbarInBalloon(Qr)&&this._hideToolbar(Qr)}Yr&&this._showToolbar(Yr,Ur)}_hideToolbar(Fr){this._balloon.remove(Fr.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(Fr,Ur){this._isToolbarVisible(Fr)?Pb(this.editor,Ur):this._isToolbarInBalloon(Fr)||(Fr.initialized||(Fr.initialized=!0,Fr.view.fillFromConfig(Fr.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:Fr.view,position:Ob(this.editor,Ur),balloonClassName:Fr.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const Yr of this._toolbarDefinitions.values())if(this._isToolbarVisible(Yr)){const Qr=Yr.getRelatedElement(this.editor.editing.view.document.selection);Pb(this.editor,Qr)}}))}_isToolbarVisible(Fr){return this._balloon.visibleView===Fr.view}_isToolbarInBalloon(Fr){return this._balloon.hasView(Fr.view)}}function Pb(Xr,Fr){const Ur=Xr.plugins.get("ContextualBalloon"),Yr=Ob(Xr,Fr);Ur.updatePosition(Yr)}function Ob(Xr,Fr){const Ur=Xr.editing.view,Yr=Mc.defaultPositions;return{target:Ur.domConverter.mapViewToDom(Fr),positions:[Yr.northArrowSouth,Yr.northArrowSouthWest,Yr.northArrowSouthEast,Yr.southArrowNorth,Yr.southArrowNorthWest,Yr.southArrowNorthEast,Yr.viewportStickyNorth]}}var Rb=$r(8506),kC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Rb.Z,kC),Rb.Z.locals;var $b=$r(903),AC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()($b.Z,AC),$b.Z.locals;class CC extends go{static get pluginName(){return"DragDrop"}static get requires(){return[Wu,ep]}init(){const Fr=this.editor,Ur=Fr.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=rm(Yr=>this._updateDropMarker(Yr),40),this._removeDropMarkerDelayed=hl(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=hl(()=>this._clearDraggableAttributes(),40),Fr.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(Ur.addObserver(om),Ur.addObserver(zg),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(Fr,"change:isReadOnly",(Yr,Qr,tn)=>{tn?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(Yr,Qr,tn)=>{tn||this._finalizeDragging(!1)}),Kr.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const Fr=this.editor,Ur=Fr.model,Yr=Ur.document,Qr=Fr.editing.view,tn=Qr.document;this.listenTo(tn,"dragstart",(sn,un)=>{const gn=Yr.selection;if(un.target&&un.target.is("editableElement"))return void un.preventDefault();const kn=un.target?Fb(un.target):null;if(kn){const zn=Fr.editing.mapper.toModelElement(kn);this._draggedRange=xu.fromRange(Ur.createRangeOn(zn)),Fr.plugins.has("WidgetToolbarRepository")&&Fr.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!tn.selection.isCollapsed){const zn=tn.selection.getSelectedElement();zn&&gl(zn)||(this._draggedRange=xu.fromRange(gn.getFirstRange()))}if(!this._draggedRange)return void un.preventDefault();this._draggingUid=bn();const Cn=this.isEnabled&&Fr.model.canEditAt(this._draggedRange);un.dataTransfer.effectAllowed=Cn?"copyMove":"copy",un.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const Dn=Ur.createSelection(this._draggedRange.toRange()),Ln=Fr.data.toView(Ur.getSelectedContent(Dn));tn.fire("clipboardOutput",{dataTransfer:un.dataTransfer,content:Ln,method:"dragstart"}),Cn||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(tn,"dragend",(sn,un)=>{this._finalizeDragging(!un.dataTransfer.isCanceled&&un.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(tn,"dragenter",()=>{this.isEnabled&&Qr.focus()}),this.listenTo(tn,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(tn,"dragging",(sn,un)=>{if(!this.isEnabled)return void(un.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const gn=Nb(Fr,un.targetRanges,un.target);Fr.model.canEditAt(gn)?(this._draggedRange||(un.dataTransfer.dropEffect="copy"),Kr.isGecko||(un.dataTransfer.effectAllowed=="copy"?un.dataTransfer.dropEffect="copy":["all","copyMove"].includes(un.dataTransfer.effectAllowed)&&(un.dataTransfer.dropEffect="move")),gn&&this._updateDropMarkerThrottled(gn)):un.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const Fr=this.editor,Ur=Fr.editing.view.document;this.listenTo(Ur,"clipboardInput",(Yr,Qr)=>{if(Qr.method!="drop")return;const tn=Nb(Fr,Qr.targetRanges,Qr.target);if(this._removeDropMarker(),!tn||!Fr.model.canEditAt(tn))return this._finalizeDragging(!1),void Yr.stop();if(this._draggedRange&&this._draggingUid!=Qr.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),Bb(Qr.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(tn,!0))return this._finalizeDragging(!1),void Yr.stop();Qr.targetRanges=[Fr.editing.mapper.toViewRange(tn)]},{priority:"high"})}_setupContentInsertionIntegration(){const Fr=this.editor.plugins.get(Wu);Fr.on("contentInsertion",(Ur,Yr)=>{if(!this.isEnabled||Yr.method!=="drop")return;const Qr=Yr.targetRanges.map(tn=>this.editor.editing.mapper.toModelRange(tn));this.editor.model.change(tn=>tn.setSelection(Qr))},{priority:"high"}),Fr.on("contentInsertion",(Ur,Yr)=>{if(!this.isEnabled||Yr.method!=="drop")return;const Qr=Bb(Yr.dataTransfer)=="move",tn=!Yr.resultRange||!Yr.resultRange.isCollapsed;this._finalizeDragging(tn&&Qr)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const Fr=this.editor,Ur=Fr.editing.view,Yr=Ur.document;this.listenTo(Yr,"mousedown",(Qr,tn)=>{if(Kr.isAndroid||!tn)return;this._clearDraggableAttributesDelayed.cancel();let sn=Fb(tn.target);if(Kr.isBlink&&!sn&&!Yr.selection.isCollapsed){const un=Yr.selection.getSelectedElement();if(!un||!gl(un)){const gn=Yr.selection.editableElement;gn&&!gn.isReadOnly&&(sn=gn)}}sn&&(Ur.change(un=>{un.setAttribute("draggable","true",sn)}),this._draggableElement=Fr.editing.mapper.toModelElement(sn))}),this.listenTo(Yr,"mouseup",()=>{Kr.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const Fr=this.editor.editing;Fr.view.change(Ur=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&Ur.removeAttribute("draggable",Fr.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const Fr=this.editor;Fr.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),Fr.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(Ur,{writer:Yr})=>{if(Fr.model.schema.checkChild(Ur.markerRange.start,"$text"))return Yr.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(Qr){const tn=this.toDomElement(Qr);return tn.append("â ",Qr.createElement("span"),"â "),tn})}})}_updateDropMarker(Fr){const Ur=this.editor,Yr=Ur.model.markers;Ur.model.change(Qr=>{Yr.has("drop-target")?Yr.get("drop-target").getRange().isEqual(Fr)||Qr.updateMarker("drop-target",{range:Fr}):Qr.addMarker("drop-target",{range:Fr,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const Fr=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),Fr.markers.has("drop-target")&&Fr.change(Ur=>{Ur.removeMarker("drop-target")})}_finalizeDragging(Fr){const Ur=this.editor,Yr=Ur.model;this._removeDropMarker(),this._clearDraggableAttributes(),Ur.plugins.has("WidgetToolbarRepository")&&Ur.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(Fr&&this.isEnabled&&Yr.deleteContent(Yr.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function Nb(Xr,Fr,Ur){const Yr=Xr.model,Qr=Xr.editing.mapper;let tn=null;const sn=Fr?Fr[0].start:null;if(Ur.is("uiElement")&&(Ur=Ur.parent),tn=function(kn,Cn){const Dn=kn.model,Ln=kn.editing.mapper;if(gl(Cn))return Dn.createRangeOn(Ln.toModelElement(Cn));if(!Cn.is("editableElement")){const zn=Cn.findAncestor(Wn=>gl(Wn)||Wn.is("editableElement"));if(gl(zn))return Dn.createRangeOn(Ln.toModelElement(zn))}return null}(Xr,Ur),tn)return tn;const un=function(kn,Cn){const Dn=kn.editing.mapper,Ln=kn.editing.view,zn=Dn.toModelElement(Cn);if(zn)return zn;const Wn=Ln.createPositionBefore(Cn),Xn=Dn.findMappedViewAncestor(Wn);return Dn.toModelElement(Xn)}(Xr,Ur),gn=sn?Qr.toModelPosition(sn):null;return gn?(tn=function(kn,Cn,Dn){const Ln=kn.model;if(!Ln.schema.checkChild(Dn,"$block"))return null;const zn=Ln.createPositionAt(Dn,0),Wn=Cn.path.slice(0,zn.path.length),Xn=Ln.createPositionFromPath(Cn.root,Wn),ii=Xn.nodeAfter;return ii&&Ln.schema.isObject(ii)?Ln.createRangeOn(ii):null}(Xr,gn,un),tn||(tn=Yr.schema.getNearestSelectionRange(gn,Kr.isGecko?"forward":"backward"),tn||function(kn,Cn){const Dn=kn.model;let Ln=Cn;for(;Ln;){if(Dn.schema.isObject(Ln))return Dn.createRangeOn(Ln);Ln=Ln.parent}return null}(Xr,gn.parent))):function(kn,Cn){const Dn=kn.model,Ln=Dn.schema,zn=Dn.createPositionAt(Cn,0);return Ln.getNearestSelectionRange(zn,"forward")}(Xr,un)}function Bb(Xr){return Kr.isGecko?Xr.dropEffect:["all","copyMove"].includes(Xr.effectAllowed)?"move":"copy"}function Fb(Xr){if(Xr.is("editableElement"))return null;if(Xr.hasClass("ck-widget__selection-handle"))return Xr.findAncestor(gl);if(gl(Xr))return Xr;const Fr=Xr.findAncestor(Ur=>gl(Ur)||Ur.is("editableElement"));return gl(Fr)?Fr:null}class xC extends go{static get pluginName(){return"PastePlainText"}static get requires(){return[Wu]}init(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.editing.view,Qr=Yr.document,tn=Ur.document.selection;let sn=!1;Yr.addObserver(om),this.listenTo(Qr,"keydown",(un,gn)=>{sn=gn.shiftKey}),Fr.plugins.get(Wu).on("contentInsertion",(un,gn)=>{(sn||function(kn,Cn){if(kn.childCount>1)return!1;const Dn=kn.getChild(0);return Cn.isObject(Dn)?!1:Array.from(Dn.getAttributeKeys()).length==0}(gn.content,Ur.schema))&&Ur.change(kn=>{const Cn=Array.from(tn.getAttributes()).filter(([Ln])=>Ur.schema.getAttributeProperties(Ln).isFormatting);tn.isCollapsed||Ur.deleteContent(tn,{doNotAutoparagraph:!0}),Cn.push(...tn.getAttributes());const Dn=kn.createRangeIn(gn.content);for(const Ln of Dn.getItems())Ln.is("$textProxy")&&kn.setAttributes(Cn,Ln)})})}}class zb extends go{static get pluginName(){return"Clipboard"}static get requires(){return[Wu,CC,xC]}}class SC extends ja{constructor(Fr){super(Fr),this.affectsData=!1}execute(){const Fr=this.editor.model,Ur=Fr.document.selection;let Yr=Fr.schema.getLimitElement(Ur);if(Ur.containsEntireContent(Yr)||!Hb(Fr.schema,Yr))do if(Yr=Yr.parent,!Yr)return;while(!Hb(Fr.schema,Yr));Fr.change(Qr=>{Qr.setSelection(Yr,"in")})}}function Hb(Xr,Fr){return Xr.isLimit(Fr)&&(Xr.checkChild(Fr,"$text")||Xr.checkChild(Fr,"paragraph"))}const DC=Hd("Ctrl+A");class EC extends go{static get pluginName(){return"SelectAllEditing"}init(){const Fr=this.editor,Ur=Fr.editing.view.document;Fr.commands.add("selectAll",new SC(Fr)),this.listenTo(Ur,"keydown",(Yr,Qr)=>{Rc(Qr)===DC&&(Fr.execute("selectAll"),Qr.preventDefault())})}}class TC extends go{static get pluginName(){return"SelectAllUI"}init(){const Fr=this.editor;Fr.ui.componentFactory.add("selectAll",Ur=>{const Yr=Fr.commands.get("selectAll"),Qr=new cs(Ur),tn=Ur.t;return Qr.set({label:tn("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),Qr.bind("isEnabled").to(Yr,"isEnabled"),this.listenTo(Qr,"execute",()=>{Fr.execute("selectAll"),Fr.editing.view.focus()}),Qr})}}class MC extends go{static get requires(){return[EC,TC]}static get pluginName(){return"SelectAll"}}var IC=Object.defineProperty,Vb=Object.getOwnPropertySymbols,LC=Object.prototype.hasOwnProperty,PC=Object.prototype.propertyIsEnumerable,jb=(Xr,Fr,Ur)=>Fr in Xr?IC(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur;class Ub extends ja{constructor(Fr){super(Fr),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(Fr.data,"set",(Ur,Yr)=>{Yr[1]=((tn,sn)=>{for(var un in sn||(sn={}))LC.call(sn,un)&&jb(tn,un,sn[un]);if(Vb)for(var un of Vb(sn))PC.call(sn,un)&&jb(tn,un,sn[un]);return tn})({},Yr[1]);const Qr=Yr[1];Qr.batchType||(Qr.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(Fr.data,"set",(Ur,Yr)=>{Yr[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(Fr){const Ur=this.editor.model.document.selection,Yr={ranges:Ur.hasOwnRange?Array.from(Ur.getRanges()):[],isBackward:Ur.isBackward};this._stack.push({batch:Fr,selection:Yr}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(Fr,Ur,Yr){const Qr=this.editor.model,tn=Qr.document,sn=[],un=Fr.map(kn=>kn.getTransformedByOperations(Yr)),gn=un.flat();for(const kn of un){const Cn=kn.filter(Dn=>Dn.root!=tn.graveyard).filter(Dn=>!RC(Dn,gn));Cn.length&&(OC(Cn),sn.push(Cn[0]))}sn.length&&Qr.change(kn=>{kn.setSelection(sn,{backward:Ur})})}_undo(Fr,Ur){const Yr=this.editor.model,Qr=Yr.document;this._createdBatches.add(Ur);const tn=Fr.operations.slice().filter(sn=>sn.isDocumentOperation);tn.reverse();for(const sn of tn){const un=sn.baseVersion+1,gn=Array.from(Qr.history.getOperations(un)),kn=sk([sn.getReversed()],gn,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let Cn of kn){const Dn=Cn.affectedSelectable;Dn&&!Yr.canEditAt(Dn)&&(Cn=new zl(Cn.baseVersion)),Ur.addOperation(Cn),Yr.applyOperation(Cn),Qr.history.setOperationAsUndone(sn,Cn)}}}}function OC(Xr){Xr.sort((Fr,Ur)=>Fr.start.isBefore(Ur.start)?-1:1);for(let Fr=1;Fr<Xr.length;Fr++){const Ur=Xr[Fr-1].getJoined(Xr[Fr],!0);Ur&&(Fr--,Xr.splice(Fr,2,Ur))}}function RC(Xr,Fr){return Fr.some(Ur=>Ur!==Xr&&Ur.containsRange(Xr,!0))}class $C extends Ub{execute(Fr=null){const Ur=Fr?this._stack.findIndex(tn=>tn.batch==Fr):this._stack.length-1,Yr=this._stack.splice(Ur,1)[0],Qr=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(Qr,()=>{this._undo(Yr.batch,Qr);const tn=this.editor.model.document.history.getOperations(Yr.batch.baseVersion);this._restoreSelection(Yr.selection.ranges,Yr.selection.isBackward,tn),this.fire("revert",Yr.batch,Qr)}),this.refresh()}}class NC extends Ub{execute(){const Fr=this._stack.pop(),Ur=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(Ur,()=>{const Yr=Fr.batch.operations[Fr.batch.operations.length-1].baseVersion+1,Qr=this.editor.model.document.history.getOperations(Yr);this._restoreSelection(Fr.selection.ranges,Fr.selection.isBackward,Qr),this._undo(Fr.batch,Ur)}),this.refresh()}}class BC extends go{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const Fr=this.editor;this._undoCommand=new $C(Fr),this._redoCommand=new NC(Fr),Fr.commands.add("undo",this._undoCommand),Fr.commands.add("redo",this._redoCommand),this.listenTo(Fr.model,"applyOperation",(Ur,Yr)=>{const Qr=Yr[0];if(!Qr.isDocumentOperation)return;const tn=Qr.batch,sn=this._redoCommand.createdBatches.has(tn),un=this._undoCommand.createdBatches.has(tn);this._batchRegistry.has(tn)||(this._batchRegistry.add(tn),tn.isUndoable&&(sn?this._undoCommand.addBatch(tn):un||(this._undoCommand.addBatch(tn),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(Ur,Yr,Qr)=>{this._redoCommand.addBatch(Qr)}),Fr.keystrokes.set("CTRL+Z","undo"),Fr.keystrokes.set("CTRL+Y","redo"),Fr.keystrokes.set("CTRL+SHIFT+Z","redo")}}const Gb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Wb='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class FC extends go{static get pluginName(){return"UndoUI"}init(){const Fr=this.editor,Ur=Fr.locale,Yr=Fr.t,Qr=Ur.uiLanguageDirection=="ltr"?Gb:Wb,tn=Ur.uiLanguageDirection=="ltr"?Wb:Gb;this._addButton("undo",Yr("Undo"),"CTRL+Z",Qr),this._addButton("redo",Yr("Redo"),"CTRL+Y",tn)}_addButton(Fr,Ur,Yr,Qr){const tn=this.editor;tn.ui.componentFactory.add(Fr,sn=>{const un=tn.commands.get(Fr),gn=new cs(sn);return gn.set({label:Ur,icon:Qr,keystroke:Yr,tooltip:!0}),gn.bind("isEnabled").to(un,"isEnabled"),this.listenTo(gn,"execute",()=>{tn.execute(Fr),tn.editing.view.focus()}),gn})}}class Yb extends go{static get requires(){return[BC,FC]}static get pluginName(){return"Undo"}}class zC extends Zi(){constructor(){super();const Fr=new window.FileReader;this._reader=Fr,this._data=void 0,this.set("loaded",0),Fr.onprogress=Ur=>{this.loaded=Ur.loaded}}get error(){return this._reader.error}get data(){return this._data}read(Fr){const Ur=this._reader;return this.total=Fr.size,new Promise((Yr,Qr)=>{Ur.onload=()=>{const tn=Ur.result;this._data=tn,Yr(tn)},Ur.onerror=()=>{Qr("error")},Ur.onabort=()=>{Qr("aborted")},this._reader.readAsDataURL(Fr)})}abort(){this._reader.abort()}}class Du extends go{constructor(){super(...arguments),this.loaders=new $c,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[oy]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(Fr,Ur)=>Ur?Fr/Ur*100:0)}getLoader(Fr){return this._loadersMap.get(Fr)||null}createLoader(Fr){if(!this.createUploadAdapter)return xn("filerepository-no-upload-adapter"),null;const Ur=new qb(Promise.resolve(Fr),this.createUploadAdapter);return this.loaders.add(Ur),this._loadersMap.set(Fr,Ur),Fr instanceof Promise&&Ur.file.then(Yr=>{this._loadersMap.set(Yr,Ur)}).catch(()=>{}),Ur.on("change:uploaded",()=>{let Yr=0;for(const Qr of this.loaders)Yr+=Qr.uploaded;this.uploaded=Yr}),Ur.on("change:uploadTotal",()=>{let Yr=0;for(const Qr of this.loaders)Qr.uploadTotal&&(Yr+=Qr.uploadTotal);this.uploadTotal=Yr}),Ur}destroyLoader(Fr){const Ur=Fr instanceof qb?Fr:this.getLoader(Fr);Ur._destroy(),this.loaders.remove(Ur),this._loadersMap.forEach((Yr,Qr)=>{Yr===Ur&&this._loadersMap.delete(Qr)})}_updatePendingAction(){const Fr=this.editor.plugins.get(oy);if(this.loaders.length){if(!this._pendingAction){const Ur=this.editor.t,Yr=Qr=>`${Ur("Upload in progress")} ${parseInt(Qr)}%.`;this._pendingAction=Fr.add(Yr(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",Yr)}}else Fr.remove(this._pendingAction),this._pendingAction=null}}class qb extends Zi(){constructor(Fr,Ur){super(),this.id=bn(),this._filePromiseWrapper=this._createFilePromiseWrapper(Fr),this._adapter=Ur(this),this._reader=new zC,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(Yr,Qr)=>Qr?Yr/Qr*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(Fr=>this._filePromiseWrapper?Fr:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new wn("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(Fr=>this._reader.read(Fr)).then(Fr=>{if(this.status!=="reading")throw this.status;return this.status="idle",Fr}).catch(Fr=>{throw Fr==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:Fr)})}upload(){if(this.status!="idle")throw new wn("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(Fr=>(this.uploadResponse=Fr,this.status="idle",Fr)).catch(Fr=>{throw this.status==="aborted"?"aborted":(this.status="error",Fr)})}abort(){const Fr=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?Fr=="reading"?this._reader.abort():Fr=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(Fr){const Ur={};return Ur.promise=new Promise((Yr,Qr)=>{Ur.rejecter=Qr,Ur.isFulfilled=!1,Fr.then(tn=>{Ur.isFulfilled=!0,Yr(tn)}).catch(tn=>{Ur.isFulfilled=!0,Qr(tn)})}),Ur}}class HC extends Qa{constructor(Fr){super(Fr),this.buttonView=new cs(Fr),this._fileInputView=new VC(Fr),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class VC extends Qa{constructor(Fr){super(Fr),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const Ur=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:Ur.to("acceptedType"),multiple:Ur.to("allowMultipleFiles")},on:{change:Ur.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Kb="ckCsrfToken",Zb="abcdefghijklmnopqrstuvwxyz0123456789";function jC(){let Xr=function(Yr){Yr=Yr.toLowerCase();const Qr=document.cookie.split(";");for(const tn of Qr){const sn=tn.split("=");if(decodeURIComponent(sn[0].trim().toLowerCase())===Yr)return decodeURIComponent(sn[1])}return null}(Kb);var Fr,Ur;return Xr&&Xr.length==40||(Xr=function(Yr){let Qr="";const tn=new Uint8Array(Yr);window.crypto.getRandomValues(tn);for(let sn=0;sn<tn.length;sn++){const un=Zb.charAt(tn[sn]%Zb.length);Qr+=Math.random()>.5?un.toUpperCase():un}return Qr}(40),Fr=Kb,Ur=Xr,document.cookie=encodeURIComponent(Fr)+"="+encodeURIComponent(Ur)+";path=/"),Xr}class UC{constructor(Fr,Ur,Yr){this.loader=Fr,this.url=Ur,this.t=Yr}upload(){return this.loader.file.then(Fr=>new Promise((Ur,Yr)=>{this._initRequest(),this._initListeners(Ur,Yr,Fr),this._sendRequest(Fr)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const Fr=this.xhr=new XMLHttpRequest;Fr.open("POST",this.url,!0),Fr.responseType="json"}_initListeners(Fr,Ur,Yr){const Qr=this.xhr,tn=this.loader,sn=(0,this.t)("Cannot upload file:")+` ${Yr.name}.`;Qr.addEventListener("error",()=>Ur(sn)),Qr.addEventListener("abort",()=>Ur()),Qr.addEventListener("load",()=>{const un=Qr.response;if(!un||!un.uploaded)return Ur(un&&un.error&&un.error.message?un.error.message:sn);Fr({default:un.url})}),Qr.upload&&Qr.upload.addEventListener("progress",un=>{un.lengthComputable&&(tn.uploadTotal=un.total,tn.uploaded=un.loaded)})}_sendRequest(Fr){const Ur=new FormData;Ur.append("upload",Fr),Ur.append("ckCsrfToken",jC()),this.xhr.send(Ur)}}function Rd(Xr,Fr,Ur,Yr){let Qr,tn=null;typeof Yr=="function"?Qr=Yr:(tn=Xr.commands.get(Yr),Qr=()=>{Xr.execute(Yr)}),Xr.model.document.on("change:data",(sn,un)=>{if(tn&&!tn.isEnabled||!Fr.isEnabled)return;const gn=wl(Xr.model.document.selection.getRanges());if(!gn.isCollapsed||un.isUndo||!un.isLocal)return;const kn=Array.from(Xr.model.document.differ.getChanges()),Cn=kn[0];if(kn.length!=1||Cn.type!=="insert"||Cn.name!="$text"||Cn.length!=1)return;const Dn=Cn.position.parent;if(Dn.is("element","codeBlock")||Dn.is("element","listItem")&&typeof Yr!="function"&&!["numberedList","bulletedList","todoList"].includes(Yr)||tn&&tn.value===!0)return;const Ln=Dn.getChild(0),zn=Xr.model.createRangeOn(Ln);if(!zn.containsRange(gn)&&!gn.end.isEqual(zn.end))return;const Wn=Ur.exec(Ln.data.substr(0,gn.end.offset));Wn&&Xr.model.enqueueChange(Xn=>{const ii=Xn.createPositionAt(Dn,0),ui=Xn.createPositionAt(Dn,Wn[0].length),Ti=new xu(ii,ui);if(Qr({match:Wn})!==!1){Xn.remove(Ti);const Xi=Xr.model.document.selection.getFirstRange(),$o=Xn.createRangeIn(Dn);!Dn.isEmpty||$o.isEqual(Xi)||$o.containsRange(Xi,!0)||Xn.remove(Dn)}Ti.detach(),Xr.model.enqueueChange(()=>{Xr.plugins.get("Delete").requestUndoOnBackspace()})})})}function Gh(Xr,Fr,Ur,Yr){let Qr,tn;Ur instanceof RegExp?Qr=Ur:tn=Ur,tn=tn||(sn=>{let un;const gn=[],kn=[];for(;(un=Qr.exec(sn))!==null&&!(un&&un.length<4);){let{index:Cn,1:Dn,2:Ln,3:zn}=un;const Wn=Dn+Ln+zn;Cn+=un[0].length-Wn.length;const Xn=[Cn,Cn+Dn.length],ii=[Cn+Dn.length+Ln.length,Cn+Dn.length+Ln.length+zn.length];gn.push(Xn),gn.push(ii),kn.push([Cn+Dn.length,Cn+Dn.length+Ln.length])}return{remove:gn,format:kn}}),Xr.model.document.on("change:data",(sn,un)=>{if(un.isUndo||!un.isLocal||!Fr.isEnabled)return;const gn=Xr.model,kn=gn.document.selection;if(!kn.isCollapsed)return;const Cn=Array.from(gn.document.differ.getChanges()),Dn=Cn[0];if(Cn.length!=1||Dn.type!=="insert"||Dn.name!="$text"||Dn.length!=1)return;const Ln=kn.focus,zn=Ln.parent,{text:Wn,range:Xn}=function(Xi,$o){let ya=Xi.start;return{text:Array.from(Xi.getItems()).reduce((ss,ql)=>!ql.is("$text")&&!ql.is("$textProxy")||ql.getAttribute("code")?(ya=$o.createPositionAfter(ql),""):ss+ql.data,""),range:$o.createRange(ya,Xi.end)}}(gn.createRange(gn.createPositionAt(zn,0),Ln),gn),ii=tn(Wn),ui=Xb(Xn.start,ii.format,gn),Ti=Xb(Xn.start,ii.remove,gn);ui.length&&Ti.length&&gn.enqueueChange(Xi=>{if(Yr(Xi,ui)!==!1){for(const $o of Ti.reverse())Xi.remove($o);gn.enqueueChange(()=>{Xr.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Xb(Xr,Fr,Ur){return Fr.filter(Yr=>Yr[0]!==void 0&&Yr[1]!==void 0).map(Yr=>Ur.createRange(Xr.getShiftedBy(Yr[0]),Xr.getShiftedBy(Yr[1])))}function Xp(Xr,Fr){return(Ur,Yr)=>{if(!Xr.commands.get(Fr).isEnabled)return!1;const Qr=Xr.model.schema.getValidRanges(Yr,Fr);for(const tn of Qr)Ur.setAttribute(Fr,!0,tn);Ur.removeSelectionAttribute(Fr)}}class Qb extends ja{constructor(Fr,Ur){super(Fr),this.attributeKey=Ur}refresh(){const Fr=this.editor.model,Ur=Fr.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=Fr.schema.checkAttributeInSelection(Ur.selection,this.attributeKey)}execute(Fr={}){const Ur=this.editor.model,Yr=Ur.document.selection,Qr=Fr.forceValue===void 0?!this.value:Fr.forceValue;Ur.change(tn=>{if(Yr.isCollapsed)Qr?tn.setSelectionAttribute(this.attributeKey,!0):tn.removeSelectionAttribute(this.attributeKey);else{const sn=Ur.schema.getValidRanges(Yr.getRanges(),this.attributeKey);for(const un of sn)Qr?tn.setAttribute(this.attributeKey,Qr,un):tn.removeAttribute(this.attributeKey,un)}})}_getValueFromFirstAllowedNode(){const Fr=this.editor.model,Ur=Fr.schema,Yr=Fr.document.selection;if(Yr.isCollapsed)return Yr.hasAttribute(this.attributeKey);for(const Qr of Yr.getRanges())for(const tn of Qr.getItems())if(Ur.checkAttribute(tn,this.attributeKey))return tn.hasAttribute(this.attributeKey);return!1}}const Wh="bold";class GC extends go{static get pluginName(){return"BoldEditing"}init(){const Fr=this.editor;Fr.model.schema.extend("$text",{allowAttributes:Wh}),Fr.model.schema.setAttributeProperties(Wh,{isFormatting:!0,copyOnEnter:!0}),Fr.conversion.attributeToElement({model:Wh,view:"strong",upcastAlso:["b",Ur=>{const Yr=Ur.getStyle("font-weight");return Yr&&(Yr=="bold"||Number(Yr)>=600)?{name:!0,styles:["font-weight"]}:null}]}),Fr.commands.add(Wh,new Qb(Fr,Wh)),Fr.keystrokes.set("CTRL+B",Wh)}}const dm="bold";class WC extends go{static get pluginName(){return"BoldUI"}init(){const Fr=this.editor,Ur=Fr.t;Fr.ui.componentFactory.add(dm,Yr=>{const Qr=Fr.commands.get(dm),tn=new cs(Yr);return tn.set({label:Ur("Bold"),icon:Ml.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),tn.bind("isOn","isEnabled").to(Qr,"value","isEnabled"),this.listenTo(tn,"execute",()=>{Fr.execute(dm),Fr.editing.view.focus()}),tn})}}var Jb=$r(8603),YC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Jb.Z,YC),Jb.Z.locals;const Yh="italic";class qC extends go{static get pluginName(){return"ItalicEditing"}init(){const Fr=this.editor;Fr.model.schema.extend("$text",{allowAttributes:Yh}),Fr.model.schema.setAttributeProperties(Yh,{isFormatting:!0,copyOnEnter:!0}),Fr.conversion.attributeToElement({model:Yh,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),Fr.commands.add(Yh,new Qb(Fr,Yh)),Fr.keystrokes.set("CTRL+I",Yh)}}const hm="italic";class KC extends go{static get pluginName(){return"ItalicUI"}init(){const Fr=this.editor,Ur=Fr.t;Fr.ui.componentFactory.add(hm,Yr=>{const Qr=Fr.commands.get(hm),tn=new cs(Yr);return tn.set({label:Ur("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),tn.bind("isOn","isEnabled").to(Qr,"value","isEnabled"),this.listenTo(tn,"execute",()=>{Fr.execute(hm),Fr.editing.view.focus()}),tn})}}class ZC extends ja{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(Fr={}){const Ur=this.editor.model,Yr=Ur.schema,Qr=Ur.document.selection,tn=Array.from(Qr.getSelectedBlocks()),sn=Fr.forceValue===void 0?!this.value:Fr.forceValue;Ur.change(un=>{if(sn){const gn=tn.filter(kn=>Qp(kn)||t0(Yr,kn));this._applyQuote(un,gn)}else this._removeQuote(un,tn.filter(Qp))})}_getValue(){const Fr=wl(this.editor.model.document.selection.getSelectedBlocks());return!(!Fr||!Qp(Fr))}_checkEnabled(){if(this.value)return!0;const Fr=this.editor.model.document.selection,Ur=this.editor.model.schema,Yr=wl(Fr.getSelectedBlocks());return!!Yr&&t0(Ur,Yr)}_removeQuote(Fr,Ur){e0(Fr,Ur).reverse().forEach(Yr=>{if(Yr.start.isAtStart&&Yr.end.isAtEnd)return void Fr.unwrap(Yr.start.parent);if(Yr.start.isAtStart){const tn=Fr.createPositionBefore(Yr.start.parent);return void Fr.move(Yr,tn)}Yr.end.isAtEnd||Fr.split(Yr.end);const Qr=Fr.createPositionAfter(Yr.end.parent);Fr.move(Yr,Qr)})}_applyQuote(Fr,Ur){const Yr=[];e0(Fr,Ur).reverse().forEach(Qr=>{let tn=Qp(Qr.start);tn||(tn=Fr.createElement("blockQuote"),Fr.wrap(Qr,tn)),Yr.push(tn)}),Yr.reverse().reduce((Qr,tn)=>Qr.nextSibling==tn?(Fr.merge(Fr.createPositionAfter(Qr)),Qr):tn)}}function Qp(Xr){return Xr.parent.name=="blockQuote"?Xr.parent:null}function e0(Xr,Fr){let Ur,Yr=0;const Qr=[];for(;Yr<Fr.length;){const tn=Fr[Yr],sn=Fr[Yr+1];Ur||(Ur=Xr.createPositionBefore(tn)),sn&&tn.nextSibling==sn||(Qr.push(Xr.createRange(Ur,Xr.createPositionAfter(tn))),Ur=null),Yr++}return Qr}function t0(Xr,Fr){const Ur=Xr.checkChild(Fr.parent,"blockQuote"),Yr=Xr.checkChild(["$root","blockQuote"],Fr);return Ur&&Yr}class XC extends go{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[qp,dd]}init(){const Fr=this.editor,Ur=Fr.model.schema;Fr.commands.add("blockQuote",new ZC(Fr)),Ur.register("blockQuote",{inheritAllFrom:"$container"}),Fr.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),Fr.model.document.registerPostFixer(sn=>{const un=Fr.model.document.differ.getChanges();for(const gn of un)if(gn.type=="insert"){const kn=gn.position.nodeAfter;if(!kn)continue;if(kn.is("element","blockQuote")&&kn.isEmpty)return sn.remove(kn),!0;if(kn.is("element","blockQuote")&&!Ur.checkChild(gn.position,kn))return sn.unwrap(kn),!0;if(kn.is("element")){const Cn=sn.createRangeIn(kn);for(const Dn of Cn.getItems())if(Dn.is("element","blockQuote")&&!Ur.checkChild(sn.createPositionBefore(Dn),Dn))return sn.unwrap(Dn),!0}}else if(gn.type=="remove"){const kn=gn.position.parent;if(kn.is("element","blockQuote")&&kn.isEmpty)return sn.remove(kn),!0}return!1});const Yr=this.editor.editing.view.document,Qr=Fr.model.document.selection,tn=Fr.commands.get("blockQuote");this.listenTo(Yr,"enter",(sn,un)=>{!Qr.isCollapsed||!tn.value||Qr.getLastPosition().parent.isEmpty&&(Fr.execute("blockQuote"),Fr.editing.view.scrollToTheSelection(),un.preventDefault(),sn.stop())},{context:"blockquote"}),this.listenTo(Yr,"delete",(sn,un)=>{if(un.direction!="backward"||!Qr.isCollapsed||!tn.value)return;const gn=Qr.getLastPosition().parent;gn.isEmpty&&!gn.previousSibling&&(Fr.execute("blockQuote"),Fr.editing.view.scrollToTheSelection(),un.preventDefault(),sn.stop())},{context:"blockquote"})}}var r0=$r(3062),QC={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(r0.Z,QC),r0.Z.locals;class JC extends go{static get pluginName(){return"BlockQuoteUI"}init(){const Fr=this.editor,Ur=Fr.t;Fr.ui.componentFactory.add("blockQuote",Yr=>{const Qr=Fr.commands.get("blockQuote"),tn=new cs(Yr);return tn.set({label:Ur("Block quote"),icon:Ml.quote,tooltip:!0,isToggleable:!0}),tn.bind("isOn","isEnabled").to(Qr,"value","isEnabled"),this.listenTo(tn,"execute",()=>{Fr.execute("blockQuote"),Fr.editing.view.focus()}),tn})}}class ex extends go{static get pluginName(){return"CKBoxUI"}afterInit(){const Fr=this.editor,Ur=Fr.commands.get("ckbox");if(!Ur)return;const Yr=Fr.t;Fr.ui.componentFactory.add("ckbox",Qr=>{const tn=new cs(Qr);return tn.set({label:Yr("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),tn.bind("isOn","isEnabled").to(Ur,"value","isEnabled"),tn.on("execute",()=>{Fr.execute("ckbox")}),tn})}}const tx=4e3,rx=80,nx=10;function n0({token:Xr,id:Fr,origin:Ur,width:Yr,extension:Qr}){const tn=i0(Xr),sn=function(gn){const kn=[gn*nx/100,rx],Cn=Math.floor(Math.max(...kn)),Dn=[Math.min(gn,tx)];let Ln=Dn[0];for(;Ln-Cn>=Cn;)Ln-=Cn,Dn.unshift(Ln);return Dn}(Yr),un=function(gn){return gn==="bmp"||gn==="tiff"||gn==="jpg"?"jpeg":gn}(Qr);return{imageFallbackUrl:o0({environmentId:tn,id:Fr,origin:Ur,width:Yr,extension:un}),imageSources:[{srcset:sn.map(gn=>`${o0({environmentId:tn,id:Fr,origin:Ur,width:gn,extension:"webp"})} ${gn}w`).join(","),sizes:`(max-width: ${Yr}px) 100vw, ${Yr}px`,type:"image/webp"}]}}function i0(Xr){const[,Fr]=Xr.value.split(".");return JSON.parse(atob(Fr)).aud}function o0({environmentId:Xr,id:Fr,origin:Ur,width:Yr,extension:Qr}){return new URL(`${Xr}/assets/${Fr}/images/${Yr}.${Qr}`,Ur).toString()}class ix extends ja{constructor(Fr){super(Fr),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const Fr=this.editor.commands.get("insertImage"),Ur=this.editor.commands.get("link");return!(!Fr.isEnabled&&!Ur.isEnabled)}_prepareOptions(){const Fr=this.editor.config.get("ckbox");return{theme:Fr.theme,language:Fr.language,tokenUrl:Fr.tokenUrl,serviceOrigin:Fr.serviceOrigin,assetsOrigin:Fr.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:Ur=>this.fire("ckbox:choose",Ur)}}}_initListeners(){const Fr=this.editor,Ur=Fr.model,Yr=!Fr.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=la(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(Qr,tn)=>{if(!this.isEnabled)return;const sn=Fr.commands.get("insertImage"),un=Fr.commands.get("link"),gn=Fr.plugins.get("CKBoxEditing"),kn=function({assets:Cn,origin:Dn,token:Ln,isImageAllowed:zn,isLinkAllowed:Wn}){return Cn.map(Xn=>function(ii){const ui=ii.data.metadata;return ui?ui.width&&ui.height:!1}(Xn)?{id:Xn.data.id,type:"image",attributes:ox(Xn,Ln,Dn)}:{id:Xn.data.id,type:"link",attributes:ax(Xn,Ln,Dn)}).filter(Xn=>Xn.type==="image"?zn:Wn)}({assets:tn,origin:Fr.config.get("ckbox.assetsOrigin"),token:gn.getToken(),isImageAllowed:sn.isEnabled,isLinkAllowed:un.isEnabled});kn.length!==0&&Ur.change(Cn=>{for(const Dn of kn){const Ln=Dn===kn[kn.length-1];this._insertAsset(Dn,Ln,Cn),Yr&&(setTimeout(()=>this._chosenAssets.delete(Dn),1e3),this._chosenAssets.add(Dn))}})}),this.listenTo(Fr,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(Fr,Ur,Yr){const Qr=this.editor.model.document.selection;Yr.removeSelectionAttribute("linkHref"),Fr.type==="image"?this._insertImage(Fr):this._insertLink(Fr,Yr),Ur||Yr.setSelection(Qr.getLastPosition())}_insertImage(Fr){const Ur=this.editor,{imageFallbackUrl:Yr,imageSources:Qr,imageTextAlternative:tn}=Fr.attributes;Ur.execute("insertImage",{source:{src:Yr,sources:Qr,alt:tn}})}_insertLink(Fr,Ur){const Yr=this.editor,Qr=Yr.model,tn=Qr.document.selection,{linkName:sn,linkHref:un}=Fr.attributes;if(tn.isCollapsed){const gn=tl(tn.getAttributes()),kn=Ur.createText(sn,gn),Cn=Qr.insertContent(kn);Ur.setSelection(Cn)}Yr.execute("link",un)}}function ox(Xr,Fr,Ur){const{imageFallbackUrl:Yr,imageSources:Qr}=n0({token:Fr,origin:Ur,id:Xr.data.id,width:Xr.data.metadata.width,extension:Xr.data.extension});return{imageFallbackUrl:Yr,imageSources:Qr,imageTextAlternative:Xr.data.metadata.description||""}}function ax(Xr,Fr,Ur){return{linkName:Xr.data.name,linkHref:sx(Xr,Fr,Ur)}}function sx(Xr,Fr,Ur){const Yr=i0(Fr),Qr=new URL(`${Yr}/assets/${Xr.data.id}/file`,Ur);return Qr.searchParams.set("download","true"),Qr.toString()}var hh=(Xr,Fr,Ur)=>new Promise((Yr,Qr)=>{var tn=gn=>{try{un(Ur.next(gn))}catch(kn){Qr(kn)}},sn=gn=>{try{un(Ur.throw(gn))}catch(kn){Qr(kn)}},un=gn=>gn.done?Yr(gn.value):Promise.resolve(gn.value).then(tn,sn);un((Ur=Ur.apply(Xr,Fr)).next())});class lx extends go{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Du,fm]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return hh(this,null,function*(){const Fr=this.editor,Ur=!!Fr.config.get("ckbox"),Yr=!!window.CKBox;if(!Ur&&!Yr)return;const Qr=Fr.plugins.get(Du),tn=Fr.plugins.get(fm);Qr.createUploadAdapter=gn=>new cx(gn,tn.getToken(),Fr);const sn=!Fr.config.get("ckbox.ignoreDataId"),un=Fr.plugins.get("ImageUploadEditing");sn&&un.on("uploadComplete",(gn,{imageElement:kn,data:Cn})=>{Fr.model.change(Dn=>{Dn.setAttribute("ckboxImageId",Cn.ckboxImageId,kn)})})})}}class cx{constructor(Fr,Ur,Yr){this.loader=Fr,this.token=Ur,this.editor=Yr,this.controller=new AbortController,this.serviceOrigin=Yr.config.get("ckbox.serviceOrigin"),this.assetsOrigin=Yr.config.get("ckbox.assetsOrigin")}getAvailableCategories(Fr=0){return hh(this,null,function*(){const Ur=new URL("categories",this.serviceOrigin);return Ur.searchParams.set("limit",50 .toString()),Ur.searchParams.set("offset",Fr.toString()),this._sendHttpRequest({url:Ur}).then(Yr=>hh(this,null,function*(){if(Yr.totalCount-(Fr+50)>0){const Qr=yield this.getAvailableCategories(Fr+50);return[...Yr.items,...Qr]}return Yr.items})).catch(()=>{this.controller.signal.throwIfAborted(),Mn("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(Fr){return hh(this,null,function*(){const Ur=a0(Fr.name),Yr=yield this.getAvailableCategories();if(!Yr)return null;const Qr=this.editor.config.get("ckbox.defaultUploadCategories");if(Qr){const sn=Object.keys(Qr).find(un=>Qr[un].includes(Ur));if(sn){const un=Yr.find(gn=>gn.id===sn||gn.name===sn);return un?un.id:null}}const tn=Yr.find(sn=>sn.extensions.includes(Ur));return tn?tn.id:null})}upload(){return hh(this,null,function*(){const Fr=this.editor.t,Ur=Fr("Cannot determine a category for the uploaded file."),Yr=yield this.loader.file,Qr=yield this.getCategoryIdForFile(Yr);if(!Qr)return Promise.reject(Ur);const tn=new URL("assets",this.serviceOrigin),sn=new FormData;sn.append("categoryId",Qr),sn.append("file",Yr);const un={method:"POST",url:tn,data:sn,onUploadProgress:gn=>{gn.lengthComputable&&(this.loader.uploadTotal=gn.total,this.loader.uploaded=gn.loaded)}};return this._sendHttpRequest(un).then(gn=>hh(this,null,function*(){const kn=yield this._getImageWidth(),Cn=a0(Yr.name),Dn=n0({token:this.token,id:gn.id,origin:this.assetsOrigin,width:kn,extension:Cn});return{ckboxImageId:gn.id,default:Dn.imageFallbackUrl,sources:Dn.imageSources}})).catch(()=>{const gn=Fr("Cannot upload file:")+` ${Yr.name}.`;return Promise.reject(gn)})})}abort(){this.controller.abort()}_sendHttpRequest({url:Fr,method:Ur="GET",data:Yr,onUploadProgress:Qr}){const tn=this.controller.signal,sn=new XMLHttpRequest;sn.open(Ur,Fr.toString(),!0),sn.setRequestHeader("Authorization",this.token.value),sn.setRequestHeader("CKBox-Version","CKEditor 5"),sn.responseType="json";const un=()=>{sn.abort()};return new Promise((gn,kn)=>{tn.addEventListener("abort",un),sn.addEventListener("loadstart",()=>{tn.addEventListener("abort",un)}),sn.addEventListener("loadend",()=>{tn.removeEventListener("abort",un)}),sn.addEventListener("error",()=>{kn()}),sn.addEventListener("abort",()=>{kn()}),sn.addEventListener("load",()=>hh(this,null,function*(){const Cn=sn.response;return!Cn||Cn.statusCode>=400?kn(Cn&&Cn.message):gn(Cn)})),Qr&&sn.upload.addEventListener("progress",Cn=>{Qr(Cn)}),sn.send(Yr)})}_getImageWidth(){return new Promise(Fr=>{const Ur=new Image;Ur.onload=()=>{URL.revokeObjectURL(Ur.src),Fr(Ur.width)},Ur.src=this.loader.data})}}function a0(Xr){const Fr=new RegExp("\\.(?<ext>[^.]+)$");return Xr.match(Fr).groups.ext}class fm extends go{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",lx]}init(){return Fr=this,Ur=null,Yr=function*(){const Qr=this.editor,tn=!!Qr.config.get("ckbox"),sn=!!window.CKBox;if(!tn&&!sn)return;this._initConfig();const un=Qr.plugins.get("CloudServicesCore"),gn=Qr.config.get("ckbox.tokenUrl");if(gn===Qr.config.get("cloudServices.tokenUrl")){const kn=Qr.plugins.get("CloudServices");this._token=kn.token}else this._token=yield un.createToken(gn).init();Qr.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),sn&&Qr.commands.add("ckbox",new ix(Qr))},new Promise((Qr,tn)=>{var sn=kn=>{try{gn(Yr.next(kn))}catch(Cn){tn(Cn)}},un=kn=>{try{gn(Yr.throw(kn))}catch(Cn){tn(Cn)}},gn=kn=>kn.done?Qr(kn.value):Promise.resolve(kn.value).then(sn,un);gn((Yr=Yr.apply(Fr,Ur)).next())});var Fr,Ur,Yr}getToken(){return this._token}_initConfig(){const Fr=this.editor;if(Fr.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:Fr.locale.uiLanguage,theme:"default",tokenUrl:Fr.config.get("cloudServices.tokenUrl")}),!Fr.config.get("ckbox.tokenUrl"))throw new wn("ckbox-plugin-missing-token-url",this);Fr.plugins.has("ImageBlockEditing")||Fr.plugins.has("ImageInlineEditing")||Mn("ckbox-plugin-image-feature-missing",Fr)}_initSchema(){const Fr=this.editor.model.schema;Fr.extend("$text",{allowAttributes:"ckboxLinkId"}),Fr.isRegistered("imageBlock")&&Fr.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),Fr.isRegistered("imageInline")&&Fr.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),Fr.addAttributeCheck((Ur,Yr)=>{if(!Ur.last.getAttribute("linkHref")&&Yr==="ckboxLinkId")return!1})}_initConversion(){const Fr=this.editor;Fr.conversion.for("downcast").add(Ur=>{Ur.on("attribute:ckboxLinkId:imageBlock",(Yr,Qr,tn)=>{const{writer:sn,mapper:un,consumable:gn}=tn;if(!gn.consume(Qr.item,Yr.name))return;const kn=[...un.toViewElement(Qr.item).getChildren()].find(Cn=>Cn.name==="a");kn&&(Qr.item.hasAttribute("ckboxLinkId")?sn.setAttribute("data-ckbox-resource-id",Qr.item.getAttribute("ckboxLinkId"),kn):sn.removeAttribute("data-ckbox-resource-id",kn))},{priority:"low"}),Ur.on("attribute:ckboxLinkId",(Yr,Qr,tn)=>{const{writer:sn,mapper:un,consumable:gn}=tn;if(gn.consume(Qr.item,Yr.name)){if(Qr.attributeOldValue){const kn=s0(sn,Qr.attributeOldValue);sn.unwrap(un.toViewRange(Qr.range),kn)}if(Qr.attributeNewValue){const kn=s0(sn,Qr.attributeNewValue);if(Qr.item.is("selection")){const Cn=sn.document.selection;sn.wrap(Cn.getFirstRange(),kn)}else sn.wrap(un.toViewRange(Qr.range),kn)}}},{priority:"low"})}),Fr.conversion.for("upcast").add(Ur=>{Ur.on("element:a",(Yr,Qr,tn)=>{const{writer:sn,consumable:un}=tn;if(!Qr.viewItem.getAttribute("href")||!un.consume(Qr.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const gn=Qr.viewItem.getAttribute("data-ckbox-resource-id");if(gn)if(Qr.modelRange)for(let kn of Qr.modelRange.getItems())kn.is("$textProxy")&&(kn=kn.textNode),dx(kn)&&sn.setAttribute("ckboxLinkId",gn,kn);else{const kn=Qr.modelCursor.nodeBefore||Qr.modelCursor.parent;sn.setAttribute("ckboxLinkId",gn,kn)}},{priority:"low"})}),Fr.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),Fr.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:Ur=>Ur.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const Fr=this.editor,Ur=Fr.model,Yr=Ur.document.selection;Ur.document.registerPostFixer(function(Qr){return tn=>{let sn=!1;const un=Qr.model,gn=Qr.commands.get("ckbox");if(!gn)return sn;for(const kn of un.document.differ.getChanges()){if(kn.type!=="insert"&&kn.type!=="attribute")continue;const Cn=kn.type==="insert"?new Ui(kn.position,kn.position.getShiftedBy(kn.length)):kn.range,Dn=kn.type==="attribute"&&kn.attributeKey==="linkHref"&&kn.attributeNewValue===null;for(const Ln of Cn.getItems()){if(Dn&&Ln.hasAttribute("ckboxLinkId")){tn.removeAttribute("ckboxLinkId",Ln),sn=!0;continue}const zn=ux(Ln,gn._chosenAssets);for(const Wn of zn){const Xn=Wn.type==="image"?"ckboxImageId":"ckboxLinkId";Wn.id!==Ln.getAttribute(Xn)&&(tn.setAttribute(Xn,Wn.id,Ln),sn=!0)}}}return sn}}(Fr)),Ur.document.registerPostFixer(function(Qr){return tn=>!(Qr.hasAttribute("linkHref")||!Qr.hasAttribute("ckboxLinkId"))&&(tn.removeSelectionAttribute("ckboxLinkId"),!0)}(Yr))}}function ux(Xr,Fr){const Ur=Xr.is("element","imageInline")||Xr.is("element","imageBlock"),Yr=Xr.hasAttribute("linkHref");return[...Fr].filter(Qr=>Qr.type==="image"&&Ur?Qr.attributes.imageFallbackUrl===Xr.getAttribute("src"):Qr.type==="link"&&Yr?Qr.attributes.linkHref===Xr.getAttribute("linkHref"):void 0)}function s0(Xr,Fr){const Ur=Xr.createAttributeElement("a",{"data-ckbox-resource-id":Fr},{priority:5});return Xr.setCustomProperty("link",!0,Ur),Ur}function dx(Xr){return!!Xr.is("$text")||!(!Xr.is("element","imageInline")&&!Xr.is("element","imageBlock"))}class hx extends go{static get pluginName(){return"CKFinderUI"}init(){const Fr=this.editor,Ur=Fr.ui.componentFactory,Yr=Fr.t;Ur.add("ckfinder",Qr=>{const tn=Fr.commands.get("ckfinder"),sn=new cs(Qr);return sn.set({label:Yr("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),sn.bind("isEnabled").to(tn),sn.on("execute",()=>{Fr.execute("ckfinder"),Fr.editing.view.focus()}),sn})}}class fx extends ja{constructor(Fr){super(Fr),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const Fr=this.editor.commands.get("insertImage"),Ur=this.editor.commands.get("link");this.isEnabled=Fr.isEnabled||Ur.isEnabled}execute(){const Fr=this.editor,Ur=this.editor.config.get("ckfinder.openerMethod")||"modal";if(Ur!="popup"&&Ur!="modal")throw new wn("ckfinder-unknown-openermethod",Fr);const Yr=this.editor.config.get("ckfinder.options")||{};Yr.chooseFiles=!0;const Qr=Yr.onInit;Yr.language||(Yr.language=Fr.locale.uiLanguage),Yr.onInit=tn=>{Qr&&Qr(tn),tn.on("files:choose",sn=>{const un=sn.data.files.toArray(),gn=un.filter(Dn=>!Dn.isImage()),kn=un.filter(Dn=>Dn.isImage());for(const Dn of gn)Fr.execute("link",Dn.getUrl());const Cn=[];for(const Dn of kn){const Ln=Dn.getUrl();Cn.push(Ln||tn.request("file:getProxyUrl",{file:Dn}))}Cn.length&&l0(Fr,Cn)}),tn.on("file:choose:resizedImage",sn=>{const un=sn.data.resizedUrl;if(un)l0(Fr,[un]);else{const gn=Fr.plugins.get("Notification"),kn=Fr.locale.t;gn.showWarning(kn("Could not obtain resized image URL."),{title:kn("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[Ur](Yr)}}function l0(Xr,Fr){if(Xr.commands.get("insertImage").isEnabled)Xr.execute("insertImage",{source:Fr});else{const Ur=Xr.plugins.get("Notification"),Yr=Xr.locale.t;Ur.showWarning(Yr("Could not insert image at the current position."),{title:Yr("Inserting image failed"),namespace:"ckfinder"})}}class px extends go{static get pluginName(){return"CKFinderEditing"}static get requires(){return[nm,"LinkEditing"]}init(){const Fr=this.editor;if(!Fr.plugins.has("ImageBlockEditing")&&!Fr.plugins.has("ImageInlineEditing"))throw new wn("ckfinder-missing-image-plugin",Fr);Fr.commands.add("ckfinder",new fx(Fr))}}class gx extends go{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Du]}init(){const Fr=this.editor,Ur=Fr.plugins.get("CloudServices"),Yr=Ur.token,Qr=Ur.uploadUrl;if(!Yr)return;const tn=Fr.plugins.get("CloudServicesCore");this._uploadGateway=tn.createUploadGateway(Yr,Qr),Fr.plugins.get(Du).createUploadAdapter=sn=>new mx(this._uploadGateway,sn)}}class mx{constructor(Fr,Ur){this.uploadGateway=Fr,this.loader=Ur}upload(){return this.loader.file.then(Fr=>(this.fileUploader=this.uploadGateway.upload(Fr),this.fileUploader.on("progress",(Ur,Yr)=>{this.loader.uploadTotal=Yr.total,this.loader.uploaded=Yr.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class vx extends ja{constructor(Fr){super(Fr),this._isEnabledBasedOnSelection=!1}refresh(){const Fr=this.editor.model,Ur=wl(Fr.document.selection.getSelectedBlocks());this.value=!!Ur&&Ur.is("element","paragraph"),this.isEnabled=!!Ur&&c0(Ur,Fr.schema)}execute(Fr={}){const Ur=this.editor.model,Yr=Ur.document,Qr=Fr.selection||Yr.selection;Ur.canEditAt(Qr)&&Ur.change(tn=>{const sn=Qr.getSelectedBlocks();for(const un of sn)!un.is("element","paragraph")&&c0(un,Ur.schema)&&tn.rename(un,"paragraph")})}}function c0(Xr,Fr){return Fr.checkChild(Xr.parent,"paragraph")&&!Fr.isObject(Xr)}class yx extends ja{constructor(Fr){super(Fr),this._isEnabledBasedOnSelection=!1}execute(Fr){const Ur=this.editor.model,Yr=Fr.attributes;let Qr=Fr.position;Ur.canEditAt(Qr)&&Ur.change(tn=>{const sn=tn.createElement("paragraph");if(Yr&&Ur.schema.setAllowedAttributes(sn,Yr,tn),!Ur.schema.checkChild(Qr.parent,sn)){const un=Ur.schema.findAllowedParent(Qr,sn);if(!un)return;Qr=tn.split(Qr,un).position}Ur.insertContent(sn,Qr),tn.setSelection(sn,"in")})}}const u0=class extends go{static get pluginName(){return"Paragraph"}init(){const Xr=this.editor,Fr=Xr.model;Xr.commands.add("paragraph",new vx(Xr)),Xr.commands.add("insertParagraph",new yx(Xr)),Fr.schema.register("paragraph",{inheritAllFrom:"$block"}),Xr.conversion.elementToElement({model:"paragraph",view:"p"}),Xr.conversion.for("upcast").elementToElement({model:(Ur,{writer:Yr})=>u0.paragraphLikeElements.has(Ur.name)?Ur.isEmpty?null:Yr.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let pm=u0;pm.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class bx extends ja{constructor(Fr,Ur){super(Fr),this.modelElements=Ur}refresh(){const Fr=wl(this.editor.model.document.selection.getSelectedBlocks());this.value=!!Fr&&this.modelElements.includes(Fr.name)&&Fr.name,this.isEnabled=!!Fr&&this.modelElements.some(Ur=>d0(Fr,Ur,this.editor.model.schema))}execute(Fr){const Ur=this.editor.model,Yr=Ur.document,Qr=Fr.value;Ur.change(tn=>{const sn=Array.from(Yr.selection.getSelectedBlocks()).filter(un=>d0(un,Qr,Ur.schema));for(const un of sn)un.is("element",Qr)||tn.rename(un,Qr)})}}function d0(Xr,Fr,Ur){return Ur.checkChild(Xr.parent,Fr)&&!Ur.isObject(Xr)}const h0="paragraph";class _x extends go{static get pluginName(){return"HeadingEditing"}constructor(Fr){super(Fr),Fr.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[pm]}init(){const Fr=this.editor,Ur=Fr.config.get("heading.options"),Yr=[];for(const Qr of Ur)Qr.model!=="paragraph"&&(Fr.model.schema.register(Qr.model,{inheritAllFrom:"$block"}),Fr.conversion.elementToElement(Qr),Yr.push(Qr.model));this._addDefaultH1Conversion(Fr),Fr.commands.add("heading",new bx(Fr,Yr))}afterInit(){const Fr=this.editor,Ur=Fr.commands.get("enter"),Yr=Fr.config.get("heading.options");Ur&&this.listenTo(Ur,"afterExecute",(Qr,tn)=>{const sn=Fr.model.document.selection.getFirstPosition().parent;Yr.some(un=>sn.is("element",un.model))&&!sn.is("element",h0)&&sn.childCount===0&&tn.writer.rename(sn,h0)})}_addDefaultH1Conversion(Fr){Fr.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:An.low+1})}}var f0=$r(8733),kx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(f0.Z,kx),f0.Z.locals;class Ax extends go{static get pluginName(){return"HeadingUI"}init(){const Fr=this.editor,Ur=Fr.t,Yr=function(sn){const un=sn.t,gn={Paragraph:un("Paragraph"),"Heading 1":un("Heading 1"),"Heading 2":un("Heading 2"),"Heading 3":un("Heading 3"),"Heading 4":un("Heading 4"),"Heading 5":un("Heading 5"),"Heading 6":un("Heading 6")};return sn.config.get("heading.options").map(kn=>{const Cn=gn[kn.title];return Cn&&Cn!=kn.title&&(kn.title=Cn),kn})}(Fr),Qr=Ur("Choose heading"),tn=Ur("Heading");Fr.ui.componentFactory.add("heading",sn=>{const un={},gn=new $c,kn=Fr.commands.get("heading"),Cn=Fr.commands.get("paragraph"),Dn=[kn];for(const zn of Yr){const Wn={type:"button",model:new Uy({label:zn.title,class:zn.class,role:"menuitemradio",withText:!0})};zn.model==="paragraph"?(Wn.model.bind("isOn").to(Cn,"value"),Wn.model.set("commandName","paragraph"),Dn.push(Cn)):(Wn.model.bind("isOn").to(kn,"value",Xn=>Xn===zn.model),Wn.model.set({commandName:"heading",commandValue:zn.model})),gn.add(Wn),un[zn.model]=zn.title}const Ln=Ld(sn);return py(Ln,gn,{ariaLabel:tn,role:"menu"}),Ln.buttonView.set({ariaLabel:tn,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:tn}),Ln.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),Ln.bind("isEnabled").toMany(Dn,"isEnabled",(...zn)=>zn.some(Wn=>Wn)),Ln.buttonView.bind("label").to(kn,"value",Cn,"value",(zn,Wn)=>{const Xn=zn||Wn&&"paragraph";return typeof Xn=="boolean"?Qr:un[Xn]?un[Xn]:Qr}),this.listenTo(Ln,"execute",zn=>{const{commandName:Wn,commandValue:Xn}=zn.source;Fr.execute(Wn,Xn?{value:Xn}:void 0),Fr.editing.view.focus()}),Ln})}}function p0(Xr){return Xr.createContainerElement("figure",{class:"image"},[Xr.createEmptyElement("img"),Xr.createSlot("children")])}function g0(Xr,Fr){const Ur=Xr.plugins.get("ImageUtils"),Yr=Xr.plugins.has("ImageInlineEditing")&&Xr.plugins.has("ImageBlockEditing");return tn=>Ur.isInlineImageView(tn)?Yr&&(tn.getStyle("display")=="block"||tn.findAncestor(Ur.isBlockImageView)?"imageBlock":"imageInline")!==Fr?null:Qr(tn):null;function Qr(tn){const sn={name:!0};return tn.hasAttribute("src")&&(sn.attributes=["src"]),sn}}function gm(Xr,Fr){const Ur=wl(Fr.getSelectedBlocks());return!Ur||Xr.isObject(Ur)||Ur.isEmpty&&Ur.name!="listItem"?"imageBlock":"imageInline"}var Cx=Object.defineProperty,m0=Object.getOwnPropertySymbols,xx=Object.prototype.hasOwnProperty,Sx=Object.prototype.propertyIsEnumerable,v0=(Xr,Fr,Ur)=>Fr in Xr?Cx(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur,y0=(Xr,Fr)=>{for(var Ur in Fr||(Fr={}))xx.call(Fr,Ur)&&v0(Xr,Ur,Fr[Ur]);if(m0)for(var Ur of m0(Fr))Sx.call(Fr,Ur)&&v0(Xr,Ur,Fr[Ur]);return Xr};class Eu extends go{static get pluginName(){return"ImageUtils"}isImage(Fr){return this.isInlineImage(Fr)||this.isBlockImage(Fr)}isInlineImageView(Fr){return!!Fr&&Fr.is("element","img")}isBlockImageView(Fr){return!!Fr&&Fr.is("element","figure")&&Fr.hasClass("image")}insertImage(Fr={},Ur=null,Yr=null){const Qr=this.editor,tn=Qr.model,sn=tn.document.selection;Yr=b0(Qr,Ur||sn,Yr),Fr=y0(y0({},Object.fromEntries(sn.getAttributes())),Fr);for(const un in Fr)tn.schema.checkAttribute(Yr,un)||delete Fr[un];return tn.change(un=>{const gn=un.createElement(Yr,Fr);return tn.insertObject(gn,Ur,null,{setSelection:"on",findOptimalPosition:Ur||Yr=="imageInline"?void 0:"auto"}),gn.parent?gn:null})}getClosestSelectedImageWidget(Fr){const Ur=Fr.getFirstPosition();if(!Ur)return null;const Yr=Fr.getSelectedElement();if(Yr&&this.isImageWidget(Yr))return Yr;let Qr=Ur.parent;for(;Qr;){if(Qr.is("element")&&this.isImageWidget(Qr))return Qr;Qr=Qr.parent}return null}getClosestSelectedImageElement(Fr){const Ur=Fr.getSelectedElement();return this.isImage(Ur)?Ur:Fr.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const Fr=this.editor.model.document.selection;return function(Ur,Yr){if(b0(Ur,Yr,null)=="imageBlock"){const tn=function(sn,un){const gn=Sb(sn,un),kn=gn.start.parent;return kn.isEmpty&&!kn.is("element","$root")?kn.parent:kn}(Yr,Ur.model);if(Ur.model.schema.checkChild(tn,"imageBlock"))return!0}else if(Ur.model.schema.checkChild(Yr.focus,"imageInline"))return!0;return!1}(this.editor,Fr)&&function(Ur){return[...Ur.focus.getAncestors()].every(Yr=>!Yr.is("element","imageBlock"))}(Fr)}toImageWidget(Fr,Ur,Yr){return Ur.setCustomProperty("image",!0,Fr),um(Fr,Ur,{label:()=>{const Qr=this.findViewImgElement(Fr).getAttribute("alt");return Qr?`${Qr} ${Yr}`:Yr}})}isImageWidget(Fr){return!!Fr.getCustomProperty("image")&&gl(Fr)}isBlockImage(Fr){return!!Fr&&Fr.is("element","imageBlock")}isInlineImage(Fr){return!!Fr&&Fr.is("element","imageInline")}findViewImgElement(Fr){if(this.isInlineImageView(Fr))return Fr;const Ur=this.editor.editing.view;for(const{item:Yr}of Ur.createRangeIn(Fr))if(this.isInlineImageView(Yr))return Yr}}function b0(Xr,Fr,Ur){const Yr=Xr.model.schema,Qr=Xr.config.get("image.insert.type");return Xr.plugins.has("ImageBlockEditing")?Xr.plugins.has("ImageInlineEditing")?Ur||(Qr==="inline"?"imageInline":Qr==="block"?"imageBlock":Fr.is("selection")?gm(Yr,Fr):Yr.checkChild(Fr,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Dx extends ja{refresh(){const Fr=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!Fr,this.isEnabled&&Fr.hasAttribute("alt")?this.value=Fr.getAttribute("alt"):this.value=!1}execute(Fr){const Ur=this.editor,Yr=Ur.plugins.get("ImageUtils"),Qr=Ur.model,tn=Yr.getClosestSelectedImageElement(Qr.document.selection);Qr.change(sn=>{sn.setAttribute("alt",Fr.newValue,tn)})}}class Ex extends go{static get requires(){return[Eu]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Dx(this.editor))}}var _0=$r(1905),Tx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(_0.Z,Tx),_0.Z.locals;var w0=$r(6764),Mx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(w0.Z,Mx),w0.Z.locals;class Ix extends Qa{constructor(Fr){super(Fr);const Ur=this.locale.t;this.focusTracker=new Dc,this.keystrokes=new Jc,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(Ur("Save"),Ml.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Ur("Cancel"),Ml.cancel,"ck-button-cancel","cancel"),this._focusables=new Nc,this._focusCycler=new td({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),jr({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(Fr=>{this._focusables.add(Fr),this.focusTracker.add(Fr.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(Fr,Ur,Yr,Qr){const tn=new cs(this.locale);return tn.set({label:Fr,icon:Ur,tooltip:!0}),tn.extendTemplate({attributes:{class:Yr}}),Qr&&tn.delegate("execute").to(this,Qr),tn}_createLabeledInputView(){const Fr=this.locale.t,Ur=new bd(this.locale,Gg);return Ur.label=Fr("Text alternative"),Ur}}function k0(Xr){const Fr=Xr.editing.view,Ur=Mc.defaultPositions,Yr=Xr.plugins.get("ImageUtils");return{target:Fr.domConverter.mapViewToDom(Yr.getClosestSelectedImageWidget(Fr.document.selection)),positions:[Ur.northArrowSouth,Ur.northArrowSouthWest,Ur.northArrowSouthEast,Ur.southArrowNorth,Ur.southArrowNorthWest,Ur.southArrowNorthEast,Ur.viewportStickyNorth]}}class Lx extends go{static get requires(){return[jp]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const Fr=this.editor,Ur=Fr.t;Fr.ui.componentFactory.add("imageTextAlternative",Yr=>{const Qr=Fr.commands.get("imageTextAlternative"),tn=new cs(Yr);return tn.set({label:Ur("Change image text alternative"),icon:Ml.lowVision,tooltip:!0}),tn.bind("isEnabled").to(Qr,"isEnabled"),tn.bind("isOn").to(Qr,"value",sn=>!!sn),this.listenTo(tn,"execute",()=>{this._showForm()}),tn})}_createForm(){const Fr=this.editor,Ur=Fr.editing.view.document,Yr=Fr.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Vr(Ix))(Fr.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{Fr.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(Qr,tn)=>{this._hideForm(!0),tn()}),this.listenTo(Fr.ui,"update",()=>{Yr.getClosestSelectedImageWidget(Ur.selection)?this._isVisible&&function(Qr){const tn=Qr.plugins.get("ContextualBalloon");if(Qr.plugins.get("ImageUtils").getClosestSelectedImageWidget(Qr.editing.view.document.selection)){const sn=k0(Qr);tn.updatePosition(sn)}}(Fr):this._hideForm(!0)}),zr({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const Fr=this.editor,Ur=Fr.commands.get("imageTextAlternative"),Yr=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:k0(Fr)}),Yr.fieldView.value=Yr.fieldView.element.value=Ur.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(Fr=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),Fr&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class A0 extends go{static get requires(){return[Ex,Lx]}static get pluginName(){return"ImageTextAlternative"}}function C0(Xr,Fr){const Ur=(Yr,Qr,tn)=>{if(!tn.consumable.consume(Qr.item,Yr.name))return;const sn=tn.writer,un=tn.mapper.toViewElement(Qr.item),gn=Xr.findViewImgElement(un);if(Qr.attributeNewValue===null){const kn=Qr.attributeOldValue;kn&&kn.data&&(sn.removeAttribute("srcset",gn),sn.removeAttribute("sizes",gn),kn.width&&sn.removeAttribute("width",gn))}else{const kn=Qr.attributeNewValue;kn&&kn.data&&(sn.setAttribute("srcset",kn.data,gn),sn.setAttribute("sizes","100vw",gn),kn.width&&sn.setAttribute("width",kn.width,gn))}};return Yr=>{Yr.on(`attribute:srcset:${Fr}`,Ur)}}function Jp(Xr,Fr,Ur){const Yr=(Qr,tn,sn)=>{if(!sn.consumable.consume(tn.item,Qr.name))return;const un=sn.writer,gn=sn.mapper.toViewElement(tn.item),kn=Xr.findViewImgElement(gn);un.setAttribute(tn.attributeKey,tn.attributeNewValue||"",kn)};return Qr=>{Qr.on(`attribute:${Ur}:${Fr}`,Yr)}}class Px extends mo{observe(Fr){this.listenTo(Fr,"load",(Ur,Yr)=>{const Qr=Yr.target;this.checkShouldIgnoreEventFromTarget(Qr)||Qr.tagName=="IMG"&&this._fireEvents(Yr)},{useCapture:!0})}stopObserving(Fr){this.stopListening(Fr)}_fireEvents(Fr){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",Fr))}}var Ox=Object.defineProperty,x0=Object.getOwnPropertySymbols,Rx=Object.prototype.hasOwnProperty,$x=Object.prototype.propertyIsEnumerable,S0=(Xr,Fr,Ur)=>Fr in Xr?Ox(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur,eg=(Xr,Fr)=>{for(var Ur in Fr||(Fr={}))Rx.call(Fr,Ur)&&S0(Xr,Ur,Fr[Ur]);if(x0)for(var Ur of x0(Fr))$x.call(Fr,Ur)&&S0(Xr,Ur,Fr[Ur]);return Xr};class Nx extends ja{constructor(Fr){super(Fr);const Ur=Fr.config.get("image.insert.type");Fr.plugins.has("ImageBlockEditing")||Ur==="block"&&xn("image-block-plugin-required"),Fr.plugins.has("ImageInlineEditing")||Ur==="inline"&&xn("image-inline-plugin-required")}refresh(){const Fr=this.editor.plugins.get("ImageUtils");this.isEnabled=Fr.isImageAllowed()}execute(Fr){const Ur=$l(Fr.source),Yr=this.editor.model.document.selection,Qr=this.editor.plugins.get("ImageUtils"),tn=Object.fromEntries(Yr.getAttributes());Ur.forEach((sn,un)=>{const gn=Yr.getSelectedElement();if(typeof sn=="string"&&(sn={src:sn}),un&&gn&&Qr.isImage(gn)){const kn=this.editor.model.createPositionAfter(gn);Qr.insertImage(eg(eg({},sn),tn),kn)}else Qr.insertImage(eg(eg({},sn),tn))})}}class Bx extends ja{refresh(){const Fr=this.editor.plugins.get("ImageUtils"),Ur=this.editor.model.document.selection.getSelectedElement();this.isEnabled=Fr.isImage(Ur),this.value=this.isEnabled?Ur.getAttribute("src"):null}execute(Fr){const Ur=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(Yr=>{Yr.setAttribute("src",Fr.source,Ur),Yr.removeAttribute("srcset",Ur),Yr.removeAttribute("sizes",Ur)})}}class mm extends go{static get requires(){return[Eu]}static get pluginName(){return"ImageEditing"}init(){const Fr=this.editor,Ur=Fr.conversion;Fr.editing.view.addObserver(Px),Ur.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:tn=>{const sn={data:tn.getAttribute("srcset")};return tn.hasAttribute("width")&&(sn.width=tn.getAttribute("width")),sn}}});const Yr=new Nx(Fr),Qr=new Bx(Fr);Fr.commands.add("insertImage",Yr),Fr.commands.add("replaceImageSource",Qr),Fr.commands.add("imageInsert",Yr)}}class D0 extends ja{constructor(Fr,Ur){super(Fr),this._modelElementName=Ur}refresh(){const Fr=this.editor.plugins.get("ImageUtils"),Ur=Fr.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=Fr.isInlineImage(Ur):this.isEnabled=Fr.isBlockImage(Ur)}execute(){const Fr=this.editor,Ur=this.editor.model,Yr=Fr.plugins.get("ImageUtils"),Qr=Yr.getClosestSelectedImageElement(Ur.document.selection),tn=Object.fromEntries(Qr.getAttributes());return tn.src||tn.uploadId?Ur.change(sn=>{const un=Array.from(Ur.markers).filter(Cn=>Cn.getRange().containsItem(Qr)),gn=Yr.insertImage(tn,Ur.createSelection(Qr,"on"),this._modelElementName);if(!gn)return null;const kn=sn.createRangeOn(gn);for(const Cn of un){const Dn=Cn.getRange(),Ln=Dn.root.rootName!="$graveyard"?Dn.getJoined(kn,!0):kn;sn.updateMarker(Cn,{range:Ln})}return{oldElement:Qr,newElement:gn}}):null}}class E0 extends go{static get requires(){return[mm,Eu,Wu]}static get pluginName(){return"ImageBlockEditing"}init(){const Fr=this.editor;Fr.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),Fr.plugins.has("ImageInlineEditing")&&(Fr.commands.add("imageTypeBlock",new D0(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const Fr=this.editor,Ur=Fr.t,Yr=Fr.conversion,Qr=Fr.plugins.get("ImageUtils");Yr.for("dataDowncast").elementToStructure({model:"imageBlock",view:(tn,{writer:sn})=>p0(sn)}),Yr.for("editingDowncast").elementToStructure({model:"imageBlock",view:(tn,{writer:sn})=>Qr.toImageWidget(p0(sn),sn,Ur("image widget"))}),Yr.for("downcast").add(Jp(Qr,"imageBlock","src")).add(Jp(Qr,"imageBlock","alt")).add(C0(Qr,"imageBlock")),Yr.for("upcast").elementToElement({view:g0(Fr,"imageBlock"),model:(tn,{writer:sn})=>sn.createElement("imageBlock",tn.hasAttribute("src")?{src:tn.getAttribute("src")}:void 0)}).add(function(tn){const sn=(un,gn,kn)=>{if(!kn.consumable.test(gn.viewItem,{name:!0,classes:"image"}))return;const Cn=tn.findViewImgElement(gn.viewItem);if(!Cn||!kn.consumable.test(Cn,{name:!0}))return;kn.consumable.consume(gn.viewItem,{name:!0,classes:"image"});const Dn=wl(kn.convertItem(Cn,gn.modelCursor).modelRange.getItems());Dn?(kn.convertChildren(gn.viewItem,Dn),kn.updateConversionResult(Dn,gn)):kn.consumable.revert(gn.viewItem,{name:!0,classes:"image"})};return un=>{un.on("element:figure",sn)}}(Qr))}_setupClipboardIntegration(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.editing.view,Qr=Fr.plugins.get("ImageUtils"),tn=Fr.plugins.get("ClipboardPipeline");this.listenTo(tn,"inputTransformation",(sn,un)=>{const gn=Array.from(un.content.getChildren());let kn;if(!gn.every(Qr.isInlineImageView))return;kn=un.targetRanges?Fr.editing.mapper.toModelRange(un.targetRanges[0]):Ur.document.selection.getFirstRange();const Cn=Ur.createSelection(kn);if(gm(Ur.schema,Cn)==="imageBlock"){const Dn=new uh(Yr.document),Ln=gn.map(zn=>Dn.createElement("figure",{class:"image"},zn));un.content=Dn.createDocumentFragment(Ln)}})}}var T0=$r(3508),Fx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(T0.Z,Fx),T0.Z.locals;class zx extends go{static get requires(){return[E0,ep,A0]}static get pluginName(){return"ImageBlock"}}class Hx extends go{static get requires(){return[mm,Eu,Wu]}static get pluginName(){return"ImageInlineEditing"}init(){const Fr=this.editor,Ur=Fr.model.schema;Ur.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),Ur.addChildCheck((Yr,Qr)=>{if(Yr.endsWith("caption")&&Qr.name==="imageInline")return!1}),this._setupConversion(),Fr.plugins.has("ImageBlockEditing")&&(Fr.commands.add("imageTypeInline",new D0(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const Fr=this.editor,Ur=Fr.t,Yr=Fr.conversion,Qr=Fr.plugins.get("ImageUtils");Yr.for("dataDowncast").elementToElement({model:"imageInline",view:(tn,{writer:sn})=>sn.createEmptyElement("img")}),Yr.for("editingDowncast").elementToStructure({model:"imageInline",view:(tn,{writer:sn})=>Qr.toImageWidget(function(un){return un.createContainerElement("span",{class:"image-inline"},un.createEmptyElement("img"))}(sn),sn,Ur("image widget"))}),Yr.for("downcast").add(Jp(Qr,"imageInline","src")).add(Jp(Qr,"imageInline","alt")).add(C0(Qr,"imageInline")),Yr.for("upcast").elementToElement({view:g0(Fr,"imageInline"),model:(tn,{writer:sn})=>sn.createElement("imageInline",tn.hasAttribute("src")?{src:tn.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.editing.view,Qr=Fr.plugins.get("ImageUtils"),tn=Fr.plugins.get("ClipboardPipeline");this.listenTo(tn,"inputTransformation",(sn,un)=>{const gn=Array.from(un.content.getChildren());let kn;if(!gn.every(Qr.isBlockImageView))return;kn=un.targetRanges?Fr.editing.mapper.toModelRange(un.targetRanges[0]):Ur.document.selection.getFirstRange();const Cn=Ur.createSelection(kn);if(gm(Ur.schema,Cn)==="imageInline"){const Dn=new uh(Yr.document),Ln=gn.map(zn=>zn.childCount===1?(Array.from(zn.getAttributes()).forEach(Wn=>Dn.setAttribute(...Wn,Qr.findViewImgElement(zn))),zn.getChild(0)):zn);un.content=Dn.createDocumentFragment(Ln)}})}}class Vx extends go{static get requires(){return[Hx,ep,A0]}static get pluginName(){return"ImageInline"}}class M0 extends go{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Eu]}getCaptionFromImageModelElement(Fr){for(const Ur of Fr.getChildren())if(Ur&&Ur.is("element","caption"))return Ur;return null}getCaptionFromModelSelection(Fr){const Ur=this.editor.plugins.get("ImageUtils"),Yr=Fr.getFirstPosition().findAncestor("caption");return Yr&&Ur.isBlockImage(Yr.parent)?Yr:null}matchImageCaptionViewElement(Fr){const Ur=this.editor.plugins.get("ImageUtils");return Fr.name=="figcaption"&&Ur.isBlockImageView(Fr.parent)?{name:!0}:null}}class jx extends ja{refresh(){const Fr=this.editor,Ur=Fr.plugins.get("ImageCaptionUtils"),Yr=Fr.plugins.get("ImageUtils");if(!Fr.plugins.has(E0))return this.isEnabled=!1,void(this.value=!1);const Qr=Fr.model.document.selection,tn=Qr.getSelectedElement();if(!tn){const sn=Ur.getCaptionFromModelSelection(Qr);return this.isEnabled=!!sn,void(this.value=!!sn)}this.isEnabled=Yr.isImage(tn),this.isEnabled?this.value=!!Ur.getCaptionFromImageModelElement(tn):this.value=!1}execute(Fr={}){const{focusCaptionOnShow:Ur}=Fr;this.editor.model.change(Yr=>{this.value?this._hideImageCaption(Yr):this._showImageCaption(Yr,Ur)})}_showImageCaption(Fr,Ur){const Yr=this.editor.model.document.selection,Qr=this.editor.plugins.get("ImageCaptionEditing"),tn=this.editor.plugins.get("ImageUtils");let sn=Yr.getSelectedElement();const un=Qr._getSavedCaption(sn);tn.isInlineImage(sn)&&(this.editor.execute("imageTypeBlock"),sn=Yr.getSelectedElement());const gn=un||Fr.createElement("caption");Fr.append(gn,sn),Ur&&Fr.setSelection(gn,"in")}_hideImageCaption(Fr){const Ur=this.editor,Yr=Ur.model.document.selection,Qr=Ur.plugins.get("ImageCaptionEditing"),tn=Ur.plugins.get("ImageCaptionUtils");let sn,un=Yr.getSelectedElement();un?sn=tn.getCaptionFromImageModelElement(un):(sn=tn.getCaptionFromModelSelection(Yr),un=sn.parent),Qr._saveCaption(un,sn),Fr.setSelection(un,"on"),Fr.remove(sn)}}class Ux extends go{constructor(Fr){super(Fr),this._savedCaptionsMap=new WeakMap}static get requires(){return[Eu,M0]}static get pluginName(){return"ImageCaptionEditing"}init(){const Fr=this.editor,Ur=Fr.model.schema;Ur.isRegistered("caption")?Ur.extend("caption",{allowIn:"imageBlock"}):Ur.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),Fr.commands.add("toggleImageCaption",new jx(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const Fr=this.editor,Ur=Fr.editing.view,Yr=Fr.plugins.get("ImageUtils"),Qr=Fr.plugins.get("ImageCaptionUtils"),tn=Fr.t;Fr.conversion.for("upcast").elementToElement({view:sn=>Qr.matchImageCaptionViewElement(sn),model:"caption"}),Fr.conversion.for("dataDowncast").elementToElement({model:"caption",view:(sn,{writer:un})=>Yr.isBlockImage(sn.parent)?un.createContainerElement("figcaption"):null}),Fr.conversion.for("editingDowncast").elementToElement({model:"caption",view:(sn,{writer:un})=>{if(!Yr.isBlockImage(sn.parent))return null;const gn=un.createEditableElement("figcaption");un.setCustomProperty("imageCaption",!0,gn),id({view:Ur,element:gn,text:tn("Enter image caption"),keepOnFocus:!0});const kn=sn.parent.getAttribute("alt");return xb(gn,un,{label:kn?tn("Caption for image: %0",[kn]):tn("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const Fr=this.editor,Ur=Fr.plugins.get("ImageUtils"),Yr=Fr.plugins.get("ImageCaptionUtils"),Qr=Fr.commands.get("imageTypeInline"),tn=Fr.commands.get("imageTypeBlock"),sn=un=>{if(!un.return)return;const{oldElement:gn,newElement:kn}=un.return;if(!gn)return;if(Ur.isBlockImage(gn)){const Dn=Yr.getCaptionFromImageModelElement(gn);if(Dn)return void this._saveCaption(kn,Dn)}const Cn=this._getSavedCaption(gn);Cn&&this._saveCaption(kn,Cn)};Qr&&this.listenTo(Qr,"execute",sn,{priority:"low"}),tn&&this.listenTo(tn,"execute",sn,{priority:"low"})}_getSavedCaption(Fr){const Ur=this._savedCaptionsMap.get(Fr);return Ur?Rs.fromJSON(Ur):null}_saveCaption(Fr,Ur){this._savedCaptionsMap.set(Fr,Ur.toJSON())}_registerCaptionReconversion(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.plugins.get("ImageUtils"),Qr=Fr.plugins.get("ImageCaptionUtils");Ur.document.on("change:data",()=>{const tn=Ur.document.differ.getChanges();for(const sn of tn){if(sn.attributeKey!=="alt")continue;const un=sn.range.start.nodeAfter;if(Yr.isBlockImage(un)){const gn=Qr.getCaptionFromImageModelElement(un);if(!gn)return;Fr.editing.reconvertItem(gn)}}})}}class Gx extends go{static get requires(){return[M0]}static get pluginName(){return"ImageCaptionUI"}init(){const Fr=this.editor,Ur=Fr.editing.view,Yr=Fr.plugins.get("ImageCaptionUtils"),Qr=Fr.t;Fr.ui.componentFactory.add("toggleImageCaption",tn=>{const sn=Fr.commands.get("toggleImageCaption"),un=new cs(tn);return un.set({icon:Ml.caption,tooltip:!0,isToggleable:!0}),un.bind("isOn","isEnabled").to(sn,"value","isEnabled"),un.bind("label").to(sn,"value",gn=>Qr(gn?"Toggle caption off":"Toggle caption on")),this.listenTo(un,"execute",()=>{Fr.execute("toggleImageCaption",{focusCaptionOnShow:!0});const gn=Yr.getCaptionFromModelSelection(Fr.model.document.selection);if(gn){const kn=Fr.editing.mapper.toViewElement(gn);Ur.scrollToTheSelection(),Ur.change(Cn=>{Cn.addClass("image__caption_highlighted",kn)})}Fr.editing.view.focus()}),un})}}var I0=$r(2640),Wx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(I0.Z,Wx),I0.Z.locals;function L0(Xr){const Fr=Xr.map(Ur=>Ur.replace("+","\\+"));return new RegExp(`^image\\/(${Fr.join("|")})$`)}function Yx(Xr){return new Promise((Fr,Ur)=>{const Yr=Xr.getAttribute("src");fetch(Yr).then(Qr=>Qr.blob()).then(Qr=>{const tn=P0(Qr,Yr),sn=tn.replace("image/",""),un=new File([Qr],`image.${sn}`,{type:tn});Fr(un)}).catch(Qr=>Qr&&Qr.name==="TypeError"?function(tn){return function(sn){return new Promise((un,gn)=>{const kn=wa.document.createElement("img");kn.addEventListener("load",()=>{const Cn=wa.document.createElement("canvas");Cn.width=kn.width,Cn.height=kn.height,Cn.getContext("2d").drawImage(kn,0,0),Cn.toBlob(Dn=>Dn?un(Dn):gn())}),kn.addEventListener("error",()=>gn()),kn.src=sn})}(tn).then(sn=>{const un=P0(sn,tn),gn=un.replace("image/","");return new File([sn],`image.${gn}`,{type:un})})}(Yr).then(Fr).catch(Ur):Ur(Qr))})}function P0(Xr,Fr){return Xr.type?Xr.type:Fr.match(/data:(image\/\w+);base64/)?Fr.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class qx extends go{static get pluginName(){return"ImageUploadUI"}init(){const Fr=this.editor,Ur=Fr.t,Yr=Qr=>{const tn=new HC(Qr),sn=Fr.commands.get("uploadImage"),un=Fr.config.get("image.upload.types"),gn=L0(un);return tn.set({acceptedType:un.map(kn=>`image/${kn}`).join(","),allowMultipleFiles:!0}),tn.buttonView.set({label:Ur("Insert image"),icon:Ml.image,tooltip:!0}),tn.buttonView.bind("isEnabled").to(sn),tn.on("done",(kn,Cn)=>{const Dn=Array.from(Cn).filter(Ln=>gn.test(Ln.type));Dn.length&&(Fr.execute("uploadImage",{file:Dn}),Fr.editing.view.focus())}),tn};Fr.ui.componentFactory.add("uploadImage",Yr),Fr.ui.componentFactory.add("imageUpload",Yr)}}var O0=$r(3689),Kx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(O0.Z,Kx),O0.Z.locals;var R0=$r(4036),Zx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(R0.Z,Zx),R0.Z.locals;var $0=$r(3773),Xx={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()($0.Z,Xx),$0.Z.locals;class Qx extends go{constructor(Fr){super(Fr),this.uploadStatusChange=(Ur,Yr,Qr)=>{const tn=this.editor,sn=Yr.item,un=sn.getAttribute("uploadId");if(!Qr.consumable.consume(Yr.item,Ur.name))return;const gn=tn.plugins.get("ImageUtils"),kn=tn.plugins.get(Du),Cn=un?Yr.attributeNewValue:null,Dn=this.placeholder,Ln=tn.editing.mapper.toViewElement(sn),zn=Qr.writer;if(Cn=="reading")return N0(Ln,zn),void B0(gn,Dn,Ln,zn);if(Cn=="uploading"){const Wn=kn.loaders.get(un);return N0(Ln,zn),void(Wn?(F0(Ln,zn),function(Xn,ii,ui,Ti){const Xi=function($o){const ya=$o.createUIElement("div",{class:"ck-progress-bar"});return $o.setCustomProperty("progressBar",!0,ya),ya}(ii);ii.insert(ii.createPositionAt(Xn,"end"),Xi),ui.on("change:uploadedPercent",($o,ya,Ns)=>{Ti.change(ss=>{ss.setStyle("width",Ns+"%",Xi)})})}(Ln,zn,Wn,tn.editing.view),function(Xn,ii,ui,Ti){if(Ti.data){const Xi=Xn.findViewImgElement(ii);ui.setAttribute("src",Ti.data,Xi)}}(gn,Ln,zn,Wn)):B0(gn,Dn,Ln,zn))}Cn=="complete"&&kn.loaders.get(un)&&function(Wn,Xn,ii){const ui=Xn.createUIElement("div",{class:"ck-image-upload-complete-icon"});Xn.insert(Xn.createPositionAt(Wn,"end"),ui),setTimeout(()=>{ii.change(Ti=>Ti.remove(Ti.createRangeOn(ui)))},3e3)}(Ln,zn,tn.editing.view),function(Wn,Xn){H0(Wn,Xn,"progressBar")}(Ln,zn),F0(Ln,zn),function(Wn,Xn){Xn.removeClass("ck-appear",Wn)}(Ln,zn)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const Fr=this.editor;Fr.plugins.has("ImageBlockEditing")&&Fr.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),Fr.plugins.has("ImageInlineEditing")&&Fr.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function N0(Xr,Fr){Xr.hasClass("ck-appear")||Fr.addClass("ck-appear",Xr)}function B0(Xr,Fr,Ur,Yr){Ur.hasClass("ck-image-upload-placeholder")||Yr.addClass("ck-image-upload-placeholder",Ur);const Qr=Xr.findViewImgElement(Ur);Qr.getAttribute("src")!==Fr&&Yr.setAttribute("src",Fr,Qr),z0(Ur,"placeholder")||Yr.insert(Yr.createPositionAfter(Qr),function(tn){const sn=tn.createUIElement("div",{class:"ck-upload-placeholder-loader"});return tn.setCustomProperty("placeholder",!0,sn),sn}(Yr))}function F0(Xr,Fr){Xr.hasClass("ck-image-upload-placeholder")&&Fr.removeClass("ck-image-upload-placeholder",Xr),H0(Xr,Fr,"placeholder")}function z0(Xr,Fr){for(const Ur of Xr.getChildren())if(Ur.getCustomProperty(Fr))return Ur}function H0(Xr,Fr,Ur){const Yr=z0(Xr,Ur);Yr&&Fr.remove(Fr.createRangeOn(Yr))}var Jx=Object.defineProperty,eS=Object.defineProperties,tS=Object.getOwnPropertyDescriptors,V0=Object.getOwnPropertySymbols,rS=Object.prototype.hasOwnProperty,nS=Object.prototype.propertyIsEnumerable,j0=(Xr,Fr,Ur)=>Fr in Xr?Jx(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur;class iS extends ja{refresh(){const Fr=this.editor,Ur=Fr.plugins.get("ImageUtils"),Yr=Fr.model.document.selection.getSelectedElement();this.isEnabled=Ur.isImageAllowed()||Ur.isImage(Yr)}execute(Fr){const Ur=$l(Fr.file),Yr=this.editor.model.document.selection,Qr=this.editor.plugins.get("ImageUtils"),tn=Object.fromEntries(Yr.getAttributes());Ur.forEach((sn,un)=>{const gn=Yr.getSelectedElement();if(un&&gn&&Qr.isImage(gn)){const kn=this.editor.model.createPositionAfter(gn);this._uploadImage(sn,tn,kn)}else this._uploadImage(sn,tn)})}_uploadImage(Fr,Ur,Yr){const Qr=this.editor,tn=Qr.plugins.get(Du).createLoader(Fr),sn=Qr.plugins.get("ImageUtils");var un,gn;tn&&sn.insertImage((un=((kn,Cn)=>{for(var Dn in Cn||(Cn={}))rS.call(Cn,Dn)&&j0(kn,Dn,Cn[Dn]);if(V0)for(var Dn of V0(Cn))nS.call(Cn,Dn)&&j0(kn,Dn,Cn[Dn]);return kn})({},Ur),gn={uploadId:tn.id},eS(un,tS(gn))),Yr)}}class oS extends go{constructor(Fr){super(Fr),Fr.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Du,nm,Wu,Eu]}static get pluginName(){return"ImageUploadEditing"}init(){const Fr=this.editor,Ur=Fr.model.document,Yr=Fr.conversion,Qr=Fr.plugins.get(Du),tn=Fr.plugins.get("ImageUtils"),sn=Fr.plugins.get("ClipboardPipeline"),un=L0(Fr.config.get("image.upload.types")),gn=new iS(Fr);Fr.commands.add("uploadImage",gn),Fr.commands.add("imageUpload",gn),Yr.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(Fr.editing.view.document,"clipboardInput",(kn,Cn)=>{if(Dn=Cn.dataTransfer,Array.from(Dn.types).includes("text/html")&&Dn.getData("text/html")!=="")return;var Dn;const Ln=Array.from(Cn.dataTransfer.files).filter(zn=>!!zn&&un.test(zn.type));Ln.length&&(kn.stop(),Fr.model.change(zn=>{Cn.targetRanges&&zn.setSelection(Cn.targetRanges.map(Wn=>Fr.editing.mapper.toModelRange(Wn))),Fr.model.enqueueChange(()=>{Fr.execute("uploadImage",{file:Ln})})}))}),this.listenTo(sn,"inputTransformation",(kn,Cn)=>{const Dn=Array.from(Fr.editing.view.createRangeIn(Cn.content)).map(zn=>zn.item).filter(zn=>function(Wn,Xn){return!(!Wn.isInlineImageView(Xn)||!Xn.getAttribute("src")||!Xn.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!Xn.getAttribute("src").match(/^blob:/g))}(tn,zn)&&!zn.getAttribute("uploadProcessed")).map(zn=>({promise:Yx(zn),imageElement:zn}));if(!Dn.length)return;const Ln=new uh(Fr.editing.view.document);for(const zn of Dn){Ln.setAttribute("uploadProcessed",!0,zn.imageElement);const Wn=Qr.createLoader(zn.promise);Wn&&(Ln.setAttribute("src","",zn.imageElement),Ln.setAttribute("uploadId",Wn.id,zn.imageElement))}}),Fr.editing.view.document.on("dragover",(kn,Cn)=>{Cn.preventDefault()}),Ur.on("change",()=>{const kn=Ur.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),Cn=new Set;for(const Dn of kn)if(Dn.type=="insert"&&Dn.name!="$text"){const Ln=Dn.position.nodeAfter,zn=Dn.position.root.rootName=="$graveyard";for(const Wn of aS(Fr,Ln)){const Xn=Wn.getAttribute("uploadId");if(!Xn)continue;const ii=Qr.loaders.get(Xn);ii&&(zn?Cn.has(Xn)||ii.abort():(Cn.add(Xn),this._uploadImageElements.set(Xn,Wn),ii.status=="idle"&&this._readAndUpload(ii)))}}}),this.on("uploadComplete",(kn,{imageElement:Cn,data:Dn})=>{const Ln=Dn.urls?Dn.urls:Dn;this.editor.model.change(zn=>{zn.setAttribute("src",Ln.default,Cn),this._parseAndSetSrcsetAttributeOnImage(Ln,Cn,zn)})},{priority:"low"})}afterInit(){const Fr=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&Fr.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&Fr.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(Fr){const Ur=this.editor,Yr=Ur.model,Qr=Ur.locale.t,tn=Ur.plugins.get(Du),sn=Ur.plugins.get(nm),un=Ur.plugins.get("ImageUtils"),gn=this._uploadImageElements;return Yr.enqueueChange({isUndoable:!1},Cn=>{Cn.setAttribute("uploadStatus","reading",gn.get(Fr.id))}),Fr.read().then(()=>{const Cn=Fr.upload(),Dn=gn.get(Fr.id);if(Kr.isSafari){const Ln=Ur.editing.mapper.toViewElement(Dn),zn=un.findViewImgElement(Ln);Ur.editing.view.once("render",()=>{if(!zn.parent)return;const Wn=Ur.editing.view.domConverter.mapViewToDom(zn.parent);if(!Wn)return;const Xn=Wn.style.display;Wn.style.display="none",Wn._ckHack=Wn.offsetHeight,Wn.style.display=Xn})}return Yr.enqueueChange({isUndoable:!1},Ln=>{Ln.setAttribute("uploadStatus","uploading",Dn)}),Cn}).then(Cn=>{Yr.enqueueChange({isUndoable:!1},Dn=>{const Ln=gn.get(Fr.id);Dn.setAttribute("uploadStatus","complete",Ln),this.fire("uploadComplete",{data:Cn,imageElement:Ln})}),kn()}).catch(Cn=>{if(Fr.status!=="error"&&Fr.status!=="aborted")throw Cn;Fr.status=="error"&&Cn&&sn.showWarning(Cn,{title:Qr("Upload failed"),namespace:"upload"}),Yr.enqueueChange({isUndoable:!1},Dn=>{Dn.remove(gn.get(Fr.id))}),kn()});function kn(){Yr.enqueueChange({isUndoable:!1},Cn=>{const Dn=gn.get(Fr.id);Cn.removeAttribute("uploadId",Dn),Cn.removeAttribute("uploadStatus",Dn),gn.delete(Fr.id)}),tn.destroyLoader(Fr)}}_parseAndSetSrcsetAttributeOnImage(Fr,Ur,Yr){let Qr=0;const tn=Object.keys(Fr).filter(sn=>{const un=parseInt(sn,10);if(!isNaN(un))return Qr=Math.max(Qr,un),!0}).map(sn=>`${Fr[sn]} ${sn}w`).join(", ");tn!=""&&Yr.setAttribute("srcset",{data:tn,width:Qr},Ur)}}function aS(Xr,Fr){const Ur=Xr.plugins.get("ImageUtils");return Array.from(Xr.model.createRangeOn(Fr)).filter(Yr=>Ur.isImage(Yr.item)).map(Yr=>Yr.item)}var U0=$r(1568),sS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(U0.Z,sS),U0.Z.locals;var G0=$r(3535),lS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(G0.Z,lS),G0.Z.locals;var W0=$r(6270),cS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(W0.Z,cS),W0.Z.locals;class uS extends ja{constructor(Fr,Ur){super(Fr),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(Ur.map(Yr=>{if(Yr.isDefault)for(const Qr of Yr.modelElements)this._defaultStyles[Qr]=Yr.name;return[Yr.name,Yr]}))}refresh(){const Fr=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!Fr,this.isEnabled?Fr.hasAttribute("imageStyle")?this.value=Fr.getAttribute("imageStyle"):this.value=this._defaultStyles[Fr.name]:this.value=!1}execute(Fr={}){const Ur=this.editor,Yr=Ur.model,Qr=Ur.plugins.get("ImageUtils");Yr.change(tn=>{const sn=Fr.value;let un=Qr.getClosestSelectedImageElement(Yr.document.selection);sn&&this.shouldConvertImageType(sn,un)&&(this.editor.execute(Qr.isBlockImage(un)?"imageTypeInline":"imageTypeBlock"),un=Qr.getClosestSelectedImageElement(Yr.document.selection)),!sn||this._styles.get(sn).isDefault?tn.removeAttribute("imageStyle",un):tn.setAttribute("imageStyle",sn,un)})}shouldConvertImageType(Fr,Ur){return!this._styles.get(Fr).modelElements.includes(Ur.name)}}var dS=Object.defineProperty,Y0=Object.getOwnPropertySymbols,hS=Object.prototype.hasOwnProperty,fS=Object.prototype.propertyIsEnumerable,q0=(Xr,Fr,Ur)=>Fr in Xr?dS(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur,K0=(Xr,Fr)=>{for(var Ur in Fr||(Fr={}))hS.call(Fr,Ur)&&q0(Xr,Ur,Fr[Ur]);if(Y0)for(var Ur of Y0(Fr))fS.call(Fr,Ur)&&q0(Xr,Ur,Fr[Ur]);return Xr};const{objectFullWidth:pS,objectInline:Z0,objectLeft:X0,objectRight:vm,objectCenter:ym,objectBlockLeft:Q0,objectBlockRight:J0}=Ml,tg={get inline(){return{name:"inline",title:"In line",icon:Z0,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:X0,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Q0,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:ym,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:vm,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:J0,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:ym,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:vm,modelElements:["imageBlock"],className:"image-style-side"}}},e_={full:pS,left:Q0,right:J0,center:ym,inlineLeft:X0,inlineRight:vm,inline:Z0},t_=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function r_(Xr){xn("image-style-configuration-definition-invalid",Xr)}const bm={normalizeStyles:function(Xr){return(Xr.configuredStyles.options||[]).map(Fr=>function(Ur){return Ur=typeof Ur=="string"?tg[Ur]?K0({},tg[Ur]):{name:Ur}:function(Yr,Qr){const tn=K0({},Qr);for(const sn in Yr)Object.prototype.hasOwnProperty.call(Qr,sn)||(tn[sn]=Yr[sn]);return tn}(tg[Ur.name],Ur),typeof Ur.icon=="string"&&(Ur.icon=e_[Ur.icon]||Ur.icon),Ur}(Fr)).filter(Fr=>function(Ur,{isBlockPluginLoaded:Yr,isInlinePluginLoaded:Qr}){const{modelElements:tn,name:sn}=Ur;if(!(tn&&tn.length&&sn))return r_({style:Ur}),!1;{const un=[Yr?"imageBlock":null,Qr?"imageInline":null];if(!tn.some(gn=>un.includes(gn)))return xn("image-style-missing-dependency",{style:Ur,missingPlugins:tn.map(gn=>gn==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(Fr,Xr))},getDefaultStylesConfiguration:function(Xr,Fr){return Xr&&Fr?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:Xr?{options:["block","side"]}:Fr?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(Xr){return Xr.has("ImageBlockEditing")&&Xr.has("ImageInlineEditing")?[...t_]:[]},warnInvalidStyle:r_,DEFAULT_OPTIONS:tg,DEFAULT_ICONS:e_,DEFAULT_DROPDOWN_DEFINITIONS:t_};function n_(Xr,Fr){for(const Ur of Fr)if(Ur.name===Xr)return Ur}class i_ extends go{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Eu]}init(){const{normalizeStyles:Fr,getDefaultStylesConfiguration:Ur}=bm,Yr=this.editor,Qr=Yr.plugins.has("ImageBlockEditing"),tn=Yr.plugins.has("ImageInlineEditing");Yr.config.define("image.styles",Ur(Qr,tn)),this.normalizedStyles=Fr({configuredStyles:Yr.config.get("image.styles"),isBlockPluginLoaded:Qr,isInlinePluginLoaded:tn}),this._setupConversion(Qr,tn),this._setupPostFixer(),Yr.commands.add("imageStyle",new uS(Yr,this.normalizedStyles))}_setupConversion(Fr,Ur){const Yr=this.editor,Qr=Yr.model.schema,tn=(sn=this.normalizedStyles,(gn,kn,Cn)=>{if(!Cn.consumable.consume(kn.item,gn.name))return;const Dn=n_(kn.attributeNewValue,sn),Ln=n_(kn.attributeOldValue,sn),zn=Cn.mapper.toViewElement(kn.item),Wn=Cn.writer;Ln&&Wn.removeClass(Ln.className,zn),Dn&&Wn.addClass(Dn.className,zn)});var sn;const un=function(gn){const kn={imageInline:gn.filter(Cn=>!Cn.isDefault&&Cn.modelElements.includes("imageInline")),imageBlock:gn.filter(Cn=>!Cn.isDefault&&Cn.modelElements.includes("imageBlock"))};return(Cn,Dn,Ln)=>{if(!Dn.modelRange)return;const zn=Dn.viewItem,Wn=wl(Dn.modelRange.getItems());if(Wn&&Ln.schema.checkAttribute(Wn,"imageStyle"))for(const Xn of kn[Wn.name])Ln.consumable.consume(zn,{classes:Xn.className})&&Ln.writer.setAttribute("imageStyle",Xn.name,Wn)}}(this.normalizedStyles);Yr.editing.downcastDispatcher.on("attribute:imageStyle",tn),Yr.data.downcastDispatcher.on("attribute:imageStyle",tn),Fr&&(Qr.extend("imageBlock",{allowAttributes:"imageStyle"}),Yr.data.upcastDispatcher.on("element:figure",un,{priority:"low"})),Ur&&(Qr.extend("imageInline",{allowAttributes:"imageStyle"}),Yr.data.upcastDispatcher.on("element:img",un,{priority:"low"}))}_setupPostFixer(){const Fr=this.editor,Ur=Fr.model.document,Yr=Fr.plugins.get(Eu),Qr=new Map(this.normalizedStyles.map(tn=>[tn.name,tn]));Ur.registerPostFixer(tn=>{let sn=!1;for(const un of Ur.differ.getChanges())if(un.type=="insert"||un.type=="attribute"&&un.attributeKey=="imageStyle"){let gn=un.type=="insert"?un.position.nodeAfter:un.range.start.nodeAfter;if(gn&&gn.is("element","paragraph")&&gn.childCount>0&&(gn=gn.getChild(0)),!Yr.isImage(gn))continue;const kn=gn.getAttribute("imageStyle");if(!kn)continue;const Cn=Qr.get(kn);Cn&&Cn.modelElements.includes(gn.name)||(tn.removeAttribute("imageStyle",gn),sn=!0)}return sn})}}var o_=$r(5083),gS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(o_.Z,gS),o_.Z.locals;class mS extends go{static get requires(){return[i_]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const Fr=this.editor.t;return{"Wrap text":Fr("Wrap text"),"Break text":Fr("Break text"),"In line":Fr("In line"),"Full size image":Fr("Full size image"),"Side image":Fr("Side image"),"Left aligned image":Fr("Left aligned image"),"Centered image":Fr("Centered image"),"Right aligned image":Fr("Right aligned image")}}init(){const Fr=this.editor.plugins,Ur=this.editor.config.get("image.toolbar")||[],Yr=a_(Fr.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const tn of Yr)this._createButton(tn);const Qr=a_([...Ur.filter(zi),...bm.getDefaultDropdownDefinitions(Fr)],this.localizedDefaultStylesTitles);for(const tn of Qr)this._createDropdown(tn,Yr)}_createDropdown(Fr,Ur){const Yr=this.editor.ui.componentFactory;Yr.add(Fr.name,Qr=>{let tn;const{defaultItem:sn,items:un,title:gn}=Fr,kn=un.filter(zn=>Ur.find(({name:Wn})=>s_(Wn)===zn)).map(zn=>{const Wn=Yr.create(zn);return zn===sn&&(tn=Wn),Wn});un.length!==kn.length&&bm.warnInvalidStyle({dropdown:Fr});const Cn=Ld(Qr,jg),Dn=Cn.buttonView,Ln=Dn.arrowView;return Ug(Cn,kn,{enableActiveItemFocusOnDropdownOpen:!0}),Dn.set({label:l_(gn,tn.label),class:null,tooltip:!0}),Ln.unbind("label"),Ln.set({label:gn}),Dn.bind("icon").toMany(kn,"isOn",(...zn)=>{const Wn=zn.findIndex(wu);return Wn<0?tn.icon:kn[Wn].icon}),Dn.bind("label").toMany(kn,"isOn",(...zn)=>{const Wn=zn.findIndex(wu);return l_(gn,Wn<0?tn.label:kn[Wn].label)}),Dn.bind("isOn").toMany(kn,"isOn",(...zn)=>zn.some(wu)),Dn.bind("class").toMany(kn,"isOn",(...zn)=>zn.some(wu)?"ck-splitbutton_flatten":void 0),Dn.on("execute",()=>{kn.some(({isOn:zn})=>zn)?Cn.isOpen=!Cn.isOpen:tn.fire("execute")}),Cn.bind("isEnabled").toMany(kn,"isEnabled",(...zn)=>zn.some(wu)),this.listenTo(Cn,"execute",()=>{this.editor.editing.view.focus()}),Cn})}_createButton(Fr){const Ur=Fr.name;this.editor.ui.componentFactory.add(s_(Ur),Yr=>{const Qr=this.editor.commands.get("imageStyle"),tn=new cs(Yr);return tn.set({label:Fr.title,icon:Fr.icon,tooltip:!0,isToggleable:!0}),tn.bind("isEnabled").to(Qr,"isEnabled"),tn.bind("isOn").to(Qr,"value",sn=>sn===Ur),tn.on("execute",this._executeCommand.bind(this,Ur)),tn})}_executeCommand(Fr){this.editor.execute("imageStyle",{value:Fr}),this.editor.editing.view.focus()}}function a_(Xr,Fr){for(const Ur of Xr)Fr[Ur.title]&&(Ur.title=Fr[Ur.title]);return Xr}function s_(Xr){return`imageStyle:${Xr}`}function l_(Xr,Fr){return(Xr?Xr+": ":"")+Fr}class vS extends go{static get pluginName(){return"IndentEditing"}init(){const Fr=this.editor;Fr.commands.add("indent",new bf(Fr)),Fr.commands.add("outdent",new bf(Fr))}}const c_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',u_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class yS extends go{static get pluginName(){return"IndentUI"}init(){const Fr=this.editor,Ur=Fr.locale,Yr=Fr.t,Qr=Ur.uiLanguageDirection=="ltr"?c_:u_,tn=Ur.uiLanguageDirection=="ltr"?u_:c_;this._defineButton("indent",Yr("Increase indent"),Qr),this._defineButton("outdent",Yr("Decrease indent"),tn)}_defineButton(Fr,Ur,Yr){const Qr=this.editor;Qr.ui.componentFactory.add(Fr,tn=>{const sn=Qr.commands.get(Fr),un=new cs(tn);return un.set({label:Ur,icon:Yr,tooltip:!0}),un.bind("isEnabled").to(sn,"isEnabled"),this.listenTo(un,"execute",()=>{Qr.execute(Fr),Qr.editing.view.focus()}),un})}}class bS{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(Fr){Array.isArray(Fr)?Fr.forEach(Ur=>this._definitions.add(Ur)):this._definitions.add(Fr)}getDispatcher(){return Fr=>{Fr.on("attribute:linkHref",(Ur,Yr,Qr)=>{if(!Qr.consumable.test(Yr.item,"attribute:linkHref")||!Yr.item.is("selection")&&!Qr.schema.isInline(Yr.item))return;const tn=Qr.writer,sn=tn.document.selection;for(const un of this._definitions){const gn=tn.createAttributeElement("a",un.attributes,{priority:5});un.classes&&tn.addClass(un.classes,gn);for(const kn in un.styles)tn.setStyle(kn,un.styles[kn],gn);tn.setCustomProperty("link",!0,gn),un.callback(Yr.attributeNewValue)?Yr.item.is("selection")?tn.wrap(sn.getFirstRange(),gn):tn.wrap(Qr.mapper.toViewRange(Yr.range),gn):tn.unwrap(Qr.mapper.toViewRange(Yr.range),gn)}},{priority:"high"})}}getDispatcherForLinkedImage(){return Fr=>{Fr.on("attribute:linkHref:imageBlock",(Ur,Yr,{writer:Qr,mapper:tn})=>{const sn=tn.toViewElement(Yr.item),un=Array.from(sn.getChildren()).find(gn=>gn.is("element","a"));for(const gn of this._definitions){const kn=tl(gn.attributes);if(gn.callback(Yr.attributeNewValue)){for(const[Cn,Dn]of kn)Cn==="class"?Qr.addClass(Dn,un):Qr.setAttribute(Cn,Dn,un);gn.classes&&Qr.addClass(gn.classes,un);for(const Cn in gn.styles)Qr.setStyle(Cn,gn.styles[Cn],un)}else{for(const[Cn,Dn]of kn)Cn==="class"?Qr.removeClass(Dn,un):Qr.removeAttribute(Cn,un);gn.classes&&Qr.removeClass(gn.classes,un);for(const Cn in gn.styles)Qr.removeStyle(Cn,un)}}})}}}const _S=function(Xr,Fr,Ur){var Yr=Xr.length;return Ur=Ur===void 0?Yr:Ur,!Fr&&Ur>=Yr?Xr:kd(Xr,Fr,Ur)};var wS=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const d_=function(Xr){return wS.test(Xr)},kS=function(Xr){return Xr.split("")};var h_="\\ud800-\\udfff",AS="["+h_+"]",_m="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",wm="\\ud83c[\\udffb-\\udfff]",f_="[^"+h_+"]",p_="(?:\\ud83c[\\udde6-\\uddff]){2}",g_="[\\ud800-\\udbff][\\udc00-\\udfff]",m_="(?:"+_m+"|"+wm+")?",v_="[\\ufe0e\\ufe0f]?",CS=v_+m_+("(?:\\u200d(?:"+[f_,p_,g_].join("|")+")"+v_+m_+")*"),xS="(?:"+[f_+_m+"?",_m,p_,g_,AS].join("|")+")",SS=RegExp(wm+"(?="+wm+")|"+xS+CS,"g");const DS=function(Xr){return Xr.match(SS)||[]},ES=function(Xr){return d_(Xr)?DS(Xr):kS(Xr)},TS=function(Xr){return function(Fr){Fr=Sf(Fr);var Ur=d_(Fr)?ES(Fr):void 0,Yr=Ur?Ur[0]:Fr.charAt(0),Qr=Ur?_S(Ur,1).join(""):Fr.slice(1);return Yr[Xr]()+Qr}}("toUpperCase"),MS=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,IS=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,LS=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,PS=/^((\w+:(\/{2,})?)|(\W))/i,km="Ctrl+K";function y_(Xr,{writer:Fr}){const Ur=Fr.createAttributeElement("a",{href:Xr},{priority:5});return Fr.setCustomProperty("link",!0,Ur),Ur}function b_(Xr){const Fr=String(Xr);return function(Ur){return!!Ur.replace(MS,"").match(IS)}(Fr)?Fr:"#"}function Am(Xr,Fr){return!!Xr&&Fr.checkAttribute(Xr.name,"linkHref")}function Cm(Xr,Fr){const Ur=(Yr=Xr,LS.test(Yr)?"mailto:":Fr);var Yr;const Qr=!!Ur&&!__(Xr);return Xr&&Qr?Ur+Xr:Xr}function __(Xr){return PS.test(Xr)}function w_(Xr){window.open(Xr,"_blank","noopener")}class OS extends ja{constructor(){super(...arguments),this.manualDecorators=new $c,this.automaticDecorators=new bS}restoreManualDecoratorStates(){for(const Fr of this.manualDecorators)Fr.value=this._getDecoratorStateFromModel(Fr.id)}refresh(){const Fr=this.editor.model,Ur=Fr.document.selection,Yr=Ur.getSelectedElement()||wl(Ur.getSelectedBlocks());Am(Yr,Fr.schema)?(this.value=Yr.getAttribute("linkHref"),this.isEnabled=Fr.schema.checkAttribute(Yr,"linkHref")):(this.value=Ur.getAttribute("linkHref"),this.isEnabled=Fr.schema.checkAttributeInSelection(Ur,"linkHref"));for(const Qr of this.manualDecorators)Qr.value=this._getDecoratorStateFromModel(Qr.id)}execute(Fr,Ur={}){const Yr=this.editor.model,Qr=Yr.document.selection,tn=[],sn=[];for(const un in Ur)Ur[un]?tn.push(un):sn.push(un);Yr.change(un=>{if(Qr.isCollapsed){const gn=Qr.getFirstPosition();if(Qr.hasAttribute("linkHref")){const kn=k_(Qr);let Cn=Uh(gn,"linkHref",Qr.getAttribute("linkHref"),Yr);Qr.getAttribute("linkHref")===kn&&(Cn=this._updateLinkContent(Yr,un,Cn,Fr)),un.setAttribute("linkHref",Fr,Cn),tn.forEach(Dn=>{un.setAttribute(Dn,!0,Cn)}),sn.forEach(Dn=>{un.removeAttribute(Dn,Cn)}),un.setSelection(un.createPositionAfter(Cn.end.nodeBefore))}else if(Fr!==""){const kn=tl(Qr.getAttributes());kn.set("linkHref",Fr),tn.forEach(Dn=>{kn.set(Dn,!0)});const{end:Cn}=Yr.insertContent(un.createText(Fr,kn),gn);un.setSelection(Cn)}["linkHref",...tn,...sn].forEach(kn=>{un.removeSelectionAttribute(kn)})}else{const gn=Yr.schema.getValidRanges(Qr.getRanges(),"linkHref"),kn=[];for(const Dn of Qr.getSelectedBlocks())Yr.schema.checkAttribute(Dn,"linkHref")&&kn.push(un.createRangeOn(Dn));const Cn=kn.slice();for(const Dn of gn)this._isRangeToUpdate(Dn,kn)&&Cn.push(Dn);for(const Dn of Cn){let Ln=Dn;if(Cn.length===1){const zn=k_(Qr);Qr.getAttribute("linkHref")===zn&&(Ln=this._updateLinkContent(Yr,un,Dn,Fr),un.setSelection(un.createSelection(Ln)))}un.setAttribute("linkHref",Fr,Ln),tn.forEach(zn=>{un.setAttribute(zn,!0,Ln)}),sn.forEach(zn=>{un.removeAttribute(zn,Ln)})}}})}_getDecoratorStateFromModel(Fr){const Ur=this.editor.model,Yr=Ur.document.selection,Qr=Yr.getSelectedElement();return Am(Qr,Ur.schema)?Qr.getAttribute(Fr):Yr.getAttribute(Fr)}_isRangeToUpdate(Fr,Ur){for(const Yr of Ur)if(Yr.containsRange(Fr))return!1;return!0}_updateLinkContent(Fr,Ur,Yr,Qr){const tn=Ur.createText(Qr,{linkHref:Qr});return Fr.insertContent(tn,Yr)}}function k_(Xr){if(Xr.isCollapsed){const Fr=Xr.getFirstPosition();return Fr.textNode&&Fr.textNode.data}{const Fr=Array.from(Xr.getFirstRange().getItems());if(Fr.length>1)return null;const Ur=Fr[0];return Ur.is("$text")||Ur.is("$textProxy")?Ur.data:null}}class RS extends ja{refresh(){const Fr=this.editor.model,Ur=Fr.document.selection,Yr=Ur.getSelectedElement();Am(Yr,Fr.schema)?this.isEnabled=Fr.schema.checkAttribute(Yr,"linkHref"):this.isEnabled=Fr.schema.checkAttributeInSelection(Ur,"linkHref")}execute(){const Fr=this.editor,Ur=this.editor.model,Yr=Ur.document.selection,Qr=Fr.commands.get("link");Ur.change(tn=>{const sn=Yr.isCollapsed?[Uh(Yr.getFirstPosition(),"linkHref",Yr.getAttribute("linkHref"),Ur)]:Ur.schema.getValidRanges(Yr.getRanges(),"linkHref");for(const un of sn)if(tn.removeAttribute("linkHref",un),Qr)for(const gn of Qr.manualDecorators)tn.removeAttribute(gn.id,un)})}}class $S extends Zi(){constructor({id:Fr,label:Ur,attributes:Yr,classes:Qr,styles:tn,defaultValue:sn}){super(),this.id=Fr,this.set("value",void 0),this.defaultValue=sn,this.label=Ur,this.attributes=Yr,this.classes=Qr,this.styles=tn}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var A_=$r(9773),NS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(A_.Z,NS),A_.Z.locals;var BS=Object.defineProperty,C_=Object.getOwnPropertySymbols,FS=Object.prototype.hasOwnProperty,zS=Object.prototype.propertyIsEnumerable,x_=(Xr,Fr,Ur)=>Fr in Xr?BS(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur,HS=(Xr,Fr)=>{for(var Ur in Fr||(Fr={}))FS.call(Fr,Ur)&&x_(Xr,Ur,Fr[Ur]);if(C_)for(var Ur of C_(Fr))zS.call(Fr,Ur)&&x_(Xr,Ur,Fr[Ur]);return Xr};const S_="automatic",VS=/^(https?:)?\/\//;class jS extends go{static get pluginName(){return"LinkEditing"}static get requires(){return[fb,ob,Wu]}constructor(Fr){super(Fr),Fr.config.define("link",{addTargetToExternalLinks:!1})}init(){const Fr=this.editor;Fr.model.schema.extend("$text",{allowAttributes:"linkHref"}),Fr.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:y_}),Fr.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(Yr,Qr)=>y_(b_(Yr),Qr)}),Fr.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:Yr=>Yr.getAttribute("href")}}),Fr.commands.add("link",new OS(Fr)),Fr.commands.add("unlink",new RS(Fr));const Ur=function(Yr,Qr){const tn={"Open in a new tab":Yr("Open in a new tab"),Downloadable:Yr("Downloadable")};return Qr.forEach(sn=>("label"in sn&&tn[sn.label]&&(sn.label=tn[sn.label]),sn)),Qr}(Fr.t,function(Yr){const Qr=[];if(Yr)for(const[tn,sn]of Object.entries(Yr)){const un=Object.assign({},sn,{id:`link${TS(tn)}`});Qr.push(un)}return Qr}(Fr.config.get("link.decorators")));this._enableAutomaticDecorators(Ur.filter(Yr=>Yr.mode===S_)),this._enableManualDecorators(Ur.filter(Yr=>Yr.mode==="manual")),Fr.plugins.get(fb).registerAttribute("linkHref"),function(Yr,Qr,tn,sn){const un=Yr.editing.view,gn=new Set;un.document.registerPostFixer(kn=>{const Cn=Yr.model.document.selection;let Dn=!1;if(Cn.hasAttribute(Qr)){const Ln=Uh(Cn.getFirstPosition(),Qr,Cn.getAttribute(Qr),Yr.model),zn=Yr.editing.mapper.toViewRange(Ln);for(const Wn of zn.getItems())Wn.is("element",tn)&&!Wn.hasClass(sn)&&(kn.addClass(sn,Wn),gn.add(Wn),Dn=!0)}return Dn}),Yr.conversion.for("editingDowncast").add(kn=>{function Cn(){un.change(Dn=>{for(const Ln of gn.values())Dn.removeClass(sn,Ln),gn.delete(Ln)})}kn.on("insert",Cn,{priority:"highest"}),kn.on("remove",Cn,{priority:"highest"}),kn.on("attribute",Cn,{priority:"highest"}),kn.on("selection",Cn,{priority:"highest"})})}(Fr,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(Fr){const Ur=this.editor,Yr=Ur.commands.get("link").automaticDecorators;Ur.config.get("link.addTargetToExternalLinks")&&Yr.add({id:"linkIsExternal",mode:S_,callback:Qr=>!!Qr&&VS.test(Qr),attributes:{target:"_blank",rel:"noopener noreferrer"}}),Yr.add(Fr),Yr.length&&Ur.conversion.for("downcast").add(Yr.getDispatcher())}_enableManualDecorators(Fr){if(!Fr.length)return;const Ur=this.editor,Yr=Ur.commands.get("link").manualDecorators;Fr.forEach(Qr=>{Ur.model.schema.extend("$text",{allowAttributes:Qr.id});const tn=new $S(Qr);Yr.add(tn),Ur.conversion.for("downcast").attributeToElement({model:tn.id,view:(sn,{writer:un,schema:gn},{item:kn})=>{if((kn.is("selection")||gn.isInline(kn))&&sn){const Cn=un.createAttributeElement("a",tn.attributes,{priority:5});tn.classes&&un.addClass(tn.classes,Cn);for(const Dn in tn.styles)un.setStyle(Dn,tn.styles[Dn],Cn);return un.setCustomProperty("link",!0,Cn),Cn}}}),Ur.conversion.for("upcast").elementToAttribute({view:HS({name:"a"},tn._createPattern()),model:{key:tn.id}})})}_enableLinkOpen(){const Fr=this.editor,Ur=Fr.editing.view.document;this.listenTo(Ur,"click",(Yr,Qr)=>{if(!(Kr.isMac?Qr.domEvent.metaKey:Qr.domEvent.ctrlKey))return;let tn=Qr.domTarget;if(tn.tagName.toLowerCase()!="a"&&(tn=tn.closest("a")),!tn)return;const sn=tn.getAttribute("href");sn&&(Yr.stop(),Qr.preventDefault(),w_(sn))},{context:"$capture"}),this.listenTo(Ur,"keydown",(Yr,Qr)=>{const tn=Fr.commands.get("link").value;tn&&Qr.keyCode===qa.enter&&Qr.altKey&&(Yr.stop(),w_(tn))})}_enableInsertContentSelectionAttributesFixer(){const Fr=this.editor.model,Ur=Fr.document.selection;this.listenTo(Fr,"insertContent",()=>{const Yr=Ur.anchor.nodeBefore,Qr=Ur.anchor.nodeAfter;Ur.hasAttribute("linkHref")&&Yr&&Yr.hasAttribute("linkHref")&&(Qr&&Qr.hasAttribute("linkHref")||Fr.change(tn=>{xm(tn,Sm(Fr.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const Fr=this.editor,Ur=Fr.model;Fr.editing.view.addObserver(zg);let Yr=!1;this.listenTo(Fr.editing.view.document,"mousedown",()=>{Yr=!0}),this.listenTo(Fr.editing.view.document,"selectionChange",()=>{if(!Yr)return;Yr=!1;const Qr=Ur.document.selection;if(!Qr.isCollapsed||!Qr.hasAttribute("linkHref"))return;const tn=Qr.getFirstPosition(),sn=Uh(tn,"linkHref",Qr.getAttribute("linkHref"),Ur);(tn.isTouching(sn.start)||tn.isTouching(sn.end))&&Ur.change(un=>{xm(un,Sm(Ur.schema))})})}_enableTypingOverLink(){const Fr=this.editor,Ur=Fr.editing.view;let Yr=null,Qr=!1;this.listenTo(Ur.document,"delete",()=>{Qr=!0},{priority:"high"}),this.listenTo(Fr.model,"deleteContent",()=>{const tn=Fr.model.document.selection;tn.isCollapsed||(Qr?Qr=!1:D_(Fr)&&function(sn){const un=sn.document.selection,gn=un.getFirstPosition(),kn=un.getLastPosition(),Cn=gn.nodeAfter;if(!Cn||!Cn.is("$text")||!Cn.hasAttribute("linkHref"))return!1;const Dn=kn.textNode||kn.nodeBefore;return Cn===Dn?!0:Uh(gn,"linkHref",Cn.getAttribute("linkHref"),sn).containsRange(sn.createRange(gn,kn),!0)}(Fr.model)&&(Yr=tn.getAttributes()))},{priority:"high"}),this.listenTo(Fr.model,"insertContent",(tn,[sn])=>{Qr=!1,D_(Fr)&&Yr&&(Fr.model.change(un=>{for(const[gn,kn]of Yr)un.setAttribute(gn,kn,sn)}),Yr=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const Fr=this.editor,Ur=Fr.model,Yr=Ur.document.selection,Qr=Fr.editing.view;let tn=!1,sn=!1;this.listenTo(Qr.document,"delete",(un,gn)=>{sn=gn.direction==="backward"},{priority:"high"}),this.listenTo(Ur,"deleteContent",()=>{tn=!1;const un=Yr.getFirstPosition(),gn=Yr.getAttribute("linkHref");if(!gn)return;const kn=Uh(un,"linkHref",gn,Ur);tn=kn.containsPosition(un)||kn.end.isEqual(un)},{priority:"high"}),this.listenTo(Ur,"deleteContent",()=>{sn&&(sn=!1,tn||Fr.model.enqueueChange(un=>{xm(un,Sm(Ur.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const Fr=this.editor,Ur=Fr.model,Yr=this.editor.config.get("link.defaultProtocol");Yr&&this.listenTo(Fr.plugins.get("ClipboardPipeline"),"contentInsertion",(Qr,tn)=>{Ur.change(sn=>{const un=sn.createRangeIn(tn.content);for(const gn of un.getItems())if(gn.hasAttribute("linkHref")){const kn=Cm(gn.getAttribute("linkHref"),Yr);sn.setAttribute("linkHref",kn,gn)}})})}}function xm(Xr,Fr){Xr.removeSelectionAttribute("linkHref");for(const Ur of Fr)Xr.removeSelectionAttribute(Ur)}function D_(Xr){return Xr.model.change(Fr=>Fr.batch).isTyping}function Sm(Xr){return Xr.getDefinition("$text").allowAttributes.filter(Fr=>Fr.startsWith("link"))}var E_=$r(7754),US={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(E_.Z,US),E_.Z.locals;class GS extends Qa{constructor(Fr,Ur){super(Fr),this.focusTracker=new Dc,this.keystrokes=new Jc,this._focusables=new Nc;const Yr=Fr.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(Yr("Save"),Ml.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(Yr("Cancel"),Ml.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(Ur),this.children=this._createFormChildren(Ur.manualDecorators),this._focusCycler=new td({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const Qr=["ck","ck-link-form","ck-responsive-form"];Ur.manualDecorators.length&&Qr.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:Qr,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((Fr,Ur)=>(Fr[Ur.name]=Ur.isOn,Fr),{})}render(){super.render(),jr({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(Fr=>{this._focusables.add(Fr),this.focusTracker.add(Fr.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const Fr=this.locale.t,Ur=new bd(this.locale,Gg);return Ur.label=Fr("Link URL"),Ur}_createButton(Fr,Ur,Yr,Qr){const tn=new cs(this.locale);return tn.set({label:Fr,icon:Ur,tooltip:!0}),tn.extendTemplate({attributes:{class:Yr}}),Qr&&tn.delegate("execute").to(this,Qr),tn}_createManualDecoratorSwitches(Fr){const Ur=this.createCollection();for(const Yr of Fr.manualDecorators){const Qr=new wh(this.locale);Qr.set({name:Yr.id,label:Yr.label,withText:!0}),Qr.bind("isOn").toMany([Yr,Fr],"value",(tn,sn)=>sn===void 0&&tn===void 0?!!Yr.defaultValue:!!tn),Qr.on("execute",()=>{Yr.set("value",!Qr.isOn)}),Ur.add(Qr)}return Ur}_createFormChildren(Fr){const Ur=this.createCollection();if(Ur.add(this.urlInputView),Fr.length){const Yr=new Qa;Yr.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(Qr=>({tag:"li",children:[Qr],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),Ur.add(Yr)}return Ur.add(this.saveButtonView),Ur.add(this.cancelButtonView),Ur}}var T_=$r(2347),WS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(T_.Z,WS),T_.Z.locals;class YS extends Qa{constructor(Fr){super(Fr),this.focusTracker=new Dc,this.keystrokes=new Jc,this._focusables=new Nc;const Ur=Fr.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(Ur("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(Ur("Edit link"),Ml.pencil,"edit"),this.set("href",void 0),this._focusCycler=new td({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(Fr=>{this._focusables.add(Fr),this.focusTracker.add(Fr.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(Fr,Ur,Yr){const Qr=new cs(this.locale);return Qr.set({label:Fr,icon:Ur,tooltip:!0}),Qr.delegate("execute").to(this,Yr),Qr}_createPreviewButton(){const Fr=new cs(this.locale),Ur=this.bindTemplate,Yr=this.t;return Fr.set({withText:!0,tooltip:Yr("Open link in new tab")}),Fr.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:Ur.to("href",Qr=>Qr&&b_(Qr)),target:"_blank",rel:"noopener noreferrer"}}),Fr.bind("label").to(this,"href",Qr=>Qr||Yr("This link has no URL")),Fr.bind("isEnabled").to(this,"href",Qr=>!!Qr),Fr.template.tag="a",Fr.template.eventListeners={},Fr}}const Yu="link-ui";class qS extends go{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[jp]}static get pluginName(){return"LinkUI"}init(){const Fr=this.editor;Fr.editing.view.addObserver(Vk),this._balloon=Fr.plugins.get(jp),this._createToolbarLinkButton(),this._enableBalloonActivators(),Fr.conversion.for("editingDowncast").markerToHighlight({model:Yu,view:{classes:["ck-fake-link-selection"]}}),Fr.conversion.for("editingDowncast").markerToElement({model:Yu,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const Fr=this.editor,Ur=new YS(Fr.locale),Yr=Fr.commands.get("link"),Qr=Fr.commands.get("unlink");return Ur.bind("href").to(Yr,"value"),Ur.editButtonView.bind("isEnabled").to(Yr),Ur.unlinkButtonView.bind("isEnabled").to(Qr),this.listenTo(Ur,"edit",()=>{this._addFormView()}),this.listenTo(Ur,"unlink",()=>{Fr.execute("unlink"),this._hideUI()}),Ur.keystrokes.set("Esc",(tn,sn)=>{this._hideUI(),sn()}),Ur.keystrokes.set(km,(tn,sn)=>{this._addFormView(),sn()}),Ur}_createFormView(){const Fr=this.editor,Ur=Fr.commands.get("link"),Yr=Fr.config.get("link.defaultProtocol"),Qr=new(Vr(GS))(Fr.locale,Ur);return Qr.urlInputView.fieldView.bind("value").to(Ur,"value"),Qr.urlInputView.bind("isEnabled").to(Ur,"isEnabled"),Qr.saveButtonView.bind("isEnabled").to(Ur),this.listenTo(Qr,"submit",()=>{const{value:tn}=Qr.urlInputView.fieldView.element,sn=Cm(tn,Yr);Fr.execute("link",sn,Qr.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(Qr,"cancel",()=>{this._closeFormView()}),Qr.keystrokes.set("Esc",(tn,sn)=>{this._closeFormView(),sn()}),Qr}_createToolbarLinkButton(){const Fr=this.editor,Ur=Fr.commands.get("link"),Yr=Fr.t;Fr.ui.componentFactory.add("link",Qr=>{const tn=new cs(Qr);return tn.isEnabled=!0,tn.label=Yr("Link"),tn.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',tn.keystroke=km,tn.tooltip=!0,tn.isToggleable=!0,tn.bind("isEnabled").to(Ur,"isEnabled"),tn.bind("isOn").to(Ur,"value",sn=>!!sn),this.listenTo(tn,"execute",()=>this._showUI(!0)),tn})}_enableBalloonActivators(){const Fr=this.editor,Ur=Fr.editing.view.document;this.listenTo(Ur,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),Fr.keystrokes.set(km,(Yr,Qr)=>{Qr(),Fr.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(Fr,Ur)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),Ur())},{priority:"high"}),this.editor.keystrokes.set("Esc",(Fr,Ur)=>{this._isUIVisible&&(this._hideUI(),Ur())}),zr({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const Fr=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=Fr.value||""}_closeFormView(){const Fr=this.editor.commands.get("link");Fr.restoreManualDecoratorStates(),Fr.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(Fr=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),Fr&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),Fr&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const Fr=this.editor;this.stopListening(Fr.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),Fr.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const Fr=this.editor,Ur=Fr.editing.view.document;let Yr=this._getSelectedLinkElement(),Qr=sn();const tn=()=>{const un=this._getSelectedLinkElement(),gn=sn();Yr&&!un||!Yr&&gn!==Qr?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),Yr=un,Qr=gn};function sn(){return Ur.selection.focus.getAncestors().reverse().find(un=>un.is("element"))}this.listenTo(Fr.ui,"update",tn),this.listenTo(this._balloon,"change:visibleView",tn)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const Fr=this._balloon.visibleView;return!!this.formView&&Fr==this.formView||this._areActionsVisible}_getBalloonPositionData(){const Fr=this.editor.editing.view,Ur=this.editor.model,Yr=Fr.document;let Qr;if(Ur.markers.has(Yu)){const tn=Array.from(this.editor.editing.mapper.markerNameToElements(Yu)),sn=Fr.createRange(Fr.createPositionBefore(tn[0]),Fr.createPositionAfter(tn[tn.length-1]));Qr=Fr.domConverter.viewRangeToDom(sn)}else Qr=()=>{const tn=this._getSelectedLinkElement();return tn?Fr.domConverter.mapViewToDom(tn):Fr.domConverter.viewRangeToDom(Yr.selection.getFirstRange())};return{target:Qr}}_getSelectedLinkElement(){const Fr=this.editor.editing.view,Ur=Fr.document.selection,Yr=Ur.getSelectedElement();if(Ur.isCollapsed||Yr&&gl(Yr))return Dm(Ur.getFirstPosition());{const Qr=Ur.getFirstRange().getTrimmed(),tn=Dm(Qr.start),sn=Dm(Qr.end);return tn&&tn==sn&&Fr.createRangeIn(tn).getTrimmed().isEqual(Qr)?tn:null}}_showFakeVisualSelection(){const Fr=this.editor.model;Fr.change(Ur=>{const Yr=Fr.document.selection.getFirstRange();if(Fr.markers.has(Yu))Ur.updateMarker(Yu,{range:Yr});else if(Yr.start.isAtEnd){const Qr=Yr.start.getLastMatchingPosition(({item:tn})=>!Fr.schema.isContent(tn),{boundaries:Yr});Ur.addMarker(Yu,{usingOperation:!1,affectsData:!1,range:Ur.createRange(Qr,Yr.end)})}else Ur.addMarker(Yu,{usingOperation:!1,affectsData:!1,range:Yr})})}_hideFakeVisualSelection(){const Fr=this.editor.model;Fr.markers.has(Yu)&&Fr.change(Ur=>{Ur.removeMarker(Yu)})}}function Dm(Xr){return Xr.getAncestors().find(Fr=>{return(Ur=Fr).is("attributeElement")&&!!Ur.getCustomProperty("link");var Ur})||null}const KS=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class ZS extends go{static get requires(){return[dd]}static get pluginName(){return"AutoLink"}init(){const Fr=this.editor.model.document.selection;Fr.on("change:range",()=>{this.isEnabled=!Fr.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const Fr=this.editor,Ur=new hb(Fr.model,Yr=>{if(!function(tn){return tn.length>4&&tn[tn.length-1]===" "&&tn[tn.length-2]!==" "}(Yr))return;const Qr=M_(Yr.substr(0,Yr.length-1));return Qr?{url:Qr}:void 0});Ur.on("matched:data",(Yr,Qr)=>{const{batch:tn,range:sn,url:un}=Qr;if(!tn.isTyping)return;const gn=sn.end.getShiftedBy(-1),kn=gn.getShiftedBy(-un.length),Cn=Fr.model.createRange(kn,gn);this._applyAutoLink(un,Cn)}),Ur.bind("isEnabled").to(this)}_enableEnterHandling(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.commands.get("enter");Yr&&Yr.on("execute",()=>{const Qr=Ur.document.selection.getFirstPosition();if(!Qr.parent.previousSibling)return;const tn=Ur.createRangeIn(Qr.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(tn)})}_enableShiftEnterHandling(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.commands.get("shiftEnter");Yr&&Yr.on("execute",()=>{const Qr=Ur.document.selection.getFirstPosition(),tn=Ur.createRange(Ur.createPositionAt(Qr.parent,0),Qr.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(tn)})}_checkAndApplyAutoLinkOnRange(Fr){const Ur=this.editor.model,{text:Yr,range:Qr}=db(Fr,Ur),tn=M_(Yr);if(tn){const sn=Ur.createRange(Qr.end.getShiftedBy(-tn.length),Qr.end);this._applyAutoLink(tn,sn)}}_applyAutoLink(Fr,Ur){const Yr=this.editor.model,Qr=Cm(Fr,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(tn,sn){return sn.schema.checkAttributeInSelection(sn.createSelection(tn),"linkHref")}(Ur,Yr)&&__(Qr)&&!function(tn){const sn=tn.start.nodeAfter;return!!sn&&sn.hasAttribute("linkHref")}(Ur)&&this._persistAutoLink(Qr,Ur)}_persistAutoLink(Fr,Ur){const Yr=this.editor.model,Qr=this.editor.plugins.get("Delete");Yr.enqueueChange(tn=>{tn.setAttribute("linkHref",Fr,Ur),Yr.enqueueChange(()=>{Qr.requestUndoOnBackspace()})})}}function M_(Xr){const Fr=KS.exec(Xr);return Fr?Fr[2]:null}var I_=$r(111),XS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(I_.Z,XS),I_.Z.locals;var L_=$r(5730),QS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(L_.Z,QS),L_.Z.locals;var P_=$r(4564),JS={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(P_.Z,JS),P_.Z.locals;function eD(Xr,Fr){const Ur=Fr.mapper,Yr=Fr.writer,Qr=Xr.getAttribute("listType")=="numbered"?"ol":"ul",tn=function(un){const gn=un.createContainerElement("li");return gn.getFillerOffset=nD,gn}(Yr),sn=Yr.createContainerElement(Qr,null);return Yr.insert(Yr.createPositionAt(sn,0),tn),Ur.bindElements(Xr,tn),tn}function O_(Xr,Fr,Ur,Yr){const Qr=Fr.parent,tn=Ur.mapper,sn=Ur.writer;let un=tn.toViewPosition(Yr.createPositionBefore(Xr));const gn=$_(Xr.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:Xr.getAttribute("listIndent")}),kn=Xr.previousSibling;if(gn&&gn.getAttribute("listIndent")==Xr.getAttribute("listIndent")){const Cn=tn.toViewElement(gn);un=sn.breakContainer(sn.createPositionAfter(Cn))}else if(kn&&kn.name=="listItem"){un=tn.toViewPosition(Yr.createPositionAt(kn,"end"));const Cn=tn.findMappedViewAncestor(un),Dn=function(Ln){for(const zn of Ln.getChildren())if(zn.name=="ul"||zn.name=="ol")return zn;return null}(Cn);un=Dn?sn.createPositionBefore(Dn):sn.createPositionAt(Cn,"end")}else un=tn.toViewPosition(Yr.createPositionBefore(Xr));if(un=R_(un),sn.insert(un,Qr),kn&&kn.name=="listItem"){const Cn=tn.toViewElement(kn),Dn=sn.createRange(sn.createPositionAt(Cn,0),un).getWalker({ignoreElementEnd:!0});for(const Ln of Dn)if(Ln.item.is("element","li")){const zn=sn.breakContainer(sn.createPositionBefore(Ln.item)),Wn=Ln.item.parent,Xn=sn.createPositionAt(Fr,"end");uu(sn,Xn.nodeBefore,Xn.nodeAfter),sn.move(sn.createRangeOn(Wn),Xn),Dn._position=zn}}else{const Cn=Qr.nextSibling;if(Cn&&(Cn.is("element","ul")||Cn.is("element","ol"))){let Dn=null;for(const Ln of Cn.getChildren()){const zn=tn.toModelElement(Ln);if(!(zn&&zn.getAttribute("listIndent")>Xr.getAttribute("listIndent")))break;Dn=Ln}Dn&&(sn.breakContainer(sn.createPositionAfter(Dn)),sn.move(sn.createRangeOn(Dn.parent),sn.createPositionAt(Fr,"end")))}}uu(sn,Qr,Qr.nextSibling),uu(sn,Qr.previousSibling,Qr)}function uu(Xr,Fr,Ur){return!Fr||!Ur||Fr.name!="ul"&&Fr.name!="ol"||Fr.name!=Ur.name||Fr.getAttribute("class")!==Ur.getAttribute("class")?null:Xr.mergeContainers(Xr.createPositionAfter(Fr))}function R_(Xr){return Xr.getLastMatchingPosition(Fr=>Fr.item.is("uiElement"))}function $_(Xr,Fr){const Ur=!!Fr.sameIndent,Yr=!!Fr.smallerIndent,Qr=Fr.listIndent;let tn=Xr;for(;tn&&tn.name=="listItem";){const sn=tn.getAttribute("listIndent");if(Ur&&Qr==sn||Yr&&Qr>sn)return tn;tn=Fr.direction==="forward"?tn.nextSibling:tn.previousSibling}return null}function N_(Xr,Fr,Ur,Yr){Xr.ui.componentFactory.add(Fr,Qr=>{const tn=Xr.commands.get(Fr),sn=new cs(Qr);return sn.set({label:Ur,icon:Yr,tooltip:!0,isToggleable:!0}),sn.bind("isOn","isEnabled").to(tn,"value","isEnabled"),sn.on("execute",()=>{Xr.execute(Fr),Xr.editing.view.focus()}),sn})}function Em(Xr,Fr){const Ur=[],Yr=Xr.parent,Qr={ignoreElementEnd:!1,startPosition:Xr,shallow:!0,direction:Fr},tn=Yr.getAttribute("listIndent"),sn=[...new Uu(Qr)].filter(un=>un.item.is("element")).map(un=>un.item);for(const un of sn){if(!un.is("element","listItem")||un.getAttribute("listIndent")<tn)break;if(!(un.getAttribute("listIndent")>tn)){if(un.getAttribute("listType")!==Yr.getAttribute("listType")||un.getAttribute("listStyle")!==Yr.getAttribute("listStyle")||un.getAttribute("listReversed")!==Yr.getAttribute("listReversed")||un.getAttribute("listStart")!==Yr.getAttribute("listStart"))break;Fr==="backward"?Ur.unshift(un):Ur.push(un)}}return Ur}const tD=["disc","circle","square"],rD=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function nD(){const Xr=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||Xr?0:Ap.call(this)}class iD extends go{static get pluginName(){return"ListUI"}init(){const Fr=this.editor.t;N_(this.editor,"numberedList",Fr("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),N_(this.editor,"bulletedList",Fr("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const oD=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:Xr,typeAttribute:Fr,listType:Ur}of oD);var B_=$r(4721),aD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(B_.Z,aD),B_.Z.locals;var F_=$r(6082),sD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(F_.Z,sD),F_.Z.locals;var z_=$r(2417),lD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(z_.Z,lD),z_.Z.locals;class H_ extends ja{constructor(Fr,Ur){super(Fr),this._indentBy=Ur=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const Fr=this.editor.model,Ur=Fr.document;let Yr=Array.from(Ur.selection.getSelectedBlocks());Fr.change(Qr=>{const tn=Yr[Yr.length-1];let sn=tn.nextSibling;for(;sn&&sn.name=="listItem"&&sn.getAttribute("listIndent")>tn.getAttribute("listIndent");)Yr.push(sn),sn=sn.nextSibling;this._indentBy<0&&(Yr=Yr.reverse());for(const un of Yr){const gn=un.getAttribute("listIndent")+this._indentBy;gn<0?Qr.rename(un,"paragraph"):Qr.setAttribute("listIndent",gn,un)}this.fire("_executeCleanup",Yr)})}_checkEnabled(){const Fr=wl(this.editor.model.document.selection.getSelectedBlocks());if(!Fr||!Fr.is("element","listItem"))return!1;if(this._indentBy>0){const Ur=Fr.getAttribute("listIndent"),Yr=Fr.getAttribute("listType");let Qr=Fr.previousSibling;for(;Qr&&Qr.is("element","listItem")&&Qr.getAttribute("listIndent")>=Ur;){if(Qr.getAttribute("listIndent")==Ur)return Qr.getAttribute("listType")==Yr;Qr=Qr.previousSibling}return!1}return!0}}class V_ extends ja{constructor(Fr,Ur){super(Fr),this.type=Ur}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(Fr={}){const Ur=this.editor.model,Yr=Ur.document,Qr=Array.from(Yr.selection.getSelectedBlocks()).filter(sn=>U_(sn,Ur.schema)),tn=Fr.forceValue!==void 0?!Fr.forceValue:this.value;Ur.change(sn=>{if(tn){let un=Qr[Qr.length-1].nextSibling,gn=Number.POSITIVE_INFINITY,kn=[];for(;un&&un.name=="listItem"&&un.getAttribute("listIndent")!==0;){const Cn=un.getAttribute("listIndent");Cn<gn&&(gn=Cn);const Dn=Cn-gn;kn.push({element:un,listIndent:Dn}),un=un.nextSibling}kn=kn.reverse();for(const Cn of kn)sn.setAttribute("listIndent",Cn.listIndent,Cn.element)}if(!tn){let un=Number.POSITIVE_INFINITY;for(const gn of Qr)gn.is("element","listItem")&&gn.getAttribute("listIndent")<un&&(un=gn.getAttribute("listIndent"));un=un===0?1:un,j_(Qr,!0,un),j_(Qr,!1,un)}for(const un of Qr.reverse())tn&&un.name=="listItem"?sn.rename(un,"paragraph"):tn||un.name=="listItem"?tn||un.name!="listItem"||un.getAttribute("listType")==this.type||sn.setAttribute("listType",this.type,un):(sn.setAttributes({listType:this.type,listIndent:0},un),sn.rename(un,"listItem"));this.fire("_executeCleanup",Qr)})}_getValue(){const Fr=wl(this.editor.model.document.selection.getSelectedBlocks());return!!Fr&&Fr.is("element","listItem")&&Fr.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const Fr=this.editor.model.document.selection,Ur=this.editor.model.schema,Yr=wl(Fr.getSelectedBlocks());return!!Yr&&U_(Yr,Ur)}}function j_(Xr,Fr,Ur){const Yr=Fr?Xr[0]:Xr[Xr.length-1];if(Yr.is("element","listItem")){let Qr=Yr[Fr?"previousSibling":"nextSibling"],tn=Yr.getAttribute("listIndent");for(;Qr&&Qr.is("element","listItem")&&Qr.getAttribute("listIndent")>=Ur;)tn>Qr.getAttribute("listIndent")&&(tn=Qr.getAttribute("listIndent")),Qr.getAttribute("listIndent")==tn&&Xr[Fr?"unshift":"push"](Qr),Qr=Qr[Fr?"previousSibling":"nextSibling"]}}function U_(Xr,Fr){return Fr.checkChild(Xr.parent,"listItem")&&!Fr.isObject(Xr)}class cD extends go{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(Fr){return function(Ur){return tD.includes(Ur)?"bulleted":rD.includes(Ur)?"numbered":null}(Fr)}getSelectedListItems(Fr){return function(Ur){let Yr=[...Ur.document.selection.getSelectedBlocks()].filter(Qr=>Qr.is("element","listItem")).map(Qr=>{const tn=Ur.change(sn=>sn.createPositionAt(Qr,0));return[...Em(tn,"backward"),...Em(tn,"forward")]}).flat();return Yr=[...new Set(Yr)],Yr}(Fr)}getSiblingNodes(Fr,Ur){return Em(Fr,Ur)}}function G_(Xr){return(Fr,Ur,Yr)=>{const Qr=Yr.consumable;if(!Qr.test(Ur.item,"insert")||!Qr.test(Ur.item,"attribute:listType")||!Qr.test(Ur.item,"attribute:listIndent"))return;Qr.consume(Ur.item,"insert"),Qr.consume(Ur.item,"attribute:listType"),Qr.consume(Ur.item,"attribute:listIndent");const tn=Ur.item;O_(tn,eD(tn,Yr),Yr,Xr)}}const uD=(Xr,Fr,Ur)=>{if(!Ur.consumable.test(Fr.item,Xr.name))return;const Yr=Ur.mapper.toViewElement(Fr.item),Qr=Ur.writer;Qr.breakContainer(Qr.createPositionBefore(Yr)),Qr.breakContainer(Qr.createPositionAfter(Yr));const tn=Yr.parent,sn=Fr.attributeNewValue=="numbered"?"ol":"ul";Qr.rename(sn,tn)},dD=(Xr,Fr,Ur)=>{Ur.consumable.consume(Fr.item,Xr.name);const Yr=Ur.mapper.toViewElement(Fr.item).parent,Qr=Ur.writer;uu(Qr,Yr,Yr.nextSibling),uu(Qr,Yr.previousSibling,Yr)},W_=(Xr,Fr,Ur)=>{if(Ur.consumable.test(Fr.item,Xr.name)&&Fr.item.name!="listItem"){let Yr=Ur.mapper.toViewPosition(Fr.range.start);const Qr=Ur.writer,tn=[];for(;(Yr.parent.name=="ul"||Yr.parent.name=="ol")&&(Yr=Qr.breakContainer(Yr),Yr.parent.name=="li");){const sn=Yr,un=Qr.createPositionAt(Yr.parent,"end");if(!sn.isEqual(un)){const gn=Qr.remove(Qr.createRange(sn,un));tn.push(gn)}Yr=Qr.createPositionAfter(Yr.parent)}if(tn.length>0){for(let sn=0;sn<tn.length;sn++){const un=Yr.nodeBefore;if(Yr=Qr.insert(Yr,tn[sn]).end,sn>0){const gn=uu(Qr,un,un.nextSibling);gn&&gn.parent==un&&Yr.offset--}}uu(Qr,Yr.nodeBefore,Yr.nodeAfter)}}},hD=(Xr,Fr,Ur)=>{const Yr=Ur.mapper.toViewPosition(Fr.position),Qr=Yr.nodeBefore,tn=Yr.nodeAfter;uu(Ur.writer,Qr,tn)},fD=(Xr,Fr,Ur)=>{if(Ur.consumable.consume(Fr.viewItem,{name:!0})){const Yr=Ur.writer,Qr=Yr.createElement("listItem"),tn=function(gn){let kn=0,Cn=gn.parent;for(;Cn;){if(Cn.is("element","li"))kn++;else{const Dn=Cn.previousSibling;Dn&&Dn.is("element","li")&&kn++}Cn=Cn.parent}return kn}(Fr.viewItem);Yr.setAttribute("listIndent",tn,Qr);const sn=Fr.viewItem.parent&&Fr.viewItem.parent.name=="ol"?"numbered":"bulleted";if(Yr.setAttribute("listType",sn,Qr),!Ur.safeInsert(Qr,Fr.modelCursor))return;const un=function(gn,kn,Cn){const{writer:Dn,schema:Ln}=Cn;let zn=Dn.createPositionAfter(gn);for(const Wn of kn)if(Wn.name=="ul"||Wn.name=="ol")zn=Cn.convertItem(Wn,zn).modelCursor;else{const Xn=Cn.convertItem(Wn,Dn.createPositionAt(gn,"end")),ii=Xn.modelRange.start.nodeAfter;ii&&ii.is("element")&&!Ln.checkChild(gn,ii.name)&&(gn=Xn.modelCursor.parent.is("element","listItem")?Xn.modelCursor.parent:mD(Xn.modelCursor),zn=Dn.createPositionAfter(gn))}return zn}(Qr,Fr.viewItem.getChildren(),Ur);Fr.modelRange=Yr.createRange(Fr.modelCursor,un),Ur.updateConversionResult(Qr,Fr)}},Y_=(Xr,Fr,Ur)=>{if(Ur.consumable.test(Fr.viewItem,{name:!0})){const Yr=Array.from(Fr.viewItem.getChildren());for(const Qr of Yr)!(Qr.is("element","li")||qh(Qr))&&Qr._remove()}},pD=(Xr,Fr,Ur)=>{if(Ur.consumable.test(Fr.viewItem,{name:!0})){if(Fr.viewItem.childCount===0)return;const Yr=[...Fr.viewItem.getChildren()];let Qr=!1;for(const tn of Yr)Qr&&!qh(tn)&&tn._remove(),qh(tn)&&(Qr=!0)}};function q_(Xr){return(Fr,Ur)=>{if(Ur.isPhantom)return;const Yr=Ur.modelPosition.nodeBefore;if(Yr&&Yr.is("element","listItem")){const Qr=Ur.mapper.toViewElement(Yr),tn=Qr.getAncestors().find(qh),sn=Xr.createPositionAt(Qr,0).getWalker();for(const un of sn){if(un.type=="elementStart"&&un.item.is("element","li")){Ur.viewPosition=un.previousPosition;break}if(un.type=="elementEnd"&&un.item==tn){Ur.viewPosition=un.nextPosition;break}}}}}const gD=function(Xr,[Fr,Ur]){const Yr=this;let Qr,tn=Fr.is("documentFragment")?Fr.getChild(0):Fr;if(Qr=Ur?Yr.createSelection(Ur):Yr.document.selection,tn&&tn.is("element","listItem")){const sn=Qr.getFirstPosition();let un=null;if(sn.parent.is("element","listItem")?un=sn.parent:sn.nodeBefore&&sn.nodeBefore.is("element","listItem")&&(un=sn.nodeBefore),un){const gn=un.getAttribute("listIndent");if(gn>0)for(;tn&&tn.is("element","listItem");)tn._setAttribute("listIndent",tn.getAttribute("listIndent")+gn),tn=tn.nextSibling}}};function mD(Xr){const Fr=new Uu({startPosition:Xr});let Ur;do Ur=Fr.next();while(!Ur.value.item.is("element","listItem"));return Ur.value.item}function K_(Xr,Fr,Ur,Yr,Qr,tn){const sn=$_(Fr.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:Xr}),un=Qr.mapper,gn=Qr.writer,kn=sn?sn.getAttribute("listIndent"):null;let Cn;if(sn)if(kn==Xr){const Dn=un.toViewElement(sn).parent;Cn=gn.createPositionAfter(Dn)}else{const Dn=tn.createPositionAt(sn,"end");Cn=un.toViewPosition(Dn)}else Cn=Ur;Cn=R_(Cn);for(const Dn of[...Yr.getChildren()])qh(Dn)&&(Cn=gn.move(gn.createRangeOn(Dn),Cn).end,uu(gn,Dn,Dn.nextSibling),uu(gn,Dn.previousSibling,Dn))}function qh(Xr){return Xr.is("element","ol")||Xr.is("element","ul")}class vD extends go{static get pluginName(){return"ListEditing"}static get requires(){return[qp,dd,cD]}init(){const Fr=this.editor;Fr.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const Ur=Fr.data,Yr=Fr.editing;var Qr;Fr.model.document.registerPostFixer(sn=>function(un,gn){const kn=un.document.differ.getChanges(),Cn=new Map;let Dn=!1;for(const Xn of kn)if(Xn.type=="insert"&&Xn.name=="listItem")Ln(Xn.position);else if(Xn.type=="insert"&&Xn.name!="listItem"){if(Xn.name!="$text"){const ii=Xn.position.nodeAfter;ii.hasAttribute("listIndent")&&(gn.removeAttribute("listIndent",ii),Dn=!0),ii.hasAttribute("listType")&&(gn.removeAttribute("listType",ii),Dn=!0),ii.hasAttribute("listStyle")&&(gn.removeAttribute("listStyle",ii),Dn=!0),ii.hasAttribute("listReversed")&&(gn.removeAttribute("listReversed",ii),Dn=!0),ii.hasAttribute("listStart")&&(gn.removeAttribute("listStart",ii),Dn=!0);for(const ui of Array.from(un.createRangeIn(ii)).filter(Ti=>Ti.item.is("element","listItem")))Ln(ui.previousPosition)}Ln(Xn.position.getShiftedBy(Xn.length))}else Xn.type=="remove"&&Xn.name=="listItem"?Ln(Xn.position):(Xn.type=="attribute"&&Xn.attributeKey=="listIndent"||Xn.type=="attribute"&&Xn.attributeKey=="listType")&&Ln(Xn.range.start);for(const Xn of Cn.values())zn(Xn),Wn(Xn);return Dn;function Ln(Xn){const ii=Xn.nodeBefore;if(ii&&ii.is("element","listItem")){let ui=ii;if(Cn.has(ui))return;for(let Ti=ui.previousSibling;Ti&&Ti.is("element","listItem");Ti=ui.previousSibling)if(ui=Ti,Cn.has(ui))return;Cn.set(ii,ui)}else{const ui=Xn.nodeAfter;ui&&ui.is("element","listItem")&&Cn.set(ui,ui)}}function zn(Xn){let ii=0,ui=null;for(;Xn&&Xn.is("element","listItem");){const Ti=Xn.getAttribute("listIndent");if(Ti>ii){let Xi;ui===null?(ui=Ti-ii,Xi=ii):(ui>Ti&&(ui=Ti),Xi=Ti-ui),gn.setAttribute("listIndent",Xi,Xn),Dn=!0}else ui=null,ii=Xn.getAttribute("listIndent")+1;Xn=Xn.nextSibling}}function Wn(Xn){let ii=[],ui=null;for(;Xn&&Xn.is("element","listItem");){const Ti=Xn.getAttribute("listIndent");if(ui&&ui.getAttribute("listIndent")>Ti&&(ii=ii.slice(0,Ti+1)),Ti!=0)if(ii[Ti]){const Xi=ii[Ti];Xn.getAttribute("listType")!=Xi&&(gn.setAttribute("listType",Xi,Xn),Dn=!0)}else ii[Ti]=Xn.getAttribute("listType");ui=Xn,Xn=Xn.nextSibling}}}(Fr.model,sn)),Yr.mapper.registerViewToModelLength("li",Tm),Ur.mapper.registerViewToModelLength("li",Tm),Yr.mapper.on("modelToViewPosition",q_(Yr.view)),Yr.mapper.on("viewToModelPosition",(Qr=Fr.model,(sn,un)=>{const gn=un.viewPosition,kn=gn.parent,Cn=un.mapper;if(kn.name=="ul"||kn.name=="ol"){if(gn.isAtEnd){const Dn=Cn.toModelElement(gn.nodeBefore),Ln=Cn.getModelLength(gn.nodeBefore);un.modelPosition=Qr.createPositionBefore(Dn).getShiftedBy(Ln)}else{const Dn=Cn.toModelElement(gn.nodeAfter);un.modelPosition=Qr.createPositionBefore(Dn)}sn.stop()}else if(kn.name=="li"&&gn.nodeBefore&&(gn.nodeBefore.name=="ul"||gn.nodeBefore.name=="ol")){const Dn=Cn.toModelElement(kn);let Ln=1,zn=gn.nodeBefore;for(;zn&&qh(zn);)Ln+=Cn.getModelLength(zn),zn=zn.previousSibling;un.modelPosition=Qr.createPositionBefore(Dn).getShiftedBy(Ln),sn.stop()}})),Ur.mapper.on("modelToViewPosition",q_(Yr.view)),Fr.conversion.for("editingDowncast").add(sn=>{sn.on("insert",W_,{priority:"high"}),sn.on("insert:listItem",G_(Fr.model)),sn.on("attribute:listType:listItem",uD,{priority:"high"}),sn.on("attribute:listType:listItem",dD,{priority:"low"}),sn.on("attribute:listIndent:listItem",function(un){return(gn,kn,Cn)=>{if(!Cn.consumable.consume(kn.item,"attribute:listIndent"))return;const Dn=Cn.mapper.toViewElement(kn.item),Ln=Cn.writer;Ln.breakContainer(Ln.createPositionBefore(Dn)),Ln.breakContainer(Ln.createPositionAfter(Dn));const zn=Dn.parent,Wn=zn.previousSibling,Xn=Ln.createRangeOn(zn);Ln.remove(Xn),Wn&&Wn.nextSibling&&uu(Ln,Wn,Wn.nextSibling),K_(kn.attributeOldValue+1,kn.range.start,Xn.start,Dn,Cn,un),O_(kn.item,Dn,Cn,un);for(const ii of kn.item.getChildren())Cn.consumable.consume(ii,"insert")}}(Fr.model)),sn.on("remove:listItem",function(un){return(gn,kn,Cn)=>{const Dn=Cn.mapper.toViewPosition(kn.position).getLastMatchingPosition(ui=>!ui.item.is("element","li")).nodeAfter,Ln=Cn.writer;Ln.breakContainer(Ln.createPositionBefore(Dn)),Ln.breakContainer(Ln.createPositionAfter(Dn));const zn=Dn.parent,Wn=zn.previousSibling,Xn=Ln.createRangeOn(zn),ii=Ln.remove(Xn);Wn&&Wn.nextSibling&&uu(Ln,Wn,Wn.nextSibling),K_(Cn.mapper.toModelElement(Dn).getAttribute("listIndent")+1,kn.position,Xn.start,Dn,Cn,un);for(const ui of Ln.createRangeIn(ii).getItems())Cn.mapper.unbindViewElement(ui);gn.stop()}}(Fr.model)),sn.on("remove",hD,{priority:"low"})}),Fr.conversion.for("dataDowncast").add(sn=>{sn.on("insert",W_,{priority:"high"}),sn.on("insert:listItem",G_(Fr.model))}),Fr.conversion.for("upcast").add(sn=>{sn.on("element:ul",Y_,{priority:"high"}),sn.on("element:ol",Y_,{priority:"high"}),sn.on("element:li",pD,{priority:"high"}),sn.on("element:li",fD)}),Fr.model.on("insertContent",gD,{priority:"high"}),Fr.commands.add("numberedList",new V_(Fr,"numbered")),Fr.commands.add("bulletedList",new V_(Fr,"bulleted")),Fr.commands.add("indentList",new H_(Fr,"forward")),Fr.commands.add("outdentList",new H_(Fr,"backward"));const tn=Yr.view.document;this.listenTo(tn,"enter",(sn,un)=>{const gn=this.editor.model.document,kn=gn.selection.getLastPosition().parent;gn.selection.isCollapsed&&kn.name=="listItem"&&kn.isEmpty&&(this.editor.execute("outdentList"),un.preventDefault(),sn.stop())},{context:"li"}),this.listenTo(tn,"delete",(sn,un)=>{if(un.direction!=="backward")return;const gn=this.editor.model.document.selection;if(!gn.isCollapsed)return;const kn=gn.getFirstPosition();if(!kn.isAtStart)return;const Cn=kn.parent;Cn.name==="listItem"&&(Cn.previousSibling&&Cn.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),un.preventDefault(),sn.stop()))},{context:"li"}),this.listenTo(Fr.editing.view.document,"tab",(sn,un)=>{const gn=un.shiftKey?"outdentList":"indentList";this.editor.commands.get(gn).isEnabled&&(Fr.execute(gn),un.stopPropagation(),un.preventDefault(),sn.stop())},{context:"li"})}afterInit(){const Fr=this.editor.commands,Ur=Fr.get("indent"),Yr=Fr.get("outdent");Ur&&Ur.registerChildCommand(Fr.get("indentList")),Yr&&Yr.registerChildCommand(Fr.get("outdentList"))}}function Tm(Xr){let Fr=1;for(const Ur of Xr.getChildren())if(Ur.name=="ul"||Ur.name=="ol")for(const Yr of Ur.getChildren())Fr+=Tm(Yr);return Fr}Hd("Ctrl+Enter");var Z_=$r(1199),yD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Z_.Z,yD),Z_.Z.locals;function X_(Xr,Fr){const Ur=(Yr,Qr,tn)=>{if(!tn.consumable.consume(Qr.item,Yr.name))return;const sn=Qr.attributeNewValue,un=tn.writer,gn=tn.mapper.toViewElement(Qr.item),kn=[...gn.getChildren()].find(Dn=>Dn.getCustomProperty("media-content"));un.remove(kn);const Cn=Xr.getMediaViewElement(un,sn,Fr);un.insert(un.createPositionAt(gn,0),Cn)};return Yr=>{Yr.on("attribute:url:media",Ur)}}function Q_(Xr,Fr,Ur,Yr){return Xr.createContainerElement("figure",{class:"media"},[Fr.getMediaViewElement(Xr,Ur,Yr),Xr.createSlot()])}function J_(Xr){const Fr=Xr.getSelectedElement();return Fr&&Fr.is("element","media")?Fr:null}function ew(Xr,Fr,Ur,Yr){Xr.change(Qr=>{const tn=Qr.createElement("media",{url:Fr});Xr.insertObject(tn,Ur,null,{setSelection:"on",findOptimalPosition:Yr?"auto":void 0})})}class bD extends ja{refresh(){const Fr=this.editor.model,Ur=Fr.document.selection,Yr=J_(Ur);this.value=Yr?Yr.getAttribute("url"):void 0,this.isEnabled=function(Qr){const tn=Qr.getSelectedElement();return!!tn&&tn.name==="media"}(Ur)||function(Qr,tn){let un=Sb(Qr,tn).start.parent;return un.isEmpty&&!tn.schema.isLimit(un)&&(un=un.parent),tn.schema.checkChild(un,"media")}(Ur,Fr)}execute(Fr){const Ur=this.editor.model,Yr=Ur.document.selection,Qr=J_(Yr);Qr?Ur.change(tn=>{tn.setAttribute("url",Fr,Qr)}):ew(Ur,Fr,Yr,!0)}}class _D{constructor(Fr,Ur){const Yr=Ur.providers,Qr=Ur.extraProviders||[],tn=new Set(Ur.removeProviders),sn=Yr.concat(Qr).filter(un=>{const gn=un.name;return gn?!tn.has(gn):(xn("media-embed-no-provider-name",{provider:un}),!1)});this.locale=Fr,this.providerDefinitions=sn}hasMedia(Fr){return!!this._getMedia(Fr)}getMediaViewElement(Fr,Ur,Yr){return this._getMedia(Ur).getViewElement(Fr,Yr)}_getMedia(Fr){if(!Fr)return new tw(this.locale);Fr=Fr.trim();for(const Ur of this.providerDefinitions){const Yr=Ur.html,Qr=$l(Ur.url);for(const tn of Qr){const sn=this._getUrlMatches(Fr,tn);if(sn)return new tw(this.locale,Fr,sn,Yr)}}return null}_getUrlMatches(Fr,Ur){let Yr=Fr.match(Ur);if(Yr)return Yr;let Qr=Fr.replace(/^https?:\/\//,"");return Yr=Qr.match(Ur),Yr||(Qr=Qr.replace(/^www\./,""),Yr=Qr.match(Ur),Yr||null)}}class tw{constructor(Fr,Ur,Yr,Qr){this.url=this._getValidUrl(Ur),this._locale=Fr,this._match=Yr,this._previewRenderer=Qr}getViewElement(Fr,Ur){const Yr={};let Qr;if(Ur.renderForEditingView||Ur.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(Yr["data-oembed-url"]=this.url),Ur.renderForEditingView&&(Yr.class="ck-media__wrapper");const tn=this._getPreviewHtml(Ur);Qr=Fr.createRawElement("div",Yr,(sn,un)=>{un.setContentOf(sn,tn)})}else this.url&&(Yr.url=this.url),Qr=Fr.createEmptyElement(Ur.elementName,Yr);return Fr.setCustomProperty("media-content",!0,Qr),Qr}_getPreviewHtml(Fr){return this._previewRenderer?this._previewRenderer(this._match):this.url&&Fr.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const Fr=new ru,Ur=this._locale.t;return Fr.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',Fr.viewBox="0 0 64 42",new kc({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[Fr]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":Ur("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(Fr){return Fr?Fr.match(/^https?/)?Fr:"https://"+Fr:null}}var rw=$r(7442),wD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(rw.Z,wD),rw.Z.locals;class rg extends go{constructor(Fr){super(Fr),Fr.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:Ur=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${Ur[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:Ur=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${Ur[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:Ur=>{const Yr=Ur[1],Qr=Ur[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${Yr}${Qr?`?start=${Qr}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:Ur=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${Ur[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new _D(Fr.locale,Fr.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const Fr=this.editor,Ur=Fr.model.schema,Yr=Fr.t,Qr=Fr.conversion,tn=Fr.config.get("mediaEmbed.previewsInData"),sn=Fr.config.get("mediaEmbed.elementName"),un=this.registry;Fr.commands.add("mediaEmbed",new bD(Fr)),Ur.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),Qr.for("dataDowncast").elementToStructure({model:"media",view:(gn,{writer:kn})=>{const Cn=gn.getAttribute("url");return Q_(kn,un,Cn,{elementName:sn,renderMediaPreview:!!Cn&&tn})}}),Qr.for("dataDowncast").add(X_(un,{elementName:sn,renderMediaPreview:tn})),Qr.for("editingDowncast").elementToStructure({model:"media",view:(gn,{writer:kn})=>{const Cn=gn.getAttribute("url");return function(Dn,Ln,zn){return Ln.setCustomProperty("media",!0,Dn),um(Dn,Ln,{label:zn})}(Q_(kn,un,Cn,{elementName:sn,renderForEditingView:!0}),kn,Yr("media widget"))}}),Qr.for("editingDowncast").add(X_(un,{elementName:sn,renderForEditingView:!0})),Qr.for("upcast").elementToElement({view:gn=>["oembed",sn].includes(gn.name)&&gn.getAttribute("url")?{name:!0}:null,model:(gn,{writer:kn})=>{const Cn=gn.getAttribute("url");return un.hasMedia(Cn)?kn.createElement("media",{url:Cn}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(gn,{writer:kn})=>{const Cn=gn.getAttribute("data-oembed-url");return un.hasMedia(Cn)?kn.createElement("media",{url:Cn}):null}}).add(gn=>{gn.on("element:figure",(kn,Cn,Dn)=>{if(!Dn.consumable.consume(Cn.viewItem,{name:!0,classes:"media"}))return;const{modelRange:Ln,modelCursor:zn}=Dn.convertChildren(Cn.viewItem,Cn.modelCursor);Cn.modelRange=Ln,Cn.modelCursor=zn,wl(Ln.getItems())||Dn.consumable.revert(Cn.viewItem,{name:!0,classes:"media"})})})}}const kD=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class AD extends go{constructor(Fr){super(Fr),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[zb,dd,Yb]}static get pluginName(){return"AutoMediaEmbed"}init(){const Fr=this.editor,Ur=Fr.model.document,Yr=Fr.plugins.get("ClipboardPipeline");this.listenTo(Yr,"inputTransformation",()=>{const Qr=Ur.selection.getFirstRange(),tn=cc.fromPosition(Qr.start);tn.stickiness="toPrevious";const sn=cc.fromPosition(Qr.end);sn.stickiness="toNext",Ur.once("change:data",()=>{this._embedMediaBetweenPositions(tn,sn),tn.detach(),sn.detach()},{priority:"high"})}),Fr.commands.get("undo").on("execute",()=>{this._timeoutId&&(wa.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(Fr,Ur){const Yr=this.editor,Qr=Yr.plugins.get(rg).registry,tn=new xu(Fr,Ur),sn=tn.getWalker({ignoreElementEnd:!0});let un="";for(const gn of sn)gn.item.is("$textProxy")&&(un+=gn.item.data);if(un=un.trim(),!un.match(kD)||!Qr.hasMedia(un))return void tn.detach();Yr.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=cc.fromPosition(Fr),this._timeoutId=wa.window.setTimeout(()=>{Yr.model.change(gn=>{this._timeoutId=null,gn.remove(tn),tn.detach();let kn=null;this._positionToInsert.root.rootName!=="$graveyard"&&(kn=this._positionToInsert),ew(Yr.model,un,kn,!1),this._positionToInsert.detach(),this._positionToInsert=null}),Yr.plugins.get(dd).requestUndoOnBackspace()},100)):tn.detach()}}var nw=$r(9292),CD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(nw.Z,CD),nw.Z.locals;class xD extends Qa{constructor(Fr,Ur){super(Ur);const Yr=Ur.t;this.focusTracker=new Dc,this.keystrokes=new Jc,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(Yr("Save"),Ml.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",Qr=>!!Qr),this.cancelButtonView=this._createButton(Yr("Cancel"),Ml.cancel,"ck-button-cancel","cancel"),this._focusables=new Nc,this._focusCycler=new td({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=Fr,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),jr({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(Ur=>{this._focusables.add(Ur),this.focusTracker.add(Ur.element)}),this.keystrokes.listenTo(this.element);const Fr=Ur=>Ur.stopPropagation();this.keystrokes.set("arrowright",Fr),this.keystrokes.set("arrowleft",Fr),this.keystrokes.set("arrowup",Fr),this.keystrokes.set("arrowdown",Fr)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(Fr){this.urlInputView.fieldView.element.value=Fr.trim()}isValid(){this.resetFormStatus();for(const Fr of this._validators){const Ur=Fr(this);if(Ur)return this.urlInputView.errorText=Ur,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const Fr=this.locale.t,Ur=new bd(this.locale,Gg),Yr=Ur.fieldView;return this._urlInputViewInfoDefault=Fr("Paste the media URL in the input."),this._urlInputViewInfoTip=Fr("Tip: Paste the URL into the content to embed faster."),Ur.label=Fr("Media URL"),Ur.infoText=this._urlInputViewInfoDefault,Yr.on("input",()=>{Ur.infoText=Yr.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=Yr.element.value.trim()}),Ur}_createButton(Fr,Ur,Yr,Qr){const tn=new cs(this.locale);return tn.set({label:Fr,icon:Ur,tooltip:!0}),tn.extendTemplate({attributes:{class:Yr}}),Qr&&tn.delegate("execute").to(this,Qr),tn}}class SD extends go{static get requires(){return[rg]}static get pluginName(){return"MediaEmbedUI"}init(){const Fr=this.editor,Ur=Fr.commands.get("mediaEmbed");Fr.ui.componentFactory.add("mediaEmbed",Yr=>{const Qr=Ld(Yr);return this._setUpDropdown(Qr,Ur),Qr})}_setUpDropdown(Fr,Ur){const Yr=this.editor,Qr=Yr.t,tn=Fr.buttonView,sn=Yr.plugins.get(rg).registry;Fr.once("change:isOpen",()=>{const un=new(Vr(xD))(function(gn,kn){return[Cn=>{if(!Cn.url.length)return gn("The URL must not be empty.")},Cn=>{if(!kn.hasMedia(Cn.url))return gn("This media URL is not supported.")}]}(Yr.t,sn),Yr.locale);Fr.panelView.children.add(un),tn.on("open",()=>{un.disableCssTransitions(),un.url=Ur.value||"",un.urlInputView.fieldView.select(),un.enableCssTransitions()},{priority:"low"}),Fr.on("submit",()=>{un.isValid()&&(Yr.execute("mediaEmbed",un.url),Yr.editing.view.focus())}),Fr.on("change:isOpen",()=>un.resetFormStatus()),Fr.on("cancel",()=>{Yr.editing.view.focus()}),un.delegate("submit","cancel").to(Fr),un.urlInputView.fieldView.bind("value").to(Ur,"value"),un.urlInputView.bind("isEnabled").to(Ur,"isEnabled")}),Fr.bind("isEnabled").to(Ur),tn.set({label:Qr("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var iw=$r(4652),DD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(iw.Z,DD),iw.Z.locals;function ED(Xr,Fr){if(!Xr.childCount)return;const Ur=new uh(Xr.document),Yr=function(sn,un){const gn=un.createRangeIn(sn),kn=new zc({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),Cn=[];for(const Dn of gn)if(Dn.type==="elementStart"&&kn.match(Dn.item)){const Ln=MD(Dn.item);Cn.push({element:Dn.item,id:Ln.id,order:Ln.order,indent:Ln.indent})}return Cn}(Xr,Ur);if(!Yr.length)return;let Qr=null,tn=1;Yr.forEach((sn,un)=>{const gn=function(Wn,Xn){if(!Wn)return!0;if(Wn.id!==Xn.id)return Xn.indent-Wn.indent!=1;const ii=Xn.element.previousSibling;if(!ii)return!0;return ui=ii,!(ui.is("element","ol")||ui.is("element","ul"));var ui}(Yr[un-1],sn),kn=gn?null:Yr[un-1],Cn=(Ln=sn,(Dn=kn)?Ln.indent-Dn.indent:Ln.indent-1);var Dn,Ln;if(gn&&(Qr=null,tn=1),!Qr||Cn!==0){const Wn=function(Xn,ii){const ui=new RegExp(`@list l${Xn.id}:level${Xn.indent}\\s*({[^}]*)`,"gi"),Ti=/mso-level-number-format:([^;]{0,100});/gi,Xi=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,$o=ui.exec(ii);let ya="decimal",Ns="ol",ss=null;if($o&&$o[1]){const ql=Ti.exec($o[1]);if(ql&&ql[1]&&(ya=ql[1].trim(),Ns=ya!=="bullet"&&ya!=="image"?"ol":"ul"),ya==="bullet"){const Hl=function(Zh){const qu=function(fd){if(fd.getChild(0).is("$text"))return null;for(const pd of fd.getChildren()){if(!pd.is("element","span"))continue;const mh=pd.getChild(0);if(mh)return mh.is("$text")?mh:mh.getChild(0)}return null}(Zh);if(!qu)return null;const du=qu._data;return du==="o"?"circle":du==="Â·"?"disc":du==="Â§"?"square":null}(Xn.element);Hl&&(ya=Hl)}else{const Hl=Xi.exec($o[1]);Hl&&Hl[1]&&(ss=parseInt(Hl[1]))}}return{type:Ns,startIndex:ss,style:TD(ya)}}(sn,Fr);if(Qr){if(sn.indent>tn){const Xn=Qr.getChild(Qr.childCount-1),ii=Xn.getChild(Xn.childCount-1);Qr=ow(Wn,ii,Ur),tn+=1}else if(sn.indent<tn){const Xn=tn-sn.indent;Qr=function(ii,ui){const Ti=ii.getAncestors({parentFirst:!0});let Xi=null,$o=0;for(const ya of Ti)if((ya.is("element","ul")||ya.is("element","ol"))&&$o++,$o===ui){Xi=ya;break}return Xi}(Qr,Xn),tn=sn.indent}}else Qr=ow(Wn,sn.element,Ur);sn.indent<=tn&&(Qr.is("element",Wn.type)||(Qr=Ur.rename(Wn.type,Qr)))}const zn=function(Wn,Xn){return function(ii,ui){const Ti=new zc({name:"span",styles:{"mso-list":"Ignore"}}),Xi=ui.createRangeIn(ii);for(const $o of Xi)$o.type==="elementStart"&&Ti.match($o.item)&&ui.remove($o.item)}(Wn,Xn),Xn.removeStyle("text-indent",Wn),Xn.rename("li",Wn)}(sn.element,Ur);Ur.appendChild(zn,Qr)})}function TD(Xr){if(Xr.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(Xr){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return Xr;default:return null}}function ow(Xr,Fr,Ur){const Yr=Fr.parent,Qr=Ur.createElement(Xr.type),tn=Yr.getChildIndex(Fr)+1;return Ur.insertChild(tn,Qr,Yr),Xr.style&&Ur.setStyle("list-style-type",Xr.style,Qr),Xr.startIndex&&Xr.startIndex>1&&Ur.setAttribute("start",Xr.startIndex,Qr),Qr}function MD(Xr){const Fr={},Ur=Xr.getStyle("mso-list");if(Ur){const Yr=Ur.match(/(^|\s{1,100})l(\d+)/i),Qr=Ur.match(/\s{0,100}lfo(\d+)/i),tn=Ur.match(/\s{0,100}level(\d+)/i);Yr&&Qr&&tn&&(Fr.id=Yr[2],Fr.order=Qr[1],Fr.indent=parseInt(tn[1]))}return Fr}function ID(Xr,Fr){if(!Xr.childCount)return;const Ur=new uh(Xr.document),Yr=function(tn,sn){const un=sn.createRangeIn(tn),gn=new zc({name:/v:(.+)/}),kn=[];for(const Cn of un){if(Cn.type!="elementStart")continue;const Dn=Cn.item,Ln=Dn.previousSibling,zn=Ln&&Ln.is("element")?Ln.name:null;gn.match(Dn)&&Dn.getAttribute("o:gfxdata")&&zn!=="v:shapetype"&&kn.push(Cn.item.getAttribute("id"))}return kn}(Xr,Ur);(function(tn,sn,un){const gn=un.createRangeIn(sn),kn=new zc({name:"img"}),Cn=[];for(const Dn of gn)if(Dn.item.is("element")&&kn.match(Dn.item)){const Ln=Dn.item,zn=Ln.getAttribute("v:shapes")?Ln.getAttribute("v:shapes").split(" "):[];zn.length&&zn.every(Wn=>tn.indexOf(Wn)>-1)?Cn.push(Ln):Ln.getAttribute("src")||Cn.push(Ln)}for(const Dn of Cn)un.remove(Dn)})(Yr,Xr,Ur),function(tn,sn,un){const gn=un.createRangeIn(sn),kn=[];for(const Ln of gn)if(Ln.type=="elementStart"&&Ln.item.is("element","v:shape")){const zn=Ln.item.getAttribute("id");if(tn.includes(zn))continue;Cn(Ln.item.parent.getChildren(),zn)||kn.push(Ln.item)}for(const Ln of kn){const zn={src:Dn(Ln)};Ln.hasAttribute("alt")&&(zn.alt=Ln.getAttribute("alt"));const Wn=un.createElement("img",zn);un.insertChild(Ln.index+1,Wn,Ln.parent)}function Cn(Ln,zn){for(const Wn of Ln)if(Wn.is("element")&&(Wn.name=="img"&&Wn.getAttribute("v:shapes")==zn||Cn(Wn.getChildren(),zn)))return!0;return!1}function Dn(Ln){for(const zn of Ln.getChildren())if(zn.is("element")&&zn.getAttribute("src"))return zn.getAttribute("src")}}(Yr,Xr,Ur),function(tn,sn){const un=sn.createRangeIn(tn),gn=new zc({name:/v:(.+)/}),kn=[];for(const Cn of un)Cn.type=="elementStart"&&gn.match(Cn.item)&&kn.push(Cn.item);for(const Cn of kn)sn.remove(Cn)}(Xr,Ur);const Qr=function(tn,sn){const un=sn.createRangeIn(tn),gn=new zc({name:"img"}),kn=[];for(const Cn of un)Cn.item.is("element")&&gn.match(Cn.item)&&Cn.item.getAttribute("src").startsWith("file://")&&kn.push(Cn.item);return kn}(Xr,Ur);Qr.length&&function(tn,sn,un){if(tn.length===sn.length)for(let gn=0;gn<tn.length;gn++){const kn=`data:${sn[gn].type};base64,${LD(sn[gn].hex)}`;un.setAttribute("src",kn,tn[gn])}}(Qr,function(tn){if(!tn)return[];const sn=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,un=new RegExp("(?:("+sn.source+"))([\\da-fA-F\\s]+)\\}","g"),gn=tn.match(un),kn=[];if(gn)for(const Cn of gn){let Dn=!1;Cn.includes("\\pngblip")?Dn="image/png":Cn.includes("\\jpegblip")&&(Dn="image/jpeg"),Dn&&kn.push({hex:Cn.replace(sn,"").replace(/[^\da-fA-F]/g,""),type:Dn})}return kn}(Fr),Ur)}function LD(Xr){return btoa(Xr.match(/\w{2}/g).map(Fr=>String.fromCharCode(parseInt(Fr,16))).join(""))}const PD=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,OD=/xmlns:o="urn:schemas-microsoft-com/i;class RD{constructor(Fr){this.document=Fr}isActive(Fr){return PD.test(Fr)||OD.test(Fr)}execute(Fr){const{body:Ur,stylesString:Yr}=Fr._parsedData;ED(Ur,Yr),ID(Ur,Fr.dataTransfer.getData("text/rtf")),Fr.content=Ur}}function aw(Xr,Fr,Ur,{blockElements:Yr,inlineObjectElements:Qr}){let tn=Ur.createPositionAt(Xr,Fr=="forward"?"after":"before");return tn=tn.getLastMatchingPosition(({item:sn})=>sn.is("element")&&!Yr.includes(sn.name)&&!Qr.includes(sn.name),{direction:Fr}),Fr=="forward"?tn.nodeAfter:tn.nodeBefore}function sw(Xr,Fr){return!!Xr&&Xr.is("element")&&Fr.includes(Xr.name)}const $D=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class ND{constructor(Fr){this.document=Fr}isActive(Fr){return $D.test(Fr)}execute(Fr){const Ur=new uh(this.document),{body:Yr}=Fr._parsedData;(function(Qr,tn){for(const sn of Qr.getChildren())if(sn.is("element","b")&&sn.getStyle("font-weight")==="normal"){const un=Qr.getChildIndex(sn);tn.remove(sn),tn.insertChild(un,sn.getChildren(),Qr)}})(Yr,Ur),function(Qr,tn){for(const sn of tn.createRangeIn(Qr)){const un=sn.item;if(un.is("element","li")){const gn=un.getChild(0);gn&&gn.is("element","p")&&tn.unwrapElement(gn)}}}(Yr,Ur),function(Qr,tn){const sn=new Oh(tn.document.stylesProcessor),un=new no(sn,{renderingMode:"data"}),gn=un.blockElements,kn=un.inlineObjectElements,Cn=[];for(const Dn of tn.createRangeIn(Qr)){const Ln=Dn.item;if(Ln.is("element","br")){const zn=aw(Ln,"forward",tn,{blockElements:gn,inlineObjectElements:kn}),Wn=aw(Ln,"backward",tn,{blockElements:gn,inlineObjectElements:kn}),Xn=sw(zn,gn);(sw(Wn,gn)||Xn)&&Cn.push(Ln)}}for(const Dn of Cn)Dn.hasClass("Apple-interchange-newline")?tn.remove(Dn):tn.replace(Dn,tn.createElement("p"))}(Yr,Ur),Fr.content=Yr}}const BD=/<google-sheets-html-origin/i;class FD{constructor(Fr){this.document=Fr}isActive(Fr){return BD.test(Fr)}execute(Fr){const Ur=new uh(this.document),{body:Yr}=Fr._parsedData;(function(Qr,tn){for(const sn of Qr.getChildren())if(sn.is("element","google-sheets-html-origin")){const un=Qr.getChildIndex(sn);tn.remove(sn),tn.insertChild(un,sn.getChildren(),Qr)}})(Yr,Ur),function(Qr,tn){for(const sn of Qr.getChildren())sn.is("element","table")&&sn.hasAttribute("xmlns")&&tn.removeAttribute("xmlns",sn)}(Yr,Ur),function(Qr,tn){for(const sn of Qr.getChildren())sn.is("element","table")&&sn.getStyle("width")==="0px"&&tn.removeStyle("width",sn)}(Yr,Ur),function(Qr,tn){for(const sn of Array.from(Qr.getChildren()))sn.is("element","style")&&tn.remove(sn)}(Yr,Ur),Fr.content=Yr}}function lw(Xr){return Xr.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(Fr,Ur)=>Ur.length===1?" ":Array(Ur.length+1).join("Â  ").substr(0,Ur.length))}function zD(Xr,Fr){const Ur=new DOMParser,Yr=function(gn){return lw(lw(gn)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"Â </").replace(/ <o:p><\/o:p>/g,"Â <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(gn){const kn="</body>",Cn="</html>",Dn=gn.indexOf(kn);if(Dn<0)return gn;const Ln=gn.indexOf(Cn,Dn+kn.length);return gn.substring(0,Dn+kn.length)+(Ln>=0?gn.substring(Ln):"")}(Xr=Xr.replace(/<!--\[if gte vml 1]>/g,""))),Qr=Ur.parseFromString(Yr,"text/html");(function(gn){gn.querySelectorAll("span[style*=spacerun]").forEach(kn=>{const Cn=kn,Dn=Cn.innerText.length||0;Cn.innerText=Array(Dn+1).join("Â  ").substr(0,Dn)})})(Qr);const tn=Qr.body.innerHTML,sn=function(gn,kn){const Cn=new Oh(kn),Dn=new no(Cn,{renderingMode:"data"}),Ln=gn.createDocumentFragment(),zn=gn.body.childNodes;for(;zn.length>0;)Ln.appendChild(zn[0]);return Dn.domToView(Ln,{skipComments:!0})}(Qr,Fr),un=function(gn){const kn=[],Cn=[],Dn=Array.from(gn.getElementsByTagName("style"));for(const Ln of Dn)Ln.sheet&&Ln.sheet.cssRules&&Ln.sheet.cssRules.length&&(kn.push(Ln.sheet),Cn.push(Ln.innerHTML));return{styles:kn,stylesString:Cn.join(" ")}}(Qr);return{body:sn,bodyString:tn,styles:un.styles,stylesString:un.stylesString}}function Cl(Xr,Fr,Ur,Yr,Qr=1){Fr!=null&&Qr!=null&&Fr>Qr?Yr.setAttribute(Xr,Fr,Ur):Yr.removeAttribute(Xr,Ur)}function fh(Xr,Fr,Ur={}){const Yr=Xr.createElement("tableCell",Ur);return Xr.insertElement("paragraph",Yr),Xr.insert(Yr,Fr),Yr}function Mm(Xr,Fr){const Ur=Fr.parent.parent,Yr=parseInt(Ur.getAttribute("headingColumns")||"0"),{column:Qr}=Xr.getCellLocation(Fr);return!!Yr&&Qr<Yr}function HD(){return Xr=>{Xr.on("element:table",(Fr,Ur,Yr)=>{const Qr=Ur.viewItem;if(!Yr.consumable.test(Qr,{name:!0}))return;const{rows:tn,headingRows:sn,headingColumns:un}=function(Cn){let Dn,Ln=0;const zn=[],Wn=[];let Xn;for(const ii of Array.from(Cn.getChildren())){if(ii.name!=="tbody"&&ii.name!=="thead"&&ii.name!=="tfoot")continue;ii.name!=="thead"||Xn||(Xn=ii);const ui=Array.from(ii.getChildren()).filter(Ti=>Ti.is("element","tr"));for(const Ti of ui)if(Xn&&ii===Xn||ii.name==="tbody"&&Array.from(Ti.getChildren()).length&&Array.from(Ti.getChildren()).every(Xi=>Xi.is("element","th")))Ln++,zn.push(Ti);else{Wn.push(Ti);const Xi=VD(Ti);(!Dn||Xi<Dn)&&(Dn=Xi)}}return{headingRows:Ln,headingColumns:Dn||0,rows:[...zn,...Wn]}}(Qr),gn={};un&&(gn.headingColumns=un),sn&&(gn.headingRows=sn);const kn=Yr.writer.createElement("table",gn);if(Yr.safeInsert(kn,Ur.modelCursor)){if(Yr.consumable.consume(Qr,{name:!0}),tn.forEach(Cn=>Yr.convertItem(Cn,Yr.writer.createPositionAt(kn,"end"))),Yr.convertChildren(Qr,Yr.writer.createPositionAt(kn,"end")),kn.isEmpty){const Cn=Yr.writer.createElement("tableRow");Yr.writer.insert(Cn,Yr.writer.createPositionAt(kn,"end")),fh(Yr.writer,Yr.writer.createPositionAt(Cn,"end"))}Yr.updateConversionResult(kn,Ur)}})}}function cw(Xr){return Fr=>{Fr.on(`element:${Xr}`,(Ur,Yr,{writer:Qr})=>{if(!Yr.modelRange)return;const tn=Yr.modelRange.start.nodeAfter,sn=Qr.createPositionAt(tn,0);if(Yr.viewItem.isEmpty)return void Qr.insertElement("paragraph",sn);const un=Array.from(tn.getChildren());if(un.every(gn=>gn.is("element","$marker"))){const gn=Qr.createElement("paragraph");Qr.insert(gn,Qr.createPositionAt(tn,0));for(const kn of un)Qr.move(Qr.createRangeOn(kn),Qr.createPositionAt(gn,"end"))}},{priority:"low"})}}function VD(Xr){let Fr=0,Ur=0;const Yr=Array.from(Xr.getChildren()).filter(Qr=>Qr.name==="th"||Qr.name==="td");for(;Ur<Yr.length&&Yr[Ur].name==="th";){const Qr=Yr[Ur];Fr+=parseInt(Qr.getAttribute("colspan")||"1"),Ur++}return Fr}class $s{constructor(Fr,Ur={}){this._table=Fr,this._startRow=Ur.row!==void 0?Ur.row:Ur.startRow||0,this._endRow=Ur.row!==void 0?Ur.row:Ur.endRow,this._startColumn=Ur.column!==void 0?Ur.column:Ur.startColumn||0,this._endColumn=Ur.column!==void 0?Ur.column:Ur.endColumn,this._includeAllSlots=!!Ur.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const Fr=this._table.getChild(this._rowIndex);if(!Fr||this._isOverEndRow())return{done:!0,value:void 0};if(!Fr.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let Ur=null;const Yr=this._getSpanned();if(Yr)this._includeAllSlots&&!this._shouldSkipSlot()&&(Ur=this._formatOutValue(Yr.cell,Yr.row,Yr.column));else{const Qr=Fr.getChild(this._cellIndex);if(!Qr)return this._advanceToNextRow();const tn=parseInt(Qr.getAttribute("colspan")||"1"),sn=parseInt(Qr.getAttribute("rowspan")||"1");(tn>1||sn>1)&&this._recordSpans(Qr,sn,tn),this._shouldSkipSlot()||(Ur=this._formatOutValue(Qr)),this._nextCellAtColumn=this._column+tn}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,Ur||this.next()}skipRow(Fr){this._skipRows.add(Fr)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(Fr,Ur=this._row,Yr=this._column){return{done:!1,value:new jD(this,Fr,Ur,Yr)}}_shouldSkipSlot(){const Fr=this._skipRows.has(this._row),Ur=this._row<this._startRow,Yr=this._column<this._startColumn,Qr=this._endColumn!==void 0&&this._column>this._endColumn;return Fr||Ur||Yr||Qr}_getSpanned(){const Fr=this._spannedCells.get(this._row);return Fr&&Fr.get(this._column)||null}_recordSpans(Fr,Ur,Yr){const Qr={cell:Fr,row:this._row,column:this._column};for(let tn=this._row;tn<this._row+Ur;tn++)for(let sn=this._column;sn<this._column+Yr;sn++)tn==this._row&&sn==this._column||this._markSpannedCell(tn,sn,Qr)}_markSpannedCell(Fr,Ur,Yr){this._spannedCells.has(Fr)||this._spannedCells.set(Fr,new Map),this._spannedCells.get(Fr).set(Ur,Yr)}}class jD{constructor(Fr,Ur,Yr,Qr){this.cell=Ur,this.row=Fr._row,this.column=Fr._column,this.cellAnchorRow=Yr,this.cellAnchorColumn=Qr,this._cellIndex=Fr._cellIndex,this._rowIndex=Fr._rowIndex,this._table=Fr._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function uw(Xr,Fr){return(Ur,{writer:Yr})=>{const Qr=Ur.getAttribute("headingRows")||0,tn=Yr.createContainerElement("table",null,[]),sn=Yr.createContainerElement("figure",{class:"table"},tn);Qr>0&&Yr.insert(Yr.createPositionAt(tn,"end"),Yr.createContainerElement("thead",null,Yr.createSlot(un=>un.is("element","tableRow")&&un.index<Qr))),Qr<Xr.getRows(Ur)&&Yr.insert(Yr.createPositionAt(tn,"end"),Yr.createContainerElement("tbody",null,Yr.createSlot(un=>un.is("element","tableRow")&&un.index>=Qr)));for(const{positionOffset:un,filter:gn}of Fr.additionalSlots)Yr.insert(Yr.createPositionAt(tn,un),Yr.createSlot(gn));return Yr.insert(Yr.createPositionAt(tn,"after"),Yr.createSlot(un=>!un.is("element","tableRow")&&!Fr.additionalSlots.some(({filter:gn})=>gn(un)))),Fr.asWidget?function(un,gn){return gn.setCustomProperty("table",!0,un),um(un,gn,{hasSelectionHandle:!0})}(sn,Yr):sn}}function dw(Xr={}){return(Fr,{writer:Ur})=>{const Yr=Fr.parent,Qr=Yr.parent,tn=Qr.getChildIndex(Yr),sn=new $s(Qr,{row:tn}),un=Qr.getAttribute("headingRows")||0,gn=Qr.getAttribute("headingColumns")||0;let kn=null;for(const Cn of sn)if(Cn.cell==Fr){const Dn=Cn.row<un||Cn.column<gn?"th":"td";kn=Xr.asWidget?xb(Ur.createEditableElement(Dn),Ur):Ur.createContainerElement(Dn);break}return kn}}function hw(Xr={}){return(Fr,{writer:Ur})=>{if(!Fr.parent.is("element","tableCell")||!fw(Fr))return null;if(Xr.asWidget)return Ur.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const Yr=Ur.createContainerElement("p");return Ur.setCustomProperty("dataPipeline:transparentRendering",!0,Yr),Yr}}}function fw(Xr){return Xr.parent.childCount==1&&!!Xr.getAttributeKeys().next().done}class UD extends ja{refresh(){const Fr=this.editor.model,Ur=Fr.document.selection,Yr=Fr.schema;this.isEnabled=function(Qr,tn){const sn=Qr.getFirstPosition().parent,un=sn===sn.root?sn:sn.parent;return tn.checkChild(un,"table")}(Ur,Yr)}execute(Fr={}){const Ur=this.editor,Yr=Ur.model,Qr=Ur.plugins.get("TableUtils"),tn=Ur.config.get("table.defaultHeadings.rows"),sn=Ur.config.get("table.defaultHeadings.columns");Fr.headingRows===void 0&&tn&&(Fr.headingRows=tn),Fr.headingColumns===void 0&&sn&&(Fr.headingColumns=sn),Yr.change(un=>{const gn=Qr.createTable(un,Fr);Yr.insertObject(gn,null,null,{findOptimalPosition:"auto"}),un.setSelection(un.createPositionAt(gn.getNodeByPath([0,0,0]),0))})}}class pw extends ja{constructor(Fr,Ur={}){super(Fr),this.order=Ur.order||"below"}refresh(){const Fr=this.editor.model.document.selection,Ur=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(Fr).length;this.isEnabled=Ur}execute(){const Fr=this.editor,Ur=Fr.model.document.selection,Yr=Fr.plugins.get("TableUtils"),Qr=this.order==="above",tn=Yr.getSelectionAffectedTableCells(Ur),sn=Yr.getRowIndexes(tn),un=Qr?sn.first:sn.last,gn=tn[0].findAncestor("table");Yr.insertRows(gn,{at:Qr?un:un+1,copyStructureFromAbove:!Qr})}}class gw extends ja{constructor(Fr,Ur={}){super(Fr),this.order=Ur.order||"right"}refresh(){const Fr=this.editor.model.document.selection,Ur=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(Fr).length;this.isEnabled=Ur}execute(){const Fr=this.editor,Ur=Fr.model.document.selection,Yr=Fr.plugins.get("TableUtils"),Qr=this.order==="left",tn=Yr.getSelectionAffectedTableCells(Ur),sn=Yr.getColumnIndexes(tn),un=Qr?sn.first:sn.last,gn=tn[0].findAncestor("table");Yr.insertColumns(gn,{columns:1,at:Qr?un:un+1})}}class mw extends ja{constructor(Fr,Ur={}){super(Fr),this.direction=Ur.direction||"horizontally"}refresh(){const Fr=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=Fr.length===1}execute(){const Fr=this.editor.plugins.get("TableUtils"),Ur=Fr.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?Fr.splitCellHorizontally(Ur,2):Fr.splitCellVertically(Ur,2)}}function vw(Xr,Fr,Ur){const{startRow:Yr,startColumn:Qr,endRow:tn,endColumn:sn}=Fr,un=Ur.createElement("table"),gn=tn-Yr+1;for(let Cn=0;Cn<gn;Cn++)Ur.insertElement("tableRow",un,"end");const kn=[...new $s(Xr,{startRow:Yr,endRow:tn,startColumn:Qr,endColumn:sn,includeAllSlots:!0})];for(const{row:Cn,column:Dn,cell:Ln,isAnchor:zn,cellAnchorRow:Wn,cellAnchorColumn:Xn}of kn){const ii=Cn-Yr,ui=un.getChild(ii);if(zn){const Ti=Ur.cloneElement(Ln);Ur.append(Ti,ui),kw(Ti,Cn,Dn,tn,sn,Ur)}else(Wn<Yr||Xn<Qr)&&fh(Ur,Ur.createPositionAt(ui,"end"))}return function(Cn,Dn,Ln,zn,Wn){const Xn=parseInt(Dn.getAttribute("headingRows")||"0");Xn>0&&Cl("headingRows",Xn-Ln,Cn,Wn,0);const ii=parseInt(Dn.getAttribute("headingColumns")||"0");ii>0&&Cl("headingColumns",ii-zn,Cn,Wn,0)}(un,Xr,Yr,Qr,Ur),un}function yw(Xr,Fr,Ur=0){const Yr=[],Qr=new $s(Xr,{startRow:Ur,endRow:Fr-1});for(const tn of Qr){const{row:sn,cellHeight:un}=tn;sn<Fr&&Fr<=sn+un-1&&Yr.push(tn)}return Yr}function bw(Xr,Fr,Ur){const Yr=Xr.parent,Qr=Yr.parent,tn=Yr.index,sn=Fr-tn,un={},gn=parseInt(Xr.getAttribute("rowspan"))-sn;gn>1&&(un.rowspan=gn);const kn=parseInt(Xr.getAttribute("colspan")||"1");kn>1&&(un.colspan=kn);const Cn=tn+sn,Dn=[...new $s(Qr,{startRow:tn,endRow:Cn,includeAllSlots:!0})];let Ln,zn=null;for(const Wn of Dn){const{row:Xn,column:ii,cell:ui}=Wn;ui===Xr&&Ln===void 0&&(Ln=ii),Ln!==void 0&&Ln===ii&&Xn===Cn&&(zn=fh(Ur,Wn.getPositionBefore(),un))}return Cl("rowspan",sn,Xr,Ur),zn}function _w(Xr,Fr){const Ur=[],Yr=new $s(Xr);for(const Qr of Yr){const{column:tn,cellWidth:sn}=Qr;tn<Fr&&Fr<=tn+sn-1&&Ur.push(Qr)}return Ur}function ww(Xr,Fr,Ur,Yr){const Qr=Ur-Fr,tn={},sn=parseInt(Xr.getAttribute("colspan"))-Qr;sn>1&&(tn.colspan=sn);const un=parseInt(Xr.getAttribute("rowspan")||"1");un>1&&(tn.rowspan=un);const gn=fh(Yr,Yr.createPositionAfter(Xr),tn);return Cl("colspan",Qr,Xr,Yr),gn}function kw(Xr,Fr,Ur,Yr,Qr,tn){const sn=parseInt(Xr.getAttribute("colspan")||"1"),un=parseInt(Xr.getAttribute("rowspan")||"1");Ur+sn-1>Qr&&Cl("colspan",Qr-Ur+1,Xr,tn,1),Fr+un-1>Yr&&Cl("rowspan",Yr-Fr+1,Xr,tn,1)}function Im(Xr,Fr){const Ur=Fr.getColumns(Xr),Yr=new Array(Ur).fill(0);for(const{column:tn}of new $s(Xr))Yr[tn]++;const Qr=Yr.reduce((tn,sn,un)=>sn?tn:[...tn,un],[]);if(Qr.length>0){const tn=Qr[Qr.length-1];return Fr.removeColumns(Xr,{at:tn}),!0}return!1}function Lm(Xr,Fr){const Ur=[],Yr=Fr.getRows(Xr);for(let Qr=0;Qr<Yr;Qr++)Xr.getChild(Qr).isEmpty&&Ur.push(Qr);if(Ur.length>0){const Qr=Ur[Ur.length-1];return Fr.removeRows(Xr,{at:Qr}),!0}return!1}function Pm(Xr,Fr){Im(Xr,Fr)||Lm(Xr,Fr)}function Aw(Xr,Fr){const Ur=Array.from(new $s(Xr,{startColumn:Fr.firstColumn,endColumn:Fr.lastColumn,row:Fr.lastRow}));if(Ur.every(({cellHeight:Qr})=>Qr===1))return Fr.lastRow;const Yr=Ur[0].cellHeight-1;return Fr.lastRow+Yr}function Cw(Xr,Fr){const Ur=Array.from(new $s(Xr,{startRow:Fr.firstRow,endRow:Fr.lastRow,column:Fr.lastColumn}));if(Ur.every(({cellWidth:Qr})=>Qr===1))return Fr.lastColumn;const Yr=Ur[0].cellWidth-1;return Fr.lastColumn+Yr}class ng extends ja{constructor(Fr,Ur){super(Fr),this.direction=Ur.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const Fr=this._getMergeableCell();this.value=Fr,this.isEnabled=!!Fr}execute(){const Fr=this.editor.model,Ur=Fr.document,Yr=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(Ur.selection)[0],Qr=this.value,tn=this.direction;Fr.change(sn=>{const un=tn=="right"||tn=="down",gn=un?Yr:Qr,kn=un?Qr:Yr,Cn=kn.parent;(function(Xn,ii,ui){xw(Xn)||(xw(ii)&&ui.remove(ui.createRangeIn(ii)),ui.move(ui.createRangeIn(Xn),ui.createPositionAt(ii,"end"))),ui.remove(Xn)})(kn,gn,sn);const Dn=this.isHorizontal?"colspan":"rowspan",Ln=parseInt(Yr.getAttribute(Dn)||"1"),zn=parseInt(Qr.getAttribute(Dn)||"1");sn.setAttribute(Dn,Ln+zn,gn),sn.setSelection(sn.createRangeIn(gn));const Wn=this.editor.plugins.get("TableUtils");Pm(Cn.findAncestor("table"),Wn)})}_getMergeableCell(){const Fr=this.editor.model.document,Ur=this.editor.plugins.get("TableUtils"),Yr=Ur.getTableCellsContainingSelection(Fr.selection)[0];if(!Yr)return;const Qr=this.isHorizontal?function(un,gn,kn){const Cn=un.parent,Dn=Cn.parent,Ln=gn=="right"?un.nextSibling:un.previousSibling,zn=(Dn.getAttribute("headingColumns")||0)>0;if(!Ln)return;const Wn=gn=="right"?un:Ln,Xn=gn=="right"?Ln:un,{column:ii}=kn.getCellLocation(Wn),{column:ui}=kn.getCellLocation(Xn),Ti=parseInt(Wn.getAttribute("colspan")||"1"),Xi=Mm(kn,Wn),$o=Mm(kn,Xn);if(!(zn&&Xi!=$o))return ii+Ti===ui?Ln:void 0}(Yr,this.direction,Ur):function(un,gn,kn){const Cn=un.parent,Dn=Cn.parent,Ln=Dn.getChildIndex(Cn);if(gn=="down"&&Ln===kn.getRows(Dn)-1||gn=="up"&&Ln===0)return null;const zn=parseInt(un.getAttribute("rowspan")||"1"),Wn=Dn.getAttribute("headingRows")||0,Xn=gn=="down"&&Ln+zn===Wn,ii=gn=="up"&&Ln===Wn;if(Wn&&(Xn||ii))return null;const ui=parseInt(un.getAttribute("rowspan")||"1"),Ti=gn=="down"?Ln+ui:Ln,Xi=[...new $s(Dn,{endRow:Ti})],$o=Xi.find(ss=>ss.cell===un),ya=$o.column,Ns=Xi.find(({row:ss,cellHeight:ql,column:Hl})=>Hl===ya&&(gn=="down"?ss===Ti:Ti===ss+ql));return Ns&&Ns.cell?Ns.cell:null}(Yr,this.direction,Ur);if(!Qr)return;const tn=this.isHorizontal?"rowspan":"colspan",sn=parseInt(Yr.getAttribute(tn)||"1");return parseInt(Qr.getAttribute(tn)||"1")===sn?Qr:void 0}}function xw(Xr){const Fr=Xr.getChild(0);return Xr.childCount==1&&Fr.is("element","paragraph")&&Fr.isEmpty}class GD extends ja{refresh(){const Fr=this.editor.plugins.get("TableUtils"),Ur=Fr.getSelectionAffectedTableCells(this.editor.model.document.selection),Yr=Ur[0];if(Yr){const Qr=Yr.findAncestor("table"),tn=Fr.getRows(Qr)-1,sn=Fr.getRowIndexes(Ur),un=sn.first===0&&sn.last===tn;this.isEnabled=!un}else this.isEnabled=!1}execute(){const Fr=this.editor.model,Ur=this.editor.plugins.get("TableUtils"),Yr=Ur.getSelectionAffectedTableCells(Fr.document.selection),Qr=Ur.getRowIndexes(Yr),tn=Yr[0],sn=tn.findAncestor("table"),un=Ur.getCellLocation(tn).column;Fr.change(gn=>{const kn=Qr.last-Qr.first+1;Ur.removeRows(sn,{at:Qr.first,rows:kn});const Cn=function(Dn,Ln,zn,Wn){const Xn=Dn.getChild(Math.min(Ln,Wn-1));let ii=Xn.getChild(0),ui=0;for(const Ti of Xn.getChildren()){if(ui>zn)return ii;ii=Ti,ui+=parseInt(Ti.getAttribute("colspan")||"1")}return ii}(sn,Qr.first,un,Ur.getRows(sn));gn.setSelection(gn.createPositionAt(Cn,0))})}}class WD extends ja{refresh(){const Fr=this.editor.plugins.get("TableUtils"),Ur=Fr.getSelectionAffectedTableCells(this.editor.model.document.selection),Yr=Ur[0];if(Yr){const Qr=Yr.findAncestor("table"),tn=Fr.getColumns(Qr),{first:sn,last:un}=Fr.getColumnIndexes(Ur);this.isEnabled=un-sn<tn-1}else this.isEnabled=!1}execute(){const Fr=this.editor.plugins.get("TableUtils"),[Ur,Yr]=function(gn,kn){const Cn=kn.getSelectionAffectedTableCells(gn),Dn=Cn[0],Ln=Cn.pop(),zn=[Dn,Ln];return Dn.isBefore(Ln)?zn:zn.reverse()}(this.editor.model.document.selection,Fr),Qr=Ur.parent.parent,tn=[...new $s(Qr)],sn={first:tn.find(gn=>gn.cell===Ur).column,last:tn.find(gn=>gn.cell===Yr).column},un=function(gn,kn,Cn,Dn){return parseInt(Cn.getAttribute("colspan")||"1")>1?Cn:kn.previousSibling||Cn.nextSibling?Cn.nextSibling||kn.previousSibling:Dn.first?gn.reverse().find(({column:zn})=>zn<Dn.first).cell:gn.reverse().find(({column:zn})=>zn>Dn.last).cell}(tn,Ur,Yr,sn);this.editor.model.change(gn=>{const kn=sn.last-sn.first+1;Fr.removeColumns(Qr,{at:sn.first,columns:kn}),gn.setSelection(gn.createPositionAt(un,0))})}}class YD extends ja{refresh(){const Fr=this.editor.plugins.get("TableUtils"),Ur=this.editor.model,Yr=Fr.getSelectionAffectedTableCells(Ur.document.selection),Qr=Yr.length>0;this.isEnabled=Qr,this.value=Qr&&Yr.every(tn=>this._isInHeading(tn,tn.parent.parent))}execute(Fr={}){if(Fr.forceValue===this.value)return;const Ur=this.editor.plugins.get("TableUtils"),Yr=this.editor.model,Qr=Ur.getSelectionAffectedTableCells(Yr.document.selection),tn=Qr[0].findAncestor("table"),{first:sn,last:un}=Ur.getRowIndexes(Qr),gn=this.value?sn:un+1,kn=tn.getAttribute("headingRows")||0;Yr.change(Cn=>{if(gn){const Dn=yw(tn,gn,gn>kn?kn:0);for(const{cell:Ln}of Dn)bw(Ln,gn,Cn)}Cl("headingRows",gn,tn,Cn,0)})}_isInHeading(Fr,Ur){const Yr=parseInt(Ur.getAttribute("headingRows")||"0");return!!Yr&&Fr.parent.index<Yr}}class qD extends ja{refresh(){const Fr=this.editor.model,Ur=this.editor.plugins.get("TableUtils"),Yr=Ur.getSelectionAffectedTableCells(Fr.document.selection),Qr=Yr.length>0;this.isEnabled=Qr,this.value=Qr&&Yr.every(tn=>Mm(Ur,tn))}execute(Fr={}){if(Fr.forceValue===this.value)return;const Ur=this.editor.plugins.get("TableUtils"),Yr=this.editor.model,Qr=Ur.getSelectionAffectedTableCells(Yr.document.selection),tn=Qr[0].findAncestor("table"),{first:sn,last:un}=Ur.getColumnIndexes(Qr),gn=this.value?sn:un+1;Yr.change(kn=>{if(gn){const Cn=_w(tn,gn);for(const{cell:Dn,column:Ln}of Cn)ww(Dn,Ln,gn,kn)}Cl("headingColumns",gn,tn,kn,0)})}}class gc extends go{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(Fr){const Ur=Fr.parent,Yr=Ur.parent,Qr=Yr.getChildIndex(Ur),tn=new $s(Yr,{row:Qr});for(const{cell:sn,row:un,column:gn}of tn)if(sn===Fr)return{row:un,column:gn}}createTable(Fr,Ur){const Yr=Fr.createElement("table"),Qr=Ur.rows||2,tn=Ur.columns||2;return Om(Fr,Yr,0,Qr,tn),Ur.headingRows&&Cl("headingRows",Math.min(Ur.headingRows,Qr),Yr,Fr,0),Ur.headingColumns&&Cl("headingColumns",Math.min(Ur.headingColumns,tn),Yr,Fr,0),Yr}insertRows(Fr,Ur={}){const Yr=this.editor.model,Qr=Ur.at||0,tn=Ur.rows||1,sn=Ur.copyStructureFromAbove!==void 0,un=Ur.copyStructureFromAbove?Qr-1:Qr,gn=this.getRows(Fr),kn=this.getColumns(Fr);if(Qr>gn)throw new wn("tableutils-insertrows-insert-out-of-range",this,{options:Ur});Yr.change(Cn=>{const Dn=Fr.getAttribute("headingRows")||0;if(Dn>Qr&&Cl("headingRows",Dn+tn,Fr,Cn,0),!sn&&(Qr===0||Qr===gn))return void Om(Cn,Fr,Qr,tn,kn);const Ln=sn?Math.max(Qr,un):Qr,zn=new $s(Fr,{endRow:Ln}),Wn=new Array(kn).fill(1);for(const{row:Xn,column:ii,cellHeight:ui,cellWidth:Ti,cell:Xi}of zn){const $o=Xn+ui-1,ya=Xn<=un&&un<=$o;Xn<Qr&&Qr<=$o?(Cn.setAttribute("rowspan",ui+tn,Xi),Wn[ii]=-Ti):sn&&ya&&(Wn[ii]=Ti)}for(let Xn=0;Xn<tn;Xn++){const ii=Cn.createElement("tableRow");Cn.insert(ii,Fr,Qr);for(let ui=0;ui<Wn.length;ui++){const Ti=Wn[ui],Xi=Cn.createPositionAt(ii,"end");Ti>0&&fh(Cn,Xi,Ti>1?{colspan:Ti}:void 0),ui+=Math.abs(Ti)-1}}})}insertColumns(Fr,Ur={}){const Yr=this.editor.model,Qr=Ur.at||0,tn=Ur.columns||1;Yr.change(sn=>{const un=Fr.getAttribute("headingColumns");Qr<un&&sn.setAttribute("headingColumns",un+tn,Fr);const gn=this.getColumns(Fr);if(Qr===0||gn===Qr){for(const Cn of Fr.getChildren())Cn.is("element","tableRow")&&Kh(tn,sn,sn.createPositionAt(Cn,Qr?"end":0));return}const kn=new $s(Fr,{column:Qr,includeAllSlots:!0});for(const Cn of kn){const{row:Dn,cell:Ln,cellAnchorColumn:zn,cellAnchorRow:Wn,cellWidth:Xn,cellHeight:ii}=Cn;if(zn<Qr){sn.setAttribute("colspan",Xn+tn,Ln);const ui=Wn+ii-1;for(let Ti=Dn;Ti<=ui;Ti++)kn.skipRow(Ti)}else Kh(tn,sn,Cn.getPositionBefore())}})}removeRows(Fr,Ur){const Yr=this.editor.model,Qr=Ur.rows||1,tn=this.getRows(Fr),sn=Ur.at,un=sn+Qr-1;if(un>tn-1)throw new wn("tableutils-removerows-row-index-out-of-range",this,{table:Fr,options:Ur});Yr.change(gn=>{const kn={first:sn,last:un},{cellsToMove:Cn,cellsToTrim:Dn}=function(Ln,{first:zn,last:Wn}){const Xn=new Map,ii=[];for(const{row:ui,column:Ti,cellHeight:Xi,cell:$o}of new $s(Ln,{endRow:Wn})){const ya=ui+Xi-1;if(ui>=zn&&ui<=Wn&&ya>Wn){const Ns=Xi-(Wn-ui+1);Xn.set(Ti,{cell:$o,rowspan:Ns})}if(ui<zn&&ya>=zn){let Ns;Ns=ya>=Wn?Wn-zn+1:ya-zn+1,ii.push({cell:$o,rowspan:Xi-Ns})}}return{cellsToMove:Xn,cellsToTrim:ii}}(Fr,kn);Cn.size&&function(Ln,zn,Wn,Xn){const ii=new $s(Ln,{includeAllSlots:!0,row:zn}),ui=[...ii],Ti=Ln.getChild(zn);let Xi;for(const{column:$o,cell:ya,isAnchor:Ns}of ui)if(Wn.has($o)){const{cell:ss,rowspan:ql}=Wn.get($o),Hl=Xi?Xn.createPositionAfter(Xi):Xn.createPositionAt(Ti,0);Xn.move(Xn.createRangeOn(ss),Hl),Cl("rowspan",ql,ss,Xn),Xi=ss}else Ns&&(Xi=ya)}(Fr,un+1,Cn,gn);for(let Ln=un;Ln>=sn;Ln--)gn.remove(Fr.getChild(Ln));for(const{rowspan:Ln,cell:zn}of Dn)Cl("rowspan",Ln,zn,gn);(function(Ln,{first:zn,last:Wn},Xn){const ii=Ln.getAttribute("headingRows")||0;zn<ii&&Cl("headingRows",Wn<ii?ii-(Wn-zn+1):zn,Ln,Xn,0)})(Fr,kn,gn),Im(Fr,this)||Lm(Fr,this)})}removeColumns(Fr,Ur){const Yr=this.editor.model,Qr=Ur.at,tn=Ur.columns||1,sn=Ur.at+tn-1;Yr.change(un=>{(function(gn,kn,Cn){const Dn=gn.getAttribute("headingColumns")||0;if(Dn&&kn.first<Dn){const Ln=Math.min(Dn-1,kn.last)-kn.first+1;Cn.setAttribute("headingColumns",Dn-Ln,gn)}})(Fr,{first:Qr,last:sn},un);for(let gn=sn;gn>=Qr;gn--)for(const{cell:kn,column:Cn,cellWidth:Dn}of[...new $s(Fr)])Cn<=gn&&Dn>1&&Cn+Dn>gn?Cl("colspan",Dn-1,kn,un):Cn===gn&&un.remove(kn);Lm(Fr,this)||Im(Fr,this)})}splitCellVertically(Fr,Ur=2){const Yr=this.editor.model,Qr=Fr.parent.parent,tn=parseInt(Fr.getAttribute("rowspan")||"1"),sn=parseInt(Fr.getAttribute("colspan")||"1");Yr.change(un=>{if(sn>1){const{newCellsSpan:gn,updatedSpan:kn}=Sw(sn,Ur);Cl("colspan",kn,Fr,un);const Cn={};gn>1&&(Cn.colspan=gn),tn>1&&(Cn.rowspan=tn),Kh(sn>Ur?Ur-1:sn-1,un,un.createPositionAfter(Fr),Cn)}if(sn<Ur){const gn=Ur-sn,kn=[...new $s(Qr)],{column:Cn}=kn.find(({cell:Wn})=>Wn===Fr),Dn=kn.filter(({cell:Wn,cellWidth:Xn,column:ii})=>Wn!==Fr&&ii===Cn||ii<Cn&&ii+Xn>Cn);for(const{cell:Wn,cellWidth:Xn}of Dn)un.setAttribute("colspan",Xn+gn,Wn);const Ln={};tn>1&&(Ln.rowspan=tn),Kh(gn,un,un.createPositionAfter(Fr),Ln);const zn=Qr.getAttribute("headingColumns")||0;zn>Cn&&Cl("headingColumns",zn+gn,Qr,un)}})}splitCellHorizontally(Fr,Ur=2){const Yr=this.editor.model,Qr=Fr.parent,tn=Qr.parent,sn=tn.getChildIndex(Qr),un=parseInt(Fr.getAttribute("rowspan")||"1"),gn=parseInt(Fr.getAttribute("colspan")||"1");Yr.change(kn=>{if(un>1){const Cn=[...new $s(tn,{startRow:sn,endRow:sn+un-1,includeAllSlots:!0})],{newCellsSpan:Dn,updatedSpan:Ln}=Sw(un,Ur);Cl("rowspan",Ln,Fr,kn);const{column:zn}=Cn.find(({cell:Xn})=>Xn===Fr),Wn={};Dn>1&&(Wn.rowspan=Dn),gn>1&&(Wn.colspan=gn);for(const Xn of Cn){const{column:ii,row:ui}=Xn;ui>=sn+Ln&&ii===zn&&(ui+sn+Ln)%Dn==0&&Kh(1,kn,Xn.getPositionBefore(),Wn)}}if(un<Ur){const Cn=Ur-un,Dn=[...new $s(tn,{startRow:0,endRow:sn})];for(const{cell:Wn,cellHeight:Xn,row:ii}of Dn)if(Wn!==Fr&&ii+Xn>sn){const ui=Xn+Cn;kn.setAttribute("rowspan",ui,Wn)}const Ln={};gn>1&&(Ln.colspan=gn),Om(kn,tn,sn+1,Cn,1,Ln);const zn=tn.getAttribute("headingRows")||0;zn>sn&&Cl("headingRows",zn+Cn,tn,kn)}})}getColumns(Fr){return[...Fr.getChild(0).getChildren()].reduce((Ur,Yr)=>Ur+parseInt(Yr.getAttribute("colspan")||"1"),0)}getRows(Fr){return Array.from(Fr.getChildren()).reduce((Ur,Yr)=>Yr.is("element","tableRow")?Ur+1:Ur,0)}createTableWalker(Fr,Ur={}){return new $s(Fr,Ur)}getSelectedTableCells(Fr){const Ur=[];for(const Yr of this.sortRanges(Fr.getRanges())){const Qr=Yr.getContainedElement();Qr&&Qr.is("element","tableCell")&&Ur.push(Qr)}return Ur}getTableCellsContainingSelection(Fr){const Ur=[];for(const Yr of Fr.getRanges()){const Qr=Yr.start.findAncestor("tableCell");Qr&&Ur.push(Qr)}return Ur}getSelectionAffectedTableCells(Fr){const Ur=this.getSelectedTableCells(Fr);return Ur.length?Ur:this.getTableCellsContainingSelection(Fr)}getRowIndexes(Fr){const Ur=Fr.map(Yr=>Yr.parent.index);return this._getFirstLastIndexesObject(Ur)}getColumnIndexes(Fr){const Ur=Fr[0].findAncestor("table"),Yr=[...new $s(Ur)].filter(Qr=>Fr.includes(Qr.cell)).map(Qr=>Qr.column);return this._getFirstLastIndexesObject(Yr)}isSelectionRectangular(Fr){if(Fr.length<2||!this._areCellInTheSameTableSection(Fr))return!1;const Ur=new Set,Yr=new Set;let Qr=0;for(const sn of Fr){const{row:un,column:gn}=this.getCellLocation(sn),kn=parseInt(sn.getAttribute("rowspan"))||1,Cn=parseInt(sn.getAttribute("colspan"))||1;Ur.add(un),Yr.add(gn),kn>1&&Ur.add(un+kn-1),Cn>1&&Yr.add(gn+Cn-1),Qr+=kn*Cn}return function(sn,un){const gn=Array.from(sn.values()),kn=Array.from(un.values()),Cn=Math.max(...gn),Dn=Math.min(...gn),Ln=Math.max(...kn),zn=Math.min(...kn);return(Cn-Dn+1)*(Ln-zn+1)}(Ur,Yr)==Qr}sortRanges(Fr){return Array.from(Fr).sort(KD)}_getFirstLastIndexesObject(Fr){const Ur=Fr.sort((Yr,Qr)=>Yr-Qr);return{first:Ur[0],last:Ur[Ur.length-1]}}_areCellInTheSameTableSection(Fr){const Ur=Fr[0].findAncestor("table"),Yr=this.getRowIndexes(Fr),Qr=parseInt(Ur.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(Yr,Qr))return!1;const tn=this.getColumnIndexes(Fr),sn=parseInt(Ur.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(tn,sn)}_areIndexesInSameSection({first:Fr,last:Ur},Yr){return Fr<Yr==Ur<Yr}}function Om(Xr,Fr,Ur,Yr,Qr,tn={}){for(let sn=0;sn<Yr;sn++){const un=Xr.createElement("tableRow");Xr.insert(un,Fr,Ur),Kh(Qr,Xr,Xr.createPositionAt(un,"end"),tn)}}function Kh(Xr,Fr,Ur,Yr={}){for(let Qr=0;Qr<Xr;Qr++)fh(Fr,Ur,Yr)}function Sw(Xr,Fr){if(Xr<Fr)return{newCellsSpan:1,updatedSpan:1};const Ur=Math.floor(Xr/Fr);return{newCellsSpan:Ur,updatedSpan:Xr-Ur*Fr+Ur}}function KD(Xr,Fr){const Ur=Xr.start,Yr=Fr.start;return Ur.isBefore(Yr)?-1:1}class ZD extends ja{refresh(){const Fr=this.editor.plugins.get(gc),Ur=Fr.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=Fr.isSelectionRectangular(Ur)}execute(){const Fr=this.editor.model,Ur=this.editor.plugins.get(gc);Fr.change(Yr=>{const Qr=Ur.getSelectedTableCells(Fr.document.selection),tn=Qr.shift(),{mergeWidth:sn,mergeHeight:un}=function(gn,kn,Cn){let Dn=0,Ln=0;for(const ui of kn){const{row:Ti,column:Xi}=Cn.getCellLocation(ui);Dn=Ew(ui,Xi,Dn,"colspan"),Ln=Ew(ui,Ti,Ln,"rowspan")}const{row:zn,column:Wn}=Cn.getCellLocation(gn),Xn=Dn-Wn,ii=Ln-zn;return{mergeWidth:Xn,mergeHeight:ii}}(tn,Qr,Ur);Cl("colspan",sn,tn,Yr),Cl("rowspan",un,tn,Yr);for(const gn of Qr)XD(gn,tn,Yr);Pm(tn.findAncestor("table"),Ur),Yr.setSelection(tn,"in")})}}function XD(Xr,Fr,Ur){Dw(Xr)||(Dw(Fr)&&Ur.remove(Ur.createRangeIn(Fr)),Ur.move(Ur.createRangeIn(Xr),Ur.createPositionAt(Fr,"end"))),Ur.remove(Xr)}function Dw(Xr){const Fr=Xr.getChild(0);return Xr.childCount==1&&Fr.is("element","paragraph")&&Fr.isEmpty}function Ew(Xr,Fr,Ur,Yr){const Qr=parseInt(Xr.getAttribute(Yr)||"1");return Math.max(Ur,Fr+Qr)}class QD extends ja{constructor(Fr){super(Fr),this.affectsData=!1}refresh(){const Fr=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=Fr.length>0}execute(){const Fr=this.editor.model,Ur=this.editor.plugins.get("TableUtils"),Yr=Ur.getSelectionAffectedTableCells(Fr.document.selection),Qr=Ur.getRowIndexes(Yr),tn=Yr[0].findAncestor("table"),sn=[];for(let un=Qr.first;un<=Qr.last;un++)for(const gn of tn.getChild(un).getChildren())sn.push(Fr.createRangeOn(gn));Fr.change(un=>{un.setSelection(sn)})}}class JD extends ja{constructor(Fr){super(Fr),this.affectsData=!1}refresh(){const Fr=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=Fr.length>0}execute(){const Fr=this.editor.plugins.get("TableUtils"),Ur=this.editor.model,Yr=Fr.getSelectionAffectedTableCells(Ur.document.selection),Qr=Yr[0],tn=Yr.pop(),sn=Qr.findAncestor("table"),un=Fr.getCellLocation(Qr),gn=Fr.getCellLocation(tn),kn=Math.min(un.column,gn.column),Cn=Math.max(un.column,gn.column),Dn=[];for(const Ln of new $s(sn,{startColumn:kn,endColumn:Cn}))Dn.push(Ur.createRangeOn(Ln.cell));Ur.change(Ln=>{Ln.setSelection(Dn)})}}function eE(Xr){Xr.document.registerPostFixer(Fr=>function(Ur,Yr){const Qr=Yr.document.differ.getChanges();let tn=!1;const sn=new Set;for(const un of Qr){let gn=null;un.type=="insert"&&un.name=="table"&&(gn=un.position.nodeAfter),un.type!="insert"&&un.type!="remove"||un.name!="tableRow"&&un.name!="tableCell"||(gn=un.position.findAncestor("table")),nE(un)&&(gn=un.range.start.findAncestor("table")),gn&&!sn.has(gn)&&(tn=tE(gn,Ur)||tn,tn=rE(gn,Ur)||tn,sn.add(gn))}return tn}(Fr,Xr))}function tE(Xr,Fr){let Ur=!1;const Yr=function(Qr){const tn=parseInt(Qr.getAttribute("headingRows")||"0"),sn=Array.from(Qr.getChildren()).reduce((gn,kn)=>kn.is("element","tableRow")?gn+1:gn,0),un=[];for(const{row:gn,cell:kn,cellHeight:Cn}of new $s(Qr)){if(Cn<2)continue;const Dn=gn<tn?tn:sn;if(gn+Cn>Dn){const Ln=Dn-gn;un.push({cell:kn,rowspan:Ln})}}return un}(Xr);if(Yr.length){Ur=!0;for(const Qr of Yr)Cl("rowspan",Qr.rowspan,Qr.cell,Fr,1)}return Ur}function rE(Xr,Fr){let Ur=!1;const Yr=function(un){const gn=new Array(un.childCount).fill(0);for(const{rowIndex:kn}of new $s(un,{includeAllSlots:!0}))gn[kn]++;return gn}(Xr),Qr=[];for(const[un,gn]of Yr.entries())!gn&&Xr.getChild(un).is("element","tableRow")&&Qr.push(un);if(Qr.length){Ur=!0;for(const un of Qr.reverse())Fr.remove(Xr.getChild(un)),Yr.splice(un,1)}const tn=Yr.filter((un,gn)=>Xr.getChild(gn).is("element","tableRow")),sn=tn[0];if(!tn.every(un=>un===sn)){const un=tn.reduce((gn,kn)=>kn>gn?kn:gn,0);for(const[gn,kn]of tn.entries()){const Cn=un-kn;if(Cn){for(let Dn=0;Dn<Cn;Dn++)fh(Fr,Fr.createPositionAt(Xr.getChild(gn),"end"));Ur=!0}}}return Ur}function nE(Xr){if(Xr.type!=="attribute")return!1;const Fr=Xr.attributeKey;return Fr==="headingRows"||Fr==="colspan"||Fr==="rowspan"}function iE(Xr){Xr.document.registerPostFixer(Fr=>function(Ur,Yr){const Qr=Yr.document.differ.getChanges();let tn=!1;for(const sn of Qr)sn.type=="insert"&&sn.name=="table"&&(tn=oE(sn.position.nodeAfter,Ur)||tn),sn.type=="insert"&&sn.name=="tableRow"&&(tn=Tw(sn.position.nodeAfter,Ur)||tn),sn.type=="insert"&&sn.name=="tableCell"&&(tn=Rm(sn.position.nodeAfter,Ur)||tn),sn.type!="remove"&&sn.type!="insert"||!aE(sn)||(tn=Rm(sn.position.parent,Ur)||tn);return tn}(Fr,Xr))}function oE(Xr,Fr){let Ur=!1;for(const Yr of Xr.getChildren())Yr.is("element","tableRow")&&(Ur=Tw(Yr,Fr)||Ur);return Ur}function Tw(Xr,Fr){let Ur=!1;for(const Yr of Xr.getChildren())Ur=Rm(Yr,Fr)||Ur;return Ur}function Rm(Xr,Fr){if(Xr.childCount==0)return Fr.insertElement("paragraph",Xr),!0;const Ur=Array.from(Xr.getChildren()).filter(Yr=>Yr.is("$text"));for(const Yr of Ur)Fr.wrap(Fr.createRangeOn(Yr),"paragraph");return!!Ur.length}function aE(Xr){return!!Xr.position.parent.is("element","tableCell")&&(Xr.type=="insert"&&Xr.name=="$text"||Xr.type=="remove")}function sE(Xr,Fr){if(!Xr.is("element","paragraph"))return!1;const Ur=Fr.toViewElement(Xr);return!!Ur&&fw(Xr)!==Ur.is("element","span")}var Mw=$r(3881),lE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Mw.Z,lE),Mw.Z.locals;class cE extends go{constructor(Fr){super(Fr),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[gc]}init(){const Fr=this.editor,Ur=Fr.model,Yr=Ur.schema,Qr=Fr.conversion,tn=Fr.plugins.get(gc);Yr.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),Yr.register("tableRow",{allowIn:"table",isLimit:!0}),Yr.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),Qr.for("upcast").add(sn=>{sn.on("element:figure",(un,gn,kn)=>{if(!kn.consumable.test(gn.viewItem,{name:!0,classes:"table"}))return;const Cn=function(Ln){for(const zn of Ln.getChildren())if(zn.is("element","table"))return zn}(gn.viewItem);if(!Cn||!kn.consumable.test(Cn,{name:!0}))return;kn.consumable.consume(gn.viewItem,{name:!0,classes:"table"});const Dn=wl(kn.convertItem(Cn,gn.modelCursor).modelRange.getItems());Dn?(kn.convertChildren(gn.viewItem,kn.writer.createPositionAt(Dn,"end")),kn.updateConversionResult(Dn,gn)):kn.consumable.revert(gn.viewItem,{name:!0,classes:"table"})})}),Qr.for("upcast").add(HD()),Qr.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:uw(tn,{asWidget:!0,additionalSlots:this._additionalSlots})}),Qr.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:uw(tn,{additionalSlots:this._additionalSlots})}),Qr.for("upcast").elementToElement({model:"tableRow",view:"tr"}),Qr.for("upcast").add(sn=>{sn.on("element:tr",(un,gn)=>{gn.viewItem.isEmpty&&gn.modelCursor.index==0&&un.stop()},{priority:"high"})}),Qr.for("downcast").elementToElement({model:"tableRow",view:(sn,{writer:un})=>sn.isEmpty?un.createEmptyElement("tr"):un.createContainerElement("tr")}),Qr.for("upcast").elementToElement({model:"tableCell",view:"td"}),Qr.for("upcast").elementToElement({model:"tableCell",view:"th"}),Qr.for("upcast").add(cw("td")),Qr.for("upcast").add(cw("th")),Qr.for("editingDowncast").elementToElement({model:"tableCell",view:dw({asWidget:!0})}),Qr.for("dataDowncast").elementToElement({model:"tableCell",view:dw()}),Qr.for("editingDowncast").elementToElement({model:"paragraph",view:hw({asWidget:!0}),converterPriority:"high"}),Qr.for("dataDowncast").elementToElement({model:"paragraph",view:hw(),converterPriority:"high"}),Qr.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),Qr.for("upcast").attributeToAttribute({model:{key:"colspan",value:Iw("colspan")},view:"colspan"}),Qr.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),Qr.for("upcast").attributeToAttribute({model:{key:"rowspan",value:Iw("rowspan")},view:"rowspan"}),Fr.config.define("table.defaultHeadings.rows",0),Fr.config.define("table.defaultHeadings.columns",0),Fr.commands.add("insertTable",new UD(Fr)),Fr.commands.add("insertTableRowAbove",new pw(Fr,{order:"above"})),Fr.commands.add("insertTableRowBelow",new pw(Fr,{order:"below"})),Fr.commands.add("insertTableColumnLeft",new gw(Fr,{order:"left"})),Fr.commands.add("insertTableColumnRight",new gw(Fr,{order:"right"})),Fr.commands.add("removeTableRow",new GD(Fr)),Fr.commands.add("removeTableColumn",new WD(Fr)),Fr.commands.add("splitTableCellVertically",new mw(Fr,{direction:"vertically"})),Fr.commands.add("splitTableCellHorizontally",new mw(Fr,{direction:"horizontally"})),Fr.commands.add("mergeTableCells",new ZD(Fr)),Fr.commands.add("mergeTableCellRight",new ng(Fr,{direction:"right"})),Fr.commands.add("mergeTableCellLeft",new ng(Fr,{direction:"left"})),Fr.commands.add("mergeTableCellDown",new ng(Fr,{direction:"down"})),Fr.commands.add("mergeTableCellUp",new ng(Fr,{direction:"up"})),Fr.commands.add("setTableColumnHeader",new qD(Fr)),Fr.commands.add("setTableRowHeader",new YD(Fr)),Fr.commands.add("selectTableRow",new QD(Fr)),Fr.commands.add("selectTableColumn",new JD(Fr)),eE(Ur),iE(Ur),this.listenTo(Ur.document,"change:data",()=>{(function(sn,un){const gn=sn.document.differ;for(const kn of gn.getChanges()){let Cn,Dn=!1;if(kn.type=="attribute"){const Xn=kn.range.start.nodeAfter;if(!Xn||!Xn.is("element","table")||kn.attributeKey!="headingRows"&&kn.attributeKey!="headingColumns")continue;Cn=Xn,Dn=kn.attributeKey=="headingRows"}else kn.name!="tableRow"&&kn.name!="tableCell"||(Cn=kn.position.findAncestor("table"),Dn=kn.name=="tableRow");if(!Cn)continue;const Ln=Cn.getAttribute("headingRows")||0,zn=Cn.getAttribute("headingColumns")||0,Wn=new $s(Cn);for(const Xn of Wn){const ii=Xn.row<Ln||Xn.column<zn?"th":"td",ui=un.mapper.toViewElement(Xn.cell);ui&&ui.is("element")&&ui.name!=ii&&un.reconvertItem(Dn?Xn.cell.parent:Xn.cell)}}})(Ur,Fr.editing),function(sn,un){const gn=sn.document.differ,kn=new Set;for(const Cn of gn.getChanges()){const Dn=Cn.type=="attribute"?Cn.range.start.parent:Cn.position.parent;Dn.is("element","tableCell")&&kn.add(Dn)}for(const Cn of kn.values()){const Dn=Array.from(Cn.getChildren()).filter(Ln=>sE(Ln,un.mapper));for(const Ln of Dn)un.reconvertItem(Ln)}}(Ur,Fr.editing)})}registerAdditionalSlot(Fr){this._additionalSlots.push(Fr)}}function Iw(Xr){return Fr=>{const Ur=parseInt(Fr.getAttribute(Xr));return Number.isNaN(Ur)||Ur<=0?null:Ur}}var Lw=$r(1613),uE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Lw.Z,uE),Lw.Z.locals;class dE extends Qa{constructor(Fr){super(Fr);const Ur=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Jc,this.focusTracker=new Dc,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(Yr,Qr)=>`${Qr} Ã ${Yr}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":Ur.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:Ur.to("label")}]}],on:{mousedown:Ur.to(Yr=>{Yr.preventDefault()}),click:Ur.to(()=>{this.fire("execute")})}}),this.on("boxover",(Yr,Qr)=>{const{row:tn,column:sn}=Qr.target.dataset;this.items.get(10*(parseInt(tn,10)-1)+(parseInt(sn,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(Yr,Qr,tn)=>{if(!tn)return;const{row:sn,column:un}=tn.dataset;this.set({rows:parseInt(sn),columns:parseInt(un)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:Fr,focusTracker:Ur,gridItems:Yr,numberOfColumns:Qr,uiLanguageDirection:tn}){const sn=typeof Qr=="number"?()=>Qr:Qr;function un(Cn){return Dn=>{const Ln=Yr.find(Xn=>Xn.element===Ur.focusedElement),zn=Yr.getIndex(Ln),Wn=Cn(zn,Yr);Yr.get(Wn).focus(),Dn.stopPropagation(),Dn.preventDefault()}}function gn(Cn,Dn){return Cn===Dn-1?0:Cn+1}function kn(Cn,Dn){return Cn===0?Dn-1:Cn-1}Fr.set("arrowright",un((Cn,Dn)=>tn==="rtl"?kn(Cn,Dn.length):gn(Cn,Dn.length))),Fr.set("arrowleft",un((Cn,Dn)=>tn==="rtl"?gn(Cn,Dn.length):kn(Cn,Dn.length))),Fr.set("arrowup",un((Cn,Dn)=>{let Ln=Cn-sn();return Ln<0&&(Ln=Cn+sn()*Math.floor(Dn.length/sn()),Ln>Dn.length-1&&(Ln-=sn())),Ln})),Fr.set("arrowdown",un((Cn,Dn)=>{let Ln=Cn+sn();return Ln>Dn.length-1&&(Ln=Cn%sn()),Ln}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const Fr of this.items)this.focusTracker.add(Fr.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const Fr=this.rows,Ur=this.columns;this.items.map((Yr,Qr)=>{const tn=Math.floor(Qr/10)<Fr&&Qr%10<Ur;Yr.set("isOn",tn)})}_createGridButton(Fr,Ur,Yr,Qr){const tn=new cs(Fr);return tn.set({label:Qr,class:"ck-insert-table-dropdown-grid-box"}),tn.extendTemplate({attributes:{"data-row":Ur,"data-column":Yr}}),tn}_createGridCollection(){const Fr=[];for(let Ur=0;Ur<100;Ur++){const Yr=Math.floor(Ur/10),Qr=Ur%10,tn=`${Yr+1} Ã ${Qr+1}`;Fr.push(this._createGridButton(this.locale,Yr+1,Qr+1,tn))}return this.createCollection(Fr)}}class hE extends go{static get pluginName(){return"TableUI"}init(){const Fr=this.editor,Ur=this.editor.t,Yr=Fr.locale.contentLanguageDirection==="ltr";Fr.ui.componentFactory.add("insertTable",Qr=>{const tn=Fr.commands.get("insertTable"),sn=Ld(Qr);let un;return sn.bind("isEnabled").to(tn),sn.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:Ur("Insert table"),tooltip:!0}),sn.on("change:isOpen",()=>{un||(un=new dE(Qr),sn.panelView.children.add(un),un.delegate("execute").to(sn),sn.on("execute",()=>{Fr.execute("insertTable",{rows:un.rows,columns:un.columns}),Fr.editing.view.focus()}))}),sn}),Fr.ui.componentFactory.add("tableColumn",Qr=>{const tn=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:Ur("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:Yr?"insertTableColumnLeft":"insertTableColumnRight",label:Ur("Insert column left")}},{type:"button",model:{commandName:Yr?"insertTableColumnRight":"insertTableColumnLeft",label:Ur("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:Ur("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:Ur("Select column")}}];return this._prepareDropdown(Ur("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',tn,Qr)}),Fr.ui.componentFactory.add("tableRow",Qr=>{const tn=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:Ur("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:Ur("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:Ur("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:Ur("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:Ur("Select row")}}];return this._prepareDropdown(Ur("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',tn,Qr)}),Fr.ui.componentFactory.add("mergeTableCells",Qr=>{const tn=[{type:"button",model:{commandName:"mergeTableCellUp",label:Ur("Merge cell up")}},{type:"button",model:{commandName:Yr?"mergeTableCellRight":"mergeTableCellLeft",label:Ur("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:Ur("Merge cell down")}},{type:"button",model:{commandName:Yr?"mergeTableCellLeft":"mergeTableCellRight",label:Ur("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:Ur("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:Ur("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(Ur("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',tn,Qr)})}_prepareDropdown(Fr,Ur,Yr,Qr){const tn=this.editor,sn=Ld(Qr),un=this._fillDropdownWithListOptions(sn,Yr);return sn.buttonView.set({label:Fr,icon:Ur,tooltip:!0}),sn.bind("isEnabled").toMany(un,"isEnabled",(...gn)=>gn.some(kn=>kn)),this.listenTo(sn,"execute",gn=>{tn.execute(gn.source.commandName),gn.source instanceof wh||tn.editing.view.focus()}),sn}_prepareMergeSplitButtonDropdown(Fr,Ur,Yr,Qr){const tn=this.editor,sn=Ld(Qr,jg),un="mergeTableCells",gn=tn.commands.get(un),kn=this._fillDropdownWithListOptions(sn,Yr);return sn.buttonView.set({label:Fr,icon:Ur,tooltip:!0,isEnabled:!0}),sn.bind("isEnabled").toMany([gn,...kn],"isEnabled",(...Cn)=>Cn.some(Dn=>Dn)),this.listenTo(sn.buttonView,"execute",()=>{tn.execute(un),tn.editing.view.focus()}),this.listenTo(sn,"execute",Cn=>{tn.execute(Cn.source.commandName),tn.editing.view.focus()}),sn}_fillDropdownWithListOptions(Fr,Ur){const Yr=this.editor,Qr=[],tn=new $c;for(const sn of Ur)fE(sn,Yr,Qr,tn);return py(Fr,tn),Qr}}function fE(Xr,Fr,Ur,Yr){if(Xr.type==="button"||Xr.type==="switchbutton"){const Qr=Xr.model=new Uy(Xr.model),{commandName:tn,bindIsOn:sn}=Xr.model,un=Fr.commands.get(tn);Ur.push(un),Qr.set({commandName:tn}),Qr.bind("isEnabled").to(un),sn&&Qr.bind("isOn").to(un,"value"),Qr.set({withText:!0})}Yr.add(Xr)}var Pw=$r(6945),pE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Pw.Z,pE),Pw.Z.locals;class ph extends go{static get pluginName(){return"TableSelection"}static get requires(){return[gc,gc]}init(){const Fr=this.editor,Ur=Fr.model,Yr=Fr.editing.view;this.listenTo(Ur,"deleteContent",(Qr,tn)=>this._handleDeleteContent(Qr,tn),{priority:"high"}),this.listenTo(Yr.document,"insertText",(Qr,tn)=>this._handleInsertTextEvent(Qr,tn),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const Fr=this.editor.plugins.get(gc),Ur=this.editor.model.document.selection,Yr=Fr.getSelectedTableCells(Ur);return Yr.length==0?null:Yr}getSelectionAsFragment(){const Fr=this.editor.plugins.get(gc),Ur=this.getSelectedTableCells();return Ur?this.editor.model.change(Yr=>{const Qr=Yr.createDocumentFragment(),{first:tn,last:sn}=Fr.getColumnIndexes(Ur),{first:un,last:gn}=Fr.getRowIndexes(Ur),kn=Ur[0].findAncestor("table");let Cn=gn,Dn=sn;if(Fr.isSelectionRectangular(Ur)){const zn={firstColumn:tn,lastColumn:sn,firstRow:un,lastRow:gn};Cn=Aw(kn,zn),Dn=Cw(kn,zn)}const Ln=vw(kn,{startRow:un,startColumn:tn,endRow:Cn,endColumn:Dn},Yr);return Yr.insert(Ln,Qr,0),Qr}):null}setCellSelection(Fr,Ur){const Yr=this._getCellsToSelect(Fr,Ur);this.editor.model.change(Qr=>{Qr.setSelection(Yr.cells.map(tn=>Qr.createRangeOn(tn)),{backward:Yr.backward})})}getFocusCell(){const Fr=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return Fr&&Fr.is("element","tableCell")?Fr:null}getAnchorCell(){const Fr=wl(this.editor.model.document.selection.getRanges()).getContainedElement();return Fr&&Fr.is("element","tableCell")?Fr:null}_defineSelectionConverter(){const Fr=this.editor,Ur=new Set;Fr.conversion.for("editingDowncast").add(Yr=>Yr.on("selection",(Qr,tn,sn)=>{const un=sn.writer;(function(Cn){for(const Dn of Ur)Cn.removeClass("ck-editor__editable_selected",Dn);Ur.clear()})(un);const gn=this.getSelectedTableCells();if(!gn)return;for(const Cn of gn){const Dn=sn.mapper.toViewElement(Cn);un.addClass("ck-editor__editable_selected",Dn),Ur.add(Dn)}const kn=sn.mapper.toViewElement(gn[gn.length-1]);un.setSelection(kn,0)},{priority:"lowest"}))}_enablePluginDisabling(){const Fr=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const Ur=this.getSelectedTableCells();if(!Ur)return;Fr.model.change(Yr=>{const Qr=Yr.createPositionAt(Ur[0],0),tn=Fr.model.schema.getNearestSelectionRange(Qr);Yr.setSelection(tn)})}})}_handleDeleteContent(Fr,Ur){const Yr=this.editor.plugins.get(gc),Qr=Ur[0],tn=Ur[1],sn=this.editor.model,un=!tn||tn.direction=="backward",gn=Yr.getSelectedTableCells(Qr);gn.length&&(Fr.stop(),sn.change(kn=>{const Cn=gn[un?gn.length-1:0];sn.change(Ln=>{for(const zn of gn)sn.deleteContent(Ln.createSelection(zn,"in"))});const Dn=sn.schema.getNearestSelectionRange(kn.createPositionAt(Cn,0));Qr.is("documentSelection")?kn.setSelection(Dn):Qr.setTo(Dn)}))}_handleInsertTextEvent(Fr,Ur){const Yr=this.editor,Qr=this.getSelectedTableCells();if(!Qr)return;const tn=Yr.editing.view,sn=Yr.editing.mapper,un=Qr.map(gn=>tn.createRangeOn(sn.toViewElement(gn)));Ur.selection=tn.createSelection(un)}_getCellsToSelect(Fr,Ur){const Yr=this.editor.plugins.get("TableUtils"),Qr=Yr.getCellLocation(Fr),tn=Yr.getCellLocation(Ur),sn=Math.min(Qr.row,tn.row),un=Math.max(Qr.row,tn.row),gn=Math.min(Qr.column,tn.column),kn=Math.max(Qr.column,tn.column),Cn=new Array(un-sn+1).fill(null).map(()=>[]),Dn={startRow:sn,endRow:un,startColumn:gn,endColumn:kn};for(const{row:Wn,cell:Xn}of new $s(Fr.findAncestor("table"),Dn))Cn[Wn-sn].push(Xn);const Ln=tn.row<Qr.row,zn=tn.column<Qr.column;return Ln&&Cn.reverse(),zn&&Cn.forEach(Wn=>Wn.reverse()),{cells:Cn.flat(),backward:Ln||zn}}}class gE extends go{static get pluginName(){return"TableClipboard"}static get requires(){return[ph,gc]}init(){const Fr=this.editor,Ur=Fr.editing.view.document;this.listenTo(Ur,"copy",(Yr,Qr)=>this._onCopyCut(Yr,Qr)),this.listenTo(Ur,"cut",(Yr,Qr)=>this._onCopyCut(Yr,Qr)),this.listenTo(Fr.model,"insertContent",(Yr,[Qr,tn])=>this._onInsertContent(Yr,Qr,tn),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(Fr,Ur){const Yr=this.editor.plugins.get(ph);if(!Yr.getSelectedTableCells()||Fr.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;Ur.preventDefault(),Fr.stop();const Qr=this.editor.data,tn=this.editor.editing.view.document,sn=Qr.toView(Yr.getSelectionAsFragment());tn.fire("clipboardOutput",{dataTransfer:Ur.dataTransfer,content:sn,method:Fr.name})}_onInsertContent(Fr,Ur,Yr){if(Yr&&!Yr.is("documentSelection"))return;const Qr=this.editor.model,tn=this.editor.plugins.get(gc);let sn=this.getTableIfOnlyTableInContent(Ur,Qr);if(!sn)return;const un=tn.getSelectionAffectedTableCells(Qr.document.selection);un.length?(Fr.stop(),Qr.change(gn=>{const kn={width:tn.getColumns(sn),height:tn.getRows(sn)},Cn=function(ii,ui,Ti,Xi){const $o=ii[0].findAncestor("table"),ya=Xi.getColumnIndexes(ii),Ns=Xi.getRowIndexes(ii),ss={firstColumn:ya.first,lastColumn:ya.last,firstRow:Ns.first,lastRow:Ns.last},ql=ii.length===1;return ql&&(ss.lastRow+=ui.height-1,ss.lastColumn+=ui.width-1,function(Hl,Zh,qu,du){const fd=du.getColumns(Hl),pd=du.getRows(Hl);qu>fd&&du.insertColumns(Hl,{at:fd,columns:qu-fd}),Zh>pd&&du.insertRows(Hl,{at:pd,rows:Zh-pd})}($o,ss.lastRow+1,ss.lastColumn+1,Xi)),ql||!Xi.isSelectionRectangular(ii)?function(Hl,Zh,qu){const{firstRow:du,lastRow:fd,firstColumn:pd,lastColumn:mh}=Zh,Xw={first:du,last:fd},Qw={first:pd,last:mh};Nm(Hl,pd,Xw,qu),Nm(Hl,mh+1,Xw,qu),$m(Hl,du,Qw,qu),$m(Hl,fd+1,Qw,qu,du)}($o,ss,Ti):(ss.lastRow=Aw($o,ss),ss.lastColumn=Cw($o,ss)),ss}(un,kn,gn,tn),Dn=Cn.lastRow-Cn.firstRow+1,Ln=Cn.lastColumn-Cn.firstColumn+1,zn={startRow:0,startColumn:0,endRow:Math.min(Dn,kn.height)-1,endColumn:Math.min(Ln,kn.width)-1};sn=vw(sn,zn,gn);const Wn=un[0].findAncestor("table"),Xn=this._replaceSelectedCellsWithPasted(sn,kn,Wn,Cn,gn);if(this.editor.plugins.get("TableSelection").isEnabled){const ii=tn.sortRanges(Xn.map(ui=>gn.createRangeOn(ui)));gn.setSelection(ii)}else gn.setSelection(Xn[0],0)})):Pm(sn,tn)}_replaceSelectedCellsWithPasted(Fr,Ur,Yr,Qr,tn){const{width:sn,height:un}=Ur,gn=function(ii,ui,Ti){const Xi=new Array(Ti).fill(null).map(()=>new Array(ui).fill(null));for(const{column:$o,row:ya,cell:Ns}of new $s(ii))Xi[ya][$o]=Ns;return Xi}(Fr,sn,un),kn=[...new $s(Yr,{startRow:Qr.firstRow,endRow:Qr.lastRow,startColumn:Qr.firstColumn,endColumn:Qr.lastColumn,includeAllSlots:!0})],Cn=[];let Dn;for(const ii of kn){const{row:ui,column:Ti}=ii;Ti===Qr.firstColumn&&(Dn=ii.getPositionBefore());const Xi=ui-Qr.firstRow,$o=Ti-Qr.firstColumn,ya=gn[Xi%un][$o%sn],Ns=ya?tn.cloneElement(ya):null,ss=this._replaceTableSlotCell(ii,Ns,Dn,tn);ss&&(kw(ss,ui,Ti,Qr.lastRow,Qr.lastColumn,tn),Cn.push(ss),Dn=tn.createPositionAfter(ss))}const Ln=parseInt(Yr.getAttribute("headingRows")||"0"),zn=parseInt(Yr.getAttribute("headingColumns")||"0"),Wn=Qr.firstRow<Ln&&Ln<=Qr.lastRow,Xn=Qr.firstColumn<zn&&zn<=Qr.lastColumn;if(Wn){const ii=$m(Yr,Ln,{first:Qr.firstColumn,last:Qr.lastColumn},tn,Qr.firstRow);Cn.push(...ii)}if(Xn){const ii=Nm(Yr,zn,{first:Qr.firstRow,last:Qr.lastRow},tn);Cn.push(...ii)}return Cn}_replaceTableSlotCell(Fr,Ur,Yr,Qr){const{cell:tn,isAnchor:sn}=Fr;return sn&&Qr.remove(tn),Ur?(Qr.insert(Ur,Yr),Ur):null}getTableIfOnlyTableInContent(Fr,Ur){if(!Fr.is("documentFragment")&&!Fr.is("element"))return null;if(Fr.is("element","table"))return Fr;if(Fr.childCount==1&&Fr.getChild(0).is("element","table"))return Fr.getChild(0);const Yr=Ur.createRangeIn(Fr);for(const Qr of Yr.getItems())if(Qr.is("element","table")){const tn=Ur.createRange(Yr.start,Ur.createPositionBefore(Qr));if(Ur.hasContent(tn,{ignoreWhitespaces:!0}))return null;const sn=Ur.createRange(Ur.createPositionAfter(Qr),Yr.end);return Ur.hasContent(sn,{ignoreWhitespaces:!0})?null:Qr}return null}}function $m(Xr,Fr,Ur,Yr,Qr=0){if(!(Fr<1))return yw(Xr,Fr,Qr).filter(({column:tn,cellWidth:sn})=>Ow(tn,sn,Ur)).map(({cell:tn})=>bw(tn,Fr,Yr))}function Nm(Xr,Fr,Ur,Yr){if(!(Fr<1))return _w(Xr,Fr).filter(({row:Qr,cellHeight:tn})=>Ow(Qr,tn,Ur)).map(({cell:Qr,column:tn})=>ww(Qr,tn,Fr,Yr))}function Ow(Xr,Fr,Ur){const Yr=Xr+Fr-1,{first:Qr,last:tn}=Ur;return Xr>=Qr&&Xr<=tn||Xr<Qr&&Yr>=Qr}class mE extends go{static get pluginName(){return"TableKeyboard"}static get requires(){return[ph,gc]}init(){const Fr=this.editor.editing.view.document;this.listenTo(Fr,"arrowKey",(...Ur)=>this._onArrowKey(...Ur),{context:"table"}),this.listenTo(Fr,"tab",(...Ur)=>this._handleTabOnSelectedTable(...Ur),{context:"figure"}),this.listenTo(Fr,"tab",(...Ur)=>this._handleTab(...Ur),{context:["th","td"]})}_handleTabOnSelectedTable(Fr,Ur){const Yr=this.editor,Qr=Yr.model.document.selection.getSelectedElement();Qr&&Qr.is("element","table")&&(Ur.preventDefault(),Ur.stopPropagation(),Fr.stop(),Yr.model.change(tn=>{tn.setSelection(tn.createRangeIn(Qr.getChild(0).getChild(0)))}))}_handleTab(Fr,Ur){const Yr=this.editor,Qr=this.editor.plugins.get(gc),tn=this.editor.plugins.get("TableSelection"),sn=Yr.model.document.selection,un=!Ur.shiftKey;let gn=Qr.getTableCellsContainingSelection(sn)[0];if(gn||(gn=tn.getFocusCell()),!gn)return;Ur.preventDefault(),Ur.stopPropagation(),Fr.stop();const kn=gn.parent,Cn=kn.parent,Dn=Cn.getChildIndex(kn),Ln=kn.getChildIndex(gn),zn=Ln===0;if(!un&&zn&&Dn===0)return void Yr.model.change(ui=>{ui.setSelection(ui.createRangeOn(Cn))});const Wn=Ln===kn.childCount-1,Xn=Dn===Qr.getRows(Cn)-1;if(un&&Xn&&Wn&&(Yr.execute("insertTableRowBelow"),Dn===Qr.getRows(Cn)-1))return void Yr.model.change(ui=>{ui.setSelection(ui.createRangeOn(Cn))});let ii;if(un&&Wn)ii=Cn.getChild(Dn+1).getChild(0);else if(!un&&zn){const ui=Cn.getChild(Dn-1);ii=ui.getChild(ui.childCount-1)}else ii=kn.getChild(Ln+(un?1:-1));Yr.model.change(ui=>{ui.setSelection(ui.createRangeIn(ii))})}_onArrowKey(Fr,Ur){const Yr=this.editor,Qr=yh(Ur.keyCode,Yr.locale.contentLanguageDirection);this._handleArrowKeys(Qr,Ur.shiftKey)&&(Ur.preventDefault(),Ur.stopPropagation(),Fr.stop())}_handleArrowKeys(Fr,Ur){const Yr=this.editor.plugins.get(gc),Qr=this.editor.plugins.get("TableSelection"),tn=this.editor.model,sn=tn.document.selection,un=["right","down"].includes(Fr),gn=Yr.getSelectedTableCells(sn);if(gn.length){let Cn;return Cn=Ur?Qr.getFocusCell():un?gn[gn.length-1]:gn[0],this._navigateFromCellInDirection(Cn,Fr,Ur),!0}const kn=sn.focus.findAncestor("tableCell");if(!kn)return!1;if(!sn.isCollapsed)if(Ur){if(sn.isBackward==un&&!sn.containsEntireContent(kn))return!1}else{const Cn=sn.getSelectedElement();if(!Cn||!tn.schema.isObject(Cn))return!1}return!!this._isSelectionAtCellEdge(sn,kn,un)&&(this._navigateFromCellInDirection(kn,Fr,Ur),!0)}_isSelectionAtCellEdge(Fr,Ur,Yr){const Qr=this.editor.model,tn=this.editor.model.schema,sn=Yr?Fr.getLastPosition():Fr.getFirstPosition();if(!tn.getLimitElement(sn).is("element","tableCell"))return Qr.createPositionAt(Ur,Yr?"end":0).isTouching(sn);const un=Qr.createSelection(sn);return Qr.modifySelection(un,{direction:Yr?"forward":"backward"}),sn.isEqual(un.focus)}_navigateFromCellInDirection(Fr,Ur,Yr=!1){const Qr=this.editor.model,tn=Fr.findAncestor("table"),sn=[...new $s(tn,{includeAllSlots:!0})],{row:un,column:gn}=sn[sn.length-1],kn=sn.find(({cell:Xn})=>Xn==Fr);let{row:Cn,column:Dn}=kn;switch(Ur){case"left":Dn--;break;case"up":Cn--;break;case"right":Dn+=kn.cellWidth;break;case"down":Cn+=kn.cellHeight}if(Cn<0||Cn>un||Dn<0&&Cn<=0||Dn>gn&&Cn>=un)return void Qr.change(Xn=>{Xn.setSelection(Xn.createRangeOn(tn))});Dn<0?(Dn=Yr?0:gn,Cn--):Dn>gn&&(Dn=Yr?gn:0,Cn++);const Ln=sn.find(Xn=>Xn.row==Cn&&Xn.column==Dn).cell,zn=["right","down"].includes(Ur),Wn=this.editor.plugins.get("TableSelection");if(Yr&&Wn.isEnabled){const Xn=Wn.getAnchorCell()||Fr;Wn.setCellSelection(Xn,Ln)}else{const Xn=Qr.createPositionAt(Ln,zn?0:"end");Qr.change(ii=>{ii.setSelection(Xn)})}}}class vE extends Go{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(Fr){this.fire(Fr.type,Fr)}}class yE extends go{static get pluginName(){return"TableMouse"}static get requires(){return[ph,gc]}init(){this.editor.editing.view.addObserver(vE),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const Fr=this.editor,Ur=Fr.plugins.get(gc);let Yr=!1;const Qr=Fr.plugins.get(ph);this.listenTo(Fr.editing.view.document,"mousedown",(tn,sn)=>{const un=Fr.model.document.selection;if(!this.isEnabled||!Qr.isEnabled||!sn.domEvent.shiftKey)return;const gn=Qr.getAnchorCell()||Ur.getTableCellsContainingSelection(un)[0];if(!gn)return;const kn=this._getModelTableCellFromDomEvent(sn);kn&&Rw(gn,kn)&&(Yr=!0,Qr.setCellSelection(gn,kn),sn.preventDefault())}),this.listenTo(Fr.editing.view.document,"mouseup",()=>{Yr=!1}),this.listenTo(Fr.editing.view.document,"selectionChange",tn=>{Yr&&tn.stop()},{priority:"highest"})}_enableMouseDragSelection(){const Fr=this.editor;let Ur,Yr,Qr=!1,tn=!1;const sn=Fr.plugins.get(ph);this.listenTo(Fr.editing.view.document,"mousedown",(un,gn)=>{this.isEnabled&&sn.isEnabled&&(gn.domEvent.shiftKey||gn.domEvent.ctrlKey||gn.domEvent.altKey||(Ur=this._getModelTableCellFromDomEvent(gn)))}),this.listenTo(Fr.editing.view.document,"mousemove",(un,gn)=>{if(!gn.domEvent.buttons||!Ur)return;const kn=this._getModelTableCellFromDomEvent(gn);kn&&Rw(Ur,kn)&&(Yr=kn,Qr||Yr==Ur||(Qr=!0)),Qr&&(tn=!0,sn.setCellSelection(Ur,Yr),gn.preventDefault())}),this.listenTo(Fr.editing.view.document,"mouseup",()=>{Qr=!1,tn=!1,Ur=null,Yr=null}),this.listenTo(Fr.editing.view.document,"selectionChange",un=>{tn&&un.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(Fr){const Ur=Fr.target,Yr=this.editor.editing.view.createPositionAt(Ur,0);return this.editor.editing.mapper.toModelPosition(Yr).parent.findAncestor("tableCell",{includeSelf:!0})}}function Rw(Xr,Fr){return Xr.parent.parent==Fr.parent.parent}var $w=$r(6306),bE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()($w.Z,bE),$w.Z.locals;function _E(Xr){const Fr=Xr.getSelectedElement();return Fr&&Nw(Fr)?Fr:null}function wE(Xr){const Fr=Xr.getFirstPosition();if(!Fr)return null;let Ur=Fr.parent;for(;Ur;){if(Ur.is("element")&&Nw(Ur))return Ur;Ur=Ur.parent}return null}function Nw(Xr){return!!Xr.getCustomProperty("table")&&gl(Xr)}var Bw=$r(7368),kE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Bw.Z,kE),Bw.Z.locals;var Fw=$r(9247),AE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Fw.Z,AE),Fw.Z.locals;var zw=$r(4070),CE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(zw.Z,CE),zw.Z.locals;var Hw=$r(6237),xE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Hw.Z,xE),Hw.Z.locals;var Vw=$r(5087),SE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Vw.Z,SE),Vw.Z.locals;const gh=Mc.defaultPositions;gh.northArrowSouth,gh.northArrowSouthWest,gh.northArrowSouthEast,gh.southArrowNorth,gh.southArrowNorthWest,gh.southArrowNorthEast,gh.viewportStickyNorth;var jw=$r(7341),DE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(jw.Z,DE),jw.Z.locals;var Uw=$r(2128),EE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Uw.Z,EE),Uw.Z.locals;var Gw=$r(4101),TE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Vo()(Gw.Z,TE),Gw.Z.locals;var ME=Object.defineProperty,Ww=Object.getOwnPropertySymbols,IE=Object.prototype.hasOwnProperty,LE=Object.prototype.propertyIsEnumerable,Yw=(Xr,Fr,Ur)=>Fr in Xr?ME(Xr,Fr,{enumerable:!0,configurable:!0,writable:!0,value:Ur}):Xr[Fr]=Ur,qw=(Xr,Fr)=>{for(var Ur in Fr||(Fr={}))IE.call(Fr,Ur)&&Yw(Xr,Ur,Fr[Ur]);if(Ww)for(var Ur of Ww(Fr))LE.call(Fr,Ur)&&Yw(Xr,Ur,Fr[Ur]);return Xr};const PE={autoRefresh:!0},Kw=36e5;class Bm extends Zi(){constructor(Fr,Ur={}){if(super(),!Fr)throw new wn("token-missing-token-url",this);Ur.initValue&&this._validateTokenValue(Ur.initValue),this.set("value",Ur.initValue),this._refresh=typeof Fr=="function"?Fr:()=>{return Yr=Fr,new Promise((Qr,tn)=>{const sn=new XMLHttpRequest;sn.open("GET",Yr),sn.addEventListener("load",()=>{const un=sn.status,gn=sn.response;return un<200||un>299?tn(new wn("token-cannot-download-new-token",null)):Qr(gn)}),sn.addEventListener("error",()=>tn(new Error("Network Error"))),sn.addEventListener("abort",()=>tn(new Error("Abort"))),sn.send()});var Yr},this._options=qw(qw({},PE),Ur)}init(){return new Promise((Fr,Ur)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),Fr(this)):this.refreshToken().then(Fr).catch(Ur)})}refreshToken(){return this._refresh().then(Fr=>(this._validateTokenValue(Fr),this.set("value",Fr),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(Fr){const Ur=typeof Fr=="string",Yr=!/^".*"$/.test(Fr),Qr=Ur&&Fr.split(".").length===3;if(!Yr||!Qr)throw new wn("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const Fr=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},Fr)}_getTokenRefreshTimeoutTime(){try{const[,Fr]=this.value.split("."),{exp:Ur}=JSON.parse(atob(Fr));return Ur?Math.floor((1e3*Ur-Date.now())/2):Kw}catch{return Kw}}static create(Fr,Ur={}){return new Bm(Fr,Ur).init()}}const Fm=/^data:(\S*?);base64,/;class OE extends wi(){constructor(Fr,Ur,Yr){if(super(),!Fr)throw new wn("fileuploader-missing-file",null);if(!Ur)throw new wn("fileuploader-missing-token",null);if(!Yr)throw new wn("fileuploader-missing-api-address",null);this.file=function(Qr){if(typeof Qr!="string")return!1;const tn=Qr.match(Fm);return!(!tn||!tn.length)}(Fr)?function(Qr,tn=512){try{const sn=Qr.match(Fm)[1],un=atob(Qr.replace(Fm,"")),gn=[];for(let kn=0;kn<un.length;kn+=tn){const Cn=un.slice(kn,kn+tn),Dn=new Array(Cn.length);for(let Ln=0;Ln<Cn.length;Ln++)Dn[Ln]=Cn.charCodeAt(Ln);gn.push(new Uint8Array(Dn))}return new Blob(gn,{type:sn})}catch{throw new wn("fileuploader-decoding-image-data-error",null)}}(Fr):Fr,this._token=Ur,this._apiAddress=Yr}onProgress(Fr){return this.on("progress",(Ur,Yr)=>Fr(Yr)),this}onError(Fr){return this.once("error",(Ur,Yr)=>Fr(Yr)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const Fr=new XMLHttpRequest;Fr.open("POST",this._apiAddress),Fr.setRequestHeader("Authorization",this._token.value),Fr.responseType="json",this.xhr=Fr}_attachXHRListeners(){const Fr=this.xhr,Ur=Yr=>()=>this.fire("error",Yr);Fr.addEventListener("error",Ur("Network Error")),Fr.addEventListener("abort",Ur("Abort")),Fr.upload&&Fr.upload.addEventListener("progress",Yr=>{Yr.lengthComputable&&this.fire("progress",{total:Yr.total,uploaded:Yr.loaded})}),Fr.addEventListener("load",()=>{const Yr=Fr.status,Qr=Fr.response;if(Yr<200||Yr>299)return this.fire("error",Qr.message||Qr.error)})}_sendRequest(){const Fr=new FormData,Ur=this.xhr;return Fr.append("file",this.file),new Promise((Yr,Qr)=>{Ur.addEventListener("load",()=>{const tn=Ur.status,sn=Ur.response;return tn<200||tn>299?sn.message?Qr(new wn("fileuploader-uploading-data-failed",this,{message:sn.message})):Qr(sn.error):Yr(sn)}),Ur.addEventListener("error",()=>Qr(new Error("Network Error"))),Ur.addEventListener("abort",()=>Qr(new Error("Abort"))),Ur.send(Fr)})}}class RE{constructor(Fr,Ur){if(!Fr)throw new wn("uploadgateway-missing-token",null);if(!Ur)throw new wn("uploadgateway-missing-api-address",null);this._token=Fr,this._apiAddress=Ur}upload(Fr){return new OE(Fr,this._token,this._apiAddress)}}class $E extends Zd{static get pluginName(){return"CloudServicesCore"}createToken(Fr,Ur){return new Bm(Fr,Ur)}createUploadGateway(Fr,Ur){return new RE(Fr,Ur)}}var Zw=(Xr,Fr,Ur)=>new Promise((Yr,Qr)=>{var tn=gn=>{try{un(Ur.next(gn))}catch(kn){Qr(kn)}},sn=gn=>{try{un(Ur.throw(gn))}catch(kn){Qr(kn)}},un=gn=>gn.done?Yr(gn.value):Promise.resolve(gn.value).then(tn,sn);un((Ur=Ur.apply(Xr,Fr)).next())});class zm extends Up{}zm.builtinPlugins=[class extends go{static get requires(){return[zb,qp,MC,lC,QA,Yb]}static get pluginName(){return"Essentials"}},class extends go{static get requires(){return[Du]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const Xr=this.editor.config.get("ckfinder.uploadUrl");Xr&&(this.editor.plugins.get(Du).createUploadAdapter=Fr=>new UC(Fr,Xr,this.editor.t))}},class extends go{static get requires(){return[dd]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const Xr=this.editor.commands;Xr.get("bulletedList")&&Rd(this.editor,this,/^[*-]\s$/,"bulletedList"),Xr.get("numberedList")&&Rd(this.editor,this,/^1[.|)]\s$/,"numberedList"),Xr.get("todoList")&&Rd(this.editor,this,/^\[\s?\]\s$/,"todoList"),Xr.get("checkTodoList")&&Rd(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const Xr=this.editor.commands;if(Xr.get("bold")){const Fr=Xp(this.editor,"bold");Gh(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,Fr),Gh(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,Fr)}if(Xr.get("italic")){const Fr=Xp(this.editor,"italic");Gh(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,Fr),Gh(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,Fr)}if(Xr.get("code")){const Fr=Xp(this.editor,"code");Gh(this.editor,this,/(`)([^`]+)(`)$/g,Fr)}if(Xr.get("strikethrough")){const Fr=Xp(this.editor,"strikethrough");Gh(this.editor,this,/(~~)([^~]+)(~~)$/g,Fr)}}_addHeadingAutoformats(){const Xr=this.editor.commands.get("heading");Xr&&Xr.modelElements.filter(Fr=>Fr.match(/^heading[1-6]$/)).forEach(Fr=>{const Ur=Fr[7],Yr=new RegExp(`^(#{${Ur}})\\s$`);Rd(this.editor,this,Yr,()=>{if(!Xr.isEnabled||Xr.value===Fr)return!1;this.editor.execute("heading",{value:Fr})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Rd(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const Xr=this.editor,Fr=Xr.model.document.selection;Xr.commands.get("codeBlock")&&Rd(Xr,this,/^```$/,()=>{if(Fr.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Rd(this.editor,this,/^---$/,"horizontalLine")}},class extends go{static get requires(){return[GC,WC]}static get pluginName(){return"Bold"}},class extends go{static get requires(){return[qC,KC]}static get pluginName(){return"Italic"}},class extends go{static get requires(){return[XC,JC]}static get pluginName(){return"BlockQuote"}},class extends go{static get pluginName(){return"CKBox"}static get requires(){return[fm,ex]}},class extends go{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",px,hx]}},class extends Zd{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[$E]}init(){return Zw(this,null,function*(){const Xr=this.context.config.get("cloudServices")||{};for(const[Ur,Yr]of Object.entries(Xr))this[Ur]=Yr;if(!this.tokenUrl)return void(this.token=null);const Fr=this.context.plugins.get("CloudServicesCore");this.token=yield Fr.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(Xr){return Zw(this,null,function*(){if(this._tokens.has(Xr))return this.getTokenFor(Xr);const Fr=this.context.plugins.get("CloudServicesCore"),Ur=yield Fr.createToken(Xr).init();return this._tokens.set(Xr,Ur),Ur})}getTokenFor(Xr){const Fr=this._tokens.get(Xr);if(!Fr)throw new wn("cloudservices-token-not-registered",this);return Fr}destroy(){super.destroy();for(const Xr of this._tokens.values())Xr.destroy()}},class extends go{static get pluginName(){return"EasyImage"}static get requires(){return[gx,"ImageUpload"]}init(){const Xr=this.editor;Xr.plugins.has("ImageBlockEditing")||Xr.plugins.has("ImageInlineEditing")||xn("easy-image-image-feature-missing",Xr)}},class extends go{static get requires(){return[_x,Ax]}static get pluginName(){return"Heading"}},class extends go{static get requires(){return[zx,Vx]}static get pluginName(){return"Image"}},class extends go{static get requires(){return[Ux,Gx]}static get pluginName(){return"ImageCaption"}},class extends go{static get requires(){return[i_,mS]}static get pluginName(){return"ImageStyle"}},class extends go{static get requires(){return[Zp,Eu]}static get pluginName(){return"ImageToolbar"}afterInit(){const Xr=this.editor,Fr=Xr.t,Ur=Xr.plugins.get(Zp),Yr=Xr.plugins.get("ImageUtils");var Qr;Ur.register("image",{ariaLabel:Fr("Image toolbar"),items:(Qr=Xr.config.get("image.toolbar")||[],Qr.map(tn=>zi(tn)?tn.name:tn)),getRelatedElement:tn=>Yr.getClosestSelectedImageWidget(tn)})}},class extends go{static get pluginName(){return"ImageUpload"}static get requires(){return[oS,qx,Qx]}},class extends go{static get pluginName(){return"Indent"}static get requires(){return[vS,yS]}},class extends go{static get requires(){return[jS,qS,ZS]}static get pluginName(){return"Link"}},class extends go{static get requires(){return[vD,iD]}static get pluginName(){return"List"}},class extends go{static get requires(){return[rg,SD,AD,ep]}static get pluginName(){return"MediaEmbed"}},pm,class extends go{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Wu]}init(){const Xr=this.editor,Fr=Xr.plugins.get("ClipboardPipeline"),Ur=Xr.editing.view.document,Yr=[];Yr.push(new RD(Ur)),Yr.push(new ND(Ur)),Yr.push(new FD(Ur)),Fr.on("inputTransformation",(Qr,tn)=>{if(tn._isTransformedWithPasteFromOffice||Xr.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const sn=tn.dataTransfer.getData("text/html"),un=Yr.find(gn=>gn.isActive(sn));un&&(tn._parsedData||(tn._parsedData=zD(sn,Ur.stylesProcessor)),un.execute(tn),tn._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends go{static get requires(){return[mm,Eu]}static get pluginName(){return"PictureEditing"}afterInit(){const Xr=this.editor;Xr.plugins.has("ImageBlockEditing")&&Xr.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),Xr.plugins.has("ImageInlineEditing")&&Xr.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const Xr=this.editor,Fr=Xr.conversion,Ur=Xr.plugins.get("ImageUtils");Fr.for("upcast").add(function(Yr){const Qr=["srcset","media","type","sizes"],tn=(sn,un,gn)=>{const kn=un.viewItem;if(!gn.consumable.test(kn,{name:!0}))return;const Cn=new Map;for(const zn of kn.getChildren())if(zn.is("element","source")){const Wn={};for(const Xn of Qr)zn.hasAttribute(Xn)&&gn.consumable.test(zn,{attributes:Xn})&&(Wn[Xn]=zn.getAttribute(Xn));Object.keys(Wn).length&&Cn.set(zn,Wn)}const Dn=Yr.findViewImgElement(kn);if(!Dn)return;let Ln=un.modelCursor.parent;if(!Ln.is("element","imageBlock")){const zn=gn.convertItem(Dn,un.modelCursor);un.modelRange=zn.modelRange,un.modelCursor=zn.modelCursor,Ln=wl(zn.modelRange.getItems())}gn.consumable.consume(kn,{name:!0});for(const[zn,Wn]of Cn)gn.consumable.consume(zn,{attributes:Object.keys(Wn)});Cn.size&&gn.writer.setAttribute("sources",Array.from(Cn.values()),Ln),gn.convertChildren(kn,Ln)};return sn=>{sn.on("element:picture",tn)}}(Ur)),Fr.for("downcast").add(function(Yr){const Qr=(tn,sn,un)=>{if(!un.consumable.consume(sn.item,tn.name))return;const gn=un.writer,kn=un.mapper.toViewElement(sn.item),Cn=Yr.findViewImgElement(kn),Dn=sn.attributeNewValue;if(Dn&&Dn.length){const Ln=gn.createContainerElement("picture",null,Dn.map(Xn=>gn.createEmptyElement("source",Xn))),zn=[];let Wn=Cn.parent;for(;Wn&&Wn.is("attributeElement");){const Xn=Wn.parent;gn.unwrap(gn.createRangeOn(Cn),Wn),zn.unshift(Wn),Wn=Xn}gn.insert(gn.createPositionBefore(Cn),Ln),gn.move(gn.createRangeOn(Cn),gn.createPositionAt(Ln,"end"));for(const Xn of zn)gn.wrap(gn.createRangeOn(Ln),Xn)}else if(Cn.parent.is("element","picture")){const Ln=Cn.parent;gn.move(gn.createRangeOn(Cn),gn.createPositionBefore(Ln)),gn.remove(Ln)}};return tn=>{tn.on("attribute:sources:imageBlock",Qr),tn.on("attribute:sources:imageInline",Qr)}}(Ur))}_setupImageUploadEditingIntegration(){const Xr=this.editor;if(!Xr.plugins.has("ImageUploadEditing"))return;const Fr=Xr.plugins.get("ImageUploadEditing");this.listenTo(Fr,"uploadComplete",(Ur,{imageElement:Yr,data:Qr})=>{const tn=Qr.sources;tn&&Xr.model.change(sn=>{sn.setAttributes({sources:tn},Yr)})})}},class extends go{static get requires(){return[cE,hE,ph,yE,mE,gE,ep]}static get pluginName(){return"Table"}},class extends go{static get requires(){return[Zp]}static get pluginName(){return"TableToolbar"}afterInit(){const Xr=this.editor,Fr=Xr.t,Ur=Xr.plugins.get(Zp),Yr=Xr.config.get("table.contentToolbar"),Qr=Xr.config.get("table.tableToolbar");Yr&&Ur.register("tableContent",{ariaLabel:Fr("Table toolbar"),items:Yr,getRelatedElement:wE}),Qr&&Ur.register("table",{ariaLabel:Fr("Table toolbar"),items:Qr,getRelatedElement:_E})}},class extends go{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(Xr){super(Xr),Xr.config.define("typing",{transformations:{include:tC}})}init(){const Xr=this.editor.model.document.selection;Xr.on("change:range",()=>{this.isEnabled=!Xr.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const Xr=this.editor,Fr=Xr.model,Ur=Xr.plugins.get("Delete"),Yr=function(tn){const sn=tn.extra||[],un=tn.remove||[],gn=kn=>!un.includes(kn);return function(kn){const Cn=new Set;for(const Dn of kn)if(typeof Dn=="string"&&mb[Dn])for(const Ln of mb[Dn])Cn.add(Ln);else Cn.add(Dn);return Array.from(Cn)}(tn.include.concat(sn).filter(gn)).filter(gn).map(kn=>typeof kn=="string"&&gb[kn]?gb[kn]:kn).filter(kn=>typeof kn=="object").map(kn=>({from:rC(kn.from),to:nC(kn.to)}))}(Xr.config.get("typing.transformations")),Qr=new hb(Xr.model,tn=>{for(const sn of Yr)if(sn.from.test(tn))return{normalizedTransformation:sn}});Qr.on("matched:data",(tn,sn)=>{if(!sn.batch.isTyping)return;const{from:un,to:gn}=sn.normalizedTransformation,kn=un.exec(sn.text),Cn=gn(kn.slice(1)),Dn=sn.range;let Ln=kn.index;Fr.enqueueChange(zn=>{for(let Wn=1;Wn<kn.length;Wn++){const Xn=kn[Wn],ii=Cn[Wn-1];if(ii==null){Ln+=Xn.length;continue}const ui=Dn.start.getShiftedBy(Ln),Ti=Fr.createRange(ui,ui.getShiftedBy(Xn.length)),Xi=iC(ui);Fr.insertContent(zn.createText(ii,Xi),Ti),Ln+=ii.length}Fr.enqueueChange(()=>{Ur.requestUndoOnBackspace()})})}),Qr.bind("isEnabled").to(this)}}],zm.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),Br=Br.default})())})(ckeditor,ckeditor.exports);var ckeditorExports=ckeditor.exports;const ClassicEditor=getDefaultExportFromCjs(ckeditorExports);var flushPending=!1,flushing=!1,queue=[],lastFlushedIndex=-1;function scheduler(_r){queueJob(_r)}function queueJob(_r){queue.includes(_r)||queue.push(_r),queueFlush()}function dequeueJob(_r){let Be=queue.indexOf(_r);Be!==-1&&Be>lastFlushedIndex&&queue.splice(Be,1)}function queueFlush(){!flushing&&!flushPending&&(flushPending=!0,queueMicrotask(flushJobs))}function flushJobs(){flushPending=!1,flushing=!0;for(let _r=0;_r<queue.length;_r++)queue[_r](),lastFlushedIndex=_r;queue.length=0,lastFlushedIndex=-1,flushing=!1}var reactive,effect,release$1,raw,shouldSchedule=!0;function disableEffectScheduling(_r){shouldSchedule=!1,_r(),shouldSchedule=!0}function setReactivityEngine(_r){reactive=_r.reactive,release$1=_r.release,effect=Be=>_r.effect(Be,{scheduler:Dr=>{shouldSchedule?scheduler(Dr):Dr()}}),raw=_r.raw}function overrideEffect(_r){effect=_r}function elementBoundEffect(_r){let Be=()=>{};return[Mr=>{let $r=effect(Mr);return _r._x_effects||(_r._x_effects=new Set,_r._x_runEffects=()=>{_r._x_effects.forEach(Br=>Br())}),_r._x_effects.add($r),Be=()=>{$r!==void 0&&(_r._x_effects.delete($r),release$1($r))},$r},()=>{Be()}]}function dispatch(_r,Be,Dr={}){_r.dispatchEvent(new CustomEvent(Be,{detail:Dr,bubbles:!0,composed:!0,cancelable:!0}))}function walk(_r,Be){if(typeof ShadowRoot=="function"&&_r instanceof ShadowRoot){Array.from(_r.children).forEach($r=>walk($r,Be));return}let Dr=!1;if(Be(_r,()=>Dr=!0),Dr)return;let Mr=_r.firstElementChild;for(;Mr;)walk(Mr,Be),Mr=Mr.nextElementSibling}function warn$1(_r,...Be){console.warn(`Alpine Warning: ${_r}`,...Be)}var started=!1;function start$1(){started&&warn$1("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),started=!0,document.body||warn$1("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded(Be=>initTree(Be,walk)),onElRemoved(Be=>destroyTree(Be)),onAttributesAdded((Be,Dr)=>{directives(Be,Dr).forEach(Mr=>Mr())});let _r=Be=>!closestRoot(Be.parentElement,!0);Array.from(document.querySelectorAll(allSelectors())).filter(_r).forEach(Be=>{initTree(Be)}),dispatch(document,"alpine:initialized")}var rootSelectorCallbacks=[],initSelectorCallbacks=[];function rootSelectors(){return rootSelectorCallbacks.map(_r=>_r())}function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map(_r=>_r())}function addRootSelector(_r){rootSelectorCallbacks.push(_r)}function addInitSelector(_r){initSelectorCallbacks.push(_r)}function closestRoot(_r,Be=!1){return findClosest(_r,Dr=>{if((Be?allSelectors():rootSelectors()).some($r=>Dr.matches($r)))return!0})}function findClosest(_r,Be){if(_r){if(Be(_r))return _r;if(_r._x_teleportBack&&(_r=_r._x_teleportBack),!!_r.parentElement)return findClosest(_r.parentElement,Be)}}function isRoot(_r){return rootSelectors().some(Be=>_r.matches(Be))}var initInterceptors=[];function interceptInit(_r){initInterceptors.push(_r)}function initTree(_r,Be=walk,Dr=()=>{}){deferHandlingDirectives(()=>{Be(_r,(Mr,$r)=>{Dr(Mr,$r),initInterceptors.forEach(Br=>Br(Mr,$r)),directives(Mr,Mr.attributes).forEach(Br=>Br()),Mr._x_ignore&&$r()})})}function destroyTree(_r){walk(_r,Be=>{cleanupAttributes(Be),cleanupElement(Be)})}var onAttributeAddeds=[],onElRemoveds=[],onElAddeds=[];function onElAdded(_r){onElAddeds.push(_r)}function onElRemoved(_r,Be){typeof Be=="function"?(_r._x_cleanups||(_r._x_cleanups=[]),_r._x_cleanups.push(Be)):(Be=_r,onElRemoveds.push(Be))}function onAttributesAdded(_r){onAttributeAddeds.push(_r)}function onAttributeRemoved(_r,Be,Dr){_r._x_attributeCleanups||(_r._x_attributeCleanups={}),_r._x_attributeCleanups[Be]||(_r._x_attributeCleanups[Be]=[]),_r._x_attributeCleanups[Be].push(Dr)}function cleanupAttributes(_r,Be){_r._x_attributeCleanups&&Object.entries(_r._x_attributeCleanups).forEach(([Dr,Mr])=>{(Be===void 0||Be.includes(Dr))&&(Mr.forEach($r=>$r()),delete _r._x_attributeCleanups[Dr])})}function cleanupElement(_r){if(_r._x_cleanups)for(;_r._x_cleanups.length;)_r._x_cleanups.pop()()}var observer=new MutationObserver(onMutate),currentlyObserving=!1;function startObservingMutations(){observer.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),currentlyObserving=!0}function stopObservingMutations(){flushObserver(),observer.disconnect(),currentlyObserving=!1}var recordQueue=[],willProcessRecordQueue=!1;function flushObserver(){recordQueue=recordQueue.concat(observer.takeRecords()),recordQueue.length&&!willProcessRecordQueue&&(willProcessRecordQueue=!0,queueMicrotask(()=>{processRecordQueue(),willProcessRecordQueue=!1}))}function processRecordQueue(){onMutate(recordQueue),recordQueue.length=0}function mutateDom(_r){if(!currentlyObserving)return _r();stopObservingMutations();let Be=_r();return startObservingMutations(),Be}var isCollecting=!1,deferredMutations=[];function deferMutations(){isCollecting=!0}function flushAndStopDeferringMutations(){isCollecting=!1,onMutate(deferredMutations),deferredMutations=[]}function onMutate(_r){if(isCollecting){deferredMutations=deferredMutations.concat(_r);return}let Be=[],Dr=[],Mr=new Map,$r=new Map;for(let Br=0;Br<_r.length;Br++)if(!_r[Br].target._x_ignoreMutationObserver&&(_r[Br].type==="childList"&&(_r[Br].addedNodes.forEach(zr=>zr.nodeType===1&&Be.push(zr)),_r[Br].removedNodes.forEach(zr=>zr.nodeType===1&&Dr.push(zr))),_r[Br].type==="attributes")){let zr=_r[Br].target,Vr=_r[Br].attributeName,jr=_r[Br].oldValue,Gr=()=>{Mr.has(zr)||Mr.set(zr,[]),Mr.get(zr).push({name:Vr,value:zr.getAttribute(Vr)})},Wr=()=>{$r.has(zr)||$r.set(zr,[]),$r.get(zr).push(Vr)};zr.hasAttribute(Vr)&&jr===null?Gr():zr.hasAttribute(Vr)?(Wr(),Gr()):Wr()}$r.forEach((Br,zr)=>{cleanupAttributes(zr,Br)}),Mr.forEach((Br,zr)=>{onAttributeAddeds.forEach(Vr=>Vr(zr,Br))});for(let Br of Dr)Be.includes(Br)||(onElRemoveds.forEach(zr=>zr(Br)),destroyTree(Br));Be.forEach(Br=>{Br._x_ignoreSelf=!0,Br._x_ignore=!0});for(let Br of Be)Dr.includes(Br)||Br.isConnected&&(delete Br._x_ignoreSelf,delete Br._x_ignore,onElAddeds.forEach(zr=>zr(Br)),Br._x_ignore=!0,Br._x_ignoreSelf=!0);Be.forEach(Br=>{delete Br._x_ignoreSelf,delete Br._x_ignore}),Be=null,Dr=null,Mr=null,$r=null}function scope(_r){return mergeProxies(closestDataStack(_r))}function addScopeToNode(_r,Be,Dr){return _r._x_dataStack=[Be,...closestDataStack(Dr||_r)],()=>{_r._x_dataStack=_r._x_dataStack.filter(Mr=>Mr!==Be)}}function closestDataStack(_r){return _r._x_dataStack?_r._x_dataStack:typeof ShadowRoot=="function"&&_r instanceof ShadowRoot?closestDataStack(_r.host):_r.parentNode?closestDataStack(_r.parentNode):[]}function mergeProxies(_r){return new Proxy({objects:_r},mergeProxyTrap)}var mergeProxyTrap={ownKeys({objects:_r}){return Array.from(new Set(_r.flatMap(Be=>Object.keys(Be))))},has({objects:_r},Be){return Be==Symbol.unscopables?!1:_r.some(Dr=>Object.prototype.hasOwnProperty.call(Dr,Be))},get({objects:_r},Be,Dr){return Be=="toJSON"?collapseProxies:Reflect.get(_r.find(Mr=>Object.prototype.hasOwnProperty.call(Mr,Be))||{},Be,Dr)},set({objects:_r},Be,Dr){return Reflect.set(_r.find(Mr=>Object.prototype.hasOwnProperty.call(Mr,Be))||_r[_r.length-1],Be,Dr)}};function collapseProxies(){return Reflect.ownKeys(this).reduce((Be,Dr)=>(Be[Dr]=Reflect.get(this,Dr),Be),{})}function initInterceptors2(_r){let Be=Mr=>typeof Mr=="object"&&!Array.isArray(Mr)&&Mr!==null,Dr=(Mr,$r="")=>{Object.entries(Object.getOwnPropertyDescriptors(Mr)).forEach(([Br,{value:zr,enumerable:Vr}])=>{if(Vr===!1||zr===void 0)return;let jr=$r===""?Br:`${$r}.${Br}`;typeof zr=="object"&&zr!==null&&zr._x_interceptor?Mr[Br]=zr.initialize(_r,jr,Br):Be(zr)&&zr!==Mr&&!(zr instanceof Element)&&Dr(zr,jr)})};return Dr(_r)}function interceptor(_r,Be=()=>{}){let Dr={initialValue:void 0,_x_interceptor:!0,initialize(Mr,$r,Br){return _r(this.initialValue,()=>get$1(Mr,$r),zr=>set$2(Mr,$r,zr),$r,Br)}};return Be(Dr),Mr=>{if(typeof Mr=="object"&&Mr!==null&&Mr._x_interceptor){let $r=Dr.initialize.bind(Dr);Dr.initialize=(Br,zr,Vr)=>{let jr=Mr.initialize(Br,zr,Vr);return Dr.initialValue=jr,$r(Br,zr,Vr)}}else Dr.initialValue=Mr;return Dr}}function get$1(_r,Be){return Be.split(".").reduce((Dr,Mr)=>Dr[Mr],_r)}function set$2(_r,Be,Dr){if(typeof Be=="string"&&(Be=Be.split(".")),Be.length===1)_r[Be[0]]=Dr;else{if(Be.length===0)throw error;return _r[Be[0]]||(_r[Be[0]]={}),set$2(_r[Be[0]],Be.slice(1),Dr)}}var magics={};function magic(_r,Be){magics[_r]=Be}function injectMagics(_r,Be){return Object.entries(magics).forEach(([Dr,Mr])=>{let $r=null;function Br(){if($r)return $r;{let[zr,Vr]=getElementBoundUtilities(Be);return $r={interceptor,...zr},onElRemoved(Be,Vr),$r}}Object.defineProperty(_r,`$${Dr}`,{get(){return Mr(Be,Br())},enumerable:!1})}),_r}function tryCatch(_r,Be,Dr,...Mr){try{return Dr(...Mr)}catch($r){handleError($r,_r,Be)}}function handleError(_r,Be,Dr=void 0){Object.assign(_r,{el:Be,expression:Dr}),console.warn(`Alpine Expression Error: ${_r.message}

${Dr?'Expression: "'+Dr+`"

`:""}`,Be),setTimeout(()=>{throw _r},0)}var shouldAutoEvaluateFunctions=!0;function dontAutoEvaluateFunctions(_r){let Be=shouldAutoEvaluateFunctions;shouldAutoEvaluateFunctions=!1;let Dr=_r();return shouldAutoEvaluateFunctions=Be,Dr}function evaluate(_r,Be,Dr={}){let Mr;return evaluateLater(_r,Be)($r=>Mr=$r,Dr),Mr}function evaluateLater(..._r){return theEvaluatorFunction(..._r)}var theEvaluatorFunction=normalEvaluator;function setEvaluator(_r){theEvaluatorFunction=_r}function normalEvaluator(_r,Be){let Dr={};injectMagics(Dr,_r);let Mr=[Dr,...closestDataStack(_r)],$r=typeof Be=="function"?generateEvaluatorFromFunction(Mr,Be):generateEvaluatorFromString(Mr,Be,_r);return tryCatch.bind(null,_r,Be,$r)}function generateEvaluatorFromFunction(_r,Be){return(Dr=()=>{},{scope:Mr={},params:$r=[]}={})=>{let Br=Be.apply(mergeProxies([Mr,..._r]),$r);runIfTypeOfFunction(Dr,Br)}}var evaluatorMemo={};function generateFunctionFromString(_r,Be){if(evaluatorMemo[_r])return evaluatorMemo[_r];let Dr=Object.getPrototypeOf(async function(){}).constructor,Mr=/^[\n\s]*if.*\(.*\)/.test(_r.trim())||/^(let|const)\s/.test(_r.trim())?`(async()=>{ ${_r} })()`:_r,Br=(()=>{try{let zr=new Dr(["__self","scope"],`with (scope) { __self.result = ${Mr} }; __self.finished = true; return __self.result;`);return Object.defineProperty(zr,"name",{value:`[Alpine] ${_r}`}),zr}catch(zr){return handleError(zr,Be,_r),Promise.resolve()}})();return evaluatorMemo[_r]=Br,Br}function generateEvaluatorFromString(_r,Be,Dr){let Mr=generateFunctionFromString(Be,Dr);return($r=()=>{},{scope:Br={},params:zr=[]}={})=>{Mr.result=void 0,Mr.finished=!1;let Vr=mergeProxies([Br,..._r]);if(typeof Mr=="function"){let jr=Mr(Mr,Vr).catch(Gr=>handleError(Gr,Dr,Be));Mr.finished?(runIfTypeOfFunction($r,Mr.result,Vr,zr,Dr),Mr.result=void 0):jr.then(Gr=>{runIfTypeOfFunction($r,Gr,Vr,zr,Dr)}).catch(Gr=>handleError(Gr,Dr,Be)).finally(()=>Mr.result=void 0)}}}function runIfTypeOfFunction(_r,Be,Dr,Mr,$r){if(shouldAutoEvaluateFunctions&&typeof Be=="function"){let Br=Be.apply(Dr,Mr);Br instanceof Promise?Br.then(zr=>runIfTypeOfFunction(_r,zr,Dr,Mr)).catch(zr=>handleError(zr,$r,Be)):_r(Br)}else typeof Be=="object"&&Be instanceof Promise?Be.then(Br=>_r(Br)):_r(Be)}var prefixAsString="x-";function prefix(_r=""){return prefixAsString+_r}function setPrefix(_r){prefixAsString=_r}var directiveHandlers={};function directive(_r,Be){return directiveHandlers[_r]=Be,{before(Dr){if(!directiveHandlers[Dr]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const Mr=directiveOrder.indexOf(Dr);directiveOrder.splice(Mr>=0?Mr:directiveOrder.indexOf("DEFAULT"),0,_r)}}}function directives(_r,Be,Dr){if(Be=Array.from(Be),_r._x_virtualDirectives){let Br=Object.entries(_r._x_virtualDirectives).map(([Vr,jr])=>({name:Vr,value:jr})),zr=attributesOnly(Br);Br=Br.map(Vr=>zr.find(jr=>jr.name===Vr.name)?{name:`x-bind:${Vr.name}`,value:`"${Vr.value}"`}:Vr),Be=Be.concat(Br)}let Mr={};return Be.map(toTransformedAttributes((Br,zr)=>Mr[Br]=zr)).filter(outNonAlpineAttributes).map(toParsedDirectives(Mr,Dr)).sort(byPriority).map(Br=>getDirectiveHandler(_r,Br))}function attributesOnly(_r){return Array.from(_r).map(toTransformedAttributes()).filter(Be=>!outNonAlpineAttributes(Be))}var isDeferringHandlers=!1,directiveHandlerStacks=new Map,currentHandlerStackKey=Symbol();function deferHandlingDirectives(_r){isDeferringHandlers=!0;let Be=Symbol();currentHandlerStackKey=Be,directiveHandlerStacks.set(Be,[]);let Dr=()=>{for(;directiveHandlerStacks.get(Be).length;)directiveHandlerStacks.get(Be).shift()();directiveHandlerStacks.delete(Be)},Mr=()=>{isDeferringHandlers=!1,Dr()};_r(Dr),Mr()}function getElementBoundUtilities(_r){let Be=[],Dr=Vr=>Be.push(Vr),[Mr,$r]=elementBoundEffect(_r);return Be.push($r),[{Alpine:alpine_default,effect:Mr,cleanup:Dr,evaluateLater:evaluateLater.bind(evaluateLater,_r),evaluate:evaluate.bind(evaluate,_r)},()=>Be.forEach(Vr=>Vr())]}function getDirectiveHandler(_r,Be){let Dr=()=>{},Mr=directiveHandlers[Be.type]||Dr,[$r,Br]=getElementBoundUtilities(_r);onAttributeRemoved(_r,Be.original,Br);let zr=()=>{_r._x_ignore||_r._x_ignoreSelf||(Mr.inline&&Mr.inline(_r,Be,$r),Mr=Mr.bind(Mr,_r,Be,$r),isDeferringHandlers?directiveHandlerStacks.get(currentHandlerStackKey).push(Mr):Mr())};return zr.runCleanups=Br,zr}var startingWith=(_r,Be)=>({name:Dr,value:Mr})=>(Dr.startsWith(_r)&&(Dr=Dr.replace(_r,Be)),{name:Dr,value:Mr}),into=_r=>_r;function toTransformedAttributes(_r=()=>{}){return({name:Be,value:Dr})=>{let{name:Mr,value:$r}=attributeTransformers.reduce((Br,zr)=>zr(Br),{name:Be,value:Dr});return Mr!==Be&&_r(Mr,Be),{name:Mr,value:$r}}}var attributeTransformers=[];function mapAttributes(_r){attributeTransformers.push(_r)}function outNonAlpineAttributes({name:_r}){return alpineAttributeRegex().test(_r)}var alpineAttributeRegex=()=>new RegExp(`^${prefixAsString}([^:^.]+)\\b`);function toParsedDirectives(_r,Be){return({name:Dr,value:Mr})=>{let $r=Dr.match(alpineAttributeRegex()),Br=Dr.match(/:([a-zA-Z0-9\-:]+)/),zr=Dr.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],Vr=Be||_r[Dr]||Dr;return{type:$r?$r[1]:null,value:Br?Br[1]:null,modifiers:zr.map(jr=>jr.replace(".","")),expression:Mr,original:Vr}}}var DEFAULT="DEFAULT",directiveOrder=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",DEFAULT,"teleport"];function byPriority(_r,Be){let Dr=directiveOrder.indexOf(_r.type)===-1?DEFAULT:_r.type,Mr=directiveOrder.indexOf(Be.type)===-1?DEFAULT:Be.type;return directiveOrder.indexOf(Dr)-directiveOrder.indexOf(Mr)}var tickStack=[],isHolding=!1;function nextTick(_r=()=>{}){return queueMicrotask(()=>{isHolding||setTimeout(()=>{releaseNextTicks()})}),new Promise(Be=>{tickStack.push(()=>{_r(),Be()})})}function releaseNextTicks(){for(isHolding=!1;tickStack.length;)tickStack.shift()()}function holdNextTicks(){isHolding=!0}function setClasses(_r,Be){return Array.isArray(Be)?setClassesFromString(_r,Be.join(" ")):typeof Be=="object"&&Be!==null?setClassesFromObject(_r,Be):typeof Be=="function"?setClasses(_r,Be()):setClassesFromString(_r,Be)}function setClassesFromString(_r,Be){let Dr=$r=>$r.split(" ").filter(Br=>!_r.classList.contains(Br)).filter(Boolean),Mr=$r=>(_r.classList.add(...$r),()=>{_r.classList.remove(...$r)});return Be=Be===!0?Be="":Be||"",Mr(Dr(Be))}function setClassesFromObject(_r,Be){let Dr=Vr=>Vr.split(" ").filter(Boolean),Mr=Object.entries(Be).flatMap(([Vr,jr])=>jr?Dr(Vr):!1).filter(Boolean),$r=Object.entries(Be).flatMap(([Vr,jr])=>jr?!1:Dr(Vr)).filter(Boolean),Br=[],zr=[];return $r.forEach(Vr=>{_r.classList.contains(Vr)&&(_r.classList.remove(Vr),zr.push(Vr))}),Mr.forEach(Vr=>{_r.classList.contains(Vr)||(_r.classList.add(Vr),Br.push(Vr))}),()=>{zr.forEach(Vr=>_r.classList.add(Vr)),Br.forEach(Vr=>_r.classList.remove(Vr))}}function setStyles(_r,Be){return typeof Be=="object"&&Be!==null?setStylesFromObject(_r,Be):setStylesFromString(_r,Be)}function setStylesFromObject(_r,Be){let Dr={};return Object.entries(Be).forEach(([Mr,$r])=>{Dr[Mr]=_r.style[Mr],Mr.startsWith("--")||(Mr=kebabCase(Mr)),_r.style.setProperty(Mr,$r)}),setTimeout(()=>{_r.style.length===0&&_r.removeAttribute("style")}),()=>{setStyles(_r,Dr)}}function setStylesFromString(_r,Be){let Dr=_r.getAttribute("style",Be);return _r.setAttribute("style",Be),()=>{_r.setAttribute("style",Dr||"")}}function kebabCase(_r){return _r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function once(_r,Be=()=>{}){let Dr=!1;return function(){Dr?Be.apply(this,arguments):(Dr=!0,_r.apply(this,arguments))}}directive("transition",(_r,{value:Be,modifiers:Dr,expression:Mr},{evaluate:$r})=>{typeof Mr=="function"&&(Mr=$r(Mr)),Mr!==!1&&(!Mr||typeof Mr=="boolean"?registerTransitionsFromHelper(_r,Dr,Be):registerTransitionsFromClassString(_r,Mr,Be))});function registerTransitionsFromClassString(_r,Be,Dr){registerTransitionObject(_r,setClasses,""),{enter:$r=>{_r._x_transition.enter.during=$r},"enter-start":$r=>{_r._x_transition.enter.start=$r},"enter-end":$r=>{_r._x_transition.enter.end=$r},leave:$r=>{_r._x_transition.leave.during=$r},"leave-start":$r=>{_r._x_transition.leave.start=$r},"leave-end":$r=>{_r._x_transition.leave.end=$r}}[Dr](Be)}function registerTransitionsFromHelper(_r,Be,Dr){registerTransitionObject(_r,setStyles);let Mr=!Be.includes("in")&&!Be.includes("out")&&!Dr,$r=Mr||Be.includes("in")||["enter"].includes(Dr),Br=Mr||Be.includes("out")||["leave"].includes(Dr);Be.includes("in")&&!Mr&&(Be=Be.filter((cn,hn)=>hn<Be.indexOf("out"))),Be.includes("out")&&!Mr&&(Be=Be.filter((cn,hn)=>hn>Be.indexOf("out")));let zr=!Be.includes("opacity")&&!Be.includes("scale"),Vr=zr||Be.includes("opacity"),jr=zr||Be.includes("scale"),Gr=Vr?0:1,Wr=jr?modifierValue$1(Be,"scale",95)/100:1,Kr=modifierValue$1(Be,"delay",0)/1e3,Zr=modifierValue$1(Be,"origin","center"),Jr="opacity, transform",rn=modifierValue$1(Be,"duration",150)/1e3,nn=modifierValue$1(Be,"duration",75)/1e3,ln="cubic-bezier(0.4, 0.0, 0.2, 1)";$r&&(_r._x_transition.enter.during={transformOrigin:Zr,transitionDelay:`${Kr}s`,transitionProperty:Jr,transitionDuration:`${rn}s`,transitionTimingFunction:ln},_r._x_transition.enter.start={opacity:Gr,transform:`scale(${Wr})`},_r._x_transition.enter.end={opacity:1,transform:"scale(1)"}),Br&&(_r._x_transition.leave.during={transformOrigin:Zr,transitionDelay:`${Kr}s`,transitionProperty:Jr,transitionDuration:`${nn}s`,transitionTimingFunction:ln},_r._x_transition.leave.start={opacity:1,transform:"scale(1)"},_r._x_transition.leave.end={opacity:Gr,transform:`scale(${Wr})`})}function registerTransitionObject(_r,Be,Dr={}){_r._x_transition||(_r._x_transition={enter:{during:Dr,start:Dr,end:Dr},leave:{during:Dr,start:Dr,end:Dr},in(Mr=()=>{},$r=()=>{}){transition(_r,Be,{during:this.enter.during,start:this.enter.start,end:this.enter.end},Mr,$r)},out(Mr=()=>{},$r=()=>{}){transition(_r,Be,{during:this.leave.during,start:this.leave.start,end:this.leave.end},Mr,$r)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(_r,Be,Dr,Mr){const $r=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let Br=()=>$r(Dr);if(Be){_r._x_transition&&(_r._x_transition.enter||_r._x_transition.leave)?_r._x_transition.enter&&(Object.entries(_r._x_transition.enter.during).length||Object.entries(_r._x_transition.enter.start).length||Object.entries(_r._x_transition.enter.end).length)?_r._x_transition.in(Dr):Br():_r._x_transition?_r._x_transition.in(Dr):Br();return}_r._x_hidePromise=_r._x_transition?new Promise((zr,Vr)=>{_r._x_transition.out(()=>{},()=>zr(Mr)),_r._x_transitioning.beforeCancel(()=>Vr({isFromCancelledTransition:!0}))}):Promise.resolve(Mr),queueMicrotask(()=>{let zr=closestHide(_r);zr?(zr._x_hideChildren||(zr._x_hideChildren=[]),zr._x_hideChildren.push(_r)):$r(()=>{let Vr=jr=>{let Gr=Promise.all([jr._x_hidePromise,...(jr._x_hideChildren||[]).map(Vr)]).then(([Wr])=>Wr());return delete jr._x_hidePromise,delete jr._x_hideChildren,Gr};Vr(_r).catch(jr=>{if(!jr.isFromCancelledTransition)throw jr})})})};function closestHide(_r){let Be=_r.parentNode;if(Be)return Be._x_hidePromise?Be:closestHide(Be)}function transition(_r,Be,{during:Dr,start:Mr,end:$r}={},Br=()=>{},zr=()=>{}){if(_r._x_transitioning&&_r._x_transitioning.cancel(),Object.keys(Dr).length===0&&Object.keys(Mr).length===0&&Object.keys($r).length===0){Br(),zr();return}let Vr,jr,Gr;performTransition(_r,{start(){Vr=Be(_r,Mr)},during(){jr=Be(_r,Dr)},before:Br,end(){Vr(),Gr=Be(_r,$r)},after:zr,cleanup(){jr(),Gr()}})}function performTransition(_r,Be){let Dr,Mr,$r,Br=once(()=>{mutateDom(()=>{Dr=!0,Mr||Be.before(),$r||(Be.end(),releaseNextTicks()),Be.after(),_r.isConnected&&Be.cleanup(),delete _r._x_transitioning})});_r._x_transitioning={beforeCancels:[],beforeCancel(zr){this.beforeCancels.push(zr)},cancel:once(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();Br()}),finish:Br},mutateDom(()=>{Be.start(),Be.during()}),holdNextTicks(),requestAnimationFrame(()=>{if(Dr)return;let zr=Number(getComputedStyle(_r).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,Vr=Number(getComputedStyle(_r).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;zr===0&&(zr=Number(getComputedStyle(_r).animationDuration.replace("s",""))*1e3),mutateDom(()=>{Be.before()}),Mr=!0,requestAnimationFrame(()=>{Dr||(mutateDom(()=>{Be.end()}),releaseNextTicks(),setTimeout(_r._x_transitioning.finish,zr+Vr),$r=!0)})})}function modifierValue$1(_r,Be,Dr){if(_r.indexOf(Be)===-1)return Dr;const Mr=_r[_r.indexOf(Be)+1];if(!Mr||Be==="scale"&&isNaN(Mr))return Dr;if(Be==="duration"||Be==="delay"){let $r=Mr.match(/([0-9]+)ms/);if($r)return $r[1]}return Be==="origin"&&["top","right","left","center","bottom"].includes(_r[_r.indexOf(Be)+2])?[Mr,_r[_r.indexOf(Be)+2]].join(" "):Mr}var isCloning=!1;function skipDuringClone(_r,Be=()=>{}){return(...Dr)=>isCloning?Be(...Dr):_r(...Dr)}function onlyDuringClone(_r){return(...Be)=>isCloning&&_r(...Be)}function cloneNode(_r,Be){_r._x_dataStack&&(Be._x_dataStack=_r._x_dataStack,Be.setAttribute("data-has-alpine-state",!0)),isCloning=!0,dontRegisterReactiveSideEffects(()=>{initTree(Be,(Dr,Mr)=>{Mr(Dr,()=>{})})}),isCloning=!1}var isCloningLegacy=!1;function clone$5(_r,Be){Be._x_dataStack||(Be._x_dataStack=_r._x_dataStack),isCloning=!0,isCloningLegacy=!0,dontRegisterReactiveSideEffects(()=>{cloneTree(Be)}),isCloning=!1,isCloningLegacy=!1}function cloneTree(_r){let Be=!1;initTree(_r,(Mr,$r)=>{walk(Mr,(Br,zr)=>{if(Be&&isRoot(Br))return zr();Be=!0,$r(Br,zr)})})}function dontRegisterReactiveSideEffects(_r){let Be=effect;overrideEffect((Dr,Mr)=>{let $r=Be(Dr);return release$1($r),()=>{}}),_r(),overrideEffect(Be)}function shouldSkipRegisteringDataDuringClone(_r){return isCloning?isCloningLegacy?!0:_r.hasAttribute("data-has-alpine-state"):!1}function bind$2(_r,Be,Dr,Mr=[]){switch(_r._x_bindings||(_r._x_bindings=reactive({})),_r._x_bindings[Be]=Dr,Be=Mr.includes("camel")?camelCase(Be):Be,Be){case"value":bindInputValue(_r,Dr);break;case"style":bindStyles(_r,Dr);break;case"class":bindClasses(_r,Dr);break;case"selected":case"checked":bindAttributeAndProperty(_r,Be,Dr);break;default:bindAttribute(_r,Be,Dr);break}}function bindInputValue(_r,Be){if(_r.type==="radio")_r.attributes.value===void 0&&(_r.value=Be),window.fromModel&&(_r.checked=checkedAttrLooseCompare(_r.value,Be));else if(_r.type==="checkbox")Number.isInteger(Be)?_r.value=Be:!Array.isArray(Be)&&typeof Be!="boolean"&&![null,void 0].includes(Be)?_r.value=String(Be):Array.isArray(Be)?_r.checked=Be.some(Dr=>checkedAttrLooseCompare(Dr,_r.value)):_r.checked=!!Be;else if(_r.tagName==="SELECT")updateSelect(_r,Be);else{if(_r.value===Be)return;_r.value=Be===void 0?"":Be}}function bindClasses(_r,Be){_r._x_undoAddedClasses&&_r._x_undoAddedClasses(),_r._x_undoAddedClasses=setClasses(_r,Be)}function bindStyles(_r,Be){_r._x_undoAddedStyles&&_r._x_undoAddedStyles(),_r._x_undoAddedStyles=setStyles(_r,Be)}function bindAttributeAndProperty(_r,Be,Dr){bindAttribute(_r,Be,Dr),setPropertyIfChanged(_r,Be,Dr)}function bindAttribute(_r,Be,Dr){[null,void 0,!1].includes(Dr)&&attributeShouldntBePreservedIfFalsy(Be)?_r.removeAttribute(Be):(isBooleanAttr(Be)&&(Dr=Be),setIfChanged(_r,Be,Dr))}function setIfChanged(_r,Be,Dr){_r.getAttribute(Be)!=Dr&&_r.setAttribute(Be,Dr)}function setPropertyIfChanged(_r,Be,Dr){_r[Be]!==Dr&&(_r[Be]=Dr)}function updateSelect(_r,Be){const Dr=[].concat(Be).map(Mr=>Mr+"");Array.from(_r.options).forEach(Mr=>{Mr.selected=Dr.includes(Mr.value)})}function camelCase(_r){return _r.toLowerCase().replace(/-(\w)/g,(Be,Dr)=>Dr.toUpperCase())}function checkedAttrLooseCompare(_r,Be){return _r==Be}function isBooleanAttr(_r){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(_r)}function attributeShouldntBePreservedIfFalsy(_r){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(_r)}function getBinding(_r,Be,Dr){return _r._x_bindings&&_r._x_bindings[Be]!==void 0?_r._x_bindings[Be]:getAttributeBinding(_r,Be,Dr)}function extractProp(_r,Be,Dr,Mr=!0){if(_r._x_bindings&&_r._x_bindings[Be]!==void 0)return _r._x_bindings[Be];if(_r._x_inlineBindings&&_r._x_inlineBindings[Be]!==void 0){let $r=_r._x_inlineBindings[Be];return $r.extract=Mr,dontAutoEvaluateFunctions(()=>evaluate(_r,$r.expression))}return getAttributeBinding(_r,Be,Dr)}function getAttributeBinding(_r,Be,Dr){let Mr=_r.getAttribute(Be);return Mr===null?typeof Dr=="function"?Dr():Dr:Mr===""?!0:isBooleanAttr(Be)?!![Be,"true"].includes(Mr):Mr}function debounce(_r,Be){var Dr;return function(){var Mr=this,$r=arguments,Br=function(){Dr=null,_r.apply(Mr,$r)};clearTimeout(Dr),Dr=setTimeout(Br,Be)}}function throttle$1(_r,Be){let Dr;return function(){let Mr=this,$r=arguments;Dr||(_r.apply(Mr,$r),Dr=!0,setTimeout(()=>Dr=!1,Be))}}function entangle({get:_r,set:Be},{get:Dr,set:Mr}){let $r=!0,Br,zr,Vr,jr=effect(()=>{let Gr,Wr;$r?(Gr=_r(),Mr(JSON.parse(JSON.stringify(Gr))),Wr=Dr(),$r=!1):(Gr=_r(),Wr=Dr(),zr=JSON.stringify(Gr),Vr=JSON.stringify(Wr),zr!==Br?(Wr=Dr(),Mr(Gr),Wr=Gr):(Be(JSON.parse(Vr??null)),Gr=Wr)),Br=JSON.stringify(Gr),JSON.stringify(Wr)});return()=>{release$1(jr)}}function plugin(_r){(Array.isArray(_r)?_r:[_r]).forEach(Dr=>Dr(alpine_default))}var stores={},isReactive=!1;function store(_r,Be){if(isReactive||(stores=reactive(stores),isReactive=!0),Be===void 0)return stores[_r];stores[_r]=Be,typeof Be=="object"&&Be!==null&&Be.hasOwnProperty("init")&&typeof Be.init=="function"&&stores[_r].init(),initInterceptors2(stores[_r])}function getStores(){return stores}var binds={};function bind2(_r,Be){let Dr=typeof Be!="function"?()=>Be:Be;return _r instanceof Element?applyBindingsObject(_r,Dr()):(binds[_r]=Dr,()=>{})}function injectBindingProviders(_r){return Object.entries(binds).forEach(([Be,Dr])=>{Object.defineProperty(_r,Be,{get(){return(...Mr)=>Dr(...Mr)}})}),_r}function applyBindingsObject(_r,Be,Dr){let Mr=[];for(;Mr.length;)Mr.pop()();let $r=Object.entries(Be).map(([zr,Vr])=>({name:zr,value:Vr})),Br=attributesOnly($r);return $r=$r.map(zr=>Br.find(Vr=>Vr.name===zr.name)?{name:`x-bind:${zr.name}`,value:`"${zr.value}"`}:zr),directives(_r,$r,Dr).map(zr=>{Mr.push(zr.runCleanups),zr()}),()=>{for(;Mr.length;)Mr.pop()()}}var datas={};function data(_r,Be){datas[_r]=Be}function injectDataProviders(_r,Be){return Object.entries(datas).forEach(([Dr,Mr])=>{Object.defineProperty(_r,Dr,{get(){return(...$r)=>Mr.bind(Be)(...$r)},enumerable:!1})}),_r}var Alpine$1={get reactive(){return reactive},get release(){return release$1},get effect(){return effect},get raw(){return raw},version:"3.13.1",flushAndStopDeferringMutations,dontAutoEvaluateFunctions,disableEffectScheduling,startObservingMutations,stopObservingMutations,setReactivityEngine,onAttributeRemoved,onAttributesAdded,closestDataStack,skipDuringClone,onlyDuringClone,addRootSelector,addInitSelector,addScopeToNode,deferMutations,mapAttributes,evaluateLater,interceptInit,setEvaluator,mergeProxies,extractProp,findClosest,onElRemoved,closestRoot,destroyTree,interceptor,transition,setStyles,mutateDom,directive,entangle,throttle:throttle$1,debounce,evaluate,initTree,nextTick,prefixed:prefix,prefix:setPrefix,plugin,magic,store,start:start$1,clone:clone$5,cloneNode,bound:getBinding,$data:scope,walk,data,bind:bind2},alpine_default=Alpine$1;function makeMap(_r,Be){const Dr=Object.create(null),Mr=_r.split(",");for(let $r=0;$r<Mr.length;$r++)Dr[Mr[$r]]=!0;return Be?$r=>!!Dr[$r.toLowerCase()]:$r=>!!Dr[$r]}var EMPTY_OBJ$1=Object.freeze({}),hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn$1=(_r,Be)=>hasOwnProperty.call(_r,Be),isArray$2=Array.isArray,isMap=_r=>toTypeString(_r)==="[object Map]",isString$1=_r=>typeof _r=="string",isSymbol=_r=>typeof _r=="symbol",isObject$4=_r=>_r!==null&&typeof _r=="object",objectToString=Object.prototype.toString,toTypeString=_r=>objectToString.call(_r),toRawType=_r=>toTypeString(_r).slice(8,-1),isIntegerKey=_r=>isString$1(_r)&&_r!=="NaN"&&_r[0]!=="-"&&""+parseInt(_r,10)===_r,cacheStringFunction=_r=>{const Be=Object.create(null);return Dr=>Be[Dr]||(Be[Dr]=_r(Dr))},capitalize=cacheStringFunction(_r=>_r.charAt(0).toUpperCase()+_r.slice(1)),hasChanged=(_r,Be)=>_r!==Be&&(_r===_r||Be===Be),targetMap=new WeakMap,effectStack=[],activeEffect,ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate");function isEffect(_r){return _r&&_r._isEffect===!0}function effect2(_r,Be=EMPTY_OBJ$1){isEffect(_r)&&(_r=_r.raw);const Dr=createReactiveEffect(_r,Be);return Be.lazy||Dr(),Dr}function stop$1(_r){_r.active&&(cleanup(_r),_r.options.onStop&&_r.options.onStop(),_r.active=!1)}var uid=0;function createReactiveEffect(_r,Be){const Dr=function(){if(!Dr.active)return _r();if(!effectStack.includes(Dr)){cleanup(Dr);try{return enableTracking(),effectStack.push(Dr),activeEffect=Dr,_r()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return Dr.id=uid++,Dr.allowRecurse=!!Be.allowRecurse,Dr._isEffect=!0,Dr.active=!0,Dr.raw=_r,Dr.deps=[],Dr.options=Be,Dr}function cleanup(_r){const{deps:Be}=_r;if(Be.length){for(let Dr=0;Dr<Be.length;Dr++)Be[Dr].delete(_r);Be.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){const _r=trackStack.pop();shouldTrack=_r===void 0?!0:_r}function track(_r,Be,Dr){if(!shouldTrack||activeEffect===void 0)return;let Mr=targetMap.get(_r);Mr||targetMap.set(_r,Mr=new Map);let $r=Mr.get(Dr);$r||Mr.set(Dr,$r=new Set),$r.has(activeEffect)||($r.add(activeEffect),activeEffect.deps.push($r),activeEffect.options.onTrack&&activeEffect.options.onTrack({effect:activeEffect,target:_r,type:Be,key:Dr}))}function trigger$2(_r,Be,Dr,Mr,$r,Br){const zr=targetMap.get(_r);if(!zr)return;const Vr=new Set,jr=Wr=>{Wr&&Wr.forEach(Kr=>{(Kr!==activeEffect||Kr.allowRecurse)&&Vr.add(Kr)})};if(Be==="clear")zr.forEach(jr);else if(Dr==="length"&&isArray$2(_r))zr.forEach((Wr,Kr)=>{(Kr==="length"||Kr>=Mr)&&jr(Wr)});else switch(Dr!==void 0&&jr(zr.get(Dr)),Be){case"add":isArray$2(_r)?isIntegerKey(Dr)&&jr(zr.get("length")):(jr(zr.get(ITERATE_KEY)),isMap(_r)&&jr(zr.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(_r)||(jr(zr.get(ITERATE_KEY)),isMap(_r)&&jr(zr.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(_r)&&jr(zr.get(ITERATE_KEY));break}const Gr=Wr=>{Wr.options.onTrigger&&Wr.options.onTrigger({effect:Wr,target:_r,key:Dr,type:Be,newValue:Mr,oldValue:$r,oldTarget:Br}),Wr.options.scheduler?Wr.options.scheduler(Wr):Wr()};Vr.forEach(Gr)}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(_r=>Symbol[_r]).filter(isSymbol)),get2=createGetter(),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const _r={};return["includes","indexOf","lastIndexOf"].forEach(Be=>{_r[Be]=function(...Dr){const Mr=toRaw(this);for(let Br=0,zr=this.length;Br<zr;Br++)track(Mr,"get",Br+"");const $r=Mr[Be](...Dr);return $r===-1||$r===!1?Mr[Be](...Dr.map(toRaw)):$r}}),["push","pop","shift","unshift","splice"].forEach(Be=>{_r[Be]=function(...Dr){pauseTracking();const Mr=toRaw(this)[Be].apply(this,Dr);return resetTracking(),Mr}}),_r}function createGetter(_r=!1,Be=!1){return function(Mr,$r,Br){if($r==="__v_isReactive")return!_r;if($r==="__v_isReadonly")return _r;if($r==="__v_raw"&&Br===(_r?Be?shallowReadonlyMap:readonlyMap:Be?shallowReactiveMap:reactiveMap).get(Mr))return Mr;const zr=isArray$2(Mr);if(!_r&&zr&&hasOwn$1(arrayInstrumentations,$r))return Reflect.get(arrayInstrumentations,$r,Br);const Vr=Reflect.get(Mr,$r,Br);return(isSymbol($r)?builtInSymbols.has($r):isNonTrackableKeys($r))||(_r||track(Mr,"get",$r),Be)?Vr:isRef(Vr)?!zr||!isIntegerKey($r)?Vr.value:Vr:isObject$4(Vr)?_r?readonly(Vr):reactive2(Vr):Vr}}var set2=createSetter();function createSetter(_r=!1){return function(Dr,Mr,$r,Br){let zr=Dr[Mr];if(!_r&&($r=toRaw($r),zr=toRaw(zr),!isArray$2(Dr)&&isRef(zr)&&!isRef($r)))return zr.value=$r,!0;const Vr=isArray$2(Dr)&&isIntegerKey(Mr)?Number(Mr)<Dr.length:hasOwn$1(Dr,Mr),jr=Reflect.set(Dr,Mr,$r,Br);return Dr===toRaw(Br)&&(Vr?hasChanged($r,zr)&&trigger$2(Dr,"set",Mr,$r,zr):trigger$2(Dr,"add",Mr,$r)),jr}}function deleteProperty(_r,Be){const Dr=hasOwn$1(_r,Be),Mr=_r[Be],$r=Reflect.deleteProperty(_r,Be);return $r&&Dr&&trigger$2(_r,"delete",Be,void 0,Mr),$r}function has$2(_r,Be){const Dr=Reflect.has(_r,Be);return(!isSymbol(Be)||!builtInSymbols.has(Be))&&track(_r,"has",Be),Dr}function ownKeys$1(_r){return track(_r,"iterate",isArray$2(_r)?"length":ITERATE_KEY),Reflect.ownKeys(_r)}var mutableHandlers={get:get2,set:set2,deleteProperty,has:has$2,ownKeys:ownKeys$1},readonlyHandlers={get:readonlyGet,set(_r,Be){return console.warn(`Set operation on key "${String(Be)}" failed: target is readonly.`,_r),!0},deleteProperty(_r,Be){return console.warn(`Delete operation on key "${String(Be)}" failed: target is readonly.`,_r),!0}},toReactive=_r=>isObject$4(_r)?reactive2(_r):_r,toReadonly=_r=>isObject$4(_r)?readonly(_r):_r,toShallow=_r=>_r,getProto=_r=>Reflect.getPrototypeOf(_r);function get$1$1(_r,Be,Dr=!1,Mr=!1){_r=_r.__v_raw;const $r=toRaw(_r),Br=toRaw(Be);Be!==Br&&!Dr&&track($r,"get",Be),!Dr&&track($r,"get",Br);const{has:zr}=getProto($r),Vr=Mr?toShallow:Dr?toReadonly:toReactive;if(zr.call($r,Be))return Vr(_r.get(Be));if(zr.call($r,Br))return Vr(_r.get(Br));_r!==$r&&_r.get(Be)}function has$1$1(_r,Be=!1){const Dr=this.__v_raw,Mr=toRaw(Dr),$r=toRaw(_r);return _r!==$r&&!Be&&track(Mr,"has",_r),!Be&&track(Mr,"has",$r),_r===$r?Dr.has(_r):Dr.has(_r)||Dr.has($r)}function size(_r,Be=!1){return _r=_r.__v_raw,!Be&&track(toRaw(_r),"iterate",ITERATE_KEY),Reflect.get(_r,"size",_r)}function add$1(_r){_r=toRaw(_r);const Be=toRaw(this);return getProto(Be).has.call(Be,_r)||(Be.add(_r),trigger$2(Be,"add",_r,_r)),this}function set$1$1(_r,Be){Be=toRaw(Be);const Dr=toRaw(this),{has:Mr,get:$r}=getProto(Dr);let Br=Mr.call(Dr,_r);Br?checkIdentityKeys(Dr,Mr,_r):(_r=toRaw(_r),Br=Mr.call(Dr,_r));const zr=$r.call(Dr,_r);return Dr.set(_r,Be),Br?hasChanged(Be,zr)&&trigger$2(Dr,"set",_r,Be,zr):trigger$2(Dr,"add",_r,Be),this}function deleteEntry(_r){const Be=toRaw(this),{has:Dr,get:Mr}=getProto(Be);let $r=Dr.call(Be,_r);$r?checkIdentityKeys(Be,Dr,_r):(_r=toRaw(_r),$r=Dr.call(Be,_r));const Br=Mr?Mr.call(Be,_r):void 0,zr=Be.delete(_r);return $r&&trigger$2(Be,"delete",_r,void 0,Br),zr}function clear$2(){const _r=toRaw(this),Be=_r.size!==0,Dr=isMap(_r)?new Map(_r):new Set(_r),Mr=_r.clear();return Be&&trigger$2(_r,"clear",void 0,void 0,Dr),Mr}function createForEach(_r,Be){return function(Mr,$r){const Br=this,zr=Br.__v_raw,Vr=toRaw(zr),jr=Be?toShallow:_r?toReadonly:toReactive;return!_r&&track(Vr,"iterate",ITERATE_KEY),zr.forEach((Gr,Wr)=>Mr.call($r,jr(Gr),jr(Wr),Br))}}function createIterableMethod(_r,Be,Dr){return function(...Mr){const $r=this.__v_raw,Br=toRaw($r),zr=isMap(Br),Vr=_r==="entries"||_r===Symbol.iterator&&zr,jr=_r==="keys"&&zr,Gr=$r[_r](...Mr),Wr=Dr?toShallow:Be?toReadonly:toReactive;return!Be&&track(Br,"iterate",jr?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Kr,done:Zr}=Gr.next();return Zr?{value:Kr,done:Zr}:{value:Vr?[Wr(Kr[0]),Wr(Kr[1])]:Wr(Kr),done:Zr}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(_r){return function(...Be){{const Dr=Be[0]?`on key "${Be[0]}" `:"";console.warn(`${capitalize(_r)} operation ${Dr}failed: target is readonly.`,toRaw(this))}return _r==="delete"?!1:this}}function createInstrumentations(){const _r={get(Br){return get$1$1(this,Br)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!1)},Be={get(Br){return get$1$1(this,Br,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!0)},Dr={get(Br){return get$1$1(this,Br,!0)},get size(){return size(this,!0)},has(Br){return has$1$1.call(this,Br,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},Mr={get(Br){return get$1$1(this,Br,!0,!0)},get size(){return size(this,!0)},has(Br){return has$1$1.call(this,Br,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Br=>{_r[Br]=createIterableMethod(Br,!1,!1),Dr[Br]=createIterableMethod(Br,!0,!1),Be[Br]=createIterableMethod(Br,!1,!0),Mr[Br]=createIterableMethod(Br,!0,!0)}),[_r,Dr,Be,Mr]}var[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(_r,Be){const Dr=Be?_r?shallowReadonlyInstrumentations:shallowInstrumentations:_r?readonlyInstrumentations:mutableInstrumentations;return(Mr,$r,Br)=>$r==="__v_isReactive"?!_r:$r==="__v_isReadonly"?_r:$r==="__v_raw"?Mr:Reflect.get(hasOwn$1(Dr,$r)&&$r in Mr?Dr:Mr,$r,Br)}var mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)};function checkIdentityKeys(_r,Be,Dr){const Mr=toRaw(Dr);if(Mr!==Dr&&Be.call(_r,Mr)){const $r=toRawType(_r);console.warn(`Reactive ${$r} contains both the raw and reactive versions of the same object${$r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(_r){switch(_r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(_r){return _r.__v_skip||!Object.isExtensible(_r)?0:targetTypeMap(toRawType(_r))}function reactive2(_r){return _r&&_r.__v_isReadonly?_r:createReactiveObject(_r,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function readonly(_r){return createReactiveObject(_r,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(_r,Be,Dr,Mr,$r){if(!isObject$4(_r))return console.warn(`value cannot be made reactive: ${String(_r)}`),_r;if(_r.__v_raw&&!(Be&&_r.__v_isReactive))return _r;const Br=$r.get(_r);if(Br)return Br;const zr=getTargetType(_r);if(zr===0)return _r;const Vr=new Proxy(_r,zr===2?Mr:Dr);return $r.set(_r,Vr),Vr}function toRaw(_r){return _r&&toRaw(_r.__v_raw)||_r}function isRef(_r){return!!(_r&&_r.__v_isRef===!0)}magic("nextTick",()=>nextTick);magic("dispatch",_r=>dispatch.bind(dispatch,_r));magic("watch",(_r,{evaluateLater:Be,effect:Dr})=>(Mr,$r)=>{let Br=Be(Mr),zr=!0,Vr,jr=Dr(()=>Br(Gr=>{JSON.stringify(Gr),zr?Vr=Gr:queueMicrotask(()=>{$r(Gr,Vr),Vr=Gr}),zr=!1}));_r._x_effects.delete(jr)});magic("store",getStores);magic("data",_r=>scope(_r));magic("root",_r=>closestRoot(_r));magic("refs",_r=>(_r._x_refs_proxy||(_r._x_refs_proxy=mergeProxies(getArrayOfRefObject(_r))),_r._x_refs_proxy));function getArrayOfRefObject(_r){let Be=[],Dr=_r;for(;Dr;)Dr._x_refs&&Be.push(Dr._x_refs),Dr=Dr.parentNode;return Be}var globalIdMemo={};function findAndIncrementId(_r){return globalIdMemo[_r]||(globalIdMemo[_r]=0),++globalIdMemo[_r]}function closestIdRoot(_r,Be){return findClosest(_r,Dr=>{if(Dr._x_ids&&Dr._x_ids[Be])return!0})}function setIdRoot(_r,Be){_r._x_ids||(_r._x_ids={}),_r._x_ids[Be]||(_r._x_ids[Be]=findAndIncrementId(Be))}magic("id",_r=>(Be,Dr=null)=>{let Mr=closestIdRoot(_r,Be),$r=Mr?Mr._x_ids[Be]:findAndIncrementId(Be);return Dr?`${Be}-${$r}-${Dr}`:`${Be}-${$r}`});magic("el",_r=>_r);warnMissingPluginMagic("Focus","focus","focus");warnMissingPluginMagic("Persist","persist","persist");function warnMissingPluginMagic(_r,Be,Dr){magic(Be,Mr=>warn$1(`You can't use [$${Be}] without first installing the "${_r}" plugin here: https://alpinejs.dev/plugins/${Dr}`,Mr))}directive("modelable",(_r,{expression:Be},{effect:Dr,evaluateLater:Mr,cleanup:$r})=>{let Br=Mr(Be),zr=()=>{let Wr;return Br(Kr=>Wr=Kr),Wr},Vr=Mr(`${Be} = __placeholder`),jr=Wr=>Vr(()=>{},{scope:{__placeholder:Wr}}),Gr=zr();jr(Gr),queueMicrotask(()=>{if(!_r._x_model)return;_r._x_removeModelListeners.default();let Wr=_r._x_model.get,Kr=_r._x_model.set,Zr=entangle({get(){return Wr()},set(Jr){Kr(Jr)}},{get(){return zr()},set(Jr){jr(Jr)}});$r(Zr)})});directive("teleport",(_r,{modifiers:Be,expression:Dr},{cleanup:Mr})=>{_r.tagName.toLowerCase()!=="template"&&warn$1("x-teleport can only be used on a <template> tag",_r);let $r=getTarget(Dr),Br=_r.content.cloneNode(!0).firstElementChild;_r._x_teleport=Br,Br._x_teleportBack=_r,_r.setAttribute("data-teleport-template",!0),Br.setAttribute("data-teleport-target",!0),_r._x_forwardEvents&&_r._x_forwardEvents.forEach(Vr=>{Br.addEventListener(Vr,jr=>{jr.stopPropagation(),_r.dispatchEvent(new jr.constructor(jr.type,jr))})}),addScopeToNode(Br,{},_r);let zr=(Vr,jr,Gr)=>{Gr.includes("prepend")?jr.parentNode.insertBefore(Vr,jr):Gr.includes("append")?jr.parentNode.insertBefore(Vr,jr.nextSibling):jr.appendChild(Vr)};mutateDom(()=>{zr(Br,$r,Be),initTree(Br),Br._x_ignore=!0}),_r._x_teleportPutBack=()=>{let Vr=getTarget(Dr);mutateDom(()=>{zr(_r._x_teleport,Vr,Be)})},Mr(()=>Br.remove())});var teleportContainerDuringClone=document.createElement("div");function getTarget(_r){let Be=skipDuringClone(()=>document.querySelector(_r),()=>teleportContainerDuringClone)();return Be||warn$1(`Cannot find x-teleport element for selector: "${_r}"`),Be}var handler=()=>{};handler.inline=(_r,{modifiers:Be},{cleanup:Dr})=>{Be.includes("self")?_r._x_ignoreSelf=!0:_r._x_ignore=!0,Dr(()=>{Be.includes("self")?delete _r._x_ignoreSelf:delete _r._x_ignore})};directive("ignore",handler);directive("effect",(_r,{expression:Be},{effect:Dr})=>Dr(evaluateLater(_r,Be)));function on(_r,Be,Dr,Mr){let $r=_r,Br=jr=>Mr(jr),zr={},Vr=(jr,Gr)=>Wr=>Gr(jr,Wr);if(Dr.includes("dot")&&(Be=dotSyntax(Be)),Dr.includes("camel")&&(Be=camelCase2(Be)),Dr.includes("passive")&&(zr.passive=!0),Dr.includes("capture")&&(zr.capture=!0),Dr.includes("window")&&($r=window),Dr.includes("document")&&($r=document),Dr.includes("debounce")){let jr=Dr[Dr.indexOf("debounce")+1]||"invalid-wait",Gr=isNumeric$1(jr.split("ms")[0])?Number(jr.split("ms")[0]):250;Br=debounce(Br,Gr)}if(Dr.includes("throttle")){let jr=Dr[Dr.indexOf("throttle")+1]||"invalid-wait",Gr=isNumeric$1(jr.split("ms")[0])?Number(jr.split("ms")[0]):250;Br=throttle$1(Br,Gr)}return Dr.includes("prevent")&&(Br=Vr(Br,(jr,Gr)=>{Gr.preventDefault(),jr(Gr)})),Dr.includes("stop")&&(Br=Vr(Br,(jr,Gr)=>{Gr.stopPropagation(),jr(Gr)})),Dr.includes("self")&&(Br=Vr(Br,(jr,Gr)=>{Gr.target===_r&&jr(Gr)})),(Dr.includes("away")||Dr.includes("outside"))&&($r=document,Br=Vr(Br,(jr,Gr)=>{_r.contains(Gr.target)||Gr.target.isConnected!==!1&&(_r.offsetWidth<1&&_r.offsetHeight<1||_r._x_isShown!==!1&&jr(Gr))})),Dr.includes("once")&&(Br=Vr(Br,(jr,Gr)=>{jr(Gr),$r.removeEventListener(Be,Br,zr)})),Br=Vr(Br,(jr,Gr)=>{isKeyEvent(Be)&&isListeningForASpecificKeyThatHasntBeenPressed(Gr,Dr)||jr(Gr)}),$r.addEventListener(Be,Br,zr),()=>{$r.removeEventListener(Be,Br,zr)}}function dotSyntax(_r){return _r.replace(/-/g,".")}function camelCase2(_r){return _r.toLowerCase().replace(/-(\w)/g,(Be,Dr)=>Dr.toUpperCase())}function isNumeric$1(_r){return!Array.isArray(_r)&&!isNaN(_r)}function kebabCase2(_r){return[" ","_"].includes(_r)?_r:_r.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(_r){return["keydown","keyup"].includes(_r)}function isListeningForASpecificKeyThatHasntBeenPressed(_r,Be){let Dr=Be.filter(Br=>!["window","document","prevent","stop","once","capture"].includes(Br));if(Dr.includes("debounce")){let Br=Dr.indexOf("debounce");Dr.splice(Br,isNumeric$1((Dr[Br+1]||"invalid-wait").split("ms")[0])?2:1)}if(Dr.includes("throttle")){let Br=Dr.indexOf("throttle");Dr.splice(Br,isNumeric$1((Dr[Br+1]||"invalid-wait").split("ms")[0])?2:1)}if(Dr.length===0||Dr.length===1&&keyToModifiers(_r.key).includes(Dr[0]))return!1;const $r=["ctrl","shift","alt","meta","cmd","super"].filter(Br=>Dr.includes(Br));return Dr=Dr.filter(Br=>!$r.includes(Br)),!($r.length>0&&$r.filter(zr=>((zr==="cmd"||zr==="super")&&(zr="meta"),_r[`${zr}Key`])).length===$r.length&&keyToModifiers(_r.key).includes(Dr[0]))}function keyToModifiers(_r){if(!_r)return[];_r=kebabCase2(_r);let Be={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return Be[_r]=_r,Object.keys(Be).map(Dr=>{if(Be[Dr]===_r)return Dr}).filter(Dr=>Dr)}directive("model",(_r,{modifiers:Be,expression:Dr},{effect:Mr,cleanup:$r})=>{let Br=_r;Be.includes("parent")&&(Br=_r.parentNode);let zr=evaluateLater(Br,Dr),Vr;typeof Dr=="string"?Vr=evaluateLater(Br,`${Dr} = __placeholder`):typeof Dr=="function"&&typeof Dr()=="string"?Vr=evaluateLater(Br,`${Dr()} = __placeholder`):Vr=()=>{};let jr=()=>{let Zr;return zr(Jr=>Zr=Jr),isGetterSetter(Zr)?Zr.get():Zr},Gr=Zr=>{let Jr;zr(rn=>Jr=rn),isGetterSetter(Jr)?Jr.set(Zr):Vr(()=>{},{scope:{__placeholder:Zr}})};typeof Dr=="string"&&_r.type==="radio"&&mutateDom(()=>{_r.hasAttribute("name")||_r.setAttribute("name",Dr)});var Wr=_r.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(_r.type)||Be.includes("lazy")?"change":"input";let Kr=isCloning?()=>{}:on(_r,Wr,Be,Zr=>{Gr(getInputValue(_r,Be,Zr,jr()))});if(Be.includes("fill")&&([null,""].includes(jr())||_r.type==="checkbox"&&Array.isArray(jr()))&&_r.dispatchEvent(new Event(Wr,{})),_r._x_removeModelListeners||(_r._x_removeModelListeners={}),_r._x_removeModelListeners.default=Kr,$r(()=>_r._x_removeModelListeners.default()),_r.form){let Zr=on(_r.form,"reset",[],Jr=>{nextTick(()=>_r._x_model&&_r._x_model.set(_r.value))});$r(()=>Zr())}_r._x_model={get(){return jr()},set(Zr){Gr(Zr)}},_r._x_forceModelUpdate=Zr=>{Zr===void 0&&typeof Dr=="string"&&Dr.match(/\./)&&(Zr=""),window.fromModel=!0,mutateDom(()=>bind$2(_r,"value",Zr)),delete window.fromModel},Mr(()=>{let Zr=jr();Be.includes("unintrusive")&&document.activeElement.isSameNode(_r)||_r._x_forceModelUpdate(Zr)})});function getInputValue(_r,Be,Dr,Mr){return mutateDom(()=>{if(Dr instanceof CustomEvent&&Dr.detail!==void 0)return Dr.detail!==null&&Dr.detail!==void 0?Dr.detail:Dr.target.value;if(_r.type==="checkbox")if(Array.isArray(Mr)){let $r=Be.includes("number")?safeParseNumber(Dr.target.value):Dr.target.value;return Dr.target.checked?Mr.concat([$r]):Mr.filter(Br=>!checkedAttrLooseCompare2(Br,$r))}else return Dr.target.checked;else{if(_r.tagName.toLowerCase()==="select"&&_r.multiple)return Be.includes("number")?Array.from(Dr.target.selectedOptions).map($r=>{let Br=$r.value||$r.text;return safeParseNumber(Br)}):Array.from(Dr.target.selectedOptions).map($r=>$r.value||$r.text);{let $r=Dr.target.value;return Be.includes("number")?safeParseNumber($r):Be.includes("trim")?$r.trim():$r}}})}function safeParseNumber(_r){let Be=_r?parseFloat(_r):null;return isNumeric2(Be)?Be:_r}function checkedAttrLooseCompare2(_r,Be){return _r==Be}function isNumeric2(_r){return!Array.isArray(_r)&&!isNaN(_r)}function isGetterSetter(_r){return _r!==null&&typeof _r=="object"&&typeof _r.get=="function"&&typeof _r.set=="function"}directive("cloak",_r=>queueMicrotask(()=>mutateDom(()=>_r.removeAttribute(prefix("cloak")))));addInitSelector(()=>`[${prefix("init")}]`);directive("init",skipDuringClone((_r,{expression:Be},{evaluate:Dr})=>typeof Be=="string"?!!Be.trim()&&Dr(Be,{},!1):Dr(Be,{},!1)));directive("text",(_r,{expression:Be},{effect:Dr,evaluateLater:Mr})=>{let $r=Mr(Be);Dr(()=>{$r(Br=>{mutateDom(()=>{_r.textContent=Br})})})});directive("html",(_r,{expression:Be},{effect:Dr,evaluateLater:Mr})=>{let $r=Mr(Be);Dr(()=>{$r(Br=>{mutateDom(()=>{_r.innerHTML=Br,_r._x_ignoreSelf=!0,initTree(_r),delete _r._x_ignoreSelf})})})});mapAttributes(startingWith(":",into(prefix("bind:"))));var handler2=(_r,{value:Be,modifiers:Dr,expression:Mr,original:$r},{effect:Br})=>{if(!Be){let Vr={};injectBindingProviders(Vr),evaluateLater(_r,Mr)(Gr=>{applyBindingsObject(_r,Gr,$r)},{scope:Vr});return}if(Be==="key")return storeKeyForXFor(_r,Mr);if(_r._x_inlineBindings&&_r._x_inlineBindings[Be]&&_r._x_inlineBindings[Be].extract)return;let zr=evaluateLater(_r,Mr);Br(()=>zr(Vr=>{Vr===void 0&&typeof Mr=="string"&&Mr.match(/\./)&&(Vr=""),mutateDom(()=>bind$2(_r,Be,Vr,Dr))}))};handler2.inline=(_r,{value:Be,modifiers:Dr,expression:Mr})=>{Be&&(_r._x_inlineBindings||(_r._x_inlineBindings={}),_r._x_inlineBindings[Be]={expression:Mr,extract:!1})};directive("bind",handler2);function storeKeyForXFor(_r,Be){_r._x_keyExpression=Be}addRootSelector(()=>`[${prefix("data")}]`);directive("data",(_r,{expression:Be},{cleanup:Dr})=>{if(shouldSkipRegisteringDataDuringClone(_r))return;Be=Be===""?"{}":Be;let Mr={};injectMagics(Mr,_r);let $r={};injectDataProviders($r,Mr);let Br=evaluate(_r,Be,{scope:$r});(Br===void 0||Br===!0)&&(Br={}),injectMagics(Br,_r);let zr=reactive(Br);initInterceptors2(zr);let Vr=addScopeToNode(_r,zr);zr.init&&evaluate(_r,zr.init),Dr(()=>{zr.destroy&&evaluate(_r,zr.destroy),Vr()})});directive("show",(_r,{modifiers:Be,expression:Dr},{effect:Mr})=>{let $r=evaluateLater(_r,Dr);_r._x_doHide||(_r._x_doHide=()=>{mutateDom(()=>{_r.style.setProperty("display","none",Be.includes("important")?"important":void 0)})}),_r._x_doShow||(_r._x_doShow=()=>{mutateDom(()=>{_r.style.length===1&&_r.style.display==="none"?_r.removeAttribute("style"):_r.style.removeProperty("display")})});let Br=()=>{_r._x_doHide(),_r._x_isShown=!1},zr=()=>{_r._x_doShow(),_r._x_isShown=!0},Vr=()=>setTimeout(zr),jr=once(Kr=>Kr?zr():Br(),Kr=>{typeof _r._x_toggleAndCascadeWithTransitions=="function"?_r._x_toggleAndCascadeWithTransitions(_r,Kr,zr,Br):Kr?Vr():Br()}),Gr,Wr=!0;Mr(()=>$r(Kr=>{!Wr&&Kr===Gr||(Be.includes("immediate")&&(Kr?Vr():Br()),jr(Kr),Gr=Kr,Wr=!1)}))});directive("for",(_r,{expression:Be},{effect:Dr,cleanup:Mr})=>{let $r=parseForExpression(Be),Br=evaluateLater(_r,$r.items),zr=evaluateLater(_r,_r._x_keyExpression||"index");_r._x_prevKeys=[],_r._x_lookup={},Dr(()=>loop(_r,$r,Br,zr)),Mr(()=>{Object.values(_r._x_lookup).forEach(Vr=>Vr.remove()),delete _r._x_prevKeys,delete _r._x_lookup})});function loop(_r,Be,Dr,Mr){let $r=zr=>typeof zr=="object"&&!Array.isArray(zr),Br=_r;Dr(zr=>{isNumeric3(zr)&&zr>=0&&(zr=Array.from(Array(zr).keys(),ln=>ln+1)),zr===void 0&&(zr=[]);let Vr=_r._x_lookup,jr=_r._x_prevKeys,Gr=[],Wr=[];if($r(zr))zr=Object.entries(zr).map(([ln,cn])=>{let hn=getIterationScopeVariables(Be,cn,ln,zr);Mr(mn=>Wr.push(mn),{scope:{index:ln,...hn}}),Gr.push(hn)});else for(let ln=0;ln<zr.length;ln++){let cn=getIterationScopeVariables(Be,zr[ln],ln,zr);Mr(hn=>Wr.push(hn),{scope:{index:ln,...cn}}),Gr.push(cn)}let Kr=[],Zr=[],Jr=[],rn=[];for(let ln=0;ln<jr.length;ln++){let cn=jr[ln];Wr.indexOf(cn)===-1&&Jr.push(cn)}jr=jr.filter(ln=>!Jr.includes(ln));let nn="template";for(let ln=0;ln<Wr.length;ln++){let cn=Wr[ln],hn=jr.indexOf(cn);if(hn===-1)jr.splice(ln,0,cn),Kr.push([nn,ln]);else if(hn!==ln){let mn=jr.splice(ln,1)[0],bn=jr.splice(hn-1,1)[0];jr.splice(ln,0,bn),jr.splice(hn,0,mn),Zr.push([mn,bn])}else rn.push(cn);nn=cn}for(let ln=0;ln<Jr.length;ln++){let cn=Jr[ln];Vr[cn]._x_effects&&Vr[cn]._x_effects.forEach(dequeueJob),Vr[cn].remove(),Vr[cn]=null,delete Vr[cn]}for(let ln=0;ln<Zr.length;ln++){let[cn,hn]=Zr[ln],mn=Vr[cn],bn=Vr[hn],An=document.createElement("div");mutateDom(()=>{bn||warn$1('x-for ":key" is undefined or invalid',Br),bn.after(An),mn.after(bn),bn._x_currentIfEl&&bn.after(bn._x_currentIfEl),An.before(mn),mn._x_currentIfEl&&mn.after(mn._x_currentIfEl),An.remove()}),bn._x_refreshXForScope(Gr[Wr.indexOf(hn)])}for(let ln=0;ln<Kr.length;ln++){let[cn,hn]=Kr[ln],mn=cn==="template"?Br:Vr[cn];mn._x_currentIfEl&&(mn=mn._x_currentIfEl);let bn=Gr[hn],An=Wr[hn],vn=document.importNode(Br.content,!0).firstElementChild,dn=reactive(bn);addScopeToNode(vn,dn,Br),vn._x_refreshXForScope=wn=>{Object.entries(wn).forEach(([xn,Mn])=>{dn[xn]=Mn})},mutateDom(()=>{mn.after(vn),initTree(vn)}),typeof An=="object"&&warn$1("x-for key cannot be an object, it must be a string or an integer",Br),Vr[An]=vn}for(let ln=0;ln<rn.length;ln++)Vr[rn[ln]]._x_refreshXForScope(Gr[Wr.indexOf(rn[ln])]);Br._x_prevKeys=Wr})}function parseForExpression(_r){let Be=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Dr=/^\s*\(|\)\s*$/g,Mr=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,$r=_r.match(Mr);if(!$r)return;let Br={};Br.items=$r[2].trim();let zr=$r[1].replace(Dr,"").trim(),Vr=zr.match(Be);return Vr?(Br.item=zr.replace(Be,"").trim(),Br.index=Vr[1].trim(),Vr[2]&&(Br.collection=Vr[2].trim())):Br.item=zr,Br}function getIterationScopeVariables(_r,Be,Dr,Mr){let $r={};return/^\[.*\]$/.test(_r.item)&&Array.isArray(Be)?_r.item.replace("[","").replace("]","").split(",").map(zr=>zr.trim()).forEach((zr,Vr)=>{$r[zr]=Be[Vr]}):/^\{.*\}$/.test(_r.item)&&!Array.isArray(Be)&&typeof Be=="object"?_r.item.replace("{","").replace("}","").split(",").map(zr=>zr.trim()).forEach(zr=>{$r[zr]=Be[zr]}):$r[_r.item]=Be,_r.index&&($r[_r.index]=Dr),_r.collection&&($r[_r.collection]=Mr),$r}function isNumeric3(_r){return!Array.isArray(_r)&&!isNaN(_r)}function handler3(){}handler3.inline=(_r,{expression:Be},{cleanup:Dr})=>{let Mr=closestRoot(_r);Mr._x_refs||(Mr._x_refs={}),Mr._x_refs[Be]=_r,Dr(()=>delete Mr._x_refs[Be])};directive("ref",handler3);directive("if",(_r,{expression:Be},{effect:Dr,cleanup:Mr})=>{_r.tagName.toLowerCase()!=="template"&&warn$1("x-if can only be used on a <template> tag",_r);let $r=evaluateLater(_r,Be),Br=()=>{if(_r._x_currentIfEl)return _r._x_currentIfEl;let Vr=_r.content.cloneNode(!0).firstElementChild;return addScopeToNode(Vr,{},_r),mutateDom(()=>{_r.after(Vr),initTree(Vr)}),_r._x_currentIfEl=Vr,_r._x_undoIf=()=>{walk(Vr,jr=>{jr._x_effects&&jr._x_effects.forEach(dequeueJob)}),Vr.remove(),delete _r._x_currentIfEl},Vr},zr=()=>{_r._x_undoIf&&(_r._x_undoIf(),delete _r._x_undoIf)};Dr(()=>$r(Vr=>{Vr?Br():zr()})),Mr(()=>_r._x_undoIf&&_r._x_undoIf())});directive("id",(_r,{expression:Be},{evaluate:Dr})=>{Dr(Be).forEach($r=>setIdRoot(_r,$r))});mapAttributes(startingWith("@",into(prefix("on:"))));directive("on",skipDuringClone((_r,{value:Be,modifiers:Dr,expression:Mr},{cleanup:$r})=>{let Br=Mr?evaluateLater(_r,Mr):()=>{};_r.tagName.toLowerCase()==="template"&&(_r._x_forwardEvents||(_r._x_forwardEvents=[]),_r._x_forwardEvents.includes(Be)||_r._x_forwardEvents.push(Be));let zr=on(_r,Be,Dr,Vr=>{Br(()=>{},{scope:{$event:Vr},params:[Vr]})});$r(()=>zr())}));warnMissingPluginDirective("Collapse","collapse","collapse");warnMissingPluginDirective("Intersect","intersect","intersect");warnMissingPluginDirective("Focus","trap","focus");warnMissingPluginDirective("Mask","mask","mask");function warnMissingPluginDirective(_r,Be,Dr){directive(Be,Mr=>warn$1(`You can't use [x-${Be}] without first installing the "${_r}" plugin here: https://alpinejs.dev/plugins/${Dr}`,Mr))}alpine_default.setEvaluator(normalEvaluator);alpine_default.setReactivityEngine({reactive:reactive2,effect:effect2,release:stop$1,raw:toRaw});var src_default$6=alpine_default,module_default$6=src_default$6;function src_default$5(_r){let Be=()=>{let Dr,Mr=localStorage;return _r.interceptor(($r,Br,zr,Vr,jr)=>{let Gr=Dr||`_x_${Vr}`,Wr=storageHas(Gr,Mr)?storageGet(Gr,Mr):$r;return zr(Wr),_r.effect(()=>{let Kr=Br();storageSet(Gr,Kr,Mr),zr(Kr)}),Wr},$r=>{$r.as=Br=>(Dr=Br,$r),$r.using=Br=>(Mr=Br,$r)})};Object.defineProperty(_r,"$persist",{get:()=>Be()}),_r.magic("persist",Be),_r.persist=(Dr,{get:Mr,set:$r},Br=localStorage)=>{let zr=storageHas(Dr,Br)?storageGet(Dr,Br):Mr();$r(zr),_r.effect(()=>{let Vr=Mr();storageSet(Dr,Vr,Br),$r(Vr)})}}function storageHas(_r,Be){return Be.getItem(_r)!==null}function storageGet(_r,Be){return JSON.parse(Be.getItem(_r,Be))}function storageSet(_r,Be,Dr){Dr.setItem(_r,JSON.stringify(Be))}var module_default$5=src_default$5,candidateSelectors=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],candidateSelector=candidateSelectors.join(","),NoElement=typeof Element>"u",matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(_r){return _r.getRootNode()}:function(_r){return _r.ownerDocument},getCandidates=function(Be,Dr,Mr){var $r=Array.prototype.slice.apply(Be.querySelectorAll(candidateSelector));return Dr&&matches.call(Be,candidateSelector)&&$r.unshift(Be),$r=$r.filter(Mr),$r},getCandidatesIteratively=function _r(Be,Dr,Mr){for(var $r=[],Br=Array.from(Be);Br.length;){var zr=Br.shift();if(zr.tagName==="SLOT"){var Vr=zr.assignedElements(),jr=Vr.length?Vr:zr.children,Gr=_r(jr,!0,Mr);Mr.flatten?$r.push.apply($r,Gr):$r.push({scope:zr,candidates:Gr})}else{var Wr=matches.call(zr,candidateSelector);Wr&&Mr.filter(zr)&&(Dr||!Be.includes(zr))&&$r.push(zr);var Kr=zr.shadowRoot||typeof Mr.getShadowRoot=="function"&&Mr.getShadowRoot(zr),Zr=!Mr.shadowRootFilter||Mr.shadowRootFilter(zr);if(Kr&&Zr){var Jr=_r(Kr===!0?zr.children:Kr.children,!0,Mr);Mr.flatten?$r.push.apply($r,Jr):$r.push({scope:zr,candidates:Jr})}else Br.unshift.apply(Br,zr.children)}}return $r},getTabindex=function(Be,Dr){return Be.tabIndex<0&&(Dr||/^(AUDIO|VIDEO|DETAILS)$/.test(Be.tagName)||Be.isContentEditable)&&isNaN(parseInt(Be.getAttribute("tabindex"),10))?0:Be.tabIndex},sortOrderedTabbables=function(Be,Dr){return Be.tabIndex===Dr.tabIndex?Be.documentOrder-Dr.documentOrder:Be.tabIndex-Dr.tabIndex},isInput=function(Be){return Be.tagName==="INPUT"},isHiddenInput=function(Be){return isInput(Be)&&Be.type==="hidden"},isDetailsWithSummary=function(Be){var Dr=Be.tagName==="DETAILS"&&Array.prototype.slice.apply(Be.children).some(function(Mr){return Mr.tagName==="SUMMARY"});return Dr},getCheckedRadio=function(Be,Dr){for(var Mr=0;Mr<Be.length;Mr++)if(Be[Mr].checked&&Be[Mr].form===Dr)return Be[Mr]},isTabbableRadio=function(Be){if(!Be.name)return!0;var Dr=Be.form||getRootNode(Be),Mr=function(Vr){return Dr.querySelectorAll('input[type="radio"][name="'+Vr+'"]')},$r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")$r=Mr(window.CSS.escape(Be.name));else try{$r=Mr(Be.name)}catch(zr){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",zr.message),!1}var Br=getCheckedRadio($r,Be.form);return!Br||Br===Be},isRadio=function(Be){return isInput(Be)&&Be.type==="radio"},isNonTabbableRadio=function(Be){return isRadio(Be)&&!isTabbableRadio(Be)},isZeroArea=function(Be){var Dr=Be.getBoundingClientRect(),Mr=Dr.width,$r=Dr.height;return Mr===0&&$r===0},isHidden=function(Be,Dr){var Mr=Dr.displayCheck,$r=Dr.getShadowRoot;if(getComputedStyle(Be).visibility==="hidden")return!0;var Br=matches.call(Be,"details>summary:first-of-type"),zr=Br?Be.parentElement:Be;if(matches.call(zr,"details:not([open]) *"))return!0;var Vr=getRootNode(Be).host,jr=(Vr==null?void 0:Vr.ownerDocument.contains(Vr))||Be.ownerDocument.contains(Be);if(!Mr||Mr==="full"){if(typeof $r=="function"){for(var Gr=Be;Be;){var Wr=Be.parentElement,Kr=getRootNode(Be);if(Wr&&!Wr.shadowRoot&&$r(Wr)===!0)return isZeroArea(Be);Be.assignedSlot?Be=Be.assignedSlot:!Wr&&Kr!==Be.ownerDocument?Be=Kr.host:Be=Wr}Be=Gr}if(jr)return!Be.getClientRects().length}else if(Mr==="non-zero-area")return isZeroArea(Be);return!1},isDisabledFromFieldset=function(Be){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(Be.tagName))for(var Dr=Be.parentElement;Dr;){if(Dr.tagName==="FIELDSET"&&Dr.disabled){for(var Mr=0;Mr<Dr.children.length;Mr++){var $r=Dr.children.item(Mr);if($r.tagName==="LEGEND")return matches.call(Dr,"fieldset[disabled] *")?!0:!$r.contains(Be)}return!0}Dr=Dr.parentElement}return!1},isNodeMatchingSelectorFocusable=function(Be,Dr){return!(Dr.disabled||isHiddenInput(Dr)||isHidden(Dr,Be)||isDetailsWithSummary(Dr)||isDisabledFromFieldset(Dr))},isNodeMatchingSelectorTabbable=function(Be,Dr){return!(isNonTabbableRadio(Dr)||getTabindex(Dr)<0||!isNodeMatchingSelectorFocusable(Be,Dr))},isValidShadowRootTabbable=function(Be){var Dr=parseInt(Be.getAttribute("tabindex"),10);return!!(isNaN(Dr)||Dr>=0)},sortByOrder=function _r(Be){var Dr=[],Mr=[];return Be.forEach(function($r,Br){var zr=!!$r.scope,Vr=zr?$r.scope:$r,jr=getTabindex(Vr,zr),Gr=zr?_r($r.candidates):Vr;jr===0?zr?Dr.push.apply(Dr,Gr):Dr.push(Vr):Mr.push({documentOrder:Br,tabIndex:jr,item:$r,isScope:zr,content:Gr})}),Mr.sort(sortOrderedTabbables).reduce(function($r,Br){return Br.isScope?$r.push.apply($r,Br.content):$r.push(Br.content),$r},[]).concat(Dr)},tabbable=function(Be,Dr){Dr=Dr||{};var Mr;return Dr.getShadowRoot?Mr=getCandidatesIteratively([Be],Dr.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,Dr),flatten:!1,getShadowRoot:Dr.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):Mr=getCandidates(Be,Dr.includeContainer,isNodeMatchingSelectorTabbable.bind(null,Dr)),sortByOrder(Mr)},focusable=function(Be,Dr){Dr=Dr||{};var Mr;return Dr.getShadowRoot?Mr=getCandidatesIteratively([Be],Dr.includeContainer,{filter:isNodeMatchingSelectorFocusable.bind(null,Dr),flatten:!0,getShadowRoot:Dr.getShadowRoot}):Mr=getCandidates(Be,Dr.includeContainer,isNodeMatchingSelectorFocusable.bind(null,Dr)),Mr},isTabbable=function(Be,Dr){if(Dr=Dr||{},!Be)throw new Error("No node provided");return matches.call(Be,candidateSelector)===!1?!1:isNodeMatchingSelectorTabbable(Dr,Be)},focusableCandidateSelector=candidateSelectors.concat("iframe").join(","),isFocusable=function(Be,Dr){if(Dr=Dr||{},!Be)throw new Error("No node provided");return matches.call(Be,focusableCandidateSelector)===!1?!1:isNodeMatchingSelectorFocusable(Dr,Be)};function ownKeys(_r,Be){var Dr=Object.keys(_r);if(Object.getOwnPropertySymbols){var Mr=Object.getOwnPropertySymbols(_r);Be&&(Mr=Mr.filter(function($r){return Object.getOwnPropertyDescriptor(_r,$r).enumerable})),Dr.push.apply(Dr,Mr)}return Dr}function _objectSpread2(_r){for(var Be=1;Be<arguments.length;Be++){var Dr=arguments[Be]!=null?arguments[Be]:{};Be%2?ownKeys(Object(Dr),!0).forEach(function(Mr){_defineProperty(_r,Mr,Dr[Mr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_r,Object.getOwnPropertyDescriptors(Dr)):ownKeys(Object(Dr)).forEach(function(Mr){Object.defineProperty(_r,Mr,Object.getOwnPropertyDescriptor(Dr,Mr))})}return _r}function _defineProperty(_r,Be,Dr){return Be in _r?Object.defineProperty(_r,Be,{value:Dr,enumerable:!0,configurable:!0,writable:!0}):_r[Be]=Dr,_r}var activeFocusTraps=function(){var _r=[];return{activateTrap:function(Dr){if(_r.length>0){var Mr=_r[_r.length-1];Mr!==Dr&&Mr.pause()}var $r=_r.indexOf(Dr);$r===-1||_r.splice($r,1),_r.push(Dr)},deactivateTrap:function(Dr){var Mr=_r.indexOf(Dr);Mr!==-1&&_r.splice(Mr,1),_r.length>0&&_r[_r.length-1].unpause()}}}(),isSelectableInput=function(Be){return Be.tagName&&Be.tagName.toLowerCase()==="input"&&typeof Be.select=="function"},isEscapeEvent=function(Be){return Be.key==="Escape"||Be.key==="Esc"||Be.keyCode===27},isTabEvent=function(Be){return Be.key==="Tab"||Be.keyCode===9},delay=function(Be){return setTimeout(Be,0)},findIndex=function(Be,Dr){var Mr=-1;return Be.every(function($r,Br){return Dr($r)?(Mr=Br,!1):!0}),Mr},valueOrHandler=function(Be){for(var Dr=arguments.length,Mr=new Array(Dr>1?Dr-1:0),$r=1;$r<Dr;$r++)Mr[$r-1]=arguments[$r];return typeof Be=="function"?Be.apply(void 0,Mr):Be},getActualTarget=function(Be){return Be.target.shadowRoot&&typeof Be.composedPath=="function"?Be.composedPath()[0]:Be.target},createFocusTrap=function(Be,Dr){var Mr=(Dr==null?void 0:Dr.document)||document,$r=_objectSpread2({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},Dr),Br={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},zr,Vr=function(vn,dn,wn){return vn&&vn[dn]!==void 0?vn[dn]:$r[wn||dn]},jr=function(vn){return Br.containerGroups.findIndex(function(dn){var wn=dn.container,xn=dn.tabbableNodes;return wn.contains(vn)||xn.find(function(Mn){return Mn===vn})})},Gr=function(vn){var dn=$r[vn];if(typeof dn=="function"){for(var wn=arguments.length,xn=new Array(wn>1?wn-1:0),Mn=1;Mn<wn;Mn++)xn[Mn-1]=arguments[Mn];dn=dn.apply(void 0,xn)}if(dn===!0&&(dn=void 0),!dn){if(dn===void 0||dn===!1)return dn;throw new Error("`".concat(vn,"` was specified but was not a node, or did not return a node"))}var In=dn;if(typeof dn=="string"&&(In=Mr.querySelector(dn),!In))throw new Error("`".concat(vn,"` as selector refers to no known node"));return In},Wr=function(){var vn=Gr("initialFocus");if(vn===!1)return!1;if(vn===void 0)if(jr(Mr.activeElement)>=0)vn=Mr.activeElement;else{var dn=Br.tabbableGroups[0],wn=dn&&dn.firstTabbableNode;vn=wn||Gr("fallbackFocus")}if(!vn)throw new Error("Your focus-trap needs to have at least one focusable element");return vn},Kr=function(){if(Br.containerGroups=Br.containers.map(function(vn){var dn=tabbable(vn,$r.tabbableOptions),wn=focusable(vn,$r.tabbableOptions);return{container:vn,tabbableNodes:dn,focusableNodes:wn,firstTabbableNode:dn.length>0?dn[0]:null,lastTabbableNode:dn.length>0?dn[dn.length-1]:null,nextTabbableNode:function(Mn){var In=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Hn=wn.findIndex(function($n){return $n===Mn});if(!(Hn<0))return In?wn.slice(Hn+1).find(function($n){return isTabbable($n,$r.tabbableOptions)}):wn.slice(0,Hn).reverse().find(function($n){return isTabbable($n,$r.tabbableOptions)})}}}),Br.tabbableGroups=Br.containerGroups.filter(function(vn){return vn.tabbableNodes.length>0}),Br.tabbableGroups.length<=0&&!Gr("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},Zr=function An(vn){if(vn!==!1&&vn!==Mr.activeElement){if(!vn||!vn.focus){An(Wr());return}vn.focus({preventScroll:!!$r.preventScroll}),Br.mostRecentlyFocusedNode=vn,isSelectableInput(vn)&&vn.select()}},Jr=function(vn){var dn=Gr("setReturnFocus",vn);return dn||(dn===!1?!1:vn)},rn=function(vn){var dn=getActualTarget(vn);if(!(jr(dn)>=0)){if(valueOrHandler($r.clickOutsideDeactivates,vn)){zr.deactivate({returnFocus:$r.returnFocusOnDeactivate&&!isFocusable(dn,$r.tabbableOptions)});return}valueOrHandler($r.allowOutsideClick,vn)||vn.preventDefault()}},nn=function(vn){var dn=getActualTarget(vn),wn=jr(dn)>=0;wn||dn instanceof Document?wn&&(Br.mostRecentlyFocusedNode=dn):(vn.stopImmediatePropagation(),Zr(Br.mostRecentlyFocusedNode||Wr()))},ln=function(vn){var dn=getActualTarget(vn);Kr();var wn=null;if(Br.tabbableGroups.length>0){var xn=jr(dn),Mn=xn>=0?Br.containerGroups[xn]:void 0;if(xn<0)vn.shiftKey?wn=Br.tabbableGroups[Br.tabbableGroups.length-1].lastTabbableNode:wn=Br.tabbableGroups[0].firstTabbableNode;else if(vn.shiftKey){var In=findIndex(Br.tabbableGroups,function(ei){var ri=ei.firstTabbableNode;return dn===ri});if(In<0&&(Mn.container===dn||isFocusable(dn,$r.tabbableOptions)&&!isTabbable(dn,$r.tabbableOptions)&&!Mn.nextTabbableNode(dn,!1))&&(In=xn),In>=0){var Hn=In===0?Br.tabbableGroups.length-1:In-1,$n=Br.tabbableGroups[Hn];wn=$n.lastTabbableNode}}else{var jn=findIndex(Br.tabbableGroups,function(ei){var ri=ei.lastTabbableNode;return dn===ri});if(jn<0&&(Mn.container===dn||isFocusable(dn,$r.tabbableOptions)&&!isTabbable(dn,$r.tabbableOptions)&&!Mn.nextTabbableNode(dn))&&(jn=xn),jn>=0){var Bn=jn===Br.tabbableGroups.length-1?0:jn+1,Gn=Br.tabbableGroups[Bn];wn=Gn.firstTabbableNode}}}else wn=Gr("fallbackFocus");wn&&(vn.preventDefault(),Zr(wn))},cn=function(vn){if(isEscapeEvent(vn)&&valueOrHandler($r.escapeDeactivates,vn)!==!1){vn.preventDefault(),zr.deactivate();return}if(isTabEvent(vn)){ln(vn);return}},hn=function(vn){var dn=getActualTarget(vn);jr(dn)>=0||valueOrHandler($r.clickOutsideDeactivates,vn)||valueOrHandler($r.allowOutsideClick,vn)||(vn.preventDefault(),vn.stopImmediatePropagation())},mn=function(){if(Br.active)return activeFocusTraps.activateTrap(zr),Br.delayInitialFocusTimer=$r.delayInitialFocus?delay(function(){Zr(Wr())}):Zr(Wr()),Mr.addEventListener("focusin",nn,!0),Mr.addEventListener("mousedown",rn,{capture:!0,passive:!1}),Mr.addEventListener("touchstart",rn,{capture:!0,passive:!1}),Mr.addEventListener("click",hn,{capture:!0,passive:!1}),Mr.addEventListener("keydown",cn,{capture:!0,passive:!1}),zr},bn=function(){if(Br.active)return Mr.removeEventListener("focusin",nn,!0),Mr.removeEventListener("mousedown",rn,!0),Mr.removeEventListener("touchstart",rn,!0),Mr.removeEventListener("click",hn,!0),Mr.removeEventListener("keydown",cn,!0),zr};return zr={get active(){return Br.active},get paused(){return Br.paused},activate:function(vn){if(Br.active)return this;var dn=Vr(vn,"onActivate"),wn=Vr(vn,"onPostActivate"),xn=Vr(vn,"checkCanFocusTrap");xn||Kr(),Br.active=!0,Br.paused=!1,Br.nodeFocusedBeforeActivation=Mr.activeElement,dn&&dn();var Mn=function(){xn&&Kr(),mn(),wn&&wn()};return xn?(xn(Br.containers.concat()).then(Mn,Mn),this):(Mn(),this)},deactivate:function(vn){if(!Br.active)return this;var dn=_objectSpread2({onDeactivate:$r.onDeactivate,onPostDeactivate:$r.onPostDeactivate,checkCanReturnFocus:$r.checkCanReturnFocus},vn);clearTimeout(Br.delayInitialFocusTimer),Br.delayInitialFocusTimer=void 0,bn(),Br.active=!1,Br.paused=!1,activeFocusTraps.deactivateTrap(zr);var wn=Vr(dn,"onDeactivate"),xn=Vr(dn,"onPostDeactivate"),Mn=Vr(dn,"checkCanReturnFocus"),In=Vr(dn,"returnFocus","returnFocusOnDeactivate");wn&&wn();var Hn=function(){delay(function(){In&&Zr(Jr(Br.nodeFocusedBeforeActivation)),xn&&xn()})};return In&&Mn?(Mn(Jr(Br.nodeFocusedBeforeActivation)).then(Hn,Hn),this):(Hn(),this)},pause:function(){return Br.paused||!Br.active?this:(Br.paused=!0,bn(),this)},unpause:function(){return!Br.paused||!Br.active?this:(Br.paused=!1,Kr(),mn(),this)},updateContainerElements:function(vn){var dn=[].concat(vn).filter(Boolean);return Br.containers=dn.map(function(wn){return typeof wn=="string"?Mr.querySelector(wn):wn}),Br.active&&Kr(),this}},zr.updateContainerElements(Be),zr};function src_default$4(_r){let Be,Dr;window.addEventListener("focusin",()=>{Be=Dr,Dr=document.activeElement}),_r.magic("focus",Mr=>{let $r=Mr;return{__noscroll:!1,__wrapAround:!1,within(Br){return $r=Br,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(Br){return isFocusable(Br)},previouslyFocused(){return Be},lastFocused(){return Be},focused(){return Dr},focusables(){return Array.isArray($r)?$r:focusable($r,{displayCheck:"none"})},all(){return this.focusables()},isFirst(Br){let zr=this.all();return zr[0]&&zr[0].isSameNode(Br)},isLast(Br){let zr=this.all();return zr.length&&zr.slice(-1)[0].isSameNode(Br)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){let Br=this.all(),zr=document.activeElement;if(Br.indexOf(zr)!==-1)return this.__wrapAround&&Br.indexOf(zr)===Br.length-1?Br[0]:Br[Br.indexOf(zr)+1]},getPrevious(){let Br=this.all(),zr=document.activeElement;if(Br.indexOf(zr)!==-1)return this.__wrapAround&&Br.indexOf(zr)===0?Br.slice(-1)[0]:Br[Br.indexOf(zr)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(Br){Br&&setTimeout(()=>{Br.hasAttribute("tabindex")||Br.setAttribute("tabindex","0"),Br.focus({preventScroll:this._noscroll})})}}}),_r.directive("trap",_r.skipDuringClone((Mr,{expression:$r,modifiers:Br},{effect:zr,evaluateLater:Vr,cleanup:jr})=>{let Gr=Vr($r),Wr=!1,Kr={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>Mr},Zr=Mr.querySelector("[autofocus]");Zr&&(Kr.initialFocus=Zr);let Jr=createFocusTrap(Mr,Kr),rn=()=>{},nn=()=>{};const ln=()=>{rn(),rn=()=>{},nn(),nn=()=>{},Jr.deactivate({returnFocus:!Br.includes("noreturn")})};zr(()=>Gr(cn=>{Wr!==cn&&(cn&&!Wr&&setTimeout(()=>{Br.includes("inert")&&(rn=setInert(Mr)),Br.includes("noscroll")&&(nn=disableScrolling()),Jr.activate()}),!cn&&Wr&&ln(),Wr=!!cn)})),jr(ln)},(Mr,{expression:$r,modifiers:Br},{evaluate:zr})=>{Br.includes("inert")&&zr($r)&&setInert(Mr)}))}function setInert(_r){let Be=[];return crawlSiblingsUp(_r,Dr=>{let Mr=Dr.hasAttribute("aria-hidden");Dr.setAttribute("aria-hidden","true"),Be.push(()=>Mr||Dr.removeAttribute("aria-hidden"))}),()=>{for(;Be.length;)Be.pop()()}}function crawlSiblingsUp(_r,Be){_r.isSameNode(document.body)||!_r.parentNode||Array.from(_r.parentNode.children).forEach(Dr=>{Dr.isSameNode(_r)?crawlSiblingsUp(_r.parentNode,Be):Be(Dr)})}function disableScrolling(){let _r=document.documentElement.style.overflow,Be=document.documentElement.style.paddingRight,Dr=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${Dr}px`,()=>{document.documentElement.style.overflow=_r,document.documentElement.style.paddingRight=Be}}var module_default$4=src_default$4;/*! Bundled license information:

tabbable/dist/index.esm.js:
  (*!
  * tabbable 5.3.3
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 6.9.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/function morph(_r,Be,Dr){monkeyPatchDomSetAttributeToAllowAtSymbols();let Mr,$r,Br,zr,Vr,jr,Gr,Wr,Kr;function Zr(vn={}){let dn=xn=>xn.getAttribute("key"),wn=()=>{};zr=vn.updating||wn,Vr=vn.updated||wn,jr=vn.removing||wn,Gr=vn.removed||wn,Wr=vn.adding||wn,Kr=vn.added||wn,$r=vn.key||dn,Br=vn.lookahead||!1}function Jr(vn,dn){if(rn(vn,dn))return nn(vn,dn);let wn=!1;if(!shouldSkip(zr,vn,dn,()=>wn=!0)){if(vn.nodeType===1&&window.Alpine&&window.Alpine.cloneNode(vn,dn),textOrComment(dn)){ln(vn,dn),Vr(vn,dn);return}wn||cn(vn,dn),Vr(vn,dn),hn(vn,dn)}}function rn(vn,dn){return vn.nodeType!=dn.nodeType||vn.nodeName!=dn.nodeName||mn(vn)!=mn(dn)}function nn(vn,dn){if(shouldSkip(jr,vn))return;let wn=dn.cloneNode(!0);shouldSkip(Wr,wn)||(vn.replaceWith(wn),Gr(vn),Kr(wn))}function ln(vn,dn){let wn=dn.nodeValue;vn.nodeValue!==wn&&(vn.nodeValue=wn)}function cn(vn,dn){if(vn._x_transitioning||vn._x_isShown&&!dn._x_isShown||!vn._x_isShown&&dn._x_isShown)return;let wn=Array.from(vn.attributes),xn=Array.from(dn.attributes);for(let Mn=wn.length-1;Mn>=0;Mn--){let In=wn[Mn].name;dn.hasAttribute(In)||vn.removeAttribute(In)}for(let Mn=xn.length-1;Mn>=0;Mn--){let In=xn[Mn].name,Hn=xn[Mn].value;vn.getAttribute(In)!==Hn&&vn.setAttribute(In,Hn)}}function hn(vn,dn){let wn=bn(vn.children),xn={},Mn=getFirstNode(dn),In=getFirstNode(vn);for(;Mn;){let $n=mn(Mn),jn=mn(In);if(!In)if($n&&xn[$n]){let ri=xn[$n];vn.appendChild(ri),In=ri}else{if(!shouldSkip(Wr,Mn)){let ri=Mn.cloneNode(!0);vn.appendChild(ri),Kr(ri)}Mn=getNextSibling(dn,Mn);continue}let Bn=ri=>ri&&ri.nodeType===8&&ri.textContent===" __BLOCK__ ",Gn=ri=>ri&&ri.nodeType===8&&ri.textContent===" __ENDBLOCK__ ";if(Bn(Mn)&&Bn(In)){let ri=0,vi=In;for(;In;){let Ri=getNextSibling(vn,In);if(Bn(Ri))ri++;else if(Gn(Ri)&&ri>0)ri--;else if(Gn(Ri)&&ri===0){In=Ri;break}In=Ri}let wi=In;ri=0;let Ni=Mn;for(;Mn;){let Ri=getNextSibling(dn,Mn);if(Bn(Ri))ri++;else if(Gn(Ri)&&ri>0)ri--;else if(Gn(Ri)&&ri===0){Mn=Ri;break}Mn=Ri}let Yn=Mn,Vn=new Block(vi,wi),si=new Block(Ni,Yn);hn(Vn,si);continue}if(In.nodeType===1&&Br&&!In.isEqualNode(Mn)){let ri=getNextSibling(dn,Mn),vi=!1;for(;!vi&&ri;)ri.nodeType===1&&In.isEqualNode(ri)&&(vi=!0,In=An(vn,Mn,In),jn=mn(In)),ri=getNextSibling(dn,ri)}if($n!==jn){if(!$n&&jn){xn[jn]=In,In=An(vn,Mn,In),xn[jn].remove(),In=getNextSibling(vn,In),Mn=getNextSibling(dn,Mn);continue}if($n&&!jn&&wn[$n]&&(In.replaceWith(wn[$n]),In=wn[$n]),$n&&jn){let ri=wn[$n];if(ri)xn[jn]=In,In.replaceWith(ri),In=ri;else{xn[jn]=In,In=An(vn,Mn,In),xn[jn].remove(),In=getNextSibling(vn,In),Mn=getNextSibling(dn,Mn);continue}}}let ei=In&&getNextSibling(vn,In);Jr(In,Mn),Mn=Mn&&getNextSibling(dn,Mn),In=ei}let Hn=[];for(;In;)shouldSkip(jr,In)||Hn.push(In),In=getNextSibling(vn,In);for(;Hn.length;){let $n=Hn.shift();$n.remove(),Gr($n)}}function mn(vn){return vn&&vn.nodeType===1&&$r(vn)}function bn(vn){let dn={};for(let wn of vn){let xn=mn(wn);xn&&(dn[xn]=wn)}return dn}function An(vn,dn,wn){if(!shouldSkip(Wr,dn)){let xn=dn.cloneNode(!0);return vn.insertBefore(xn,wn),Kr(xn),xn}return dn}return Zr(Dr),Mr=typeof Be=="string"?createElement$1(Be):Be,window.Alpine&&window.Alpine.closestDataStack&&!_r._x_dataStack&&(Mr._x_dataStack=window.Alpine.closestDataStack(_r),Mr._x_dataStack&&window.Alpine.cloneNode(_r,Mr)),Jr(_r,Mr),Mr=void 0,_r}morph.step=()=>{};morph.log=()=>{};function shouldSkip(_r,...Be){let Dr=!1;return _r(...Be,()=>Dr=!0),Dr}var patched=!1;function createElement$1(_r){const Be=document.createElement("template");return Be.innerHTML=_r,Be.content.firstElementChild}function textOrComment(_r){return _r.nodeType===3||_r.nodeType===8}var Block=class{constructor(_r,Be){this.startComment=_r,this.endComment=Be}get children(){let _r=[],Be=this.startComment.nextSibling;for(;Be&&Be!==this.endComment;)_r.push(Be),Be=Be.nextSibling;return _r}appendChild(_r){this.endComment.before(_r)}get firstChild(){let _r=this.startComment.nextSibling;if(_r!==this.endComment)return _r}nextNode(_r){let Be=_r.nextSibling;if(Be!==this.endComment)return Be}insertBefore(_r,Be){return Be.before(_r),_r}};function getFirstNode(_r){return _r.firstChild}function getNextSibling(_r,Be){if(Be._x_teleport)return Be._x_teleport;if(Be.teleportBack)return Be.teleportBack;let Dr;return _r instanceof Block?Dr=_r.nextNode(Be):Dr=Be.nextSibling,Dr}function monkeyPatchDomSetAttributeToAllowAtSymbols(){if(patched)return;patched=!0;let _r=Element.prototype.setAttribute,Be=document.createElement("div");Element.prototype.setAttribute=function(Mr,$r){if(!Mr.includes("@"))return _r.call(this,Mr,$r);Be.innerHTML=`<span ${Mr}="${$r}"></span>`;let Br=Be.firstElementChild.getAttributeNode(Mr);Be.firstElementChild.removeAttributeNode(Br),this.setAttributeNode(Br)}}function src_default$3(_r){_r.morph=morph}var module_default$3=src_default$3;let onCopy=()=>{};const copy$2=(_r,Be=void 0)=>(typeof _r=="function"&&(_r=_r()),typeof _r=="object"&&(_r=JSON.stringify(_r)),Be!==void 0?window.navigator.clipboard.write([new ClipboardItem({[Be]:new Blob([_r],{type:Be})})]).then(onCopy):window.navigator.clipboard.writeText(_r).then(onCopy));function Clipboard(_r){_r.magic("clipboard",()=>copy$2),_r.directive("clipboard",(Be,{modifiers:Dr,expression:Mr},{evaluateLater:$r,cleanup:Br})=>{const zr=Dr.includes("raw")?jr=>jr(Mr):$r(Mr),Vr=()=>zr(copy$2);Be.addEventListener("click",Vr),Br(()=>{Be.removeEventListener("click",Vr)})})}Clipboard.configure=_r=>(_r.hasOwnProperty("onCopy")&&typeof _r.onCopy=="function"&&(onCopy=_r.onCopy),Clipboard);var __create=Object.create,__defProp=Object.defineProperty,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__markAsModule=_r=>__defProp(_r,"__esModule",{value:!0}),__commonJS=(_r,Be)=>()=>(Be||(Be={exports:{}},_r(Be.exports,Be)),Be.exports),__exportStar=(_r,Be,Dr)=>{if(Be&&typeof Be=="object"||typeof Be=="function")for(let Mr of __getOwnPropNames(Be))!__hasOwnProp.call(_r,Mr)&&Mr!=="default"&&__defProp(_r,Mr,{get:()=>Be[Mr],enumerable:!(Dr=__getOwnPropDesc(Be,Mr))||Dr.enumerable});return _r},__toModule=_r=>__exportStar(__markAsModule(__defProp(_r!=null?__create(__getProtoOf(_r)):{},"default",_r&&_r.__esModule&&"default"in _r?{get:()=>_r.default,enumerable:!0}:{value:_r,enumerable:!0})),_r),require_popper=__commonJS(_r=>{Object.defineProperty(_r,"__esModule",{value:!0});function Be(hi){var oi=hi.getBoundingClientRect();return{width:oi.width,height:oi.height,top:oi.top,right:oi.right,bottom:oi.bottom,left:oi.left,x:oi.left,y:oi.top}}function Dr(hi){if(hi==null)return window;if(hi.toString()!=="[object Window]"){var oi=hi.ownerDocument;return oi&&oi.defaultView||window}return hi}function Mr(hi){var oi=Dr(hi),Di=oi.pageXOffset,Li=oi.pageYOffset;return{scrollLeft:Di,scrollTop:Li}}function $r(hi){var oi=Dr(hi).Element;return hi instanceof oi||hi instanceof Element}function Br(hi){var oi=Dr(hi).HTMLElement;return hi instanceof oi||hi instanceof HTMLElement}function zr(hi){if(typeof ShadowRoot>"u")return!1;var oi=Dr(hi).ShadowRoot;return hi instanceof oi||hi instanceof ShadowRoot}function Vr(hi){return{scrollLeft:hi.scrollLeft,scrollTop:hi.scrollTop}}function jr(hi){return hi===Dr(hi)||!Br(hi)?Mr(hi):Vr(hi)}function Gr(hi){return hi?(hi.nodeName||"").toLowerCase():null}function Wr(hi){return(($r(hi)?hi.ownerDocument:hi.document)||window.document).documentElement}function Kr(hi){return Be(Wr(hi)).left+Mr(hi).scrollLeft}function Zr(hi){return Dr(hi).getComputedStyle(hi)}function Jr(hi){var oi=Zr(hi),Di=oi.overflow,Li=oi.overflowX,Qi=oi.overflowY;return/auto|scroll|overlay|hidden/.test(Di+Qi+Li)}function rn(hi,oi,Di){Di===void 0&&(Di=!1);var Li=Wr(oi),Qi=Be(hi),po=Br(oi),To={scrollLeft:0,scrollTop:0},ho={x:0,y:0};return(po||!po&&!Di)&&((Gr(oi)!=="body"||Jr(Li))&&(To=jr(oi)),Br(oi)?(ho=Be(oi),ho.x+=oi.clientLeft,ho.y+=oi.clientTop):Li&&(ho.x=Kr(Li))),{x:Qi.left+To.scrollLeft-ho.x,y:Qi.top+To.scrollTop-ho.y,width:Qi.width,height:Qi.height}}function nn(hi){var oi=Be(hi),Di=hi.offsetWidth,Li=hi.offsetHeight;return Math.abs(oi.width-Di)<=1&&(Di=oi.width),Math.abs(oi.height-Li)<=1&&(Li=oi.height),{x:hi.offsetLeft,y:hi.offsetTop,width:Di,height:Li}}function ln(hi){return Gr(hi)==="html"?hi:hi.assignedSlot||hi.parentNode||(zr(hi)?hi.host:null)||Wr(hi)}function cn(hi){return["html","body","#document"].indexOf(Gr(hi))>=0?hi.ownerDocument.body:Br(hi)&&Jr(hi)?hi:cn(ln(hi))}function hn(hi,oi){var Di;oi===void 0&&(oi=[]);var Li=cn(hi),Qi=Li===((Di=hi.ownerDocument)==null?void 0:Di.body),po=Dr(Li),To=Qi?[po].concat(po.visualViewport||[],Jr(Li)?Li:[]):Li,ho=oi.concat(To);return Qi?ho:ho.concat(hn(ln(To)))}function mn(hi){return["table","td","th"].indexOf(Gr(hi))>=0}function bn(hi){return!Br(hi)||Zr(hi).position==="fixed"?null:hi.offsetParent}function An(hi){var oi=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,Di=navigator.userAgent.indexOf("Trident")!==-1;if(Di&&Br(hi)){var Li=Zr(hi);if(Li.position==="fixed")return null}for(var Qi=ln(hi);Br(Qi)&&["html","body"].indexOf(Gr(Qi))<0;){var po=Zr(Qi);if(po.transform!=="none"||po.perspective!=="none"||po.contain==="paint"||["transform","perspective"].indexOf(po.willChange)!==-1||oi&&po.willChange==="filter"||oi&&po.filter&&po.filter!=="none")return Qi;Qi=Qi.parentNode}return null}function vn(hi){for(var oi=Dr(hi),Di=bn(hi);Di&&mn(Di)&&Zr(Di).position==="static";)Di=bn(Di);return Di&&(Gr(Di)==="html"||Gr(Di)==="body"&&Zr(Di).position==="static")?oi:Di||An(hi)||oi}var dn="top",wn="bottom",xn="right",Mn="left",In="auto",Hn=[dn,wn,xn,Mn],$n="start",jn="end",Bn="clippingParents",Gn="viewport",ei="popper",ri="reference",vi=Hn.reduce(function(hi,oi){return hi.concat([oi+"-"+$n,oi+"-"+jn])},[]),wi=[].concat(Hn,[In]).reduce(function(hi,oi){return hi.concat([oi,oi+"-"+$n,oi+"-"+jn])},[]),Ni="beforeRead",Yn="read",Vn="afterRead",si="beforeMain",Ri="main",Pi="afterMain",Fi="beforeWrite",zi="write",oo="afterWrite",lo=[Ni,Yn,Vn,si,Ri,Pi,Fi,zi,oo];function io(hi){var oi=new Map,Di=new Set,Li=[];hi.forEach(function(po){oi.set(po.name,po)});function Qi(po){Di.add(po.name);var To=[].concat(po.requires||[],po.requiresIfExists||[]);To.forEach(function(ho){if(!Di.has(ho)){var Ho=oi.get(ho);Ho&&Qi(Ho)}}),Li.push(po)}return hi.forEach(function(po){Di.has(po.name)||Qi(po)}),Li}function Wi(hi){var oi=io(hi);return lo.reduce(function(Di,Li){return Di.concat(oi.filter(function(Qi){return Qi.phase===Li}))},[])}function Bo(hi){var oi;return function(){return oi||(oi=new Promise(function(Di){Promise.resolve().then(function(){oi=void 0,Di(hi())})})),oi}}function Mo(hi){for(var oi=arguments.length,Di=new Array(oi>1?oi-1:0),Li=1;Li<oi;Li++)Di[Li-1]=arguments[Li];return[].concat(Di).reduce(function(Qi,po){return Qi.replace(/%s/,po)},hi)}var Zi='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Zo='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',Wo=["name","enabled","phase","fn","effect","requires","options"];function Ao(hi){hi.forEach(function(oi){Object.keys(oi).forEach(function(Di){switch(Di){case"name":typeof oi.name!="string"&&console.error(Mo(Zi,String(oi.name),'"name"','"string"','"'+String(oi.name)+'"'));break;case"enabled":typeof oi.enabled!="boolean"&&console.error(Mo(Zi,oi.name,'"enabled"','"boolean"','"'+String(oi.enabled)+'"'));case"phase":lo.indexOf(oi.phase)<0&&console.error(Mo(Zi,oi.name,'"phase"',"either "+lo.join(", "),'"'+String(oi.phase)+'"'));break;case"fn":typeof oi.fn!="function"&&console.error(Mo(Zi,oi.name,'"fn"','"function"','"'+String(oi.fn)+'"'));break;case"effect":typeof oi.effect!="function"&&console.error(Mo(Zi,oi.name,'"effect"','"function"','"'+String(oi.fn)+'"'));break;case"requires":Array.isArray(oi.requires)||console.error(Mo(Zi,oi.name,'"requires"','"array"','"'+String(oi.requires)+'"'));break;case"requiresIfExists":Array.isArray(oi.requiresIfExists)||console.error(Mo(Zi,oi.name,'"requiresIfExists"','"array"','"'+String(oi.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+oi.name+'" modifier, valid properties are '+Wo.map(function(Li){return'"'+Li+'"'}).join(", ")+'; but "'+Di+'" was provided.')}oi.requires&&oi.requires.forEach(function(Li){hi.find(function(Qi){return Qi.name===Li})==null&&console.error(Mo(Zo,String(oi.name),Li,Li))})})})}function ba(hi,oi){var Di=new Set;return hi.filter(function(Li){var Qi=oi(Li);if(!Di.has(Qi))return Di.add(Qi),!0})}function Va(hi){return hi.split("-")[0]}function Ia(hi){var oi=hi.reduce(function(Di,Li){var Qi=Di[Li.name];return Di[Li.name]=Qi?Object.assign({},Qi,Li,{options:Object.assign({},Qi.options,Li.options),data:Object.assign({},Qi.data,Li.data)}):Li,Di},{});return Object.keys(oi).map(function(Di){return oi[Di]})}function Ua(hi){var oi=Dr(hi),Di=Wr(hi),Li=oi.visualViewport,Qi=Di.clientWidth,po=Di.clientHeight,To=0,ho=0;return Li&&(Qi=Li.width,po=Li.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(To=Li.offsetLeft,ho=Li.offsetTop)),{width:Qi,height:po,x:To+Kr(hi),y:ho}}var ka=Math.max,xi=Math.min,ci=Math.round;function _i(hi){var oi,Di=Wr(hi),Li=Mr(hi),Qi=(oi=hi.ownerDocument)==null?void 0:oi.body,po=ka(Di.scrollWidth,Di.clientWidth,Qi?Qi.scrollWidth:0,Qi?Qi.clientWidth:0),To=ka(Di.scrollHeight,Di.clientHeight,Qi?Qi.scrollHeight:0,Qi?Qi.clientHeight:0),ho=-Li.scrollLeft+Kr(hi),Ho=-Li.scrollTop;return Zr(Qi||Di).direction==="rtl"&&(ho+=ka(Di.clientWidth,Qi?Qi.clientWidth:0)-po),{width:po,height:To,x:ho,y:Ho}}function Jn(hi,oi){var Di=oi.getRootNode&&oi.getRootNode();if(hi.contains(oi))return!0;if(Di&&zr(Di)){var Li=oi;do{if(Li&&hi.isSameNode(Li))return!0;Li=Li.parentNode||Li.host}while(Li)}return!1}function ni(hi){return Object.assign({},hi,{left:hi.x,top:hi.y,right:hi.x+hi.width,bottom:hi.y+hi.height})}function mi(hi){var oi=Be(hi);return oi.top=oi.top+hi.clientTop,oi.left=oi.left+hi.clientLeft,oi.bottom=oi.top+hi.clientHeight,oi.right=oi.left+hi.clientWidth,oi.width=hi.clientWidth,oi.height=hi.clientHeight,oi.x=oi.left,oi.y=oi.top,oi}function di(hi,oi){return oi===Gn?ni(Ua(hi)):Br(oi)?mi(oi):ni(_i(Wr(hi)))}function ki(hi){var oi=hn(ln(hi)),Di=["absolute","fixed"].indexOf(Zr(hi).position)>=0,Li=Di&&Br(hi)?vn(hi):hi;return $r(Li)?oi.filter(function(Qi){return $r(Qi)&&Jn(Qi,Li)&&Gr(Qi)!=="body"}):[]}function ao(hi,oi,Di){var Li=oi==="clippingParents"?ki(hi):[].concat(oi),Qi=[].concat(Li,[Di]),po=Qi[0],To=Qi.reduce(function(ho,Ho){var Ko=di(hi,Ho);return ho.top=ka(Ko.top,ho.top),ho.right=xi(Ko.right,ho.right),ho.bottom=xi(Ko.bottom,ho.bottom),ho.left=ka(Ko.left,ho.left),ho},di(hi,po));return To.width=To.right-To.left,To.height=To.bottom-To.top,To.x=To.left,To.y=To.top,To}function so(hi){return hi.split("-")[1]}function vo(hi){return["top","bottom"].indexOf(hi)>=0?"x":"y"}function Eo(hi){var oi=hi.reference,Di=hi.element,Li=hi.placement,Qi=Li?Va(Li):null,po=Li?so(Li):null,To=oi.x+oi.width/2-Di.width/2,ho=oi.y+oi.height/2-Di.height/2,Ho;switch(Qi){case dn:Ho={x:To,y:oi.y-Di.height};break;case wn:Ho={x:To,y:oi.y+oi.height};break;case xn:Ho={x:oi.x+oi.width,y:ho};break;case Mn:Ho={x:oi.x-Di.width,y:ho};break;default:Ho={x:oi.x,y:oi.y}}var Ko=Qi?vo(Qi):null;if(Ko!=null){var So=Ko==="y"?"height":"width";switch(po){case $n:Ho[Ko]=Ho[Ko]-(oi[So]/2-Di[So]/2);break;case jn:Ho[Ko]=Ho[Ko]+(oi[So]/2-Di[So]/2);break}}return Ho}function Xo(){return{top:0,right:0,bottom:0,left:0}}function Hi(hi){return Object.assign({},Xo(),hi)}function Po(hi,oi){return oi.reduce(function(Di,Li){return Di[Li]=hi,Di},{})}function ro(hi,oi){oi===void 0&&(oi={});var Di=oi,Li=Di.placement,Qi=Li===void 0?hi.placement:Li,po=Di.boundary,To=po===void 0?Bn:po,ho=Di.rootBoundary,Ho=ho===void 0?Gn:ho,Ko=Di.elementContext,So=Ko===void 0?ei:Ko,Ra=Di.altBoundary,Ja=Ra===void 0?!1:Ra,Da=Di.padding,ha=Da===void 0?0:Da,Ea=Hi(typeof ha!="number"?ha:Po(ha,Hn)),Ca=So===ei?ri:ei,_s=hi.elements.reference,Wa=hi.rects.popper,fs=hi.elements[Ja?Ca:So],oa=ao($r(fs)?fs:fs.contextElement||Wr(hi.elements.popper),To,Ho),va=Be(_s),Ba=Eo({reference:va,element:Wa,strategy:"absolute",placement:Qi}),ps=ni(Object.assign({},Wa,Ba)),Za=So===ei?ps:va,gs={top:oa.top-Za.top+Ea.top,bottom:Za.bottom-oa.bottom+Ea.bottom,left:oa.left-Za.left+Ea.left,right:Za.right-oa.right+Ea.right},Ss=hi.modifiersData.offset;if(So===ei&&Ss){var ws=Ss[Qi];Object.keys(gs).forEach(function(xl){var al=[xn,wn].indexOf(xl)>=0?1:-1,Il=[dn,wn].indexOf(xl)>=0?"y":"x";gs[xl]+=ws[Il]*al})}return gs}var ea="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",la="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",rs={placement:"bottom",modifiers:[],strategy:"absolute"};function ca(){for(var hi=arguments.length,oi=new Array(hi),Di=0;Di<hi;Di++)oi[Di]=arguments[Di];return!oi.some(function(Li){return!(Li&&typeof Li.getBoundingClientRect=="function")})}function es(hi){hi===void 0&&(hi={});var oi=hi,Di=oi.defaultModifiers,Li=Di===void 0?[]:Di,Qi=oi.defaultOptions,po=Qi===void 0?rs:Qi;return function(ho,Ho,Ko){Ko===void 0&&(Ko=po);var So={placement:"bottom",orderedModifiers:[],options:Object.assign({},rs,po),modifiersData:{},elements:{reference:ho,popper:Ho},attributes:{},styles:{}},Ra=[],Ja=!1,Da={state:So,setOptions:function(_s){Ea(),So.options=Object.assign({},po,So.options,_s),So.scrollParents={reference:$r(ho)?hn(ho):ho.contextElement?hn(ho.contextElement):[],popper:hn(Ho)};var Wa=Wi(Ia([].concat(Li,So.options.modifiers)));So.orderedModifiers=Wa.filter(function(Ss){return Ss.enabled});{var fs=ba([].concat(Wa,So.options.modifiers),function(Ss){var ws=Ss.name;return ws});if(Ao(fs),Va(So.options.placement)===In){var oa=So.orderedModifiers.find(function(Ss){var ws=Ss.name;return ws==="flip"});oa||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var va=Zr(Ho),Ba=va.marginTop,ps=va.marginRight,Za=va.marginBottom,gs=va.marginLeft;[Ba,ps,Za,gs].some(function(Ss){return parseFloat(Ss)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return ha(),Da.update()},forceUpdate:function(){if(!Ja){var _s=So.elements,Wa=_s.reference,fs=_s.popper;if(!ca(Wa,fs)){console.error(ea);return}So.rects={reference:rn(Wa,vn(fs),So.options.strategy==="fixed"),popper:nn(fs)},So.reset=!1,So.placement=So.options.placement,So.orderedModifiers.forEach(function(ws){return So.modifiersData[ws.name]=Object.assign({},ws.data)});for(var oa=0,va=0;va<So.orderedModifiers.length;va++){if(oa+=1,oa>100){console.error(la);break}if(So.reset===!0){So.reset=!1,va=-1;continue}var Ba=So.orderedModifiers[va],ps=Ba.fn,Za=Ba.options,gs=Za===void 0?{}:Za,Ss=Ba.name;typeof ps=="function"&&(So=ps({state:So,options:gs,name:Ss,instance:Da})||So)}}},update:Bo(function(){return new Promise(function(Ca){Da.forceUpdate(),Ca(So)})}),destroy:function(){Ea(),Ja=!0}};if(!ca(ho,Ho))return console.error(ea),Da;Da.setOptions(Ko).then(function(Ca){!Ja&&Ko.onFirstUpdate&&Ko.onFirstUpdate(Ca)});function ha(){So.orderedModifiers.forEach(function(Ca){var _s=Ca.name,Wa=Ca.options,fs=Wa===void 0?{}:Wa,oa=Ca.effect;if(typeof oa=="function"){var va=oa({state:So,name:_s,instance:Da,options:fs}),Ba=function(){};Ra.push(va||Ba)}})}function Ea(){Ra.forEach(function(Ca){return Ca()}),Ra=[]}return Da}}var Pa={passive:!0};function bs(hi){var oi=hi.state,Di=hi.instance,Li=hi.options,Qi=Li.scroll,po=Qi===void 0?!0:Qi,To=Li.resize,ho=To===void 0?!0:To,Ho=Dr(oi.elements.popper),Ko=[].concat(oi.scrollParents.reference,oi.scrollParents.popper);return po&&Ko.forEach(function(So){So.addEventListener("scroll",Di.update,Pa)}),ho&&Ho.addEventListener("resize",Di.update,Pa),function(){po&&Ko.forEach(function(So){So.removeEventListener("scroll",Di.update,Pa)}),ho&&Ho.removeEventListener("resize",Di.update,Pa)}}var qs={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bs,data:{}};function il(hi){var oi=hi.state,Di=hi.name;oi.modifiersData[Di]=Eo({reference:oi.rects.reference,element:oi.rects.popper,strategy:"absolute",placement:oi.placement})}var us={name:"popperOffsets",enabled:!0,phase:"read",fn:il,data:{}},Vl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bs(hi){var oi=hi.x,Di=hi.y,Li=window,Qi=Li.devicePixelRatio||1;return{x:ci(ci(oi*Qi)/Qi)||0,y:ci(ci(Di*Qi)/Qi)||0}}function Ts(hi){var oi,Di=hi.popper,Li=hi.popperRect,Qi=hi.placement,po=hi.offsets,To=hi.position,ho=hi.gpuAcceleration,Ho=hi.adaptive,Ko=hi.roundOffsets,So=Ko===!0?Bs(po):typeof Ko=="function"?Ko(po):po,Ra=So.x,Ja=Ra===void 0?0:Ra,Da=So.y,ha=Da===void 0?0:Da,Ea=po.hasOwnProperty("x"),Ca=po.hasOwnProperty("y"),_s=Mn,Wa=dn,fs=window;if(Ho){var oa=vn(Di),va="clientHeight",Ba="clientWidth";oa===Dr(Di)&&(oa=Wr(Di),Zr(oa).position!=="static"&&(va="scrollHeight",Ba="scrollWidth")),oa=oa,Qi===dn&&(Wa=wn,ha-=oa[va]-Li.height,ha*=ho?1:-1),Qi===Mn&&(_s=xn,Ja-=oa[Ba]-Li.width,Ja*=ho?1:-1)}var ps=Object.assign({position:To},Ho&&Vl);if(ho){var Za;return Object.assign({},ps,(Za={},Za[Wa]=Ca?"0":"",Za[_s]=Ea?"0":"",Za.transform=(fs.devicePixelRatio||1)<2?"translate("+Ja+"px, "+ha+"px)":"translate3d("+Ja+"px, "+ha+"px, 0)",Za))}return Object.assign({},ps,(oi={},oi[Wa]=Ca?ha+"px":"",oi[_s]=Ea?Ja+"px":"",oi.transform="",oi))}function Si(hi){var oi=hi.state,Di=hi.options,Li=Di.gpuAcceleration,Qi=Li===void 0?!0:Li,po=Di.adaptive,To=po===void 0?!0:po,ho=Di.roundOffsets,Ho=ho===void 0?!0:ho;{var Ko=Zr(oi.elements.popper).transitionProperty||"";To&&["transform","top","right","bottom","left"].some(function(Ra){return Ko.indexOf(Ra)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var So={placement:Va(oi.placement),popper:oi.elements.popper,popperRect:oi.rects.popper,gpuAcceleration:Qi};oi.modifiersData.popperOffsets!=null&&(oi.styles.popper=Object.assign({},oi.styles.popper,Ts(Object.assign({},So,{offsets:oi.modifiersData.popperOffsets,position:oi.options.strategy,adaptive:To,roundOffsets:Ho})))),oi.modifiersData.arrow!=null&&(oi.styles.arrow=Object.assign({},oi.styles.arrow,Ts(Object.assign({},So,{offsets:oi.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ho})))),oi.attributes.popper=Object.assign({},oi.attributes.popper,{"data-popper-placement":oi.placement})}var Mi={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Si,data:{}};function Gi(hi){var oi=hi.state;Object.keys(oi.elements).forEach(function(Di){var Li=oi.styles[Di]||{},Qi=oi.attributes[Di]||{},po=oi.elements[Di];!Br(po)||!Gr(po)||(Object.assign(po.style,Li),Object.keys(Qi).forEach(function(To){var ho=Qi[To];ho===!1?po.removeAttribute(To):po.setAttribute(To,ho===!0?"":ho)}))})}function yo(hi){var oi=hi.state,Di={popper:{position:oi.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(oi.elements.popper.style,Di.popper),oi.styles=Di,oi.elements.arrow&&Object.assign(oi.elements.arrow.style,Di.arrow),function(){Object.keys(oi.elements).forEach(function(Li){var Qi=oi.elements[Li],po=oi.attributes[Li]||{},To=Object.keys(oi.styles.hasOwnProperty(Li)?oi.styles[Li]:Di[Li]),ho=To.reduce(function(Ho,Ko){return Ho[Ko]="",Ho},{});!Br(Qi)||!Gr(Qi)||(Object.assign(Qi.style,ho),Object.keys(po).forEach(function(Ho){Qi.removeAttribute(Ho)}))})}}var zo={name:"applyStyles",enabled:!0,phase:"write",fn:Gi,effect:yo,requires:["computeStyles"]};function xo(hi,oi,Di){var Li=Va(hi),Qi=[Mn,dn].indexOf(Li)>=0?-1:1,po=typeof Di=="function"?Di(Object.assign({},oi,{placement:hi})):Di,To=po[0],ho=po[1];return To=To||0,ho=(ho||0)*Qi,[Mn,xn].indexOf(Li)>=0?{x:ho,y:To}:{x:To,y:ho}}function bo(hi){var oi=hi.state,Di=hi.options,Li=hi.name,Qi=Di.offset,po=Qi===void 0?[0,0]:Qi,To=wi.reduce(function(So,Ra){return So[Ra]=xo(Ra,oi.rects,po),So},{}),ho=To[oi.placement],Ho=ho.x,Ko=ho.y;oi.modifiersData.popperOffsets!=null&&(oi.modifiersData.popperOffsets.x+=Ho,oi.modifiersData.popperOffsets.y+=Ko),oi.modifiersData[Li]=To}var Sa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bo},Io={left:"right",right:"left",bottom:"top",top:"bottom"};function aa(hi){return hi.replace(/left|right|bottom|top/g,function(oi){return Io[oi]})}var ma={start:"end",end:"start"};function Na(hi){return hi.replace(/start|end/g,function(oi){return ma[oi]})}function ts(hi,oi){oi===void 0&&(oi={});var Di=oi,Li=Di.placement,Qi=Di.boundary,po=Di.rootBoundary,To=Di.padding,ho=Di.flipVariations,Ho=Di.allowedAutoPlacements,Ko=Ho===void 0?wi:Ho,So=so(Li),Ra=So?ho?vi:vi.filter(function(ha){return so(ha)===So}):Hn,Ja=Ra.filter(function(ha){return Ko.indexOf(ha)>=0});Ja.length===0&&(Ja=Ra,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" ")));var Da=Ja.reduce(function(ha,Ea){return ha[Ea]=ro(hi,{placement:Ea,boundary:Qi,rootBoundary:po,padding:To})[Va(Ea)],ha},{});return Object.keys(Da).sort(function(ha,Ea){return Da[ha]-Da[Ea]})}function Oa(hi){if(Va(hi)===In)return[];var oi=aa(hi);return[Na(hi),oi,Na(oi)]}function Ga(hi){var oi=hi.state,Di=hi.options,Li=hi.name;if(!oi.modifiersData[Li]._skip){for(var Qi=Di.mainAxis,po=Qi===void 0?!0:Qi,To=Di.altAxis,ho=To===void 0?!0:To,Ho=Di.fallbackPlacements,Ko=Di.padding,So=Di.boundary,Ra=Di.rootBoundary,Ja=Di.altBoundary,Da=Di.flipVariations,ha=Da===void 0?!0:Da,Ea=Di.allowedAutoPlacements,Ca=oi.options.placement,_s=Va(Ca),Wa=_s===Ca,fs=Ho||(Wa||!ha?[aa(Ca)]:Oa(Ca)),oa=[Ca].concat(fs).reduce(function(jo,ua){return jo.concat(Va(ua)===In?ts(oi,{placement:ua,boundary:So,rootBoundary:Ra,padding:Ko,flipVariations:ha,allowedAutoPlacements:Ea}):ua)},[]),va=oi.rects.reference,Ba=oi.rects.popper,ps=new Map,Za=!0,gs=oa[0],Ss=0;Ss<oa.length;Ss++){var ws=oa[Ss],xl=Va(ws),al=so(ws)===$n,Il=[dn,wn].indexOf(xl)>=0,Ql=Il?"width":"height",vl=ro(oi,{placement:ws,boundary:So,rootBoundary:Ra,altBoundary:Ja,padding:Ko}),yl=Il?al?xn:Mn:al?wn:dn;va[Ql]>Ba[Ql]&&(yl=aa(yl));var xc=aa(yl),dl=[];if(po&&dl.push(vl[xl]<=0),ho&&dl.push(vl[yl]<=0,vl[xc]<=0),dl.every(function(jo){return jo})){gs=ws,Za=!1;break}ps.set(ws,dl)}if(Za)for(var Ll=ha?3:1,Ta=function(ua){var xa=oa.find(function(Ya){var Is=ps.get(Ya);if(Is)return Is.slice(0,ua).every(function(Ls){return Ls})});if(xa)return gs=xa,"break"},qi=Ll;qi>0;qi--){var Fo=Ta(qi);if(Fo==="break")break}oi.placement!==gs&&(oi.modifiersData[Li]._skip=!0,oi.placement=gs,oi.reset=!0)}}var ra={name:"flip",enabled:!0,phase:"main",fn:Ga,requiresIfExists:["offset"],data:{_skip:!1}};function Yo(hi){return hi==="x"?"y":"x"}function na(hi,oi,Di){return ka(hi,xi(oi,Di))}function qo(hi){var oi=hi.state,Di=hi.options,Li=hi.name,Qi=Di.mainAxis,po=Qi===void 0?!0:Qi,To=Di.altAxis,ho=To===void 0?!1:To,Ho=Di.boundary,Ko=Di.rootBoundary,So=Di.altBoundary,Ra=Di.padding,Ja=Di.tether,Da=Ja===void 0?!0:Ja,ha=Di.tetherOffset,Ea=ha===void 0?0:ha,Ca=ro(oi,{boundary:Ho,rootBoundary:Ko,padding:Ra,altBoundary:So}),_s=Va(oi.placement),Wa=so(oi.placement),fs=!Wa,oa=vo(_s),va=Yo(oa),Ba=oi.modifiersData.popperOffsets,ps=oi.rects.reference,Za=oi.rects.popper,gs=typeof Ea=="function"?Ea(Object.assign({},oi.rects,{placement:oi.placement})):Ea,Ss={x:0,y:0};if(Ba){if(po||ho){var ws=oa==="y"?dn:Mn,xl=oa==="y"?wn:xn,al=oa==="y"?"height":"width",Il=Ba[oa],Ql=Ba[oa]+Ca[ws],vl=Ba[oa]-Ca[xl],yl=Da?-Za[al]/2:0,xc=Wa===$n?ps[al]:Za[al],dl=Wa===$n?-Za[al]:-ps[al],Ll=oi.elements.arrow,Ta=Da&&Ll?nn(Ll):{width:0,height:0},qi=oi.modifiersData["arrow#persistent"]?oi.modifiersData["arrow#persistent"].padding:Xo(),Fo=qi[ws],jo=qi[xl],ua=na(0,ps[al],Ta[al]),xa=fs?ps[al]/2-yl-ua-Fo-gs:xc-ua-Fo-gs,Ya=fs?-ps[al]/2+yl+ua+jo+gs:dl+ua+jo+gs,Is=oi.elements.arrow&&vn(oi.elements.arrow),Ls=Is?oa==="y"?Is.clientTop||0:Is.clientLeft||0:0,dc=oi.modifiersData.offset?oi.modifiersData.offset[oi.placement][oa]:0,bl=Ba[oa]+xa-dc-Ls,Sl=Ba[oa]+Ya-dc;if(po){var jl=na(Da?xi(Ql,bl):Ql,Il,Da?ka(vl,Sl):vl);Ba[oa]=jl,Ss[oa]=jl-Il}if(ho){var sl=oa==="x"?dn:Mn,_n=oa==="x"?wn:xn,Sn=Ba[va],Pn=Sn+Ca[sl],Nn=Sn-Ca[_n],qn=na(Da?xi(Pn,bl):Pn,Sn,Da?ka(Nn,Sl):Nn);Ba[va]=qn,Ss[va]=qn-Sn}}oi.modifiersData[Li]=Ss}}var ko={name:"preventOverflow",enabled:!0,phase:"main",fn:qo,requiresIfExists:["offset"]},bi=function(oi,Di){return oi=typeof oi=="function"?oi(Object.assign({},Di.rects,{placement:Di.placement})):oi,Hi(typeof oi!="number"?oi:Po(oi,Hn))};function ds(hi){var oi,Di=hi.state,Li=hi.name,Qi=hi.options,po=Di.elements.arrow,To=Di.modifiersData.popperOffsets,ho=Va(Di.placement),Ho=vo(ho),Ko=[Mn,xn].indexOf(ho)>=0,So=Ko?"height":"width";if(!(!po||!To)){var Ra=bi(Qi.padding,Di),Ja=nn(po),Da=Ho==="y"?dn:Mn,ha=Ho==="y"?wn:xn,Ea=Di.rects.reference[So]+Di.rects.reference[Ho]-To[Ho]-Di.rects.popper[So],Ca=To[Ho]-Di.rects.reference[Ho],_s=vn(po),Wa=_s?Ho==="y"?_s.clientHeight||0:_s.clientWidth||0:0,fs=Ea/2-Ca/2,oa=Ra[Da],va=Wa-Ja[So]-Ra[ha],Ba=Wa/2-Ja[So]/2+fs,ps=na(oa,Ba,va),Za=Ho;Di.modifiersData[Li]=(oi={},oi[Za]=ps,oi.centerOffset=ps-Ba,oi)}}function sa(hi){var oi=hi.state,Di=hi.options,Li=Di.element,Qi=Li===void 0?"[data-popper-arrow]":Li;if(Qi!=null&&!(typeof Qi=="string"&&(Qi=oi.elements.popper.querySelector(Qi),!Qi))){if(Br(Qi)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),!Jn(oi.elements.popper,Qi)){console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "));return}oi.elements.arrow=Qi}}var Ms={name:"arrow",enabled:!0,phase:"main",fn:ds,effect:sa,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Aa(hi,oi,Di){return Di===void 0&&(Di={x:0,y:0}),{top:hi.top-oi.height-Di.y,right:hi.right-oi.width+Di.x,bottom:hi.bottom-oi.height+Di.y,left:hi.left-oi.width-Di.x}}function Fs(hi){return[dn,xn,wn,Mn].some(function(oi){return hi[oi]>=0})}function Qs(hi){var oi=hi.state,Di=hi.name,Li=oi.rects.reference,Qi=oi.rects.popper,po=oi.modifiersData.preventOverflow,To=ro(oi,{elementContext:"reference"}),ho=ro(oi,{altBoundary:!0}),Ho=Aa(To,Li),Ko=Aa(ho,Qi,po),So=Fs(Ho),Ra=Fs(Ko);oi.modifiersData[Di]={referenceClippingOffsets:Ho,popperEscapeOffsets:Ko,isReferenceHidden:So,hasPopperEscaped:Ra},oi.attributes.popper=Object.assign({},oi.attributes.popper,{"data-popper-reference-hidden":So,"data-popper-escaped":Ra})}var ol={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Qs},Ji=[qs,us,Mi,zo],Uo=es({defaultModifiers:Ji}),hs=[qs,us,Mi,zo,Sa,ra,ko,Ms,ol],ml=es({defaultModifiers:hs});_r.applyStyles=zo,_r.arrow=Ms,_r.computeStyles=Mi,_r.createPopper=ml,_r.createPopperLite=Uo,_r.defaultModifiers=hs,_r.detectOverflow=ro,_r.eventListeners=qs,_r.flip=ra,_r.hide=ol,_r.offset=Sa,_r.popperGenerator=es,_r.popperOffsets=us,_r.preventOverflow=ko}),require_tippy_cjs=__commonJS(_r=>{Object.defineProperty(_r,"__esModule",{value:!0});var Be=require_popper(),Dr='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',Mr="tippy-box",$r="tippy-content",Br="tippy-backdrop",zr="tippy-arrow",Vr="tippy-svg-arrow",jr={passive:!0,capture:!0};function Gr(Si,Mi){return{}.hasOwnProperty.call(Si,Mi)}function Wr(Si,Mi,Gi){if(Array.isArray(Si)){var yo=Si[Mi];return yo??(Array.isArray(Gi)?Gi[Mi]:Gi)}return Si}function Kr(Si,Mi){var Gi={}.toString.call(Si);return Gi.indexOf("[object")===0&&Gi.indexOf(Mi+"]")>-1}function Zr(Si,Mi){return typeof Si=="function"?Si.apply(void 0,Mi):Si}function Jr(Si,Mi){if(Mi===0)return Si;var Gi;return function(yo){clearTimeout(Gi),Gi=setTimeout(function(){Si(yo)},Mi)}}function rn(Si,Mi){var Gi=Object.assign({},Si);return Mi.forEach(function(yo){delete Gi[yo]}),Gi}function nn(Si){return Si.split(/\s+/).filter(Boolean)}function ln(Si){return[].concat(Si)}function cn(Si,Mi){Si.indexOf(Mi)===-1&&Si.push(Mi)}function hn(Si){return Si.filter(function(Mi,Gi){return Si.indexOf(Mi)===Gi})}function mn(Si){return Si.split("-")[0]}function bn(Si){return[].slice.call(Si)}function An(Si){return Object.keys(Si).reduce(function(Mi,Gi){return Si[Gi]!==void 0&&(Mi[Gi]=Si[Gi]),Mi},{})}function vn(){return document.createElement("div")}function dn(Si){return["Element","Fragment"].some(function(Mi){return Kr(Si,Mi)})}function wn(Si){return Kr(Si,"NodeList")}function xn(Si){return Kr(Si,"MouseEvent")}function Mn(Si){return!!(Si&&Si._tippy&&Si._tippy.reference===Si)}function In(Si){return dn(Si)?[Si]:wn(Si)?bn(Si):Array.isArray(Si)?Si:bn(document.querySelectorAll(Si))}function Hn(Si,Mi){Si.forEach(function(Gi){Gi&&(Gi.style.transitionDuration=Mi+"ms")})}function $n(Si,Mi){Si.forEach(function(Gi){Gi&&Gi.setAttribute("data-state",Mi)})}function jn(Si){var Mi,Gi=ln(Si),yo=Gi[0];return!(yo==null||(Mi=yo.ownerDocument)==null)&&Mi.body?yo.ownerDocument:document}function Bn(Si,Mi){var Gi=Mi.clientX,yo=Mi.clientY;return Si.every(function(zo){var xo=zo.popperRect,bo=zo.popperState,Sa=zo.props,Io=Sa.interactiveBorder,aa=mn(bo.placement),ma=bo.modifiersData.offset;if(!ma)return!0;var Na=aa==="bottom"?ma.top.y:0,ts=aa==="top"?ma.bottom.y:0,Oa=aa==="right"?ma.left.x:0,Ga=aa==="left"?ma.right.x:0,ra=xo.top-yo+Na>Io,Yo=yo-xo.bottom-ts>Io,na=xo.left-Gi+Oa>Io,qo=Gi-xo.right-Ga>Io;return ra||Yo||na||qo})}function Gn(Si,Mi,Gi){var yo=Mi+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(zo){Si[yo](zo,Gi)})}var ei={isTouch:!1},ri=0;function vi(){ei.isTouch||(ei.isTouch=!0,window.performance&&document.addEventListener("mousemove",wi))}function wi(){var Si=performance.now();Si-ri<20&&(ei.isTouch=!1,document.removeEventListener("mousemove",wi)),ri=Si}function Ni(){var Si=document.activeElement;if(Mn(Si)){var Mi=Si._tippy;Si.blur&&!Mi.state.isVisible&&Si.blur()}}function Yn(){document.addEventListener("touchstart",vi,jr),window.addEventListener("blur",Ni)}var Vn=typeof window<"u"&&typeof document<"u",si=Vn?navigator.userAgent:"",Ri=/MSIE |Trident\//.test(si);function Pi(Si){var Mi=Si==="destroy"?"n already-":" ";return[Si+"() was called on a"+Mi+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function Fi(Si){var Mi=/[ \t]{2,}/g,Gi=/^[ \t]*/gm;return Si.replace(Mi," ").replace(Gi,"").trim()}function zi(Si){return Fi(`
  %ctippy.js

  %c`+Fi(Si)+`

  %cð·â This is a development-only message. It will be removed in production.
  `)}function oo(Si){return[zi(Si),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var lo;io();function io(){lo=new Set}function Wi(Si,Mi){if(Si&&!lo.has(Mi)){var Gi;lo.add(Mi),(Gi=console).warn.apply(Gi,oo(Mi))}}function Bo(Si,Mi){if(Si&&!lo.has(Mi)){var Gi;lo.add(Mi),(Gi=console).error.apply(Gi,oo(Mi))}}function Mo(Si){var Mi=!Si,Gi=Object.prototype.toString.call(Si)==="[object Object]"&&!Si.addEventListener;Bo(Mi,["tippy() was passed","`"+String(Si)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),Bo(Gi,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var Zi={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Zo={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Wo=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Zi,{},Zo),Ao=Object.keys(Wo),ba=function(Mi){ka(Mi,[]);var Gi=Object.keys(Mi);Gi.forEach(function(yo){Wo[yo]=Mi[yo]})};function Va(Si){var Mi=Si.plugins||[],Gi=Mi.reduce(function(yo,zo){var xo=zo.name,bo=zo.defaultValue;return xo&&(yo[xo]=Si[xo]!==void 0?Si[xo]:bo),yo},{});return Object.assign({},Si,{},Gi)}function Ia(Si,Mi){var Gi=Mi?Object.keys(Va(Object.assign({},Wo,{plugins:Mi}))):Ao,yo=Gi.reduce(function(zo,xo){var bo=(Si.getAttribute("data-tippy-"+xo)||"").trim();if(!bo)return zo;if(xo==="content")zo[xo]=bo;else try{zo[xo]=JSON.parse(bo)}catch{zo[xo]=bo}return zo},{});return yo}function Ua(Si,Mi){var Gi=Object.assign({},Mi,{content:Zr(Mi.content,[Si])},Mi.ignoreAttributes?{}:Ia(Si,Mi.plugins));return Gi.aria=Object.assign({},Wo.aria,{},Gi.aria),Gi.aria={expanded:Gi.aria.expanded==="auto"?Mi.interactive:Gi.aria.expanded,content:Gi.aria.content==="auto"?Mi.interactive?null:"describedby":Gi.aria.content},Gi}function ka(Si,Mi){Si===void 0&&(Si={}),Mi===void 0&&(Mi=[]);var Gi=Object.keys(Si);Gi.forEach(function(yo){var zo=rn(Wo,Object.keys(Zi)),xo=!Gr(zo,yo);xo&&(xo=Mi.filter(function(bo){return bo.name===yo}).length===0),Wi(xo,["`"+yo+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var xi=function(){return"innerHTML"};function ci(Si,Mi){Si[xi()]=Mi}function _i(Si){var Mi=vn();return Si===!0?Mi.className=zr:(Mi.className=Vr,dn(Si)?Mi.appendChild(Si):ci(Mi,Si)),Mi}function Jn(Si,Mi){dn(Mi.content)?(ci(Si,""),Si.appendChild(Mi.content)):typeof Mi.content!="function"&&(Mi.allowHTML?ci(Si,Mi.content):Si.textContent=Mi.content)}function ni(Si){var Mi=Si.firstElementChild,Gi=bn(Mi.children);return{box:Mi,content:Gi.find(function(yo){return yo.classList.contains($r)}),arrow:Gi.find(function(yo){return yo.classList.contains(zr)||yo.classList.contains(Vr)}),backdrop:Gi.find(function(yo){return yo.classList.contains(Br)})}}function mi(Si){var Mi=vn(),Gi=vn();Gi.className=Mr,Gi.setAttribute("data-state","hidden"),Gi.setAttribute("tabindex","-1");var yo=vn();yo.className=$r,yo.setAttribute("data-state","hidden"),Jn(yo,Si.props),Mi.appendChild(Gi),Gi.appendChild(yo),zo(Si.props,Si.props);function zo(xo,bo){var Sa=ni(Mi),Io=Sa.box,aa=Sa.content,ma=Sa.arrow;bo.theme?Io.setAttribute("data-theme",bo.theme):Io.removeAttribute("data-theme"),typeof bo.animation=="string"?Io.setAttribute("data-animation",bo.animation):Io.removeAttribute("data-animation"),bo.inertia?Io.setAttribute("data-inertia",""):Io.removeAttribute("data-inertia"),Io.style.maxWidth=typeof bo.maxWidth=="number"?bo.maxWidth+"px":bo.maxWidth,bo.role?Io.setAttribute("role",bo.role):Io.removeAttribute("role"),(xo.content!==bo.content||xo.allowHTML!==bo.allowHTML)&&Jn(aa,Si.props),bo.arrow?ma?xo.arrow!==bo.arrow&&(Io.removeChild(ma),Io.appendChild(_i(bo.arrow))):Io.appendChild(_i(bo.arrow)):ma&&Io.removeChild(ma)}return{popper:Mi,onUpdate:zo}}mi.$$tippy=!0;var di=1,ki=[],ao=[];function so(Si,Mi){var Gi=Ua(Si,Object.assign({},Wo,{},Va(An(Mi)))),yo,zo,xo,bo=!1,Sa=!1,Io=!1,aa=!1,ma,Na,ts,Oa=[],Ga=Jr(Wa,Gi.interactiveDebounce),ra,Yo=di++,na=null,qo=hn(Gi.plugins),ko={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},bi={id:Yo,reference:Si,popper:vn(),popperInstance:na,props:Gi,state:ko,plugins:qo,clearDelayTimeouts:Il,setProps:Ql,setContent:vl,show:yl,hide:xc,hideWithInteractivity:dl,enable:xl,disable:al,unmount:Ll,destroy:Ta};if(!Gi.render)return Bo(!0,"render() function has not been supplied."),bi;var ds=Gi.render(bi),sa=ds.popper,Ms=ds.onUpdate;sa.setAttribute("data-tippy-root",""),sa.id="tippy-"+bi.id,bi.popper=sa,Si._tippy=bi,sa._tippy=bi;var Aa=qo.map(function(qi){return qi.fn(bi)}),Fs=Si.hasAttribute("aria-expanded");return Ea(),Qi(),oi(),Di("onCreate",[bi]),Gi.showOnCreate&&Ss(),sa.addEventListener("mouseenter",function(){bi.props.interactive&&bi.state.isVisible&&bi.clearDelayTimeouts()}),sa.addEventListener("mouseleave",function(qi){bi.props.interactive&&bi.props.trigger.indexOf("mouseenter")>=0&&(hs().addEventListener("mousemove",Ga),Ga(qi))}),bi;function Qs(){var qi=bi.props.touch;return Array.isArray(qi)?qi:[qi,0]}function ol(){return Qs()[0]==="hold"}function Ji(){var qi;return!!((qi=bi.props.render)!=null&&qi.$$tippy)}function Uo(){return ra||Si}function hs(){var qi=Uo().parentNode;return qi?jn(qi):document}function ml(){return ni(sa)}function hi(qi){return bi.state.isMounted&&!bi.state.isVisible||ei.isTouch||ma&&ma.type==="focus"?0:Wr(bi.props.delay,qi?0:1,Wo.delay)}function oi(){sa.style.pointerEvents=bi.props.interactive&&bi.state.isVisible?"":"none",sa.style.zIndex=""+bi.props.zIndex}function Di(qi,Fo,jo){if(jo===void 0&&(jo=!0),Aa.forEach(function(xa){xa[qi]&&xa[qi].apply(void 0,Fo)}),jo){var ua;(ua=bi.props)[qi].apply(ua,Fo)}}function Li(){var qi=bi.props.aria;if(qi.content){var Fo="aria-"+qi.content,jo=sa.id,ua=ln(bi.props.triggerTarget||Si);ua.forEach(function(xa){var Ya=xa.getAttribute(Fo);if(bi.state.isVisible)xa.setAttribute(Fo,Ya?Ya+" "+jo:jo);else{var Is=Ya&&Ya.replace(jo,"").trim();Is?xa.setAttribute(Fo,Is):xa.removeAttribute(Fo)}})}}function Qi(){if(!(Fs||!bi.props.aria.expanded)){var qi=ln(bi.props.triggerTarget||Si);qi.forEach(function(Fo){bi.props.interactive?Fo.setAttribute("aria-expanded",bi.state.isVisible&&Fo===Uo()?"true":"false"):Fo.removeAttribute("aria-expanded")})}}function po(){hs().removeEventListener("mousemove",Ga),ki=ki.filter(function(qi){return qi!==Ga})}function To(qi){if(!(ei.isTouch&&(Io||qi.type==="mousedown"))&&!(bi.props.interactive&&sa.contains(qi.target))){if(Uo().contains(qi.target)){if(ei.isTouch||bi.state.isVisible&&bi.props.trigger.indexOf("click")>=0)return}else Di("onClickOutside",[bi,qi]);bi.props.hideOnClick===!0&&(bi.clearDelayTimeouts(),bi.hide(),Sa=!0,setTimeout(function(){Sa=!1}),bi.state.isMounted||So())}}function ho(){Io=!0}function Ho(){Io=!1}function Ko(){var qi=hs();qi.addEventListener("mousedown",To,!0),qi.addEventListener("touchend",To,jr),qi.addEventListener("touchstart",Ho,jr),qi.addEventListener("touchmove",ho,jr)}function So(){var qi=hs();qi.removeEventListener("mousedown",To,!0),qi.removeEventListener("touchend",To,jr),qi.removeEventListener("touchstart",Ho,jr),qi.removeEventListener("touchmove",ho,jr)}function Ra(qi,Fo){Da(qi,function(){!bi.state.isVisible&&sa.parentNode&&sa.parentNode.contains(sa)&&Fo()})}function Ja(qi,Fo){Da(qi,Fo)}function Da(qi,Fo){var jo=ml().box;function ua(xa){xa.target===jo&&(Gn(jo,"remove",ua),Fo())}if(qi===0)return Fo();Gn(jo,"remove",Na),Gn(jo,"add",ua),Na=ua}function ha(qi,Fo,jo){jo===void 0&&(jo=!1);var ua=ln(bi.props.triggerTarget||Si);ua.forEach(function(xa){xa.addEventListener(qi,Fo,jo),Oa.push({node:xa,eventType:qi,handler:Fo,options:jo})})}function Ea(){ol()&&(ha("touchstart",_s,{passive:!0}),ha("touchend",fs,{passive:!0})),nn(bi.props.trigger).forEach(function(qi){if(qi!=="manual")switch(ha(qi,_s),qi){case"mouseenter":ha("mouseleave",fs);break;case"focus":ha(Ri?"focusout":"blur",oa);break;case"focusin":ha("focusout",oa);break}})}function Ca(){Oa.forEach(function(qi){var Fo=qi.node,jo=qi.eventType,ua=qi.handler,xa=qi.options;Fo.removeEventListener(jo,ua,xa)}),Oa=[]}function _s(qi){var Fo,jo=!1;if(!(!bi.state.isEnabled||va(qi)||Sa)){var ua=((Fo=ma)==null?void 0:Fo.type)==="focus";ma=qi,ra=qi.currentTarget,Qi(),!bi.state.isVisible&&xn(qi)&&ki.forEach(function(xa){return xa(qi)}),qi.type==="click"&&(bi.props.trigger.indexOf("mouseenter")<0||bo)&&bi.props.hideOnClick!==!1&&bi.state.isVisible?jo=!0:Ss(qi),qi.type==="click"&&(bo=!jo),jo&&!ua&&ws(qi)}}function Wa(qi){var Fo=qi.target,jo=Uo().contains(Fo)||sa.contains(Fo);if(!(qi.type==="mousemove"&&jo)){var ua=gs().concat(sa).map(function(xa){var Ya,Is=xa._tippy,Ls=(Ya=Is.popperInstance)==null?void 0:Ya.state;return Ls?{popperRect:xa.getBoundingClientRect(),popperState:Ls,props:Gi}:null}).filter(Boolean);Bn(ua,qi)&&(po(),ws(qi))}}function fs(qi){var Fo=va(qi)||bi.props.trigger.indexOf("click")>=0&&bo;if(!Fo){if(bi.props.interactive){bi.hideWithInteractivity(qi);return}ws(qi)}}function oa(qi){bi.props.trigger.indexOf("focusin")<0&&qi.target!==Uo()||bi.props.interactive&&qi.relatedTarget&&sa.contains(qi.relatedTarget)||ws(qi)}function va(qi){return ei.isTouch?ol()!==qi.type.indexOf("touch")>=0:!1}function Ba(){ps();var qi=bi.props,Fo=qi.popperOptions,jo=qi.placement,ua=qi.offset,xa=qi.getReferenceClientRect,Ya=qi.moveTransition,Is=Ji()?ni(sa).arrow:null,Ls=xa?{getBoundingClientRect:xa,contextElement:xa.contextElement||Uo()}:Si,dc={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(jl){var sl=jl.state;if(Ji()){var _n=ml(),Sn=_n.box;["placement","reference-hidden","escaped"].forEach(function(Pn){Pn==="placement"?Sn.setAttribute("data-placement",sl.placement):sl.attributes.popper["data-popper-"+Pn]?Sn.setAttribute("data-"+Pn,""):Sn.removeAttribute("data-"+Pn)}),sl.attributes.popper={}}}},bl=[{name:"offset",options:{offset:ua}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ya}},dc];Ji()&&Is&&bl.push({name:"arrow",options:{element:Is,padding:3}}),bl.push.apply(bl,(Fo==null?void 0:Fo.modifiers)||[]),bi.popperInstance=Be.createPopper(Ls,sa,Object.assign({},Fo,{placement:jo,onFirstUpdate:ts,modifiers:bl}))}function ps(){bi.popperInstance&&(bi.popperInstance.destroy(),bi.popperInstance=null)}function Za(){var qi=bi.props.appendTo,Fo,jo=Uo();bi.props.interactive&&qi===Wo.appendTo||qi==="parent"?Fo=jo.parentNode:Fo=Zr(qi,[jo]),Fo.contains(sa)||Fo.appendChild(sa),Ba(),Wi(bi.props.interactive&&qi===Wo.appendTo&&jo.nextElementSibling!==sa,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.",`

`,"Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.",`

`,"Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.",`

`,"See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}function gs(){return bn(sa.querySelectorAll("[data-tippy-root]"))}function Ss(qi){bi.clearDelayTimeouts(),qi&&Di("onTrigger",[bi,qi]),Ko();var Fo=hi(!0),jo=Qs(),ua=jo[0],xa=jo[1];ei.isTouch&&ua==="hold"&&xa&&(Fo=xa),Fo?yo=setTimeout(function(){bi.show()},Fo):bi.show()}function ws(qi){if(bi.clearDelayTimeouts(),Di("onUntrigger",[bi,qi]),!bi.state.isVisible){So();return}if(!(bi.props.trigger.indexOf("mouseenter")>=0&&bi.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(qi.type)>=0&&bo)){var Fo=hi(!1);Fo?zo=setTimeout(function(){bi.state.isVisible&&bi.hide()},Fo):xo=requestAnimationFrame(function(){bi.hide()})}}function xl(){bi.state.isEnabled=!0}function al(){bi.hide(),bi.state.isEnabled=!1}function Il(){clearTimeout(yo),clearTimeout(zo),cancelAnimationFrame(xo)}function Ql(qi){if(Wi(bi.state.isDestroyed,Pi("setProps")),!bi.state.isDestroyed){Di("onBeforeUpdate",[bi,qi]),Ca();var Fo=bi.props,jo=Ua(Si,Object.assign({},bi.props,{},qi,{ignoreAttributes:!0}));bi.props=jo,Ea(),Fo.interactiveDebounce!==jo.interactiveDebounce&&(po(),Ga=Jr(Wa,jo.interactiveDebounce)),Fo.triggerTarget&&!jo.triggerTarget?ln(Fo.triggerTarget).forEach(function(ua){ua.removeAttribute("aria-expanded")}):jo.triggerTarget&&Si.removeAttribute("aria-expanded"),Qi(),oi(),Ms&&Ms(Fo,jo),bi.popperInstance&&(Ba(),gs().forEach(function(ua){requestAnimationFrame(ua._tippy.popperInstance.forceUpdate)})),Di("onAfterUpdate",[bi,qi])}}function vl(qi){bi.setProps({content:qi})}function yl(){Wi(bi.state.isDestroyed,Pi("show"));var qi=bi.state.isVisible,Fo=bi.state.isDestroyed,jo=!bi.state.isEnabled,ua=ei.isTouch&&!bi.props.touch,xa=Wr(bi.props.duration,0,Wo.duration);if(!(qi||Fo||jo||ua)&&!Uo().hasAttribute("disabled")&&(Di("onShow",[bi],!1),bi.props.onShow(bi)!==!1)){if(bi.state.isVisible=!0,Ji()&&(sa.style.visibility="visible"),oi(),Ko(),bi.state.isMounted||(sa.style.transition="none"),Ji()){var Ya=ml(),Is=Ya.box,Ls=Ya.content;Hn([Is,Ls],0)}ts=function(){var bl;if(!(!bi.state.isVisible||aa)){if(aa=!0,sa.offsetHeight,sa.style.transition=bi.props.moveTransition,Ji()&&bi.props.animation){var Sl=ml(),jl=Sl.box,sl=Sl.content;Hn([jl,sl],xa),$n([jl,sl],"visible")}Li(),Qi(),cn(ao,bi),(bl=bi.popperInstance)==null||bl.forceUpdate(),bi.state.isMounted=!0,Di("onMount",[bi]),bi.props.animation&&Ji()&&Ja(xa,function(){bi.state.isShown=!0,Di("onShown",[bi])})}},Za()}}function xc(){Wi(bi.state.isDestroyed,Pi("hide"));var qi=!bi.state.isVisible,Fo=bi.state.isDestroyed,jo=!bi.state.isEnabled,ua=Wr(bi.props.duration,1,Wo.duration);if(!(qi||Fo||jo)&&(Di("onHide",[bi],!1),bi.props.onHide(bi)!==!1)){if(bi.state.isVisible=!1,bi.state.isShown=!1,aa=!1,bo=!1,Ji()&&(sa.style.visibility="hidden"),po(),So(),oi(),Ji()){var xa=ml(),Ya=xa.box,Is=xa.content;bi.props.animation&&(Hn([Ya,Is],ua),$n([Ya,Is],"hidden"))}Li(),Qi(),bi.props.animation?Ji()&&Ra(ua,bi.unmount):bi.unmount()}}function dl(qi){Wi(bi.state.isDestroyed,Pi("hideWithInteractivity")),hs().addEventListener("mousemove",Ga),cn(ki,Ga),Ga(qi)}function Ll(){Wi(bi.state.isDestroyed,Pi("unmount")),bi.state.isVisible&&bi.hide(),bi.state.isMounted&&(ps(),gs().forEach(function(qi){qi._tippy.unmount()}),sa.parentNode&&sa.parentNode.removeChild(sa),ao=ao.filter(function(qi){return qi!==bi}),bi.state.isMounted=!1,Di("onHidden",[bi]))}function Ta(){Wi(bi.state.isDestroyed,Pi("destroy")),!bi.state.isDestroyed&&(bi.clearDelayTimeouts(),bi.unmount(),Ca(),delete Si._tippy,bi.state.isDestroyed=!0,Di("onDestroy",[bi]))}}function vo(Si,Mi){Mi===void 0&&(Mi={});var Gi=Wo.plugins.concat(Mi.plugins||[]);Mo(Si),ka(Mi,Gi),Yn();var yo=Object.assign({},Mi,{plugins:Gi}),zo=In(Si);{var xo=dn(yo.content),bo=zo.length>1;Wi(xo&&bo,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.",`

`,"Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.",`

`,`1) content: element.innerHTML
`,"2) content: () => element.cloneNode(true)"].join(" "))}var Sa=zo.reduce(function(Io,aa){var ma=aa&&so(aa,yo);return ma&&Io.push(ma),Io},[]);return dn(Si)?Sa[0]:Sa}vo.defaultProps=Wo,vo.setDefaultProps=ba,vo.currentInput=ei;var Eo=function(Mi){var Gi=Mi===void 0?{}:Mi,yo=Gi.exclude,zo=Gi.duration;ao.forEach(function(xo){var bo=!1;if(yo&&(bo=Mn(yo)?xo.reference===yo:xo.popper===yo.popper),!bo){var Sa=xo.props.duration;xo.setProps({duration:zo}),xo.hide(),xo.state.isDestroyed||xo.setProps({duration:Sa})}})},Xo=Object.assign({},Be.applyStyles,{effect:function(Mi){var Gi=Mi.state,yo={popper:{position:Gi.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(Gi.elements.popper.style,yo.popper),Gi.styles=yo,Gi.elements.arrow&&Object.assign(Gi.elements.arrow.style,yo.arrow)}}),Hi=function(Mi,Gi){var yo;Gi===void 0&&(Gi={}),Bo(!Array.isArray(Mi),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(Mi)].join(" "));var zo=Mi,xo=[],bo,Sa=Gi.overrides,Io=[],aa=!1;function ma(){xo=zo.map(function(qo){return qo.reference})}function Na(qo){zo.forEach(function(ko){qo?ko.enable():ko.disable()})}function ts(qo){return zo.map(function(ko){var bi=ko.setProps;return ko.setProps=function(ds){bi(ds),ko.reference===bo&&qo.setProps(ds)},function(){ko.setProps=bi}})}function Oa(qo,ko){var bi=xo.indexOf(ko);if(ko!==bo){bo=ko;var ds=(Sa||[]).concat("content").reduce(function(sa,Ms){return sa[Ms]=zo[bi].props[Ms],sa},{});qo.setProps(Object.assign({},ds,{getReferenceClientRect:typeof ds.getReferenceClientRect=="function"?ds.getReferenceClientRect:function(){return ko.getBoundingClientRect()}}))}}Na(!1),ma();var Ga={fn:function(){return{onDestroy:function(){Na(!0)},onHidden:function(){bo=null},onClickOutside:function(bi){bi.props.showOnCreate&&!aa&&(aa=!0,bo=null)},onShow:function(bi){bi.props.showOnCreate&&!aa&&(aa=!0,Oa(bi,xo[0]))},onTrigger:function(bi,ds){Oa(bi,ds.currentTarget)}}}},ra=vo(vn(),Object.assign({},rn(Gi,["overrides"]),{plugins:[Ga].concat(Gi.plugins||[]),triggerTarget:xo,popperOptions:Object.assign({},Gi.popperOptions,{modifiers:[].concat(((yo=Gi.popperOptions)==null?void 0:yo.modifiers)||[],[Xo])})})),Yo=ra.show;ra.show=function(qo){if(Yo(),!bo&&qo==null)return Oa(ra,xo[0]);if(!(bo&&qo==null)){if(typeof qo=="number")return xo[qo]&&Oa(ra,xo[qo]);if(zo.includes(qo)){var ko=qo.reference;return Oa(ra,ko)}if(xo.includes(qo))return Oa(ra,qo)}},ra.showNext=function(){var qo=xo[0];if(!bo)return ra.show(0);var ko=xo.indexOf(bo);ra.show(xo[ko+1]||qo)},ra.showPrevious=function(){var qo=xo[xo.length-1];if(!bo)return ra.show(qo);var ko=xo.indexOf(bo),bi=xo[ko-1]||qo;ra.show(bi)};var na=ra.setProps;return ra.setProps=function(qo){Sa=qo.overrides||Sa,na(qo)},ra.setInstances=function(qo){Na(!0),Io.forEach(function(ko){return ko()}),zo=qo,Na(!1),ma(),ts(ra),ra.setProps({triggerTarget:xo})},Io=ts(ra),ra},Po={mouseover:"mouseenter",focusin:"focus",click:"click"};function ro(Si,Mi){Bo(!(Mi&&Mi.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var Gi=[],yo=[],zo=!1,xo=Mi.target,bo=rn(Mi,["target"]),Sa=Object.assign({},bo,{trigger:"manual",touch:!1}),Io=Object.assign({},bo,{showOnCreate:!0}),aa=vo(Si,Sa),ma=ln(aa);function Na(Yo){if(!(!Yo.target||zo)){var na=Yo.target.closest(xo);if(na){var qo=na.getAttribute("data-tippy-trigger")||Mi.trigger||Wo.trigger;if(!na._tippy&&!(Yo.type==="touchstart"&&typeof Io.touch=="boolean")&&!(Yo.type!=="touchstart"&&qo.indexOf(Po[Yo.type])<0)){var ko=vo(na,Io);ko&&(yo=yo.concat(ko))}}}}function ts(Yo,na,qo,ko){ko===void 0&&(ko=!1),Yo.addEventListener(na,qo,ko),Gi.push({node:Yo,eventType:na,handler:qo,options:ko})}function Oa(Yo){var na=Yo.reference;ts(na,"touchstart",Na,jr),ts(na,"mouseover",Na),ts(na,"focusin",Na),ts(na,"click",Na)}function Ga(){Gi.forEach(function(Yo){var na=Yo.node,qo=Yo.eventType,ko=Yo.handler,bi=Yo.options;na.removeEventListener(qo,ko,bi)}),Gi=[]}function ra(Yo){var na=Yo.destroy,qo=Yo.enable,ko=Yo.disable;Yo.destroy=function(bi){bi===void 0&&(bi=!0),bi&&yo.forEach(function(ds){ds.destroy()}),yo=[],Ga(),na()},Yo.enable=function(){qo(),yo.forEach(function(bi){return bi.enable()}),zo=!1},Yo.disable=function(){ko(),yo.forEach(function(bi){return bi.disable()}),zo=!0},Oa(Yo)}return ma.forEach(ra),aa}var ea={name:"animateFill",defaultValue:!1,fn:function(Mi){var Gi;if(!((Gi=Mi.props.render)!=null&&Gi.$$tippy))return Bo(Mi.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var yo=ni(Mi.popper),zo=yo.box,xo=yo.content,bo=Mi.props.animateFill?la():null;return{onCreate:function(){bo&&(zo.insertBefore(bo,zo.firstElementChild),zo.setAttribute("data-animatefill",""),zo.style.overflow="hidden",Mi.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(bo){var Io=zo.style.transitionDuration,aa=Number(Io.replace("ms",""));xo.style.transitionDelay=Math.round(aa/10)+"ms",bo.style.transitionDuration=Io,$n([bo],"visible")}},onShow:function(){bo&&(bo.style.transitionDuration="0ms")},onHide:function(){bo&&$n([bo],"hidden")}}}};function la(){var Si=vn();return Si.className=Br,$n([Si],"hidden"),Si}var rs={clientX:0,clientY:0},ca=[];function es(Si){var Mi=Si.clientX,Gi=Si.clientY;rs={clientX:Mi,clientY:Gi}}function Pa(Si){Si.addEventListener("mousemove",es)}function bs(Si){Si.removeEventListener("mousemove",es)}var qs={name:"followCursor",defaultValue:!1,fn:function(Mi){var Gi=Mi.reference,yo=jn(Mi.props.triggerTarget||Gi),zo=!1,xo=!1,bo=!0,Sa=Mi.props;function Io(){return Mi.props.followCursor==="initial"&&Mi.state.isVisible}function aa(){yo.addEventListener("mousemove",ts)}function ma(){yo.removeEventListener("mousemove",ts)}function Na(){zo=!0,Mi.setProps({getReferenceClientRect:null}),zo=!1}function ts(ra){var Yo=ra.target?Gi.contains(ra.target):!0,na=Mi.props.followCursor,qo=ra.clientX,ko=ra.clientY,bi=Gi.getBoundingClientRect(),ds=qo-bi.left,sa=ko-bi.top;(Yo||!Mi.props.interactive)&&Mi.setProps({getReferenceClientRect:function(){var Aa=Gi.getBoundingClientRect(),Fs=qo,Qs=ko;na==="initial"&&(Fs=Aa.left+ds,Qs=Aa.top+sa);var ol=na==="horizontal"?Aa.top:Qs,Ji=na==="vertical"?Aa.right:Fs,Uo=na==="horizontal"?Aa.bottom:Qs,hs=na==="vertical"?Aa.left:Fs;return{width:Ji-hs,height:Uo-ol,top:ol,right:Ji,bottom:Uo,left:hs}}})}function Oa(){Mi.props.followCursor&&(ca.push({instance:Mi,doc:yo}),Pa(yo))}function Ga(){ca=ca.filter(function(ra){return ra.instance!==Mi}),ca.filter(function(ra){return ra.doc===yo}).length===0&&bs(yo)}return{onCreate:Oa,onDestroy:Ga,onBeforeUpdate:function(){Sa=Mi.props},onAfterUpdate:function(Yo,na){var qo=na.followCursor;zo||qo!==void 0&&Sa.followCursor!==qo&&(Ga(),qo?(Oa(),Mi.state.isMounted&&!xo&&!Io()&&aa()):(ma(),Na()))},onMount:function(){Mi.props.followCursor&&!xo&&(bo&&(ts(rs),bo=!1),Io()||aa())},onTrigger:function(Yo,na){xn(na)&&(rs={clientX:na.clientX,clientY:na.clientY}),xo=na.type==="focus"},onHidden:function(){Mi.props.followCursor&&(Na(),ma(),bo=!0)}}}};function il(Si,Mi){var Gi;return{popperOptions:Object.assign({},Si.popperOptions,{modifiers:[].concat((((Gi=Si.popperOptions)==null?void 0:Gi.modifiers)||[]).filter(function(yo){var zo=yo.name;return zo!==Mi.name}),[Mi])})}}var us={name:"inlinePositioning",defaultValue:!1,fn:function(Mi){var Gi=Mi.reference;function yo(){return!!Mi.props.inlinePositioning}var zo,xo=-1,bo=!1,Sa={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(ts){var Oa=ts.state;yo()&&(zo!==Oa.placement&&Mi.setProps({getReferenceClientRect:function(){return Io(Oa.placement)}}),zo=Oa.placement)}};function Io(Na){return Vl(mn(Na),Gi.getBoundingClientRect(),bn(Gi.getClientRects()),xo)}function aa(Na){bo=!0,Mi.setProps(Na),bo=!1}function ma(){bo||aa(il(Mi.props,Sa))}return{onCreate:ma,onAfterUpdate:ma,onTrigger:function(ts,Oa){if(xn(Oa)){var Ga=bn(Mi.reference.getClientRects()),ra=Ga.find(function(Yo){return Yo.left-2<=Oa.clientX&&Yo.right+2>=Oa.clientX&&Yo.top-2<=Oa.clientY&&Yo.bottom+2>=Oa.clientY});xo=Ga.indexOf(ra)}},onUntrigger:function(){xo=-1}}}};function Vl(Si,Mi,Gi,yo){if(Gi.length<2||Si===null)return Mi;if(Gi.length===2&&yo>=0&&Gi[0].left>Gi[1].right)return Gi[yo]||Mi;switch(Si){case"top":case"bottom":{var zo=Gi[0],xo=Gi[Gi.length-1],bo=Si==="top",Sa=zo.top,Io=xo.bottom,aa=bo?zo.left:xo.left,ma=bo?zo.right:xo.right,Na=ma-aa,ts=Io-Sa;return{top:Sa,bottom:Io,left:aa,right:ma,width:Na,height:ts}}case"left":case"right":{var Oa=Math.min.apply(Math,Gi.map(function(sa){return sa.left})),Ga=Math.max.apply(Math,Gi.map(function(sa){return sa.right})),ra=Gi.filter(function(sa){return Si==="left"?sa.left===Oa:sa.right===Ga}),Yo=ra[0].top,na=ra[ra.length-1].bottom,qo=Oa,ko=Ga,bi=ko-qo,ds=na-Yo;return{top:Yo,bottom:na,left:qo,right:ko,width:bi,height:ds}}default:return Mi}}var Bs={name:"sticky",defaultValue:!1,fn:function(Mi){var Gi=Mi.reference,yo=Mi.popper;function zo(){return Mi.popperInstance?Mi.popperInstance.state.elements.reference:Gi}function xo(aa){return Mi.props.sticky===!0||Mi.props.sticky===aa}var bo=null,Sa=null;function Io(){var aa=xo("reference")?zo().getBoundingClientRect():null,ma=xo("popper")?yo.getBoundingClientRect():null;(aa&&Ts(bo,aa)||ma&&Ts(Sa,ma))&&Mi.popperInstance&&Mi.popperInstance.update(),bo=aa,Sa=ma,Mi.state.isMounted&&requestAnimationFrame(Io)}return{onMount:function(){Mi.props.sticky&&Io()}}}};function Ts(Si,Mi){return Si&&Mi?Si.top!==Mi.top||Si.right!==Mi.right||Si.bottom!==Mi.bottom||Si.left!==Mi.left:!0}vo.setDefaultProps({render:mi}),_r.animateFill=ea,_r.createSingleton=Hi,_r.default=vo,_r.delegate=ro,_r.followCursor=qs,_r.hideAll=Eo,_r.inlinePositioning=us,_r.roundArrow=Dr,_r.sticky=Bs}),import_tippy2=__toModule(require_tippy_cjs()),import_tippy=__toModule(require_tippy_cjs()),buildConfigFromModifiers=_r=>{const Be={plugins:[]},Dr=Mr=>_r[_r.indexOf(Mr)+1];if(_r.includes("animation")&&(Be.animation=Dr("animation")),_r.includes("duration")&&(Be.duration=parseInt(Dr("duration"))),_r.includes("delay")){const Mr=Dr("delay");Be.delay=Mr.includes("-")?Mr.split("-").map($r=>parseInt($r)):parseInt(Mr)}if(_r.includes("cursor")){Be.plugins.push(import_tippy.followCursor);const Mr=Dr("cursor");["x","initial"].includes(Mr)?Be.followCursor=Mr==="x"?"horizontal":"initial":Be.followCursor=!0}return _r.includes("on")&&(Be.trigger=Dr("on")),_r.includes("arrowless")&&(Be.arrow=!1),_r.includes("html")&&(Be.allowHTML=!0),_r.includes("interactive")&&(Be.interactive=!0),_r.includes("border")&&Be.interactive&&(Be.interactiveBorder=parseInt(Dr("border"))),_r.includes("debounce")&&Be.interactive&&(Be.interactiveDebounce=parseInt(Dr("debounce"))),_r.includes("max-width")&&(Be.maxWidth=parseInt(Dr("max-width"))),_r.includes("theme")&&(Be.theme=Dr("theme")),_r.includes("placement")&&(Be.placement=Dr("placement")),Be};function Tooltip(_r){_r.magic("tooltip",Be=>(Dr,Mr={})=>{const $r=(0,import_tippy2.default)(Be,{content:Dr,trigger:"manual",...Mr});$r.show(),setTimeout(()=>{$r.hide(),setTimeout(()=>$r.destroy(),Mr.duration||300)},Mr.timeout||2e3)}),_r.directive("tooltip",(Be,{modifiers:Dr,expression:Mr},{evaluateLater:$r,effect:Br})=>{const zr=Dr.length>0?buildConfigFromModifiers(Dr):{};Be.__x_tippy||(Be.__x_tippy=(0,import_tippy2.default)(Be,zr));const Vr=()=>Be.__x_tippy.enable(),jr=()=>Be.__x_tippy.disable(),Gr=Wr=>{Wr?(Vr(),Be.__x_tippy.setContent(Wr)):jr()};if(Dr.includes("raw"))Gr(Mr);else{const Wr=$r(Mr);Br(()=>{Wr(Kr=>{typeof Kr=="object"?(Be.__x_tippy.setProps(Kr),Vr()):Gr(Kr)})})}})}Tooltip.defaultProps=_r=>(import_tippy2.default.setDefaultProps(_r),Tooltip);var src_default$2=Tooltip,module_default$2=src_default$2;function src_default$1(_r){_r.directive("collapse",Be),Be.inline=(Dr,{modifiers:Mr})=>{Mr.includes("min")&&(Dr._x_doShow=()=>{},Dr._x_doHide=()=>{})};function Be(Dr,{modifiers:Mr}){let $r=modifierValue(Mr,"duration",250)/1e3,Br=modifierValue(Mr,"min",0),zr=!Mr.includes("min");Dr._x_isShown||(Dr.style.height=`${Br}px`),!Dr._x_isShown&&zr&&(Dr.hidden=!0),Dr._x_isShown||(Dr.style.overflow="hidden");let Vr=(Gr,Wr)=>{let Kr=_r.setStyles(Gr,Wr);return Wr.height?()=>{}:Kr},jr={transitionProperty:"height",transitionDuration:`${$r}s`,transitionTimingFunction:"cubic-bezier(0.4, 0.0, 0.2, 1)"};Dr._x_transition={in(Gr=()=>{},Wr=()=>{}){zr&&(Dr.hidden=!1),zr&&(Dr.style.display=null);let Kr=Dr.getBoundingClientRect().height;Dr.style.height="auto";let Zr=Dr.getBoundingClientRect().height;Kr===Zr&&(Kr=Br),_r.transition(Dr,_r.setStyles,{during:jr,start:{height:Kr+"px"},end:{height:Zr+"px"}},()=>Dr._x_isShown=!0,()=>{Dr.getBoundingClientRect().height==Zr&&(Dr.style.overflow=null)})},out(Gr=()=>{},Wr=()=>{}){let Kr=Dr.getBoundingClientRect().height;_r.transition(Dr,Vr,{during:jr,start:{height:Kr+"px"},end:{height:Br+"px"}},()=>Dr.style.overflow="hidden",()=>{Dr._x_isShown=!1,Dr.style.height==`${Br}px`&&zr&&(Dr.style.display="none",Dr.hidden=!0)})}}}}function modifierValue(_r,Be,Dr){if(_r.indexOf(Be)===-1)return Dr;const Mr=_r[_r.indexOf(Be)+1];if(!Mr)return Dr;if(Be==="duration"){let $r=Mr.match(/([0-9]+)ms/);if($r)return $r[1]}if(Be==="min"){let $r=Mr.match(/([0-9]+)px/);if($r)return $r[1]}return Mr}var module_default$1=src_default$1;function src_default(_r){_r.directive("mask",(Be,{value:Dr,expression:Mr},{effect:$r,evaluateLater:Br})=>{let zr=()=>Mr,Vr="";queueMicrotask(()=>{if(["function","dynamic"].includes(Dr)){let Wr=Br(Mr);$r(()=>{zr=Kr=>{let Zr;return _r.dontAutoEvaluateFunctions(()=>{Wr(Jr=>{Zr=typeof Jr=="function"?Jr(Kr):Jr},{scope:{$input:Kr,$money:formatMoney.bind({el:Be})}})}),Zr},jr(Be,!1)})}else jr(Be,!1);Be._x_model&&Be._x_model.set(Be.value)}),Be.addEventListener("input",()=>jr(Be)),Be.addEventListener("blur",()=>jr(Be,!1));function jr(Wr,Kr=!0){let Zr=Wr.value,Jr=zr(Zr);if(!Jr||Jr==="false")return!1;if(Vr.length-Wr.value.length===1)return Vr=Wr.value;let rn=()=>{Vr=Wr.value=Gr(Zr,Jr)};Kr?restoreCursorPosition(Wr,Jr,()=>{rn()}):rn()}function Gr(Wr,Kr){if(Wr==="")return"";let Zr=stripDown(Kr,Wr);return buildUp(Kr,Zr)}}).before("model")}function restoreCursorPosition(_r,Be,Dr){let Mr=_r.selectionStart,$r=_r.value;Dr();let Br=$r.slice(0,Mr),zr=buildUp(Be,stripDown(Be,Br)).length;_r.setSelectionRange(zr,zr)}function stripDown(_r,Be){let Dr=Be,Mr="",$r={9:/[0-9]/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},Br="";for(let zr=0;zr<_r.length;zr++){if(["9","a","*"].includes(_r[zr])){Br+=_r[zr];continue}for(let Vr=0;Vr<Dr.length;Vr++)if(Dr[Vr]===_r[zr]){Dr=Dr.slice(0,Vr)+Dr.slice(Vr+1);break}}for(let zr=0;zr<Br.length;zr++){let Vr=!1;for(let jr=0;jr<Dr.length;jr++)if($r[Br[zr]].test(Dr[jr])){Mr+=Dr[jr],Dr=Dr.slice(0,jr)+Dr.slice(jr+1),Vr=!0;break}if(!Vr)break}return Mr}function buildUp(_r,Be){let Dr=Array.from(Be),Mr="";for(let $r=0;$r<_r.length;$r++){if(!["9","a","*"].includes(_r[$r])){Mr+=_r[$r];continue}if(Dr.length===0)break;Mr+=Dr.shift()}return Mr}function formatMoney(_r,Be=".",Dr,Mr=2){if(_r==="-")return"-";if(/^\D+$/.test(_r))return"9";Dr==null&&(Dr=Be===","?".":",");let $r=(jr,Gr)=>{let Wr="",Kr=0;for(let Zr=jr.length-1;Zr>=0;Zr--)jr[Zr]!==Gr&&(Kr===3?(Wr=jr[Zr]+Gr+Wr,Kr=0):Wr=jr[Zr]+Wr,Kr++);return Wr},Br=_r.startsWith("-")?"-":"",zr=_r.replaceAll(new RegExp(`[^0-9\\${Be}]`,"g"),""),Vr=Array.from({length:zr.split(Be)[0].length}).fill("9").join("");return Vr=`${Br}${$r(Vr,Dr)}`,Mr>0&&_r.includes(Be)&&(Vr+=`${Be}`+"9".repeat(Mr)),queueMicrotask(()=>{this.el.value.endsWith(Be)||this.el.value[this.el.selectionStart-1]===Be&&this.el.setSelectionRange(this.el.selectionStart-1,this.el.selectionStart-1)}),Vr}var module_default=src_default;/*! DataTables 1.13.5
 * Â©2008-2023 SpryMedia Ltd - datatables.net/license
 */var $$2=$$3,DataTable=function(_r,Be){if(DataTable.factory(_r,Be))return DataTable;if(this instanceof DataTable)return $$2(_r).DataTable(Be);Be=_r,this.$=function(zr,Vr){return this.api(!0).$(zr,Vr)},this._=function(zr,Vr){return this.api(!0).rows(zr,Vr).data()},this.api=function(zr){return zr?new _Api(_fnSettingsFromNode(this[_ext.iApiIndex])):new _Api(this)},this.fnAddData=function(zr,Vr){var jr=this.api(!0),Gr=Array.isArray(zr)&&(Array.isArray(zr[0])||$$2.isPlainObject(zr[0]))?jr.rows.add(zr):jr.row.add(zr);return(Vr===void 0||Vr)&&jr.draw(),Gr.flatten().toArray()},this.fnAdjustColumnSizing=function(zr){var Vr=this.api(!0).columns.adjust(),jr=Vr.settings()[0],Gr=jr.oScroll;zr===void 0||zr?Vr.draw(!1):(Gr.sX!==""||Gr.sY!=="")&&_fnScrollDraw(jr)},this.fnClearTable=function(zr){var Vr=this.api(!0).clear();(zr===void 0||zr)&&Vr.draw()},this.fnClose=function(zr){this.api(!0).row(zr).child.hide()},this.fnDeleteRow=function(zr,Vr,jr){var Gr=this.api(!0),Wr=Gr.rows(zr),Kr=Wr.settings()[0],Zr=Kr.aoData[Wr[0][0]];return Wr.remove(),Vr&&Vr.call(this,Kr,Zr),(jr===void 0||jr)&&Gr.draw(),Zr},this.fnDestroy=function(zr){this.api(!0).destroy(zr)},this.fnDraw=function(zr){this.api(!0).draw(zr)},this.fnFilter=function(zr,Vr,jr,Gr,Wr,Kr){var Zr=this.api(!0);Vr==null?Zr.search(zr,jr,Gr,Kr):Zr.column(Vr).search(zr,jr,Gr,Kr),Zr.draw()},this.fnGetData=function(zr,Vr){var jr=this.api(!0);if(zr!==void 0){var Gr=zr.nodeName?zr.nodeName.toLowerCase():"";return Vr!==void 0||Gr=="td"||Gr=="th"?jr.cell(zr,Vr).data():jr.row(zr).data()||null}return jr.data().toArray()},this.fnGetNodes=function(zr){var Vr=this.api(!0);return zr!==void 0?Vr.row(zr).node():Vr.rows().nodes().flatten().toArray()},this.fnGetPosition=function(zr){var Vr=this.api(!0),jr=zr.nodeName.toUpperCase();if(jr=="TR")return Vr.row(zr).index();if(jr=="TD"||jr=="TH"){var Gr=Vr.cell(zr).index();return[Gr.row,Gr.columnVisible,Gr.column]}return null},this.fnIsOpen=function(zr){return this.api(!0).row(zr).child.isShown()},this.fnOpen=function(zr,Vr,jr){return this.api(!0).row(zr).child(Vr,jr).show().child()[0]},this.fnPageChange=function(zr,Vr){var jr=this.api(!0).page(zr);(Vr===void 0||Vr)&&jr.draw(!1)},this.fnSetColumnVis=function(zr,Vr,jr){var Gr=this.api(!0).column(zr).visible(Vr);(jr===void 0||jr)&&Gr.columns.adjust().draw()},this.fnSettings=function(){return _fnSettingsFromNode(this[_ext.iApiIndex])},this.fnSort=function(zr){this.api(!0).order(zr).draw()},this.fnSortListener=function(zr,Vr,jr){this.api(!0).order.listener(zr,Vr,jr)},this.fnUpdate=function(zr,Vr,jr,Gr,Wr){var Kr=this.api(!0);return jr==null?Kr.row(Vr).data(zr):Kr.cell(Vr,jr).data(zr),(Wr===void 0||Wr)&&Kr.columns.adjust(),(Gr===void 0||Gr)&&Kr.draw(),0},this.fnVersionCheck=_ext.fnVersionCheck;var Dr=this,Mr=Be===void 0,$r=this.length;Mr&&(Be={}),this.oApi=this.internal=_ext.internal;for(var Br in DataTable.ext.internal)Br&&(this[Br]=_fnExternApiFunc(Br));return this.each(function(){var zr={},Vr=$r>1?_fnExtend(zr,Be,!0):Be,jr=0,Gr,Wr=this.getAttribute("id"),Kr=!1,Zr=DataTable.defaults,Jr=$$2(this);if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}_fnCompatOpts(Zr),_fnCompatCols(Zr.column),_fnCamelToHungarian(Zr,Zr,!0),_fnCamelToHungarian(Zr.column,Zr.column,!0),_fnCamelToHungarian(Zr,$$2.extend(Vr,Jr.data()),!0);var rn=DataTable.settings;for(jr=0,Gr=rn.length;jr<Gr;jr++){var nn=rn[jr];if(nn.nTable==this||nn.nTHead&&nn.nTHead.parentNode==this||nn.nTFoot&&nn.nTFoot.parentNode==this){var ln=Vr.bRetrieve!==void 0?Vr.bRetrieve:Zr.bRetrieve,cn=Vr.bDestroy!==void 0?Vr.bDestroy:Zr.bDestroy;if(Mr||ln)return nn.oInstance;if(cn){nn.oInstance.fnDestroy();break}else{_fnLog(nn,0,"Cannot reinitialise DataTable",3);return}}if(nn.sTableId==this.id){rn.splice(jr,1);break}}(Wr===null||Wr==="")&&(Wr="DataTables_Table_"+DataTable.ext._unique++,this.id=Wr);var hn=$$2.extend(!0,{},DataTable.models.oSettings,{sDestroyWidth:Jr[0].style.width,sInstance:Wr,sTableId:Wr});hn.nTable=this,hn.oApi=Dr.internal,hn.oInit=Vr,rn.push(hn),hn.oInstance=Dr.length===1?Dr:Jr.dataTable(),_fnCompatOpts(Vr),_fnLanguageCompat(Vr.oLanguage),Vr.aLengthMenu&&!Vr.iDisplayLength&&(Vr.iDisplayLength=Array.isArray(Vr.aLengthMenu[0])?Vr.aLengthMenu[0][0]:Vr.aLengthMenu[0]),Vr=_fnExtend($$2.extend(!0,{},Zr),Vr),_fnMap(hn.oFeatures,Vr,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),_fnMap(hn,Vr,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),_fnMap(hn.oScroll,Vr,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),_fnMap(hn.oLanguage,Vr,"fnInfoCallback"),_fnCallbackReg(hn,"aoDrawCallback",Vr.fnDrawCallback,"user"),_fnCallbackReg(hn,"aoServerParams",Vr.fnServerParams,"user"),_fnCallbackReg(hn,"aoStateSaveParams",Vr.fnStateSaveParams,"user"),_fnCallbackReg(hn,"aoStateLoadParams",Vr.fnStateLoadParams,"user"),_fnCallbackReg(hn,"aoStateLoaded",Vr.fnStateLoaded,"user"),_fnCallbackReg(hn,"aoRowCallback",Vr.fnRowCallback,"user"),_fnCallbackReg(hn,"aoRowCreatedCallback",Vr.fnCreatedRow,"user"),_fnCallbackReg(hn,"aoHeaderCallback",Vr.fnHeaderCallback,"user"),_fnCallbackReg(hn,"aoFooterCallback",Vr.fnFooterCallback,"user"),_fnCallbackReg(hn,"aoInitComplete",Vr.fnInitComplete,"user"),_fnCallbackReg(hn,"aoPreDrawCallback",Vr.fnPreDrawCallback,"user"),hn.rowIdFn=_fnGetObjectDataFn(Vr.rowId),_fnBrowserDetect(hn);var mn=hn.oClasses;if($$2.extend(mn,DataTable.ext.classes,Vr.oClasses),Jr.addClass(mn.sTable),hn.iInitDisplayStart===void 0&&(hn.iInitDisplayStart=Vr.iDisplayStart,hn._iDisplayStart=Vr.iDisplayStart),Vr.iDeferLoading!==null){hn.bDeferLoading=!0;var bn=Array.isArray(Vr.iDeferLoading);hn._iRecordsDisplay=bn?Vr.iDeferLoading[0]:Vr.iDeferLoading,hn._iRecordsTotal=bn?Vr.iDeferLoading[1]:Vr.iDeferLoading}var An=hn.oLanguage;$$2.extend(!0,An,Vr.oLanguage),An.sUrl?($$2.ajax({dataType:"json",url:An.sUrl,success:function(jn){_fnCamelToHungarian(Zr.oLanguage,jn),_fnLanguageCompat(jn),$$2.extend(!0,An,jn,hn.oInit.oLanguage),_fnCallbackFire(hn,null,"i18n",[hn]),_fnInitialise(hn)},error:function(){_fnInitialise(hn)}}),Kr=!0):_fnCallbackFire(hn,null,"i18n",[hn]),Vr.asStripeClasses===null&&(hn.asStripeClasses=[mn.sStripeOdd,mn.sStripeEven]);var vn=hn.asStripeClasses,dn=Jr.children("tbody").find("tr").eq(0);$$2.inArray(!0,$$2.map(vn,function(jn,Bn){return dn.hasClass(jn)}))!==-1&&($$2("tbody tr",this).removeClass(vn.join(" ")),hn.asDestroyStripes=vn.slice());var wn=[],xn,Mn=this.getElementsByTagName("thead");if(Mn.length!==0&&(_fnDetectHeader(hn.aoHeader,Mn[0]),wn=_fnGetUniqueThs(hn)),Vr.aoColumns===null)for(xn=[],jr=0,Gr=wn.length;jr<Gr;jr++)xn.push(null);else xn=Vr.aoColumns;for(jr=0,Gr=xn.length;jr<Gr;jr++)_fnAddColumn(hn,wn?wn[jr]:null);if(_fnApplyColumnDefs(hn,Vr.aoColumnDefs,xn,function(jn,Bn){_fnColumnOptions(hn,jn,Bn)}),dn.length){var In=function(jn,Bn){return jn.getAttribute("data-"+Bn)!==null?Bn:null};$$2(dn[0]).children("th, td").each(function(jn,Bn){var Gn=hn.aoColumns[jn];if(Gn||_fnLog(hn,0,"Incorrect column count",18),Gn.mData===jn){var ei=In(Bn,"sort")||In(Bn,"order"),ri=In(Bn,"filter")||In(Bn,"search");(ei!==null||ri!==null)&&(Gn.mData={_:jn+".display",sort:ei!==null?jn+".@data-"+ei:void 0,type:ei!==null?jn+".@data-"+ei:void 0,filter:ri!==null?jn+".@data-"+ri:void 0},Gn._isArrayHost=!0,_fnColumnOptions(hn,jn))}})}var Hn=hn.oFeatures,$n=function(){if(Vr.aaSorting===void 0){var jn=hn.aaSorting;for(jr=0,Gr=jn.length;jr<Gr;jr++)jn[jr][1]=hn.aoColumns[jr].asSorting[0]}_fnSortingClasses(hn),Hn.bSort&&_fnCallbackReg(hn,"aoDrawCallback",function(){if(hn.bSorted){var vi=_fnSortFlatten(hn),wi={};$$2.each(vi,function(Ni,Yn){wi[Yn.src]=Yn.dir}),_fnCallbackFire(hn,null,"order",[hn,vi,wi]),_fnSortAria(hn)}}),_fnCallbackReg(hn,"aoDrawCallback",function(){(hn.bSorted||_fnDataSource(hn)==="ssp"||Hn.bDeferRender)&&_fnSortingClasses(hn)},"sc");var Bn=Jr.children("caption").each(function(){this._captionSide=$$2(this).css("caption-side")}),Gn=Jr.children("thead");Gn.length===0&&(Gn=$$2("<thead/>").appendTo(Jr)),hn.nTHead=Gn[0];var ei=Jr.children("tbody");ei.length===0&&(ei=$$2("<tbody/>").insertAfter(Gn)),hn.nTBody=ei[0];var ri=Jr.children("tfoot");if(ri.length===0&&Bn.length>0&&(hn.oScroll.sX!==""||hn.oScroll.sY!=="")&&(ri=$$2("<tfoot/>").appendTo(Jr)),ri.length===0||ri.children().length===0?Jr.addClass(mn.sNoFooter):ri.length>0&&(hn.nTFoot=ri[0],_fnDetectHeader(hn.aoFooter,hn.nTFoot)),Vr.aaData)for(jr=0;jr<Vr.aaData.length;jr++)_fnAddData(hn,Vr.aaData[jr]);else(hn.bDeferLoading||_fnDataSource(hn)=="dom")&&_fnAddTr(hn,$$2(hn.nTBody).children("tr"));hn.aiDisplay=hn.aiDisplayMaster.slice(),hn.bInitialised=!0,Kr===!1&&_fnInitialise(hn)};_fnCallbackReg(hn,"aoDrawCallback",_fnSaveState,"state_save"),Vr.bStateSave?(Hn.bStateSave=!0,_fnLoadState(hn,Vr,$n)):$n()}),Dr=null,this},_ext,_Api,_api_register,_api_registerPlural,_re_dic={},_re_new_lines=/[\r\n\u2028]/g,_re_html=/<.*?>/g,_re_date=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,_re_escape_regex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),_re_formatted_numeric=/['\u00A0,$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,_empty=function(_r){return!_r||_r===!0||_r==="-"},_intVal=function(_r){var Be=parseInt(_r,10);return!isNaN(Be)&&isFinite(_r)?Be:null},_numToDecimal=function(_r,Be){return _re_dic[Be]||(_re_dic[Be]=new RegExp(_fnEscapeRegex(Be),"g")),typeof _r=="string"&&Be!=="."?_r.replace(/\./g,"").replace(_re_dic[Be],"."):_r},_isNumber=function(_r,Be,Dr){var Mr=typeof _r,$r=Mr==="string";return Mr==="number"||Mr==="bigint"||_empty(_r)?!0:(Be&&$r&&(_r=_numToDecimal(_r,Be)),Dr&&$r&&(_r=_r.replace(_re_formatted_numeric,"")),!isNaN(parseFloat(_r))&&isFinite(_r))},_isHtml=function(_r){return _empty(_r)||typeof _r=="string"},_htmlNumeric=function(_r,Be,Dr){if(_empty(_r))return!0;var Mr=_isHtml(_r);return Mr&&_isNumber(_stripHtml(_r),Be,Dr)?!0:null},_pluck=function(_r,Be,Dr){var Mr=[],$r=0,Br=_r.length;if(Dr!==void 0)for(;$r<Br;$r++)_r[$r]&&_r[$r][Be]&&Mr.push(_r[$r][Be][Dr]);else for(;$r<Br;$r++)_r[$r]&&Mr.push(_r[$r][Be]);return Mr},_pluck_order=function(_r,Be,Dr,Mr){var $r=[],Br=0,zr=Be.length;if(Mr!==void 0)for(;Br<zr;Br++)_r[Be[Br]][Dr]&&$r.push(_r[Be[Br]][Dr][Mr]);else for(;Br<zr;Br++)$r.push(_r[Be[Br]][Dr]);return $r},_range=function(_r,Be){var Dr=[],Mr;Be===void 0?(Be=0,Mr=_r):(Mr=Be,Be=_r);for(var $r=Be;$r<Mr;$r++)Dr.push($r);return Dr},_removeEmpty=function(_r){for(var Be=[],Dr=0,Mr=_r.length;Dr<Mr;Dr++)_r[Dr]&&Be.push(_r[Dr]);return Be},_stripHtml=function(_r){return _r.replace(_re_html,"").replace(/<script/i,"")},_areAllUnique=function(_r){if(_r.length<2)return!0;for(var Be=_r.slice().sort(),Dr=Be[0],Mr=1,$r=Be.length;Mr<$r;Mr++){if(Be[Mr]===Dr)return!1;Dr=Be[Mr]}return!0},_unique=function(_r){if(_areAllUnique(_r))return _r.slice();var Be=[],Dr,Mr,$r=_r.length,Br,zr=0;e:for(Mr=0;Mr<$r;Mr++){for(Dr=_r[Mr],Br=0;Br<zr;Br++)if(Be[Br]===Dr)continue e;Be.push(Dr),zr++}return Be},_flatten=function(_r,Be){if(Array.isArray(Be))for(var Dr=0;Dr<Be.length;Dr++)_flatten(_r,Be[Dr]);else _r.push(Be);return _r},_includes=function(_r,Be){return Be===void 0&&(Be=0),this.indexOf(_r,Be)!==-1};Array.isArray||(Array.isArray=function(_r){return Object.prototype.toString.call(_r)==="[object Array]"});Array.prototype.includes||(Array.prototype.includes=_includes);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=_includes);DataTable.util={throttle:function(_r,Be){var Dr=Be!==void 0?Be:200,Mr,$r;return function(){var Br=this,zr=+new Date,Vr=arguments;Mr&&zr<Mr+Dr?(clearTimeout($r),$r=setTimeout(function(){Mr=void 0,_r.apply(Br,Vr)},Dr)):(Mr=zr,_r.apply(Br,Vr))}},escapeRegex:function(_r){return _r.replace(_re_escape_regex,"\\$1")},set:function(_r){if($$2.isPlainObject(_r))return DataTable.util.set(_r._);if(_r===null)return function(){};if(typeof _r=="function")return function(Dr,Mr,$r){_r(Dr,"set",Mr,$r)};if(typeof _r=="string"&&(_r.indexOf(".")!==-1||_r.indexOf("[")!==-1||_r.indexOf("(")!==-1)){var Be=function(Dr,Mr,$r){for(var Br=_fnSplitObjNotation($r),zr,Vr=Br[Br.length-1],jr,Gr,Wr,Kr,Zr=0,Jr=Br.length-1;Zr<Jr;Zr++){if(Br[Zr]==="__proto__"||Br[Zr]==="constructor")throw new Error("Cannot set prototype values");if(jr=Br[Zr].match(__reArray),Gr=Br[Zr].match(__reFn),jr){if(Br[Zr]=Br[Zr].replace(__reArray,""),Dr[Br[Zr]]=[],zr=Br.slice(),zr.splice(0,Zr+1),Kr=zr.join("."),Array.isArray(Mr))for(var rn=0,nn=Mr.length;rn<nn;rn++)Wr={},Be(Wr,Mr[rn],Kr),Dr[Br[Zr]].push(Wr);else Dr[Br[Zr]]=Mr;return}else Gr&&(Br[Zr]=Br[Zr].replace(__reFn,""),Dr=Dr[Br[Zr]](Mr));(Dr[Br[Zr]]===null||Dr[Br[Zr]]===void 0)&&(Dr[Br[Zr]]={}),Dr=Dr[Br[Zr]]}Vr.match(__reFn)?Dr=Dr[Vr.replace(__reFn,"")](Mr):Dr[Vr.replace(__reArray,"")]=Mr};return function(Dr,Mr){return Be(Dr,Mr,_r)}}else return function(Dr,Mr){Dr[_r]=Mr}},get:function(_r){if($$2.isPlainObject(_r)){var Be={};return $$2.each(_r,function(Mr,$r){$r&&(Be[Mr]=DataTable.util.get($r))}),function(Mr,$r,Br,zr){var Vr=Be[$r]||Be._;return Vr!==void 0?Vr(Mr,$r,Br,zr):Mr}}else{if(_r===null)return function(Mr){return Mr};if(typeof _r=="function")return function(Mr,$r,Br,zr){return _r(Mr,$r,Br,zr)};if(typeof _r=="string"&&(_r.indexOf(".")!==-1||_r.indexOf("[")!==-1||_r.indexOf("(")!==-1)){var Dr=function(Mr,$r,Br){var zr,Vr,jr,Gr;if(Br!=="")for(var Wr=_fnSplitObjNotation(Br),Kr=0,Zr=Wr.length;Kr<Zr;Kr++){if(zr=Wr[Kr].match(__reArray),Vr=Wr[Kr].match(__reFn),zr){if(Wr[Kr]=Wr[Kr].replace(__reArray,""),Wr[Kr]!==""&&(Mr=Mr[Wr[Kr]]),jr=[],Wr.splice(0,Kr+1),Gr=Wr.join("."),Array.isArray(Mr))for(var Jr=0,rn=Mr.length;Jr<rn;Jr++)jr.push(Dr(Mr[Jr],$r,Gr));var nn=zr[0].substring(1,zr[0].length-1);Mr=nn===""?jr:jr.join(nn);break}else if(Vr){Wr[Kr]=Wr[Kr].replace(__reFn,""),Mr=Mr[Wr[Kr]]();continue}if(Mr===null||Mr[Wr[Kr]]===null)return null;if(Mr===void 0||Mr[Wr[Kr]]===void 0)return;Mr=Mr[Wr[Kr]]}return Mr};return function(Mr,$r){return Dr(Mr,$r,_r)}}else return function(Mr,$r){return Mr[_r]}}}};function _fnHungarianMap(_r){var Be="a aa ai ao as b fn i m o s ",Dr,Mr,$r={};$$2.each(_r,function(Br,zr){Dr=Br.match(/^([^A-Z]+?)([A-Z])/),Dr&&Be.indexOf(Dr[1]+" ")!==-1&&(Mr=Br.replace(Dr[0],Dr[2].toLowerCase()),$r[Mr]=Br,Dr[1]==="o"&&_fnHungarianMap(_r[Br]))}),_r._hungarianMap=$r}function _fnCamelToHungarian(_r,Be,Dr){_r._hungarianMap||_fnHungarianMap(_r);var Mr;$$2.each(Be,function($r,Br){Mr=_r._hungarianMap[$r],Mr!==void 0&&(Dr||Be[Mr]===void 0)&&(Mr.charAt(0)==="o"?(Be[Mr]||(Be[Mr]={}),$$2.extend(!0,Be[Mr],Be[$r]),_fnCamelToHungarian(_r[Mr],Be[Mr],Dr)):Be[Mr]=Be[$r])})}function _fnLanguageCompat(_r){var Be=DataTable.defaults.oLanguage,Dr=Be.sDecimal;if(Dr&&_addNumericSort(Dr),_r){var Mr=_r.sZeroRecords;!_r.sEmptyTable&&Mr&&Be.sEmptyTable==="No data available in table"&&_fnMap(_r,_r,"sZeroRecords","sEmptyTable"),!_r.sLoadingRecords&&Mr&&Be.sLoadingRecords==="Loading..."&&_fnMap(_r,_r,"sZeroRecords","sLoadingRecords"),_r.sInfoThousands&&(_r.sThousands=_r.sInfoThousands);var $r=_r.sDecimal;$r&&Dr!==$r&&_addNumericSort($r)}}var _fnCompatMap=function(_r,Be,Dr){_r[Be]!==void 0&&(_r[Dr]=_r[Be])};function _fnCompatOpts(_r){_fnCompatMap(_r,"ordering","bSort"),_fnCompatMap(_r,"orderMulti","bSortMulti"),_fnCompatMap(_r,"orderClasses","bSortClasses"),_fnCompatMap(_r,"orderCellsTop","bSortCellsTop"),_fnCompatMap(_r,"order","aaSorting"),_fnCompatMap(_r,"orderFixed","aaSortingFixed"),_fnCompatMap(_r,"paging","bPaginate"),_fnCompatMap(_r,"pagingType","sPaginationType"),_fnCompatMap(_r,"pageLength","iDisplayLength"),_fnCompatMap(_r,"searching","bFilter"),typeof _r.sScrollX=="boolean"&&(_r.sScrollX=_r.sScrollX?"100%":""),typeof _r.scrollX=="boolean"&&(_r.scrollX=_r.scrollX?"100%":"");var Be=_r.aoSearchCols;if(Be)for(var Dr=0,Mr=Be.length;Dr<Mr;Dr++)Be[Dr]&&_fnCamelToHungarian(DataTable.models.oSearch,Be[Dr])}function _fnCompatCols(_r){_fnCompatMap(_r,"orderable","bSortable"),_fnCompatMap(_r,"orderData","aDataSort"),_fnCompatMap(_r,"orderSequence","asSorting"),_fnCompatMap(_r,"orderDataType","sortDataType");var Be=_r.aDataSort;typeof Be=="number"&&!Array.isArray(Be)&&(_r.aDataSort=[Be])}function _fnBrowserDetect(_r){if(!DataTable.__browser){var Be={};DataTable.__browser=Be;var Dr=$$2("<div/>").css({position:"fixed",top:0,left:$$2(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append($$2("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append($$2("<div/>").css({width:"100%",height:10}))).appendTo("body"),Mr=Dr.children(),$r=Mr.children();Be.barWidth=Mr[0].offsetWidth-Mr[0].clientWidth,Be.bScrollOversize=$r[0].offsetWidth===100&&Mr[0].clientWidth!==100,Be.bScrollbarLeft=Math.round($r.offset().left)!==1,Be.bBounding=!!Dr[0].getBoundingClientRect().width,Dr.remove()}$$2.extend(_r.oBrowser,DataTable.__browser),_r.oScroll.iBarWidth=DataTable.__browser.barWidth}function _fnReduce(_r,Be,Dr,Mr,$r,Br){var zr=Mr,Vr,jr=!1;for(Dr!==void 0&&(Vr=Dr,jr=!0);zr!==$r;)_r.hasOwnProperty(zr)&&(Vr=jr?Be(Vr,_r[zr],zr,_r):_r[zr],jr=!0,zr+=Br);return Vr}function _fnAddColumn(_r,Be){var Dr=DataTable.defaults.column,Mr=_r.aoColumns.length,$r=$$2.extend({},DataTable.models.oColumn,Dr,{nTh:Be||document.createElement("th"),sTitle:Dr.sTitle?Dr.sTitle:Be?Be.innerHTML:"",aDataSort:Dr.aDataSort?Dr.aDataSort:[Mr],mData:Dr.mData?Dr.mData:Mr,idx:Mr});_r.aoColumns.push($r);var Br=_r.aoPreSearchCols;Br[Mr]=$$2.extend({},DataTable.models.oSearch,Br[Mr]),_fnColumnOptions(_r,Mr,$$2(Be).data())}function _fnColumnOptions(_r,Be,Dr){var Mr=_r.aoColumns[Be],$r=_r.oClasses,Br=$$2(Mr.nTh);if(!Mr.sWidthOrig){Mr.sWidthOrig=Br.attr("width")||null;var zr=(Br.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);zr&&(Mr.sWidthOrig=zr[1])}if(Dr!=null){_fnCompatCols(Dr),_fnCamelToHungarian(DataTable.defaults.column,Dr,!0),Dr.mDataProp!==void 0&&!Dr.mData&&(Dr.mData=Dr.mDataProp),Dr.sType&&(Mr._sManualType=Dr.sType),Dr.className&&!Dr.sClass&&(Dr.sClass=Dr.className),Dr.sClass&&Br.addClass(Dr.sClass);var Vr=Mr.sClass;$$2.extend(Mr,Dr),_fnMap(Mr,Dr,"sWidth","sWidthOrig"),Vr!==Mr.sClass&&(Mr.sClass=Vr+" "+Mr.sClass),Dr.iDataSort!==void 0&&(Mr.aDataSort=[Dr.iDataSort]),_fnMap(Mr,Dr,"aDataSort")}var jr=Mr.mData,Gr=_fnGetObjectDataFn(jr),Wr=Mr.mRender?_fnGetObjectDataFn(Mr.mRender):null,Kr=function(rn){return typeof rn=="string"&&rn.indexOf("@")!==-1};Mr._bAttrSrc=$$2.isPlainObject(jr)&&(Kr(jr.sort)||Kr(jr.type)||Kr(jr.filter)),Mr._setter=null,Mr.fnGetData=function(rn,nn,ln){var cn=Gr(rn,nn,void 0,ln);return Wr&&nn?Wr(cn,nn,rn,ln):cn},Mr.fnSetData=function(rn,nn,ln){return _fnSetObjectDataFn(jr)(rn,nn,ln)},typeof jr!="number"&&!Mr._isArrayHost&&(_r._rowReadObject=!0),_r.oFeatures.bSort||(Mr.bSortable=!1,Br.addClass($r.sSortableNone));var Zr=$$2.inArray("asc",Mr.asSorting)!==-1,Jr=$$2.inArray("desc",Mr.asSorting)!==-1;!Mr.bSortable||!Zr&&!Jr?(Mr.sSortingClass=$r.sSortableNone,Mr.sSortingClassJUI=""):Zr&&!Jr?(Mr.sSortingClass=$r.sSortableAsc,Mr.sSortingClassJUI=$r.sSortJUIAscAllowed):!Zr&&Jr?(Mr.sSortingClass=$r.sSortableDesc,Mr.sSortingClassJUI=$r.sSortJUIDescAllowed):(Mr.sSortingClass=$r.sSortable,Mr.sSortingClassJUI=$r.sSortJUI)}function _fnAdjustColumnSizing(_r){if(_r.oFeatures.bAutoWidth!==!1){var Be=_r.aoColumns;_fnCalculateColumnWidths(_r);for(var Dr=0,Mr=Be.length;Dr<Mr;Dr++)Be[Dr].nTh.style.width=Be[Dr].sWidth}var $r=_r.oScroll;($r.sY!==""||$r.sX!=="")&&_fnScrollDraw(_r),_fnCallbackFire(_r,null,"column-sizing",[_r])}function _fnVisibleToColumnIndex(_r,Be){var Dr=_fnGetColumns(_r,"bVisible");return typeof Dr[Be]=="number"?Dr[Be]:null}function _fnColumnIndexToVisible(_r,Be){var Dr=_fnGetColumns(_r,"bVisible"),Mr=$$2.inArray(Be,Dr);return Mr!==-1?Mr:null}function _fnVisbleColumns(_r){var Be=0;return $$2.each(_r.aoColumns,function(Dr,Mr){Mr.bVisible&&$$2(Mr.nTh).css("display")!=="none"&&Be++}),Be}function _fnGetColumns(_r,Be){var Dr=[];return $$2.map(_r.aoColumns,function(Mr,$r){Mr[Be]&&Dr.push($r)}),Dr}function _fnColumnTypes(_r){var Be=_r.aoColumns,Dr=_r.aoData,Mr=DataTable.ext.type.detect,$r,Br,zr,Vr,jr,Gr,Wr,Kr,Zr;for($r=0,Br=Be.length;$r<Br;$r++)if(Wr=Be[$r],Zr=[],!Wr.sType&&Wr._sManualType)Wr.sType=Wr._sManualType;else if(!Wr.sType){for(zr=0,Vr=Mr.length;zr<Vr;zr++){for(jr=0,Gr=Dr.length;jr<Gr&&(Zr[jr]===void 0&&(Zr[jr]=_fnGetCellData(_r,jr,$r,"type")),Kr=Mr[zr](Zr[jr],_r),!(!Kr&&zr!==Mr.length-1||Kr==="html"&&!_empty(Zr[jr])));jr++);if(Kr){Wr.sType=Kr;break}}Wr.sType||(Wr.sType="string")}}function _fnApplyColumnDefs(_r,Be,Dr,Mr){var $r,Br,zr,Vr,jr,Gr,Wr,Kr=_r.aoColumns;if(Be)for($r=Be.length-1;$r>=0;$r--){Wr=Be[$r];var Zr=Wr.target!==void 0?Wr.target:Wr.targets!==void 0?Wr.targets:Wr.aTargets;for(Array.isArray(Zr)||(Zr=[Zr]),zr=0,Vr=Zr.length;zr<Vr;zr++)if(typeof Zr[zr]=="number"&&Zr[zr]>=0){for(;Kr.length<=Zr[zr];)_fnAddColumn(_r);Mr(Zr[zr],Wr)}else if(typeof Zr[zr]=="number"&&Zr[zr]<0)Mr(Kr.length+Zr[zr],Wr);else if(typeof Zr[zr]=="string")for(jr=0,Gr=Kr.length;jr<Gr;jr++)(Zr[zr]=="_all"||$$2(Kr[jr].nTh).hasClass(Zr[zr]))&&Mr(jr,Wr)}if(Dr)for($r=0,Br=Dr.length;$r<Br;$r++)Mr($r,Dr[$r])}function _fnAddData(_r,Be,Dr,Mr){var $r=_r.aoData.length,Br=$$2.extend(!0,{},DataTable.models.oRow,{src:Dr?"dom":"data",idx:$r});Br._aData=Be,_r.aoData.push(Br);for(var zr=_r.aoColumns,Vr=0,jr=zr.length;Vr<jr;Vr++)zr[Vr].sType=null;_r.aiDisplayMaster.push($r);var Gr=_r.rowIdFn(Be);return Gr!==void 0&&(_r.aIds[Gr]=Br),(Dr||!_r.oFeatures.bDeferRender)&&_fnCreateTr(_r,$r,Dr,Mr),$r}function _fnAddTr(_r,Be){var Dr;return Be instanceof $$2||(Be=$$2(Be)),Be.map(function(Mr,$r){return Dr=_fnGetRowElements(_r,$r),_fnAddData(_r,Dr.data,$r,Dr.cells)})}function _fnNodeToDataIndex(_r,Be){return Be._DT_RowIndex!==void 0?Be._DT_RowIndex:null}function _fnNodeToColumnIndex(_r,Be,Dr){return $$2.inArray(Dr,_r.aoData[Be].anCells)}function _fnGetCellData(_r,Be,Dr,Mr){Mr==="search"?Mr="filter":Mr==="order"&&(Mr="sort");var $r=_r.iDraw,Br=_r.aoColumns[Dr],zr=_r.aoData[Be]._aData,Vr=Br.sDefaultContent,jr=Br.fnGetData(zr,Mr,{settings:_r,row:Be,col:Dr});if(jr===void 0)return _r.iDrawError!=$r&&Vr===null&&(_fnLog(_r,0,"Requested unknown parameter "+(typeof Br.mData=="function"?"{function}":"'"+Br.mData+"'")+" for row "+Be+", column "+Dr,4),_r.iDrawError=$r),Vr;if((jr===zr||jr===null)&&Vr!==null&&Mr!==void 0)jr=Vr;else if(typeof jr=="function")return jr.call(zr);if(jr===null&&Mr==="display")return"";if(Mr==="filter"){var Gr=DataTable.ext.type.search;Gr[Br.sType]&&(jr=Gr[Br.sType](jr))}return jr}function _fnSetCellData(_r,Be,Dr,Mr){var $r=_r.aoColumns[Dr],Br=_r.aoData[Be]._aData;$r.fnSetData(Br,Mr,{settings:_r,row:Be,col:Dr})}var __reArray=/\[.*?\]$/,__reFn=/\(\)$/;function _fnSplitObjNotation(_r){return $$2.map(_r.match(/(\\.|[^\.])+/g)||[""],function(Be){return Be.replace(/\\\./g,".")})}var _fnGetObjectDataFn=DataTable.util.get,_fnSetObjectDataFn=DataTable.util.set;function _fnGetDataMaster(_r){return _pluck(_r.aoData,"_aData")}function _fnClearTable(_r){_r.aoData.length=0,_r.aiDisplayMaster.length=0,_r.aiDisplay.length=0,_r.aIds={}}function _fnDeleteIndex(_r,Be,Dr){for(var Mr=-1,$r=0,Br=_r.length;$r<Br;$r++)_r[$r]==Be?Mr=$r:_r[$r]>Be&&_r[$r]--;Mr!=-1&&Dr===void 0&&_r.splice(Mr,1)}function _fnInvalidate(_r,Be,Dr,Mr){var $r=_r.aoData[Be],Br,zr,Vr=function(Wr,Kr){for(;Wr.childNodes.length;)Wr.removeChild(Wr.firstChild);Wr.innerHTML=_fnGetCellData(_r,Be,Kr,"display")};if(Dr==="dom"||(!Dr||Dr==="auto")&&$r.src==="dom")$r._aData=_fnGetRowElements(_r,$r,Mr,Mr===void 0?void 0:$r._aData).data;else{var jr=$r.anCells;if(jr)if(Mr!==void 0)Vr(jr[Mr],Mr);else for(Br=0,zr=jr.length;Br<zr;Br++)Vr(jr[Br],Br)}$r._aSortData=null,$r._aFilterData=null;var Gr=_r.aoColumns;if(Mr!==void 0)Gr[Mr].sType=null;else{for(Br=0,zr=Gr.length;Br<zr;Br++)Gr[Br].sType=null;_fnRowAttributes(_r,$r)}}function _fnGetRowElements(_r,Be,Dr,Mr){var $r=[],Br=Be.firstChild,zr,Vr,jr=0,Gr,Wr=_r.aoColumns,Kr=_r._rowReadObject;Mr=Mr!==void 0?Mr:Kr?{}:[];var Zr=function(hn,mn){if(typeof hn=="string"){var bn=hn.indexOf("@");if(bn!==-1){var An=hn.substring(bn+1),vn=_fnSetObjectDataFn(hn);vn(Mr,mn.getAttribute(An))}}},Jr=function(hn){if(Dr===void 0||Dr===jr)if(Vr=Wr[jr],Gr=hn.innerHTML.trim(),Vr&&Vr._bAttrSrc){var mn=_fnSetObjectDataFn(Vr.mData._);mn(Mr,Gr),Zr(Vr.mData.sort,hn),Zr(Vr.mData.type,hn),Zr(Vr.mData.filter,hn)}else Kr?(Vr._setter||(Vr._setter=_fnSetObjectDataFn(Vr.mData)),Vr._setter(Mr,Gr)):Mr[jr]=Gr;jr++};if(Br)for(;Br;)zr=Br.nodeName.toUpperCase(),(zr=="TD"||zr=="TH")&&(Jr(Br),$r.push(Br)),Br=Br.nextSibling;else{$r=Be.anCells;for(var rn=0,nn=$r.length;rn<nn;rn++)Jr($r[rn])}var ln=Be.firstChild?Be:Be.nTr;if(ln){var cn=ln.getAttribute("id");cn&&_fnSetObjectDataFn(_r.rowId)(Mr,cn)}return{data:Mr,cells:$r}}function _fnCreateTr(_r,Be,Dr,Mr){var $r=_r.aoData[Be],Br=$r._aData,zr=[],Vr,jr,Gr,Wr,Kr,Zr;if($r.nTr===null){for(Vr=Dr||document.createElement("tr"),$r.nTr=Vr,$r.anCells=zr,Vr._DT_RowIndex=Be,_fnRowAttributes(_r,$r),Wr=0,Kr=_r.aoColumns.length;Wr<Kr;Wr++)Gr=_r.aoColumns[Wr],Zr=!Dr,jr=Zr?document.createElement(Gr.sCellType):Mr[Wr],jr||_fnLog(_r,0,"Incorrect column count",18),jr._DT_CellIndex={row:Be,column:Wr},zr.push(jr),(Zr||(Gr.mRender||Gr.mData!==Wr)&&(!$$2.isPlainObject(Gr.mData)||Gr.mData._!==Wr+".display"))&&(jr.innerHTML=_fnGetCellData(_r,Be,Wr,"display")),Gr.sClass&&(jr.className+=" "+Gr.sClass),Gr.bVisible&&!Dr?Vr.appendChild(jr):!Gr.bVisible&&Dr&&jr.parentNode.removeChild(jr),Gr.fnCreatedCell&&Gr.fnCreatedCell.call(_r.oInstance,jr,_fnGetCellData(_r,Be,Wr),Br,Be,Wr);_fnCallbackFire(_r,"aoRowCreatedCallback",null,[Vr,Br,Be,zr])}}function _fnRowAttributes(_r,Be){var Dr=Be.nTr,Mr=Be._aData;if(Dr){var $r=_r.rowIdFn(Mr);if($r&&(Dr.id=$r),Mr.DT_RowClass){var Br=Mr.DT_RowClass.split(" ");Be.__rowc=Be.__rowc?_unique(Be.__rowc.concat(Br)):Br,$$2(Dr).removeClass(Be.__rowc.join(" ")).addClass(Mr.DT_RowClass)}Mr.DT_RowAttr&&$$2(Dr).attr(Mr.DT_RowAttr),Mr.DT_RowData&&$$2(Dr).data(Mr.DT_RowData)}}function _fnBuildHead(_r){var Be,Dr,Mr,$r,Br,zr=_r.nTHead,Vr=_r.nTFoot,jr=$$2("th, td",zr).length===0,Gr=_r.oClasses,Wr=_r.aoColumns;for(jr&&($r=$$2("<tr/>").appendTo(zr)),Be=0,Dr=Wr.length;Be<Dr;Be++)Br=Wr[Be],Mr=$$2(Br.nTh).addClass(Br.sClass),jr&&Mr.appendTo($r),_r.oFeatures.bSort&&(Mr.addClass(Br.sSortingClass),Br.bSortable!==!1&&(Mr.attr("tabindex",_r.iTabIndex).attr("aria-controls",_r.sTableId),_fnSortAttachListener(_r,Br.nTh,Be))),Br.sTitle!=Mr[0].innerHTML&&Mr.html(Br.sTitle),_fnRenderer(_r,"header")(_r,Mr,Br,Gr);if(jr&&_fnDetectHeader(_r.aoHeader,zr),$$2(zr).children("tr").children("th, td").addClass(Gr.sHeaderTH),$$2(Vr).children("tr").children("th, td").addClass(Gr.sFooterTH),Vr!==null){var Kr=_r.aoFooter[0];for(Be=0,Dr=Kr.length;Be<Dr;Be++)Br=Wr[Be],Br?(Br.nTf=Kr[Be].cell,Br.sClass&&$$2(Br.nTf).addClass(Br.sClass)):_fnLog(_r,0,"Incorrect column count",18)}}function _fnDrawHead(_r,Be,Dr){var Mr,$r,Br,zr,Vr,jr,Gr,Wr=[],Kr=[],Zr=_r.aoColumns.length,Jr,rn;if(Be){for(Dr===void 0&&(Dr=!1),Mr=0,$r=Be.length;Mr<$r;Mr++){for(Wr[Mr]=Be[Mr].slice(),Wr[Mr].nTr=Be[Mr].nTr,Br=Zr-1;Br>=0;Br--)!_r.aoColumns[Br].bVisible&&!Dr&&Wr[Mr].splice(Br,1);Kr.push([])}for(Mr=0,$r=Wr.length;Mr<$r;Mr++){if(Gr=Wr[Mr].nTr,Gr)for(;jr=Gr.firstChild;)Gr.removeChild(jr);for(Br=0,zr=Wr[Mr].length;Br<zr;Br++)if(Jr=1,rn=1,Kr[Mr][Br]===void 0){for(Gr.appendChild(Wr[Mr][Br].cell),Kr[Mr][Br]=1;Wr[Mr+Jr]!==void 0&&Wr[Mr][Br].cell==Wr[Mr+Jr][Br].cell;)Kr[Mr+Jr][Br]=1,Jr++;for(;Wr[Mr][Br+rn]!==void 0&&Wr[Mr][Br].cell==Wr[Mr][Br+rn].cell;){for(Vr=0;Vr<Jr;Vr++)Kr[Mr+Vr][Br+rn]=1;rn++}$$2(Wr[Mr][Br].cell).attr("rowspan",Jr).attr("colspan",rn)}}}}function _fnDraw(_r,Be){_fnStart(_r);var Dr=_fnCallbackFire(_r,"aoPreDrawCallback","preDraw",[_r]);if($$2.inArray(!1,Dr)!==-1){_fnProcessingDisplay(_r,!1);return}var Mr=[],$r=0,Br=_r.asStripeClasses,zr=Br.length,Vr=_r.oLanguage,jr=_fnDataSource(_r)=="ssp",Gr=_r.aiDisplay,Wr=_r._iDisplayStart,Kr=_r.fnDisplayEnd();if(_r.bDrawing=!0,_r.bDeferLoading)_r.bDeferLoading=!1,_r.iDraw++,_fnProcessingDisplay(_r,!1);else if(!jr)_r.iDraw++;else if(!_r.bDestroying&&!Be){_fnAjaxUpdate(_r);return}if(Gr.length!==0)for(var Zr=jr?0:Wr,Jr=jr?_r.aoData.length:Kr,rn=Zr;rn<Jr;rn++){var nn=Gr[rn],ln=_r.aoData[nn];ln.nTr===null&&_fnCreateTr(_r,nn);var cn=ln.nTr;if(zr!==0){var hn=Br[$r%zr];ln._sRowStripe!=hn&&($$2(cn).removeClass(ln._sRowStripe).addClass(hn),ln._sRowStripe=hn)}_fnCallbackFire(_r,"aoRowCallback",null,[cn,ln._aData,$r,rn,nn]),Mr.push(cn),$r++}else{var mn=Vr.sZeroRecords;_r.iDraw==1&&_fnDataSource(_r)=="ajax"?mn=Vr.sLoadingRecords:Vr.sEmptyTable&&_r.fnRecordsTotal()===0&&(mn=Vr.sEmptyTable),Mr[0]=$$2("<tr/>",{class:zr?Br[0]:""}).append($$2("<td />",{valign:"top",colSpan:_fnVisbleColumns(_r),class:_r.oClasses.sRowEmpty}).html(mn))[0]}_fnCallbackFire(_r,"aoHeaderCallback","header",[$$2(_r.nTHead).children("tr")[0],_fnGetDataMaster(_r),Wr,Kr,Gr]),_fnCallbackFire(_r,"aoFooterCallback","footer",[$$2(_r.nTFoot).children("tr")[0],_fnGetDataMaster(_r),Wr,Kr,Gr]);var bn=$$2(_r.nTBody);bn.children().detach(),bn.append($$2(Mr)),_fnCallbackFire(_r,"aoDrawCallback","draw",[_r]),_r.bSorted=!1,_r.bFiltered=!1,_r.bDrawing=!1}function _fnReDraw(_r,Be){var Dr=_r.oFeatures,Mr=Dr.bSort,$r=Dr.bFilter;Mr&&_fnSort(_r),$r?_fnFilterComplete(_r,_r.oPreviousSearch):_r.aiDisplay=_r.aiDisplayMaster.slice(),Be!==!0&&(_r._iDisplayStart=0),_r._drawHold=Be,_fnDraw(_r),_r._drawHold=!1}function _fnAddOptionsHtml(_r){var Be=_r.oClasses,Dr=$$2(_r.nTable),Mr=$$2("<div/>").insertBefore(Dr),$r=_r.oFeatures,Br=$$2("<div/>",{id:_r.sTableId+"_wrapper",class:Be.sWrapper+(_r.nTFoot?"":" "+Be.sNoFooter)});_r.nHolding=Mr[0],_r.nTableWrapper=Br[0],_r.nTableReinsertBefore=_r.nTable.nextSibling;for(var zr=_r.sDom.split(""),Vr,jr,Gr,Wr,Kr,Zr,Jr=0;Jr<zr.length;Jr++){if(Vr=null,jr=zr[Jr],jr=="<"){if(Gr=$$2("<div/>")[0],Wr=zr[Jr+1],Wr=="'"||Wr=='"'){for(Kr="",Zr=2;zr[Jr+Zr]!=Wr;)Kr+=zr[Jr+Zr],Zr++;if(Kr=="H"?Kr=Be.sJUIHeader:Kr=="F"&&(Kr=Be.sJUIFooter),Kr.indexOf(".")!=-1){var rn=Kr.split(".");Gr.id=rn[0].substr(1,rn[0].length-1),Gr.className=rn[1]}else Kr.charAt(0)=="#"?Gr.id=Kr.substr(1,Kr.length-1):Gr.className=Kr;Jr+=Zr}Br.append(Gr),Br=$$2(Gr)}else if(jr==">")Br=Br.parent();else if(jr=="l"&&$r.bPaginate&&$r.bLengthChange)Vr=_fnFeatureHtmlLength(_r);else if(jr=="f"&&$r.bFilter)Vr=_fnFeatureHtmlFilter(_r);else if(jr=="r"&&$r.bProcessing)Vr=_fnFeatureHtmlProcessing(_r);else if(jr=="t")Vr=_fnFeatureHtmlTable(_r);else if(jr=="i"&&$r.bInfo)Vr=_fnFeatureHtmlInfo(_r);else if(jr=="p"&&$r.bPaginate)Vr=_fnFeatureHtmlPaginate(_r);else if(DataTable.ext.feature.length!==0){for(var nn=DataTable.ext.feature,ln=0,cn=nn.length;ln<cn;ln++)if(jr==nn[ln].cFeature){Vr=nn[ln].fnInit(_r);break}}if(Vr){var hn=_r.aanFeatures;hn[jr]||(hn[jr]=[]),hn[jr].push(Vr),Br.append(Vr)}}Mr.replaceWith(Br),_r.nHolding=null}function _fnDetectHeader(_r,Be){var Dr=$$2(Be).children("tr"),Mr,$r,Br,zr,Vr,jr,Gr,Wr,Kr,Zr,Jr,rn=function(nn,ln,cn){for(var hn=nn[ln];hn[cn];)cn++;return cn};for(_r.splice(0,_r.length),Br=0,jr=Dr.length;Br<jr;Br++)_r.push([]);for(Br=0,jr=Dr.length;Br<jr;Br++)for(Mr=Dr[Br],Wr=0,$r=Mr.firstChild;$r;){if($r.nodeName.toUpperCase()=="TD"||$r.nodeName.toUpperCase()=="TH")for(Kr=$r.getAttribute("colspan")*1,Zr=$r.getAttribute("rowspan")*1,Kr=!Kr||Kr===0||Kr===1?1:Kr,Zr=!Zr||Zr===0||Zr===1?1:Zr,Gr=rn(_r,Br,Wr),Jr=Kr===1,Vr=0;Vr<Kr;Vr++)for(zr=0;zr<Zr;zr++)_r[Br+zr][Gr+Vr]={cell:$r,unique:Jr},_r[Br+zr].nTr=Mr;$r=$r.nextSibling}}function _fnGetUniqueThs(_r,Be,Dr){var Mr=[];Dr||(Dr=_r.aoHeader,Be&&(Dr=[],_fnDetectHeader(Dr,Be)));for(var $r=0,Br=Dr.length;$r<Br;$r++)for(var zr=0,Vr=Dr[$r].length;zr<Vr;zr++)Dr[$r][zr].unique&&(!Mr[zr]||!_r.bSortCellsTop)&&(Mr[zr]=Dr[$r][zr].cell);return Mr}function _fnStart(_r){var Be=_fnDataSource(_r)=="ssp",Dr=_r.iInitDisplayStart;Dr!==void 0&&Dr!==-1&&(_r._iDisplayStart=Be?Dr:Dr>=_r.fnRecordsDisplay()?0:Dr,_r.iInitDisplayStart=-1)}function _fnBuildAjax(_r,Be,Dr){if(_fnCallbackFire(_r,"aoServerParams","serverParams",[Be]),Be&&Array.isArray(Be)){var Mr={},$r=/(.*?)\[\]$/;$$2.each(Be,function(Kr,Zr){var Jr=Zr.name.match($r);if(Jr){var rn=Jr[0];Mr[rn]||(Mr[rn]=[]),Mr[rn].push(Zr.value)}else Mr[Zr.name]=Zr.value}),Be=Mr}var Br,zr=_r.ajax,Vr=_r.oInstance,jr=function(Kr){var Zr=_r.jqXHR?_r.jqXHR.status:null;(Kr===null||typeof Zr=="number"&&Zr==204)&&(Kr={},_fnAjaxDataSrc(_r,Kr,[]));var Jr=Kr.error||Kr.sError;Jr&&_fnLog(_r,0,Jr),_r.json=Kr,_fnCallbackFire(_r,null,"xhr",[_r,Kr,_r.jqXHR]),Dr(Kr)};if($$2.isPlainObject(zr)&&zr.data){Br=zr.data;var Gr=typeof Br=="function"?Br(Be,_r):Br;Be=typeof Br=="function"&&Gr?Gr:$$2.extend(!0,Be,Gr),delete zr.data}var Wr={data:Be,success:jr,dataType:"json",cache:!1,type:_r.sServerMethod,error:function(Kr,Zr,Jr){var rn=_fnCallbackFire(_r,null,"xhr",[_r,null,_r.jqXHR]);$$2.inArray(!0,rn)===-1&&(Zr=="parsererror"?_fnLog(_r,0,"Invalid JSON response",1):Kr.readyState===4&&_fnLog(_r,0,"Ajax error",7)),_fnProcessingDisplay(_r,!1)}};_r.oAjaxData=Be,_fnCallbackFire(_r,null,"preXhr",[_r,Be]),_r.fnServerData?_r.fnServerData.call(Vr,_r.sAjaxSource,$$2.map(Be,function(Kr,Zr){return{name:Zr,value:Kr}}),jr,_r):_r.sAjaxSource||typeof zr=="string"?_r.jqXHR=$$2.ajax($$2.extend(Wr,{url:zr||_r.sAjaxSource})):typeof zr=="function"?_r.jqXHR=zr.call(Vr,Be,jr,_r):(_r.jqXHR=$$2.ajax($$2.extend(Wr,zr)),zr.data=Br)}function _fnAjaxUpdate(_r){_r.iDraw++,_fnProcessingDisplay(_r,!0);var Be=_r._drawHold;_fnBuildAjax(_r,_fnAjaxParameters(_r),function(Dr){_r._drawHold=Be,_fnAjaxUpdateDraw(_r,Dr),_r._drawHold=!1})}function _fnAjaxParameters(_r){var Be=_r.aoColumns,Dr=Be.length,Mr=_r.oFeatures,$r=_r.oPreviousSearch,Br=_r.aoPreSearchCols,zr,Vr=[],jr,Gr,Wr,Kr=_fnSortFlatten(_r),Zr=_r._iDisplayStart,Jr=Mr.bPaginate!==!1?_r._iDisplayLength:-1,rn=function(cn,hn){Vr.push({name:cn,value:hn})};rn("sEcho",_r.iDraw),rn("iColumns",Dr),rn("sColumns",_pluck(Be,"sName").join(",")),rn("iDisplayStart",Zr),rn("iDisplayLength",Jr);var nn={draw:_r.iDraw,columns:[],order:[],start:Zr,length:Jr,search:{value:$r.sSearch,regex:$r.bRegex}};for(zr=0;zr<Dr;zr++)Gr=Be[zr],Wr=Br[zr],jr=typeof Gr.mData=="function"?"function":Gr.mData,nn.columns.push({data:jr,name:Gr.sName,searchable:Gr.bSearchable,orderable:Gr.bSortable,search:{value:Wr.sSearch,regex:Wr.bRegex}}),rn("mDataProp_"+zr,jr),Mr.bFilter&&(rn("sSearch_"+zr,Wr.sSearch),rn("bRegex_"+zr,Wr.bRegex),rn("bSearchable_"+zr,Gr.bSearchable)),Mr.bSort&&rn("bSortable_"+zr,Gr.bSortable);Mr.bFilter&&(rn("sSearch",$r.sSearch),rn("bRegex",$r.bRegex)),Mr.bSort&&($$2.each(Kr,function(cn,hn){nn.order.push({column:hn.col,dir:hn.dir}),rn("iSortCol_"+cn,hn.col),rn("sSortDir_"+cn,hn.dir)}),rn("iSortingCols",Kr.length));var ln=DataTable.ext.legacy.ajax;return ln===null?_r.sAjaxSource?Vr:nn:ln?Vr:nn}function _fnAjaxUpdateDraw(_r,Be){var Dr=function(Gr,Wr){return Be[Gr]!==void 0?Be[Gr]:Be[Wr]},Mr=_fnAjaxDataSrc(_r,Be),$r=Dr("sEcho","draw"),Br=Dr("iTotalRecords","recordsTotal"),zr=Dr("iTotalDisplayRecords","recordsFiltered");if($r!==void 0){if($r*1<_r.iDraw)return;_r.iDraw=$r*1}Mr||(Mr=[]),_fnClearTable(_r),_r._iRecordsTotal=parseInt(Br,10),_r._iRecordsDisplay=parseInt(zr,10);for(var Vr=0,jr=Mr.length;Vr<jr;Vr++)_fnAddData(_r,Mr[Vr]);_r.aiDisplay=_r.aiDisplayMaster.slice(),_fnDraw(_r,!0),_r._bInitComplete||_fnInitComplete(_r,Be),_fnProcessingDisplay(_r,!1)}function _fnAjaxDataSrc(_r,Be,Dr){var Mr=$$2.isPlainObject(_r.ajax)&&_r.ajax.dataSrc!==void 0?_r.ajax.dataSrc:_r.sAjaxDataProp;if(!Dr)return Mr==="data"?Be.aaData||Be[Mr]:Mr!==""?_fnGetObjectDataFn(Mr)(Be):Be;_fnSetObjectDataFn(Mr)(Be,Dr)}function _fnFeatureHtmlFilter(_r){var Be=_r.oClasses,Dr=_r.sTableId,Mr=_r.oLanguage,$r=_r.oPreviousSearch,Br=_r.aanFeatures,zr='<input type="search" class="'+Be.sFilterInput+'"/>',Vr=Mr.sSearch;Vr=Vr.match(/_INPUT_/)?Vr.replace("_INPUT_",zr):Vr+zr;var jr=$$2("<div/>",{id:Br.f?null:Dr+"_filter",class:Be.sFilter}).append($$2("<label/>").append(Vr)),Gr=function(Zr){Br.f;var Jr=this.value?this.value:"";$r.return&&Zr.key!=="Enter"||Jr!=$r.sSearch&&(_fnFilterComplete(_r,{sSearch:Jr,bRegex:$r.bRegex,bSmart:$r.bSmart,bCaseInsensitive:$r.bCaseInsensitive,return:$r.return}),_r._iDisplayStart=0,_fnDraw(_r))},Wr=_r.searchDelay!==null?_r.searchDelay:_fnDataSource(_r)==="ssp"?400:0,Kr=$$2("input",jr).val($r.sSearch).attr("placeholder",Mr.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",Wr?_fnThrottle(Gr,Wr):Gr).on("mouseup.DT",function(Zr){setTimeout(function(){Gr.call(Kr[0],Zr)},10)}).on("keypress.DT",function(Zr){if(Zr.keyCode==13)return!1}).attr("aria-controls",Dr);return $$2(_r.nTable).on("search.dt.DT",function(Zr,Jr){if(_r===Jr)try{Kr[0]!==document.activeElement&&Kr.val($r.sSearch)}catch{}}),jr[0]}function _fnFilterComplete(_r,Be,Dr){var Mr=_r.oPreviousSearch,$r=_r.aoPreSearchCols,Br=function(jr){Mr.sSearch=jr.sSearch,Mr.bRegex=jr.bRegex,Mr.bSmart=jr.bSmart,Mr.bCaseInsensitive=jr.bCaseInsensitive,Mr.return=jr.return},zr=function(jr){return jr.bEscapeRegex!==void 0?!jr.bEscapeRegex:jr.bRegex};if(_fnColumnTypes(_r),_fnDataSource(_r)!="ssp"){_fnFilter(_r,Be.sSearch,Dr,zr(Be),Be.bSmart,Be.bCaseInsensitive),Br(Be);for(var Vr=0;Vr<$r.length;Vr++)_fnFilterColumn(_r,$r[Vr].sSearch,Vr,zr($r[Vr]),$r[Vr].bSmart,$r[Vr].bCaseInsensitive);_fnFilterCustom(_r)}else Br(Be);_r.bFiltered=!0,_fnCallbackFire(_r,null,"search",[_r])}function _fnFilterCustom(_r){for(var Be=DataTable.ext.search,Dr=_r.aiDisplay,Mr,$r,Br=0,zr=Be.length;Br<zr;Br++){for(var Vr=[],jr=0,Gr=Dr.length;jr<Gr;jr++)$r=Dr[jr],Mr=_r.aoData[$r],Be[Br](_r,Mr._aFilterData,$r,Mr._aData,jr)&&Vr.push($r);Dr.length=0,$$2.merge(Dr,Vr)}}function _fnFilterColumn(_r,Be,Dr,Mr,$r,Br){if(Be!==""){for(var zr,Vr=[],jr=_r.aiDisplay,Gr=_fnFilterCreateSearch(Be,Mr,$r,Br),Wr=0;Wr<jr.length;Wr++)zr=_r.aoData[jr[Wr]]._aFilterData[Dr],Gr.test(zr)&&Vr.push(jr[Wr]);_r.aiDisplay=Vr}}function _fnFilter(_r,Be,Dr,Mr,$r,Br){var zr=_fnFilterCreateSearch(Be,Mr,$r,Br),Vr=_r.oPreviousSearch.sSearch,jr=_r.aiDisplayMaster,Gr,Wr,Kr,Zr=[];if(DataTable.ext.search.length!==0&&(Dr=!0),Wr=_fnFilterData(_r),Be.length<=0)_r.aiDisplay=jr.slice();else{for((Wr||Dr||Mr||Vr.length>Be.length||Be.indexOf(Vr)!==0||_r.bSorted)&&(_r.aiDisplay=jr.slice()),Gr=_r.aiDisplay,Kr=0;Kr<Gr.length;Kr++)zr.test(_r.aoData[Gr[Kr]]._sFilterRow)&&Zr.push(Gr[Kr]);_r.aiDisplay=Zr}}function _fnFilterCreateSearch(_r,Be,Dr,Mr){if(_r=Be?_r:_fnEscapeRegex(_r),Dr){var $r=$$2.map(_r.match(/["\u201C][^"\u201D]+["\u201D]|[^ ]+/g)||[""],function(Br){if(Br.charAt(0)==='"'){var zr=Br.match(/^"(.*)"$/);Br=zr?zr[1]:Br}else if(Br.charAt(0)==="â"){var zr=Br.match(/^\u201C(.*)\u201D$/);Br=zr?zr[1]:Br}return Br.replace('"',"")});_r="^(?=.*?"+$r.join(")(?=.*?")+").*$"}return new RegExp(_r,Mr?"i":"")}var _fnEscapeRegex=DataTable.util.escapeRegex,__filter_div=$$2("<div>")[0],__filter_div_textContent=__filter_div.textContent!==void 0;function _fnFilterData(_r){var Be=_r.aoColumns,Dr,Mr,$r,Br,zr,Vr,jr,Gr,Wr=!1;for(Mr=0,Br=_r.aoData.length;Mr<Br;Mr++)if(Gr=_r.aoData[Mr],!Gr._aFilterData){for(Vr=[],$r=0,zr=Be.length;$r<zr;$r++)Dr=Be[$r],Dr.bSearchable?(jr=_fnGetCellData(_r,Mr,$r,"filter"),jr===null&&(jr=""),typeof jr!="string"&&jr.toString&&(jr=jr.toString())):jr="",jr.indexOf&&jr.indexOf("&")!==-1&&(__filter_div.innerHTML=jr,jr=__filter_div_textContent?__filter_div.textContent:__filter_div.innerText),jr.replace&&(jr=jr.replace(/[\r\n\u2028]/g,"")),Vr.push(jr);Gr._aFilterData=Vr,Gr._sFilterRow=Vr.join("  "),Wr=!0}return Wr}function _fnSearchToCamel(_r){return{search:_r.sSearch,smart:_r.bSmart,regex:_r.bRegex,caseInsensitive:_r.bCaseInsensitive}}function _fnSearchToHung(_r){return{sSearch:_r.search,bSmart:_r.smart,bRegex:_r.regex,bCaseInsensitive:_r.caseInsensitive}}function _fnFeatureHtmlInfo(_r){var Be=_r.sTableId,Dr=_r.aanFeatures.i,Mr=$$2("<div/>",{class:_r.oClasses.sInfo,id:Dr?null:Be+"_info"});return Dr||(_r.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),Mr.attr("role","status").attr("aria-live","polite"),$$2(_r.nTable).attr("aria-describedby",Be+"_info")),Mr[0]}function _fnUpdateInfo(_r){var Be=_r.aanFeatures.i;if(Be.length!==0){var Dr=_r.oLanguage,Mr=_r._iDisplayStart+1,$r=_r.fnDisplayEnd(),Br=_r.fnRecordsTotal(),zr=_r.fnRecordsDisplay(),Vr=zr?Dr.sInfo:Dr.sInfoEmpty;zr!==Br&&(Vr+=" "+Dr.sInfoFiltered),Vr+=Dr.sInfoPostFix,Vr=_fnInfoMacros(_r,Vr);var jr=Dr.fnInfoCallback;jr!==null&&(Vr=jr.call(_r.oInstance,_r,Mr,$r,Br,zr,Vr)),$$2(Be).html(Vr)}}function _fnInfoMacros(_r,Be){var Dr=_r.fnFormatNumber,Mr=_r._iDisplayStart+1,$r=_r._iDisplayLength,Br=_r.fnRecordsDisplay(),zr=$r===-1;return Be.replace(/_START_/g,Dr.call(_r,Mr)).replace(/_END_/g,Dr.call(_r,_r.fnDisplayEnd())).replace(/_MAX_/g,Dr.call(_r,_r.fnRecordsTotal())).replace(/_TOTAL_/g,Dr.call(_r,Br)).replace(/_PAGE_/g,Dr.call(_r,zr?1:Math.ceil(Mr/$r))).replace(/_PAGES_/g,Dr.call(_r,zr?1:Math.ceil(Br/$r)))}function _fnInitialise(_r){var Be,Dr,Mr=_r.iInitDisplayStart,$r=_r.aoColumns,Br,zr=_r.oFeatures,Vr=_r.bDeferLoading;if(!_r.bInitialised){setTimeout(function(){_fnInitialise(_r)},200);return}for(_fnAddOptionsHtml(_r),_fnBuildHead(_r),_fnDrawHead(_r,_r.aoHeader),_fnDrawHead(_r,_r.aoFooter),_fnProcessingDisplay(_r,!0),zr.bAutoWidth&&_fnCalculateColumnWidths(_r),Be=0,Dr=$r.length;Be<Dr;Be++)Br=$r[Be],Br.sWidth&&(Br.nTh.style.width=_fnStringToCss(Br.sWidth));_fnCallbackFire(_r,null,"preInit",[_r]),_fnReDraw(_r);var jr=_fnDataSource(_r);(jr!="ssp"||Vr)&&(jr=="ajax"?_fnBuildAjax(_r,[],function(Gr){var Wr=_fnAjaxDataSrc(_r,Gr);for(Be=0;Be<Wr.length;Be++)_fnAddData(_r,Wr[Be]);_r.iInitDisplayStart=Mr,_fnReDraw(_r),_fnProcessingDisplay(_r,!1),_fnInitComplete(_r,Gr)}):(_fnProcessingDisplay(_r,!1),_fnInitComplete(_r)))}function _fnInitComplete(_r,Be){_r._bInitComplete=!0,(Be||_r.oInit.aaData)&&_fnAdjustColumnSizing(_r),_fnCallbackFire(_r,null,"plugin-init",[_r,Be]),_fnCallbackFire(_r,"aoInitComplete","init",[_r,Be])}function _fnLengthChange(_r,Be){var Dr=parseInt(Be,10);_r._iDisplayLength=Dr,_fnLengthOverflow(_r),_fnCallbackFire(_r,null,"length",[_r,Dr])}function _fnFeatureHtmlLength(_r){for(var Be=_r.oClasses,Dr=_r.sTableId,Mr=_r.aLengthMenu,$r=Array.isArray(Mr[0]),Br=$r?Mr[0]:Mr,zr=$r?Mr[1]:Mr,Vr=$$2("<select/>",{name:Dr+"_length","aria-controls":Dr,class:Be.sLengthSelect}),jr=0,Gr=Br.length;jr<Gr;jr++)Vr[0][jr]=new Option(typeof zr[jr]=="number"?_r.fnFormatNumber(zr[jr]):zr[jr],Br[jr]);var Wr=$$2("<div><label/></div>").addClass(Be.sLength);return _r.aanFeatures.l||(Wr[0].id=Dr+"_length"),Wr.children().append(_r.oLanguage.sLengthMenu.replace("_MENU_",Vr[0].outerHTML)),$$2("select",Wr).val(_r._iDisplayLength).on("change.DT",function(Kr){_fnLengthChange(_r,$$2(this).val()),_fnDraw(_r)}),$$2(_r.nTable).on("length.dt.DT",function(Kr,Zr,Jr){_r===Zr&&$$2("select",Wr).val(Jr)}),Wr[0]}function _fnFeatureHtmlPaginate(_r){var Be=_r.sPaginationType,Dr=DataTable.ext.pager[Be],Mr=typeof Dr=="function",$r=function(Vr){_fnDraw(Vr)},Br=$$2("<div/>").addClass(_r.oClasses.sPaging+Be)[0],zr=_r.aanFeatures;return Mr||Dr.fnInit(_r,Br,$r),zr.p||(Br.id=_r.sTableId+"_paginate",_r.aoDrawCallback.push({fn:function(Vr){if(Mr){var jr=Vr._iDisplayStart,Gr=Vr._iDisplayLength,Wr=Vr.fnRecordsDisplay(),Kr=Gr===-1,Zr=Kr?0:Math.ceil(jr/Gr),Jr=Kr?1:Math.ceil(Wr/Gr),rn=Dr(Zr,Jr),nn,ln;for(nn=0,ln=zr.p.length;nn<ln;nn++)_fnRenderer(Vr,"pageButton")(Vr,zr.p[nn],nn,rn,Zr,Jr)}else Dr.fnUpdate(Vr,$r)},sName:"pagination"})),Br}function _fnPageChange(_r,Be,Dr){var Mr=_r._iDisplayStart,$r=_r._iDisplayLength,Br=_r.fnRecordsDisplay();Br===0||$r===-1?Mr=0:typeof Be=="number"?(Mr=Be*$r,Mr>Br&&(Mr=0)):Be=="first"?Mr=0:Be=="previous"?(Mr=$r>=0?Mr-$r:0,Mr<0&&(Mr=0)):Be=="next"?Mr+$r<Br&&(Mr+=$r):Be=="last"?Mr=Math.floor((Br-1)/$r)*$r:_fnLog(_r,0,"Unknown paging action: "+Be,5);var zr=_r._iDisplayStart!==Mr;return _r._iDisplayStart=Mr,zr?(_fnCallbackFire(_r,null,"page",[_r]),Dr&&_fnDraw(_r)):_fnCallbackFire(_r,null,"page-nc",[_r]),zr}function _fnFeatureHtmlProcessing(_r){return $$2("<div/>",{id:_r.aanFeatures.r?null:_r.sTableId+"_processing",class:_r.oClasses.sProcessing,role:"status"}).html(_r.oLanguage.sProcessing).append("<div><div></div><div></div><div></div><div></div></div>").insertBefore(_r.nTable)[0]}function _fnProcessingDisplay(_r,Be){_r.oFeatures.bProcessing&&$$2(_r.aanFeatures.r).css("display",Be?"block":"none"),_fnCallbackFire(_r,null,"processing",[_r,Be])}function _fnFeatureHtmlTable(_r){var Be=$$2(_r.nTable),Dr=_r.oScroll;if(Dr.sX===""&&Dr.sY==="")return _r.nTable;var Mr=Dr.sX,$r=Dr.sY,Br=_r.oClasses,zr=Be.children("caption"),Vr=zr.length?zr[0]._captionSide:null,jr=$$2(Be[0].cloneNode(!1)),Gr=$$2(Be[0].cloneNode(!1)),Wr=Be.children("tfoot"),Kr="<div/>",Zr=function(hn){return hn?_fnStringToCss(hn):null};Wr.length||(Wr=null);var Jr=$$2(Kr,{class:Br.sScrollWrapper}).append($$2(Kr,{class:Br.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:Mr?Zr(Mr):"100%"}).append($$2(Kr,{class:Br.sScrollHeadInner}).css({"box-sizing":"content-box",width:Dr.sXInner||"100%"}).append(jr.removeAttr("id").css("margin-left",0).append(Vr==="top"?zr:null).append(Be.children("thead"))))).append($$2(Kr,{class:Br.sScrollBody}).css({position:"relative",overflow:"auto",width:Zr(Mr)}).append(Be));Wr&&Jr.append($$2(Kr,{class:Br.sScrollFoot}).css({overflow:"hidden",border:0,width:Mr?Zr(Mr):"100%"}).append($$2(Kr,{class:Br.sScrollFootInner}).append(Gr.removeAttr("id").css("margin-left",0).append(Vr==="bottom"?zr:null).append(Be.children("tfoot")))));var rn=Jr.children(),nn=rn[0],ln=rn[1],cn=Wr?rn[2]:null;return Mr&&$$2(ln).on("scroll.DT",function(hn){var mn=this.scrollLeft;nn.scrollLeft=mn,Wr&&(cn.scrollLeft=mn)}),$$2(ln).css("max-height",$r),Dr.bCollapse||$$2(ln).css("height",$r),_r.nScrollHead=nn,_r.nScrollBody=ln,_r.nScrollFoot=cn,_r.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),Jr[0]}function _fnScrollDraw(_r){var Be=_r.oScroll,Dr=Be.sX,Mr=Be.sXInner,$r=Be.sY,Br=Be.iBarWidth,zr=$$2(_r.nScrollHead),Vr=zr[0].style,jr=zr.children("div"),Gr=jr[0].style,Wr=jr.children("table"),Kr=_r.nScrollBody,Zr=$$2(Kr),Jr=Kr.style,rn=$$2(_r.nScrollFoot),nn=rn.children("div"),ln=nn.children("table"),cn=$$2(_r.nTHead),hn=$$2(_r.nTable),mn=hn[0],bn=mn.style,An=_r.nTFoot?$$2(_r.nTFoot):null,vn=_r.oBrowser,dn=vn.bScrollOversize;_pluck(_r.aoColumns,"nTh");var wn,xn,Mn,In,Hn,$n,jn=[],Bn=[],Gn=[],ei=[],ri,vi,wi,Ni=function(Pi){var Fi=Pi.style;Fi.paddingTop="0",Fi.paddingBottom="0",Fi.borderTopWidth="0",Fi.borderBottomWidth="0",Fi.height=0},Yn=Kr.scrollHeight>Kr.clientHeight;if(_r.scrollBarVis!==Yn&&_r.scrollBarVis!==void 0){_r.scrollBarVis=Yn,_fnAdjustColumnSizing(_r);return}else _r.scrollBarVis=Yn;hn.children("thead, tfoot").remove(),An&&($n=An.clone().prependTo(hn),xn=An.find("tr"),In=$n.find("tr"),$n.find("[id]").removeAttr("id")),Hn=cn.clone().prependTo(hn),wn=cn.find("tr"),Mn=Hn.find("tr"),Hn.find("th, td").removeAttr("tabindex"),Hn.find("[id]").removeAttr("id"),Dr||(Jr.width="100%",zr[0].style.width="100%"),$$2.each(_fnGetUniqueThs(_r,Hn),function(Pi,Fi){ri=_fnVisibleToColumnIndex(_r,Pi),Fi.style.width=_r.aoColumns[ri].sWidth}),An&&_fnApplyToChildren(function(Pi){Pi.style.width=""},In),wi=hn.outerWidth(),Dr===""?(bn.width="100%",dn&&(hn.find("tbody").height()>Kr.offsetHeight||Zr.css("overflow-y")=="scroll")&&(bn.width=_fnStringToCss(hn.outerWidth()-Br)),wi=hn.outerWidth()):Mr!==""&&(bn.width=_fnStringToCss(Mr),wi=hn.outerWidth()),_fnApplyToChildren(Ni,Mn),_fnApplyToChildren(function(Pi){var Fi=window.getComputedStyle?window.getComputedStyle(Pi).width:_fnStringToCss($$2(Pi).width());Gn.push(Pi.innerHTML),jn.push(Fi)},Mn),_fnApplyToChildren(function(Pi,Fi){Pi.style.width=jn[Fi]},wn),$$2(Mn).css("height",0),An&&(_fnApplyToChildren(Ni,In),_fnApplyToChildren(function(Pi){ei.push(Pi.innerHTML),Bn.push(_fnStringToCss($$2(Pi).css("width")))},In),_fnApplyToChildren(function(Pi,Fi){Pi.style.width=Bn[Fi]},xn),$$2(In).height(0)),_fnApplyToChildren(function(Pi,Fi){Pi.innerHTML='<div class="dataTables_sizing">'+Gn[Fi]+"</div>",Pi.childNodes[0].style.height="0",Pi.childNodes[0].style.overflow="hidden",Pi.style.width=jn[Fi]},Mn),An&&_fnApplyToChildren(function(Pi,Fi){Pi.innerHTML='<div class="dataTables_sizing">'+ei[Fi]+"</div>",Pi.childNodes[0].style.height="0",Pi.childNodes[0].style.overflow="hidden",Pi.style.width=Bn[Fi]},In),Math.round(hn.outerWidth())<Math.round(wi)?(vi=Kr.scrollHeight>Kr.offsetHeight||Zr.css("overflow-y")=="scroll"?wi+Br:wi,dn&&(Kr.scrollHeight>Kr.offsetHeight||Zr.css("overflow-y")=="scroll")&&(bn.width=_fnStringToCss(vi-Br)),(Dr===""||Mr!=="")&&_fnLog(_r,1,"Possible column misalignment",6)):vi="100%",Jr.width=_fnStringToCss(vi),Vr.width=_fnStringToCss(vi),An&&(_r.nScrollFoot.style.width=_fnStringToCss(vi)),$r||dn&&(Jr.height=_fnStringToCss(mn.offsetHeight+Br));var Vn=hn.outerWidth();Wr[0].style.width=_fnStringToCss(Vn),Gr.width=_fnStringToCss(Vn);var si=hn.height()>Kr.clientHeight||Zr.css("overflow-y")=="scroll",Ri="padding"+(vn.bScrollbarLeft?"Left":"Right");Gr[Ri]=si?Br+"px":"0px",An&&(ln[0].style.width=_fnStringToCss(Vn),nn[0].style.width=_fnStringToCss(Vn),nn[0].style[Ri]=si?Br+"px":"0px"),hn.children("colgroup").insertBefore(hn.children("thead")),Zr.trigger("scroll"),(_r.bSorted||_r.bFiltered)&&!_r._drawHold&&(Kr.scrollTop=0)}function _fnApplyToChildren(_r,Be,Dr){for(var Mr=0,$r=0,Br=Be.length,zr,Vr;$r<Br;){for(zr=Be[$r].firstChild,Vr=Dr?Dr[$r].firstChild:null;zr;)zr.nodeType===1&&(Dr?_r(zr,Vr,Mr):_r(zr,Mr),Mr++),zr=zr.nextSibling,Vr=Dr?Vr.nextSibling:null;$r++}}var __re_html_remove=/<.*?>/g;function _fnCalculateColumnWidths(_r){var Be=_r.nTable,Dr=_r.aoColumns,Mr=_r.oScroll,$r=Mr.sY,Br=Mr.sX,zr=Mr.sXInner,Vr=Dr.length,jr=_fnGetColumns(_r,"bVisible"),Gr=$$2("th",_r.nTHead),Wr=Be.getAttribute("width"),Kr=Be.parentNode,Zr=!1,Jr,rn,nn,ln=_r.oBrowser,cn=ln.bScrollOversize,hn=Be.style.width;for(hn&&hn.indexOf("%")!==-1&&(Wr=hn),Jr=0;Jr<jr.length;Jr++)rn=Dr[jr[Jr]],rn.sWidth!==null&&(rn.sWidth=_fnConvertToWidth(rn.sWidthOrig,Kr),Zr=!0);if(cn||!Zr&&!Br&&!$r&&Vr==_fnVisbleColumns(_r)&&Vr==Gr.length)for(Jr=0;Jr<Vr;Jr++){var mn=_fnVisibleToColumnIndex(_r,Jr);mn!==null&&(Dr[mn].sWidth=_fnStringToCss(Gr.eq(Jr).width()))}else{var bn=$$2(Be).clone().css("visibility","hidden").removeAttr("id");bn.find("tbody tr").remove();var An=$$2("<tr/>").appendTo(bn.find("tbody"));for(bn.find("thead, tfoot").remove(),bn.append($$2(_r.nTHead).clone()).append($$2(_r.nTFoot).clone()),bn.find("tfoot th, tfoot td").css("width",""),Gr=_fnGetUniqueThs(_r,bn.find("thead")[0]),Jr=0;Jr<jr.length;Jr++)rn=Dr[jr[Jr]],Gr[Jr].style.width=rn.sWidthOrig!==null&&rn.sWidthOrig!==""?_fnStringToCss(rn.sWidthOrig):"",rn.sWidthOrig&&Br&&$$2(Gr[Jr]).append($$2("<div/>").css({width:rn.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(_r.aoData.length)for(Jr=0;Jr<jr.length;Jr++)nn=jr[Jr],rn=Dr[nn],$$2(_fnGetWidestNode(_r,nn)).clone(!1).append(rn.sContentPadding).appendTo(An);$$2("[name]",bn).removeAttr("name");var vn=$$2("<div/>").css(Br||$r?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(bn).appendTo(Kr);Br&&zr?bn.width(zr):Br?(bn.css("width","auto"),bn.removeAttr("width"),bn.width()<Kr.clientWidth&&Wr&&bn.width(Kr.clientWidth)):$r?bn.width(Kr.clientWidth):Wr&&bn.width(Wr);var dn=0;for(Jr=0;Jr<jr.length;Jr++){var wn=$$2(Gr[Jr]),xn=wn.outerWidth()-wn.width(),Mn=ln.bBounding?Math.ceil(Gr[Jr].getBoundingClientRect().width):wn.outerWidth();dn+=Mn,Dr[jr[Jr]].sWidth=_fnStringToCss(Mn-xn)}Be.style.width=_fnStringToCss(dn),vn.remove()}if(Wr&&(Be.style.width=_fnStringToCss(Wr)),(Wr||Br)&&!_r._reszEvt){var In=function(){$$2(window).on("resize.DT-"+_r.sInstance,_fnThrottle(function(){_fnAdjustColumnSizing(_r)}))};cn?setTimeout(In,1e3):In(),_r._reszEvt=!0}}var _fnThrottle=DataTable.util.throttle;function _fnConvertToWidth(_r,Be){if(!_r)return 0;var Dr=$$2("<div/>").css("width",_fnStringToCss(_r)).appendTo(Be||document.body),Mr=Dr[0].offsetWidth;return Dr.remove(),Mr}function _fnGetWidestNode(_r,Be){var Dr=_fnGetMaxLenString(_r,Be);if(Dr<0)return null;var Mr=_r.aoData[Dr];return Mr.nTr?Mr.anCells[Be]:$$2("<td/>").html(_fnGetCellData(_r,Dr,Be,"display"))[0]}function _fnGetMaxLenString(_r,Be){for(var Dr,Mr=-1,$r=-1,Br=0,zr=_r.aoData.length;Br<zr;Br++)Dr=_fnGetCellData(_r,Br,Be,"display")+"",Dr=Dr.replace(__re_html_remove,""),Dr=Dr.replace(/&nbsp;/g," "),Dr.length>Mr&&(Mr=Dr.length,$r=Br);return $r}function _fnStringToCss(_r){return _r===null?"0px":typeof _r=="number"?_r<0?"0px":_r+"px":_r.match(/\d$/)?_r+"px":_r}function _fnSortFlatten(_r){var Be,Dr,Mr,$r=[],Br=_r.aoColumns,zr,Vr,jr,Gr,Wr=_r.aaSortingFixed,Kr=$$2.isPlainObject(Wr),Zr=[],Jr=function(rn){rn.length&&!Array.isArray(rn[0])?Zr.push(rn):$$2.merge(Zr,rn)};for(Array.isArray(Wr)&&Jr(Wr),Kr&&Wr.pre&&Jr(Wr.pre),Jr(_r.aaSorting),Kr&&Wr.post&&Jr(Wr.post),Be=0;Be<Zr.length;Be++)for(Gr=Zr[Be][0],zr=Br[Gr].aDataSort,Dr=0,Mr=zr.length;Dr<Mr;Dr++)Vr=zr[Dr],jr=Br[Vr].sType||"string",Zr[Be]._idx===void 0&&(Zr[Be]._idx=$$2.inArray(Zr[Be][1],Br[Vr].asSorting)),$r.push({src:Gr,col:Vr,dir:Zr[Be][1],index:Zr[Be]._idx,type:jr,formatter:DataTable.ext.type.order[jr+"-pre"]});return $r}function _fnSort(_r){var Be,Dr,Mr,$r=[],Br=DataTable.ext.type.order,zr=_r.aoData;_r.aoColumns;var Vr=0,jr,Gr=_r.aiDisplayMaster,Wr;for(_fnColumnTypes(_r),Wr=_fnSortFlatten(_r),Be=0,Dr=Wr.length;Be<Dr;Be++)jr=Wr[Be],jr.formatter&&Vr++,_fnSortData(_r,jr.col);if(_fnDataSource(_r)!="ssp"&&Wr.length!==0){for(Be=0,Mr=Gr.length;Be<Mr;Be++)$r[Gr[Be]]=Be;Vr===Wr.length?Gr.sort(function(Kr,Zr){var Jr,rn,nn,ln,cn,hn=Wr.length,mn=zr[Kr]._aSortData,bn=zr[Zr]._aSortData;for(nn=0;nn<hn;nn++)if(cn=Wr[nn],Jr=mn[cn.col],rn=bn[cn.col],ln=Jr<rn?-1:Jr>rn?1:0,ln!==0)return cn.dir==="asc"?ln:-ln;return Jr=$r[Kr],rn=$r[Zr],Jr<rn?-1:Jr>rn?1:0}):Gr.sort(function(Kr,Zr){var Jr,rn,nn,ln,cn,hn,mn=Wr.length,bn=zr[Kr]._aSortData,An=zr[Zr]._aSortData;for(nn=0;nn<mn;nn++)if(cn=Wr[nn],Jr=bn[cn.col],rn=An[cn.col],hn=Br[cn.type+"-"+cn.dir]||Br["string-"+cn.dir],ln=hn(Jr,rn),ln!==0)return ln;return Jr=$r[Kr],rn=$r[Zr],Jr<rn?-1:Jr>rn?1:0})}_r.bSorted=!0}function _fnSortAria(_r){for(var Be,Dr,Mr=_r.aoColumns,$r=_fnSortFlatten(_r),Br=_r.oLanguage.oAria,zr=0,Vr=Mr.length;zr<Vr;zr++){var jr=Mr[zr],Gr=jr.asSorting,Wr=jr.ariaTitle||jr.sTitle.replace(/<.*?>/g,""),Kr=jr.nTh;Kr.removeAttribute("aria-sort"),jr.bSortable?($r.length>0&&$r[0].col==zr?(Kr.setAttribute("aria-sort",$r[0].dir=="asc"?"ascending":"descending"),Dr=Gr[$r[0].index+1]||Gr[0]):Dr=Gr[0],Be=Wr+(Dr==="asc"?Br.sSortAscending:Br.sSortDescending)):Be=Wr,Kr.setAttribute("aria-label",Be)}}function _fnSortListener(_r,Be,Dr,Mr){var $r=_r.aoColumns[Be],Br=_r.aaSorting,zr=$r.asSorting,Vr,jr=function(Wr,Kr){var Zr=Wr._idx;return Zr===void 0&&(Zr=$$2.inArray(Wr[1],zr)),Zr+1<zr.length?Zr+1:Kr?null:0};if(typeof Br[0]=="number"&&(Br=_r.aaSorting=[Br]),Dr&&_r.oFeatures.bSortMulti){var Gr=$$2.inArray(Be,_pluck(Br,"0"));Gr!==-1?(Vr=jr(Br[Gr],!0),Vr===null&&Br.length===1&&(Vr=0),Vr===null?Br.splice(Gr,1):(Br[Gr][1]=zr[Vr],Br[Gr]._idx=Vr)):(Br.push([Be,zr[0],0]),Br[Br.length-1]._idx=0)}else Br.length&&Br[0][0]==Be?(Vr=jr(Br[0]),Br.length=1,Br[0][1]=zr[Vr],Br[0]._idx=Vr):(Br.length=0,Br.push([Be,zr[0]]),Br[0]._idx=0);_fnReDraw(_r),typeof Mr=="function"&&Mr(_r)}function _fnSortAttachListener(_r,Be,Dr,Mr){var $r=_r.aoColumns[Dr];_fnBindAction(Be,{},function(Br){$r.bSortable!==!1&&(_r.oFeatures.bProcessing?(_fnProcessingDisplay(_r,!0),setTimeout(function(){_fnSortListener(_r,Dr,Br.shiftKey,Mr),_fnDataSource(_r)!=="ssp"&&_fnProcessingDisplay(_r,!1)},0)):_fnSortListener(_r,Dr,Br.shiftKey,Mr))})}function _fnSortingClasses(_r){var Be=_r.aLastSort,Dr=_r.oClasses.sSortColumn,Mr=_fnSortFlatten(_r),$r=_r.oFeatures,Br,zr,Vr;if($r.bSort&&$r.bSortClasses){for(Br=0,zr=Be.length;Br<zr;Br++)Vr=Be[Br].src,$$2(_pluck(_r.aoData,"anCells",Vr)).removeClass(Dr+(Br<2?Br+1:3));for(Br=0,zr=Mr.length;Br<zr;Br++)Vr=Mr[Br].src,$$2(_pluck(_r.aoData,"anCells",Vr)).addClass(Dr+(Br<2?Br+1:3))}_r.aLastSort=Mr}function _fnSortData(_r,Be){var Dr=_r.aoColumns[Be],Mr=DataTable.ext.order[Dr.sSortDataType],$r;Mr&&($r=Mr.call(_r.oInstance,_r,Be,_fnColumnIndexToVisible(_r,Be)));for(var Br,zr,Vr=DataTable.ext.type.order[Dr.sType+"-pre"],jr=0,Gr=_r.aoData.length;jr<Gr;jr++)Br=_r.aoData[jr],Br._aSortData||(Br._aSortData=[]),(!Br._aSortData[Be]||Mr)&&(zr=Mr?$r[jr]:_fnGetCellData(_r,jr,Be,"sort"),Br._aSortData[Be]=Vr?Vr(zr):zr)}function _fnSaveState(_r){if(!_r._bLoadingState){var Be={time:+new Date,start:_r._iDisplayStart,length:_r._iDisplayLength,order:$$2.extend(!0,[],_r.aaSorting),search:_fnSearchToCamel(_r.oPreviousSearch),columns:$$2.map(_r.aoColumns,function(Dr,Mr){return{visible:Dr.bVisible,search:_fnSearchToCamel(_r.aoPreSearchCols[Mr])}})};_r.oSavedState=Be,_fnCallbackFire(_r,"aoStateSaveParams","stateSaveParams",[_r,Be]),_r.oFeatures.bStateSave&&!_r.bDestroying&&_r.fnStateSaveCallback.call(_r.oInstance,_r,Be)}}function _fnLoadState(_r,Be,Dr){if(!_r.oFeatures.bStateSave){Dr();return}var Mr=function(Br){_fnImplementState(_r,Br,Dr)},$r=_r.fnStateLoadCallback.call(_r.oInstance,_r,Mr);return $r!==void 0&&_fnImplementState(_r,$r,Dr),!0}function _fnImplementState(_r,Be,Dr){var Mr,$r,Br=_r.aoColumns;_r._bLoadingState=!0;var zr=_r._bInitComplete?new DataTable.Api(_r):null;if(!Be||!Be.time){_r._bLoadingState=!1,Dr();return}var Vr=_fnCallbackFire(_r,"aoStateLoadParams","stateLoadParams",[_r,Be]);if($$2.inArray(!1,Vr)!==-1){_r._bLoadingState=!1,Dr();return}var jr=_r.iStateDuration;if(jr>0&&Be.time<+new Date-jr*1e3){_r._bLoadingState=!1,Dr();return}if(Be.columns&&Br.length!==Be.columns.length){_r._bLoadingState=!1,Dr();return}if(_r.oLoadedState=$$2.extend(!0,{},Be),Be.length!==void 0&&(zr?zr.page.len(Be.length):_r._iDisplayLength=Be.length),Be.start!==void 0&&(zr===null?(_r._iDisplayStart=Be.start,_r.iInitDisplayStart=Be.start):_fnPageChange(_r,Be.start/_r._iDisplayLength)),Be.order!==void 0&&(_r.aaSorting=[],$$2.each(Be.order,function(Wr,Kr){_r.aaSorting.push(Kr[0]>=Br.length?[0,Kr[1]]:Kr)})),Be.search!==void 0&&$$2.extend(_r.oPreviousSearch,_fnSearchToHung(Be.search)),Be.columns){for(Mr=0,$r=Be.columns.length;Mr<$r;Mr++){var Gr=Be.columns[Mr];Gr.visible!==void 0&&(zr?zr.column(Mr).visible(Gr.visible,!1):Br[Mr].bVisible=Gr.visible),Gr.search!==void 0&&$$2.extend(_r.aoPreSearchCols[Mr],_fnSearchToHung(Gr.search))}zr&&zr.columns.adjust()}_r._bLoadingState=!1,_fnCallbackFire(_r,"aoStateLoaded","stateLoaded",[_r,Be]),Dr()}function _fnSettingsFromNode(_r){var Be=DataTable.settings,Dr=$$2.inArray(_r,_pluck(Be,"nTable"));return Dr!==-1?Be[Dr]:null}function _fnLog(_r,Be,Dr,Mr){if(Dr="DataTables warning: "+(_r?"table id="+_r.sTableId+" - ":"")+Dr,Mr&&(Dr+=". For more information about this error, please see http://datatables.net/tn/"+Mr),Be)window.console&&console.log&&console.log(Dr);else{var $r=DataTable.ext,Br=$r.sErrMode||$r.errMode;if(_r&&_fnCallbackFire(_r,null,"error",[_r,Mr,Dr]),Br=="alert")alert(Dr);else{if(Br=="throw")throw new Error(Dr);typeof Br=="function"&&Br(_r,Mr,Dr)}}}function _fnMap(_r,Be,Dr,Mr){if(Array.isArray(Dr)){$$2.each(Dr,function($r,Br){Array.isArray(Br)?_fnMap(_r,Be,Br[0],Br[1]):_fnMap(_r,Be,Br)});return}Mr===void 0&&(Mr=Dr),Be[Dr]!==void 0&&(_r[Mr]=Be[Dr])}function _fnExtend(_r,Be,Dr){var Mr;for(var $r in Be)Be.hasOwnProperty($r)&&(Mr=Be[$r],$$2.isPlainObject(Mr)?($$2.isPlainObject(_r[$r])||(_r[$r]={}),$$2.extend(!0,_r[$r],Mr)):Dr&&$r!=="data"&&$r!=="aaData"&&Array.isArray(Mr)?_r[$r]=Mr.slice():_r[$r]=Mr);return _r}function _fnBindAction(_r,Be,Dr){$$2(_r).on("click.DT",Be,function(Mr){$$2(_r).trigger("blur"),Dr(Mr)}).on("keypress.DT",Be,function(Mr){Mr.which===13&&(Mr.preventDefault(),Dr(Mr))}).on("selectstart.DT",function(){return!1})}function _fnCallbackReg(_r,Be,Dr,Mr){Dr&&_r[Be].push({fn:Dr,sName:Mr})}function _fnCallbackFire(_r,Be,Dr,Mr){var $r=[];if(Be&&($r=$$2.map(_r[Be].slice().reverse(),function(Vr,jr){return Vr.fn.apply(_r.oInstance,Mr)})),Dr!==null){var Br=$$2.Event(Dr+".dt"),zr=$$2(_r.nTable);zr.trigger(Br,Mr),zr.parents("body").length===0&&$$2("body").trigger(Br,Mr),$r.push(Br.result)}return $r}function _fnLengthOverflow(_r){var Be=_r._iDisplayStart,Dr=_r.fnDisplayEnd(),Mr=_r._iDisplayLength;Be>=Dr&&(Be=Dr-Mr),Be-=Be%Mr,(Mr===-1||Be<0)&&(Be=0),_r._iDisplayStart=Be}function _fnRenderer(_r,Be){var Dr=_r.renderer,Mr=DataTable.ext.renderer[Be];return $$2.isPlainObject(Dr)&&Dr[Be]?Mr[Dr[Be]]||Mr._:typeof Dr=="string"&&Mr[Dr]||Mr._}function _fnDataSource(_r){return _r.oFeatures.bServerSide?"ssp":_r.ajax||_r.sAjaxSource?"ajax":"dom"}var __apiStruct=[],__arrayProto=Array.prototype,_toSettings=function(_r){var Be,Dr,Mr=DataTable.settings,$r=$$2.map(Mr,function(Br,zr){return Br.nTable});if(_r){if(_r.nTable&&_r.oApi)return[_r];if(_r.nodeName&&_r.nodeName.toLowerCase()==="table")return Be=$$2.inArray(_r,$r),Be!==-1?[Mr[Be]]:null;if(_r&&typeof _r.settings=="function")return _r.settings().toArray();typeof _r=="string"?Dr=$$2(_r):_r instanceof $$2&&(Dr=_r)}else return[];if(Dr)return Dr.map(function(Br){return Be=$$2.inArray(this,$r),Be!==-1?Mr[Be]:null}).toArray()};_Api=function(_r,Be){if(!(this instanceof _Api))return new _Api(_r,Be);var Dr=[],Mr=function(zr){var Vr=_toSettings(zr);Vr&&Dr.push.apply(Dr,Vr)};if(Array.isArray(_r))for(var $r=0,Br=_r.length;$r<Br;$r++)Mr(_r[$r]);else Mr(_r);this.context=_unique(Dr),Be&&$$2.merge(this,Be),this.selector={rows:null,cols:null,opts:null},_Api.extend(this,this,__apiStruct)};DataTable.Api=_Api;$$2.extend(_Api.prototype,{any:function(){return this.count()!==0},concat:__arrayProto.concat,context:[],count:function(){return this.flatten().length},each:function(_r){for(var Be=0,Dr=this.length;Be<Dr;Be++)_r.call(this,this[Be],Be,this);return this},eq:function(_r){var Be=this.context;return Be.length>_r?new _Api(Be[_r],this[_r]):null},filter:function(_r){var Be=[];if(__arrayProto.filter)Be=__arrayProto.filter.call(this,_r,this);else for(var Dr=0,Mr=this.length;Dr<Mr;Dr++)_r.call(this,this[Dr],Dr,this)&&Be.push(this[Dr]);return new _Api(this.context,Be)},flatten:function(){var _r=[];return new _Api(this.context,_r.concat.apply(_r,this.toArray()))},join:__arrayProto.join,indexOf:__arrayProto.indexOf||function(_r,Be){for(var Dr=Be||0,Mr=this.length;Dr<Mr;Dr++)if(this[Dr]===_r)return Dr;return-1},iterator:function(_r,Be,Dr,Mr){var $r=[],Br,zr,Vr,jr,Gr,Wr=this.context,Kr,Zr,Jr,rn=this.selector;for(typeof _r=="string"&&(Mr=Dr,Dr=Be,Be=_r,_r=!1),zr=0,Vr=Wr.length;zr<Vr;zr++){var nn=new _Api(Wr[zr]);if(Be==="table")Br=Dr.call(nn,Wr[zr],zr),Br!==void 0&&$r.push(Br);else if(Be==="columns"||Be==="rows")Br=Dr.call(nn,Wr[zr],this[zr],zr),Br!==void 0&&$r.push(Br);else if(Be==="column"||Be==="column-rows"||Be==="row"||Be==="cell")for(Zr=this[zr],Be==="column-rows"&&(Kr=_selector_row_indexes(Wr[zr],rn.opts)),jr=0,Gr=Zr.length;jr<Gr;jr++)Jr=Zr[jr],Be==="cell"?Br=Dr.call(nn,Wr[zr],Jr.row,Jr.column,zr,jr):Br=Dr.call(nn,Wr[zr],Jr,zr,jr,Kr),Br!==void 0&&$r.push(Br)}if($r.length||Mr){var ln=new _Api(Wr,_r?$r.concat.apply([],$r):$r),cn=ln.selector;return cn.rows=rn.rows,cn.cols=rn.cols,cn.opts=rn.opts,ln}return this},lastIndexOf:__arrayProto.lastIndexOf||function(_r,Be){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(_r){var Be=[];if(__arrayProto.map)Be=__arrayProto.map.call(this,_r,this);else for(var Dr=0,Mr=this.length;Dr<Mr;Dr++)Be.push(_r.call(this,this[Dr],Dr));return new _Api(this.context,Be)},pluck:function(_r){var Be=DataTable.util.get(_r);return this.map(function(Dr){return Be(Dr)})},pop:__arrayProto.pop,push:__arrayProto.push,reduce:__arrayProto.reduce||function(_r,Be){return _fnReduce(this,_r,Be,0,this.length,1)},reduceRight:__arrayProto.reduceRight||function(_r,Be){return _fnReduce(this,_r,Be,this.length-1,-1,-1)},reverse:__arrayProto.reverse,selector:null,shift:__arrayProto.shift,slice:function(){return new _Api(this.context,this)},sort:__arrayProto.sort,splice:__arrayProto.splice,toArray:function(){return __arrayProto.slice.call(this)},to$:function(){return $$2(this)},toJQuery:function(){return $$2(this)},unique:function(){return new _Api(this.context,_unique(this))},unshift:__arrayProto.unshift});_Api.extend=function(_r,Be,Dr){if(!(!Dr.length||!Be||!(Be instanceof _Api)&&!Be.__dt_wrapper)){var Mr,$r,Br,zr=function(Vr,jr,Gr){return function(){var Wr=jr.apply(Vr,arguments);return _Api.extend(Wr,Wr,Gr.methodExt),Wr}};for(Mr=0,$r=Dr.length;Mr<$r;Mr++)Br=Dr[Mr],Be[Br.name]=Br.type==="function"?zr(_r,Br.val,Br):Br.type==="object"?{}:Br.val,Be[Br.name].__dt_wrapper=!0,_Api.extend(_r,Be[Br.name],Br.propExt)}};_Api.register=_api_register=function(_r,Be){if(Array.isArray(_r)){for(var Dr=0,Mr=_r.length;Dr<Mr;Dr++)_Api.register(_r[Dr],Be);return}var $r,Br,zr=_r.split("."),Vr=__apiStruct,jr,Gr,Wr=function(Zr,Jr){for(var rn=0,nn=Zr.length;rn<nn;rn++)if(Zr[rn].name===Jr)return Zr[rn];return null};for($r=0,Br=zr.length;$r<Br;$r++){Gr=zr[$r].indexOf("()")!==-1,jr=Gr?zr[$r].replace("()",""):zr[$r];var Kr=Wr(Vr,jr);Kr||(Kr={name:jr,val:{},methodExt:[],propExt:[],type:"object"},Vr.push(Kr)),$r===Br-1?(Kr.val=Be,Kr.type=typeof Be=="function"?"function":$$2.isPlainObject(Be)?"object":"other"):Vr=Gr?Kr.methodExt:Kr.propExt}};_Api.registerPlural=_api_registerPlural=function(_r,Be,Dr){_Api.register(_r,Dr),_Api.register(Be,function(){var Mr=Dr.apply(this,arguments);return Mr===this?this:Mr instanceof _Api?Mr.length?Array.isArray(Mr[0])?new _Api(Mr.context,Mr[0]):Mr[0]:void 0:Mr})};var __table_selector=function(_r,Be){if(Array.isArray(_r))return $$2.map(_r,function(Mr){return __table_selector(Mr,Be)});if(typeof _r=="number")return[Be[_r]];var Dr=$$2.map(Be,function(Mr,$r){return Mr.nTable});return $$2(Dr).filter(_r).map(function(Mr){var $r=$$2.inArray(this,Dr);return Be[$r]}).toArray()};_api_register("tables()",function(_r){return _r!=null?new _Api(__table_selector(_r,this.context)):this});_api_register("table()",function(_r){var Be=this.tables(_r),Dr=Be.context;return Dr.length?new _Api(Dr[0]):Be});_api_registerPlural("tables().nodes()","table().node()",function(){return this.iterator("table",function(_r){return _r.nTable},1)});_api_registerPlural("tables().body()","table().body()",function(){return this.iterator("table",function(_r){return _r.nTBody},1)});_api_registerPlural("tables().header()","table().header()",function(){return this.iterator("table",function(_r){return _r.nTHead},1)});_api_registerPlural("tables().footer()","table().footer()",function(){return this.iterator("table",function(_r){return _r.nTFoot},1)});_api_registerPlural("tables().containers()","table().container()",function(){return this.iterator("table",function(_r){return _r.nTableWrapper},1)});_api_register("draw()",function(_r){return this.iterator("table",function(Be){_r==="page"?_fnDraw(Be):(typeof _r=="string"&&(_r=_r!=="full-hold"),_fnReDraw(Be,_r===!1))})});_api_register("page()",function(_r){return _r===void 0?this.page.info().page:this.iterator("table",function(Be){_fnPageChange(Be,_r)})});_api_register("page.info()",function(_r){if(this.context.length!==0){var Be=this.context[0],Dr=Be._iDisplayStart,Mr=Be.oFeatures.bPaginate?Be._iDisplayLength:-1,$r=Be.fnRecordsDisplay(),Br=Mr===-1;return{page:Br?0:Math.floor(Dr/Mr),pages:Br?1:Math.ceil($r/Mr),start:Dr,end:Be.fnDisplayEnd(),length:Mr,recordsTotal:Be.fnRecordsTotal(),recordsDisplay:$r,serverSide:_fnDataSource(Be)==="ssp"}}});_api_register("page.len()",function(_r){return _r===void 0?this.context.length!==0?this.context[0]._iDisplayLength:void 0:this.iterator("table",function(Be){_fnLengthChange(Be,_r)})});var __reload=function(_r,Be,Dr){if(Dr){var Mr=new _Api(_r);Mr.one("draw",function(){Dr(Mr.ajax.json())})}if(_fnDataSource(_r)=="ssp")_fnReDraw(_r,Be);else{_fnProcessingDisplay(_r,!0);var $r=_r.jqXHR;$r&&$r.readyState!==4&&$r.abort(),_fnBuildAjax(_r,[],function(Br){_fnClearTable(_r);for(var zr=_fnAjaxDataSrc(_r,Br),Vr=0,jr=zr.length;Vr<jr;Vr++)_fnAddData(_r,zr[Vr]);_fnReDraw(_r,Be),_fnProcessingDisplay(_r,!1)})}};_api_register("ajax.json()",function(){var _r=this.context;if(_r.length>0)return _r[0].json});_api_register("ajax.params()",function(){var _r=this.context;if(_r.length>0)return _r[0].oAjaxData});_api_register("ajax.reload()",function(_r,Be){return this.iterator("table",function(Dr){__reload(Dr,Be===!1,_r)})});_api_register("ajax.url()",function(_r){var Be=this.context;return _r===void 0?Be.length===0?void 0:(Be=Be[0],Be.ajax?$$2.isPlainObject(Be.ajax)?Be.ajax.url:Be.ajax:Be.sAjaxSource):this.iterator("table",function(Dr){$$2.isPlainObject(Dr.ajax)?Dr.ajax.url=_r:Dr.ajax=_r})});_api_register("ajax.url().load()",function(_r,Be){return this.iterator("table",function(Dr){__reload(Dr,Be===!1,_r)})});var _selector_run=function(_r,Be,Dr,Mr,$r){var Br=[],zr,Vr,jr,Gr,Wr,Kr,Zr=typeof Be;for((!Be||Zr==="string"||Zr==="function"||Be.length===void 0)&&(Be=[Be]),jr=0,Gr=Be.length;jr<Gr;jr++)for(Vr=Be[jr]&&Be[jr].split&&!Be[jr].match(/[\[\(:]/)?Be[jr].split(","):[Be[jr]],Wr=0,Kr=Vr.length;Wr<Kr;Wr++)zr=Dr(typeof Vr[Wr]=="string"?Vr[Wr].trim():Vr[Wr]),zr&&zr.length&&(Br=Br.concat(zr));var Jr=_ext.selector[_r];if(Jr.length)for(jr=0,Gr=Jr.length;jr<Gr;jr++)Br=Jr[jr](Mr,$r,Br);return _unique(Br)},_selector_opts=function(_r){return _r||(_r={}),_r.filter&&_r.search===void 0&&(_r.search=_r.filter),$$2.extend({search:"none",order:"current",page:"all"},_r)},_selector_first=function(_r){for(var Be=0,Dr=_r.length;Be<Dr;Be++)if(_r[Be].length>0)return _r[0]=_r[Be],_r[0].length=1,_r.length=1,_r.context=[_r.context[Be]],_r;return _r.length=0,_r},_selector_row_indexes=function(_r,Be){var Dr,Mr,$r,Br=[],zr=_r.aiDisplay,Vr=_r.aiDisplayMaster,jr=Be.search,Gr=Be.order,Wr=Be.page;if(_fnDataSource(_r)=="ssp")return jr==="removed"?[]:_range(0,Vr.length);if(Wr=="current")for(Dr=_r._iDisplayStart,Mr=_r.fnDisplayEnd();Dr<Mr;Dr++)Br.push(zr[Dr]);else if(Gr=="current"||Gr=="applied"){if(jr=="none")Br=Vr.slice();else if(jr=="applied")Br=zr.slice();else if(jr=="removed"){for(var Kr={},Dr=0,Mr=zr.length;Dr<Mr;Dr++)Kr[zr[Dr]]=null;Br=$$2.map(Vr,function(Zr){return Kr.hasOwnProperty(Zr)?null:Zr})}}else if(Gr=="index"||Gr=="original")for(Dr=0,Mr=_r.aoData.length;Dr<Mr;Dr++)jr=="none"?Br.push(Dr):($r=$$2.inArray(Dr,zr),($r===-1&&jr=="removed"||$r>=0&&jr=="applied")&&Br.push(Dr));return Br},__row_selector=function(_r,Be,Dr){var Mr,$r=function(Br){var zr=_intVal(Br),Vr=_r.aoData;if(zr!==null&&!Dr)return[zr];if(Mr||(Mr=_selector_row_indexes(_r,Dr)),zr!==null&&$$2.inArray(zr,Mr)!==-1)return[zr];if(Br==null||Br==="")return Mr;if(typeof Br=="function")return $$2.map(Mr,function(Jr){var rn=Vr[Jr];return Br(Jr,rn._aData,rn.nTr)?Jr:null});if(Br.nodeName){var jr=Br._DT_RowIndex,Gr=Br._DT_CellIndex;if(jr!==void 0)return Vr[jr]&&Vr[jr].nTr===Br?[jr]:[];if(Gr)return Vr[Gr.row]&&Vr[Gr.row].nTr===Br.parentNode?[Gr.row]:[];var Wr=$$2(Br).closest("*[data-dt-row]");return Wr.length?[Wr.data("dt-row")]:[]}if(typeof Br=="string"&&Br.charAt(0)==="#"){var Kr=_r.aIds[Br.replace(/^#/,"")];if(Kr!==void 0)return[Kr.idx]}var Zr=_removeEmpty(_pluck_order(_r.aoData,Mr,"nTr"));return $$2(Zr).filter(Br).map(function(){return this._DT_RowIndex}).toArray()};return _selector_run("row",Be,$r,_r,Dr)};_api_register("rows()",function(_r,Be){_r===void 0?_r="":$$2.isPlainObject(_r)&&(Be=_r,_r=""),Be=_selector_opts(Be);var Dr=this.iterator("table",function(Mr){return __row_selector(Mr,_r,Be)},1);return Dr.selector.rows=_r,Dr.selector.opts=Be,Dr});_api_register("rows().nodes()",function(){return this.iterator("row",function(_r,Be){return _r.aoData[Be].nTr||void 0},1)});_api_register("rows().data()",function(){return this.iterator(!0,"rows",function(_r,Be){return _pluck_order(_r.aoData,Be,"_aData")},1)});_api_registerPlural("rows().cache()","row().cache()",function(_r){return this.iterator("row",function(Be,Dr){var Mr=Be.aoData[Dr];return _r==="search"?Mr._aFilterData:Mr._aSortData},1)});_api_registerPlural("rows().invalidate()","row().invalidate()",function(_r){return this.iterator("row",function(Be,Dr){_fnInvalidate(Be,Dr,_r)})});_api_registerPlural("rows().indexes()","row().index()",function(){return this.iterator("row",function(_r,Be){return Be},1)});_api_registerPlural("rows().ids()","row().id()",function(_r){for(var Be=[],Dr=this.context,Mr=0,$r=Dr.length;Mr<$r;Mr++)for(var Br=0,zr=this[Mr].length;Br<zr;Br++){var Vr=Dr[Mr].rowIdFn(Dr[Mr].aoData[this[Mr][Br]]._aData);Be.push((_r===!0?"#":"")+Vr)}return new _Api(Dr,Be)});_api_registerPlural("rows().remove()","row().remove()",function(){var _r=this;return this.iterator("row",function(Be,Dr,Mr){var $r=Be.aoData,Br=$r[Dr],zr,Vr,jr,Gr,Wr,Kr;for($r.splice(Dr,1),zr=0,Vr=$r.length;zr<Vr;zr++)if(Wr=$r[zr],Kr=Wr.anCells,Wr.nTr!==null&&(Wr.nTr._DT_RowIndex=zr),Kr!==null)for(jr=0,Gr=Kr.length;jr<Gr;jr++)Kr[jr]._DT_CellIndex.row=zr;_fnDeleteIndex(Be.aiDisplayMaster,Dr),_fnDeleteIndex(Be.aiDisplay,Dr),_fnDeleteIndex(_r[Mr],Dr,!1),Be._iRecordsDisplay>0&&Be._iRecordsDisplay--,_fnLengthOverflow(Be);var Zr=Be.rowIdFn(Br._aData);Zr!==void 0&&delete Be.aIds[Zr]}),this.iterator("table",function(Be){for(var Dr=0,Mr=Be.aoData.length;Dr<Mr;Dr++)Be.aoData[Dr].idx=Dr}),this});_api_register("rows.add()",function(_r){var Be=this.iterator("table",function(Mr){var $r,Br,zr,Vr=[];for(Br=0,zr=_r.length;Br<zr;Br++)$r=_r[Br],$r.nodeName&&$r.nodeName.toUpperCase()==="TR"?Vr.push(_fnAddTr(Mr,$r)[0]):Vr.push(_fnAddData(Mr,$r));return Vr},1),Dr=this.rows(-1);return Dr.pop(),$$2.merge(Dr,Be),Dr});_api_register("row()",function(_r,Be){return _selector_first(this.rows(_r,Be))});_api_register("row().data()",function(_r){var Be=this.context;if(_r===void 0)return Be.length&&this.length?Be[0].aoData[this[0]]._aData:void 0;var Dr=Be[0].aoData[this[0]];return Dr._aData=_r,Array.isArray(_r)&&Dr.nTr&&Dr.nTr.id&&_fnSetObjectDataFn(Be[0].rowId)(_r,Dr.nTr.id),_fnInvalidate(Be[0],this[0],"data"),this});_api_register("row().node()",function(){var _r=this.context;return _r.length&&this.length&&_r[0].aoData[this[0]].nTr||null});_api_register("row.add()",function(_r){_r instanceof $$2&&_r.length&&(_r=_r[0]);var Be=this.iterator("table",function(Dr){return _r.nodeName&&_r.nodeName.toUpperCase()==="TR"?_fnAddTr(Dr,_r)[0]:_fnAddData(Dr,_r)});return this.row(Be[0])});$$2(document).on("plugin-init.dt",function(_r,Be){var Dr=new _Api(Be),Mr="on-plugin-init",$r="stateSaveParams."+Mr,Br="destroy. "+Mr;Dr.on($r,function(Vr,jr,Gr){for(var Wr=jr.rowIdFn,Kr=jr.aoData,Zr=[],Jr=0;Jr<Kr.length;Jr++)Kr[Jr]._detailsShow&&Zr.push("#"+Wr(Kr[Jr]._aData));Gr.childRows=Zr}),Dr.on(Br,function(){Dr.off($r+" "+Br)});var zr=Dr.state.loaded();zr&&zr.childRows&&Dr.rows($$2.map(zr.childRows,function(Vr){return Vr.replace(/:/g,"\\:")})).every(function(){_fnCallbackFire(Be,null,"requestChild",[this])})});var __details_add=function(_r,Be,Dr,Mr){var $r=[],Br=function(zr,Vr){if(Array.isArray(zr)||zr instanceof $$2){for(var jr=0,Gr=zr.length;jr<Gr;jr++)Br(zr[jr],Vr);return}if(zr.nodeName&&zr.nodeName.toLowerCase()==="tr")$r.push(zr);else{var Wr=$$2("<tr><td></td></tr>").addClass(Vr);$$2("td",Wr).addClass(Vr).html(zr)[0].colSpan=_fnVisbleColumns(_r),$r.push(Wr[0])}};Br(Dr,Mr),Be._details&&Be._details.detach(),Be._details=$$2($r),Be._detailsShow&&Be._details.insertAfter(Be.nTr)},__details_state=DataTable.util.throttle(function(_r){_fnSaveState(_r[0])},500),__details_remove=function(_r,Be){var Dr=_r.context;if(Dr.length){var Mr=Dr[0].aoData[Be!==void 0?Be:_r[0]];Mr&&Mr._details&&(Mr._details.remove(),Mr._detailsShow=void 0,Mr._details=void 0,$$2(Mr.nTr).removeClass("dt-hasChild"),__details_state(Dr))}},__details_display=function(_r,Be){var Dr=_r.context;if(Dr.length&&_r.length){var Mr=Dr[0].aoData[_r[0]];Mr._details&&(Mr._detailsShow=Be,Be?(Mr._details.insertAfter(Mr.nTr),$$2(Mr.nTr).addClass("dt-hasChild")):(Mr._details.detach(),$$2(Mr.nTr).removeClass("dt-hasChild")),_fnCallbackFire(Dr[0],null,"childRow",[Be,_r.row(_r[0])]),__details_events(Dr[0]),__details_state(Dr))}},__details_events=function(_r){var Be=new _Api(_r),Dr=".dt.DT_details",Mr="draw"+Dr,$r="column-sizing"+Dr,Br="destroy"+Dr,zr=_r.aoData;Be.off(Mr+" "+$r+" "+Br),_pluck(zr,"_details").length>0&&(Be.on(Mr,function(Vr,jr){_r===jr&&Be.rows({page:"current"}).eq(0).each(function(Gr){var Wr=zr[Gr];Wr._detailsShow&&Wr._details.insertAfter(Wr.nTr)})}),Be.on($r,function(Vr,jr,Gr,Wr){if(_r===jr)for(var Kr,Zr=_fnVisbleColumns(jr),Jr=0,rn=zr.length;Jr<rn;Jr++)Kr=zr[Jr],Kr._details&&Kr._details.children("td[colspan]").attr("colspan",Zr)}),Be.on(Br,function(Vr,jr){if(_r===jr)for(var Gr=0,Wr=zr.length;Gr<Wr;Gr++)zr[Gr]._details&&__details_remove(Be,Gr)}))},_emp="",_child_obj=_emp+"row().child",_child_mth=_child_obj+"()";_api_register(_child_mth,function(_r,Be){var Dr=this.context;return _r===void 0?Dr.length&&this.length?Dr[0].aoData[this[0]]._details:void 0:(_r===!0?this.child.show():_r===!1?__details_remove(this):Dr.length&&this.length&&__details_add(Dr[0],Dr[0].aoData[this[0]],_r,Be),this)});_api_register([_child_obj+".show()",_child_mth+".show()"],function(_r){return __details_display(this,!0),this});_api_register([_child_obj+".hide()",_child_mth+".hide()"],function(){return __details_display(this,!1),this});_api_register([_child_obj+".remove()",_child_mth+".remove()"],function(){return __details_remove(this),this});_api_register(_child_obj+".isShown()",function(){var _r=this.context;return _r.length&&this.length&&_r[0].aoData[this[0]]._detailsShow||!1});var __re_column_selector=/^([^:]+):(name|visIdx|visible)$/,__columnData=function(_r,Be,Dr,Mr,$r){for(var Br=[],zr=0,Vr=$r.length;zr<Vr;zr++)Br.push(_fnGetCellData(_r,$r[zr],Be));return Br},__column_selector=function(_r,Be,Dr){var Mr=_r.aoColumns,$r=_pluck(Mr,"sName"),Br=_pluck(Mr,"nTh"),zr=function(Vr){var jr=_intVal(Vr);if(Vr==="")return _range(Mr.length);if(jr!==null)return[jr>=0?jr:Mr.length+jr];if(typeof Vr=="function"){var Gr=_selector_row_indexes(_r,Dr);return $$2.map(Mr,function(nn,ln){return Vr(ln,__columnData(_r,ln,0,0,Gr),Br[ln])?ln:null})}var Wr=typeof Vr=="string"?Vr.match(__re_column_selector):"";if(Wr)switch(Wr[2]){case"visIdx":case"visible":var Kr=parseInt(Wr[1],10);if(Kr<0){var Zr=$$2.map(Mr,function(nn,ln){return nn.bVisible?ln:null});return[Zr[Zr.length+Kr]]}return[_fnVisibleToColumnIndex(_r,Kr)];case"name":return $$2.map($r,function(nn,ln){return nn===Wr[1]?ln:null});default:return[]}if(Vr.nodeName&&Vr._DT_CellIndex)return[Vr._DT_CellIndex.column];var Jr=$$2(Br).filter(Vr).map(function(){return $$2.inArray(this,Br)}).toArray();if(Jr.length||!Vr.nodeName)return Jr;var rn=$$2(Vr).closest("*[data-dt-column]");return rn.length?[rn.data("dt-column")]:[]};return _selector_run("column",Be,zr,_r,Dr)},__setColumnVis=function(_r,Be,Dr){var Mr=_r.aoColumns,$r=Mr[Be],Br=_r.aoData,zr,Vr,jr,Gr;if(Dr===void 0)return $r.bVisible;if($r.bVisible!==Dr){if(Dr){var Wr=$$2.inArray(!0,_pluck(Mr,"bVisible"),Be+1);for(Vr=0,jr=Br.length;Vr<jr;Vr++)Gr=Br[Vr].nTr,zr=Br[Vr].anCells,Gr&&Gr.insertBefore(zr[Be],zr[Wr]||null)}else $$2(_pluck(_r.aoData,"anCells",Be)).detach();$r.bVisible=Dr}};_api_register("columns()",function(_r,Be){_r===void 0?_r="":$$2.isPlainObject(_r)&&(Be=_r,_r=""),Be=_selector_opts(Be);var Dr=this.iterator("table",function(Mr){return __column_selector(Mr,_r,Be)},1);return Dr.selector.cols=_r,Dr.selector.opts=Be,Dr});_api_registerPlural("columns().header()","column().header()",function(_r,Be){return this.iterator("column",function(Dr,Mr){return Dr.aoColumns[Mr].nTh},1)});_api_registerPlural("columns().footer()","column().footer()",function(_r,Be){return this.iterator("column",function(Dr,Mr){return Dr.aoColumns[Mr].nTf},1)});_api_registerPlural("columns().data()","column().data()",function(){return this.iterator("column-rows",__columnData,1)});_api_registerPlural("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(_r,Be){return _r.aoColumns[Be].mData},1)});_api_registerPlural("columns().cache()","column().cache()",function(_r){return this.iterator("column-rows",function(Be,Dr,Mr,$r,Br){return _pluck_order(Be.aoData,Br,_r==="search"?"_aFilterData":"_aSortData",Dr)},1)});_api_registerPlural("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(_r,Be,Dr,Mr,$r){return _pluck_order(_r.aoData,$r,"anCells",Be)},1)});_api_registerPlural("columns().visible()","column().visible()",function(_r,Be){var Dr=this,Mr=this.iterator("column",function($r,Br){if(_r===void 0)return $r.aoColumns[Br].bVisible;__setColumnVis($r,Br,_r)});return _r!==void 0&&this.iterator("table",function($r){_fnDrawHead($r,$r.aoHeader),_fnDrawHead($r,$r.aoFooter),$r.aiDisplay.length||$$2($r.nTBody).find("td[colspan]").attr("colspan",_fnVisbleColumns($r)),_fnSaveState($r),Dr.iterator("column",function(Br,zr){_fnCallbackFire(Br,null,"column-visibility",[Br,zr,_r,Be])}),(Be===void 0||Be)&&Dr.columns.adjust()}),Mr});_api_registerPlural("columns().indexes()","column().index()",function(_r){return this.iterator("column",function(Be,Dr){return _r==="visible"?_fnColumnIndexToVisible(Be,Dr):Dr},1)});_api_register("columns.adjust()",function(){return this.iterator("table",function(_r){_fnAdjustColumnSizing(_r)},1)});_api_register("column.index()",function(_r,Be){if(this.context.length!==0){var Dr=this.context[0];if(_r==="fromVisible"||_r==="toData")return _fnVisibleToColumnIndex(Dr,Be);if(_r==="fromData"||_r==="toVisible")return _fnColumnIndexToVisible(Dr,Be)}});_api_register("column()",function(_r,Be){return _selector_first(this.columns(_r,Be))});var __cell_selector=function(_r,Be,Dr){var Mr=_r.aoData,$r=_selector_row_indexes(_r,Dr),Br=_removeEmpty(_pluck_order(Mr,$r,"anCells")),zr=$$2(_flatten([],Br)),Vr,jr=_r.aoColumns.length,Gr,Wr,Kr,Zr,Jr,rn,nn=function(ln){var cn=typeof ln=="function";if(ln==null||cn){for(Gr=[],Wr=0,Kr=$r.length;Wr<Kr;Wr++)for(Vr=$r[Wr],Zr=0;Zr<jr;Zr++)Jr={row:Vr,column:Zr},cn?(rn=Mr[Vr],ln(Jr,_fnGetCellData(_r,Vr,Zr),rn.anCells?rn.anCells[Zr]:null)&&Gr.push(Jr)):Gr.push(Jr);return Gr}if($$2.isPlainObject(ln))return ln.column!==void 0&&ln.row!==void 0&&$$2.inArray(ln.row,$r)!==-1?[ln]:[];var hn=zr.filter(ln).map(function(mn,bn){return{row:bn._DT_CellIndex.row,column:bn._DT_CellIndex.column}}).toArray();return hn.length||!ln.nodeName?hn:(rn=$$2(ln).closest("*[data-dt-row]"),rn.length?[{row:rn.data("dt-row"),column:rn.data("dt-column")}]:[])};return _selector_run("cell",Be,nn,_r,Dr)};_api_register("cells()",function(_r,Be,Dr){if($$2.isPlainObject(_r)&&(_r.row===void 0?(Dr=_r,_r=null):(Dr=Be,Be=null)),$$2.isPlainObject(Be)&&(Dr=Be,Be=null),Be==null)return this.iterator("table",function(Zr){return __cell_selector(Zr,_r,_selector_opts(Dr))});var Mr=Dr?{page:Dr.page,order:Dr.order,search:Dr.search}:{},$r=this.columns(Be,Mr),Br=this.rows(_r,Mr),zr,Vr,jr,Gr,Wr=this.iterator("table",function(Zr,Jr){var rn=[];for(zr=0,Vr=Br[Jr].length;zr<Vr;zr++)for(jr=0,Gr=$r[Jr].length;jr<Gr;jr++)rn.push({row:Br[Jr][zr],column:$r[Jr][jr]});return rn},1),Kr=Dr&&Dr.selected?this.cells(Wr,Dr):Wr;return $$2.extend(Kr.selector,{cols:Be,rows:_r,opts:Dr}),Kr});_api_registerPlural("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(_r,Be,Dr){var Mr=_r.aoData[Be];return Mr&&Mr.anCells?Mr.anCells[Dr]:void 0},1)});_api_register("cells().data()",function(){return this.iterator("cell",function(_r,Be,Dr){return _fnGetCellData(_r,Be,Dr)},1)});_api_registerPlural("cells().cache()","cell().cache()",function(_r){return _r=_r==="search"?"_aFilterData":"_aSortData",this.iterator("cell",function(Be,Dr,Mr){return Be.aoData[Dr][_r][Mr]},1)});_api_registerPlural("cells().render()","cell().render()",function(_r){return this.iterator("cell",function(Be,Dr,Mr){return _fnGetCellData(Be,Dr,Mr,_r)},1)});_api_registerPlural("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(_r,Be,Dr){return{row:Be,column:Dr,columnVisible:_fnColumnIndexToVisible(_r,Dr)}},1)});_api_registerPlural("cells().invalidate()","cell().invalidate()",function(_r){return this.iterator("cell",function(Be,Dr,Mr){_fnInvalidate(Be,Dr,_r,Mr)})});_api_register("cell()",function(_r,Be,Dr){return _selector_first(this.cells(_r,Be,Dr))});_api_register("cell().data()",function(_r){var Be=this.context,Dr=this[0];return _r===void 0?Be.length&&Dr.length?_fnGetCellData(Be[0],Dr[0].row,Dr[0].column):void 0:(_fnSetCellData(Be[0],Dr[0].row,Dr[0].column,_r),_fnInvalidate(Be[0],Dr[0].row,"data",Dr[0].column),this)});_api_register("order()",function(_r,Be){var Dr=this.context;return _r===void 0?Dr.length!==0?Dr[0].aaSorting:void 0:(typeof _r=="number"?_r=[[_r,Be]]:_r.length&&!Array.isArray(_r[0])&&(_r=Array.prototype.slice.call(arguments)),this.iterator("table",function(Mr){Mr.aaSorting=_r.slice()}))});_api_register("order.listener()",function(_r,Be,Dr){return this.iterator("table",function(Mr){_fnSortAttachListener(Mr,_r,Be,Dr)})});_api_register("order.fixed()",function(_r){if(!_r){var Be=this.context,Dr=Be.length?Be[0].aaSortingFixed:void 0;return Array.isArray(Dr)?{pre:Dr}:Dr}return this.iterator("table",function(Mr){Mr.aaSortingFixed=$$2.extend(!0,{},_r)})});_api_register(["columns().order()","column().order()"],function(_r){var Be=this;return this.iterator("table",function(Dr,Mr){var $r=[];$$2.each(Be[Mr],function(Br,zr){$r.push([zr,_r])}),Dr.aaSorting=$r})});_api_register("search()",function(_r,Be,Dr,Mr){var $r=this.context;return _r===void 0?$r.length!==0?$r[0].oPreviousSearch.sSearch:void 0:this.iterator("table",function(Br){Br.oFeatures.bFilter&&_fnFilterComplete(Br,$$2.extend({},Br.oPreviousSearch,{sSearch:_r+"",bRegex:Be===null?!1:Be,bSmart:Dr===null?!0:Dr,bCaseInsensitive:Mr===null?!0:Mr}),1)})});_api_registerPlural("columns().search()","column().search()",function(_r,Be,Dr,Mr){return this.iterator("column",function($r,Br){var zr=$r.aoPreSearchCols;if(_r===void 0)return zr[Br].sSearch;$r.oFeatures.bFilter&&($$2.extend(zr[Br],{sSearch:_r+"",bRegex:Be===null?!1:Be,bSmart:Dr===null?!0:Dr,bCaseInsensitive:Mr===null?!0:Mr}),_fnFilterComplete($r,$r.oPreviousSearch,1))})});_api_register("state()",function(){return this.context.length?this.context[0].oSavedState:null});_api_register("state.clear()",function(){return this.iterator("table",function(_r){_r.fnStateSaveCallback.call(_r.oInstance,_r,{})})});_api_register("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});_api_register("state.save()",function(){return this.iterator("table",function(_r){_fnSaveState(_r)})});DataTable.use=function(_r,Be){Be==="lib"||_r.fn?$$2=_r:Be=="win"||_r.document?(window=_r,document=_r.document):(Be==="datetime"||_r.type==="DateTime")&&(DataTable.DateTime=_r)};DataTable.factory=function(_r,Be){var Dr=!1;return _r&&_r.document&&(window=_r,document=_r.document),Be&&Be.fn&&Be.fn.jquery&&($$2=Be,Dr=!0),Dr};DataTable.versionCheck=DataTable.fnVersionCheck=function(_r){for(var Be=DataTable.version.split("."),Dr=_r.split("."),Mr,$r,Br=0,zr=Dr.length;Br<zr;Br++)if(Mr=parseInt(Be[Br],10)||0,$r=parseInt(Dr[Br],10)||0,Mr!==$r)return Mr>$r;return!0};DataTable.isDataTable=DataTable.fnIsDataTable=function(_r){var Be=$$2(_r).get(0),Dr=!1;return _r instanceof DataTable.Api?!0:($$2.each(DataTable.settings,function(Mr,$r){var Br=$r.nScrollHead?$$2("table",$r.nScrollHead)[0]:null,zr=$r.nScrollFoot?$$2("table",$r.nScrollFoot)[0]:null;($r.nTable===Be||Br===Be||zr===Be)&&(Dr=!0)}),Dr)};DataTable.tables=DataTable.fnTables=function(_r){var Be=!1;$$2.isPlainObject(_r)&&(Be=_r.api,_r=_r.visible);var Dr=$$2.map(DataTable.settings,function(Mr){if(!_r||_r&&$$2(Mr.nTable).is(":visible"))return Mr.nTable});return Be?new _Api(Dr):Dr};DataTable.camelToHungarian=_fnCamelToHungarian;_api_register("$()",function(_r,Be){var Dr=this.rows(Be).nodes(),Mr=$$2(Dr);return $$2([].concat(Mr.filter(_r).toArray(),Mr.find(_r).toArray()))});$$2.each(["on","one","off"],function(_r,Be){_api_register(Be+"()",function(){var Dr=Array.prototype.slice.call(arguments);Dr[0]=$$2.map(Dr[0].split(/\s/),function($r){return $r.match(/\.dt\b/)?$r:$r+".dt"}).join(" ");var Mr=$$2(this.tables().nodes());return Mr[Be].apply(Mr,Dr),this})});_api_register("clear()",function(){return this.iterator("table",function(_r){_fnClearTable(_r)})});_api_register("settings()",function(){return new _Api(this.context,this.context)});_api_register("init()",function(){var _r=this.context;return _r.length?_r[0].oInit:null});_api_register("data()",function(){return this.iterator("table",function(_r){return _pluck(_r.aoData,"_aData")}).flatten()});_api_register("destroy()",function(_r){return _r=_r||!1,this.iterator("table",function(Be){var Dr=Be.oClasses,Mr=Be.nTable,$r=Be.nTBody,Br=Be.nTHead,zr=Be.nTFoot,Vr=$$2(Mr),jr=$$2($r),Gr=$$2(Be.nTableWrapper),Wr=$$2.map(Be.aoData,function(nn){return nn.nTr}),Kr;Be.bDestroying=!0,_fnCallbackFire(Be,"aoDestroyCallback","destroy",[Be]),_r||new _Api(Be).columns().visible(!0),Gr.off(".DT").find(":not(tbody *)").off(".DT"),$$2(window).off(".DT-"+Be.sInstance),Mr!=Br.parentNode&&(Vr.children("thead").detach(),Vr.append(Br)),zr&&Mr!=zr.parentNode&&(Vr.children("tfoot").detach(),Vr.append(zr)),Be.aaSorting=[],Be.aaSortingFixed=[],_fnSortingClasses(Be),$$2(Wr).removeClass(Be.asStripeClasses.join(" ")),$$2("th, td",Br).removeClass(Dr.sSortable+" "+Dr.sSortableAsc+" "+Dr.sSortableDesc+" "+Dr.sSortableNone),jr.children().detach(),jr.append(Wr);var Zr=Be.nTableWrapper.parentNode,Jr=_r?"remove":"detach";Vr[Jr](),Gr[Jr](),!_r&&Zr&&(Zr.insertBefore(Mr,Be.nTableReinsertBefore),Vr.css("width",Be.sDestroyWidth).removeClass(Dr.sTable),Kr=Be.asDestroyStripes.length,Kr&&jr.children().each(function(nn){$$2(this).addClass(Be.asDestroyStripes[nn%Kr])}));var rn=$$2.inArray(Be,DataTable.settings);rn!==-1&&DataTable.settings.splice(rn,1)})});$$2.each(["column","row","cell"],function(_r,Be){_api_register(Be+"s().every()",function(Dr){var Mr=this.selector.opts,$r=this;return this.iterator(Be,function(Br,zr,Vr,jr,Gr){Dr.call($r[Be](zr,Be==="cell"?Vr:Mr,Be==="cell"?Mr:void 0),zr,Vr,jr,Gr)})})});_api_register("i18n()",function(_r,Be,Dr){var Mr=this.context[0],$r=_fnGetObjectDataFn(_r)(Mr.oLanguage);return $r===void 0&&($r=Be),Dr!==void 0&&$$2.isPlainObject($r)&&($r=$r[Dr]!==void 0?$r[Dr]:$r._),typeof $r=="string"?$r.replace("%d",Dr):$r});DataTable.version="1.13.5";DataTable.settings=[];DataTable.models={};DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1};DataTable.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};DataTable.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(_r){return _r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(_r){try{return JSON.parse((_r.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+_r.sInstance+"_"+location.pathname))}catch{return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(_r,Be){try{(_r.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+_r.sInstance+"_"+location.pathname,JSON.stringify(Be))}catch{}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$$2.extend({},DataTable.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};_fnHungarianMap(DataTable.defaults);DataTable.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};_fnHungarianMap(DataTable.defaults.column);DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:void 0,oAjaxData:void 0,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return _fnDataSource(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return _fnDataSource(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var _r=this._iDisplayLength,Be=this._iDisplayStart,Dr=Be+_r,Mr=this.aiDisplay.length,$r=this.oFeatures,Br=$r.bPaginate;return $r.bServerSide?Br===!1||_r===-1?Be+Mr:Math.min(Be+_r,this._iRecordsDisplay):!Br||Dr>Mr||_r===-1?Mr:Dr},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};DataTable.ext=_ext={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:DataTable.version};$$2.extend(_ext,{afnFiltering:_ext.search,aTypes:_ext.type.detect,ofnSearch:_ext.type.search,oSort:_ext.type.order,afnSortData:_ext.order,aoFeatures:_ext.feature,oApi:_ext.internal,oStdClasses:_ext.classes,oPagination:_ext.pager});$$2.extend(DataTable.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var extPagination=DataTable.ext.pager;function _numbers(_r,Be){var Dr=[],Mr=extPagination.numbers_length,$r=Math.floor(Mr/2);return Be<=Mr?Dr=_range(0,Be):_r<=$r?(Dr=_range(0,Mr-2),Dr.push("ellipsis"),Dr.push(Be-1)):_r>=Be-1-$r?(Dr=_range(Be-(Mr-2),Be),Dr.splice(0,0,"ellipsis"),Dr.splice(0,0,0)):(Dr=_range(_r-$r+2,_r+$r-1),Dr.push("ellipsis"),Dr.push(Be-1),Dr.splice(0,0,"ellipsis"),Dr.splice(0,0,0)),Dr.DT_el="span",Dr}$$2.extend(extPagination,{simple:function(_r,Be){return["previous","next"]},full:function(_r,Be){return["first","previous","next","last"]},numbers:function(_r,Be){return[_numbers(_r,Be)]},simple_numbers:function(_r,Be){return["previous",_numbers(_r,Be),"next"]},full_numbers:function(_r,Be){return["first","previous",_numbers(_r,Be),"next","last"]},first_last_numbers:function(_r,Be){return["first",_numbers(_r,Be),"last"]},_numbers,numbers_length:7});$$2.extend(!0,DataTable.ext.renderer,{pageButton:{_:function(_r,Be,Dr,Mr,$r,Br){var zr=_r.oClasses,Vr=_r.oLanguage.oPaginate,jr=_r.oLanguage.oAria.paginate||{},Gr,Wr,Kr=function(Jr,rn){var nn,ln,cn,hn,mn,bn=zr.sPageButtonDisabled,An=function(xn){_fnPageChange(_r,xn.data.action,!0)};for(nn=0,ln=rn.length;nn<ln;nn++)if(hn=rn[nn],Array.isArray(hn)){var vn=$$2("<"+(hn.DT_el||"div")+"/>").appendTo(Jr);Kr(vn,hn)}else{switch(Gr=null,Wr=hn,mn=_r.iTabIndex,hn){case"ellipsis":Jr.append('<span class="ellipsis">&#x2026;</span>');break;case"first":Gr=Vr.sFirst,$r===0&&(mn=-1,Wr+=" "+bn);break;case"previous":Gr=Vr.sPrevious,$r===0&&(mn=-1,Wr+=" "+bn);break;case"next":Gr=Vr.sNext,(Br===0||$r===Br-1)&&(mn=-1,Wr+=" "+bn);break;case"last":Gr=Vr.sLast,(Br===0||$r===Br-1)&&(mn=-1,Wr+=" "+bn);break;default:Gr=_r.fnFormatNumber(hn+1),Wr=$r===hn?zr.sPageButtonActive:"";break}if(Gr!==null){var dn=_r.oInit.pagingTag||"a",wn=Wr.indexOf(bn)!==-1;cn=$$2("<"+dn+">",{class:zr.sPageButton+" "+Wr,"aria-controls":_r.sTableId,"aria-disabled":wn?"true":null,"aria-label":jr[hn],role:"link","aria-current":Wr===zr.sPageButtonActive?"page":null,"data-dt-idx":hn,tabindex:mn,id:Dr===0&&typeof hn=="string"?_r.sTableId+"_"+hn:null}).html(Gr).appendTo(Jr),_fnBindAction(cn,{action:hn},An)}}},Zr;try{Zr=$$2(Be).find(document.activeElement).data("dt-idx")}catch{}Kr($$2(Be).empty(),Mr),Zr!==void 0&&$$2(Be).find("[data-dt-idx="+Zr+"]").trigger("focus")}}});$$2.extend(DataTable.ext.type.detect,[function(_r,Be){var Dr=Be.oLanguage.sDecimal;return _isNumber(_r,Dr)?"num"+Dr:null},function(_r,Be){if(_r&&!(_r instanceof Date)&&!_re_date.test(_r))return null;var Dr=Date.parse(_r);return Dr!==null&&!isNaN(Dr)||_empty(_r)?"date":null},function(_r,Be){var Dr=Be.oLanguage.sDecimal;return _isNumber(_r,Dr,!0)?"num-fmt"+Dr:null},function(_r,Be){var Dr=Be.oLanguage.sDecimal;return _htmlNumeric(_r,Dr)?"html-num"+Dr:null},function(_r,Be){var Dr=Be.oLanguage.sDecimal;return _htmlNumeric(_r,Dr,!0)?"html-num-fmt"+Dr:null},function(_r,Be){return _empty(_r)||typeof _r=="string"&&_r.indexOf("<")!==-1?"html":null}]);$$2.extend(DataTable.ext.type.search,{html:function(_r){return _empty(_r)?_r:typeof _r=="string"?_r.replace(_re_new_lines," ").replace(_re_html,""):""},string:function(_r){return _empty(_r)?_r:typeof _r=="string"?_r.replace(_re_new_lines," "):_r}});var __numericReplace=function(_r,Be,Dr,Mr){if(_r!==0&&(!_r||_r==="-"))return-1/0;var $r=typeof _r;return $r==="number"||$r==="bigint"?_r:(Be&&(_r=_numToDecimal(_r,Be)),_r.replace&&(Dr&&(_r=_r.replace(Dr,"")),Mr&&(_r=_r.replace(Mr,""))),_r*1)};function _addNumericSort(_r){$$2.each({num:function(Be){return __numericReplace(Be,_r)},"num-fmt":function(Be){return __numericReplace(Be,_r,_re_formatted_numeric)},"html-num":function(Be){return __numericReplace(Be,_r,_re_html)},"html-num-fmt":function(Be){return __numericReplace(Be,_r,_re_html,_re_formatted_numeric)}},function(Be,Dr){_ext.type.order[Be+_r+"-pre"]=Dr,Be.match(/^html\-/)&&(_ext.type.search[Be+_r]=_ext.type.search.html)})}$$2.extend(_ext.type.order,{"date-pre":function(_r){var Be=Date.parse(_r);return isNaN(Be)?-1/0:Be},"html-pre":function(_r){return _empty(_r)?"":_r.replace?_r.replace(/<.*?>/g,"").toLowerCase():_r+""},"string-pre":function(_r){return _empty(_r)?"":typeof _r=="string"?_r.toLowerCase():_r.toString?_r.toString():""},"string-asc":function(_r,Be){return _r<Be?-1:_r>Be?1:0},"string-desc":function(_r,Be){return _r<Be?1:_r>Be?-1:0}});_addNumericSort("");$$2.extend(!0,DataTable.ext.renderer,{header:{_:function(_r,Be,Dr,Mr){$$2(_r.nTable).on("order.dt.DT",function($r,Br,zr,Vr){if(_r===Br){var jr=Dr.idx;Be.removeClass(Mr.sSortAsc+" "+Mr.sSortDesc).addClass(Vr[jr]=="asc"?Mr.sSortAsc:Vr[jr]=="desc"?Mr.sSortDesc:Dr.sSortingClass)}})},jqueryui:function(_r,Be,Dr,Mr){$$2("<div/>").addClass(Mr.sSortJUIWrapper).append(Be.contents()).append($$2("<span/>").addClass(Mr.sSortIcon+" "+Dr.sSortingClassJUI)).appendTo(Be),$$2(_r.nTable).on("order.dt.DT",function($r,Br,zr,Vr){if(_r===Br){var jr=Dr.idx;Be.removeClass(Mr.sSortAsc+" "+Mr.sSortDesc).addClass(Vr[jr]=="asc"?Mr.sSortAsc:Vr[jr]=="desc"?Mr.sSortDesc:Dr.sSortingClass),Be.find("span."+Mr.sSortIcon).removeClass(Mr.sSortJUIAsc+" "+Mr.sSortJUIDesc+" "+Mr.sSortJUI+" "+Mr.sSortJUIAscAllowed+" "+Mr.sSortJUIDescAllowed).addClass(Vr[jr]=="asc"?Mr.sSortJUIAsc:Vr[jr]=="desc"?Mr.sSortJUIDesc:Dr.sSortingClassJUI)}})}}});var __htmlEscapeEntities=function(_r){return Array.isArray(_r)&&(_r=_r.join(",")),typeof _r=="string"?_r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):_r};function __mld(_r,Be,Dr,Mr,$r){return window.moment?_r[Be]($r):window.luxon?_r[Dr]($r):Mr?_r[Mr]($r):_r}var __mlWarning=!1;function __mldObj(_r,Be,Dr){var Mr;if(window.moment){if(Mr=window.moment.utc(_r,Be,Dr,!0),!Mr.isValid())return null}else if(window.luxon){if(Mr=Be&&typeof _r=="string"?window.luxon.DateTime.fromFormat(_r,Be):window.luxon.DateTime.fromISO(_r),!Mr.isValid)return null;Mr.setLocale(Dr)}else Be?(__mlWarning||alert("DataTables warning: Formatted date without Moment.js or Luxon - https://datatables.net/tn/17"),__mlWarning=!0):Mr=new Date(_r);return Mr}function __mlHelper(_r){return function(Be,Dr,Mr,$r){arguments.length===0?(Mr="en",Dr=null,Be=null):arguments.length===1?(Mr="en",Dr=Be,Be=null):arguments.length===2&&(Mr=Dr,Dr=Be,Be=null);var Br="datetime-"+Dr;return DataTable.ext.type.order[Br]||(DataTable.ext.type.detect.unshift(function(zr){return zr===Br?Br:!1}),DataTable.ext.type.order[Br+"-asc"]=function(zr,Vr){var jr=zr.valueOf(),Gr=Vr.valueOf();return jr===Gr?0:jr<Gr?-1:1},DataTable.ext.type.order[Br+"-desc"]=function(zr,Vr){var jr=zr.valueOf(),Gr=Vr.valueOf();return jr===Gr?0:jr>Gr?-1:1}),function(zr,Vr){if(zr==null)if($r==="--now"){var jr=new Date;zr=new Date(Date.UTC(jr.getFullYear(),jr.getMonth(),jr.getDate(),jr.getHours(),jr.getMinutes(),jr.getSeconds()))}else zr="";if(Vr==="type")return Br;if(zr==="")return Vr!=="sort"?"":__mldObj("0000-01-01 00:00:00",null,Mr);if(Dr!==null&&Be===Dr&&Vr!=="sort"&&Vr!=="type"&&!(zr instanceof Date))return zr;var Gr=__mldObj(zr,Be,Mr);if(Gr===null)return zr;if(Vr==="sort")return Gr;var Wr=Dr===null?__mld(Gr,"toDate","toJSDate","")[_r]():__mld(Gr,"format","toFormat","toISOString",Dr);return Vr==="display"?__htmlEscapeEntities(Wr):Wr}}}var __thousands=",",__decimal=".";if(window.Intl!==void 0)try{for(var num=new Intl.NumberFormat().formatToParts(100000.1),i$1=0;i$1<num.length;i$1++)num[i$1].type==="group"?__thousands=num[i$1].value:num[i$1].type==="decimal"&&(__decimal=num[i$1].value)}catch{}DataTable.datetime=function(_r,Be){var Dr="datetime-detect-"+_r;Be||(Be="en"),DataTable.ext.type.order[Dr]||(DataTable.ext.type.detect.unshift(function(Mr){var $r=__mldObj(Mr,_r,Be);return Mr===""||$r?Dr:!1}),DataTable.ext.type.order[Dr+"-pre"]=function(Mr){return __mldObj(Mr,_r,Be)||0})};DataTable.render={date:__mlHelper("toLocaleDateString"),datetime:__mlHelper("toLocaleString"),time:__mlHelper("toLocaleTimeString"),number:function(_r,Be,Dr,Mr,$r){return _r==null&&(_r=__thousands),Be==null&&(Be=__decimal),{display:function(Br){if(typeof Br!="number"&&typeof Br!="string"||Br===""||Br===null)return Br;var zr=Br<0?"-":"",Vr=parseFloat(Br);if(isNaN(Vr))return __htmlEscapeEntities(Br);Vr=Vr.toFixed(Dr),Br=Math.abs(Vr);var jr=parseInt(Br,10),Gr=Dr?Be+(Br-jr).toFixed(Dr).substring(2):"";return jr===0&&parseFloat(Gr)===0&&(zr=""),zr+(Mr||"")+jr.toString().replace(/\B(?=(\d{3})+(?!\d))/g,_r)+Gr+($r||"")}}},text:function(){return{display:__htmlEscapeEntities,filter:__htmlEscapeEntities}}};function _fnExternApiFunc(_r){return function(){var Be=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.internal[_r].apply(this,Be)}}$$2.extend(DataTable.ext.internal,{_fnExternApiFunc,_fnBuildAjax,_fnAjaxUpdate,_fnAjaxParameters,_fnAjaxUpdateDraw,_fnAjaxDataSrc,_fnAddColumn,_fnColumnOptions,_fnAdjustColumnSizing,_fnVisibleToColumnIndex,_fnColumnIndexToVisible,_fnVisbleColumns,_fnGetColumns,_fnColumnTypes,_fnApplyColumnDefs,_fnHungarianMap,_fnCamelToHungarian,_fnLanguageCompat,_fnBrowserDetect,_fnAddData,_fnAddTr,_fnNodeToDataIndex,_fnNodeToColumnIndex,_fnGetCellData,_fnSetCellData,_fnSplitObjNotation,_fnGetObjectDataFn,_fnSetObjectDataFn,_fnGetDataMaster,_fnClearTable,_fnDeleteIndex,_fnInvalidate,_fnGetRowElements,_fnCreateTr,_fnBuildHead,_fnDrawHead,_fnDraw,_fnReDraw,_fnAddOptionsHtml,_fnDetectHeader,_fnGetUniqueThs,_fnFeatureHtmlFilter,_fnFilterComplete,_fnFilterCustom,_fnFilterColumn,_fnFilter,_fnFilterCreateSearch,_fnEscapeRegex,_fnFilterData,_fnFeatureHtmlInfo,_fnUpdateInfo,_fnInfoMacros,_fnInitialise,_fnInitComplete,_fnLengthChange,_fnFeatureHtmlLength,_fnFeatureHtmlPaginate,_fnPageChange,_fnFeatureHtmlProcessing,_fnProcessingDisplay,_fnFeatureHtmlTable,_fnScrollDraw,_fnApplyToChildren,_fnCalculateColumnWidths,_fnThrottle,_fnConvertToWidth,_fnGetWidestNode,_fnGetMaxLenString,_fnStringToCss,_fnSortFlatten,_fnSort,_fnSortAria,_fnSortListener,_fnSortAttachListener,_fnSortingClasses,_fnSortData,_fnSaveState,_fnLoadState,_fnImplementState,_fnSettingsFromNode,_fnLog,_fnMap,_fnBindAction,_fnCallbackReg,_fnCallbackFire,_fnLengthOverflow,_fnRenderer,_fnDataSource,_fnRowAttributes,_fnExtend,_fnCalculateEnd:function(){}});$$2.fn.dataTable=DataTable;DataTable.$=$$2;$$2.fn.dataTableSettings=DataTable.settings;$$2.fn.dataTableExt=DataTable.ext;$$2.fn.DataTable=function(_r){return $$2(this).dataTable(_r).api()};$$2.each(DataTable,function(_r,Be){$$2.fn.DataTable[_r]=Be});/*! Responsive 2.5.0
 * Â© SpryMedia Ltd - datatables.net/license
 */let $$1=$$3;var Responsive=function(_r,Be){if(!DataTable.versionCheck||!DataTable.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={childNodeStore:{},columns:[],current:[],dt:new DataTable.Api(_r)},!this.s.dt.settings()[0].responsive&&(Be&&typeof Be.details=="string"?Be.details={type:Be.details}:Be&&Be.details===!1?Be.details={type:!1}:Be&&Be.details===!0&&(Be.details={type:"inline"}),this.c=$$1.extend(!0,{},Responsive.defaults,DataTable.defaults.responsive,Be),_r.responsive=this,this._constructor())};$$1.extend(Responsive.prototype,{_constructor:function(){var _r=this,Be=this.s.dt,Dr=Be.settings()[0],Mr=$$1(window).innerWidth();Be.settings()[0]._responsive=this,$$1(window).on("resize.dtr orientationchange.dtr",DataTable.util.throttle(function(){var Br=$$1(window).innerWidth();Br!==Mr&&(_r._resize(),Mr=Br)})),Dr.oApi._fnCallbackReg(Dr,"aoRowCreatedCallback",function(Br,zr,Vr){$$1.inArray(!1,_r.s.current)!==-1&&$$1(">td, >th",Br).each(function(jr){var Gr=Be.column.index("toData",jr);_r.s.current[Gr]===!1&&$$1(this).css("display","none")})}),Be.on("destroy.dtr",function(){Be.off(".dtr"),$$1(Be.table().body()).off(".dtr"),$$1(window).off("resize.dtr orientationchange.dtr"),Be.cells(".dtr-control").nodes().to$().removeClass("dtr-control"),$$1.each(_r.s.current,function(Br,zr){zr===!1&&_r._setColumnVis(Br,!0)})}),this.c.breakpoints.sort(function(Br,zr){return Br.width<zr.width?1:Br.width>zr.width?-1:0}),this._classLogic(),this._resizeAuto();var $r=this.c.details;$r.type!==!1&&(_r._detailsInit(),Be.on("column-visibility.dtr",function(){_r._timer&&clearTimeout(_r._timer),_r._timer=setTimeout(function(){_r._timer=null,_r._classLogic(),_r._resizeAuto(),_r._resize(!0),_r._redrawChildren()},100)}),Be.on("draw.dtr",function(){_r._redrawChildren()}),$$1(Be.table().node()).addClass("dtr-"+$r.type)),Be.on("column-reorder.dtr",function(Br,zr,Vr){_r._classLogic(),_r._resizeAuto(),_r._resize(!0)}),Be.on("column-sizing.dtr",function(){_r._resizeAuto(),_r._resize()}),Be.on("column-calc.dt",function(Br,zr){for(var Vr=_r.s.current,jr=0;jr<Vr.length;jr++){var Gr=zr.visible.indexOf(jr);Vr[jr]===!1&&Gr>=0&&zr.visible.splice(Gr,1)}}),Be.on("preXhr.dtr",function(){var Br=[];Be.rows().every(function(){this.child.isShown()&&Br.push(this.id(!0))}),Be.one("draw.dtr",function(){_r._resizeAuto(),_r._resize(),Be.rows(Br).every(function(){_r._detailsDisplay(this,!1)})})}),Be.on("draw.dtr",function(){_r._controlClass()}).on("init.dtr",function(Br,zr,Vr){Br.namespace==="dt"&&(_r._resizeAuto(),_r._resize(),$$1.inArray(!1,_r.s.current)&&Be.columns.adjust())}),this._resize()},_childNodes:function(_r,Be,Dr){var Mr=Be+"-"+Dr;if(this.s.childNodeStore[Mr])return this.s.childNodeStore[Mr];for(var $r=[],Br=_r.cell(Be,Dr).node().childNodes,zr=0,Vr=Br.length;zr<Vr;zr++)$r.push(Br[zr]);return this.s.childNodeStore[Mr]=$r,$r},_childNodesRestore:function(_r,Be,Dr){var Mr=Be+"-"+Dr;if(this.s.childNodeStore[Mr]){for(var $r=_r.cell(Be,Dr).node(),Br=this.s.childNodeStore[Mr],zr=Br[0].parentNode,Vr=zr.childNodes,jr=[],Gr=0,Wr=Vr.length;Gr<Wr;Gr++)jr.push(Vr[Gr]);for(var Kr=0,Zr=jr.length;Kr<Zr;Kr++)$r.appendChild(jr[Kr]);this.s.childNodeStore[Mr]=void 0}},_columnsVisiblity:function(_r){var Be=this.s.dt,Dr=this.s.columns,Mr,$r,Br=Dr.map(function(nn,ln){return{columnIdx:ln,priority:nn.priority}}).sort(function(nn,ln){return nn.priority!==ln.priority?nn.priority-ln.priority:nn.columnIdx-ln.columnIdx}),zr=$$1.map(Dr,function(nn,ln){return Be.column(ln).visible()===!1?"not-visible":nn.auto&&nn.minWidth===null?!1:nn.auto===!0?"-":$$1.inArray(_r,nn.includeIn)!==-1}),Vr=0;for(Mr=0,$r=zr.length;Mr<$r;Mr++)zr[Mr]===!0&&(Vr+=Dr[Mr].minWidth);var jr=Be.settings()[0].oScroll,Gr=jr.sY||jr.sX?jr.iBarWidth:0,Wr=Be.table().container().offsetWidth-Gr,Kr=Wr-Vr;for(Mr=0,$r=zr.length;Mr<$r;Mr++)Dr[Mr].control&&(Kr-=Dr[Mr].minWidth);var Zr=!1;for(Mr=0,$r=Br.length;Mr<$r;Mr++){var Jr=Br[Mr].columnIdx;zr[Jr]==="-"&&!Dr[Jr].control&&Dr[Jr].minWidth&&(Zr||Kr-Dr[Jr].minWidth<0?(Zr=!0,zr[Jr]=!1):zr[Jr]=!0,Kr-=Dr[Jr].minWidth)}var rn=!1;for(Mr=0,$r=Dr.length;Mr<$r;Mr++)if(!Dr[Mr].control&&!Dr[Mr].never&&zr[Mr]===!1){rn=!0;break}for(Mr=0,$r=Dr.length;Mr<$r;Mr++)Dr[Mr].control&&(zr[Mr]=rn),zr[Mr]==="not-visible"&&(zr[Mr]=!1);return $$1.inArray(!0,zr)===-1&&(zr[0]=!0),zr},_classLogic:function(){var _r=this,Be=this.c.breakpoints,Dr=this.s.dt,Mr=Dr.columns().eq(0).map(function(zr){var Vr=this.column(zr),jr=Vr.header().className,Gr=Dr.settings()[0].aoColumns[zr].responsivePriority,Wr=Vr.header().getAttribute("data-priority");return Gr===void 0&&(Gr=Wr==null?1e4:Wr*1),{className:jr,includeIn:[],auto:!1,control:!1,never:!!jr.match(/\b(dtr\-)?never\b/),priority:Gr}}),$r=function(zr,Vr){var jr=Mr[zr].includeIn;$$1.inArray(Vr,jr)===-1&&jr.push(Vr)},Br=function(zr,Vr,jr,Gr){var Wr,Kr,Zr;if(!jr)Mr[zr].includeIn.push(Vr);else if(jr==="max-")for(Wr=_r._find(Vr).width,Kr=0,Zr=Be.length;Kr<Zr;Kr++)Be[Kr].width<=Wr&&$r(zr,Be[Kr].name);else if(jr==="min-")for(Wr=_r._find(Vr).width,Kr=0,Zr=Be.length;Kr<Zr;Kr++)Be[Kr].width>=Wr&&$r(zr,Be[Kr].name);else if(jr==="not-")for(Kr=0,Zr=Be.length;Kr<Zr;Kr++)Be[Kr].name.indexOf(Gr)===-1&&$r(zr,Be[Kr].name)};Mr.each(function(zr,Vr){for(var jr=zr.className.split(" "),Gr=!1,Wr=0,Kr=jr.length;Wr<Kr;Wr++){var Zr=jr[Wr].trim();if(Zr==="all"||Zr==="dtr-all"){Gr=!0,zr.includeIn=$$1.map(Be,function(Jr){return Jr.name});return}else if(Zr==="none"||Zr==="dtr-none"||zr.never){Gr=!0;return}else if(Zr==="control"||Zr==="dtr-control"){Gr=!0,zr.control=!0;return}$$1.each(Be,function(Jr,rn){var nn=rn.name.split("-"),ln=new RegExp("(min\\-|max\\-|not\\-)?("+nn[0]+")(\\-[_a-zA-Z0-9])?"),cn=Zr.match(ln);cn&&(Gr=!0,cn[2]===nn[0]&&cn[3]==="-"+nn[1]?Br(Vr,rn.name,cn[1],cn[2]+cn[3]):cn[2]===nn[0]&&!cn[3]&&Br(Vr,rn.name,cn[1],cn[2]))})}Gr||(zr.auto=!0)}),this.s.columns=Mr},_controlClass:function(){if(this.c.details.type==="inline"){var _r=this.s.dt,Be=this.s.current,Dr=$$1.inArray(!0,Be);_r.cells(null,function(Mr){return Mr!==Dr},{page:"current"}).nodes().to$().filter(".dtr-control").removeClass("dtr-control"),_r.cells(null,Dr,{page:"current"}).nodes().to$().addClass("dtr-control")}},_detailsDisplay:function(_r,Be){var Dr=this,Mr=this.s.dt,$r=this.c.details,Br=function(jr){$$1(_r.node()).toggleClass("parent",jr!==!1),$$1(Mr.table().node()).triggerHandler("responsive-display.dt",[Mr,_r,jr,Be])};if($r&&$r.type!==!1){var zr=typeof $r.renderer=="string"?Responsive.renderer[$r.renderer]():$r.renderer,Vr=$r.display(_r,Be,function(){return zr.call(Dr,Mr,_r[0],Dr._detailsObj(_r[0]))},function(){Br(!1)});typeof Vr=="boolean"&&Br(Vr)}},_detailsInit:function(){var _r=this,Be=this.s.dt,Dr=this.c.details;Dr.type==="inline"&&(Dr.target="td.dtr-control, th.dtr-control"),Be.on("draw.dtr",function(){_r._tabIndexes()}),_r._tabIndexes(),$$1(Be.table().body()).on("keyup.dtr","td, th",function(Br){Br.keyCode===13&&$$1(this).data("dtr-keyboard")&&$$1(this).click()});var Mr=Dr.target,$r=typeof Mr=="string"?Mr:"td, th";(Mr!==void 0||Mr!==null)&&$$1(Be.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",$r,function(Br){if($$1(Be.table().node()).hasClass("collapsed")&&$$1.inArray($$1(this).closest("tr").get(0),Be.rows().nodes().toArray())!==-1){if(typeof Mr=="number"){var zr=Mr<0?Be.columns().eq(0).length+Mr:Mr;if(Be.cell(this).index().column!==zr)return}var Vr=Be.row($$1(this).closest("tr"));Br.type==="click"?_r._detailsDisplay(Vr,!1):Br.type==="mousedown"?$$1(this).css("outline","none"):Br.type==="mouseup"&&$$1(this).trigger("blur").css("outline","")}})},_detailsObj:function(_r){var Be=this,Dr=this.s.dt;return $$1.map(this.s.columns,function(Mr,$r){if(!(Mr.never||Mr.control)){var Br=Dr.settings()[0].aoColumns[$r];return{className:Br.sClass,columnIndex:$r,data:Dr.cell(_r,$r).render(Be.c.orthogonal),hidden:Dr.column($r).visible()&&!Be.s.current[$r],rowIndex:_r,title:Br.sTitle!==null?Br.sTitle:$$1(Dr.column($r).header()).text()}}})},_find:function(_r){for(var Be=this.c.breakpoints,Dr=0,Mr=Be.length;Dr<Mr;Dr++)if(Be[Dr].name===_r)return Be[Dr]},_redrawChildren:function(){var _r=this,Be=this.s.dt;Be.rows({page:"current"}).iterator("row",function(Dr,Mr){_r._detailsDisplay(Be.row(Mr),!0)})},_resize:function(_r){var Be=this,Dr=this.s.dt,Mr=$$1(window).innerWidth(),$r=this.c.breakpoints,Br=$r[0].name,zr=this.s.columns,Vr,jr,Gr=this.s.current.slice();for(Vr=$r.length-1;Vr>=0;Vr--)if(Mr<=$r[Vr].width){Br=$r[Vr].name;break}var Wr=this._columnsVisiblity(Br);this.s.current=Wr;var Kr=!1;for(Vr=0,jr=zr.length;Vr<jr;Vr++)if(Wr[Vr]===!1&&!zr[Vr].never&&!zr[Vr].control&&Dr.column(Vr).visible()){Kr=!0;break}$$1(Dr.table().node()).toggleClass("collapsed",Kr);var Zr=!1,Jr=0;Dr.columns().eq(0).each(function(rn,nn){Wr[nn]===!0&&Jr++,(_r||Wr[nn]!==Gr[nn])&&(Zr=!0,Be._setColumnVis(rn,Wr[nn]))}),this._redrawChildren(),Zr&&($$1(Dr.table().node()).trigger("responsive-resize.dt",[Dr,this.s.current]),Dr.page.info().recordsDisplay===0&&$$1("td",Dr.table().body()).eq(0).attr("colspan",Jr)),Be._controlClass()},_resizeAuto:function(){var _r=this.s.dt,Be=this.s.columns,Dr=this;if(this.c.auto&&$$1.inArray(!0,$$1.map(Be,function(Kr){return Kr.auto}))!==-1){$$1.isEmptyObject(this.s.childNodeStore)||$$1.each(this.s.childNodeStore,function(Kr){var Zr=Kr.split("-");Dr._childNodesRestore(_r,Zr[0]*1,Zr[1]*1)}),_r.table().node().offsetWidth,_r.columns;var Mr=_r.table().node().cloneNode(!1),$r=$$1(_r.table().header().cloneNode(!1)).appendTo(Mr),Br=$$1(_r.table().body()).clone(!1,!1).empty().appendTo(Mr);Mr.style.width="auto";var zr=_r.columns().header().filter(function(Kr){return _r.column(Kr).visible()}).to$().clone(!1).css("display","table-cell").css("width","auto").css("min-width",0);$$1(Br).append($$1(_r.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");var Vr=_r.table().footer();if(Vr){var jr=$$1(Vr.cloneNode(!1)).appendTo(Mr),Gr=_r.columns().footer().filter(function(Kr){return _r.column(Kr).visible()}).to$().clone(!1).css("display","table-cell");$$1("<tr/>").append(Gr).appendTo(jr)}$$1("<tr/>").append(zr).appendTo($r),this.c.details.type==="inline"&&$$1(Mr).addClass("dtr-inline collapsed"),$$1(Mr).find("[name]").removeAttr("name"),$$1(Mr).css("position","relative");var Wr=$$1("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(Mr);Wr.insertBefore(_r.table().node()),zr.each(function(Kr){var Zr=_r.column.index("fromVisible",Kr);Be[Zr].minWidth=this.offsetWidth||0}),Wr.remove()}},_responsiveOnlyHidden:function(){var _r=this.s.dt;return $$1.map(this.s.current,function(Be,Dr){return _r.column(Dr).visible()===!1?!0:Be})},_setColumnVis:function(_r,Be){var Dr=this,Mr=this.s.dt,$r=Be?"":"none";$$1(Mr.column(_r).header()).css("display",$r).toggleClass("dtr-hidden",!Be),$$1(Mr.column(_r).footer()).css("display",$r).toggleClass("dtr-hidden",!Be),Mr.column(_r).nodes().to$().css("display",$r).toggleClass("dtr-hidden",!Be),$$1.isEmptyObject(this.s.childNodeStore)||Mr.cells(null,_r).indexes().each(function(Br){Dr._childNodesRestore(Mr,Br.row,Br.column)})},_tabIndexes:function(){var _r=this.s.dt,Be=_r.cells({page:"current"}).nodes().to$(),Dr=_r.settings()[0],Mr=this.c.details.target;Be.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),typeof Mr=="number"?_r.cells(null,Mr,{page:"current"}).nodes().to$().attr("tabIndex",Dr.iTabIndex).data("dtr-keyboard",1):(Mr==="td:first-child, th:first-child"&&(Mr=">td:first-child, >th:first-child"),$$1(Mr,_r.rows({page:"current"}).nodes()).attr("tabIndex",Dr.iTabIndex).data("dtr-keyboard",1))}});Responsive.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];Responsive.display={childRow:function(_r,Be,Dr){if(Be){if($$1(_r.node()).hasClass("parent"))return _r.child(Dr(),"child").show(),!0}else return _r.child.isShown()?(_r.child(!1),!1):(_r.child(Dr(),"child").show(),!0)},childRowImmediate:function(_r,Be,Dr){return!Be&&_r.child.isShown()||!_r.responsive.hasHidden()?(_r.child(!1),!1):(_r.child(Dr(),"child").show(),!0)},modal:function(_r){return function(Be,Dr,Mr,$r){if(Dr){var zr=$$1("div.dtr-modal-content");if(zr.length&&Be.index()===zr.data("dtr-row-idx"))zr.empty().append(Mr());else return null}else{var Br=function(){zr.remove(),$$1(document).off("keypress.dtr"),$$1(Be.node()).removeClass("parent"),$r()},zr=$$1('<div class="dtr-modal"/>').append($$1('<div class="dtr-modal-display"/>').append($$1('<div class="dtr-modal-content"/>').data("dtr-row-idx",Be.index()).append(Mr())).append($$1('<div class="dtr-modal-close">&times;</div>').click(function(){Br()}))).append($$1('<div class="dtr-modal-background"/>').click(function(){Br()})).appendTo("body");$$1(Be.node()).addClass("parent"),$$1(document).on("keyup.dtr",function(Vr){Vr.keyCode===27&&(Vr.stopPropagation(),Br())})}return _r&&_r.header&&$$1("div.dtr-modal-content").prepend("<h2>"+_r.header(Be)+"</h2>"),!0}}};Responsive.renderer={listHiddenNodes:function(){return function(_r,Be,Dr){var Mr=this,$r=$$1('<ul data-dtr-index="'+Be+'" class="dtr-details"/>'),Br=!1;return $$1.each(Dr,function(zr,Vr){if(Vr.hidden){var jr=Vr.className?'class="'+Vr.className+'"':"";$$1("<li "+jr+' data-dtr-index="'+Vr.columnIndex+'" data-dt-row="'+Vr.rowIndex+'" data-dt-column="'+Vr.columnIndex+'"><span class="dtr-title">'+Vr.title+"</span> </li>").append($$1('<span class="dtr-data"/>').append(Mr._childNodes(_r,Vr.rowIndex,Vr.columnIndex))).appendTo($r),Br=!0}}),Br?$r:!1}},listHidden:function(){return function(_r,Be,Dr){var Mr=$$1.map(Dr,function($r){var Br=$r.className?'class="'+$r.className+'"':"";return $r.hidden?"<li "+Br+' data-dtr-index="'+$r.columnIndex+'" data-dt-row="'+$r.rowIndex+'" data-dt-column="'+$r.columnIndex+'"><span class="dtr-title">'+$r.title+'</span> <span class="dtr-data">'+$r.data+"</span></li>":""}).join("");return Mr?$$1('<ul data-dtr-index="'+Be+'" class="dtr-details"/>').append(Mr):!1}},tableAll:function(_r){return _r=$$1.extend({tableClass:""},_r),function(Be,Dr,Mr){var $r=$$1.map(Mr,function(Br){var zr=Br.className?'class="'+Br.className+'"':"";return"<tr "+zr+' data-dt-row="'+Br.rowIndex+'" data-dt-column="'+Br.columnIndex+'"><td>'+Br.title+":</td> <td>"+Br.data+"</td></tr>"}).join("");return $$1('<table class="'+_r.tableClass+' dtr-details" width="100%"/>').append($r)}}};Responsive.defaults={breakpoints:Responsive.breakpoints,auto:!0,details:{display:Responsive.display.childRow,renderer:Responsive.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var Api=$$1.fn.dataTable.Api;Api.register("responsive()",function(){return this});Api.register("responsive.index()",function(_r){return _r=$$1(_r),{column:_r.data("dtr-index"),row:_r.parent().data("dtr-index")}});Api.register("responsive.rebuild()",function(){return this.iterator("table",function(_r){_r._responsive&&_r._responsive._classLogic()})});Api.register("responsive.recalc()",function(){return this.iterator("table",function(_r){_r._responsive&&(_r._responsive._resizeAuto(),_r._responsive._resize())})});Api.register("responsive.hasHidden()",function(){var _r=this.context[0];return _r._responsive?$$1.inArray(!1,_r._responsive._responsiveOnlyHidden())!==-1:!1});Api.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(_r,Be){return _r._responsive?_r._responsive._responsiveOnlyHidden()[Be]:!1},1)});Responsive.version="2.5.0";$$1.fn.dataTable.Responsive=Responsive;$$1.fn.DataTable.Responsive=Responsive;$$1(document).on("preInit.dt.dtr",function(_r,Be,Dr){if(_r.namespace==="dt"&&($$1(Be.nTable).hasClass("responsive")||$$1(Be.nTable).hasClass("dt-responsive")||Be.oInit.responsive||DataTable.defaults.responsive)){var Mr=Be.oInit.responsive;Mr!==!1&&new Responsive(Be,$$1.isPlainObject(Mr)?Mr:{})}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(_r,Be){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Dr,Mr){Dr.__proto__=Mr}||function(Dr,Mr){for(var $r in Mr)Object.prototype.hasOwnProperty.call(Mr,$r)&&(Dr[$r]=Mr[$r])},extendStatics(_r,Be)};function __extends(_r,Be){if(typeof Be!="function"&&Be!==null)throw new TypeError("Class extends value "+String(Be)+" is not a constructor or null");extendStatics(_r,Be);function Dr(){this.constructor=_r}_r.prototype=Be===null?Object.create(Be):(Dr.prototype=Be.prototype,new Dr)}var Browser=function(){function _r(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return _r}(),Env=function(){function _r(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return _r}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(_r,Be){var Dr=Be.browser,Mr=_r.match(/Firefox\/([\d.]+)/),$r=_r.match(/MSIE\s([\d.]+)/)||_r.match(/Trident\/.+?rv:(([\d.]+))/),Br=_r.match(/Edge?\/([\d.]+)/),zr=/micromessenger/i.test(_r);Mr&&(Dr.firefox=!0,Dr.version=Mr[1]),$r&&(Dr.ie=!0,Dr.version=$r[1]),Br&&(Dr.edge=!0,Dr.version=Br[1],Dr.newEdge=+Br[1].split(".")[0]>18),zr&&(Dr.weChat=!0),Be.svgSupported=typeof SVGRect<"u",Be.touchEventsSupported="ontouchstart"in window&&!Dr.ie&&!Dr.edge,Be.pointerEventsSupported="onpointerdown"in window&&(Dr.edge||Dr.ie&&+Dr.version>=11),Be.domSupported=typeof document<"u";var Vr=document.documentElement.style;Be.transform3dSupported=(Dr.ie&&"transition"in Vr||Dr.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in Vr)&&!("OTransition"in Vr),Be.transformSupported=Be.transform3dSupported||Dr.ie&&+Dr.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(_r){var Be={};if(typeof JSON>"u")return Be;for(var Dr=0;Dr<_r.length;Dr++){var Mr=String.fromCharCode(Dr+32),$r=(_r.charCodeAt(Dr)-OFFSET)/SCALE;Be[Mr]=$r}return Be}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var _r,Be;return function(Dr,Mr){if(!_r){var $r=platformApi.createCanvas();_r=$r&&$r.getContext("2d")}if(_r)return Be!==Mr&&(Be=_r.font=Mr||DEFAULT_FONT),_r.measureText(Dr);Dr=Dr||"",Mr=Mr||DEFAULT_FONT;var Br=/(\d+)px/.exec(Mr),zr=Br&&+Br[1]||DEFAULT_FONT_SIZE,Vr=0;if(Mr.indexOf("mono")>=0)Vr=zr*Dr.length;else for(var jr=0;jr<Dr.length;jr++){var Gr=DEFAULT_TEXT_WIDTH_MAP[Dr[jr]];Vr+=Gr==null?zr:Gr*zr}return{width:Vr}}}(),loadImage:function(_r,Be,Dr){var Mr=new Image;return Mr.onload=Be,Mr.onerror=Dr,Mr.src=_r,Mr}};function setPlatformAPI(_r){for(var Be in platformApi)_r[Be]&&(platformApi[Be]=_r[Be])}var BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(_r,Be){return _r["[object "+Be+"]"]=!0,_r},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(_r,Be){return _r["[object "+Be+"Array]"]=!0,_r},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var _r=[],Be=0;Be<arguments.length;Be++)_r[Be]=arguments[Be];typeof console<"u"&&console.error.apply(console,_r)}function clone$4(_r){if(_r==null||typeof _r!="object")return _r;var Be=_r,Dr=objToString.call(_r);if(Dr==="[object Array]"){if(!isPrimitive(_r)){Be=[];for(var Mr=0,$r=_r.length;Mr<$r;Mr++)Be[Mr]=clone$4(_r[Mr])}}else if(TYPED_ARRAY[Dr]){if(!isPrimitive(_r)){var Br=_r.constructor;if(Br.from)Be=Br.from(_r);else{Be=new Br(_r.length);for(var Mr=0,$r=_r.length;Mr<$r;Mr++)Be[Mr]=_r[Mr]}}}else if(!BUILTIN_OBJECT[Dr]&&!isPrimitive(_r)&&!isDom(_r)){Be={};for(var zr in _r)_r.hasOwnProperty(zr)&&zr!==protoKey&&(Be[zr]=clone$4(_r[zr]))}return Be}function merge(_r,Be,Dr){if(!isObject$3(Be)||!isObject$3(_r))return Dr?clone$4(Be):_r;for(var Mr in Be)if(Be.hasOwnProperty(Mr)&&Mr!==protoKey){var $r=_r[Mr],Br=Be[Mr];isObject$3(Br)&&isObject$3($r)&&!isArray$1(Br)&&!isArray$1($r)&&!isDom(Br)&&!isDom($r)&&!isBuiltInObject(Br)&&!isBuiltInObject($r)&&!isPrimitive(Br)&&!isPrimitive($r)?merge($r,Br,Dr):(Dr||!(Mr in _r))&&(_r[Mr]=clone$4(Be[Mr]))}return _r}function mergeAll(_r,Be){for(var Dr=_r[0],Mr=1,$r=_r.length;Mr<$r;Mr++)Dr=merge(Dr,_r[Mr],Be);return Dr}function extend$1(_r,Be){if(Object.assign)Object.assign(_r,Be);else for(var Dr in Be)Be.hasOwnProperty(Dr)&&Dr!==protoKey&&(_r[Dr]=Be[Dr]);return _r}function defaults(_r,Be,Dr){for(var Mr=keys(Be),$r=0;$r<Mr.length;$r++){var Br=Mr[$r];(Dr?Be[Br]!=null:_r[Br]==null)&&(_r[Br]=Be[Br])}return _r}var createCanvas=platformApi.createCanvas;function indexOf(_r,Be){if(_r){if(_r.indexOf)return _r.indexOf(Be);for(var Dr=0,Mr=_r.length;Dr<Mr;Dr++)if(_r[Dr]===Be)return Dr}return-1}function inherits(_r,Be){var Dr=_r.prototype;function Mr(){}Mr.prototype=Be.prototype,_r.prototype=new Mr;for(var $r in Dr)Dr.hasOwnProperty($r)&&(_r.prototype[$r]=Dr[$r]);_r.prototype.constructor=_r,_r.superClass=Be}function mixin(_r,Be,Dr){if(_r="prototype"in _r?_r.prototype:_r,Be="prototype"in Be?Be.prototype:Be,Object.getOwnPropertyNames)for(var Mr=Object.getOwnPropertyNames(Be),$r=0;$r<Mr.length;$r++){var Br=Mr[$r];Br!=="constructor"&&(Dr?Be[Br]!=null:_r[Br]==null)&&(_r[Br]=Be[Br])}else defaults(_r,Be,Dr)}function isArrayLike(_r){return!_r||typeof _r=="string"?!1:typeof _r.length=="number"}function each$f(_r,Be,Dr){if(_r&&Be)if(_r.forEach&&_r.forEach===nativeForEach)_r.forEach(Be,Dr);else if(_r.length===+_r.length)for(var Mr=0,$r=_r.length;Mr<$r;Mr++)Be.call(Dr,_r[Mr],Mr,_r);else for(var Br in _r)_r.hasOwnProperty(Br)&&Be.call(Dr,_r[Br],Br,_r)}function map$1(_r,Be,Dr){if(!_r)return[];if(!Be)return slice(_r);if(_r.map&&_r.map===nativeMap)return _r.map(Be,Dr);for(var Mr=[],$r=0,Br=_r.length;$r<Br;$r++)Mr.push(Be.call(Dr,_r[$r],$r,_r));return Mr}function reduce(_r,Be,Dr,Mr){if(_r&&Be){for(var $r=0,Br=_r.length;$r<Br;$r++)Dr=Be.call(Mr,Dr,_r[$r],$r,_r);return Dr}}function filter(_r,Be,Dr){if(!_r)return[];if(!Be)return slice(_r);if(_r.filter&&_r.filter===nativeFilter)return _r.filter(Be,Dr);for(var Mr=[],$r=0,Br=_r.length;$r<Br;$r++)Be.call(Dr,_r[$r],$r,_r)&&Mr.push(_r[$r]);return Mr}function find(_r,Be,Dr){if(_r&&Be){for(var Mr=0,$r=_r.length;Mr<$r;Mr++)if(Be.call(Dr,_r[Mr],Mr,_r))return _r[Mr]}}function keys(_r){if(!_r)return[];if(Object.keys)return Object.keys(_r);var Be=[];for(var Dr in _r)_r.hasOwnProperty(Dr)&&Be.push(Dr);return Be}function bindPolyfill(_r,Be){for(var Dr=[],Mr=2;Mr<arguments.length;Mr++)Dr[Mr-2]=arguments[Mr];return function(){return _r.apply(Be,Dr.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(_r){for(var Be=[],Dr=1;Dr<arguments.length;Dr++)Be[Dr-1]=arguments[Dr];return function(){return _r.apply(this,Be.concat(nativeSlice.call(arguments)))}}function isArray$1(_r){return Array.isArray?Array.isArray(_r):objToString.call(_r)==="[object Array]"}function isFunction(_r){return typeof _r=="function"}function isString(_r){return typeof _r=="string"}function isStringSafe(_r){return objToString.call(_r)==="[object String]"}function isNumber(_r){return typeof _r=="number"}function isObject$3(_r){var Be=typeof _r;return Be==="function"||!!_r&&Be==="object"}function isBuiltInObject(_r){return!!BUILTIN_OBJECT[objToString.call(_r)]}function isTypedArray(_r){return!!TYPED_ARRAY[objToString.call(_r)]}function isDom(_r){return typeof _r=="object"&&typeof _r.nodeType=="number"&&typeof _r.ownerDocument=="object"}function isGradientObject(_r){return _r.colorStops!=null}function isImagePatternObject(_r){return _r.image!=null}function isRegExp(_r){return objToString.call(_r)==="[object RegExp]"}function eqNaN(_r){return _r!==_r}function retrieve(){for(var _r=[],Be=0;Be<arguments.length;Be++)_r[Be]=arguments[Be];for(var Dr=0,Mr=_r.length;Dr<Mr;Dr++)if(_r[Dr]!=null)return _r[Dr]}function retrieve2(_r,Be){return _r??Be}function retrieve3(_r,Be,Dr){return _r??Be??Dr}function slice(_r){for(var Be=[],Dr=1;Dr<arguments.length;Dr++)Be[Dr-1]=arguments[Dr];return nativeSlice.apply(_r,Be)}function normalizeCssArray$1(_r){if(typeof _r=="number")return[_r,_r,_r,_r];var Be=_r.length;return Be===2?[_r[0],_r[1],_r[0],_r[1]]:Be===3?[_r[0],_r[1],_r[2],_r[1]]:_r}function assert(_r,Be){if(!_r)throw new Error(Be)}function trim$1(_r){return _r==null?null:typeof _r.trim=="function"?_r.trim():_r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(_r){_r[primitiveKey]=!0}function isPrimitive(_r){return _r[primitiveKey]}var MapPolyfill=function(){function _r(){this.data={}}return _r.prototype.delete=function(Be){var Dr=this.has(Be);return Dr&&delete this.data[Be],Dr},_r.prototype.has=function(Be){return this.data.hasOwnProperty(Be)},_r.prototype.get=function(Be){return this.data[Be]},_r.prototype.set=function(Be,Dr){return this.data[Be]=Dr,this},_r.prototype.keys=function(){return keys(this.data)},_r.prototype.forEach=function(Be){var Dr=this.data;for(var Mr in Dr)Dr.hasOwnProperty(Mr)&&Be(Dr[Mr],Mr)},_r}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function _r(Be){var Dr=isArray$1(Be);this.data=maybeNativeMap();var Mr=this;Be instanceof _r?Be.each($r):Be&&each$f(Be,$r);function $r(Br,zr){Dr?Mr.set(Br,zr):Mr.set(zr,Br)}}return _r.prototype.hasKey=function(Be){return this.data.has(Be)},_r.prototype.get=function(Be){return this.data.get(Be)},_r.prototype.set=function(Be,Dr){return this.data.set(Be,Dr),Dr},_r.prototype.each=function(Be,Dr){this.data.forEach(function(Mr,$r){Be.call(Dr,Mr,$r)})},_r.prototype.keys=function(){var Be=this.data.keys();return isNativeMapSupported?Array.from(Be):Be},_r.prototype.removeKey=function(Be){this.data.delete(Be)},_r}();function createHashMap(_r){return new HashMap(_r)}function concatArray(_r,Be){for(var Dr=new _r.constructor(_r.length+Be.length),Mr=0;Mr<_r.length;Mr++)Dr[Mr]=_r[Mr];for(var $r=_r.length,Mr=0;Mr<Be.length;Mr++)Dr[Mr+$r]=Be[Mr];return Dr}function createObject(_r,Be){var Dr;if(Object.create)Dr=Object.create(_r);else{var Mr=function(){};Mr.prototype=_r,Dr=new Mr}return Be&&extend$1(Dr,Be),Dr}function disableUserSelect(_r){var Be=_r.style;Be.webkitUserSelect="none",Be.userSelect="none",Be.webkitTapHighlightColor="rgba(0,0,0,0)",Be["-webkit-touch-callout"]="none"}function hasOwn(_r,Be){return _r.hasOwnProperty(Be)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;const util$1=Object.freeze(Object.defineProperty({__proto__:null,HashMap,RADIAN_TO_DEGREE,assert,bind:bind$1,clone:clone$4,concatArray,createCanvas,createHashMap,createObject,curry:curry$1,defaults,disableUserSelect,each:each$f,eqNaN,extend:extend$1,filter,find,guid,hasOwn,indexOf,inherits,isArray:isArray$1,isArrayLike,isBuiltInObject,isDom,isFunction,isGradientObject,isImagePatternObject,isNumber,isObject:isObject$3,isPrimitive,isRegExp,isString,isStringSafe,isTypedArray,keys,logError,map:map$1,merge,mergeAll,mixin,noop,normalizeCssArray:normalizeCssArray$1,reduce,retrieve,retrieve2,retrieve3,setAsPrimitive,slice,trim:trim$1},Symbol.toStringTag,{value:"Module"}));function create$2(_r,Be){return _r==null&&(_r=0),Be==null&&(Be=0),[_r,Be]}function copy$1(_r,Be){return _r[0]=Be[0],_r[1]=Be[1],_r}function clone$3(_r){return[_r[0],_r[1]]}function set$1(_r,Be,Dr){return _r[0]=Be,_r[1]=Dr,_r}function add(_r,Be,Dr){return _r[0]=Be[0]+Dr[0],_r[1]=Be[1]+Dr[1],_r}function scaleAndAdd$1(_r,Be,Dr,Mr){return _r[0]=Be[0]+Dr[0]*Mr,_r[1]=Be[1]+Dr[1]*Mr,_r}function sub(_r,Be,Dr){return _r[0]=Be[0]-Dr[0],_r[1]=Be[1]-Dr[1],_r}function len(_r){return Math.sqrt(lenSquare(_r))}var length=len;function lenSquare(_r){return _r[0]*_r[0]+_r[1]*_r[1]}var lengthSquare=lenSquare;function mul$1(_r,Be,Dr){return _r[0]=Be[0]*Dr[0],_r[1]=Be[1]*Dr[1],_r}function div(_r,Be,Dr){return _r[0]=Be[0]/Dr[0],_r[1]=Be[1]/Dr[1],_r}function dot(_r,Be){return _r[0]*Be[0]+_r[1]*Be[1]}function scale$2(_r,Be,Dr){return _r[0]=Be[0]*Dr,_r[1]=Be[1]*Dr,_r}function normalize$3(_r,Be){var Dr=len(Be);return Dr===0?(_r[0]=0,_r[1]=0):(_r[0]=Be[0]/Dr,_r[1]=Be[1]/Dr),_r}function distance(_r,Be){return Math.sqrt((_r[0]-Be[0])*(_r[0]-Be[0])+(_r[1]-Be[1])*(_r[1]-Be[1]))}var dist$1=distance;function distanceSquare(_r,Be){return(_r[0]-Be[0])*(_r[0]-Be[0])+(_r[1]-Be[1])*(_r[1]-Be[1])}var distSquare=distanceSquare;function negate(_r,Be){return _r[0]=-Be[0],_r[1]=-Be[1],_r}function lerp$1(_r,Be,Dr,Mr){return _r[0]=Be[0]+Mr*(Dr[0]-Be[0]),_r[1]=Be[1]+Mr*(Dr[1]-Be[1]),_r}function applyTransform$1(_r,Be,Dr){var Mr=Be[0],$r=Be[1];return _r[0]=Dr[0]*Mr+Dr[2]*$r+Dr[4],_r[1]=Dr[1]*Mr+Dr[3]*$r+Dr[5],_r}function min$1(_r,Be,Dr){return _r[0]=Math.min(Be[0],Dr[0]),_r[1]=Math.min(Be[1],Dr[1]),_r}function max$1(_r,Be,Dr){return _r[0]=Math.max(Be[0],Dr[0]),_r[1]=Math.max(Be[1],Dr[1]),_r}const vector=Object.freeze(Object.defineProperty({__proto__:null,add,applyTransform:applyTransform$1,clone:clone$3,copy:copy$1,create:create$2,dist:dist$1,distSquare,distance,distanceSquare,div,dot,len,lenSquare,length,lengthSquare,lerp:lerp$1,max:max$1,min:min$1,mul:mul$1,negate,normalize:normalize$3,scale:scale$2,scaleAndAdd:scaleAndAdd$1,set:set$1,sub},Symbol.toStringTag,{value:"Module"}));var Param=function(){function _r(Be,Dr){this.target=Be,this.topTarget=Dr&&Dr.topTarget}return _r}(),Draggable=function(){function _r(Be){this.handler=Be,Be.on("mousedown",this._dragStart,this),Be.on("mousemove",this._drag,this),Be.on("mouseup",this._dragEnd,this)}return _r.prototype._dragStart=function(Be){for(var Dr=Be.target;Dr&&!Dr.draggable;)Dr=Dr.parent||Dr.__hostTarget;Dr&&(this._draggingTarget=Dr,Dr.dragging=!0,this._x=Be.offsetX,this._y=Be.offsetY,this.handler.dispatchToElement(new Param(Dr,Be),"dragstart",Be.event))},_r.prototype._drag=function(Be){var Dr=this._draggingTarget;if(Dr){var Mr=Be.offsetX,$r=Be.offsetY,Br=Mr-this._x,zr=$r-this._y;this._x=Mr,this._y=$r,Dr.drift(Br,zr,Be),this.handler.dispatchToElement(new Param(Dr,Be),"drag",Be.event);var Vr=this.handler.findHover(Mr,$r,Dr).target,jr=this._dropTarget;this._dropTarget=Vr,Dr!==Vr&&(jr&&Vr!==jr&&this.handler.dispatchToElement(new Param(jr,Be),"dragleave",Be.event),Vr&&Vr!==jr&&this.handler.dispatchToElement(new Param(Vr,Be),"dragenter",Be.event))}},_r.prototype._dragEnd=function(Be){var Dr=this._draggingTarget;Dr&&(Dr.dragging=!1),this.handler.dispatchToElement(new Param(Dr,Be),"dragend",Be.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,Be),"drop",Be.event),this._draggingTarget=null,this._dropTarget=null},_r}();const Draggable$1=Draggable;var Eventful=function(){function _r(Be){Be&&(this._$eventProcessor=Be)}return _r.prototype.on=function(Be,Dr,Mr,$r){this._$handlers||(this._$handlers={});var Br=this._$handlers;if(typeof Dr=="function"&&($r=Mr,Mr=Dr,Dr=null),!Mr||!Be)return this;var zr=this._$eventProcessor;Dr!=null&&zr&&zr.normalizeQuery&&(Dr=zr.normalizeQuery(Dr)),Br[Be]||(Br[Be]=[]);for(var Vr=0;Vr<Br[Be].length;Vr++)if(Br[Be][Vr].h===Mr)return this;var jr={h:Mr,query:Dr,ctx:$r||this,callAtLast:Mr.zrEventfulCallAtLast},Gr=Br[Be].length-1,Wr=Br[Be][Gr];return Wr&&Wr.callAtLast?Br[Be].splice(Gr,0,jr):Br[Be].push(jr),this},_r.prototype.isSilent=function(Be){var Dr=this._$handlers;return!Dr||!Dr[Be]||!Dr[Be].length},_r.prototype.off=function(Be,Dr){var Mr=this._$handlers;if(!Mr)return this;if(!Be)return this._$handlers={},this;if(Dr){if(Mr[Be]){for(var $r=[],Br=0,zr=Mr[Be].length;Br<zr;Br++)Mr[Be][Br].h!==Dr&&$r.push(Mr[Be][Br]);Mr[Be]=$r}Mr[Be]&&Mr[Be].length===0&&delete Mr[Be]}else delete Mr[Be];return this},_r.prototype.trigger=function(Be){for(var Dr=[],Mr=1;Mr<arguments.length;Mr++)Dr[Mr-1]=arguments[Mr];if(!this._$handlers)return this;var $r=this._$handlers[Be],Br=this._$eventProcessor;if($r)for(var zr=Dr.length,Vr=$r.length,jr=0;jr<Vr;jr++){var Gr=$r[jr];if(!(Br&&Br.filter&&Gr.query!=null&&!Br.filter(Be,Gr.query)))switch(zr){case 0:Gr.h.call(Gr.ctx);break;case 1:Gr.h.call(Gr.ctx,Dr[0]);break;case 2:Gr.h.call(Gr.ctx,Dr[0],Dr[1]);break;default:Gr.h.apply(Gr.ctx,Dr);break}}return Br&&Br.afterTrigger&&Br.afterTrigger(Be),this},_r.prototype.triggerWithContext=function(Be){for(var Dr=[],Mr=1;Mr<arguments.length;Mr++)Dr[Mr-1]=arguments[Mr];if(!this._$handlers)return this;var $r=this._$handlers[Be],Br=this._$eventProcessor;if($r)for(var zr=Dr.length,Vr=Dr[zr-1],jr=$r.length,Gr=0;Gr<jr;Gr++){var Wr=$r[Gr];if(!(Br&&Br.filter&&Wr.query!=null&&!Br.filter(Be,Wr.query)))switch(zr){case 0:Wr.h.call(Vr);break;case 1:Wr.h.call(Vr,Dr[0]);break;case 2:Wr.h.call(Vr,Dr[0],Dr[1]);break;default:Wr.h.apply(Vr,Dr.slice(1,zr-1));break}}return Br&&Br.afterTrigger&&Br.afterTrigger(Be),this},_r}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(_r,Be,Dr,Mr,$r,Br){var zr=Mr+"-"+$r,Vr=_r.length;if(Br.hasOwnProperty(zr))return Br[zr];if(Be===1){var jr=Math.round(Math.log((1<<Vr)-1&~$r)/LN2);return _r[Dr][jr]}for(var Gr=Mr|1<<Dr,Wr=Dr+1;Mr&1<<Wr;)Wr++;for(var Kr=0,Zr=0,Jr=0;Zr<Vr;Zr++){var rn=1<<Zr;rn&$r||(Kr+=(Jr%2?-1:1)*_r[Dr][Zr]*determinant(_r,Be-1,Wr,Gr,$r|rn,Br),Jr++)}return Br[zr]=Kr,Kr}function buildTransformer(_r,Be){var Dr=[[_r[0],_r[1],1,0,0,0,-Be[0]*_r[0],-Be[0]*_r[1]],[0,0,0,_r[0],_r[1],1,-Be[1]*_r[0],-Be[1]*_r[1]],[_r[2],_r[3],1,0,0,0,-Be[2]*_r[2],-Be[2]*_r[3]],[0,0,0,_r[2],_r[3],1,-Be[3]*_r[2],-Be[3]*_r[3]],[_r[4],_r[5],1,0,0,0,-Be[4]*_r[4],-Be[4]*_r[5]],[0,0,0,_r[4],_r[5],1,-Be[5]*_r[4],-Be[5]*_r[5]],[_r[6],_r[7],1,0,0,0,-Be[6]*_r[6],-Be[6]*_r[7]],[0,0,0,_r[6],_r[7],1,-Be[7]*_r[6],-Be[7]*_r[7]]],Mr={},$r=determinant(Dr,8,0,0,0,Mr);if($r!==0){for(var Br=[],zr=0;zr<8;zr++)for(var Vr=0;Vr<8;Vr++)Br[Vr]==null&&(Br[Vr]=0),Br[Vr]+=((zr+Vr)%2?-1:1)*determinant(Dr,7,zr===0?1:0,1<<zr,1<<Vr,Mr)/$r*Be[zr];return function(jr,Gr,Wr){var Kr=Gr*Br[6]+Wr*Br[7]+1;jr[0]=(Gr*Br[0]+Wr*Br[1]+Br[2])/Kr,jr[1]=(Gr*Br[3]+Wr*Br[4]+Br[5])/Kr}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(_r,Be,Dr,Mr,$r){return transformCoordWithViewport(_calcOut$1,Be,Mr,$r,!0)&&transformCoordWithViewport(_r,Dr,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(_r,Be,Dr,Mr,$r){if(Be.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(Be)){var Br=Be[EVENT_SAVED_PROP]||(Be[EVENT_SAVED_PROP]={}),zr=prepareCoordMarkers(Be,Br),Vr=preparePointerTransformer(zr,Br,$r);if(Vr)return Vr(_r,Dr,Mr),!0}return!1}function prepareCoordMarkers(_r,Be){var Dr=Be.markers;if(Dr)return Dr;Dr=Be.markers=[];for(var Mr=["left","right"],$r=["top","bottom"],Br=0;Br<4;Br++){var zr=document.createElement("div"),Vr=zr.style,jr=Br%2,Gr=(Br>>1)%2;Vr.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",Mr[jr]+":0",$r[Gr]+":0",Mr[1-jr]+":auto",$r[1-Gr]+":auto",""].join("!important;"),_r.appendChild(zr),Dr.push(zr)}return Dr}function preparePointerTransformer(_r,Be,Dr){for(var Mr=Dr?"invTrans":"trans",$r=Be[Mr],Br=Be.srcCoords,zr=[],Vr=[],jr=!0,Gr=0;Gr<4;Gr++){var Wr=_r[Gr].getBoundingClientRect(),Kr=2*Gr,Zr=Wr.left,Jr=Wr.top;zr.push(Zr,Jr),jr=jr&&Br&&Zr===Br[Kr]&&Jr===Br[Kr+1],Vr.push(_r[Gr].offsetLeft,_r[Gr].offsetTop)}return jr&&$r?$r:(Be.srcCoords=zr,Be[Mr]=Dr?buildTransformer(Vr,zr):buildTransformer(zr,Vr))}function isCanvasEl(_r){return _r.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(_r){return _r==null?"":(_r+"").replace(replaceReg,function(Be,Dr){return replaceMap[Dr]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(_r,Be,Dr,Mr){return Dr=Dr||{},Mr?calculateZrXY(_r,Be,Dr):firefoxNotSupportOffsetXY&&Be.layerX!=null&&Be.layerX!==Be.offsetX?(Dr.zrX=Be.layerX,Dr.zrY=Be.layerY):Be.offsetX!=null?(Dr.zrX=Be.offsetX,Dr.zrY=Be.offsetY):calculateZrXY(_r,Be,Dr),Dr}function calculateZrXY(_r,Be,Dr){if(env$1.domSupported&&_r.getBoundingClientRect){var Mr=Be.clientX,$r=Be.clientY;if(isCanvasEl(_r)){var Br=_r.getBoundingClientRect();Dr.zrX=Mr-Br.left,Dr.zrY=$r-Br.top;return}else if(transformCoordWithViewport(_calcOut,_r,Mr,$r)){Dr.zrX=_calcOut[0],Dr.zrY=_calcOut[1];return}}Dr.zrX=Dr.zrY=0}function getNativeEvent(_r){return _r||window.event}function normalizeEvent(_r,Be,Dr){if(Be=getNativeEvent(Be),Be.zrX!=null)return Be;var Mr=Be.type,$r=Mr&&Mr.indexOf("touch")>=0;if($r){var zr=Mr!=="touchend"?Be.targetTouches[0]:Be.changedTouches[0];zr&&clientToLocal(_r,zr,Be,Dr)}else{clientToLocal(_r,Be,Be,Dr);var Br=getWheelDeltaMayPolyfill(Be);Be.zrDelta=Br?Br/120:-(Be.detail||0)/3}var Vr=Be.button;return Be.which==null&&Vr!==void 0&&MOUSE_EVENT_REG.test(Be.type)&&(Be.which=Vr&1?1:Vr&2?3:Vr&4?2:0),Be}function getWheelDeltaMayPolyfill(_r){var Be=_r.wheelDelta;if(Be)return Be;var Dr=_r.deltaX,Mr=_r.deltaY;if(Dr==null||Mr==null)return Be;var $r=Math.abs(Mr!==0?Mr:Dr),Br=Mr>0?-1:Mr<0?1:Dr>0?-1:1;return 3*$r*Br}function addEventListener(_r,Be,Dr,Mr){_r.addEventListener(Be,Dr,Mr)}function removeEventListener(_r,Be,Dr,Mr){_r.removeEventListener(Be,Dr,Mr)}var stop=function(_r){_r.preventDefault(),_r.stopPropagation(),_r.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(_r){return _r.which===2||_r.which===3}var GestureMgr=function(){function _r(){this._track=[]}return _r.prototype.recognize=function(Be,Dr,Mr){return this._doTrack(Be,Dr,Mr),this._recognize(Be)},_r.prototype.clear=function(){return this._track.length=0,this},_r.prototype._doTrack=function(Be,Dr,Mr){var $r=Be.touches;if($r){for(var Br={points:[],touches:[],target:Dr,event:Be},zr=0,Vr=$r.length;zr<Vr;zr++){var jr=$r[zr],Gr=clientToLocal(Mr,jr,{});Br.points.push([Gr.zrX,Gr.zrY]),Br.touches.push(jr)}this._track.push(Br)}},_r.prototype._recognize=function(Be){for(var Dr in recognizers)if(recognizers.hasOwnProperty(Dr)){var Mr=recognizers[Dr](this._track,Be);if(Mr)return Mr}},_r}();function dist(_r){var Be=_r[1][0]-_r[0][0],Dr=_r[1][1]-_r[0][1];return Math.sqrt(Be*Be+Dr*Dr)}function center$1(_r){return[(_r[0][0]+_r[1][0])/2,(_r[0][1]+_r[1][1])/2]}var recognizers={pinch:function(_r,Be){var Dr=_r.length;if(Dr){var Mr=(_r[Dr-1]||{}).points,$r=(_r[Dr-2]||{}).points||Mr;if($r&&$r.length>1&&Mr&&Mr.length>1){var Br=dist(Mr)/dist($r);!isFinite(Br)&&(Br=1),Be.pinchScale=Br;var zr=center$1(Mr);return Be.pinchX=zr[0],Be.pinchY=zr[1],{type:"pinch",target:_r[0].target,event:Be}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(_r){return _r[0]=1,_r[1]=0,_r[2]=0,_r[3]=1,_r[4]=0,_r[5]=0,_r}function copy(_r,Be){return _r[0]=Be[0],_r[1]=Be[1],_r[2]=Be[2],_r[3]=Be[3],_r[4]=Be[4],_r[5]=Be[5],_r}function mul(_r,Be,Dr){var Mr=Be[0]*Dr[0]+Be[2]*Dr[1],$r=Be[1]*Dr[0]+Be[3]*Dr[1],Br=Be[0]*Dr[2]+Be[2]*Dr[3],zr=Be[1]*Dr[2]+Be[3]*Dr[3],Vr=Be[0]*Dr[4]+Be[2]*Dr[5]+Be[4],jr=Be[1]*Dr[4]+Be[3]*Dr[5]+Be[5];return _r[0]=Mr,_r[1]=$r,_r[2]=Br,_r[3]=zr,_r[4]=Vr,_r[5]=jr,_r}function translate(_r,Be,Dr){return _r[0]=Be[0],_r[1]=Be[1],_r[2]=Be[2],_r[3]=Be[3],_r[4]=Be[4]+Dr[0],_r[5]=Be[5]+Dr[1],_r}function rotate(_r,Be,Dr){var Mr=Be[0],$r=Be[2],Br=Be[4],zr=Be[1],Vr=Be[3],jr=Be[5],Gr=Math.sin(Dr),Wr=Math.cos(Dr);return _r[0]=Mr*Wr+zr*Gr,_r[1]=-Mr*Gr+zr*Wr,_r[2]=$r*Wr+Vr*Gr,_r[3]=-$r*Gr+Wr*Vr,_r[4]=Wr*Br+Gr*jr,_r[5]=Wr*jr-Gr*Br,_r}function scale$1(_r,Be,Dr){var Mr=Dr[0],$r=Dr[1];return _r[0]=Be[0]*Mr,_r[1]=Be[1]*$r,_r[2]=Be[2]*Mr,_r[3]=Be[3]*$r,_r[4]=Be[4]*Mr,_r[5]=Be[5]*$r,_r}function invert(_r,Be){var Dr=Be[0],Mr=Be[2],$r=Be[4],Br=Be[1],zr=Be[3],Vr=Be[5],jr=Dr*zr-Br*Mr;return jr?(jr=1/jr,_r[0]=zr*jr,_r[1]=-Br*jr,_r[2]=-Mr*jr,_r[3]=Dr*jr,_r[4]=(Mr*Vr-zr*$r)*jr,_r[5]=(Br*$r-Dr*Vr)*jr,_r):null}function clone$2(_r){var Be=create$1();return copy(Be,_r),Be}const matrix=Object.freeze(Object.defineProperty({__proto__:null,clone:clone$2,copy,create:create$1,identity,invert,mul,rotate,scale:scale$1,translate},Symbol.toStringTag,{value:"Module"}));var Point=function(){function _r(Be,Dr){this.x=Be||0,this.y=Dr||0}return _r.prototype.copy=function(Be){return this.x=Be.x,this.y=Be.y,this},_r.prototype.clone=function(){return new _r(this.x,this.y)},_r.prototype.set=function(Be,Dr){return this.x=Be,this.y=Dr,this},_r.prototype.equal=function(Be){return Be.x===this.x&&Be.y===this.y},_r.prototype.add=function(Be){return this.x+=Be.x,this.y+=Be.y,this},_r.prototype.scale=function(Be){this.x*=Be,this.y*=Be},_r.prototype.scaleAndAdd=function(Be,Dr){this.x+=Be.x*Dr,this.y+=Be.y*Dr},_r.prototype.sub=function(Be){return this.x-=Be.x,this.y-=Be.y,this},_r.prototype.dot=function(Be){return this.x*Be.x+this.y*Be.y},_r.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},_r.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},_r.prototype.normalize=function(){var Be=this.len();return this.x/=Be,this.y/=Be,this},_r.prototype.distance=function(Be){var Dr=this.x-Be.x,Mr=this.y-Be.y;return Math.sqrt(Dr*Dr+Mr*Mr)},_r.prototype.distanceSquare=function(Be){var Dr=this.x-Be.x,Mr=this.y-Be.y;return Dr*Dr+Mr*Mr},_r.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},_r.prototype.transform=function(Be){if(Be){var Dr=this.x,Mr=this.y;return this.x=Be[0]*Dr+Be[2]*Mr+Be[4],this.y=Be[1]*Dr+Be[3]*Mr+Be[5],this}},_r.prototype.toArray=function(Be){return Be[0]=this.x,Be[1]=this.y,Be},_r.prototype.fromArray=function(Be){this.x=Be[0],this.y=Be[1]},_r.set=function(Be,Dr,Mr){Be.x=Dr,Be.y=Mr},_r.copy=function(Be,Dr){Be.x=Dr.x,Be.y=Dr.y},_r.len=function(Be){return Math.sqrt(Be.x*Be.x+Be.y*Be.y)},_r.lenSquare=function(Be){return Be.x*Be.x+Be.y*Be.y},_r.dot=function(Be,Dr){return Be.x*Dr.x+Be.y*Dr.y},_r.add=function(Be,Dr,Mr){Be.x=Dr.x+Mr.x,Be.y=Dr.y+Mr.y},_r.sub=function(Be,Dr,Mr){Be.x=Dr.x-Mr.x,Be.y=Dr.y-Mr.y},_r.scale=function(Be,Dr,Mr){Be.x=Dr.x*Mr,Be.y=Dr.y*Mr},_r.scaleAndAdd=function(Be,Dr,Mr,$r){Be.x=Dr.x+Mr.x*$r,Be.y=Dr.y+Mr.y*$r},_r.lerp=function(Be,Dr,Mr,$r){var Br=1-$r;Be.x=Br*Dr.x+$r*Mr.x,Be.y=Br*Dr.y+$r*Mr.y},_r}();const Point$1=Point;var mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point$1,rb=new Point$1,lb=new Point$1,rt=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function _r(Be,Dr,Mr,$r){Mr<0&&(Be=Be+Mr,Mr=-Mr),$r<0&&(Dr=Dr+$r,$r=-$r),this.x=Be,this.y=Dr,this.width=Mr,this.height=$r}return _r.prototype.union=function(Be){var Dr=mathMin$a(Be.x,this.x),Mr=mathMin$a(Be.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(Be.x+Be.width,this.x+this.width)-Dr:this.width=Be.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(Be.y+Be.height,this.y+this.height)-Mr:this.height=Be.height,this.x=Dr,this.y=Mr},_r.prototype.applyTransform=function(Be){_r.applyTransform(this,this,Be)},_r.prototype.calculateTransform=function(Be){var Dr=this,Mr=Be.width/Dr.width,$r=Be.height/Dr.height,Br=create$1();return translate(Br,Br,[-Dr.x,-Dr.y]),scale$1(Br,Br,[Mr,$r]),translate(Br,Br,[Be.x,Be.y]),Br},_r.prototype.intersect=function(Be,Dr){if(!Be)return!1;Be instanceof _r||(Be=_r.create(Be));var Mr=this,$r=Mr.x,Br=Mr.x+Mr.width,zr=Mr.y,Vr=Mr.y+Mr.height,jr=Be.x,Gr=Be.x+Be.width,Wr=Be.y,Kr=Be.y+Be.height,Zr=!(Br<jr||Gr<$r||Vr<Wr||Kr<zr);if(Dr){var Jr=1/0,rn=0,nn=Math.abs(Br-jr),ln=Math.abs(Gr-$r),cn=Math.abs(Vr-Wr),hn=Math.abs(Kr-zr),mn=Math.min(nn,ln),bn=Math.min(cn,hn);Br<jr||Gr<$r?mn>rn&&(rn=mn,nn<ln?Point$1.set(maxTv$1,-nn,0):Point$1.set(maxTv$1,ln,0)):mn<Jr&&(Jr=mn,nn<ln?Point$1.set(minTv$1,nn,0):Point$1.set(minTv$1,-ln,0)),Vr<Wr||Kr<zr?bn>rn&&(rn=bn,cn<hn?Point$1.set(maxTv$1,0,-cn):Point$1.set(maxTv$1,0,hn)):mn<Jr&&(Jr=mn,cn<hn?Point$1.set(minTv$1,0,cn):Point$1.set(minTv$1,0,-hn))}return Dr&&Point$1.copy(Dr,Zr?minTv$1:maxTv$1),Zr},_r.prototype.contain=function(Be,Dr){var Mr=this;return Be>=Mr.x&&Be<=Mr.x+Mr.width&&Dr>=Mr.y&&Dr<=Mr.y+Mr.height},_r.prototype.clone=function(){return new _r(this.x,this.y,this.width,this.height)},_r.prototype.copy=function(Be){_r.copy(this,Be)},_r.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},_r.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},_r.prototype.isZero=function(){return this.width===0||this.height===0},_r.create=function(Be){return new _r(Be.x,Be.y,Be.width,Be.height)},_r.copy=function(Be,Dr){Be.x=Dr.x,Be.y=Dr.y,Be.width=Dr.width,Be.height=Dr.height},_r.applyTransform=function(Be,Dr,Mr){if(!Mr){Be!==Dr&&_r.copy(Be,Dr);return}if(Mr[1]<1e-5&&Mr[1]>-1e-5&&Mr[2]<1e-5&&Mr[2]>-1e-5){var $r=Mr[0],Br=Mr[3],zr=Mr[4],Vr=Mr[5];Be.x=Dr.x*$r+zr,Be.y=Dr.y*Br+Vr,Be.width=Dr.width*$r,Be.height=Dr.height*Br,Be.width<0&&(Be.x+=Be.width,Be.width=-Be.width),Be.height<0&&(Be.y+=Be.height,Be.height=-Be.height);return}lt.x=lb.x=Dr.x,lt.y=rt.y=Dr.y,rb.x=rt.x=Dr.x+Dr.width,rb.y=lb.y=Dr.y+Dr.height,lt.transform(Mr),rt.transform(Mr),rb.transform(Mr),lb.transform(Mr),Be.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),Be.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var jr=mathMax$a(lt.x,rb.x,lb.x,rt.x),Gr=mathMax$a(lt.y,rb.y,lb.y,rt.y);Be.width=jr-Be.x,Be.height=Gr-Be.y},_r}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(_r,Be,Dr){return{type:_r,event:Dr,target:Be.target,topTarget:Be.topTarget,cancelBubble:!1,offsetX:Dr.zrX,offsetY:Dr.zrY,gestureEvent:Dr.gestureEvent,pinchX:Dr.pinchX,pinchY:Dr.pinchY,pinchScale:Dr.pinchScale,wheelDelta:Dr.zrDelta,zrByTouch:Dr.zrByTouch,which:Dr.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.handler=null,Dr}return Be.prototype.dispose=function(){},Be.prototype.setCursor=function(){},Be}(Eventful$1),HoveredResult=function(){function _r(Be,Dr){this.x=Be,this.y=Dr}return _r}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r,Br,zr){var Vr=_r.call(this)||this;return Vr._hovered=new HoveredResult(0,0),Vr.storage=Dr,Vr.painter=Mr,Vr.painterRoot=Br,Vr._pointerSize=zr,$r=$r||new EmptyProxy,Vr.proxy=null,Vr.setHandlerProxy($r),Vr._draggingMgr=new Draggable$1(Vr),Vr}return Be.prototype.setHandlerProxy=function(Dr){this.proxy&&this.proxy.dispose(),Dr&&(each$f(handlerNames,function(Mr){Dr.on&&Dr.on(Mr,this[Mr],this)},this),Dr.handler=this),this.proxy=Dr},Be.prototype.mousemove=function(Dr){var Mr=Dr.zrX,$r=Dr.zrY,Br=isOutsideBoundary(this,Mr,$r),zr=this._hovered,Vr=zr.target;Vr&&!Vr.__zr&&(zr=this.findHover(zr.x,zr.y),Vr=zr.target);var jr=this._hovered=Br?new HoveredResult(Mr,$r):this.findHover(Mr,$r),Gr=jr.target,Wr=this.proxy;Wr.setCursor&&Wr.setCursor(Gr?Gr.cursor:"default"),Vr&&Gr!==Vr&&this.dispatchToElement(zr,"mouseout",Dr),this.dispatchToElement(jr,"mousemove",Dr),Gr&&Gr!==Vr&&this.dispatchToElement(jr,"mouseover",Dr)},Be.prototype.mouseout=function(Dr){var Mr=Dr.zrEventControl;Mr!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",Dr),Mr!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:Dr})},Be.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},Be.prototype.dispatch=function(Dr,Mr){var $r=this[Dr];$r&&$r.call(this,Mr)},Be.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},Be.prototype.setCursorStyle=function(Dr){var Mr=this.proxy;Mr.setCursor&&Mr.setCursor(Dr)},Be.prototype.dispatchToElement=function(Dr,Mr,$r){Dr=Dr||{};var Br=Dr.target;if(!(Br&&Br.silent)){for(var zr="on"+Mr,Vr=makeEventPacket(Mr,Dr,$r);Br&&(Br[zr]&&(Vr.cancelBubble=!!Br[zr].call(Br,Vr)),Br.trigger(Mr,Vr),Br=Br.__hostTarget?Br.__hostTarget:Br.parent,!Vr.cancelBubble););Vr.cancelBubble||(this.trigger(Mr,Vr),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(jr){typeof jr[zr]=="function"&&jr[zr].call(jr,Vr),jr.trigger&&jr.trigger(Mr,Vr)}))}},Be.prototype.findHover=function(Dr,Mr,$r){var Br=this.storage.getDisplayList(),zr=new HoveredResult(Dr,Mr);if(setHoverTarget(Br,zr,Dr,Mr,$r),this._pointerSize&&!zr.target){for(var Vr=[],jr=this._pointerSize,Gr=jr/2,Wr=new BoundingRect$1(Dr-Gr,Mr-Gr,jr,jr),Kr=Br.length-1;Kr>=0;Kr--){var Zr=Br[Kr];Zr!==$r&&!Zr.ignore&&!Zr.ignoreCoarsePointer&&(!Zr.parent||!Zr.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(Zr.getBoundingRect()),Zr.transform&&tmpRect$1.applyTransform(Zr.transform),tmpRect$1.intersect(Wr)&&Vr.push(Zr))}if(Vr.length)for(var Jr=4,rn=Math.PI/12,nn=Math.PI*2,ln=0;ln<Gr;ln+=Jr)for(var cn=0;cn<nn;cn+=rn){var hn=Dr+ln*Math.cos(cn),mn=Mr+ln*Math.sin(cn);if(setHoverTarget(Vr,zr,hn,mn,$r),zr.target)return zr}}return zr},Be.prototype.processGesture=function(Dr,Mr){this._gestureMgr||(this._gestureMgr=new GestureMgr);var $r=this._gestureMgr;Mr==="start"&&$r.clear();var Br=$r.recognize(Dr,this.findHover(Dr.zrX,Dr.zrY,null).target,this.proxy.dom);if(Mr==="end"&&$r.clear(),Br){var zr=Br.type;Dr.gestureEvent=zr;var Vr=new HoveredResult;Vr.target=Br.target,this.dispatchToElement(Vr,zr,Br.event)}},Be}(Eventful$1);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(_r){Handler.prototype[_r]=function(Be){var Dr=Be.zrX,Mr=Be.zrY,$r=isOutsideBoundary(this,Dr,Mr),Br,zr;if((_r!=="mouseup"||!$r)&&(Br=this.findHover(Dr,Mr),zr=Br.target),_r==="mousedown")this._downEl=zr,this._downPoint=[Be.zrX,Be.zrY],this._upEl=zr;else if(_r==="mouseup")this._upEl=zr;else if(_r==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[Be.zrX,Be.zrY])>4)return;this._downPoint=null}this.dispatchToElement(Br,_r,Be)}});function isHover(_r,Be,Dr){if(_r[_r.rectHover?"rectContain":"contain"](Be,Dr)){for(var Mr=_r,$r=void 0,Br=!1;Mr;){if(Mr.ignoreClip&&(Br=!0),!Br){var zr=Mr.getClipPath();if(zr&&!zr.contain(Be,Dr))return!1;Mr.silent&&($r=!0)}var Vr=Mr.__hostTarget;Mr=Vr||Mr.parent}return $r?SILENT:!0}return!1}function setHoverTarget(_r,Be,Dr,Mr,$r){for(var Br=_r.length-1;Br>=0;Br--){var zr=_r[Br],Vr=void 0;if(zr!==$r&&!zr.ignore&&(Vr=isHover(zr,Dr,Mr))&&(!Be.topTarget&&(Be.topTarget=zr),Vr!==SILENT)){Be.target=zr;break}}}function isOutsideBoundary(_r,Be,Dr){var Mr=_r.painter;return Be<0||Be>Mr.getWidth()||Dr<0||Dr>Mr.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(_r){for(var Be=0;_r>=DEFAULT_MIN_MERGE;)Be|=_r&1,_r>>=1;return _r+Be}function makeAscendingRun(_r,Be,Dr,Mr){var $r=Be+1;if($r===Dr)return 1;if(Mr(_r[$r++],_r[Be])<0){for(;$r<Dr&&Mr(_r[$r],_r[$r-1])<0;)$r++;reverseRun(_r,Be,$r)}else for(;$r<Dr&&Mr(_r[$r],_r[$r-1])>=0;)$r++;return $r-Be}function reverseRun(_r,Be,Dr){for(Dr--;Be<Dr;){var Mr=_r[Be];_r[Be++]=_r[Dr],_r[Dr--]=Mr}}function binaryInsertionSort(_r,Be,Dr,Mr,$r){for(Mr===Be&&Mr++;Mr<Dr;Mr++){for(var Br=_r[Mr],zr=Be,Vr=Mr,jr;zr<Vr;)jr=zr+Vr>>>1,$r(Br,_r[jr])<0?Vr=jr:zr=jr+1;var Gr=Mr-zr;switch(Gr){case 3:_r[zr+3]=_r[zr+2];case 2:_r[zr+2]=_r[zr+1];case 1:_r[zr+1]=_r[zr];break;default:for(;Gr>0;)_r[zr+Gr]=_r[zr+Gr-1],Gr--}_r[zr]=Br}}function gallopLeft(_r,Be,Dr,Mr,$r,Br){var zr=0,Vr=0,jr=1;if(Br(_r,Be[Dr+$r])>0){for(Vr=Mr-$r;jr<Vr&&Br(_r,Be[Dr+$r+jr])>0;)zr=jr,jr=(jr<<1)+1,jr<=0&&(jr=Vr);jr>Vr&&(jr=Vr),zr+=$r,jr+=$r}else{for(Vr=$r+1;jr<Vr&&Br(_r,Be[Dr+$r-jr])<=0;)zr=jr,jr=(jr<<1)+1,jr<=0&&(jr=Vr);jr>Vr&&(jr=Vr);var Gr=zr;zr=$r-jr,jr=$r-Gr}for(zr++;zr<jr;){var Wr=zr+(jr-zr>>>1);Br(_r,Be[Dr+Wr])>0?zr=Wr+1:jr=Wr}return jr}function gallopRight(_r,Be,Dr,Mr,$r,Br){var zr=0,Vr=0,jr=1;if(Br(_r,Be[Dr+$r])<0){for(Vr=$r+1;jr<Vr&&Br(_r,Be[Dr+$r-jr])<0;)zr=jr,jr=(jr<<1)+1,jr<=0&&(jr=Vr);jr>Vr&&(jr=Vr);var Gr=zr;zr=$r-jr,jr=$r-Gr}else{for(Vr=Mr-$r;jr<Vr&&Br(_r,Be[Dr+$r+jr])>=0;)zr=jr,jr=(jr<<1)+1,jr<=0&&(jr=Vr);jr>Vr&&(jr=Vr),zr+=$r,jr+=$r}for(zr++;zr<jr;){var Wr=zr+(jr-zr>>>1);Br(_r,Be[Dr+Wr])<0?jr=Wr:zr=Wr+1}return jr}function TimSort(_r,Be){var Dr=DEFAULT_MIN_GALLOPING,Mr,$r,Br=0;_r.length;var zr=[];Mr=[],$r=[];function Vr(Jr,rn){Mr[Br]=Jr,$r[Br]=rn,Br+=1}function jr(){for(;Br>1;){var Jr=Br-2;if(Jr>=1&&$r[Jr-1]<=$r[Jr]+$r[Jr+1]||Jr>=2&&$r[Jr-2]<=$r[Jr]+$r[Jr-1])$r[Jr-1]<$r[Jr+1]&&Jr--;else if($r[Jr]>$r[Jr+1])break;Wr(Jr)}}function Gr(){for(;Br>1;){var Jr=Br-2;Jr>0&&$r[Jr-1]<$r[Jr+1]&&Jr--,Wr(Jr)}}function Wr(Jr){var rn=Mr[Jr],nn=$r[Jr],ln=Mr[Jr+1],cn=$r[Jr+1];$r[Jr]=nn+cn,Jr===Br-3&&(Mr[Jr+1]=Mr[Jr+2],$r[Jr+1]=$r[Jr+2]),Br--;var hn=gallopRight(_r[ln],_r,rn,nn,0,Be);rn+=hn,nn-=hn,nn!==0&&(cn=gallopLeft(_r[rn+nn-1],_r,ln,cn,cn-1,Be),cn!==0&&(nn<=cn?Kr(rn,nn,ln,cn):Zr(rn,nn,ln,cn)))}function Kr(Jr,rn,nn,ln){var cn=0;for(cn=0;cn<rn;cn++)zr[cn]=_r[Jr+cn];var hn=0,mn=nn,bn=Jr;if(_r[bn++]=_r[mn++],--ln===0){for(cn=0;cn<rn;cn++)_r[bn+cn]=zr[hn+cn];return}if(rn===1){for(cn=0;cn<ln;cn++)_r[bn+cn]=_r[mn+cn];_r[bn+ln]=zr[hn];return}for(var An=Dr,vn,dn,wn;;){vn=0,dn=0,wn=!1;do if(Be(_r[mn],zr[hn])<0){if(_r[bn++]=_r[mn++],dn++,vn=0,--ln===0){wn=!0;break}}else if(_r[bn++]=zr[hn++],vn++,dn=0,--rn===1){wn=!0;break}while((vn|dn)<An);if(wn)break;do{if(vn=gallopRight(_r[mn],zr,hn,rn,0,Be),vn!==0){for(cn=0;cn<vn;cn++)_r[bn+cn]=zr[hn+cn];if(bn+=vn,hn+=vn,rn-=vn,rn<=1){wn=!0;break}}if(_r[bn++]=_r[mn++],--ln===0){wn=!0;break}if(dn=gallopLeft(zr[hn],_r,mn,ln,0,Be),dn!==0){for(cn=0;cn<dn;cn++)_r[bn+cn]=_r[mn+cn];if(bn+=dn,mn+=dn,ln-=dn,ln===0){wn=!0;break}}if(_r[bn++]=zr[hn++],--rn===1){wn=!0;break}An--}while(vn>=DEFAULT_MIN_GALLOPING||dn>=DEFAULT_MIN_GALLOPING);if(wn)break;An<0&&(An=0),An+=2}if(Dr=An,Dr<1&&(Dr=1),rn===1){for(cn=0;cn<ln;cn++)_r[bn+cn]=_r[mn+cn];_r[bn+ln]=zr[hn]}else{if(rn===0)throw new Error;for(cn=0;cn<rn;cn++)_r[bn+cn]=zr[hn+cn]}}function Zr(Jr,rn,nn,ln){var cn=0;for(cn=0;cn<ln;cn++)zr[cn]=_r[nn+cn];var hn=Jr+rn-1,mn=ln-1,bn=nn+ln-1,An=0,vn=0;if(_r[bn--]=_r[hn--],--rn===0){for(An=bn-(ln-1),cn=0;cn<ln;cn++)_r[An+cn]=zr[cn];return}if(ln===1){for(bn-=rn,hn-=rn,vn=bn+1,An=hn+1,cn=rn-1;cn>=0;cn--)_r[vn+cn]=_r[An+cn];_r[bn]=zr[mn];return}for(var dn=Dr;;){var wn=0,xn=0,Mn=!1;do if(Be(zr[mn],_r[hn])<0){if(_r[bn--]=_r[hn--],wn++,xn=0,--rn===0){Mn=!0;break}}else if(_r[bn--]=zr[mn--],xn++,wn=0,--ln===1){Mn=!0;break}while((wn|xn)<dn);if(Mn)break;do{if(wn=rn-gallopRight(zr[mn],_r,Jr,rn,rn-1,Be),wn!==0){for(bn-=wn,hn-=wn,rn-=wn,vn=bn+1,An=hn+1,cn=wn-1;cn>=0;cn--)_r[vn+cn]=_r[An+cn];if(rn===0){Mn=!0;break}}if(_r[bn--]=zr[mn--],--ln===1){Mn=!0;break}if(xn=ln-gallopLeft(_r[hn],zr,0,ln,ln-1,Be),xn!==0){for(bn-=xn,mn-=xn,ln-=xn,vn=bn+1,An=mn+1,cn=0;cn<xn;cn++)_r[vn+cn]=zr[An+cn];if(ln<=1){Mn=!0;break}}if(_r[bn--]=_r[hn--],--rn===0){Mn=!0;break}dn--}while(wn>=DEFAULT_MIN_GALLOPING||xn>=DEFAULT_MIN_GALLOPING);if(Mn)break;dn<0&&(dn=0),dn+=2}if(Dr=dn,Dr<1&&(Dr=1),ln===1){for(bn-=rn,hn-=rn,vn=bn+1,An=hn+1,cn=rn-1;cn>=0;cn--)_r[vn+cn]=_r[An+cn];_r[bn]=zr[mn]}else{if(ln===0)throw new Error;for(An=bn-(ln-1),cn=0;cn<ln;cn++)_r[An+cn]=zr[cn]}}return{mergeRuns:jr,forceMergeRuns:Gr,pushRun:Vr}}function sort$2(_r,Be,Dr,Mr){Dr||(Dr=0),Mr||(Mr=_r.length);var $r=Mr-Dr;if(!($r<2)){var Br=0;if($r<DEFAULT_MIN_MERGE){Br=makeAscendingRun(_r,Dr,Mr,Be),binaryInsertionSort(_r,Dr,Mr,Dr+Br,Be);return}var zr=TimSort(_r,Be),Vr=minRunLength($r);do{if(Br=makeAscendingRun(_r,Dr,Mr,Be),Br<Vr){var jr=$r;jr>Vr&&(jr=Vr),binaryInsertionSort(_r,Dr,Dr+jr,Dr+Br,Be),Br=jr}zr.pushRun(Dr,Br),zr.mergeRuns(),$r-=Br,Dr+=Br}while($r!==0);zr.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(_r,Be){return _r.zlevel===Be.zlevel?_r.z===Be.z?_r.z2-Be.z2:_r.z-Be.z:_r.zlevel-Be.zlevel}var Storage=function(){function _r(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return _r.prototype.traverse=function(Be,Dr){for(var Mr=0;Mr<this._roots.length;Mr++)this._roots[Mr].traverse(Be,Dr)},_r.prototype.getDisplayList=function(Be,Dr){Dr=Dr||!1;var Mr=this._displayList;return(Be||!Mr.length)&&this.updateDisplayList(Dr),Mr},_r.prototype.updateDisplayList=function(Be){this._displayListLen=0;for(var Dr=this._roots,Mr=this._displayList,$r=0,Br=Dr.length;$r<Br;$r++)this._updateAndAddDisplayable(Dr[$r],null,Be);Mr.length=this._displayListLen,sort$2(Mr,shapeCompareFunc)},_r.prototype._updateAndAddDisplayable=function(Be,Dr,Mr){if(!(Be.ignore&&!Mr)){Be.beforeUpdate(),Be.update(),Be.afterUpdate();var $r=Be.getClipPath();if(Be.ignoreClip)Dr=null;else if($r){Dr?Dr=Dr.slice():Dr=[];for(var Br=$r,zr=Be;Br;)Br.parent=zr,Br.updateTransform(),Dr.push(Br),zr=Br,Br=Br.getClipPath()}if(Be.childrenRef){for(var Vr=Be.childrenRef(),jr=0;jr<Vr.length;jr++){var Gr=Vr[jr];Be.__dirty&&(Gr.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(Gr,Dr,Mr)}Be.__dirty=0}else{var Wr=Be;Dr&&Dr.length?Wr.__clipPaths=Dr:Wr.__clipPaths&&Wr.__clipPaths.length>0&&(Wr.__clipPaths=[]),isNaN(Wr.z)&&(logInvalidZError(),Wr.z=0),isNaN(Wr.z2)&&(logInvalidZError(),Wr.z2=0),isNaN(Wr.zlevel)&&(logInvalidZError(),Wr.zlevel=0),this._displayList[this._displayListLen++]=Wr}var Kr=Be.getDecalElement&&Be.getDecalElement();Kr&&this._updateAndAddDisplayable(Kr,Dr,Mr);var Zr=Be.getTextGuideLine();Zr&&this._updateAndAddDisplayable(Zr,Dr,Mr);var Jr=Be.getTextContent();Jr&&this._updateAndAddDisplayable(Jr,Dr,Mr)}},_r.prototype.addRoot=function(Be){Be.__zr&&Be.__zr.storage===this||this._roots.push(Be)},_r.prototype.delRoot=function(Be){if(Be instanceof Array){for(var Dr=0,Mr=Be.length;Dr<Mr;Dr++)this.delRoot(Be[Dr]);return}var $r=indexOf(this._roots,Be);$r>=0&&this._roots.splice($r,1)},_r.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},_r.prototype.getRoots=function(){return this._roots},_r.prototype.dispose=function(){this._displayList=null,this._roots=null},_r}();const Storage$1=Storage;var requestAnimationFrame$1;requestAnimationFrame$1=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(_r){return setTimeout(_r,16)};const requestAnimationFrame$2=requestAnimationFrame$1;var easingFuncs={linear:function(_r){return _r},quadraticIn:function(_r){return _r*_r},quadraticOut:function(_r){return _r*(2-_r)},quadraticInOut:function(_r){return(_r*=2)<1?.5*_r*_r:-.5*(--_r*(_r-2)-1)},cubicIn:function(_r){return _r*_r*_r},cubicOut:function(_r){return--_r*_r*_r+1},cubicInOut:function(_r){return(_r*=2)<1?.5*_r*_r*_r:.5*((_r-=2)*_r*_r+2)},quarticIn:function(_r){return _r*_r*_r*_r},quarticOut:function(_r){return 1- --_r*_r*_r*_r},quarticInOut:function(_r){return(_r*=2)<1?.5*_r*_r*_r*_r:-.5*((_r-=2)*_r*_r*_r-2)},quinticIn:function(_r){return _r*_r*_r*_r*_r},quinticOut:function(_r){return--_r*_r*_r*_r*_r+1},quinticInOut:function(_r){return(_r*=2)<1?.5*_r*_r*_r*_r*_r:.5*((_r-=2)*_r*_r*_r*_r+2)},sinusoidalIn:function(_r){return 1-Math.cos(_r*Math.PI/2)},sinusoidalOut:function(_r){return Math.sin(_r*Math.PI/2)},sinusoidalInOut:function(_r){return .5*(1-Math.cos(Math.PI*_r))},exponentialIn:function(_r){return _r===0?0:Math.pow(1024,_r-1)},exponentialOut:function(_r){return _r===1?1:1-Math.pow(2,-10*_r)},exponentialInOut:function(_r){return _r===0?0:_r===1?1:(_r*=2)<1?.5*Math.pow(1024,_r-1):.5*(-Math.pow(2,-10*(_r-1))+2)},circularIn:function(_r){return 1-Math.sqrt(1-_r*_r)},circularOut:function(_r){return Math.sqrt(1- --_r*_r)},circularInOut:function(_r){return(_r*=2)<1?-.5*(Math.sqrt(1-_r*_r)-1):.5*(Math.sqrt(1-(_r-=2)*_r)+1)},elasticIn:function(_r){var Be,Dr=.1,Mr=.4;return _r===0?0:_r===1?1:(!Dr||Dr<1?(Dr=1,Be=Mr/4):Be=Mr*Math.asin(1/Dr)/(2*Math.PI),-(Dr*Math.pow(2,10*(_r-=1))*Math.sin((_r-Be)*(2*Math.PI)/Mr)))},elasticOut:function(_r){var Be,Dr=.1,Mr=.4;return _r===0?0:_r===1?1:(!Dr||Dr<1?(Dr=1,Be=Mr/4):Be=Mr*Math.asin(1/Dr)/(2*Math.PI),Dr*Math.pow(2,-10*_r)*Math.sin((_r-Be)*(2*Math.PI)/Mr)+1)},elasticInOut:function(_r){var Be,Dr=.1,Mr=.4;return _r===0?0:_r===1?1:(!Dr||Dr<1?(Dr=1,Be=Mr/4):Be=Mr*Math.asin(1/Dr)/(2*Math.PI),(_r*=2)<1?-.5*(Dr*Math.pow(2,10*(_r-=1))*Math.sin((_r-Be)*(2*Math.PI)/Mr)):Dr*Math.pow(2,-10*(_r-=1))*Math.sin((_r-Be)*(2*Math.PI)/Mr)*.5+1)},backIn:function(_r){var Be=1.70158;return _r*_r*((Be+1)*_r-Be)},backOut:function(_r){var Be=1.70158;return--_r*_r*((Be+1)*_r+Be)+1},backInOut:function(_r){var Be=2.5949095;return(_r*=2)<1?.5*(_r*_r*((Be+1)*_r-Be)):.5*((_r-=2)*_r*((Be+1)*_r+Be)+2)},bounceIn:function(_r){return 1-easingFuncs.bounceOut(1-_r)},bounceOut:function(_r){return _r<1/2.75?7.5625*_r*_r:_r<2/2.75?7.5625*(_r-=1.5/2.75)*_r+.75:_r<2.5/2.75?7.5625*(_r-=2.25/2.75)*_r+.9375:7.5625*(_r-=2.625/2.75)*_r+.984375},bounceInOut:function(_r){return _r<.5?easingFuncs.bounceIn(_r*2)*.5:easingFuncs.bounceOut(_r*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(_r){return _r>-EPSILON$4&&_r<EPSILON$4}function isNotAroundZero$1(_r){return _r>EPSILON$4||_r<-EPSILON$4}function cubicAt(_r,Be,Dr,Mr,$r){var Br=1-$r;return Br*Br*(Br*_r+3*$r*Be)+$r*$r*($r*Mr+3*Br*Dr)}function cubicDerivativeAt(_r,Be,Dr,Mr,$r){var Br=1-$r;return 3*(((Be-_r)*Br+2*(Dr-Be)*$r)*Br+(Mr-Dr)*$r*$r)}function cubicRootAt(_r,Be,Dr,Mr,$r,Br){var zr=Mr+3*(Be-Dr)-_r,Vr=3*(Dr-Be*2+_r),jr=3*(Be-_r),Gr=_r-$r,Wr=Vr*Vr-3*zr*jr,Kr=Vr*jr-9*zr*Gr,Zr=jr*jr-3*Vr*Gr,Jr=0;if(isAroundZero$1(Wr)&&isAroundZero$1(Kr))if(isAroundZero$1(Vr))Br[0]=0;else{var rn=-jr/Vr;rn>=0&&rn<=1&&(Br[Jr++]=rn)}else{var nn=Kr*Kr-4*Wr*Zr;if(isAroundZero$1(nn)){var ln=Kr/Wr,rn=-Vr/zr+ln,cn=-ln/2;rn>=0&&rn<=1&&(Br[Jr++]=rn),cn>=0&&cn<=1&&(Br[Jr++]=cn)}else if(nn>0){var hn=mathSqrt$3(nn),mn=Wr*Vr+1.5*zr*(-Kr+hn),bn=Wr*Vr+1.5*zr*(-Kr-hn);mn<0?mn=-mathPow$2(-mn,ONE_THIRD):mn=mathPow$2(mn,ONE_THIRD),bn<0?bn=-mathPow$2(-bn,ONE_THIRD):bn=mathPow$2(bn,ONE_THIRD);var rn=(-Vr-(mn+bn))/(3*zr);rn>=0&&rn<=1&&(Br[Jr++]=rn)}else{var An=(2*Wr*Vr-3*zr*Kr)/(2*mathSqrt$3(Wr*Wr*Wr)),vn=Math.acos(An)/3,dn=mathSqrt$3(Wr),wn=Math.cos(vn),rn=(-Vr-2*dn*wn)/(3*zr),cn=(-Vr+dn*(wn+THREE_SQRT*Math.sin(vn)))/(3*zr),xn=(-Vr+dn*(wn-THREE_SQRT*Math.sin(vn)))/(3*zr);rn>=0&&rn<=1&&(Br[Jr++]=rn),cn>=0&&cn<=1&&(Br[Jr++]=cn),xn>=0&&xn<=1&&(Br[Jr++]=xn)}}return Jr}function cubicExtrema(_r,Be,Dr,Mr,$r){var Br=6*Dr-12*Be+6*_r,zr=9*Be+3*Mr-3*_r-9*Dr,Vr=3*Be-3*_r,jr=0;if(isAroundZero$1(zr)){if(isNotAroundZero$1(Br)){var Gr=-Vr/Br;Gr>=0&&Gr<=1&&($r[jr++]=Gr)}}else{var Wr=Br*Br-4*zr*Vr;if(isAroundZero$1(Wr))$r[0]=-Br/(2*zr);else if(Wr>0){var Kr=mathSqrt$3(Wr),Gr=(-Br+Kr)/(2*zr),Zr=(-Br-Kr)/(2*zr);Gr>=0&&Gr<=1&&($r[jr++]=Gr),Zr>=0&&Zr<=1&&($r[jr++]=Zr)}}return jr}function cubicSubdivide(_r,Be,Dr,Mr,$r,Br){var zr=(Be-_r)*$r+_r,Vr=(Dr-Be)*$r+Be,jr=(Mr-Dr)*$r+Dr,Gr=(Vr-zr)*$r+zr,Wr=(jr-Vr)*$r+Vr,Kr=(Wr-Gr)*$r+Gr;Br[0]=_r,Br[1]=zr,Br[2]=Gr,Br[3]=Kr,Br[4]=Kr,Br[5]=Wr,Br[6]=jr,Br[7]=Mr}function cubicProjectPoint(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr,Wr){var Kr,Zr=.005,Jr=1/0,rn,nn,ln,cn;_v0[0]=jr,_v0[1]=Gr;for(var hn=0;hn<1;hn+=.05)_v1[0]=cubicAt(_r,Dr,$r,zr,hn),_v1[1]=cubicAt(Be,Mr,Br,Vr,hn),ln=distSquare(_v0,_v1),ln<Jr&&(Kr=hn,Jr=ln);Jr=1/0;for(var mn=0;mn<32&&!(Zr<EPSILON_NUMERIC);mn++)rn=Kr-Zr,nn=Kr+Zr,_v1[0]=cubicAt(_r,Dr,$r,zr,rn),_v1[1]=cubicAt(Be,Mr,Br,Vr,rn),ln=distSquare(_v1,_v0),rn>=0&&ln<Jr?(Kr=rn,Jr=ln):(_v2[0]=cubicAt(_r,Dr,$r,zr,nn),_v2[1]=cubicAt(Be,Mr,Br,Vr,nn),cn=distSquare(_v2,_v0),nn<=1&&cn<Jr?(Kr=nn,Jr=cn):Zr*=.5);return Wr&&(Wr[0]=cubicAt(_r,Dr,$r,zr,Kr),Wr[1]=cubicAt(Be,Mr,Br,Vr,Kr)),mathSqrt$3(Jr)}function cubicLength(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){for(var Gr=_r,Wr=Be,Kr=0,Zr=1/jr,Jr=1;Jr<=jr;Jr++){var rn=Jr*Zr,nn=cubicAt(_r,Dr,$r,zr,rn),ln=cubicAt(Be,Mr,Br,Vr,rn),cn=nn-Gr,hn=ln-Wr;Kr+=Math.sqrt(cn*cn+hn*hn),Gr=nn,Wr=ln}return Kr}function quadraticAt$1(_r,Be,Dr,Mr){var $r=1-Mr;return $r*($r*_r+2*Mr*Be)+Mr*Mr*Dr}function quadraticDerivativeAt(_r,Be,Dr,Mr){return 2*((1-Mr)*(Be-_r)+Mr*(Dr-Be))}function quadraticRootAt(_r,Be,Dr,Mr,$r){var Br=_r-2*Be+Dr,zr=2*(Be-_r),Vr=_r-Mr,jr=0;if(isAroundZero$1(Br)){if(isNotAroundZero$1(zr)){var Gr=-Vr/zr;Gr>=0&&Gr<=1&&($r[jr++]=Gr)}}else{var Wr=zr*zr-4*Br*Vr;if(isAroundZero$1(Wr)){var Gr=-zr/(2*Br);Gr>=0&&Gr<=1&&($r[jr++]=Gr)}else if(Wr>0){var Kr=mathSqrt$3(Wr),Gr=(-zr+Kr)/(2*Br),Zr=(-zr-Kr)/(2*Br);Gr>=0&&Gr<=1&&($r[jr++]=Gr),Zr>=0&&Zr<=1&&($r[jr++]=Zr)}}return jr}function quadraticExtremum(_r,Be,Dr){var Mr=_r+Dr-2*Be;return Mr===0?.5:(_r-Be)/Mr}function quadraticSubdivide(_r,Be,Dr,Mr,$r){var Br=(Be-_r)*Mr+_r,zr=(Dr-Be)*Mr+Be,Vr=(zr-Br)*Mr+Br;$r[0]=_r,$r[1]=Br,$r[2]=Vr,$r[3]=Vr,$r[4]=zr,$r[5]=Dr}function quadraticProjectPoint(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){var Gr,Wr=.005,Kr=1/0;_v0[0]=zr,_v0[1]=Vr;for(var Zr=0;Zr<1;Zr+=.05){_v1[0]=quadraticAt$1(_r,Dr,$r,Zr),_v1[1]=quadraticAt$1(Be,Mr,Br,Zr);var Jr=distSquare(_v0,_v1);Jr<Kr&&(Gr=Zr,Kr=Jr)}Kr=1/0;for(var rn=0;rn<32&&!(Wr<EPSILON_NUMERIC);rn++){var nn=Gr-Wr,ln=Gr+Wr;_v1[0]=quadraticAt$1(_r,Dr,$r,nn),_v1[1]=quadraticAt$1(Be,Mr,Br,nn);var Jr=distSquare(_v1,_v0);if(nn>=0&&Jr<Kr)Gr=nn,Kr=Jr;else{_v2[0]=quadraticAt$1(_r,Dr,$r,ln),_v2[1]=quadraticAt$1(Be,Mr,Br,ln);var cn=distSquare(_v2,_v0);ln<=1&&cn<Kr?(Gr=ln,Kr=cn):Wr*=.5}}return jr&&(jr[0]=quadraticAt$1(_r,Dr,$r,Gr),jr[1]=quadraticAt$1(Be,Mr,Br,Gr)),mathSqrt$3(Kr)}function quadraticLength(_r,Be,Dr,Mr,$r,Br,zr){for(var Vr=_r,jr=Be,Gr=0,Wr=1/zr,Kr=1;Kr<=zr;Kr++){var Zr=Kr*Wr,Jr=quadraticAt$1(_r,Dr,$r,Zr),rn=quadraticAt$1(Be,Mr,Br,Zr),nn=Jr-Vr,ln=rn-jr;Gr+=Math.sqrt(nn*nn+ln*ln),Vr=Jr,jr=rn}return Gr}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(_r){var Be=_r&&regexp.exec(_r);if(Be){var Dr=Be[1].split(","),Mr=+trim$1(Dr[0]),$r=+trim$1(Dr[1]),Br=+trim$1(Dr[2]),zr=+trim$1(Dr[3]);if(isNaN(Mr+$r+Br+zr))return;var Vr=[];return function(jr){return jr<=0?0:jr>=1?1:cubicRootAt(0,Mr,Br,1,jr,Vr)&&cubicAt(0,$r,zr,1,Vr[0])}}}var Clip=function(){function _r(Be){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=Be.life||1e3,this._delay=Be.delay||0,this.loop=Be.loop||!1,this.onframe=Be.onframe||noop,this.ondestroy=Be.ondestroy||noop,this.onrestart=Be.onrestart||noop,Be.easing&&this.setEasing(Be.easing)}return _r.prototype.step=function(Be,Dr){if(this._inited||(this._startTime=Be+this._delay,this._inited=!0),this._paused){this._pausedTime+=Dr;return}var Mr=this._life,$r=Be-this._startTime-this._pausedTime,Br=$r/Mr;Br<0&&(Br=0),Br=Math.min(Br,1);var zr=this.easingFunc,Vr=zr?zr(Br):Br;if(this.onframe(Vr),Br===1)if(this.loop){var jr=$r%Mr;this._startTime=Be-jr,this._pausedTime=0,this.onrestart()}else return!0;return!1},_r.prototype.pause=function(){this._paused=!0},_r.prototype.resume=function(){this._paused=!1},_r.prototype.setEasing=function(Be){this.easing=Be,this.easingFunc=isFunction(Be)?Be:easingFuncs$1[Be]||createCubicEasingFunc(Be)},_r}();const Clip$1=Clip;var Entry=function(){function _r(Be){this.value=Be}return _r}(),LinkedList=function(){function _r(){this._len=0}return _r.prototype.insert=function(Be){var Dr=new Entry(Be);return this.insertEntry(Dr),Dr},_r.prototype.insertEntry=function(Be){this.head?(this.tail.next=Be,Be.prev=this.tail,Be.next=null,this.tail=Be):this.head=this.tail=Be,this._len++},_r.prototype.remove=function(Be){var Dr=Be.prev,Mr=Be.next;Dr?Dr.next=Mr:this.head=Mr,Mr?Mr.prev=Dr:this.tail=Dr,Be.next=Be.prev=null,this._len--},_r.prototype.len=function(){return this._len},_r.prototype.clear=function(){this.head=this.tail=null,this._len=0},_r}(),LRU=function(){function _r(Be){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=Be}return _r.prototype.put=function(Be,Dr){var Mr=this._list,$r=this._map,Br=null;if($r[Be]==null){var zr=Mr.len(),Vr=this._lastRemovedEntry;if(zr>=this._maxSize&&zr>0){var jr=Mr.head;Mr.remove(jr),delete $r[jr.key],Br=jr.value,this._lastRemovedEntry=jr}Vr?Vr.value=Dr:Vr=new Entry(Dr),Vr.key=Be,Mr.insertEntry(Vr),$r[Be]=Vr}return Br},_r.prototype.get=function(Be){var Dr=this._map[Be],Mr=this._list;if(Dr!=null)return Dr!==Mr.tail&&(Mr.remove(Dr),Mr.insertEntry(Dr)),Dr.value},_r.prototype.clear=function(){this._list.clear(),this._map={}},_r.prototype.len=function(){return this._list.len()},_r}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(_r){return _r=Math.round(_r),_r<0?0:_r>255?255:_r}function clampCssAngle(_r){return _r=Math.round(_r),_r<0?0:_r>360?360:_r}function clampCssFloat(_r){return _r<0?0:_r>1?1:_r}function parseCssInt(_r){var Be=_r;return Be.length&&Be.charAt(Be.length-1)==="%"?clampCssByte(parseFloat(Be)/100*255):clampCssByte(parseInt(Be,10))}function parseCssFloat(_r){var Be=_r;return Be.length&&Be.charAt(Be.length-1)==="%"?clampCssFloat(parseFloat(Be)/100):clampCssFloat(parseFloat(Be))}function cssHueToRgb(_r,Be,Dr){return Dr<0?Dr+=1:Dr>1&&(Dr-=1),Dr*6<1?_r+(Be-_r)*Dr*6:Dr*2<1?Be:Dr*3<2?_r+(Be-_r)*(2/3-Dr)*6:_r}function lerpNumber(_r,Be,Dr){return _r+(Be-_r)*Dr}function setRgba(_r,Be,Dr,Mr,$r){return _r[0]=Be,_r[1]=Dr,_r[2]=Mr,_r[3]=$r,_r}function copyRgba(_r,Be){return _r[0]=Be[0],_r[1]=Be[1],_r[2]=Be[2],_r[3]=Be[3],_r}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(_r,Be){lastRemovedArr&&copyRgba(lastRemovedArr,Be),lastRemovedArr=colorCache.put(_r,lastRemovedArr||Be.slice())}function parse(_r,Be){if(_r){Be=Be||[];var Dr=colorCache.get(_r);if(Dr)return copyRgba(Be,Dr);_r=_r+"";var Mr=_r.replace(/ /g,"").toLowerCase();if(Mr in kCSSColorTable)return copyRgba(Be,kCSSColorTable[Mr]),putToCache(_r,Be),Be;var $r=Mr.length;if(Mr.charAt(0)==="#"){if($r===4||$r===5){var Br=parseInt(Mr.slice(1,4),16);if(!(Br>=0&&Br<=4095)){setRgba(Be,0,0,0,1);return}return setRgba(Be,(Br&3840)>>4|(Br&3840)>>8,Br&240|(Br&240)>>4,Br&15|(Br&15)<<4,$r===5?parseInt(Mr.slice(4),16)/15:1),putToCache(_r,Be),Be}else if($r===7||$r===9){var Br=parseInt(Mr.slice(1,7),16);if(!(Br>=0&&Br<=16777215)){setRgba(Be,0,0,0,1);return}return setRgba(Be,(Br&16711680)>>16,(Br&65280)>>8,Br&255,$r===9?parseInt(Mr.slice(7),16)/255:1),putToCache(_r,Be),Be}return}var zr=Mr.indexOf("("),Vr=Mr.indexOf(")");if(zr!==-1&&Vr+1===$r){var jr=Mr.substr(0,zr),Gr=Mr.substr(zr+1,Vr-(zr+1)).split(","),Wr=1;switch(jr){case"rgba":if(Gr.length!==4)return Gr.length===3?setRgba(Be,+Gr[0],+Gr[1],+Gr[2],1):setRgba(Be,0,0,0,1);Wr=parseCssFloat(Gr.pop());case"rgb":if(Gr.length>=3)return setRgba(Be,parseCssInt(Gr[0]),parseCssInt(Gr[1]),parseCssInt(Gr[2]),Gr.length===3?Wr:parseCssFloat(Gr[3])),putToCache(_r,Be),Be;setRgba(Be,0,0,0,1);return;case"hsla":if(Gr.length!==4){setRgba(Be,0,0,0,1);return}return Gr[3]=parseCssFloat(Gr[3]),hsla2rgba(Gr,Be),putToCache(_r,Be),Be;case"hsl":if(Gr.length!==3){setRgba(Be,0,0,0,1);return}return hsla2rgba(Gr,Be),putToCache(_r,Be),Be;default:return}}setRgba(Be,0,0,0,1)}}function hsla2rgba(_r,Be){var Dr=(parseFloat(_r[0])%360+360)%360/360,Mr=parseCssFloat(_r[1]),$r=parseCssFloat(_r[2]),Br=$r<=.5?$r*(Mr+1):$r+Mr-$r*Mr,zr=$r*2-Br;return Be=Be||[],setRgba(Be,clampCssByte(cssHueToRgb(zr,Br,Dr+1/3)*255),clampCssByte(cssHueToRgb(zr,Br,Dr)*255),clampCssByte(cssHueToRgb(zr,Br,Dr-1/3)*255),1),_r.length===4&&(Be[3]=_r[3]),Be}function rgba2hsla(_r){if(_r){var Be=_r[0]/255,Dr=_r[1]/255,Mr=_r[2]/255,$r=Math.min(Be,Dr,Mr),Br=Math.max(Be,Dr,Mr),zr=Br-$r,Vr=(Br+$r)/2,jr,Gr;if(zr===0)jr=0,Gr=0;else{Vr<.5?Gr=zr/(Br+$r):Gr=zr/(2-Br-$r);var Wr=((Br-Be)/6+zr/2)/zr,Kr=((Br-Dr)/6+zr/2)/zr,Zr=((Br-Mr)/6+zr/2)/zr;Be===Br?jr=Zr-Kr:Dr===Br?jr=1/3+Wr-Zr:Mr===Br&&(jr=2/3+Kr-Wr),jr<0&&(jr+=1),jr>1&&(jr-=1)}var Jr=[jr*360,Gr,Vr];return _r[3]!=null&&Jr.push(_r[3]),Jr}}function lift(_r,Be){var Dr=parse(_r);if(Dr){for(var Mr=0;Mr<3;Mr++)Be<0?Dr[Mr]=Dr[Mr]*(1-Be)|0:Dr[Mr]=(255-Dr[Mr])*Be+Dr[Mr]|0,Dr[Mr]>255?Dr[Mr]=255:Dr[Mr]<0&&(Dr[Mr]=0);return stringify(Dr,Dr.length===4?"rgba":"rgb")}}function toHex(_r){var Be=parse(_r);if(Be)return((1<<24)+(Be[0]<<16)+(Be[1]<<8)+ +Be[2]).toString(16).slice(1)}function fastLerp(_r,Be,Dr){if(!(!(Be&&Be.length)||!(_r>=0&&_r<=1))){Dr=Dr||[];var Mr=_r*(Be.length-1),$r=Math.floor(Mr),Br=Math.ceil(Mr),zr=Be[$r],Vr=Be[Br],jr=Mr-$r;return Dr[0]=clampCssByte(lerpNumber(zr[0],Vr[0],jr)),Dr[1]=clampCssByte(lerpNumber(zr[1],Vr[1],jr)),Dr[2]=clampCssByte(lerpNumber(zr[2],Vr[2],jr)),Dr[3]=clampCssFloat(lerpNumber(zr[3],Vr[3],jr)),Dr}}var fastMapToColor=fastLerp;function lerp(_r,Be,Dr){if(!(!(Be&&Be.length)||!(_r>=0&&_r<=1))){var Mr=_r*(Be.length-1),$r=Math.floor(Mr),Br=Math.ceil(Mr),zr=parse(Be[$r]),Vr=parse(Be[Br]),jr=Mr-$r,Gr=stringify([clampCssByte(lerpNumber(zr[0],Vr[0],jr)),clampCssByte(lerpNumber(zr[1],Vr[1],jr)),clampCssByte(lerpNumber(zr[2],Vr[2],jr)),clampCssFloat(lerpNumber(zr[3],Vr[3],jr))],"rgba");return Dr?{color:Gr,leftIndex:$r,rightIndex:Br,value:Mr}:Gr}}var mapToColor=lerp;function modifyHSL(_r,Be,Dr,Mr){var $r=parse(_r);if(_r)return $r=rgba2hsla($r),Be!=null&&($r[0]=clampCssAngle(Be)),Dr!=null&&($r[1]=parseCssFloat(Dr)),Mr!=null&&($r[2]=parseCssFloat(Mr)),stringify(hsla2rgba($r),"rgba")}function modifyAlpha(_r,Be){var Dr=parse(_r);if(Dr&&Be!=null)return Dr[3]=clampCssFloat(Be),stringify(Dr,"rgba")}function stringify(_r,Be){if(!(!_r||!_r.length)){var Dr=_r[0]+","+_r[1]+","+_r[2];return(Be==="rgba"||Be==="hsva"||Be==="hsla")&&(Dr+=","+_r[3]),Be+"("+Dr+")"}}function lum(_r,Be){var Dr=parse(_r);return Dr?(.299*Dr[0]+.587*Dr[1]+.114*Dr[2])*Dr[3]/255+(1-Dr[3])*Be:0}function random(){return stringify([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}const color=Object.freeze(Object.defineProperty({__proto__:null,fastLerp,fastMapToColor,lerp,lift,lum,mapToColor,modifyAlpha,modifyHSL,parse,random,stringify,toHex},Symbol.toStringTag,{value:"Module"}));var mathRound$1=Math.round;function normalizeColor(_r){var Be;if(!_r||_r==="transparent")_r="none";else if(typeof _r=="string"&&_r.indexOf("rgba")>-1){var Dr=parse(_r);Dr&&(_r="rgb("+Dr[0]+","+Dr[1]+","+Dr[2]+")",Be=Dr[3])}return{color:_r,opacity:Be??1}}var EPSILON$3=1e-4;function isAroundZero(_r){return _r<EPSILON$3&&_r>-EPSILON$3}function round3(_r){return mathRound$1(_r*1e3)/1e3}function round4(_r){return mathRound$1(_r*1e4)/1e4}function getMatrixStr(_r){return"matrix("+round3(_r[0])+","+round3(_r[1])+","+round3(_r[2])+","+round3(_r[3])+","+round4(_r[4])+","+round4(_r[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(_r,Be,Dr){return Dr==="top"?_r+=Be/2:Dr==="bottom"&&(_r-=Be/2),_r}function hasShadow(_r){return _r&&(_r.shadowBlur||_r.shadowOffsetX||_r.shadowOffsetY)}function getShadowKey(_r){var Be=_r.style,Dr=_r.getGlobalScale();return[Be.shadowColor,(Be.shadowBlur||0).toFixed(2),(Be.shadowOffsetX||0).toFixed(2),(Be.shadowOffsetY||0).toFixed(2),Dr[0],Dr[1]].join(",")}function isImagePattern(_r){return _r&&!!_r.image}function isSVGPattern(_r){return _r&&!!_r.svgElement}function isPattern(_r){return isImagePattern(_r)||isSVGPattern(_r)}function isLinearGradient(_r){return _r.type==="linear"}function isRadialGradient(_r){return _r.type==="radial"}function isGradient(_r){return _r&&(_r.type==="linear"||_r.type==="radial")}function getIdURL(_r){return"url(#"+_r+")"}function getPathPrecision(_r){var Be=_r.getGlobalScale(),Dr=Math.max(Be[0],Be[1]);return Math.max(Math.ceil(Math.log(Dr)/Math.log(10)),1)}function getSRTTransformString(_r){var Be=_r.x||0,Dr=_r.y||0,Mr=(_r.rotation||0)*RADIAN_TO_DEGREE,$r=retrieve2(_r.scaleX,1),Br=retrieve2(_r.scaleY,1),zr=_r.skewX||0,Vr=_r.skewY||0,jr=[];return(Be||Dr)&&jr.push("translate("+Be+"px,"+Dr+"px)"),Mr&&jr.push("rotate("+Mr+")"),($r!==1||Br!==1)&&jr.push("scale("+$r+","+Br+")"),(zr||Vr)&&jr.push("skew("+mathRound$1(zr*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(Vr*RADIAN_TO_DEGREE)+"deg)"),jr.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction(window.btoa)?function(_r){return window.btoa(unescape(encodeURIComponent(_r)))}:typeof Buffer<"u"?function(_r){return Buffer.from(_r).toString("base64")}:function(_r){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(_r,Be,Dr){return(Be-_r)*Dr+_r}function interpolate1DArray(_r,Be,Dr,Mr){for(var $r=Be.length,Br=0;Br<$r;Br++)_r[Br]=interpolateNumber$1(Be[Br],Dr[Br],Mr);return _r}function interpolate2DArray(_r,Be,Dr,Mr){for(var $r=Be.length,Br=$r&&Be[0].length,zr=0;zr<$r;zr++){_r[zr]||(_r[zr]=[]);for(var Vr=0;Vr<Br;Vr++)_r[zr][Vr]=interpolateNumber$1(Be[zr][Vr],Dr[zr][Vr],Mr)}return _r}function add1DArray(_r,Be,Dr,Mr){for(var $r=Be.length,Br=0;Br<$r;Br++)_r[Br]=Be[Br]+Dr[Br]*Mr;return _r}function add2DArray(_r,Be,Dr,Mr){for(var $r=Be.length,Br=$r&&Be[0].length,zr=0;zr<$r;zr++){_r[zr]||(_r[zr]=[]);for(var Vr=0;Vr<Br;Vr++)_r[zr][Vr]=Be[zr][Vr]+Dr[zr][Vr]*Mr}return _r}function fillColorStops(_r,Be){for(var Dr=_r.length,Mr=Be.length,$r=Dr>Mr?Be:_r,Br=Math.min(Dr,Mr),zr=$r[Br-1]||{color:[0,0,0,0],offset:0},Vr=Br;Vr<Math.max(Dr,Mr);Vr++)$r.push({offset:zr.offset,color:zr.color.slice()})}function fillArray(_r,Be,Dr){var Mr=_r,$r=Be;if(!(!Mr.push||!$r.push)){var Br=Mr.length,zr=$r.length;if(Br!==zr){var Vr=Br>zr;if(Vr)Mr.length=zr;else for(var jr=Br;jr<zr;jr++)Mr.push(Dr===1?$r[jr]:arraySlice.call($r[jr]))}for(var Gr=Mr[0]&&Mr[0].length,jr=0;jr<Mr.length;jr++)if(Dr===1)isNaN(Mr[jr])&&(Mr[jr]=$r[jr]);else for(var Wr=0;Wr<Gr;Wr++)isNaN(Mr[jr][Wr])&&(Mr[jr][Wr]=$r[jr][Wr])}}function cloneValue(_r){if(isArrayLike(_r)){var Be=_r.length;if(isArrayLike(_r[0])){for(var Dr=[],Mr=0;Mr<Be;Mr++)Dr.push(arraySlice.call(_r[Mr]));return Dr}return arraySlice.call(_r)}return _r}function rgba2String(_r){return _r[0]=Math.floor(_r[0])||0,_r[1]=Math.floor(_r[1])||0,_r[2]=Math.floor(_r[2])||0,_r[3]=_r[3]==null?1:_r[3],"rgba("+_r.join(",")+")"}function guessArrayDim(_r){return isArrayLike(_r&&_r[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(_r){return _r===VALUE_TYPE_LINEAR_GRADIENT||_r===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(_r){return _r===VALUE_TYPE_1D_ARRAY||_r===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function _r(Be){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=Be}return _r.prototype.isFinished=function(){return this._finished},_r.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},_r.prototype.needsAnimate=function(){return this.keyframes.length>=1},_r.prototype.getAdditiveTrack=function(){return this._additiveTrack},_r.prototype.addKeyframe=function(Be,Dr,Mr){this._needsSort=!0;var $r=this.keyframes,Br=$r.length,zr=!1,Vr=VALUE_TYPE_UNKOWN,jr=Dr;if(isArrayLike(Dr)){var Gr=guessArrayDim(Dr);Vr=Gr,(Gr===1&&!isNumber(Dr[0])||Gr===2&&!isNumber(Dr[0][0]))&&(zr=!0)}else if(isNumber(Dr)&&!eqNaN(Dr))Vr=VALUE_TYPE_NUMBER;else if(isString(Dr))if(!isNaN(+Dr))Vr=VALUE_TYPE_NUMBER;else{var Wr=parse(Dr);Wr&&(jr=Wr,Vr=VALUE_TYPE_COLOR)}else if(isGradientObject(Dr)){var Kr=extend$1({},jr);Kr.colorStops=map$1(Dr.colorStops,function(Jr){return{offset:Jr.offset,color:parse(Jr.color)}}),isLinearGradient(Dr)?Vr=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(Dr)&&(Vr=VALUE_TYPE_RADIAL_GRADIENT),jr=Kr}Br===0?this.valType=Vr:(Vr!==this.valType||Vr===VALUE_TYPE_UNKOWN)&&(zr=!0),this.discrete=this.discrete||zr;var Zr={time:Be,value:jr,rawValue:Dr,percent:0};return Mr&&(Zr.easing=Mr,Zr.easingFunc=isFunction(Mr)?Mr:easingFuncs$1[Mr]||createCubicEasingFunc(Mr)),$r.push(Zr),Zr},_r.prototype.prepare=function(Be,Dr){var Mr=this.keyframes;this._needsSort&&Mr.sort(function(nn,ln){return nn.time-ln.time});for(var $r=this.valType,Br=Mr.length,zr=Mr[Br-1],Vr=this.discrete,jr=isArrayValueType($r),Gr=isGradientValueType($r),Wr=0;Wr<Br;Wr++){var Kr=Mr[Wr],Zr=Kr.value,Jr=zr.value;Kr.percent=Kr.time/Be,Vr||(jr&&Wr!==Br-1?fillArray(Zr,Jr,$r):Gr&&fillColorStops(Zr.colorStops,Jr.colorStops))}if(!Vr&&$r!==VALUE_TYPE_RADIAL_GRADIENT&&Dr&&this.needsAnimate()&&Dr.needsAnimate()&&$r===Dr.valType&&!Dr._finished){this._additiveTrack=Dr;for(var rn=Mr[0].value,Wr=0;Wr<Br;Wr++)$r===VALUE_TYPE_NUMBER?Mr[Wr].additiveValue=Mr[Wr].value-rn:$r===VALUE_TYPE_COLOR?Mr[Wr].additiveValue=add1DArray([],Mr[Wr].value,rn,-1):isArrayValueType($r)&&(Mr[Wr].additiveValue=$r===VALUE_TYPE_1D_ARRAY?add1DArray([],Mr[Wr].value,rn,-1):add2DArray([],Mr[Wr].value,rn,-1))}},_r.prototype.step=function(Be,Dr){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var Mr=this._additiveTrack!=null,$r=Mr?"additiveValue":"value",Br=this.valType,zr=this.keyframes,Vr=zr.length,jr=this.propName,Gr=Br===VALUE_TYPE_COLOR,Wr,Kr=this._lastFr,Zr=Math.min,Jr,rn;if(Vr===1)Jr=rn=zr[0];else{if(Dr<0)Wr=0;else if(Dr<this._lastFrP){var nn=Zr(Kr+1,Vr-1);for(Wr=nn;Wr>=0&&!(zr[Wr].percent<=Dr);Wr--);Wr=Zr(Wr,Vr-2)}else{for(Wr=Kr;Wr<Vr&&!(zr[Wr].percent>Dr);Wr++);Wr=Zr(Wr-1,Vr-2)}rn=zr[Wr+1],Jr=zr[Wr]}if(Jr&&rn){this._lastFr=Wr,this._lastFrP=Dr;var ln=rn.percent-Jr.percent,cn=ln===0?1:Zr((Dr-Jr.percent)/ln,1);rn.easingFunc&&(cn=rn.easingFunc(cn));var hn=Mr?this._additiveValue:Gr?tmpRgba:Be[jr];if((isArrayValueType(Br)||Gr)&&!hn&&(hn=this._additiveValue=[]),this.discrete)Be[jr]=cn<1?Jr.rawValue:rn.rawValue;else if(isArrayValueType(Br))Br===VALUE_TYPE_1D_ARRAY?interpolate1DArray(hn,Jr[$r],rn[$r],cn):interpolate2DArray(hn,Jr[$r],rn[$r],cn);else if(isGradientValueType(Br)){var mn=Jr[$r],bn=rn[$r],An=Br===VALUE_TYPE_LINEAR_GRADIENT;Be[jr]={type:An?"linear":"radial",x:interpolateNumber$1(mn.x,bn.x,cn),y:interpolateNumber$1(mn.y,bn.y,cn),colorStops:map$1(mn.colorStops,function(dn,wn){var xn=bn.colorStops[wn];return{offset:interpolateNumber$1(dn.offset,xn.offset,cn),color:rgba2String(interpolate1DArray([],dn.color,xn.color,cn))}}),global:bn.global},An?(Be[jr].x2=interpolateNumber$1(mn.x2,bn.x2,cn),Be[jr].y2=interpolateNumber$1(mn.y2,bn.y2,cn)):Be[jr].r=interpolateNumber$1(mn.r,bn.r,cn)}else if(Gr)interpolate1DArray(hn,Jr[$r],rn[$r],cn),Mr||(Be[jr]=rgba2String(hn));else{var vn=interpolateNumber$1(Jr[$r],rn[$r],cn);Mr?this._additiveValue=vn:Be[jr]=vn}Mr&&this._addToTarget(Be)}}},_r.prototype._addToTarget=function(Be){var Dr=this.valType,Mr=this.propName,$r=this._additiveValue;Dr===VALUE_TYPE_NUMBER?Be[Mr]=Be[Mr]+$r:Dr===VALUE_TYPE_COLOR?(parse(Be[Mr],tmpRgba),add1DArray(tmpRgba,tmpRgba,$r,1),Be[Mr]=rgba2String(tmpRgba)):Dr===VALUE_TYPE_1D_ARRAY?add1DArray(Be[Mr],Be[Mr],$r,1):Dr===VALUE_TYPE_2D_ARRAY&&add2DArray(Be[Mr],Be[Mr],$r,1)},_r}(),Animator=function(){function _r(Be,Dr,Mr,$r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=Be,this._loop=Dr,Dr&&$r){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=$r,this._allowDiscrete=Mr}return _r.prototype.getMaxTime=function(){return this._maxTime},_r.prototype.getDelay=function(){return this._delay},_r.prototype.getLoop=function(){return this._loop},_r.prototype.getTarget=function(){return this._target},_r.prototype.changeTarget=function(Be){this._target=Be},_r.prototype.when=function(Be,Dr,Mr){return this.whenWithKeys(Be,Dr,keys(Dr),Mr)},_r.prototype.whenWithKeys=function(Be,Dr,Mr,$r){for(var Br=this._tracks,zr=0;zr<Mr.length;zr++){var Vr=Mr[zr],jr=Br[Vr];if(!jr){jr=Br[Vr]=new Track(Vr);var Gr=void 0,Wr=this._getAdditiveTrack(Vr);if(Wr){var Kr=Wr.keyframes,Zr=Kr[Kr.length-1];Gr=Zr&&Zr.value,Wr.valType===VALUE_TYPE_COLOR&&Gr&&(Gr=rgba2String(Gr))}else Gr=this._target[Vr];if(Gr==null)continue;Be>0&&jr.addKeyframe(0,cloneValue(Gr),$r),this._trackKeys.push(Vr)}jr.addKeyframe(Be,cloneValue(Dr[Vr]),$r)}return this._maxTime=Math.max(this._maxTime,Be),this},_r.prototype.pause=function(){this._clip.pause(),this._paused=!0},_r.prototype.resume=function(){this._clip.resume(),this._paused=!1},_r.prototype.isPaused=function(){return!!this._paused},_r.prototype.duration=function(Be){return this._maxTime=Be,this._force=!0,this},_r.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var Be=this._doneCbs;if(Be)for(var Dr=Be.length,Mr=0;Mr<Dr;Mr++)Be[Mr].call(this)},_r.prototype._abortedCallback=function(){this._setTracksFinished();var Be=this.animation,Dr=this._abortedCbs;if(Be&&Be.removeClip(this._clip),this._clip=null,Dr)for(var Mr=0;Mr<Dr.length;Mr++)Dr[Mr].call(this)},_r.prototype._setTracksFinished=function(){for(var Be=this._tracks,Dr=this._trackKeys,Mr=0;Mr<Dr.length;Mr++)Be[Dr[Mr]].setFinished()},_r.prototype._getAdditiveTrack=function(Be){var Dr,Mr=this._additiveAnimators;if(Mr)for(var $r=0;$r<Mr.length;$r++){var Br=Mr[$r].getTrack(Be);Br&&(Dr=Br)}return Dr},_r.prototype.start=function(Be){if(!(this._started>0)){this._started=1;for(var Dr=this,Mr=[],$r=this._maxTime||0,Br=0;Br<this._trackKeys.length;Br++){var zr=this._trackKeys[Br],Vr=this._tracks[zr],jr=this._getAdditiveTrack(zr),Gr=Vr.keyframes,Wr=Gr.length;if(Vr.prepare($r,jr),Vr.needsAnimate())if(!this._allowDiscrete&&Vr.discrete){var Kr=Gr[Wr-1];Kr&&(Dr._target[Vr.propName]=Kr.rawValue),Vr.setFinished()}else Mr.push(Vr)}if(Mr.length||this._force){var Zr=new Clip$1({life:$r,loop:this._loop,delay:this._delay||0,onframe:function(Jr){Dr._started=2;var rn=Dr._additiveAnimators;if(rn){for(var nn=!1,ln=0;ln<rn.length;ln++)if(rn[ln]._clip){nn=!0;break}nn||(Dr._additiveAnimators=null)}for(var ln=0;ln<Mr.length;ln++)Mr[ln].step(Dr._target,Jr);var cn=Dr._onframeCbs;if(cn)for(var ln=0;ln<cn.length;ln++)cn[ln](Dr._target,Jr)},ondestroy:function(){Dr._doneCallback()}});this._clip=Zr,this.animation&&this.animation.addClip(Zr),Be&&Zr.setEasing(Be)}else this._doneCallback();return this}},_r.prototype.stop=function(Be){if(this._clip){var Dr=this._clip;Be&&Dr.onframe(1),this._abortedCallback()}},_r.prototype.delay=function(Be){return this._delay=Be,this},_r.prototype.during=function(Be){return Be&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(Be)),this},_r.prototype.done=function(Be){return Be&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(Be)),this},_r.prototype.aborted=function(Be){return Be&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(Be)),this},_r.prototype.getClip=function(){return this._clip},_r.prototype.getTrack=function(Be){return this._tracks[Be]},_r.prototype.getTracks=function(){var Be=this;return map$1(this._trackKeys,function(Dr){return Be._tracks[Dr]})},_r.prototype.stopTracks=function(Be,Dr){if(!Be.length||!this._clip)return!0;for(var Mr=this._tracks,$r=this._trackKeys,Br=0;Br<Be.length;Br++){var zr=Mr[Be[Br]];zr&&!zr.isFinished()&&(Dr?zr.step(this._target,1):this._started===1&&zr.step(this._target,0),zr.setFinished())}for(var Vr=!0,Br=0;Br<$r.length;Br++)if(!Mr[$r[Br]].isFinished()){Vr=!1;break}return Vr&&this._abortedCallback(),Vr},_r.prototype.saveTo=function(Be,Dr,Mr){if(Be){Dr=Dr||this._trackKeys;for(var $r=0;$r<Dr.length;$r++){var Br=Dr[$r],zr=this._tracks[Br];if(!(!zr||zr.isFinished())){var Vr=zr.keyframes,jr=Vr[Mr?0:Vr.length-1];jr&&(Be[Br]=cloneValue(jr.rawValue))}}}},_r.prototype.__changeFinalValue=function(Be,Dr){Dr=Dr||keys(Be);for(var Mr=0;Mr<Dr.length;Mr++){var $r=Dr[Mr],Br=this._tracks[$r];if(Br){var zr=Br.keyframes;if(zr.length>1){var Vr=zr.pop();Br.addKeyframe(Vr.time,Be[$r]),Br.prepare(this._maxTime,Br.getAdditiveTrack())}}}},_r}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this)||this;return Mr._running=!1,Mr._time=0,Mr._pausedTime=0,Mr._pauseStart=0,Mr._paused=!1,Dr=Dr||{},Mr.stage=Dr.stage||{},Mr}return Be.prototype.addClip=function(Dr){Dr.animation&&this.removeClip(Dr),this._head?(this._tail.next=Dr,Dr.prev=this._tail,Dr.next=null,this._tail=Dr):this._head=this._tail=Dr,Dr.animation=this},Be.prototype.addAnimator=function(Dr){Dr.animation=this;var Mr=Dr.getClip();Mr&&this.addClip(Mr)},Be.prototype.removeClip=function(Dr){if(Dr.animation){var Mr=Dr.prev,$r=Dr.next;Mr?Mr.next=$r:this._head=$r,$r?$r.prev=Mr:this._tail=Mr,Dr.next=Dr.prev=Dr.animation=null}},Be.prototype.removeAnimator=function(Dr){var Mr=Dr.getClip();Mr&&this.removeClip(Mr),Dr.animation=null},Be.prototype.update=function(Dr){for(var Mr=getTime()-this._pausedTime,$r=Mr-this._time,Br=this._head;Br;){var zr=Br.next,Vr=Br.step(Mr,$r);Vr&&(Br.ondestroy(),this.removeClip(Br)),Br=zr}this._time=Mr,Dr||(this.trigger("frame",$r),this.stage.update&&this.stage.update())},Be.prototype._startLoop=function(){var Dr=this;this._running=!0;function Mr(){Dr._running&&(requestAnimationFrame$2(Mr),!Dr._paused&&Dr.update())}requestAnimationFrame$2(Mr)},Be.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},Be.prototype.stop=function(){this._running=!1},Be.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},Be.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},Be.prototype.clear=function(){for(var Dr=this._head;Dr;){var Mr=Dr.next;Dr.prev=Dr.next=Dr.animation=null,Dr=Mr}this._head=this._tail=null},Be.prototype.isFinished=function(){return this._head==null},Be.prototype.animate=function(Dr,Mr){Mr=Mr||{},this.start();var $r=new Animator$1(Dr,Mr.loop);return this.addAnimator($r),$r},Be}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var _r=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Be=["touchstart","touchend","touchmove"],Dr={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Mr=map$1(_r,function($r){var Br=$r.replace("mouse","pointer");return Dr.hasOwnProperty(Br)?Br:$r});return{mouse:_r,touch:Be,pointer:Mr}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(_r){var Be=_r.pointerType;return Be==="pen"||Be==="touch"}function setTouchTimer(_r){_r.touching=!0,_r.touchTimer!=null&&(clearTimeout(_r.touchTimer),_r.touchTimer=null),_r.touchTimer=setTimeout(function(){_r.touching=!1,_r.touchTimer=null},700)}function markTouch(_r){_r&&(_r.zrByTouch=!0)}function normalizeGlobalEvent(_r,Be){return normalizeEvent(_r.dom,new FakeGlobalEvent(_r,Be),!0)}function isLocalEl(_r,Be){for(var Dr=Be,Mr=!1;Dr&&Dr.nodeType!==9&&!(Mr=Dr.domBelongToZr||Dr!==Be&&Dr===_r.painterRoot);)Dr=Dr.parentNode;return Mr}var FakeGlobalEvent=function(){function _r(Be,Dr){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=Dr.type,this.target=this.currentTarget=Be.dom,this.pointerType=Dr.pointerType,this.clientX=Dr.clientX,this.clientY=Dr.clientY}return _r}(),localDOMHandlers={mousedown:function(_r){_r=normalizeEvent(this.dom,_r),this.__mayPointerCapture=[_r.zrX,_r.zrY],this.trigger("mousedown",_r)},mousemove:function(_r){_r=normalizeEvent(this.dom,_r);var Be=this.__mayPointerCapture;Be&&(_r.zrX!==Be[0]||_r.zrY!==Be[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",_r)},mouseup:function(_r){_r=normalizeEvent(this.dom,_r),this.__togglePointerCapture(!1),this.trigger("mouseup",_r)},mouseout:function(_r){_r=normalizeEvent(this.dom,_r);var Be=_r.toElement||_r.relatedTarget;isLocalEl(this,Be)||(this.__pointerCapturing&&(_r.zrEventControl="no_globalout"),this.trigger("mouseout",_r))},wheel:function(_r){wheelEventSupported=!0,_r=normalizeEvent(this.dom,_r),this.trigger("mousewheel",_r)},mousewheel:function(_r){wheelEventSupported||(_r=normalizeEvent(this.dom,_r),this.trigger("mousewheel",_r))},touchstart:function(_r){_r=normalizeEvent(this.dom,_r),markTouch(_r),this.__lastTouchMoment=new Date,this.handler.processGesture(_r,"start"),localDOMHandlers.mousemove.call(this,_r),localDOMHandlers.mousedown.call(this,_r)},touchmove:function(_r){_r=normalizeEvent(this.dom,_r),markTouch(_r),this.handler.processGesture(_r,"change"),localDOMHandlers.mousemove.call(this,_r)},touchend:function(_r){_r=normalizeEvent(this.dom,_r),markTouch(_r),this.handler.processGesture(_r,"end"),localDOMHandlers.mouseup.call(this,_r),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,_r)},pointerdown:function(_r){localDOMHandlers.mousedown.call(this,_r)},pointermove:function(_r){isPointerFromTouch(_r)||localDOMHandlers.mousemove.call(this,_r)},pointerup:function(_r){localDOMHandlers.mouseup.call(this,_r)},pointerout:function(_r){isPointerFromTouch(_r)||localDOMHandlers.mouseout.call(this,_r)}};each$f(["click","dblclick","contextmenu"],function(_r){localDOMHandlers[_r]=function(Be){Be=normalizeEvent(this.dom,Be),this.trigger(_r,Be)}});var globalDOMHandlers={pointermove:function(_r){isPointerFromTouch(_r)||globalDOMHandlers.mousemove.call(this,_r)},pointerup:function(_r){globalDOMHandlers.mouseup.call(this,_r)},mousemove:function(_r){this.trigger("mousemove",_r)},mouseup:function(_r){var Be=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",_r),Be&&(_r.zrEventControl="only_globalout",this.trigger("mouseout",_r))}};function mountLocalDOMEventListeners(_r,Be){var Dr=Be.domHandlers;env$1.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(Mr){mountSingleDOMEventListener(Be,Mr,function($r){Dr[Mr].call(_r,$r)})}):(env$1.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(Mr){mountSingleDOMEventListener(Be,Mr,function($r){Dr[Mr].call(_r,$r),setTouchTimer(Be)})}),each$f(localNativeListenerNames.mouse,function(Mr){mountSingleDOMEventListener(Be,Mr,function($r){$r=getNativeEvent($r),Be.touching||Dr[Mr].call(_r,$r)})}))}function mountGlobalDOMEventListeners(_r,Be){env$1.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,Dr):env$1.touchEventsSupported||each$f(globalNativeListenerNames.mouse,Dr);function Dr(Mr){function $r(Br){Br=getNativeEvent(Br),isLocalEl(_r,Br.target)||(Br=normalizeGlobalEvent(_r,Br),Be.domHandlers[Mr].call(_r,Br))}mountSingleDOMEventListener(Be,Mr,$r,{capture:!0})}}function mountSingleDOMEventListener(_r,Be,Dr,Mr){_r.mounted[Be]=Dr,_r.listenerOpts[Be]=Mr,addEventListener(_r.domTarget,Be,Dr,Mr)}function unmountDOMEventListeners(_r){var Be=_r.mounted;for(var Dr in Be)Be.hasOwnProperty(Dr)&&removeEventListener(_r.domTarget,Dr,Be[Dr],_r.listenerOpts[Dr]);_r.mounted={}}var DOMHandlerScope=function(){function _r(Be,Dr){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=Be,this.domHandlers=Dr}return _r}(),HandlerDomProxy=function(_r){__extends(Be,_r);function Be(Dr,Mr){var $r=_r.call(this)||this;return $r.__pointerCapturing=!1,$r.dom=Dr,$r.painterRoot=Mr,$r._localHandlerScope=new DOMHandlerScope(Dr,localDOMHandlers),globalEventSupported&&($r._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners($r,$r._localHandlerScope),$r}return Be.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},Be.prototype.setCursor=function(Dr){this.dom.style&&(this.dom.style.cursor=Dr||"default")},Be.prototype.__togglePointerCapture=function(Dr){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+Dr){this.__pointerCapturing=Dr;var Mr=this._globalHandlerScope;Dr?mountGlobalDOMEventListeners(this,Mr):unmountDOMEventListeners(Mr)}},Be}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(_r){return _r>EPSILON$2||_r<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function _r(){}return _r.prototype.getLocalTransform=function(Be){return _r.getLocalTransform(this,Be)},_r.prototype.setPosition=function(Be){this.x=Be[0],this.y=Be[1]},_r.prototype.setScale=function(Be){this.scaleX=Be[0],this.scaleY=Be[1]},_r.prototype.setSkew=function(Be){this.skewX=Be[0],this.skewY=Be[1]},_r.prototype.setOrigin=function(Be){this.originX=Be[0],this.originY=Be[1]},_r.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},_r.prototype.updateTransform=function(){var Be=this.parent&&this.parent.transform,Dr=this.needLocalTransform(),Mr=this.transform;if(!(Dr||Be)){Mr&&(mIdentity(Mr),this.invTransform=null);return}Mr=Mr||create$1(),Dr?this.getLocalTransform(Mr):mIdentity(Mr),Be&&(Dr?mul(Mr,Be,Mr):copy(Mr,Be)),this.transform=Mr,this._resolveGlobalScaleRatio(Mr)},_r.prototype._resolveGlobalScaleRatio=function(Be){var Dr=this.globalScaleRatio;if(Dr!=null&&Dr!==1){this.getGlobalScale(scaleTmp);var Mr=scaleTmp[0]<0?-1:1,$r=scaleTmp[1]<0?-1:1,Br=((scaleTmp[0]-Mr)*Dr+Mr)/scaleTmp[0]||0,zr=((scaleTmp[1]-$r)*Dr+$r)/scaleTmp[1]||0;Be[0]*=Br,Be[1]*=Br,Be[2]*=zr,Be[3]*=zr}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,Be)},_r.prototype.getComputedTransform=function(){for(var Be=this,Dr=[];Be;)Dr.push(Be),Be=Be.parent;for(;Be=Dr.pop();)Be.updateTransform();return this.transform},_r.prototype.setLocalTransform=function(Be){if(Be){var Dr=Be[0]*Be[0]+Be[1]*Be[1],Mr=Be[2]*Be[2]+Be[3]*Be[3],$r=Math.atan2(Be[1],Be[0]),Br=Math.PI/2+$r-Math.atan2(Be[3],Be[2]);Mr=Math.sqrt(Mr)*Math.cos(Br),Dr=Math.sqrt(Dr),this.skewX=Br,this.skewY=0,this.rotation=-$r,this.x=+Be[4],this.y=+Be[5],this.scaleX=Dr,this.scaleY=Mr,this.originX=0,this.originY=0}},_r.prototype.decomposeTransform=function(){if(this.transform){var Be=this.parent,Dr=this.transform;Be&&Be.transform&&(mul(tmpTransform,Be.invTransform,Dr),Dr=tmpTransform);var Mr=this.originX,$r=this.originY;(Mr||$r)&&(originTransform[4]=Mr,originTransform[5]=$r,mul(tmpTransform,Dr,originTransform),tmpTransform[4]-=Mr,tmpTransform[5]-=$r,Dr=tmpTransform),this.setLocalTransform(Dr)}},_r.prototype.getGlobalScale=function(Be){var Dr=this.transform;return Be=Be||[],Dr?(Be[0]=Math.sqrt(Dr[0]*Dr[0]+Dr[1]*Dr[1]),Be[1]=Math.sqrt(Dr[2]*Dr[2]+Dr[3]*Dr[3]),Dr[0]<0&&(Be[0]=-Be[0]),Dr[3]<0&&(Be[1]=-Be[1]),Be):(Be[0]=1,Be[1]=1,Be)},_r.prototype.transformCoordToLocal=function(Be,Dr){var Mr=[Be,Dr],$r=this.invTransform;return $r&&applyTransform$1(Mr,Mr,$r),Mr},_r.prototype.transformCoordToGlobal=function(Be,Dr){var Mr=[Be,Dr],$r=this.transform;return $r&&applyTransform$1(Mr,Mr,$r),Mr},_r.prototype.getLineScale=function(){var Be=this.transform;return Be&&abs(Be[0]-1)>1e-10&&abs(Be[3]-1)>1e-10?Math.sqrt(abs(Be[0]*Be[3]-Be[2]*Be[1])):1},_r.prototype.copyTransform=function(Be){copyTransform(this,Be)},_r.getLocalTransform=function(Be,Dr){Dr=Dr||[];var Mr=Be.originX||0,$r=Be.originY||0,Br=Be.scaleX,zr=Be.scaleY,Vr=Be.anchorX,jr=Be.anchorY,Gr=Be.rotation||0,Wr=Be.x,Kr=Be.y,Zr=Be.skewX?Math.tan(Be.skewX):0,Jr=Be.skewY?Math.tan(-Be.skewY):0;if(Mr||$r||Vr||jr){var rn=Mr+Vr,nn=$r+jr;Dr[4]=-rn*Br-Zr*nn*zr,Dr[5]=-nn*zr-Jr*rn*Br}else Dr[4]=Dr[5]=0;return Dr[0]=Br,Dr[3]=zr,Dr[1]=Jr*Br,Dr[2]=Zr*zr,Gr&&rotate(Dr,Dr,Gr),Dr[4]+=Mr+Wr,Dr[5]+=$r+Kr,Dr},_r.initDefaultProps=function(){var Be=_r.prototype;Be.scaleX=Be.scaleY=Be.globalScaleRatio=1,Be.x=Be.y=Be.originX=Be.originY=Be.skewX=Be.skewY=Be.rotation=Be.anchorX=Be.anchorY=0}(),_r}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(_r,Be){for(var Dr=0;Dr<TRANSFORMABLE_PROPS.length;Dr++){var Mr=TRANSFORMABLE_PROPS[Dr];_r[Mr]=Be[Mr]}}const Transformable$1=Transformable;var textWidthCache={};function getWidth(_r,Be){Be=Be||DEFAULT_FONT;var Dr=textWidthCache[Be];Dr||(Dr=textWidthCache[Be]=new LRU$1(500));var Mr=Dr.get(_r);return Mr==null&&(Mr=platformApi.measureText(_r,Be).width,Dr.put(_r,Mr)),Mr}function innerGetBoundingRect(_r,Be,Dr,Mr){var $r=getWidth(_r,Be),Br=getLineHeight(Be),zr=adjustTextX(0,$r,Dr),Vr=adjustTextY(0,Br,Mr),jr=new BoundingRect$1(zr,Vr,$r,Br);return jr}function getBoundingRect(_r,Be,Dr,Mr){var $r=((_r||"")+"").split(`
`),Br=$r.length;if(Br===1)return innerGetBoundingRect($r[0],Be,Dr,Mr);for(var zr=new BoundingRect$1(0,0,0,0),Vr=0;Vr<$r.length;Vr++){var jr=innerGetBoundingRect($r[Vr],Be,Dr,Mr);Vr===0?zr.copy(jr):zr.union(jr)}return zr}function adjustTextX(_r,Be,Dr){return Dr==="right"?_r-=Be:Dr==="center"&&(_r-=Be/2),_r}function adjustTextY(_r,Be,Dr){return Dr==="middle"?_r-=Be/2:Dr==="bottom"&&(_r-=Be),_r}function getLineHeight(_r){return getWidth("å½",_r)}function parsePercent$1(_r,Be){return typeof _r=="string"?_r.lastIndexOf("%")>=0?parseFloat(_r)/100*Be:parseFloat(_r):_r}function calculateTextPosition(_r,Be,Dr){var Mr=Be.position||"inside",$r=Be.distance!=null?Be.distance:5,Br=Dr.height,zr=Dr.width,Vr=Br/2,jr=Dr.x,Gr=Dr.y,Wr="left",Kr="top";if(Mr instanceof Array)jr+=parsePercent$1(Mr[0],Dr.width),Gr+=parsePercent$1(Mr[1],Dr.height),Wr=null,Kr=null;else switch(Mr){case"left":jr-=$r,Gr+=Vr,Wr="right",Kr="middle";break;case"right":jr+=$r+zr,Gr+=Vr,Kr="middle";break;case"top":jr+=zr/2,Gr-=$r,Wr="center",Kr="bottom";break;case"bottom":jr+=zr/2,Gr+=Br+$r,Wr="center";break;case"inside":jr+=zr/2,Gr+=Vr,Wr="center",Kr="middle";break;case"insideLeft":jr+=$r,Gr+=Vr,Kr="middle";break;case"insideRight":jr+=zr-$r,Gr+=Vr,Wr="right",Kr="middle";break;case"insideTop":jr+=zr/2,Gr+=$r,Wr="center";break;case"insideBottom":jr+=zr/2,Gr+=Br-$r,Wr="center",Kr="bottom";break;case"insideTopLeft":jr+=$r,Gr+=$r;break;case"insideTopRight":jr+=zr-$r,Gr+=$r,Wr="right";break;case"insideBottomLeft":jr+=$r,Gr+=Br-$r,Kr="bottom";break;case"insideBottomRight":jr+=zr-$r,Gr+=Br-$r,Wr="right",Kr="bottom";break}return _r=_r||{},_r.x=jr,_r.y=Gr,_r.align=Wr,_r.verticalAlign=Kr,_r}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(_r,Be){return _r[Be]=!0,_r},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function _r(Be){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(Be)}return _r.prototype._init=function(Be){this.attr(Be)},_r.prototype.drift=function(Be,Dr,Mr){switch(this.draggable){case"horizontal":Dr=0;break;case"vertical":Be=0;break}var $r=this.transform;$r||($r=this.transform=[1,0,0,1,0,0]),$r[4]+=Be,$r[5]+=Dr,this.decomposeTransform(),this.markRedraw()},_r.prototype.beforeUpdate=function(){},_r.prototype.afterUpdate=function(){},_r.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},_r.prototype.updateInnerText=function(Be){var Dr=this._textContent;if(Dr&&(!Dr.ignore||Be)){this.textConfig||(this.textConfig={});var Mr=this.textConfig,$r=Mr.local,Br=Dr.innerTransformable,zr=void 0,Vr=void 0,jr=!1;Br.parent=$r?this:null;var Gr=!1;if(Br.copyTransform(Dr),Mr.position!=null){var Wr=tmpBoundingRect;Mr.layoutRect?Wr.copy(Mr.layoutRect):Wr.copy(this.getBoundingRect()),$r||Wr.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,Mr,Wr):calculateTextPosition(tmpTextPosCalcRes,Mr,Wr),Br.x=tmpTextPosCalcRes.x,Br.y=tmpTextPosCalcRes.y,zr=tmpTextPosCalcRes.align,Vr=tmpTextPosCalcRes.verticalAlign;var Kr=Mr.origin;if(Kr&&Mr.rotation!=null){var Zr=void 0,Jr=void 0;Kr==="center"?(Zr=Wr.width*.5,Jr=Wr.height*.5):(Zr=parsePercent$1(Kr[0],Wr.width),Jr=parsePercent$1(Kr[1],Wr.height)),Gr=!0,Br.originX=-Br.x+Zr+($r?0:Wr.x),Br.originY=-Br.y+Jr+($r?0:Wr.y)}}Mr.rotation!=null&&(Br.rotation=Mr.rotation);var rn=Mr.offset;rn&&(Br.x+=rn[0],Br.y+=rn[1],Gr||(Br.originX=-rn[0],Br.originY=-rn[1]));var nn=Mr.inside==null?typeof Mr.position=="string"&&Mr.position.indexOf("inside")>=0:Mr.inside,ln=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),cn=void 0,hn=void 0,mn=void 0;nn&&this.canBeInsideText()?(cn=Mr.insideFill,hn=Mr.insideStroke,(cn==null||cn==="auto")&&(cn=this.getInsideTextFill()),(hn==null||hn==="auto")&&(hn=this.getInsideTextStroke(cn),mn=!0)):(cn=Mr.outsideFill,hn=Mr.outsideStroke,(cn==null||cn==="auto")&&(cn=this.getOutsideFill()),(hn==null||hn==="auto")&&(hn=this.getOutsideStroke(cn),mn=!0)),cn=cn||"#000",(cn!==ln.fill||hn!==ln.stroke||mn!==ln.autoStroke||zr!==ln.align||Vr!==ln.verticalAlign)&&(jr=!0,ln.fill=cn,ln.stroke=hn,ln.autoStroke=mn,ln.align=zr,ln.verticalAlign=Vr,Dr.setDefaultTextStyle(ln)),Dr.__dirty|=REDRAW_BIT,jr&&Dr.dirtyStyle(!0)}},_r.prototype.canBeInsideText=function(){return!0},_r.prototype.getInsideTextFill=function(){return"#fff"},_r.prototype.getInsideTextStroke=function(Be){return"#000"},_r.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},_r.prototype.getOutsideStroke=function(Be){var Dr=this.__zr&&this.__zr.getBackgroundColor(),Mr=typeof Dr=="string"&&parse(Dr);Mr||(Mr=[255,255,255,1]);for(var $r=Mr[3],Br=this.__zr.isDarkMode(),zr=0;zr<3;zr++)Mr[zr]=Mr[zr]*$r+(Br?0:255)*(1-$r);return Mr[3]=1,stringify(Mr,"rgba")},_r.prototype.traverse=function(Be,Dr){},_r.prototype.attrKV=function(Be,Dr){Be==="textConfig"?this.setTextConfig(Dr):Be==="textContent"?this.setTextContent(Dr):Be==="clipPath"?this.setClipPath(Dr):Be==="extra"?(this.extra=this.extra||{},extend$1(this.extra,Dr)):this[Be]=Dr},_r.prototype.hide=function(){this.ignore=!0,this.markRedraw()},_r.prototype.show=function(){this.ignore=!1,this.markRedraw()},_r.prototype.attr=function(Be,Dr){if(typeof Be=="string")this.attrKV(Be,Dr);else if(isObject$3(Be))for(var Mr=Be,$r=keys(Mr),Br=0;Br<$r.length;Br++){var zr=$r[Br];this.attrKV(zr,Be[zr])}return this.markRedraw(),this},_r.prototype.saveCurrentToNormalState=function(Be){this._innerSaveToNormal(Be);for(var Dr=this._normalState,Mr=0;Mr<this.animators.length;Mr++){var $r=this.animators[Mr],Br=$r.__fromStateTransition;if(!($r.getLoop()||Br&&Br!==PRESERVED_NORMAL_STATE)){var zr=$r.targetName,Vr=zr?Dr[zr]:Dr;$r.saveTo(Vr)}}},_r.prototype._innerSaveToNormal=function(Be){var Dr=this._normalState;Dr||(Dr=this._normalState={}),Be.textConfig&&!Dr.textConfig&&(Dr.textConfig=this.textConfig),this._savePrimaryToNormal(Be,Dr,PRIMARY_STATES_KEYS$1)},_r.prototype._savePrimaryToNormal=function(Be,Dr,Mr){for(var $r=0;$r<Mr.length;$r++){var Br=Mr[$r];Be[Br]!=null&&!(Br in Dr)&&(Dr[Br]=this[Br])}},_r.prototype.hasState=function(){return this.currentStates.length>0},_r.prototype.getState=function(Be){return this.states[Be]},_r.prototype.ensureState=function(Be){var Dr=this.states;return Dr[Be]||(Dr[Be]={}),Dr[Be]},_r.prototype.clearStates=function(Be){this.useState(PRESERVED_NORMAL_STATE,!1,Be)},_r.prototype.useState=function(Be,Dr,Mr,$r){var Br=Be===PRESERVED_NORMAL_STATE,zr=this.hasState();if(!(!zr&&Br)){var Vr=this.currentStates,jr=this.stateTransition;if(!(indexOf(Vr,Be)>=0&&(Dr||Vr.length===1))){var Gr;if(this.stateProxy&&!Br&&(Gr=this.stateProxy(Be)),Gr||(Gr=this.states&&this.states[Be]),!Gr&&!Br){logError("State "+Be+" not exists.");return}Br||this.saveCurrentToNormalState(Gr);var Wr=!!(Gr&&Gr.hoverLayer||$r);Wr&&this._toggleHoverLayerFlag(!0),this._applyStateObj(Be,Gr,this._normalState,Dr,!Mr&&!this.__inHover&&jr&&jr.duration>0,jr);var Kr=this._textContent,Zr=this._textGuide;return Kr&&Kr.useState(Be,Dr,Mr,Wr),Zr&&Zr.useState(Be,Dr,Mr,Wr),Br?(this.currentStates=[],this._normalState={}):Dr?this.currentStates.push(Be):this.currentStates=[Be],this._updateAnimationTargets(),this.markRedraw(),!Wr&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),Gr}}},_r.prototype.useStates=function(Be,Dr,Mr){if(!Be.length)this.clearStates();else{var $r=[],Br=this.currentStates,zr=Be.length,Vr=zr===Br.length;if(Vr){for(var jr=0;jr<zr;jr++)if(Be[jr]!==Br[jr]){Vr=!1;break}}if(Vr)return;for(var jr=0;jr<zr;jr++){var Gr=Be[jr],Wr=void 0;this.stateProxy&&(Wr=this.stateProxy(Gr,Be)),Wr||(Wr=this.states[Gr]),Wr&&$r.push(Wr)}var Kr=$r[zr-1],Zr=!!(Kr&&Kr.hoverLayer||Mr);Zr&&this._toggleHoverLayerFlag(!0);var Jr=this._mergeStates($r),rn=this.stateTransition;this.saveCurrentToNormalState(Jr),this._applyStateObj(Be.join(","),Jr,this._normalState,!1,!Dr&&!this.__inHover&&rn&&rn.duration>0,rn);var nn=this._textContent,ln=this._textGuide;nn&&nn.useStates(Be,Dr,Zr),ln&&ln.useStates(Be,Dr,Zr),this._updateAnimationTargets(),this.currentStates=Be.slice(),this.markRedraw(),!Zr&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},_r.prototype._updateAnimationTargets=function(){for(var Be=0;Be<this.animators.length;Be++){var Dr=this.animators[Be];Dr.targetName&&Dr.changeTarget(this[Dr.targetName])}},_r.prototype.removeState=function(Be){var Dr=indexOf(this.currentStates,Be);if(Dr>=0){var Mr=this.currentStates.slice();Mr.splice(Dr,1),this.useStates(Mr)}},_r.prototype.replaceState=function(Be,Dr,Mr){var $r=this.currentStates.slice(),Br=indexOf($r,Be),zr=indexOf($r,Dr)>=0;Br>=0?zr?$r.splice(Br,1):$r[Br]=Dr:Mr&&!zr&&$r.push(Dr),this.useStates($r)},_r.prototype.toggleState=function(Be,Dr){Dr?this.useState(Be,!0):this.removeState(Be)},_r.prototype._mergeStates=function(Be){for(var Dr={},Mr,$r=0;$r<Be.length;$r++){var Br=Be[$r];extend$1(Dr,Br),Br.textConfig&&(Mr=Mr||{},extend$1(Mr,Br.textConfig))}return Mr&&(Dr.textConfig=Mr),Dr},_r.prototype._applyStateObj=function(Be,Dr,Mr,$r,Br,zr){var Vr=!(Dr&&$r);Dr&&Dr.textConfig?(this.textConfig=extend$1({},$r?this.textConfig:Mr.textConfig),extend$1(this.textConfig,Dr.textConfig)):Vr&&Mr.textConfig&&(this.textConfig=Mr.textConfig);for(var jr={},Gr=!1,Wr=0;Wr<PRIMARY_STATES_KEYS$1.length;Wr++){var Kr=PRIMARY_STATES_KEYS$1[Wr],Zr=Br&&DEFAULT_ANIMATABLE_MAP[Kr];Dr&&Dr[Kr]!=null?Zr?(Gr=!0,jr[Kr]=Dr[Kr]):this[Kr]=Dr[Kr]:Vr&&Mr[Kr]!=null&&(Zr?(Gr=!0,jr[Kr]=Mr[Kr]):this[Kr]=Mr[Kr])}if(!Br)for(var Wr=0;Wr<this.animators.length;Wr++){var Jr=this.animators[Wr],rn=Jr.targetName;Jr.getLoop()||Jr.__changeFinalValue(rn?(Dr||Mr)[rn]:Dr||Mr)}Gr&&this._transitionState(Be,jr,zr)},_r.prototype._attachComponent=function(Be){if(!(Be.__zr&&!Be.__hostTarget)&&Be!==this){var Dr=this.__zr;Dr&&Be.addSelfToZr(Dr),Be.__zr=Dr,Be.__hostTarget=this}},_r.prototype._detachComponent=function(Be){Be.__zr&&Be.removeSelfFromZr(Be.__zr),Be.__zr=null,Be.__hostTarget=null},_r.prototype.getClipPath=function(){return this._clipPath},_r.prototype.setClipPath=function(Be){this._clipPath&&this._clipPath!==Be&&this.removeClipPath(),this._attachComponent(Be),this._clipPath=Be,this.markRedraw()},_r.prototype.removeClipPath=function(){var Be=this._clipPath;Be&&(this._detachComponent(Be),this._clipPath=null,this.markRedraw())},_r.prototype.getTextContent=function(){return this._textContent},_r.prototype.setTextContent=function(Be){var Dr=this._textContent;Dr!==Be&&(Dr&&Dr!==Be&&this.removeTextContent(),Be.innerTransformable=new Transformable$1,this._attachComponent(Be),this._textContent=Be,this.markRedraw())},_r.prototype.setTextConfig=function(Be){this.textConfig||(this.textConfig={}),extend$1(this.textConfig,Be),this.markRedraw()},_r.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},_r.prototype.removeTextContent=function(){var Be=this._textContent;Be&&(Be.innerTransformable=null,this._detachComponent(Be),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},_r.prototype.getTextGuideLine=function(){return this._textGuide},_r.prototype.setTextGuideLine=function(Be){this._textGuide&&this._textGuide!==Be&&this.removeTextGuideLine(),this._attachComponent(Be),this._textGuide=Be,this.markRedraw()},_r.prototype.removeTextGuideLine=function(){var Be=this._textGuide;Be&&(this._detachComponent(Be),this._textGuide=null,this.markRedraw())},_r.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var Be=this.__zr;Be&&(this.__inHover?Be.refreshHover():Be.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},_r.prototype.dirty=function(){this.markRedraw()},_r.prototype._toggleHoverLayerFlag=function(Be){this.__inHover=Be;var Dr=this._textContent,Mr=this._textGuide;Dr&&(Dr.__inHover=Be),Mr&&(Mr.__inHover=Be)},_r.prototype.addSelfToZr=function(Be){if(this.__zr!==Be){this.__zr=Be;var Dr=this.animators;if(Dr)for(var Mr=0;Mr<Dr.length;Mr++)Be.animation.addAnimator(Dr[Mr]);this._clipPath&&this._clipPath.addSelfToZr(Be),this._textContent&&this._textContent.addSelfToZr(Be),this._textGuide&&this._textGuide.addSelfToZr(Be)}},_r.prototype.removeSelfFromZr=function(Be){if(this.__zr){this.__zr=null;var Dr=this.animators;if(Dr)for(var Mr=0;Mr<Dr.length;Mr++)Be.animation.removeAnimator(Dr[Mr]);this._clipPath&&this._clipPath.removeSelfFromZr(Be),this._textContent&&this._textContent.removeSelfFromZr(Be),this._textGuide&&this._textGuide.removeSelfFromZr(Be)}},_r.prototype.animate=function(Be,Dr,Mr){var $r=Be?this[Be]:this,Br=new Animator$1($r,Dr,Mr);return Be&&(Br.targetName=Be),this.addAnimator(Br,Be),Br},_r.prototype.addAnimator=function(Be,Dr){var Mr=this.__zr,$r=this;Be.during(function(){$r.updateDuringAnimation(Dr)}).done(function(){var Br=$r.animators,zr=indexOf(Br,Be);zr>=0&&Br.splice(zr,1)}),this.animators.push(Be),Mr&&Mr.animation.addAnimator(Be),Mr&&Mr.wakeUp()},_r.prototype.updateDuringAnimation=function(Be){this.markRedraw()},_r.prototype.stopAnimation=function(Be,Dr){for(var Mr=this.animators,$r=Mr.length,Br=[],zr=0;zr<$r;zr++){var Vr=Mr[zr];!Be||Be===Vr.scope?Vr.stop(Dr):Br.push(Vr)}return this.animators=Br,this},_r.prototype.animateTo=function(Be,Dr,Mr){animateTo(this,Be,Dr,Mr)},_r.prototype.animateFrom=function(Be,Dr,Mr){animateTo(this,Be,Dr,Mr,!0)},_r.prototype._transitionState=function(Be,Dr,Mr,$r){for(var Br=animateTo(this,Dr,Mr,$r),zr=0;zr<Br.length;zr++)Br[zr].__fromStateTransition=Be},_r.prototype.getBoundingRect=function(){return null},_r.prototype.getPaintRect=function(){return null},_r.initDefaultProps=function(){var Be=_r.prototype;Be.type="element",Be.name="",Be.ignore=Be.silent=Be.isGroup=Be.draggable=Be.dragging=Be.ignoreClip=Be.__inHover=!1,Be.__dirty=REDRAW_BIT;function Dr(Mr,$r,Br,zr){Object.defineProperty(Be,Mr,{get:function(){if(!this[$r]){var jr=this[$r]=[];Vr(this,jr)}return this[$r]},set:function(jr){this[Br]=jr[0],this[zr]=jr[1],this[$r]=jr,Vr(this,jr)}});function Vr(jr,Gr){Object.defineProperty(Gr,0,{get:function(){return jr[Br]},set:function(Wr){jr[Br]=Wr}}),Object.defineProperty(Gr,1,{get:function(){return jr[zr]},set:function(Wr){jr[zr]=Wr}})}}Object.defineProperty&&(Dr("position","_legacyPos","x","y"),Dr("scale","_legacyScale","scaleX","scaleY"),Dr("origin","_legacyOrigin","originX","originY"))}(),_r}();mixin(Element$1,Eventful$1);mixin(Element$1,Transformable$1);function animateTo(_r,Be,Dr,Mr,$r){Dr=Dr||{};var Br=[];animateToShallow(_r,"",_r,Be,Dr,Mr,Br,$r);var zr=Br.length,Vr=!1,jr=Dr.done,Gr=Dr.aborted,Wr=function(){Vr=!0,zr--,zr<=0&&(Vr?jr&&jr():Gr&&Gr())},Kr=function(){zr--,zr<=0&&(Vr?jr&&jr():Gr&&Gr())};zr||jr&&jr(),Br.length>0&&Dr.during&&Br[0].during(function(rn,nn){Dr.during(nn)});for(var Zr=0;Zr<Br.length;Zr++){var Jr=Br[Zr];Wr&&Jr.done(Wr),Kr&&Jr.aborted(Kr),Dr.force&&Jr.duration(Dr.duration),Jr.start(Dr.easing)}return Br}function copyArrShallow(_r,Be,Dr){for(var Mr=0;Mr<Dr;Mr++)_r[Mr]=Be[Mr]}function is2DArray(_r){return isArrayLike(_r[0])}function copyValue(_r,Be,Dr){if(isArrayLike(Be[Dr]))if(isArrayLike(_r[Dr])||(_r[Dr]=[]),isTypedArray(Be[Dr])){var Mr=Be[Dr].length;_r[Dr].length!==Mr&&(_r[Dr]=new Be[Dr].constructor(Mr),copyArrShallow(_r[Dr],Be[Dr],Mr))}else{var $r=Be[Dr],Br=_r[Dr],zr=$r.length;if(is2DArray($r))for(var Vr=$r[0].length,jr=0;jr<zr;jr++)Br[jr]?copyArrShallow(Br[jr],$r[jr],Vr):Br[jr]=Array.prototype.slice.call($r[jr]);else copyArrShallow(Br,$r,zr);Br.length=$r.length}else _r[Dr]=Be[Dr]}function isValueSame(_r,Be){return _r===Be||isArrayLike(_r)&&isArrayLike(Be)&&is1DArraySame(_r,Be)}function is1DArraySame(_r,Be){var Dr=_r.length;if(Dr!==Be.length)return!1;for(var Mr=0;Mr<Dr;Mr++)if(_r[Mr]!==Be[Mr])return!1;return!0}function animateToShallow(_r,Be,Dr,Mr,$r,Br,zr,Vr){for(var jr=keys(Mr),Gr=$r.duration,Wr=$r.delay,Kr=$r.additive,Zr=$r.setToFinal,Jr=!isObject$3(Br),rn=_r.animators,nn=[],ln=0;ln<jr.length;ln++){var cn=jr[ln],hn=Mr[cn];if(hn!=null&&Dr[cn]!=null&&(Jr||Br[cn]))if(isObject$3(hn)&&!isArrayLike(hn)&&!isGradientObject(hn)){if(Be){Vr||(Dr[cn]=hn,_r.updateDuringAnimation(Be));continue}animateToShallow(_r,cn,Dr[cn],hn,$r,Br&&Br[cn],zr,Vr)}else nn.push(cn);else Vr||(Dr[cn]=hn,_r.updateDuringAnimation(Be),nn.push(cn))}var mn=nn.length;if(!Kr&&mn)for(var bn=0;bn<rn.length;bn++){var An=rn[bn];if(An.targetName===Be){var vn=An.stopTracks(nn);if(vn){var dn=indexOf(rn,An);rn.splice(dn,1)}}}if($r.force||(nn=filter(nn,function(In){return!isValueSame(Mr[In],Dr[In])}),mn=nn.length),mn>0||$r.force&&!zr.length){var wn=void 0,xn=void 0,Mn=void 0;if(Vr){xn={},Zr&&(wn={});for(var bn=0;bn<mn;bn++){var cn=nn[bn];xn[cn]=Dr[cn],Zr?wn[cn]=Mr[cn]:Dr[cn]=Mr[cn]}}else if(Zr){Mn={};for(var bn=0;bn<mn;bn++){var cn=nn[bn];Mn[cn]=cloneValue(Dr[cn]),copyValue(Dr,Mr,cn)}}var An=new Animator$1(Dr,!1,!1,Kr?filter(rn,function(Hn){return Hn.targetName===Be}):null);An.targetName=Be,$r.scope&&(An.scope=$r.scope),Zr&&wn&&An.whenWithKeys(0,wn,nn),Mn&&An.whenWithKeys(0,Mn,nn),An.whenWithKeys(Gr??500,Vr?xn:Mr,nn).delay(Wr||0),_r.addAnimator(An,Be),zr.push(An)}}const Element$2=Element$1;var Group$3=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this)||this;return Mr.isGroup=!0,Mr._children=[],Mr.attr(Dr),Mr}return Be.prototype.childrenRef=function(){return this._children},Be.prototype.children=function(){return this._children.slice()},Be.prototype.childAt=function(Dr){return this._children[Dr]},Be.prototype.childOfName=function(Dr){for(var Mr=this._children,$r=0;$r<Mr.length;$r++)if(Mr[$r].name===Dr)return Mr[$r]},Be.prototype.childCount=function(){return this._children.length},Be.prototype.add=function(Dr){return Dr&&Dr!==this&&Dr.parent!==this&&(this._children.push(Dr),this._doAdd(Dr)),this},Be.prototype.addBefore=function(Dr,Mr){if(Dr&&Dr!==this&&Dr.parent!==this&&Mr&&Mr.parent===this){var $r=this._children,Br=$r.indexOf(Mr);Br>=0&&($r.splice(Br,0,Dr),this._doAdd(Dr))}return this},Be.prototype.replace=function(Dr,Mr){var $r=indexOf(this._children,Dr);return $r>=0&&this.replaceAt(Mr,$r),this},Be.prototype.replaceAt=function(Dr,Mr){var $r=this._children,Br=$r[Mr];if(Dr&&Dr!==this&&Dr.parent!==this&&Dr!==Br){$r[Mr]=Dr,Br.parent=null;var zr=this.__zr;zr&&Br.removeSelfFromZr(zr),this._doAdd(Dr)}return this},Be.prototype._doAdd=function(Dr){Dr.parent&&Dr.parent.remove(Dr),Dr.parent=this;var Mr=this.__zr;Mr&&Mr!==Dr.__zr&&Dr.addSelfToZr(Mr),Mr&&Mr.refresh()},Be.prototype.remove=function(Dr){var Mr=this.__zr,$r=this._children,Br=indexOf($r,Dr);return Br<0?this:($r.splice(Br,1),Dr.parent=null,Mr&&Dr.removeSelfFromZr(Mr),Mr&&Mr.refresh(),this)},Be.prototype.removeAll=function(){for(var Dr=this._children,Mr=this.__zr,$r=0;$r<Dr.length;$r++){var Br=Dr[$r];Mr&&Br.removeSelfFromZr(Mr),Br.parent=null}return Dr.length=0,this},Be.prototype.eachChild=function(Dr,Mr){for(var $r=this._children,Br=0;Br<$r.length;Br++){var zr=$r[Br];Dr.call(Mr,zr,Br)}return this},Be.prototype.traverse=function(Dr,Mr){for(var $r=0;$r<this._children.length;$r++){var Br=this._children[$r],zr=Dr.call(Mr,Br);Br.isGroup&&!zr&&Br.traverse(Dr,Mr)}return this},Be.prototype.addSelfToZr=function(Dr){_r.prototype.addSelfToZr.call(this,Dr);for(var Mr=0;Mr<this._children.length;Mr++){var $r=this._children[Mr];$r.addSelfToZr(Dr)}},Be.prototype.removeSelfFromZr=function(Dr){_r.prototype.removeSelfFromZr.call(this,Dr);for(var Mr=0;Mr<this._children.length;Mr++){var $r=this._children[Mr];$r.removeSelfFromZr(Dr)}},Be.prototype.getBoundingRect=function(Dr){for(var Mr=new BoundingRect$1(0,0,0,0),$r=Dr||this._children,Br=[],zr=null,Vr=0;Vr<$r.length;Vr++){var jr=$r[Vr];if(!(jr.ignore||jr.invisible)){var Gr=jr.getBoundingRect(),Wr=jr.getLocalTransform(Br);Wr?(BoundingRect$1.applyTransform(Mr,Gr,Wr),zr=zr||Mr.clone(),zr.union(Mr)):(zr=zr||Gr.clone(),zr.union(Gr))}}return zr||Mr},Be}(Element$2);Group$3.prototype.type="group";const Group$4=Group$3;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(_r){delete instances$1[_r]}function isDarkMode(_r){if(!_r)return!1;if(typeof _r=="string")return lum(_r,1)<DARK_MODE_THRESHOLD;if(_r.colorStops){for(var Be=_r.colorStops,Dr=0,Mr=Be.length,$r=0;$r<Mr;$r++)Dr+=lum(Be[$r].color,1);return Dr/=Mr,Dr<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function _r(Be,Dr,Mr){var $r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,Mr=Mr||{},this.dom=Dr,this.id=Be;var Br=new Storage$1,zr=Mr.renderer||"canvas";painterCtors[zr]||(zr=keys(painterCtors)[0]),Mr.useDirtyRect=Mr.useDirtyRect==null?!1:Mr.useDirtyRect;var Vr=new painterCtors[zr](Dr,Br,Mr,Be),jr=Mr.ssr||Vr.ssrOnly;this.storage=Br,this.painter=Vr;var Gr=!env$1.node&&!env$1.worker&&!jr?new HandlerProxy(Vr.getViewportRoot(),Vr.root):null,Wr=Mr.useCoarsePointer,Kr=Wr==null||Wr==="auto"?env$1.touchEventsSupported:!!Wr,Zr=44,Jr;Kr&&(Jr=retrieve2(Mr.pointerSize,Zr)),this.handler=new Handler$1(Br,Vr,Gr,Vr.root,Jr),this.animation=new Animation$1({stage:{update:jr?null:function(){return $r._flush(!0)}}}),jr||this.animation.start()}return _r.prototype.add=function(Be){Be&&(this.storage.addRoot(Be),Be.addSelfToZr(this),this.refresh())},_r.prototype.remove=function(Be){Be&&(this.storage.delRoot(Be),Be.removeSelfFromZr(this),this.refresh())},_r.prototype.configLayer=function(Be,Dr){this.painter.configLayer&&this.painter.configLayer(Be,Dr),this.refresh()},_r.prototype.setBackgroundColor=function(Be){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(Be),this.refresh(),this._backgroundColor=Be,this._darkMode=isDarkMode(Be)},_r.prototype.getBackgroundColor=function(){return this._backgroundColor},_r.prototype.setDarkMode=function(Be){this._darkMode=Be},_r.prototype.isDarkMode=function(){return this._darkMode},_r.prototype.refreshImmediately=function(Be){Be||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},_r.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},_r.prototype.flush=function(){this._flush(!1)},_r.prototype._flush=function(Be){var Dr,Mr=getTime();this._needsRefresh&&(Dr=!0,this.refreshImmediately(Be)),this._needsRefreshHover&&(Dr=!0,this.refreshHoverImmediately());var $r=getTime();Dr?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:$r-Mr})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},_r.prototype.setSleepAfterStill=function(Be){this._sleepAfterStill=Be},_r.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},_r.prototype.refreshHover=function(){this._needsRefreshHover=!0},_r.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},_r.prototype.resize=function(Be){Be=Be||{},this.painter.resize(Be.width,Be.height),this.handler.resize()},_r.prototype.clearAnimation=function(){this.animation.clear()},_r.prototype.getWidth=function(){return this.painter.getWidth()},_r.prototype.getHeight=function(){return this.painter.getHeight()},_r.prototype.setCursorStyle=function(Be){this.handler.setCursorStyle(Be)},_r.prototype.findHover=function(Be,Dr){return this.handler.findHover(Be,Dr)},_r.prototype.on=function(Be,Dr,Mr){return this.handler.on(Be,Dr,Mr),this},_r.prototype.off=function(Be,Dr){this.handler.off(Be,Dr)},_r.prototype.trigger=function(Be,Dr){this.handler.trigger(Be,Dr)},_r.prototype.clear=function(){for(var Be=this.storage.getRoots(),Dr=0;Dr<Be.length;Dr++)Be[Dr]instanceof Group$4&&Be[Dr].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},_r.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},_r}();function init$2(_r,Be){var Dr=new ZRender(guid(),_r,Be);return instances$1[Dr.id]=Dr,Dr}function dispose$1(_r){_r.dispose()}function disposeAll(){for(var _r in instances$1)instances$1.hasOwnProperty(_r)&&instances$1[_r].dispose();instances$1={}}function getInstance(_r){return instances$1[_r]}function registerPainter(_r,Be){painterCtors[_r]=Be}var version$1="5.4.4";const zrender=Object.freeze(Object.defineProperty({__proto__:null,dispose:dispose$1,disposeAll,getInstance,init:init$2,registerPainter,version:version$1},Symbol.toStringTag,{value:"Module"}));var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(_r){return _r.replace(/^\s+|\s+$/g,"")}function linearMap$2(_r,Be,Dr,Mr){var $r=Be[0],Br=Be[1],zr=Dr[0],Vr=Dr[1],jr=Br-$r,Gr=Vr-zr;if(jr===0)return Gr===0?zr:(zr+Vr)/2;if(Mr)if(jr>0){if(_r<=$r)return zr;if(_r>=Br)return Vr}else{if(_r>=$r)return zr;if(_r<=Br)return Vr}else{if(_r===$r)return zr;if(_r===Br)return Vr}return(_r-$r)/jr*Gr+zr}function parsePercent(_r,Be){switch(_r){case"center":case"middle":_r="50%";break;case"left":case"top":_r="0%";break;case"right":case"bottom":_r="100%";break}return isString(_r)?_trim(_r).match(/%$/)?parseFloat(_r)/100*Be:parseFloat(_r):_r==null?NaN:+_r}function round$3(_r,Be,Dr){return Be==null&&(Be=10),Be=Math.min(Math.max(0,Be),ROUND_SUPPORTED_PRECISION_MAX),_r=(+_r).toFixed(Be),Dr?_r:+_r}function asc$2(_r){return _r.sort(function(Be,Dr){return Be-Dr}),_r}function getPrecision(_r){if(_r=+_r,isNaN(_r))return 0;if(_r>1e-14){for(var Be=1,Dr=0;Dr<15;Dr++,Be*=10)if(Math.round(_r*Be)/Be===_r)return Dr}return getPrecisionSafe(_r)}function getPrecisionSafe(_r){var Be=_r.toString().toLowerCase(),Dr=Be.indexOf("e"),Mr=Dr>0?+Be.slice(Dr+1):0,$r=Dr>0?Dr:Be.length,Br=Be.indexOf("."),zr=Br<0?0:$r-1-Br;return Math.max(0,zr-Mr)}function getPixelPrecision(_r,Be){var Dr=Math.log,Mr=Math.LN10,$r=Math.floor(Dr(_r[1]-_r[0])/Mr),Br=Math.round(Dr(Math.abs(Be[1]-Be[0]))/Mr),zr=Math.min(Math.max(-$r+Br,0),20);return isFinite(zr)?zr:20}function getPercentWithPrecision(_r,Be,Dr){if(!_r[Be])return 0;var Mr=getPercentSeats(_r,Dr);return Mr[Be]||0}function getPercentSeats(_r,Be){var Dr=reduce(_r,function(Jr,rn){return Jr+(isNaN(rn)?0:rn)},0);if(Dr===0)return[];for(var Mr=Math.pow(10,Be),$r=map$1(_r,function(Jr){return(isNaN(Jr)?0:Jr)/Dr*Mr*100}),Br=Mr*100,zr=map$1($r,function(Jr){return Math.floor(Jr)}),Vr=reduce(zr,function(Jr,rn){return Jr+rn},0),jr=map$1($r,function(Jr,rn){return Jr-zr[rn]});Vr<Br;){for(var Gr=Number.NEGATIVE_INFINITY,Wr=null,Kr=0,Zr=jr.length;Kr<Zr;++Kr)jr[Kr]>Gr&&(Gr=jr[Kr],Wr=Kr);++zr[Wr],jr[Wr]=0,++Vr}return map$1(zr,function(Jr){return Jr/Mr})}function addSafe(_r,Be){var Dr=Math.max(getPrecision(_r),getPrecision(Be)),Mr=_r+Be;return Dr>ROUND_SUPPORTED_PRECISION_MAX?Mr:round$3(Mr,Dr)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(_r){var Be=Math.PI*2;return(_r%Be+Be)%Be}function isRadianAroundZero(_r){return _r>-RADIAN_EPSILON&&_r<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(_r){if(_r instanceof Date)return _r;if(isString(_r)){var Be=TIME_REG.exec(_r);if(!Be)return new Date(NaN);if(Be[8]){var Dr=+Be[4]||0;return Be[8].toUpperCase()!=="Z"&&(Dr-=+Be[8].slice(0,3)),new Date(Date.UTC(+Be[1],+(Be[2]||1)-1,+Be[3]||1,Dr,+(Be[5]||0),+Be[6]||0,Be[7]?+Be[7].substring(0,3):0))}else return new Date(+Be[1],+(Be[2]||1)-1,+Be[3]||1,+Be[4]||0,+(Be[5]||0),+Be[6]||0,Be[7]?+Be[7].substring(0,3):0)}else if(_r==null)return new Date(NaN);return new Date(Math.round(_r))}function quantity(_r){return Math.pow(10,quantityExponent(_r))}function quantityExponent(_r){if(_r===0)return 0;var Be=Math.floor(Math.log(_r)/Math.LN10);return _r/Math.pow(10,Be)>=10&&Be++,Be}function nice(_r,Be){var Dr=quantityExponent(_r),Mr=Math.pow(10,Dr),$r=_r/Mr,Br;return Be?$r<1.5?Br=1:$r<2.5?Br=2:$r<4?Br=3:$r<7?Br=5:Br=10:$r<1?Br=1:$r<2?Br=2:$r<3?Br=3:$r<5?Br=5:Br=10,_r=Br*Mr,Dr>=-20?+_r.toFixed(Dr<0?-Dr:0):_r}function quantile(_r,Be){var Dr=(_r.length-1)*Be+1,Mr=Math.floor(Dr),$r=+_r[Mr-1],Br=Dr-Mr;return Br?$r+Br*(_r[Mr]-$r):$r}function reformIntervals(_r){_r.sort(function(jr,Gr){return Vr(jr,Gr,0)?-1:1});for(var Be=-1/0,Dr=1,Mr=0;Mr<_r.length;){for(var $r=_r[Mr].interval,Br=_r[Mr].close,zr=0;zr<2;zr++)$r[zr]<=Be&&($r[zr]=Be,Br[zr]=zr?1:1-Dr),Be=$r[zr],Dr=Br[zr];$r[0]===$r[1]&&Br[0]*Br[1]!==1?_r.splice(Mr,1):Mr++}return _r;function Vr(jr,Gr,Wr){return jr.interval[Wr]<Gr.interval[Wr]||jr.interval[Wr]===Gr.interval[Wr]&&(jr.close[Wr]-Gr.close[Wr]===(Wr?-1:1)||!Wr&&Vr(jr,Gr,1))}}function numericToNumber(_r){var Be=parseFloat(_r);return Be==_r&&(Be!==0||!isString(_r)||_r.indexOf("x")<=0)?Be:NaN}function isNumeric(_r){return!isNaN(numericToNumber(_r))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(_r,Be){return Be===0?_r:getGreatestCommonDividor(Be,_r%Be)}function getLeastCommonMultiple(_r,Be){return _r==null?Be:Be==null?_r:_r*Be/getGreatestCommonDividor(_r,Be)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(_r,Be,Dr){if(hasConsole){if(Dr){if(storedLogs[Be])return;storedLogs[Be]=!0}console[_r](ECHARTS_PREFIX+Be)}}function warn(_r,Be){outputLog("warn",_r,Be)}function throwError(_r){throw new Error(_r)}function interpolateNumber(_r,Be,Dr){return(Be-_r)*Dr+_r}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(_r){return _r instanceof Array?_r:_r==null?[]:[_r]}function defaultEmphasis(_r,Be,Dr){if(_r){_r[Be]=_r[Be]||{},_r.emphasis=_r.emphasis||{},_r.emphasis[Be]=_r.emphasis[Be]||{};for(var Mr=0,$r=Dr.length;Mr<$r;Mr++){var Br=Dr[Mr];!_r.emphasis[Be].hasOwnProperty(Br)&&_r[Be].hasOwnProperty(Br)&&(_r.emphasis[Be][Br]=_r[Be][Br])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(_r){return isObject$3(_r)&&!isArray$1(_r)&&!(_r instanceof Date)?_r.value:_r}function isDataItemOption(_r){return isObject$3(_r)&&!(_r instanceof Array)}function mappingToExists(_r,Be,Dr){var Mr=Dr==="normalMerge",$r=Dr==="replaceMerge",Br=Dr==="replaceAll";_r=_r||[],Be=(Be||[]).slice();var zr=createHashMap();each$f(Be,function(jr,Gr){if(!isObject$3(jr)){Be[Gr]=null;return}});var Vr=prepareResult(_r,zr,Dr);return(Mr||$r)&&mappingById(Vr,_r,zr,Be),Mr&&mappingByName(Vr,Be),Mr||$r?mappingByIndex(Vr,Be,$r):Br&&mappingInReplaceAllMode(Vr,Be),makeIdAndName(Vr),Vr}function prepareResult(_r,Be,Dr){var Mr=[];if(Dr==="replaceAll")return Mr;for(var $r=0;$r<_r.length;$r++){var Br=_r[$r];Br&&Br.id!=null&&Be.set(Br.id,$r),Mr.push({existing:Dr==="replaceMerge"||isComponentIdInternal(Br)?null:Br,newOption:null,keyInfo:null,brandNew:null})}return Mr}function mappingById(_r,Be,Dr,Mr){each$f(Mr,function($r,Br){if(!(!$r||$r.id==null)){var zr=makeComparableKey($r.id),Vr=Dr.get(zr);if(Vr!=null){var jr=_r[Vr];assert(!jr.newOption,'Duplicated option on id "'+zr+'".'),jr.newOption=$r,jr.existing=Be[Vr],Mr[Br]=null}}})}function mappingByName(_r,Be){each$f(Be,function(Dr,Mr){if(!(!Dr||Dr.name==null))for(var $r=0;$r<_r.length;$r++){var Br=_r[$r].existing;if(!_r[$r].newOption&&Br&&(Br.id==null||Dr.id==null)&&!isComponentIdInternal(Dr)&&!isComponentIdInternal(Br)&&keyExistAndEqual("name",Br,Dr)){_r[$r].newOption=Dr,Be[Mr]=null;return}}})}function mappingByIndex(_r,Be,Dr){each$f(Be,function(Mr){if(Mr){for(var $r,Br=0;($r=_r[Br])&&($r.newOption||isComponentIdInternal($r.existing)||$r.existing&&Mr.id!=null&&!keyExistAndEqual("id",Mr,$r.existing));)Br++;$r?($r.newOption=Mr,$r.brandNew=Dr):_r.push({newOption:Mr,brandNew:Dr,existing:null,keyInfo:null}),Br++}})}function mappingInReplaceAllMode(_r,Be){each$f(Be,function(Dr){_r.push({newOption:Dr,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(_r){var Be=createHashMap();each$f(_r,function(Dr){var Mr=Dr.existing;Mr&&Be.set(Mr.id,Dr)}),each$f(_r,function(Dr){var Mr=Dr.newOption;assert(!Mr||Mr.id==null||!Be.get(Mr.id)||Be.get(Mr.id)===Dr,"id duplicates: "+(Mr&&Mr.id)),Mr&&Mr.id!=null&&Be.set(Mr.id,Dr),!Dr.keyInfo&&(Dr.keyInfo={})}),each$f(_r,function(Dr,Mr){var $r=Dr.existing,Br=Dr.newOption,zr=Dr.keyInfo;if(isObject$3(Br)){if(zr.name=Br.name!=null?makeComparableKey(Br.name):$r?$r.name:DUMMY_COMPONENT_NAME_PREFIX+Mr,$r)zr.id=makeComparableKey($r.id);else if(Br.id!=null)zr.id=makeComparableKey(Br.id);else{var Vr=0;do zr.id="\0"+zr.name+"\0"+Vr++;while(Be.get(zr.id))}Be.set(zr.id,Dr)}})}function keyExistAndEqual(_r,Be,Dr){var Mr=convertOptionIdName(Be[_r],null),$r=convertOptionIdName(Dr[_r],null);return Mr!=null&&$r!=null&&Mr===$r}function makeComparableKey(_r){return convertOptionIdName(_r,"")}function convertOptionIdName(_r,Be){return _r==null?Be:isString(_r)?_r:isNumber(_r)||isStringSafe(_r)?_r+"":Be}function isNameSpecified(_r){var Be=_r.name;return!!(Be&&Be.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(_r){return _r&&_r.id!=null&&makeComparableKey(_r.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(_r){return INTERNAL_COMPONENT_ID_PREFIX+_r}function setComponentTypeToKeyInfo(_r,Be,Dr){each$f(_r,function(Mr){var $r=Mr.newOption;isObject$3($r)&&(Mr.keyInfo.mainType=Be,Mr.keyInfo.subType=determineSubType(Be,$r,Mr.existing,Dr))})}function determineSubType(_r,Be,Dr,Mr){var $r=Be.type?Be.type:Dr?Dr.subType:Mr.determineSubType(_r,Be);return $r}function compressBatches(_r,Be){var Dr={},Mr={};return $r(_r||[],Dr),$r(Be||[],Mr,Dr),[Br(Dr),Br(Mr)];function $r(zr,Vr,jr){for(var Gr=0,Wr=zr.length;Gr<Wr;Gr++){var Kr=convertOptionIdName(zr[Gr].seriesId,null);if(Kr==null)return;for(var Zr=normalizeToArray(zr[Gr].dataIndex),Jr=jr&&jr[Kr],rn=0,nn=Zr.length;rn<nn;rn++){var ln=Zr[rn];Jr&&Jr[ln]?Jr[ln]=null:(Vr[Kr]||(Vr[Kr]={}))[ln]=1}}}function Br(zr,Vr){var jr=[];for(var Gr in zr)if(zr.hasOwnProperty(Gr)&&zr[Gr]!=null)if(Vr)jr.push(+Gr);else{var Wr=Br(zr[Gr],!0);Wr.length&&jr.push({seriesId:Gr,dataIndex:Wr})}return jr}}function queryDataIndex(_r,Be){if(Be.dataIndexInside!=null)return Be.dataIndexInside;if(Be.dataIndex!=null)return isArray$1(Be.dataIndex)?map$1(Be.dataIndex,function(Dr){return _r.indexOfRawIndex(Dr)}):_r.indexOfRawIndex(Be.dataIndex);if(Be.name!=null)return isArray$1(Be.name)?map$1(Be.name,function(Dr){return _r.indexOfName(Dr)}):_r.indexOfName(Be.name)}function makeInner(){var _r="__ec_inner_"+innerUniqueIndex++;return function(Be){return Be[_r]||(Be[_r]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(_r,Be,Dr){var Mr=preParseFinder(Be,Dr),$r=Mr.mainTypeSpecified,Br=Mr.queryOptionMap,zr=Mr.others,Vr=zr,jr=Dr?Dr.defaultMainType:null;return!$r&&jr&&Br.set(jr,{}),Br.each(function(Gr,Wr){var Kr=queryReferringComponents(_r,Wr,Gr,{useDefault:jr===Wr,enableAll:Dr&&Dr.enableAll!=null?Dr.enableAll:!0,enableNone:Dr&&Dr.enableNone!=null?Dr.enableNone:!0});Vr[Wr+"Models"]=Kr.models,Vr[Wr+"Model"]=Kr.models[0]}),Vr}function preParseFinder(_r,Be){var Dr;if(isString(_r)){var Mr={};Mr[_r+"Index"]=0,Dr=Mr}else Dr=_r;var $r=createHashMap(),Br={},zr=!1;return each$f(Dr,function(Vr,jr){if(jr==="dataIndex"||jr==="dataIndexInside"){Br[jr]=Vr;return}var Gr=jr.match(/^(\w+)(Index|Id|Name)$/)||[],Wr=Gr[1],Kr=(Gr[2]||"").toLowerCase();if(!(!Wr||!Kr||Be&&Be.includeMainTypes&&indexOf(Be.includeMainTypes,Wr)<0)){zr=zr||!!Wr;var Zr=$r.get(Wr)||$r.set(Wr,{});Zr[Kr]=Vr}}),{mainTypeSpecified:zr,queryOptionMap:$r,others:Br}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(_r,Be,Dr,Mr){Mr=Mr||SINGLE_REFERRING;var $r=Dr.index,Br=Dr.id,zr=Dr.name,Vr={models:null,specified:$r!=null||Br!=null||zr!=null};if(!Vr.specified){var jr=void 0;return Vr.models=Mr.useDefault&&(jr=_r.getComponent(Be))?[jr]:[],Vr}return $r==="none"||$r===!1?(assert(Mr.enableNone,'`"none"` or `false` is not a valid value on index option.'),Vr.models=[],Vr):($r==="all"&&(assert(Mr.enableAll,'`"all"` is not a valid value on index option.'),$r=Br=zr=null),Vr.models=_r.queryComponents({mainType:Be,index:$r,id:Br,name:zr}),Vr)}function setAttribute(_r,Be,Dr){_r.setAttribute?_r.setAttribute(Be,Dr):_r[Be]=Dr}function getAttribute(_r,Be){return _r.getAttribute?_r.getAttribute(Be):_r[Be]}function getTooltipRenderMode(_r){return _r==="auto"?env$1.domSupported?"html":"richText":_r||"html"}function groupData(_r,Be){var Dr=createHashMap(),Mr=[];return each$f(_r,function($r){var Br=Be($r);(Dr.get(Br)||(Mr.push(Br),Dr.set(Br,[]))).push($r)}),{keys:Mr,buckets:Dr}}function interpolateRawValues(_r,Be,Dr,Mr,$r){var Br=Be==null||Be==="auto";if(Mr==null)return Mr;if(isNumber(Mr)){var zr=interpolateNumber(Dr||0,Mr,$r);return round$3(zr,Br?Math.max(getPrecision(Dr||0),getPrecision(Mr)):Be)}else{if(isString(Mr))return $r<1?Dr:Mr;for(var Vr=[],jr=Dr,Gr=Mr,Wr=Math.max(jr?jr.length:0,Gr.length),Kr=0;Kr<Wr;++Kr){var Zr=_r.getDimensionInfo(Kr);if(Zr&&Zr.type==="ordinal")Vr[Kr]=($r<1&&jr?jr:Gr)[Kr];else{var Jr=jr&&jr[Kr]?jr[Kr]:0,rn=Gr[Kr],zr=interpolateNumber(Jr,rn,$r);Vr[Kr]=round$3(zr,Br?Math.max(getPrecision(Jr),getPrecision(rn)):Be)}}return Vr}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(_r){var Be={main:"",sub:""};if(_r){var Dr=_r.split(TYPE_DELIMITER);Be.main=Dr[0]||"",Be.sub=Dr[1]||""}return Be}function checkClassType(_r){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(_r),'componentType "'+_r+'" illegal')}function isExtendedClass(_r){return!!(_r&&_r[IS_EXTENDED_CLASS])}function enableClassExtend(_r,Be){_r.$constructor=_r,_r.extend=function(Dr){var Mr=this,$r;return isESClass(Mr)?$r=function(Br){__extends(zr,Br);function zr(){return Br.apply(this,arguments)||this}return zr}(Mr):($r=function(){(Dr.$constructor||Mr).apply(this,arguments)},inherits($r,this)),extend$1($r.prototype,Dr),$r[IS_EXTENDED_CLASS]=!0,$r.extend=this.extend,$r.superCall=superCall,$r.superApply=superApply,$r.superClass=Mr,$r}}function isESClass(_r){return isFunction(_r)&&/^class\s/.test(Function.prototype.toString.call(_r))}function mountExtend(_r,Be){_r.extend=Be.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(_r){var Be=["__\0is_clz",classBase++].join("_");_r.prototype[Be]=!0,_r.isInstance=function(Dr){return!!(Dr&&Dr[Be])}}function superCall(_r,Be){for(var Dr=[],Mr=2;Mr<arguments.length;Mr++)Dr[Mr-2]=arguments[Mr];return this.superClass.prototype[Be].apply(_r,Dr)}function superApply(_r,Be,Dr){return this.superClass.prototype[Be].apply(_r,Dr)}function enableClassManagement(_r){var Be={};_r.registerClass=function(Mr){var $r=Mr.type||Mr.prototype.type;if($r){checkClassType($r),Mr.prototype.type=$r;var Br=parseClassType($r);if(!Br.sub)Be[Br.main]=Mr;else if(Br.sub!==IS_CONTAINER){var zr=Dr(Br);zr[Br.sub]=Mr}}return Mr},_r.getClass=function(Mr,$r,Br){var zr=Be[Mr];if(zr&&zr[IS_CONTAINER]&&(zr=$r?zr[$r]:null),Br&&!zr)throw new Error($r?"Component "+Mr+"."+($r||"")+" is used but not imported.":Mr+".type should be specified.");return zr},_r.getClassesByMainType=function(Mr){var $r=parseClassType(Mr),Br=[],zr=Be[$r.main];return zr&&zr[IS_CONTAINER]?each$f(zr,function(Vr,jr){jr!==IS_CONTAINER&&Br.push(Vr)}):Br.push(zr),Br},_r.hasClass=function(Mr){var $r=parseClassType(Mr);return!!Be[$r.main]},_r.getAllClassMainTypes=function(){var Mr=[];return each$f(Be,function($r,Br){Mr.push(Br)}),Mr},_r.hasSubTypes=function(Mr){var $r=parseClassType(Mr),Br=Be[$r.main];return Br&&Br[IS_CONTAINER]};function Dr(Mr){var $r=Be[Mr.main];return(!$r||!$r[IS_CONTAINER])&&($r=Be[Mr.main]={},$r[IS_CONTAINER]=!0),$r}}function makeStyleMapper(_r,Be){for(var Dr=0;Dr<_r.length;Dr++)_r[Dr][1]||(_r[Dr][1]=_r[Dr][0]);return Be=Be||!1,function(Mr,$r,Br){for(var zr={},Vr=0;Vr<_r.length;Vr++){var jr=_r[Vr][1];if(!($r&&indexOf($r,jr)>=0||Br&&indexOf(Br,jr)<0)){var Gr=Mr.getShallow(jr,Be);Gr!=null&&(zr[_r[Vr][0]]=Gr)}}return zr}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function _r(){}return _r.prototype.getAreaStyle=function(Be,Dr){return getAreaStyle(this,Be,Dr)},_r}(),globalImageCache=new LRU$1(50);function findExistImage(_r){if(typeof _r=="string"){var Be=globalImageCache.get(_r);return Be&&Be.image}else return _r}function createOrUpdateImage(_r,Be,Dr,Mr,$r){if(_r)if(typeof _r=="string"){if(Be&&Be.__zrImageSrc===_r||!Dr)return Be;var Br=globalImageCache.get(_r),zr={hostEl:Dr,cb:Mr,cbPayload:$r};return Br?(Be=Br.image,!isImageReady(Be)&&Br.pending.push(zr)):(Be=platformApi.loadImage(_r,imageOnLoad,imageOnLoad),Be.__zrImageSrc=_r,globalImageCache.put(_r,Be.__cachedImgObj={image:Be,pending:[zr]})),Be}else return _r;else return Be}function imageOnLoad(){var _r=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var Be=0;Be<_r.pending.length;Be++){var Dr=_r.pending[Be],Mr=Dr.cb;Mr&&Mr(this,Dr.cbPayload),Dr.hostEl.dirty()}_r.pending.length=0}function isImageReady(_r){return _r&&_r.width&&_r.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(_r,Be,Dr,Mr,$r){if(!Be)return"";var Br=(_r+"").split(`
`);$r=prepareTruncateOptions(Be,Dr,Mr,$r);for(var zr=0,Vr=Br.length;zr<Vr;zr++)Br[zr]=truncateSingleLine(Br[zr],$r);return Br.join(`
`)}function prepareTruncateOptions(_r,Be,Dr,Mr){Mr=Mr||{};var $r=extend$1({},Mr);$r.font=Be,Dr=retrieve2(Dr,"..."),$r.maxIterations=retrieve2(Mr.maxIterations,2);var Br=$r.minChar=retrieve2(Mr.minChar,0);$r.cnCharWidth=getWidth("å½",Be);var zr=$r.ascCharWidth=getWidth("a",Be);$r.placeholder=retrieve2(Mr.placeholder,"");for(var Vr=_r=Math.max(0,_r-1),jr=0;jr<Br&&Vr>=zr;jr++)Vr-=zr;var Gr=getWidth(Dr,Be);return Gr>Vr&&(Dr="",Gr=0),Vr=_r-Gr,$r.ellipsis=Dr,$r.ellipsisWidth=Gr,$r.contentWidth=Vr,$r.containerWidth=_r,$r}function truncateSingleLine(_r,Be){var Dr=Be.containerWidth,Mr=Be.font,$r=Be.contentWidth;if(!Dr)return"";var Br=getWidth(_r,Mr);if(Br<=Dr)return _r;for(var zr=0;;zr++){if(Br<=$r||zr>=Be.maxIterations){_r+=Be.ellipsis;break}var Vr=zr===0?estimateLength(_r,$r,Be.ascCharWidth,Be.cnCharWidth):Br>0?Math.floor(_r.length*$r/Br):0;_r=_r.substr(0,Vr),Br=getWidth(_r,Mr)}return _r===""&&(_r=Be.placeholder),_r}function estimateLength(_r,Be,Dr,Mr){for(var $r=0,Br=0,zr=_r.length;Br<zr&&$r<Be;Br++){var Vr=_r.charCodeAt(Br);$r+=0<=Vr&&Vr<=127?Dr:Mr}return Br}function parsePlainText(_r,Be){_r!=null&&(_r+="");var Dr=Be.overflow,Mr=Be.padding,$r=Be.font,Br=Dr==="truncate",zr=getLineHeight($r),Vr=retrieve2(Be.lineHeight,zr),jr=!!Be.backgroundColor,Gr=Be.lineOverflow==="truncate",Wr=Be.width,Kr;Wr!=null&&(Dr==="break"||Dr==="breakAll")?Kr=_r?wrapText(_r,Be.font,Wr,Dr==="breakAll",0).lines:[]:Kr=_r?_r.split(`
`):[];var Zr=Kr.length*Vr,Jr=retrieve2(Be.height,Zr);if(Zr>Jr&&Gr){var rn=Math.floor(Jr/Vr);Kr=Kr.slice(0,rn)}if(_r&&Br&&Wr!=null)for(var nn=prepareTruncateOptions(Wr,$r,Be.ellipsis,{minChar:Be.truncateMinChar,placeholder:Be.placeholder}),ln=0;ln<Kr.length;ln++)Kr[ln]=truncateSingleLine(Kr[ln],nn);for(var cn=Jr,hn=0,ln=0;ln<Kr.length;ln++)hn=Math.max(getWidth(Kr[ln],$r),hn);Wr==null&&(Wr=hn);var mn=hn;return Mr&&(cn+=Mr[0]+Mr[2],mn+=Mr[1]+Mr[3],Wr+=Mr[1]+Mr[3]),jr&&(mn=Wr),{lines:Kr,height:Jr,outerWidth:mn,outerHeight:cn,lineHeight:Vr,calculatedLineHeight:zr,contentWidth:hn,contentHeight:Zr,width:Wr}}var RichTextToken=function(){function _r(){}return _r}(),RichTextLine=function(){function _r(Be){this.tokens=[],Be&&(this.tokens=Be)}return _r}(),RichTextContentBlock=function(){function _r(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return _r}();function parseRichText(_r,Be){var Dr=new RichTextContentBlock;if(_r!=null&&(_r+=""),!_r)return Dr;for(var Mr=Be.width,$r=Be.height,Br=Be.overflow,zr=(Br==="break"||Br==="breakAll")&&Mr!=null?{width:Mr,accumWidth:0,breakAll:Br==="breakAll"}:null,Vr=STYLE_REG.lastIndex=0,jr;(jr=STYLE_REG.exec(_r))!=null;){var Gr=jr.index;Gr>Vr&&pushTokens(Dr,_r.substring(Vr,Gr),Be,zr),pushTokens(Dr,jr[2],Be,zr,jr[1]),Vr=STYLE_REG.lastIndex}Vr<_r.length&&pushTokens(Dr,_r.substring(Vr,_r.length),Be,zr);var Wr=[],Kr=0,Zr=0,Jr=Be.padding,rn=Br==="truncate",nn=Be.lineOverflow==="truncate";function ln(ri,vi,wi){ri.width=vi,ri.lineHeight=wi,Kr+=wi,Zr=Math.max(Zr,vi)}e:for(var cn=0;cn<Dr.lines.length;cn++){for(var hn=Dr.lines[cn],mn=0,bn=0,An=0;An<hn.tokens.length;An++){var vn=hn.tokens[An],dn=vn.styleName&&Be.rich[vn.styleName]||{},wn=vn.textPadding=dn.padding,xn=wn?wn[1]+wn[3]:0,Mn=vn.font=dn.font||Be.font;vn.contentHeight=getLineHeight(Mn);var In=retrieve2(dn.height,vn.contentHeight);if(vn.innerHeight=In,wn&&(In+=wn[0]+wn[2]),vn.height=In,vn.lineHeight=retrieve3(dn.lineHeight,Be.lineHeight,In),vn.align=dn&&dn.align||Be.align,vn.verticalAlign=dn&&dn.verticalAlign||"middle",nn&&$r!=null&&Kr+vn.lineHeight>$r){An>0?(hn.tokens=hn.tokens.slice(0,An),ln(hn,bn,mn),Dr.lines=Dr.lines.slice(0,cn+1)):Dr.lines=Dr.lines.slice(0,cn);break e}var Hn=dn.width,$n=Hn==null||Hn==="auto";if(typeof Hn=="string"&&Hn.charAt(Hn.length-1)==="%")vn.percentWidth=Hn,Wr.push(vn),vn.contentWidth=getWidth(vn.text,Mn);else{if($n){var jn=dn.backgroundColor,Bn=jn&&jn.image;Bn&&(Bn=findExistImage(Bn),isImageReady(Bn)&&(vn.width=Math.max(vn.width,Bn.width*In/Bn.height)))}var Gn=rn&&Mr!=null?Mr-bn:null;Gn!=null&&Gn<vn.width?!$n||Gn<xn?(vn.text="",vn.width=vn.contentWidth=0):(vn.text=truncateText(vn.text,Gn-xn,Mn,Be.ellipsis,{minChar:Be.truncateMinChar}),vn.width=vn.contentWidth=getWidth(vn.text,Mn)):vn.contentWidth=getWidth(vn.text,Mn)}vn.width+=xn,bn+=vn.width,dn&&(mn=Math.max(mn,vn.lineHeight))}ln(hn,bn,mn)}Dr.outerWidth=Dr.width=retrieve2(Mr,Zr),Dr.outerHeight=Dr.height=retrieve2($r,Kr),Dr.contentHeight=Kr,Dr.contentWidth=Zr,Jr&&(Dr.outerWidth+=Jr[1]+Jr[3],Dr.outerHeight+=Jr[0]+Jr[2]);for(var cn=0;cn<Wr.length;cn++){var vn=Wr[cn],ei=vn.percentWidth;vn.width=parseInt(ei,10)/100*Dr.width}return Dr}function pushTokens(_r,Be,Dr,Mr,$r){var Br=Be==="",zr=$r&&Dr.rich[$r]||{},Vr=_r.lines,jr=zr.font||Dr.font,Gr=!1,Wr,Kr;if(Mr){var Zr=zr.padding,Jr=Zr?Zr[1]+Zr[3]:0;if(zr.width!=null&&zr.width!=="auto"){var rn=parsePercent$1(zr.width,Mr.width)+Jr;Vr.length>0&&rn+Mr.accumWidth>Mr.width&&(Wr=Be.split(`
`),Gr=!0),Mr.accumWidth=rn}else{var nn=wrapText(Be,jr,Mr.width,Mr.breakAll,Mr.accumWidth);Mr.accumWidth=nn.accumWidth+Jr,Kr=nn.linesWidths,Wr=nn.lines}}else Wr=Be.split(`
`);for(var ln=0;ln<Wr.length;ln++){var cn=Wr[ln],hn=new RichTextToken;if(hn.styleName=$r,hn.text=cn,hn.isLineHolder=!cn&&!Br,typeof zr.width=="number"?hn.width=zr.width:hn.width=Kr?Kr[ln]:getWidth(cn,jr),!ln&&!Gr){var mn=(Vr[Vr.length-1]||(Vr[0]=new RichTextLine)).tokens,bn=mn.length;bn===1&&mn[0].isLineHolder?mn[0]=hn:(cn||!bn||Br)&&mn.push(hn)}else Vr.push(new RichTextLine([hn]))}}function isAlphabeticLetter(_r){var Be=_r.charCodeAt(0);return Be>=32&&Be<=591||Be>=880&&Be<=4351||Be>=4608&&Be<=5119||Be>=7680&&Be<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(_r,Be){return _r[Be]=!0,_r},{});function isWordBreakChar(_r){return isAlphabeticLetter(_r)?!!breakCharMap[_r]:!0}function wrapText(_r,Be,Dr,Mr,$r){for(var Br=[],zr=[],Vr="",jr="",Gr=0,Wr=0,Kr=0;Kr<_r.length;Kr++){var Zr=_r.charAt(Kr);if(Zr===`
`){jr&&(Vr+=jr,Wr+=Gr),Br.push(Vr),zr.push(Wr),Vr="",jr="",Gr=0,Wr=0;continue}var Jr=getWidth(Zr,Be),rn=Mr?!1:!isWordBreakChar(Zr);if(Br.length?Wr+Jr>Dr:$r+Wr+Jr>Dr){Wr?(Vr||jr)&&(rn?(Vr||(Vr=jr,jr="",Gr=0,Wr=Gr),Br.push(Vr),zr.push(Wr-Gr),jr+=Zr,Gr+=Jr,Vr="",Wr=Gr):(jr&&(Vr+=jr,jr="",Gr=0),Br.push(Vr),zr.push(Wr),Vr=Zr,Wr=Jr)):rn?(Br.push(jr),zr.push(Gr),jr=Zr,Gr=Jr):(Br.push(Zr),zr.push(Jr));continue}Wr+=Jr,rn?(jr+=Zr,Gr+=Jr):(jr&&(Vr+=jr,jr="",Gr=0),Vr+=Zr)}return!Br.length&&!Vr&&(Vr=_r,jr="",Gr=0),jr&&(Vr+=jr),Vr&&(Br.push(Vr),zr.push(Wr)),Br.length===1&&(Wr+=$r),{accumWidth:Wr,lines:Br,linesWidths:zr}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype._init=function(Dr){for(var Mr=keys(Dr),$r=0;$r<Mr.length;$r++){var Br=Mr[$r];Br==="style"?this.useStyle(Dr[Br]):_r.prototype.attrKV.call(this,Br,Dr[Br])}this.style||this.useStyle({})},Be.prototype.beforeBrush=function(){},Be.prototype.afterBrush=function(){},Be.prototype.innerBeforeBrush=function(){},Be.prototype.innerAfterBrush=function(){},Be.prototype.shouldBePainted=function(Dr,Mr,$r,Br){var zr=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,Dr,Mr)||zr&&!zr[0]&&!zr[3])return!1;if($r&&this.__clipPaths){for(var Vr=0;Vr<this.__clipPaths.length;++Vr)if(this.__clipPaths[Vr].isZeroArea())return!1}if(Br&&this.parent)for(var jr=this.parent;jr;){if(jr.ignore)return!1;jr=jr.parent}return!0},Be.prototype.contain=function(Dr,Mr){return this.rectContain(Dr,Mr)},Be.prototype.traverse=function(Dr,Mr){Dr.call(Mr,this)},Be.prototype.rectContain=function(Dr,Mr){var $r=this.transformCoordToLocal(Dr,Mr),Br=this.getBoundingRect();return Br.contain($r[0],$r[1])},Be.prototype.getPaintRect=function(){var Dr=this._paintRect;if(!this._paintRect||this.__dirty){var Mr=this.transform,$r=this.getBoundingRect(),Br=this.style,zr=Br.shadowBlur||0,Vr=Br.shadowOffsetX||0,jr=Br.shadowOffsetY||0;Dr=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),Mr?BoundingRect$1.applyTransform(Dr,$r,Mr):Dr.copy($r),(zr||Vr||jr)&&(Dr.width+=zr*2+Math.abs(Vr),Dr.height+=zr*2+Math.abs(jr),Dr.x=Math.min(Dr.x,Dr.x+Vr-zr),Dr.y=Math.min(Dr.y,Dr.y+jr-zr));var Gr=this.dirtyRectTolerance;Dr.isZero()||(Dr.x=Math.floor(Dr.x-Gr),Dr.y=Math.floor(Dr.y-Gr),Dr.width=Math.ceil(Dr.width+1+Gr*2),Dr.height=Math.ceil(Dr.height+1+Gr*2))}return Dr},Be.prototype.setPrevPaintRect=function(Dr){Dr?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(Dr)):this._prevPaintRect=null},Be.prototype.getPrevPaintRect=function(){return this._prevPaintRect},Be.prototype.animateStyle=function(Dr){return this.animate("style",Dr)},Be.prototype.updateDuringAnimation=function(Dr){Dr==="style"?this.dirtyStyle():this.markRedraw()},Be.prototype.attrKV=function(Dr,Mr){Dr!=="style"?_r.prototype.attrKV.call(this,Dr,Mr):this.style?this.setStyle(Mr):this.useStyle(Mr)},Be.prototype.setStyle=function(Dr,Mr){return typeof Dr=="string"?this.style[Dr]=Mr:extend$1(this.style,Dr),this.dirtyStyle(),this},Be.prototype.dirtyStyle=function(Dr){Dr||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},Be.prototype.dirty=function(){this.dirtyStyle()},Be.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},Be.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},Be.prototype.createStyle=function(Dr){return createObject(DEFAULT_COMMON_STYLE,Dr)},Be.prototype.useStyle=function(Dr){Dr[STYLE_MAGIC_KEY]||(Dr=this.createStyle(Dr)),this.__inHover?this.__hoverStyle=Dr:this.style=Dr,this.dirtyStyle()},Be.prototype.isStyleObject=function(Dr){return Dr[STYLE_MAGIC_KEY]},Be.prototype._innerSaveToNormal=function(Dr){_r.prototype._innerSaveToNormal.call(this,Dr);var Mr=this._normalState;Dr.style&&!Mr.style&&(Mr.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(Dr,Mr,PRIMARY_STATES_KEYS)},Be.prototype._applyStateObj=function(Dr,Mr,$r,Br,zr,Vr){_r.prototype._applyStateObj.call(this,Dr,Mr,$r,Br,zr,Vr);var jr=!(Mr&&Br),Gr;if(Mr&&Mr.style?zr?Br?Gr=Mr.style:(Gr=this._mergeStyle(this.createStyle(),$r.style),this._mergeStyle(Gr,Mr.style)):(Gr=this._mergeStyle(this.createStyle(),Br?this.style:$r.style),this._mergeStyle(Gr,Mr.style)):jr&&(Gr=$r.style),Gr)if(zr){var Wr=this.style;if(this.style=this.createStyle(jr?{}:Wr),jr)for(var Kr=keys(Wr),Zr=0;Zr<Kr.length;Zr++){var Jr=Kr[Zr];Jr in Gr&&(Gr[Jr]=Gr[Jr],this.style[Jr]=Wr[Jr])}for(var rn=keys(Gr),Zr=0;Zr<rn.length;Zr++){var Jr=rn[Zr];this.style[Jr]=this.style[Jr]}this._transitionState(Dr,{style:Gr},Vr,this.getAnimationStyleProps())}else this.useStyle(Gr);for(var nn=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,Zr=0;Zr<nn.length;Zr++){var Jr=nn[Zr];Mr&&Mr[Jr]!=null?this[Jr]=Mr[Jr]:jr&&$r[Jr]!=null&&(this[Jr]=$r[Jr])}},Be.prototype._mergeStates=function(Dr){for(var Mr=_r.prototype._mergeStates.call(this,Dr),$r,Br=0;Br<Dr.length;Br++){var zr=Dr[Br];zr.style&&($r=$r||{},this._mergeStyle($r,zr.style))}return $r&&(Mr.style=$r),Mr},Be.prototype._mergeStyle=function(Dr,Mr){return extend$1(Dr,Mr),Dr},Be.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},Be.initDefaultProps=function(){var Dr=Be.prototype;Dr.type="displayable",Dr.invisible=!1,Dr.z=0,Dr.z2=0,Dr.zlevel=0,Dr.culling=!1,Dr.cursor="pointer",Dr.rectHover=!1,Dr.incremental=!1,Dr._rect=null,Dr.dirtyRectTolerance=0,Dr.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),Be}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(_r,Be,Dr){return tmpRect.copy(_r.getBoundingRect()),_r.transform&&tmpRect.applyTransform(_r.transform),viewRect.width=Be,viewRect.height=Dr,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(_r,Be,Dr){if(_r.length!==0){for(var Mr=_r[0],$r=Mr[0],Br=Mr[0],zr=Mr[1],Vr=Mr[1],jr=1;jr<_r.length;jr++)Mr=_r[jr],$r=mathMin$9($r,Mr[0]),Br=mathMax$9(Br,Mr[0]),zr=mathMin$9(zr,Mr[1]),Vr=mathMax$9(Vr,Mr[1]);Be[0]=$r,Be[1]=zr,Dr[0]=Br,Dr[1]=Vr}}function fromLine(_r,Be,Dr,Mr,$r,Br){$r[0]=mathMin$9(_r,Dr),$r[1]=mathMin$9(Be,Mr),Br[0]=mathMax$9(_r,Dr),Br[1]=mathMax$9(Be,Mr)}var xDim=[],yDim=[];function fromCubic(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr){var Wr=cubicExtrema,Kr=cubicAt,Zr=Wr(_r,Dr,$r,zr,xDim);jr[0]=1/0,jr[1]=1/0,Gr[0]=-1/0,Gr[1]=-1/0;for(var Jr=0;Jr<Zr;Jr++){var rn=Kr(_r,Dr,$r,zr,xDim[Jr]);jr[0]=mathMin$9(rn,jr[0]),Gr[0]=mathMax$9(rn,Gr[0])}Zr=Wr(Be,Mr,Br,Vr,yDim);for(var Jr=0;Jr<Zr;Jr++){var nn=Kr(Be,Mr,Br,Vr,yDim[Jr]);jr[1]=mathMin$9(nn,jr[1]),Gr[1]=mathMax$9(nn,Gr[1])}jr[0]=mathMin$9(_r,jr[0]),Gr[0]=mathMax$9(_r,Gr[0]),jr[0]=mathMin$9(zr,jr[0]),Gr[0]=mathMax$9(zr,Gr[0]),jr[1]=mathMin$9(Be,jr[1]),Gr[1]=mathMax$9(Be,Gr[1]),jr[1]=mathMin$9(Vr,jr[1]),Gr[1]=mathMax$9(Vr,Gr[1])}function fromQuadratic(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr=quadraticExtremum,Gr=quadraticAt$1,Wr=mathMax$9(mathMin$9(jr(_r,Dr,$r),1),0),Kr=mathMax$9(mathMin$9(jr(Be,Mr,Br),1),0),Zr=Gr(_r,Dr,$r,Wr),Jr=Gr(Be,Mr,Br,Kr);zr[0]=mathMin$9(_r,$r,Zr),zr[1]=mathMin$9(Be,Br,Jr),Vr[0]=mathMax$9(_r,$r,Zr),Vr[1]=mathMax$9(Be,Br,Jr)}function fromArc(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){var Gr=min$1,Wr=max$1,Kr=Math.abs($r-Br);if(Kr%PI2$8<1e-4&&Kr>1e-4){Vr[0]=_r-Dr,Vr[1]=Be-Mr,jr[0]=_r+Dr,jr[1]=Be+Mr;return}if(start[0]=mathCos$4($r)*Dr+_r,start[1]=mathSin$4($r)*Mr+Be,end[0]=mathCos$4(Br)*Dr+_r,end[1]=mathSin$4(Br)*Mr+Be,Gr(Vr,start,end),Wr(jr,start,end),$r=$r%PI2$8,$r<0&&($r=$r+PI2$8),Br=Br%PI2$8,Br<0&&(Br=Br+PI2$8),$r>Br&&!zr?Br+=PI2$8:$r<Br&&zr&&($r+=PI2$8),zr){var Zr=Br;Br=$r,$r=Zr}for(var Jr=0;Jr<Br;Jr+=Math.PI/2)Jr>$r&&(extremity[0]=mathCos$4(Jr)*Dr+_r,extremity[1]=mathSin$4(Jr)*Mr+Be,Gr(Vr,extremity,Vr),Wr(jr,extremity,jr))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(_r){var Be=Math.round(_r/PI$8*1e8)/1e8;return Be%2*PI$8}function normalizeArcAngles(_r,Be){var Dr=modPI2(_r[0]);Dr<0&&(Dr+=PI2$7);var Mr=Dr-_r[0],$r=_r[1];$r+=Mr,!Be&&$r-Dr>=PI2$7?$r=Dr+PI2$7:Be&&Dr-$r>=PI2$7?$r=Dr-PI2$7:!Be&&Dr>$r?$r=Dr+(PI2$7-modPI2(Dr-$r)):Be&&Dr<$r&&($r=Dr-(PI2$7-modPI2($r-Dr))),_r[0]=Dr,_r[1]=$r}var PathProxy=function(){function _r(Be){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,Be&&(this._saveData=!1),this._saveData&&(this.data=[])}return _r.prototype.increaseVersion=function(){this._version++},_r.prototype.getVersion=function(){return this._version},_r.prototype.setScale=function(Be,Dr,Mr){Mr=Mr||0,Mr>0&&(this._ux=mathAbs$2(Mr/devicePixelRatio/Be)||0,this._uy=mathAbs$2(Mr/devicePixelRatio/Dr)||0)},_r.prototype.setDPR=function(Be){this.dpr=Be},_r.prototype.setContext=function(Be){this._ctx=Be},_r.prototype.getContext=function(){return this._ctx},_r.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},_r.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},_r.prototype.moveTo=function(Be,Dr){return this._drawPendingPt(),this.addData(CMD$4.M,Be,Dr),this._ctx&&this._ctx.moveTo(Be,Dr),this._x0=Be,this._y0=Dr,this._xi=Be,this._yi=Dr,this},_r.prototype.lineTo=function(Be,Dr){var Mr=mathAbs$2(Be-this._xi),$r=mathAbs$2(Dr-this._yi),Br=Mr>this._ux||$r>this._uy;if(this.addData(CMD$4.L,Be,Dr),this._ctx&&Br&&this._ctx.lineTo(Be,Dr),Br)this._xi=Be,this._yi=Dr,this._pendingPtDist=0;else{var zr=Mr*Mr+$r*$r;zr>this._pendingPtDist&&(this._pendingPtX=Be,this._pendingPtY=Dr,this._pendingPtDist=zr)}return this},_r.prototype.bezierCurveTo=function(Be,Dr,Mr,$r,Br,zr){return this._drawPendingPt(),this.addData(CMD$4.C,Be,Dr,Mr,$r,Br,zr),this._ctx&&this._ctx.bezierCurveTo(Be,Dr,Mr,$r,Br,zr),this._xi=Br,this._yi=zr,this},_r.prototype.quadraticCurveTo=function(Be,Dr,Mr,$r){return this._drawPendingPt(),this.addData(CMD$4.Q,Be,Dr,Mr,$r),this._ctx&&this._ctx.quadraticCurveTo(Be,Dr,Mr,$r),this._xi=Mr,this._yi=$r,this},_r.prototype.arc=function(Be,Dr,Mr,$r,Br,zr){this._drawPendingPt(),tmpAngles[0]=$r,tmpAngles[1]=Br,normalizeArcAngles(tmpAngles,zr),$r=tmpAngles[0],Br=tmpAngles[1];var Vr=Br-$r;return this.addData(CMD$4.A,Be,Dr,Mr,Mr,$r,Vr,0,zr?0:1),this._ctx&&this._ctx.arc(Be,Dr,Mr,$r,Br,zr),this._xi=mathCos$3(Br)*Mr+Be,this._yi=mathSin$3(Br)*Mr+Dr,this},_r.prototype.arcTo=function(Be,Dr,Mr,$r,Br){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(Be,Dr,Mr,$r,Br),this},_r.prototype.rect=function(Be,Dr,Mr,$r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(Be,Dr,Mr,$r),this.addData(CMD$4.R,Be,Dr,Mr,$r),this},_r.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var Be=this._ctx,Dr=this._x0,Mr=this._y0;return Be&&Be.closePath(),this._xi=Dr,this._yi=Mr,this},_r.prototype.fill=function(Be){Be&&Be.fill(),this.toStatic()},_r.prototype.stroke=function(Be){Be&&Be.stroke(),this.toStatic()},_r.prototype.len=function(){return this._len},_r.prototype.setData=function(Be){var Dr=Be.length;!(this.data&&this.data.length===Dr)&&hasTypedArray&&(this.data=new Float32Array(Dr));for(var Mr=0;Mr<Dr;Mr++)this.data[Mr]=Be[Mr];this._len=Dr},_r.prototype.appendPath=function(Be){Be instanceof Array||(Be=[Be]);for(var Dr=Be.length,Mr=0,$r=this._len,Br=0;Br<Dr;Br++)Mr+=Be[Br].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array($r+Mr));for(var Br=0;Br<Dr;Br++)for(var zr=Be[Br].data,Vr=0;Vr<zr.length;Vr++)this.data[$r++]=zr[Vr];this._len=$r},_r.prototype.addData=function(Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr){if(this._saveData){var Wr=this.data;this._len+arguments.length>Wr.length&&(this._expandData(),Wr=this.data);for(var Kr=0;Kr<arguments.length;Kr++)Wr[this._len++]=arguments[Kr]}},_r.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},_r.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var Be=[],Dr=0;Dr<this._len;Dr++)Be[Dr]=this.data[Dr];this.data=Be}},_r.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var Be=this.data;Be instanceof Array&&(Be.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(Be)))}},_r.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var Be=this.data,Dr=0,Mr=0,$r=0,Br=0,zr;for(zr=0;zr<this._len;){var Vr=Be[zr++],jr=zr===1;switch(jr&&(Dr=Be[zr],Mr=Be[zr+1],$r=Dr,Br=Mr),Vr){case CMD$4.M:Dr=$r=Be[zr++],Mr=Br=Be[zr++],min2[0]=$r,min2[1]=Br,max2[0]=$r,max2[1]=Br;break;case CMD$4.L:fromLine(Dr,Mr,Be[zr],Be[zr+1],min2,max2),Dr=Be[zr++],Mr=Be[zr++];break;case CMD$4.C:fromCubic(Dr,Mr,Be[zr++],Be[zr++],Be[zr++],Be[zr++],Be[zr],Be[zr+1],min2,max2),Dr=Be[zr++],Mr=Be[zr++];break;case CMD$4.Q:fromQuadratic(Dr,Mr,Be[zr++],Be[zr++],Be[zr],Be[zr+1],min2,max2),Dr=Be[zr++],Mr=Be[zr++];break;case CMD$4.A:var Gr=Be[zr++],Wr=Be[zr++],Kr=Be[zr++],Zr=Be[zr++],Jr=Be[zr++],rn=Be[zr++]+Jr;zr+=1;var nn=!Be[zr++];jr&&($r=mathCos$3(Jr)*Kr+Gr,Br=mathSin$3(Jr)*Zr+Wr),fromArc(Gr,Wr,Kr,Zr,Jr,rn,nn,min2,max2),Dr=mathCos$3(rn)*Kr+Gr,Mr=mathSin$3(rn)*Zr+Wr;break;case CMD$4.R:$r=Dr=Be[zr++],Br=Mr=Be[zr++];var ln=Be[zr++],cn=Be[zr++];fromLine($r,Br,$r+ln,Br+cn,min2,max2);break;case CMD$4.Z:Dr=$r,Mr=Br;break}min$1(min,min,min2),max$1(max,max,max2)}return zr===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},_r.prototype._calculateLength=function(){var Be=this.data,Dr=this._len,Mr=this._ux,$r=this._uy,Br=0,zr=0,Vr=0,jr=0;this._pathSegLen||(this._pathSegLen=[]);for(var Gr=this._pathSegLen,Wr=0,Kr=0,Zr=0;Zr<Dr;){var Jr=Be[Zr++],rn=Zr===1;rn&&(Br=Be[Zr],zr=Be[Zr+1],Vr=Br,jr=zr);var nn=-1;switch(Jr){case CMD$4.M:Br=Vr=Be[Zr++],zr=jr=Be[Zr++];break;case CMD$4.L:{var ln=Be[Zr++],cn=Be[Zr++],hn=ln-Br,mn=cn-zr;(mathAbs$2(hn)>Mr||mathAbs$2(mn)>$r||Zr===Dr-1)&&(nn=Math.sqrt(hn*hn+mn*mn),Br=ln,zr=cn);break}case CMD$4.C:{var bn=Be[Zr++],An=Be[Zr++],ln=Be[Zr++],cn=Be[Zr++],vn=Be[Zr++],dn=Be[Zr++];nn=cubicLength(Br,zr,bn,An,ln,cn,vn,dn,10),Br=vn,zr=dn;break}case CMD$4.Q:{var bn=Be[Zr++],An=Be[Zr++],ln=Be[Zr++],cn=Be[Zr++];nn=quadraticLength(Br,zr,bn,An,ln,cn,10),Br=ln,zr=cn;break}case CMD$4.A:var wn=Be[Zr++],xn=Be[Zr++],Mn=Be[Zr++],In=Be[Zr++],Hn=Be[Zr++],$n=Be[Zr++],jn=$n+Hn;Zr+=1,Be[Zr++],rn&&(Vr=mathCos$3(Hn)*Mn+wn,jr=mathSin$3(Hn)*In+xn),nn=mathMax$8(Mn,In)*mathMin$8(PI2$7,Math.abs($n)),Br=mathCos$3(jn)*Mn+wn,zr=mathSin$3(jn)*In+xn;break;case CMD$4.R:{Vr=Br=Be[Zr++],jr=zr=Be[Zr++];var Bn=Be[Zr++],Gn=Be[Zr++];nn=Bn*2+Gn*2;break}case CMD$4.Z:{var hn=Vr-Br,mn=jr-zr;nn=Math.sqrt(hn*hn+mn*mn),Br=Vr,zr=jr;break}}nn>=0&&(Gr[Kr++]=nn,Wr+=nn)}return this._pathLen=Wr,Wr},_r.prototype.rebuildPath=function(Be,Dr){var Mr=this.data,$r=this._ux,Br=this._uy,zr=this._len,Vr,jr,Gr,Wr,Kr,Zr,Jr=Dr<1,rn,nn,ln=0,cn=0,hn,mn=0,bn,An;if(!(Jr&&(this._pathSegLen||this._calculateLength(),rn=this._pathSegLen,nn=this._pathLen,hn=Dr*nn,!hn)))e:for(var vn=0;vn<zr;){var dn=Mr[vn++],wn=vn===1;switch(wn&&(Gr=Mr[vn],Wr=Mr[vn+1],Vr=Gr,jr=Wr),dn!==CMD$4.L&&mn>0&&(Be.lineTo(bn,An),mn=0),dn){case CMD$4.M:Vr=Gr=Mr[vn++],jr=Wr=Mr[vn++],Be.moveTo(Gr,Wr);break;case CMD$4.L:{Kr=Mr[vn++],Zr=Mr[vn++];var xn=mathAbs$2(Kr-Gr),Mn=mathAbs$2(Zr-Wr);if(xn>$r||Mn>Br){if(Jr){var In=rn[cn++];if(ln+In>hn){var Hn=(hn-ln)/In;Be.lineTo(Gr*(1-Hn)+Kr*Hn,Wr*(1-Hn)+Zr*Hn);break e}ln+=In}Be.lineTo(Kr,Zr),Gr=Kr,Wr=Zr,mn=0}else{var $n=xn*xn+Mn*Mn;$n>mn&&(bn=Kr,An=Zr,mn=$n)}break}case CMD$4.C:{var jn=Mr[vn++],Bn=Mr[vn++],Gn=Mr[vn++],ei=Mr[vn++],ri=Mr[vn++],vi=Mr[vn++];if(Jr){var In=rn[cn++];if(ln+In>hn){var Hn=(hn-ln)/In;cubicSubdivide(Gr,jn,Gn,ri,Hn,tmpOutX),cubicSubdivide(Wr,Bn,ei,vi,Hn,tmpOutY),Be.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}ln+=In}Be.bezierCurveTo(jn,Bn,Gn,ei,ri,vi),Gr=ri,Wr=vi;break}case CMD$4.Q:{var jn=Mr[vn++],Bn=Mr[vn++],Gn=Mr[vn++],ei=Mr[vn++];if(Jr){var In=rn[cn++];if(ln+In>hn){var Hn=(hn-ln)/In;quadraticSubdivide(Gr,jn,Gn,Hn,tmpOutX),quadraticSubdivide(Wr,Bn,ei,Hn,tmpOutY),Be.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}ln+=In}Be.quadraticCurveTo(jn,Bn,Gn,ei),Gr=Gn,Wr=ei;break}case CMD$4.A:var wi=Mr[vn++],Ni=Mr[vn++],Yn=Mr[vn++],Vn=Mr[vn++],si=Mr[vn++],Ri=Mr[vn++],Pi=Mr[vn++],Fi=!Mr[vn++],zi=Yn>Vn?Yn:Vn,oo=mathAbs$2(Yn-Vn)>.001,lo=si+Ri,io=!1;if(Jr){var In=rn[cn++];ln+In>hn&&(lo=si+Ri*(hn-ln)/In,io=!0),ln+=In}if(oo&&Be.ellipse?Be.ellipse(wi,Ni,Yn,Vn,Pi,si,lo,Fi):Be.arc(wi,Ni,zi,si,lo,Fi),io)break e;wn&&(Vr=mathCos$3(si)*Yn+wi,jr=mathSin$3(si)*Vn+Ni),Gr=mathCos$3(lo)*Yn+wi,Wr=mathSin$3(lo)*Vn+Ni;break;case CMD$4.R:Vr=Gr=Mr[vn],jr=Wr=Mr[vn+1],Kr=Mr[vn++],Zr=Mr[vn++];var Wi=Mr[vn++],Bo=Mr[vn++];if(Jr){var In=rn[cn++];if(ln+In>hn){var Mo=hn-ln;Be.moveTo(Kr,Zr),Be.lineTo(Kr+mathMin$8(Mo,Wi),Zr),Mo-=Wi,Mo>0&&Be.lineTo(Kr+Wi,Zr+mathMin$8(Mo,Bo)),Mo-=Bo,Mo>0&&Be.lineTo(Kr+mathMax$8(Wi-Mo,0),Zr+Bo),Mo-=Wi,Mo>0&&Be.lineTo(Kr,Zr+mathMax$8(Bo-Mo,0));break e}ln+=In}Be.rect(Kr,Zr,Wi,Bo);break;case CMD$4.Z:if(Jr){var In=rn[cn++];if(ln+In>hn){var Hn=(hn-ln)/In;Be.lineTo(Gr*(1-Hn)+Vr*Hn,Wr*(1-Hn)+jr*Hn);break e}ln+=In}Be.closePath(),Gr=Vr,Wr=jr}}},_r.prototype.clone=function(){var Be=new _r,Dr=this.data;return Be.data=Dr.slice?Dr.slice():Array.prototype.slice.call(Dr),Be._len=this._len,Be},_r.CMD=CMD$4,_r.initDefaultProps=function(){var Be=_r.prototype;Be._saveData=!0,Be._ux=0,Be._uy=0,Be._pendingPtDist=0,Be._version=0}(),_r}();const PathProxy$1=PathProxy;function containStroke$4(_r,Be,Dr,Mr,$r,Br,zr){if($r===0)return!1;var Vr=$r,jr=0,Gr=_r;if(zr>Be+Vr&&zr>Mr+Vr||zr<Be-Vr&&zr<Mr-Vr||Br>_r+Vr&&Br>Dr+Vr||Br<_r-Vr&&Br<Dr-Vr)return!1;if(_r!==Dr)jr=(Be-Mr)/(_r-Dr),Gr=(_r*Mr-Dr*Be)/(_r-Dr);else return Math.abs(Br-_r)<=Vr/2;var Wr=jr*Br-zr+Gr,Kr=Wr*Wr/(jr*jr+1);return Kr<=Vr/2*Vr/2}function containStroke$3(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr,Wr){if(jr===0)return!1;var Kr=jr;if(Wr>Be+Kr&&Wr>Mr+Kr&&Wr>Br+Kr&&Wr>Vr+Kr||Wr<Be-Kr&&Wr<Mr-Kr&&Wr<Br-Kr&&Wr<Vr-Kr||Gr>_r+Kr&&Gr>Dr+Kr&&Gr>$r+Kr&&Gr>zr+Kr||Gr<_r-Kr&&Gr<Dr-Kr&&Gr<$r-Kr&&Gr<zr-Kr)return!1;var Zr=cubicProjectPoint(_r,Be,Dr,Mr,$r,Br,zr,Vr,Gr,Wr,null);return Zr<=Kr/2}function containStroke$2(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){if(zr===0)return!1;var Gr=zr;if(jr>Be+Gr&&jr>Mr+Gr&&jr>Br+Gr||jr<Be-Gr&&jr<Mr-Gr&&jr<Br-Gr||Vr>_r+Gr&&Vr>Dr+Gr&&Vr>$r+Gr||Vr<_r-Gr&&Vr<Dr-Gr&&Vr<$r-Gr)return!1;var Wr=quadraticProjectPoint(_r,Be,Dr,Mr,$r,Br,Vr,jr,null);return Wr<=Gr/2}var PI2$6=Math.PI*2;function normalizeRadian(_r){return _r%=PI2$6,_r<0&&(_r+=PI2$6),_r}var PI2$5=Math.PI*2;function containStroke$1(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){if(zr===0)return!1;var Gr=zr;Vr-=_r,jr-=Be;var Wr=Math.sqrt(Vr*Vr+jr*jr);if(Wr-Gr>Dr||Wr+Gr<Dr)return!1;if(Math.abs(Mr-$r)%PI2$5<1e-4)return!0;if(Br){var Kr=Mr;Mr=normalizeRadian($r),$r=normalizeRadian(Kr)}else Mr=normalizeRadian(Mr),$r=normalizeRadian($r);Mr>$r&&($r+=PI2$5);var Zr=Math.atan2(jr,Vr);return Zr<0&&(Zr+=PI2$5),Zr>=Mr&&Zr<=$r||Zr+PI2$5>=Mr&&Zr+PI2$5<=$r}function windingLine(_r,Be,Dr,Mr,$r,Br){if(Br>Be&&Br>Mr||Br<Be&&Br<Mr||Mr===Be)return 0;var zr=(Br-Be)/(Mr-Be),Vr=Mr<Be?1:-1;(zr===1||zr===0)&&(Vr=Mr<Be?.5:-.5);var jr=zr*(Dr-_r)+_r;return jr===$r?1/0:jr>$r?Vr:0}var CMD$3=PathProxy$1.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(_r,Be){return Math.abs(_r-Be)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var _r=extrema[0];extrema[0]=extrema[1],extrema[1]=_r}function windingCubic(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr){if(Gr>Be&&Gr>Mr&&Gr>Br&&Gr>Vr||Gr<Be&&Gr<Mr&&Gr<Br&&Gr<Vr)return 0;var Wr=cubicRootAt(Be,Mr,Br,Vr,Gr,roots);if(Wr===0)return 0;for(var Kr=0,Zr=-1,Jr=void 0,rn=void 0,nn=0;nn<Wr;nn++){var ln=roots[nn],cn=ln===0||ln===1?.5:1,hn=cubicAt(_r,Dr,$r,zr,ln);hn<jr||(Zr<0&&(Zr=cubicExtrema(Be,Mr,Br,Vr,extrema),extrema[1]<extrema[0]&&Zr>1&&swapExtrema(),Jr=cubicAt(Be,Mr,Br,Vr,extrema[0]),Zr>1&&(rn=cubicAt(Be,Mr,Br,Vr,extrema[1]))),Zr===2?ln<extrema[0]?Kr+=Jr<Be?cn:-cn:ln<extrema[1]?Kr+=rn<Jr?cn:-cn:Kr+=Vr<rn?cn:-cn:ln<extrema[0]?Kr+=Jr<Be?cn:-cn:Kr+=Vr<Jr?cn:-cn)}return Kr}function windingQuadratic(_r,Be,Dr,Mr,$r,Br,zr,Vr){if(Vr>Be&&Vr>Mr&&Vr>Br||Vr<Be&&Vr<Mr&&Vr<Br)return 0;var jr=quadraticRootAt(Be,Mr,Br,Vr,roots);if(jr===0)return 0;var Gr=quadraticExtremum(Be,Mr,Br);if(Gr>=0&&Gr<=1){for(var Wr=0,Kr=quadraticAt$1(Be,Mr,Br,Gr),Zr=0;Zr<jr;Zr++){var Jr=roots[Zr]===0||roots[Zr]===1?.5:1,rn=quadraticAt$1(_r,Dr,$r,roots[Zr]);rn<zr||(roots[Zr]<Gr?Wr+=Kr<Be?Jr:-Jr:Wr+=Br<Kr?Jr:-Jr)}return Wr}else{var Jr=roots[0]===0||roots[0]===1?.5:1,rn=quadraticAt$1(_r,Dr,$r,roots[0]);return rn<zr?0:Br<Be?Jr:-Jr}}function windingArc(_r,Be,Dr,Mr,$r,Br,zr,Vr){if(Vr-=Be,Vr>Dr||Vr<-Dr)return 0;var jr=Math.sqrt(Dr*Dr-Vr*Vr);roots[0]=-jr,roots[1]=jr;var Gr=Math.abs(Mr-$r);if(Gr<1e-4)return 0;if(Gr>=PI2$4-1e-4){Mr=0,$r=PI2$4;var Wr=Br?1:-1;return zr>=roots[0]+_r&&zr<=roots[1]+_r?Wr:0}if(Mr>$r){var Kr=Mr;Mr=$r,$r=Kr}Mr<0&&(Mr+=PI2$4,$r+=PI2$4);for(var Zr=0,Jr=0;Jr<2;Jr++){var rn=roots[Jr];if(rn+_r>zr){var nn=Math.atan2(Vr,rn),Wr=Br?1:-1;nn<0&&(nn=PI2$4+nn),(nn>=Mr&&nn<=$r||nn+PI2$4>=Mr&&nn+PI2$4<=$r)&&(nn>Math.PI/2&&nn<Math.PI*1.5&&(Wr=-Wr),Zr+=Wr)}}return Zr}function containPath(_r,Be,Dr,Mr,$r){for(var Br=_r.data,zr=_r.len(),Vr=0,jr=0,Gr=0,Wr=0,Kr=0,Zr,Jr,rn=0;rn<zr;){var nn=Br[rn++],ln=rn===1;switch(nn===CMD$3.M&&rn>1&&(Dr||(Vr+=windingLine(jr,Gr,Wr,Kr,Mr,$r))),ln&&(jr=Br[rn],Gr=Br[rn+1],Wr=jr,Kr=Gr),nn){case CMD$3.M:Wr=Br[rn++],Kr=Br[rn++],jr=Wr,Gr=Kr;break;case CMD$3.L:if(Dr){if(containStroke$4(jr,Gr,Br[rn],Br[rn+1],Be,Mr,$r))return!0}else Vr+=windingLine(jr,Gr,Br[rn],Br[rn+1],Mr,$r)||0;jr=Br[rn++],Gr=Br[rn++];break;case CMD$3.C:if(Dr){if(containStroke$3(jr,Gr,Br[rn++],Br[rn++],Br[rn++],Br[rn++],Br[rn],Br[rn+1],Be,Mr,$r))return!0}else Vr+=windingCubic(jr,Gr,Br[rn++],Br[rn++],Br[rn++],Br[rn++],Br[rn],Br[rn+1],Mr,$r)||0;jr=Br[rn++],Gr=Br[rn++];break;case CMD$3.Q:if(Dr){if(containStroke$2(jr,Gr,Br[rn++],Br[rn++],Br[rn],Br[rn+1],Be,Mr,$r))return!0}else Vr+=windingQuadratic(jr,Gr,Br[rn++],Br[rn++],Br[rn],Br[rn+1],Mr,$r)||0;jr=Br[rn++],Gr=Br[rn++];break;case CMD$3.A:var cn=Br[rn++],hn=Br[rn++],mn=Br[rn++],bn=Br[rn++],An=Br[rn++],vn=Br[rn++];rn+=1;var dn=!!(1-Br[rn++]);Zr=Math.cos(An)*mn+cn,Jr=Math.sin(An)*bn+hn,ln?(Wr=Zr,Kr=Jr):Vr+=windingLine(jr,Gr,Zr,Jr,Mr,$r);var wn=(Mr-cn)*bn/mn+cn;if(Dr){if(containStroke$1(cn,hn,bn,An,An+vn,dn,Be,wn,$r))return!0}else Vr+=windingArc(cn,hn,bn,An,An+vn,dn,wn,$r);jr=Math.cos(An+vn)*mn+cn,Gr=Math.sin(An+vn)*bn+hn;break;case CMD$3.R:Wr=jr=Br[rn++],Kr=Gr=Br[rn++];var xn=Br[rn++],Mn=Br[rn++];if(Zr=Wr+xn,Jr=Kr+Mn,Dr){if(containStroke$4(Wr,Kr,Zr,Kr,Be,Mr,$r)||containStroke$4(Zr,Kr,Zr,Jr,Be,Mr,$r)||containStroke$4(Zr,Jr,Wr,Jr,Be,Mr,$r)||containStroke$4(Wr,Jr,Wr,Kr,Be,Mr,$r))return!0}else Vr+=windingLine(Zr,Kr,Zr,Jr,Mr,$r),Vr+=windingLine(Wr,Jr,Wr,Kr,Mr,$r);break;case CMD$3.Z:if(Dr){if(containStroke$4(jr,Gr,Wr,Kr,Be,Mr,$r))return!0}else Vr+=windingLine(jr,Gr,Wr,Kr,Mr,$r);jr=Wr,Gr=Kr;break}}return!Dr&&!isAroundEqual$1(Gr,Kr)&&(Vr+=windingLine(jr,Gr,Wr,Kr,Mr,$r)||0),Vr!==0}function contain$2(_r,Be,Dr){return containPath(_r,0,!1,Be,Dr)}function containStroke(_r,Be,Dr,Mr){return containPath(_r,Be,!0,Dr,Mr)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.update=function(){var Dr=this;_r.prototype.update.call(this);var Mr=this.style;if(Mr.decal){var $r=this._decalEl=this._decalEl||new Be;$r.buildPath===Be.prototype.buildPath&&($r.buildPath=function(jr){Dr.buildPath(jr,Dr.shape)}),$r.silent=!0;var Br=$r.style;for(var zr in Mr)Br[zr]!==Mr[zr]&&(Br[zr]=Mr[zr]);Br.fill=Mr.fill?Mr.decal:null,Br.decal=null,Br.shadowColor=null,Mr.strokeFirst&&(Br.stroke=null);for(var Vr=0;Vr<pathCopyParams.length;++Vr)$r[pathCopyParams[Vr]]=this[pathCopyParams[Vr]];$r.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},Be.prototype.getDecalElement=function(){return this._decalEl},Be.prototype._init=function(Dr){var Mr=keys(Dr);this.shape=this.getDefaultShape();var $r=this.getDefaultStyle();$r&&this.useStyle($r);for(var Br=0;Br<Mr.length;Br++){var zr=Mr[Br],Vr=Dr[zr];zr==="style"?this.style?extend$1(this.style,Vr):this.useStyle(Vr):zr==="shape"?extend$1(this.shape,Vr):_r.prototype.attrKV.call(this,zr,Vr)}this.style||this.useStyle({})},Be.prototype.getDefaultStyle=function(){return null},Be.prototype.getDefaultShape=function(){return{}},Be.prototype.canBeInsideText=function(){return this.hasFill()},Be.prototype.getInsideTextFill=function(){var Dr=this.style.fill;if(Dr!=="none"){if(isString(Dr)){var Mr=lum(Dr,0);return Mr>.5?DARK_LABEL_COLOR:Mr>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(Dr)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},Be.prototype.getInsideTextStroke=function(Dr){var Mr=this.style.fill;if(isString(Mr)){var $r=this.__zr,Br=!!($r&&$r.isDarkMode()),zr=lum(Dr,0)<DARK_MODE_THRESHOLD;if(Br===zr)return Mr}},Be.prototype.buildPath=function(Dr,Mr,$r){},Be.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},Be.prototype.getUpdatedPathProxy=function(Dr){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,Dr),this.path},Be.prototype.createPathProxy=function(){this.path=new PathProxy$1(!1)},Be.prototype.hasStroke=function(){var Dr=this.style,Mr=Dr.stroke;return!(Mr==null||Mr==="none"||!(Dr.lineWidth>0))},Be.prototype.hasFill=function(){var Dr=this.style,Mr=Dr.fill;return Mr!=null&&Mr!=="none"},Be.prototype.getBoundingRect=function(){var Dr=this._rect,Mr=this.style,$r=!Dr;if($r){var Br=!1;this.path||(Br=!0,this.createPathProxy());var zr=this.path;(Br||this.__dirty&SHAPE_CHANGED_BIT)&&(zr.beginPath(),this.buildPath(zr,this.shape,!1),this.pathUpdated()),Dr=zr.getBoundingRect()}if(this._rect=Dr,this.hasStroke()&&this.path&&this.path.len()>0){var Vr=this._rectStroke||(this._rectStroke=Dr.clone());if(this.__dirty||$r){Vr.copy(Dr);var jr=Mr.strokeNoScale?this.getLineScale():1,Gr=Mr.lineWidth;if(!this.hasFill()){var Wr=this.strokeContainThreshold;Gr=Math.max(Gr,Wr??4)}jr>1e-10&&(Vr.width+=Gr/jr,Vr.height+=Gr/jr,Vr.x-=Gr/jr/2,Vr.y-=Gr/jr/2)}return Vr}return Dr},Be.prototype.contain=function(Dr,Mr){var $r=this.transformCoordToLocal(Dr,Mr),Br=this.getBoundingRect(),zr=this.style;if(Dr=$r[0],Mr=$r[1],Br.contain(Dr,Mr)){var Vr=this.path;if(this.hasStroke()){var jr=zr.lineWidth,Gr=zr.strokeNoScale?this.getLineScale():1;if(Gr>1e-10&&(this.hasFill()||(jr=Math.max(jr,this.strokeContainThreshold)),containStroke(Vr,jr/Gr,Dr,Mr)))return!0}if(this.hasFill())return contain$2(Vr,Dr,Mr)}return!1},Be.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},Be.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},Be.prototype.animateShape=function(Dr){return this.animate("shape",Dr)},Be.prototype.updateDuringAnimation=function(Dr){Dr==="style"?this.dirtyStyle():Dr==="shape"?this.dirtyShape():this.markRedraw()},Be.prototype.attrKV=function(Dr,Mr){Dr==="shape"?this.setShape(Mr):_r.prototype.attrKV.call(this,Dr,Mr)},Be.prototype.setShape=function(Dr,Mr){var $r=this.shape;return $r||($r=this.shape={}),typeof Dr=="string"?$r[Dr]=Mr:extend$1($r,Dr),this.dirtyShape(),this},Be.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},Be.prototype.createStyle=function(Dr){return createObject(DEFAULT_PATH_STYLE,Dr)},Be.prototype._innerSaveToNormal=function(Dr){_r.prototype._innerSaveToNormal.call(this,Dr);var Mr=this._normalState;Dr.shape&&!Mr.shape&&(Mr.shape=extend$1({},this.shape))},Be.prototype._applyStateObj=function(Dr,Mr,$r,Br,zr,Vr){_r.prototype._applyStateObj.call(this,Dr,Mr,$r,Br,zr,Vr);var jr=!(Mr&&Br),Gr;if(Mr&&Mr.shape?zr?Br?Gr=Mr.shape:(Gr=extend$1({},$r.shape),extend$1(Gr,Mr.shape)):(Gr=extend$1({},Br?this.shape:$r.shape),extend$1(Gr,Mr.shape)):jr&&(Gr=$r.shape),Gr)if(zr){this.shape=extend$1({},this.shape);for(var Wr={},Kr=keys(Gr),Zr=0;Zr<Kr.length;Zr++){var Jr=Kr[Zr];typeof Gr[Jr]=="object"?this.shape[Jr]=Gr[Jr]:Wr[Jr]=Gr[Jr]}this._transitionState(Dr,{shape:Wr},Vr)}else this.shape=Gr,this.dirtyShape()},Be.prototype._mergeStates=function(Dr){for(var Mr=_r.prototype._mergeStates.call(this,Dr),$r,Br=0;Br<Dr.length;Br++){var zr=Dr[Br];zr.shape&&($r=$r||{},this._mergeStyle($r,zr.shape))}return $r&&(Mr.shape=$r),Mr},Be.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},Be.prototype.isZeroArea=function(){return!1},Be.extend=function(Dr){var Mr=function(Br){__extends(zr,Br);function zr(Vr){var jr=Br.call(this,Vr)||this;return Dr.init&&Dr.init.call(jr,Vr),jr}return zr.prototype.getDefaultStyle=function(){return clone$4(Dr.style)},zr.prototype.getDefaultShape=function(){return clone$4(Dr.shape)},zr}(Be);for(var $r in Dr)typeof Dr[$r]=="function"&&(Mr.prototype[$r]=Dr[$r]);return Mr},Be.initDefaultProps=function(){var Dr=Be.prototype;Dr.type="path",Dr.strokeContainThreshold=5,Dr.segmentIgnoreThreshold=0,Dr.subPixelOptimize=!1,Dr.autoBatch=!1,Dr.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),Be}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.hasStroke=function(){var Dr=this.style,Mr=Dr.stroke;return Mr!=null&&Mr!=="none"&&Dr.lineWidth>0},Be.prototype.hasFill=function(){var Dr=this.style,Mr=Dr.fill;return Mr!=null&&Mr!=="none"},Be.prototype.createStyle=function(Dr){return createObject(DEFAULT_TSPAN_STYLE,Dr)},Be.prototype.setBoundingRect=function(Dr){this._rect=Dr},Be.prototype.getBoundingRect=function(){var Dr=this.style;if(!this._rect){var Mr=Dr.text;Mr!=null?Mr+="":Mr="";var $r=getBoundingRect(Mr,Dr.font,Dr.textAlign,Dr.textBaseline);if($r.x+=Dr.x||0,$r.y+=Dr.y||0,this.hasStroke()){var Br=Dr.lineWidth;$r.x-=Br/2,$r.y-=Br/2,$r.width+=Br,$r.height+=Br}this._rect=$r}return this._rect},Be.initDefaultProps=function(){var Dr=Be.prototype;Dr.dirtyRectTolerance=10}(),Be}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(_r){return!!(_r&&typeof _r!="string"&&_r.width&&_r.height)}var ZRImage=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.createStyle=function(Dr){return createObject(DEFAULT_IMAGE_STYLE,Dr)},Be.prototype._getSize=function(Dr){var Mr=this.style,$r=Mr[Dr];if($r!=null)return $r;var Br=isImageLike$1(Mr.image)?Mr.image:this.__image;if(!Br)return 0;var zr=Dr==="width"?"height":"width",Vr=Mr[zr];return Vr==null?Br[Dr]:Br[Dr]/Br[zr]*Vr},Be.prototype.getWidth=function(){return this._getSize("width")},Be.prototype.getHeight=function(){return this._getSize("height")},Be.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},Be.prototype.getBoundingRect=function(){var Dr=this.style;return this._rect||(this._rect=new BoundingRect$1(Dr.x||0,Dr.y||0,this.getWidth(),this.getHeight())),this._rect},Be}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(_r,Be){var Dr=Be.x,Mr=Be.y,$r=Be.width,Br=Be.height,zr=Be.r,Vr,jr,Gr,Wr;$r<0&&(Dr=Dr+$r,$r=-$r),Br<0&&(Mr=Mr+Br,Br=-Br),typeof zr=="number"?Vr=jr=Gr=Wr=zr:zr instanceof Array?zr.length===1?Vr=jr=Gr=Wr=zr[0]:zr.length===2?(Vr=Gr=zr[0],jr=Wr=zr[1]):zr.length===3?(Vr=zr[0],jr=Wr=zr[1],Gr=zr[2]):(Vr=zr[0],jr=zr[1],Gr=zr[2],Wr=zr[3]):Vr=jr=Gr=Wr=0;var Kr;Vr+jr>$r&&(Kr=Vr+jr,Vr*=$r/Kr,jr*=$r/Kr),Gr+Wr>$r&&(Kr=Gr+Wr,Gr*=$r/Kr,Wr*=$r/Kr),jr+Gr>Br&&(Kr=jr+Gr,jr*=Br/Kr,Gr*=Br/Kr),Vr+Wr>Br&&(Kr=Vr+Wr,Vr*=Br/Kr,Wr*=Br/Kr),_r.moveTo(Dr+Vr,Mr),_r.lineTo(Dr+$r-jr,Mr),jr!==0&&_r.arc(Dr+$r-jr,Mr+jr,jr,-Math.PI/2,0),_r.lineTo(Dr+$r,Mr+Br-Gr),Gr!==0&&_r.arc(Dr+$r-Gr,Mr+Br-Gr,Gr,0,Math.PI/2),_r.lineTo(Dr+Wr,Mr+Br),Wr!==0&&_r.arc(Dr+Wr,Mr+Br-Wr,Wr,Math.PI/2,Math.PI),_r.lineTo(Dr,Mr+Vr),Vr!==0&&_r.arc(Dr+Vr,Mr+Vr,Vr,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(_r,Be,Dr){if(Be){var Mr=Be.x1,$r=Be.x2,Br=Be.y1,zr=Be.y2;_r.x1=Mr,_r.x2=$r,_r.y1=Br,_r.y2=zr;var Vr=Dr&&Dr.lineWidth;return Vr&&(round$2(Mr*2)===round$2($r*2)&&(_r.x1=_r.x2=subPixelOptimize$1(Mr,Vr,!0)),round$2(Br*2)===round$2(zr*2)&&(_r.y1=_r.y2=subPixelOptimize$1(Br,Vr,!0))),_r}}function subPixelOptimizeRect$1(_r,Be,Dr){if(Be){var Mr=Be.x,$r=Be.y,Br=Be.width,zr=Be.height;_r.x=Mr,_r.y=$r,_r.width=Br,_r.height=zr;var Vr=Dr&&Dr.lineWidth;return Vr&&(_r.x=subPixelOptimize$1(Mr,Vr,!0),_r.y=subPixelOptimize$1($r,Vr,!0),_r.width=Math.max(subPixelOptimize$1(Mr+Br,Vr,!1)-_r.x,Br===0?0:1),_r.height=Math.max(subPixelOptimize$1($r+zr,Vr,!1)-_r.y,zr===0?0:1)),_r}}function subPixelOptimize$1(_r,Be,Dr){if(!Be)return _r;var Mr=round$2(_r*2);return(Mr+round$2(Be))%2===0?Mr/2:(Mr+(Dr?1:-1))/2}var RectShape=function(){function _r(){this.x=0,this.y=0,this.width=0,this.height=0}return _r}(),subPixelOptimizeOutputShape$1={},Rect$2=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultShape=function(){return new RectShape},Be.prototype.buildPath=function(Dr,Mr){var $r,Br,zr,Vr;if(this.subPixelOptimize){var jr=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,Mr,this.style);$r=jr.x,Br=jr.y,zr=jr.width,Vr=jr.height,jr.r=Mr.r,Mr=jr}else $r=Mr.x,Br=Mr.y,zr=Mr.width,Vr=Mr.height;Mr.r?buildPath$2(Dr,Mr):Dr.rect($r,Br,zr,Vr)},Be.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},Be}(Path$1);Rect$2.prototype.type="rect";const Rect$3=Rect$2;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this)||this;return Mr.type="text",Mr._children=[],Mr._defaultStyle=DEFAULT_RICH_TEXT_COLOR,Mr.attr(Dr),Mr}return Be.prototype.childrenRef=function(){return this._children},Be.prototype.update=function(){_r.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var Dr=0;Dr<this._children.length;Dr++){var Mr=this._children[Dr];Mr.zlevel=this.zlevel,Mr.z=this.z,Mr.z2=this.z2,Mr.culling=this.culling,Mr.cursor=this.cursor,Mr.invisible=this.invisible}},Be.prototype.updateTransform=function(){var Dr=this.innerTransformable;Dr?(Dr.updateTransform(),Dr.transform&&(this.transform=Dr.transform)):_r.prototype.updateTransform.call(this)},Be.prototype.getLocalTransform=function(Dr){var Mr=this.innerTransformable;return Mr?Mr.getLocalTransform(Dr):_r.prototype.getLocalTransform.call(this,Dr)},Be.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),_r.prototype.getComputedTransform.call(this)},Be.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},Be.prototype.addSelfToZr=function(Dr){_r.prototype.addSelfToZr.call(this,Dr);for(var Mr=0;Mr<this._children.length;Mr++)this._children[Mr].__zr=Dr},Be.prototype.removeSelfFromZr=function(Dr){_r.prototype.removeSelfFromZr.call(this,Dr);for(var Mr=0;Mr<this._children.length;Mr++)this._children[Mr].__zr=null},Be.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var Dr=new BoundingRect$1(0,0,0,0),Mr=this._children,$r=[],Br=null,zr=0;zr<Mr.length;zr++){var Vr=Mr[zr],jr=Vr.getBoundingRect(),Gr=Vr.getLocalTransform($r);Gr?(Dr.copy(jr),Dr.applyTransform(Gr),Br=Br||Dr.clone(),Br.union(Dr)):(Br=Br||jr.clone(),Br.union(jr))}this._rect=Br||Dr}return this._rect},Be.prototype.setDefaultTextStyle=function(Dr){this._defaultStyle=Dr||DEFAULT_RICH_TEXT_COLOR},Be.prototype.setTextContent=function(Dr){},Be.prototype._mergeStyle=function(Dr,Mr){if(!Mr)return Dr;var $r=Mr.rich,Br=Dr.rich||$r&&{};return extend$1(Dr,Mr),$r&&Br?(this._mergeRich(Br,$r),Dr.rich=Br):Br&&(Dr.rich=Br),Dr},Be.prototype._mergeRich=function(Dr,Mr){for(var $r=keys(Mr),Br=0;Br<$r.length;Br++){var zr=$r[Br];Dr[zr]=Dr[zr]||{},extend$1(Dr[zr],Mr[zr])}},Be.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},Be.prototype._getOrCreateChild=function(Dr){var Mr=this._children[this._childCursor];return(!Mr||!(Mr instanceof Dr))&&(Mr=new Dr),this._children[this._childCursor++]=Mr,Mr.__zr=this.__zr,Mr.parent=this,Mr},Be.prototype._updatePlainTexts=function(){var Dr=this.style,Mr=Dr.font||DEFAULT_FONT,$r=Dr.padding,Br=getStyleText(Dr),zr=parsePlainText(Br,Dr),Vr=needDrawBackground(Dr),jr=!!Dr.backgroundColor,Gr=zr.outerHeight,Wr=zr.outerWidth,Kr=zr.contentWidth,Zr=zr.lines,Jr=zr.lineHeight,rn=this._defaultStyle,nn=Dr.x||0,ln=Dr.y||0,cn=Dr.align||rn.align||"left",hn=Dr.verticalAlign||rn.verticalAlign||"top",mn=nn,bn=adjustTextY(ln,zr.contentHeight,hn);if(Vr||$r){var An=adjustTextX(nn,Wr,cn),vn=adjustTextY(ln,Gr,hn);Vr&&this._renderBackground(Dr,Dr,An,vn,Wr,Gr)}bn+=Jr/2,$r&&(mn=getTextXForPadding(nn,cn,$r),hn==="top"?bn+=$r[0]:hn==="bottom"&&(bn-=$r[2]));for(var dn=0,wn=!1,xn=getFill("fill"in Dr?Dr.fill:(wn=!0,rn.fill)),Mn=getStroke("stroke"in Dr?Dr.stroke:!jr&&(!rn.autoStroke||wn)?(dn=DEFAULT_STROKE_LINE_WIDTH,rn.stroke):null),In=Dr.textShadowBlur>0,Hn=Dr.width!=null&&(Dr.overflow==="truncate"||Dr.overflow==="break"||Dr.overflow==="breakAll"),$n=zr.calculatedLineHeight,jn=0;jn<Zr.length;jn++){var Bn=this._getOrCreateChild(TSpan$1),Gn=Bn.createStyle();Bn.useStyle(Gn),Gn.text=Zr[jn],Gn.x=mn,Gn.y=bn,cn&&(Gn.textAlign=cn),Gn.textBaseline="middle",Gn.opacity=Dr.opacity,Gn.strokeFirst=!0,In&&(Gn.shadowBlur=Dr.textShadowBlur||0,Gn.shadowColor=Dr.textShadowColor||"transparent",Gn.shadowOffsetX=Dr.textShadowOffsetX||0,Gn.shadowOffsetY=Dr.textShadowOffsetY||0),Gn.stroke=Mn,Gn.fill=xn,Mn&&(Gn.lineWidth=Dr.lineWidth||dn,Gn.lineDash=Dr.lineDash,Gn.lineDashOffset=Dr.lineDashOffset||0),Gn.font=Mr,setSeparateFont(Gn,Dr),bn+=Jr,Hn&&Bn.setBoundingRect(new BoundingRect$1(adjustTextX(Gn.x,Dr.width,Gn.textAlign),adjustTextY(Gn.y,$n,Gn.textBaseline),Kr,$n))}},Be.prototype._updateRichTexts=function(){var Dr=this.style,Mr=getStyleText(Dr),$r=parseRichText(Mr,Dr),Br=$r.width,zr=$r.outerWidth,Vr=$r.outerHeight,jr=Dr.padding,Gr=Dr.x||0,Wr=Dr.y||0,Kr=this._defaultStyle,Zr=Dr.align||Kr.align,Jr=Dr.verticalAlign||Kr.verticalAlign,rn=adjustTextX(Gr,zr,Zr),nn=adjustTextY(Wr,Vr,Jr),ln=rn,cn=nn;jr&&(ln+=jr[3],cn+=jr[0]);var hn=ln+Br;needDrawBackground(Dr)&&this._renderBackground(Dr,Dr,rn,nn,zr,Vr);for(var mn=!!Dr.backgroundColor,bn=0;bn<$r.lines.length;bn++){for(var An=$r.lines[bn],vn=An.tokens,dn=vn.length,wn=An.lineHeight,xn=An.width,Mn=0,In=ln,Hn=hn,$n=dn-1,jn=void 0;Mn<dn&&(jn=vn[Mn],!jn.align||jn.align==="left");)this._placeToken(jn,Dr,wn,cn,In,"left",mn),xn-=jn.width,In+=jn.width,Mn++;for(;$n>=0&&(jn=vn[$n],jn.align==="right");)this._placeToken(jn,Dr,wn,cn,Hn,"right",mn),xn-=jn.width,Hn-=jn.width,$n--;for(In+=(Br-(In-ln)-(hn-Hn)-xn)/2;Mn<=$n;)jn=vn[Mn],this._placeToken(jn,Dr,wn,cn,In+jn.width/2,"center",mn),In+=jn.width,Mn++;cn+=wn}},Be.prototype._placeToken=function(Dr,Mr,$r,Br,zr,Vr,jr){var Gr=Mr.rich[Dr.styleName]||{};Gr.text=Dr.text;var Wr=Dr.verticalAlign,Kr=Br+$r/2;Wr==="top"?Kr=Br+Dr.height/2:Wr==="bottom"&&(Kr=Br+$r-Dr.height/2);var Zr=!Dr.isLineHolder&&needDrawBackground(Gr);Zr&&this._renderBackground(Gr,Mr,Vr==="right"?zr-Dr.width:Vr==="center"?zr-Dr.width/2:zr,Kr-Dr.height/2,Dr.width,Dr.height);var Jr=!!Gr.backgroundColor,rn=Dr.textPadding;rn&&(zr=getTextXForPadding(zr,Vr,rn),Kr-=Dr.height/2-rn[0]-Dr.innerHeight/2);var nn=this._getOrCreateChild(TSpan$1),ln=nn.createStyle();nn.useStyle(ln);var cn=this._defaultStyle,hn=!1,mn=0,bn=getFill("fill"in Gr?Gr.fill:"fill"in Mr?Mr.fill:(hn=!0,cn.fill)),An=getStroke("stroke"in Gr?Gr.stroke:"stroke"in Mr?Mr.stroke:!Jr&&!jr&&(!cn.autoStroke||hn)?(mn=DEFAULT_STROKE_LINE_WIDTH,cn.stroke):null),vn=Gr.textShadowBlur>0||Mr.textShadowBlur>0;ln.text=Dr.text,ln.x=zr,ln.y=Kr,vn&&(ln.shadowBlur=Gr.textShadowBlur||Mr.textShadowBlur||0,ln.shadowColor=Gr.textShadowColor||Mr.textShadowColor||"transparent",ln.shadowOffsetX=Gr.textShadowOffsetX||Mr.textShadowOffsetX||0,ln.shadowOffsetY=Gr.textShadowOffsetY||Mr.textShadowOffsetY||0),ln.textAlign=Vr,ln.textBaseline="middle",ln.font=Dr.font||DEFAULT_FONT,ln.opacity=retrieve3(Gr.opacity,Mr.opacity,1),setSeparateFont(ln,Gr),An&&(ln.lineWidth=retrieve3(Gr.lineWidth,Mr.lineWidth,mn),ln.lineDash=retrieve2(Gr.lineDash,Mr.lineDash),ln.lineDashOffset=Mr.lineDashOffset||0,ln.stroke=An),bn&&(ln.fill=bn);var dn=Dr.contentWidth,wn=Dr.contentHeight;nn.setBoundingRect(new BoundingRect$1(adjustTextX(ln.x,dn,ln.textAlign),adjustTextY(ln.y,wn,ln.textBaseline),dn,wn))},Be.prototype._renderBackground=function(Dr,Mr,$r,Br,zr,Vr){var jr=Dr.backgroundColor,Gr=Dr.borderWidth,Wr=Dr.borderColor,Kr=jr&&jr.image,Zr=jr&&!Kr,Jr=Dr.borderRadius,rn=this,nn,ln;if(Zr||Dr.lineHeight||Gr&&Wr){nn=this._getOrCreateChild(Rect$3),nn.useStyle(nn.createStyle()),nn.style.fill=null;var cn=nn.shape;cn.x=$r,cn.y=Br,cn.width=zr,cn.height=Vr,cn.r=Jr,nn.dirtyShape()}if(Zr){var hn=nn.style;hn.fill=jr||null,hn.fillOpacity=retrieve2(Dr.fillOpacity,1)}else if(Kr){ln=this._getOrCreateChild(ZRImage$1),ln.onload=function(){rn.dirtyStyle()};var mn=ln.style;mn.image=jr.image,mn.x=$r,mn.y=Br,mn.width=zr,mn.height=Vr}if(Gr&&Wr){var hn=nn.style;hn.lineWidth=Gr,hn.stroke=Wr,hn.strokeOpacity=retrieve2(Dr.strokeOpacity,1),hn.lineDash=Dr.borderDash,hn.lineDashOffset=Dr.borderDashOffset||0,nn.strokeContainThreshold=0,nn.hasFill()&&nn.hasStroke()&&(hn.strokeFirst=!0,hn.lineWidth*=2)}var bn=(nn||ln).style;bn.shadowBlur=Dr.shadowBlur||0,bn.shadowColor=Dr.shadowColor||"transparent",bn.shadowOffsetX=Dr.shadowOffsetX||0,bn.shadowOffsetY=Dr.shadowOffsetY||0,bn.opacity=retrieve3(Dr.opacity,Mr.opacity,1)},Be.makeFont=function(Dr){var Mr="";return hasSeparateFont(Dr)&&(Mr=[Dr.fontStyle,Dr.fontWeight,parseFontSize(Dr.fontSize),Dr.fontFamily||"sans-serif"].join(" ")),Mr&&trim$1(Mr)||Dr.textFont||Dr.font},Be}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(_r){return typeof _r=="string"&&(_r.indexOf("px")!==-1||_r.indexOf("rem")!==-1||_r.indexOf("em")!==-1)?_r:isNaN(+_r)?DEFAULT_FONT_SIZE+"px":_r+"px"}function setSeparateFont(_r,Be){for(var Dr=0;Dr<FONT_PARTS.length;Dr++){var Mr=FONT_PARTS[Dr],$r=Be[Mr];$r!=null&&(_r[Mr]=$r)}}function hasSeparateFont(_r){return _r.fontSize!=null||_r.fontFamily||_r.fontWeight}function normalizeTextStyle(_r){return normalizeStyle(_r),each$f(_r.rich,normalizeStyle),_r}function normalizeStyle(_r){if(_r){_r.font=ZRText.makeFont(_r);var Be=_r.align;Be==="middle"&&(Be="center"),_r.align=Be==null||VALID_TEXT_ALIGN[Be]?Be:"left";var Dr=_r.verticalAlign;Dr==="center"&&(Dr="middle"),_r.verticalAlign=Dr==null||VALID_TEXT_VERTICAL_ALIGN[Dr]?Dr:"top";var Mr=_r.padding;Mr&&(_r.padding=normalizeCssArray$1(_r.padding))}}function getStroke(_r,Be){return _r==null||Be<=0||_r==="transparent"||_r==="none"?null:_r.image||_r.colorStops?"#000":_r}function getFill(_r){return _r==null||_r==="none"?null:_r.image||_r.colorStops?"#000":_r}function getTextXForPadding(_r,Be,Dr){return Be==="right"?_r-Dr[1]:Be==="center"?_r+Dr[3]/2-Dr[1]/2:_r+Dr[3]}function getStyleText(_r){var Be=_r.text;return Be!=null&&(Be+=""),Be}function needDrawBackground(_r){return!!(_r.backgroundColor||_r.lineHeight||_r.borderWidth&&_r.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(_r,Be,Dr,Mr){if(Mr){var $r=getECData(Mr);$r.dataIndex=Dr,$r.dataType=Be,$r.seriesIndex=_r,Mr.type==="group"&&Mr.traverse(function(Br){var zr=getECData(Br);zr.seriesIndex=_r,zr.dataIndex=Dr,zr.dataType=Be})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(_r){return _r!=null&&_r!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(_r){if(isString(_r)){var Be=liftedColorCache.get(_r);return Be||(Be=lift(_r,-.1),liftedColorCache.put(_r,Be)),Be}else if(isGradientObject(_r)){var Dr=extend$1({},_r);return Dr.colorStops=map$1(_r.colorStops,function(Mr){return{offset:Mr.offset,color:lift(Mr.color,-.1)}}),Dr}return _r}function doChangeHoverState(_r,Be,Dr){_r.onHoverStateChange&&(_r.hoverState||0)!==Dr&&_r.onHoverStateChange(Be),_r.hoverState=Dr}function singleEnterEmphasis(_r){doChangeHoverState(_r,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(_r){_r.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(_r,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(_r){doChangeHoverState(_r,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(_r){_r.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(_r,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(_r){_r.selected=!0}function singleLeaveSelect(_r){_r.selected=!1}function updateElementState(_r,Be,Dr){Be(_r,Dr)}function traverseUpdateState(_r,Be,Dr){updateElementState(_r,Be,Dr),_r.isGroup&&_r.traverse(function(Mr){updateElementState(Mr,Be,Dr)})}function setStatesFlag(_r,Be){switch(Be){case"emphasis":_r.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":_r.hoverState=HOVER_STATE_NORMAL;break;case"blur":_r.hoverState=HOVER_STATE_BLUR;break;case"select":_r.selected=!0}}function getFromStateStyle(_r,Be,Dr,Mr){for(var $r=_r.style,Br={},zr=0;zr<Be.length;zr++){var Vr=Be[zr],jr=$r[Vr];Br[Vr]=jr??(Mr&&Mr[Vr])}for(var zr=0;zr<_r.animators.length;zr++){var Gr=_r.animators[zr];Gr.__fromStateTransition&&Gr.__fromStateTransition.indexOf(Dr)<0&&Gr.targetName==="style"&&Gr.saveTo(Br,Be)}return Br}function createEmphasisDefaultState(_r,Be,Dr,Mr){var $r=Dr&&indexOf(Dr,"select")>=0,Br=!1;if(_r instanceof Path$1){var zr=getSavedStates(_r),Vr=$r&&zr.selectFill||zr.normalFill,jr=$r&&zr.selectStroke||zr.normalStroke;if(hasFillOrStroke(Vr)||hasFillOrStroke(jr)){Mr=Mr||{};var Gr=Mr.style||{};Gr.fill==="inherit"?(Br=!0,Mr=extend$1({},Mr),Gr=extend$1({},Gr),Gr.fill=Vr):!hasFillOrStroke(Gr.fill)&&hasFillOrStroke(Vr)?(Br=!0,Mr=extend$1({},Mr),Gr=extend$1({},Gr),Gr.fill=liftColor(Vr)):!hasFillOrStroke(Gr.stroke)&&hasFillOrStroke(jr)&&(Br||(Mr=extend$1({},Mr),Gr=extend$1({},Gr)),Gr.stroke=liftColor(jr)),Mr.style=Gr}}if(Mr&&Mr.z2==null){Br||(Mr=extend$1({},Mr));var Wr=_r.z2EmphasisLift;Mr.z2=_r.z2+(Wr??Z2_EMPHASIS_LIFT)}return Mr}function createSelectDefaultState(_r,Be,Dr){if(Dr&&Dr.z2==null){Dr=extend$1({},Dr);var Mr=_r.z2SelectLift;Dr.z2=_r.z2+(Mr??Z2_SELECT_LIFT)}return Dr}function createBlurDefaultState(_r,Be,Dr){var Mr=indexOf(_r.currentStates,Be)>=0,$r=_r.style.opacity,Br=Mr?null:getFromStateStyle(_r,["opacity"],Be,{opacity:1});Dr=Dr||{};var zr=Dr.style||{};return zr.opacity==null&&(Dr=extend$1({},Dr),zr=extend$1({opacity:Mr?$r:Br.opacity*.1},zr),Dr.style=zr),Dr}function elementStateProxy(_r,Be){var Dr=this.states[_r];if(this.style){if(_r==="emphasis")return createEmphasisDefaultState(this,_r,Be,Dr);if(_r==="blur")return createBlurDefaultState(this,_r,Dr);if(_r==="select")return createSelectDefaultState(this,_r,Dr)}return Dr}function setDefaultStateProxy(_r){_r.stateProxy=elementStateProxy;var Be=_r.getTextContent(),Dr=_r.getTextGuideLine();Be&&(Be.stateProxy=elementStateProxy),Dr&&(Dr.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(_r,Be){!shouldSilent(_r,Be)&&!_r.__highByOuter&&traverseUpdateState(_r,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(_r,Be){!shouldSilent(_r,Be)&&!_r.__highByOuter&&traverseUpdateState(_r,singleLeaveEmphasis)}function enterEmphasis(_r,Be){_r.__highByOuter|=1<<(Be||0),traverseUpdateState(_r,singleEnterEmphasis)}function leaveEmphasis(_r,Be){!(_r.__highByOuter&=~(1<<(Be||0)))&&traverseUpdateState(_r,singleLeaveEmphasis)}function enterBlur(_r){traverseUpdateState(_r,singleEnterBlur)}function leaveBlur(_r){traverseUpdateState(_r,singleLeaveBlur)}function enterSelect(_r){traverseUpdateState(_r,singleEnterSelect)}function leaveSelect(_r){traverseUpdateState(_r,singleLeaveSelect)}function shouldSilent(_r,Be){return _r.__highDownSilentOnTouch&&Be.zrByTouch}function allLeaveBlur(_r){var Be=_r.getModel(),Dr=[],Mr=[];Be.eachComponent(function($r,Br){var zr=getComponentStates(Br),Vr=$r==="series",jr=Vr?_r.getViewOfSeriesModel(Br):_r.getViewOfComponentModel(Br);!Vr&&Mr.push(jr),zr.isBlured&&(jr.group.traverse(function(Gr){singleLeaveBlur(Gr)}),Vr&&Dr.push(Br)),zr.isBlured=!1}),each$f(Mr,function($r){$r&&$r.toggleBlurSeries&&$r.toggleBlurSeries(Dr,!1,Be)})}function blurSeries(_r,Be,Dr,Mr){var $r=Mr.getModel();Dr=Dr||"coordinateSystem";function Br(Gr,Wr){for(var Kr=0;Kr<Wr.length;Kr++){var Zr=Gr.getItemGraphicEl(Wr[Kr]);Zr&&leaveBlur(Zr)}}if(_r!=null&&!(!Be||Be==="none")){var zr=$r.getSeriesByIndex(_r),Vr=zr.coordinateSystem;Vr&&Vr.master&&(Vr=Vr.master);var jr=[];$r.eachSeries(function(Gr){var Wr=zr===Gr,Kr=Gr.coordinateSystem;Kr&&Kr.master&&(Kr=Kr.master);var Zr=Kr&&Vr?Kr===Vr:Wr;if(!(Dr==="series"&&!Wr||Dr==="coordinateSystem"&&!Zr||Be==="series"&&Wr)){var Jr=Mr.getViewOfSeriesModel(Gr);if(Jr.group.traverse(function(ln){ln.__highByOuter&&Wr&&Be==="self"||singleEnterBlur(ln)}),isArrayLike(Be))Br(Gr.getData(),Be);else if(isObject$3(Be))for(var rn=keys(Be),nn=0;nn<rn.length;nn++)Br(Gr.getData(rn[nn]),Be[rn[nn]]);jr.push(Gr),getComponentStates(Gr).isBlured=!0}}),$r.eachComponent(function(Gr,Wr){if(Gr!=="series"){var Kr=Mr.getViewOfComponentModel(Wr);Kr&&Kr.toggleBlurSeries&&Kr.toggleBlurSeries(jr,!0,$r)}})}}function blurComponent(_r,Be,Dr){if(!(_r==null||Be==null)){var Mr=Dr.getModel().getComponent(_r,Be);if(Mr){getComponentStates(Mr).isBlured=!0;var $r=Dr.getViewOfComponentModel(Mr);!$r||!$r.focusBlurEnabled||$r.group.traverse(function(Br){singleEnterBlur(Br)})}}}function blurSeriesFromHighlightPayload(_r,Be,Dr){var Mr=_r.seriesIndex,$r=_r.getData(Be.dataType);if($r){var Br=queryDataIndex($r,Be);Br=(isArray$1(Br)?Br[0]:Br)||0;var zr=$r.getItemGraphicEl(Br);if(!zr)for(var Vr=$r.count(),jr=0;!zr&&jr<Vr;)zr=$r.getItemGraphicEl(jr++);if(zr){var Gr=getECData(zr);blurSeries(Mr,Gr.focus,Gr.blurScope,Dr)}else{var Wr=_r.get(["emphasis","focus"]),Kr=_r.get(["emphasis","blurScope"]);Wr!=null&&blurSeries(Mr,Wr,Kr,Dr)}}}function findComponentHighDownDispatchers(_r,Be,Dr,Mr){var $r={focusSelf:!1,dispatchers:null};if(_r==null||_r==="series"||Be==null||Dr==null)return $r;var Br=Mr.getModel().getComponent(_r,Be);if(!Br)return $r;var zr=Mr.getViewOfComponentModel(Br);if(!zr||!zr.findHighDownDispatchers)return $r;for(var Vr=zr.findHighDownDispatchers(Dr),jr,Gr=0;Gr<Vr.length;Gr++)if(getECData(Vr[Gr]).focus==="self"){jr=!0;break}return{focusSelf:jr,dispatchers:Vr}}function handleGlobalMouseOverForHighDown(_r,Be,Dr){var Mr=getECData(_r),$r=findComponentHighDownDispatchers(Mr.componentMainType,Mr.componentIndex,Mr.componentHighDownName,Dr),Br=$r.dispatchers,zr=$r.focusSelf;Br?(zr&&blurComponent(Mr.componentMainType,Mr.componentIndex,Dr),each$f(Br,function(Vr){return enterEmphasisWhenMouseOver(Vr,Be)})):(blurSeries(Mr.seriesIndex,Mr.focus,Mr.blurScope,Dr),Mr.focus==="self"&&blurComponent(Mr.componentMainType,Mr.componentIndex,Dr),enterEmphasisWhenMouseOver(_r,Be))}function handleGlobalMouseOutForHighDown(_r,Be,Dr){allLeaveBlur(Dr);var Mr=getECData(_r),$r=findComponentHighDownDispatchers(Mr.componentMainType,Mr.componentIndex,Mr.componentHighDownName,Dr).dispatchers;$r?each$f($r,function(Br){return leaveEmphasisWhenMouseOut(Br,Be)}):leaveEmphasisWhenMouseOut(_r,Be)}function toggleSelectionFromPayload(_r,Be,Dr){if(isSelectChangePayload(Be)){var Mr=Be.dataType,$r=_r.getData(Mr),Br=queryDataIndex($r,Be);isArray$1(Br)||(Br=[Br]),_r[Be.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":Be.type===SELECT_ACTION_TYPE?"select":"unselect"](Br,Mr)}}function updateSeriesElementSelection(_r){var Be=_r.getAllData();each$f(Be,function(Dr){var Mr=Dr.data,$r=Dr.type;Mr.eachItemGraphicEl(function(Br,zr){_r.isSelected(zr,$r)?enterSelect(Br):leaveSelect(Br)})})}function getAllSelectedIndices(_r){var Be=[];return _r.eachSeries(function(Dr){var Mr=Dr.getAllData();each$f(Mr,function($r){$r.data;var Br=$r.type,zr=Dr.getSelectedDataIndices();if(zr.length>0){var Vr={dataIndex:zr,seriesIndex:Dr.seriesIndex};Br!=null&&(Vr.dataType=Br),Be.push(Vr)}})}),Be}function enableHoverEmphasis(_r,Be,Dr){setAsHighDownDispatcher(_r,!0),traverseUpdateState(_r,setDefaultStateProxy),enableHoverFocus(_r,Be,Dr)}function disableHoverEmphasis(_r){setAsHighDownDispatcher(_r,!1)}function toggleHoverEmphasis(_r,Be,Dr,Mr){Mr?disableHoverEmphasis(_r):enableHoverEmphasis(_r,Be,Dr)}function enableHoverFocus(_r,Be,Dr){var Mr=getECData(_r);Be!=null?(Mr.focus=Be,Mr.blurScope=Dr):Mr.focus&&(Mr.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(_r,Be,Dr,Mr){Dr=Dr||"itemStyle";for(var $r=0;$r<OTHER_STATES.length;$r++){var Br=OTHER_STATES[$r],zr=Be.getModel([Br,Dr]),Vr=_r.ensureState(Br);Vr.style=Mr?Mr(zr):zr[defaultStyleGetterMap[Dr]]()}}function setAsHighDownDispatcher(_r,Be){var Dr=Be===!1,Mr=_r;_r.highDownSilentOnTouch&&(Mr.__highDownSilentOnTouch=_r.highDownSilentOnTouch),(!Dr||Mr.__highDownDispatcher)&&(Mr.__highByOuter=Mr.__highByOuter||0,Mr.__highDownDispatcher=!Dr)}function isHighDownDispatcher(_r){return!!(_r&&_r.__highDownDispatcher)}function enableComponentHighDownFeatures(_r,Be,Dr){var Mr=getECData(_r);Mr.componentMainType=Be.mainType,Mr.componentIndex=Be.componentIndex,Mr.componentHighDownName=Dr}function getHighlightDigit(_r){var Be=_highlightKeyMap[_r];return Be==null&&_highlightNextDigit<=32&&(Be=_highlightKeyMap[_r]=_highlightNextDigit++),Be}function isSelectChangePayload(_r){var Be=_r.type;return Be===SELECT_ACTION_TYPE||Be===UNSELECT_ACTION_TYPE||Be===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(_r){var Be=_r.type;return Be===HIGHLIGHT_ACTION_TYPE||Be===DOWNPLAY_ACTION_TYPE}function savePathStates(_r){var Be=getSavedStates(_r);Be.normalFill=_r.style.fill,Be.normalStroke=_r.style.stroke;var Dr=_r.states.select||{};Be.selectFill=Dr.style&&Dr.style.fill||null,Be.selectStroke=Dr.style&&Dr.style.stroke||null}var CMD$2=PathProxy$1.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(_r,Be){if(Be){var Dr=_r.data,Mr=_r.len(),$r,Br,zr,Vr,jr,Gr,Wr=CMD$2.M,Kr=CMD$2.C,Zr=CMD$2.L,Jr=CMD$2.R,rn=CMD$2.A,nn=CMD$2.Q;for(zr=0,Vr=0;zr<Mr;){switch($r=Dr[zr++],Vr=zr,Br=0,$r){case Wr:Br=1;break;case Zr:Br=1;break;case Kr:Br=3;break;case nn:Br=2;break;case rn:var ln=Be[4],cn=Be[5],hn=mathSqrt$2(Be[0]*Be[0]+Be[1]*Be[1]),mn=mathSqrt$2(Be[2]*Be[2]+Be[3]*Be[3]),bn=mathAtan2(-Be[1]/mn,Be[0]/hn);Dr[zr]*=hn,Dr[zr++]+=ln,Dr[zr]*=mn,Dr[zr++]+=cn,Dr[zr++]*=hn,Dr[zr++]*=mn,Dr[zr++]+=bn,Dr[zr++]+=bn,zr+=2,Vr=zr;break;case Jr:Gr[0]=Dr[zr++],Gr[1]=Dr[zr++],applyTransform$1(Gr,Gr,Be),Dr[Vr++]=Gr[0],Dr[Vr++]=Gr[1],Gr[0]+=Dr[zr++],Gr[1]+=Dr[zr++],applyTransform$1(Gr,Gr,Be),Dr[Vr++]=Gr[0],Dr[Vr++]=Gr[1]}for(jr=0;jr<Br;jr++){var An=points$2[jr];An[0]=Dr[zr++],An[1]=Dr[zr++],applyTransform$1(An,An,Be),Dr[Vr++]=An[0],Dr[Vr++]=An[1]}}_r.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(_r){return Math.sqrt(_r[0]*_r[0]+_r[1]*_r[1])}function vRatio(_r,Be){return(_r[0]*Be[0]+_r[1]*Be[1])/(vMag(_r)*vMag(Be))}function vAngle(_r,Be){return(_r[0]*Be[1]<_r[1]*Be[0]?-1:1)*Math.acos(vRatio(_r,Be))}function processArc(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr,Wr){var Kr=jr*(PI$7/180),Zr=mathCos$2(Kr)*(_r-Dr)/2+mathSin$2(Kr)*(Be-Mr)/2,Jr=-1*mathSin$2(Kr)*(_r-Dr)/2+mathCos$2(Kr)*(Be-Mr)/2,rn=Zr*Zr/(zr*zr)+Jr*Jr/(Vr*Vr);rn>1&&(zr*=mathSqrt$1(rn),Vr*=mathSqrt$1(rn));var nn=($r===Br?-1:1)*mathSqrt$1((zr*zr*(Vr*Vr)-zr*zr*(Jr*Jr)-Vr*Vr*(Zr*Zr))/(zr*zr*(Jr*Jr)+Vr*Vr*(Zr*Zr)))||0,ln=nn*zr*Jr/Vr,cn=nn*-Vr*Zr/zr,hn=(_r+Dr)/2+mathCos$2(Kr)*ln-mathSin$2(Kr)*cn,mn=(Be+Mr)/2+mathSin$2(Kr)*ln+mathCos$2(Kr)*cn,bn=vAngle([1,0],[(Zr-ln)/zr,(Jr-cn)/Vr]),An=[(Zr-ln)/zr,(Jr-cn)/Vr],vn=[(-1*Zr-ln)/zr,(-1*Jr-cn)/Vr],dn=vAngle(An,vn);if(vRatio(An,vn)<=-1&&(dn=PI$7),vRatio(An,vn)>=1&&(dn=0),dn<0){var wn=Math.round(dn/PI$7*1e6)/1e6;dn=PI$7*2+wn%2*PI$7}Wr.addData(Gr,hn,mn,zr,Vr,bn,dn,Kr,Br)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(_r){var Be=new PathProxy$1;if(!_r)return Be;var Dr=0,Mr=0,$r=Dr,Br=Mr,zr,Vr=PathProxy$1.CMD,jr=_r.match(commandReg);if(!jr)return Be;for(var Gr=0;Gr<jr.length;Gr++){for(var Wr=jr[Gr],Kr=Wr.charAt(0),Zr=void 0,Jr=Wr.match(numberReg$1)||[],rn=Jr.length,nn=0;nn<rn;nn++)Jr[nn]=parseFloat(Jr[nn]);for(var ln=0;ln<rn;){var cn=void 0,hn=void 0,mn=void 0,bn=void 0,An=void 0,vn=void 0,dn=void 0,wn=Dr,xn=Mr,Mn=void 0,In=void 0;switch(Kr){case"l":Dr+=Jr[ln++],Mr+=Jr[ln++],Zr=Vr.L,Be.addData(Zr,Dr,Mr);break;case"L":Dr=Jr[ln++],Mr=Jr[ln++],Zr=Vr.L,Be.addData(Zr,Dr,Mr);break;case"m":Dr+=Jr[ln++],Mr+=Jr[ln++],Zr=Vr.M,Be.addData(Zr,Dr,Mr),$r=Dr,Br=Mr,Kr="l";break;case"M":Dr=Jr[ln++],Mr=Jr[ln++],Zr=Vr.M,Be.addData(Zr,Dr,Mr),$r=Dr,Br=Mr,Kr="L";break;case"h":Dr+=Jr[ln++],Zr=Vr.L,Be.addData(Zr,Dr,Mr);break;case"H":Dr=Jr[ln++],Zr=Vr.L,Be.addData(Zr,Dr,Mr);break;case"v":Mr+=Jr[ln++],Zr=Vr.L,Be.addData(Zr,Dr,Mr);break;case"V":Mr=Jr[ln++],Zr=Vr.L,Be.addData(Zr,Dr,Mr);break;case"C":Zr=Vr.C,Be.addData(Zr,Jr[ln++],Jr[ln++],Jr[ln++],Jr[ln++],Jr[ln++],Jr[ln++]),Dr=Jr[ln-2],Mr=Jr[ln-1];break;case"c":Zr=Vr.C,Be.addData(Zr,Jr[ln++]+Dr,Jr[ln++]+Mr,Jr[ln++]+Dr,Jr[ln++]+Mr,Jr[ln++]+Dr,Jr[ln++]+Mr),Dr+=Jr[ln-2],Mr+=Jr[ln-1];break;case"S":cn=Dr,hn=Mr,Mn=Be.len(),In=Be.data,zr===Vr.C&&(cn+=Dr-In[Mn-4],hn+=Mr-In[Mn-3]),Zr=Vr.C,wn=Jr[ln++],xn=Jr[ln++],Dr=Jr[ln++],Mr=Jr[ln++],Be.addData(Zr,cn,hn,wn,xn,Dr,Mr);break;case"s":cn=Dr,hn=Mr,Mn=Be.len(),In=Be.data,zr===Vr.C&&(cn+=Dr-In[Mn-4],hn+=Mr-In[Mn-3]),Zr=Vr.C,wn=Dr+Jr[ln++],xn=Mr+Jr[ln++],Dr+=Jr[ln++],Mr+=Jr[ln++],Be.addData(Zr,cn,hn,wn,xn,Dr,Mr);break;case"Q":wn=Jr[ln++],xn=Jr[ln++],Dr=Jr[ln++],Mr=Jr[ln++],Zr=Vr.Q,Be.addData(Zr,wn,xn,Dr,Mr);break;case"q":wn=Jr[ln++]+Dr,xn=Jr[ln++]+Mr,Dr+=Jr[ln++],Mr+=Jr[ln++],Zr=Vr.Q,Be.addData(Zr,wn,xn,Dr,Mr);break;case"T":cn=Dr,hn=Mr,Mn=Be.len(),In=Be.data,zr===Vr.Q&&(cn+=Dr-In[Mn-4],hn+=Mr-In[Mn-3]),Dr=Jr[ln++],Mr=Jr[ln++],Zr=Vr.Q,Be.addData(Zr,cn,hn,Dr,Mr);break;case"t":cn=Dr,hn=Mr,Mn=Be.len(),In=Be.data,zr===Vr.Q&&(cn+=Dr-In[Mn-4],hn+=Mr-In[Mn-3]),Dr+=Jr[ln++],Mr+=Jr[ln++],Zr=Vr.Q,Be.addData(Zr,cn,hn,Dr,Mr);break;case"A":mn=Jr[ln++],bn=Jr[ln++],An=Jr[ln++],vn=Jr[ln++],dn=Jr[ln++],wn=Dr,xn=Mr,Dr=Jr[ln++],Mr=Jr[ln++],Zr=Vr.A,processArc(wn,xn,Dr,Mr,vn,dn,mn,bn,An,Zr,Be);break;case"a":mn=Jr[ln++],bn=Jr[ln++],An=Jr[ln++],vn=Jr[ln++],dn=Jr[ln++],wn=Dr,xn=Mr,Dr+=Jr[ln++],Mr+=Jr[ln++],Zr=Vr.A,processArc(wn,xn,Dr,Mr,vn,dn,mn,bn,An,Zr,Be);break}}(Kr==="z"||Kr==="Z")&&(Zr=Vr.Z,Be.addData(Zr),Dr=$r,Mr=Br),zr=Zr}return Be.toStatic(),Be}var SVGPath=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.applyTransform=function(Dr){},Be}(Path$1);function isPathProxy(_r){return _r.setData!=null}function createPathOptions(_r,Be){var Dr=createPathProxyFromString(_r),Mr=extend$1({},Be);return Mr.buildPath=function($r){if(isPathProxy($r)){$r.setData(Dr.data);var Br=$r.getContext();Br&&$r.rebuildPath(Br,1)}else{var Br=$r;Dr.rebuildPath(Br,1)}},Mr.applyTransform=function($r){transformPath(Dr,$r),this.dirtyShape()},Mr}function createFromString(_r,Be){return new SVGPath(createPathOptions(_r,Be))}function extendFromString(_r,Be){var Dr=createPathOptions(_r,Be),Mr=function($r){__extends(Br,$r);function Br(zr){var Vr=$r.call(this,zr)||this;return Vr.applyTransform=Dr.applyTransform,Vr.buildPath=Dr.buildPath,Vr}return Br}(SVGPath);return Mr}function mergePath$1(_r,Be){for(var Dr=[],Mr=_r.length,$r=0;$r<Mr;$r++){var Br=_r[$r];Dr.push(Br.getUpdatedPathProxy(!0))}var zr=new Path$1(Be);return zr.createPathProxy(),zr.buildPath=function(Vr){if(isPathProxy(Vr)){Vr.appendPath(Dr);var jr=Vr.getContext();jr&&Vr.rebuildPath(jr,1)}},zr}function clonePath(_r,Be){Be=Be||{};var Dr=new Path$1;return _r.shape&&Dr.setShape(_r.shape),Dr.setStyle(_r.style),Be.bakeTransform?transformPath(Dr.path,_r.getComputedTransform()):Be.toLocal?Dr.setLocalTransform(_r.getComputedTransform()):Dr.copyTransform(_r),Dr.buildPath=_r.buildPath,Dr.applyTransform=Dr.applyTransform,Dr.z=_r.z,Dr.z2=_r.z2,Dr.zlevel=_r.zlevel,Dr}var CircleShape=function(){function _r(){this.cx=0,this.cy=0,this.r=0}return _r}(),Circle=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultShape=function(){return new CircleShape},Be.prototype.buildPath=function(Dr,Mr){Dr.moveTo(Mr.cx+Mr.r,Mr.cy),Dr.arc(Mr.cx,Mr.cy,Mr.r,0,Math.PI*2)},Be}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function _r(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return _r}(),Ellipse=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultShape=function(){return new EllipseShape},Be.prototype.buildPath=function(Dr,Mr){var $r=.5522848,Br=Mr.cx,zr=Mr.cy,Vr=Mr.rx,jr=Mr.ry,Gr=Vr*$r,Wr=jr*$r;Dr.moveTo(Br-Vr,zr),Dr.bezierCurveTo(Br-Vr,zr-Wr,Br-Gr,zr-jr,Br,zr-jr),Dr.bezierCurveTo(Br+Gr,zr-jr,Br+Vr,zr-Wr,Br+Vr,zr),Dr.bezierCurveTo(Br+Vr,zr+Wr,Br+Gr,zr+jr,Br,zr+jr),Dr.bezierCurveTo(Br-Gr,zr+jr,Br-Vr,zr+Wr,Br-Vr,zr),Dr.closePath()},Be}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr=Dr-_r,Gr=Mr-Be,Wr=zr-$r,Kr=Vr-Br,Zr=Kr*jr-Wr*Gr;if(!(Zr*Zr<e))return Zr=(Wr*(Be-Br)-Kr*(_r-$r))/Zr,[_r+Zr*jr,Be+Zr*Gr]}function computeCornerTangents(_r,Be,Dr,Mr,$r,Br,zr){var Vr=_r-Dr,jr=Be-Mr,Gr=(zr?Br:-Br)/mathSqrt(Vr*Vr+jr*jr),Wr=Gr*jr,Kr=-Gr*Vr,Zr=_r+Wr,Jr=Be+Kr,rn=Dr+Wr,nn=Mr+Kr,ln=(Zr+rn)/2,cn=(Jr+nn)/2,hn=rn-Zr,mn=nn-Jr,bn=hn*hn+mn*mn,An=$r-Br,vn=Zr*nn-rn*Jr,dn=(mn<0?-1:1)*mathSqrt(mathMax$7(0,An*An*bn-vn*vn)),wn=(vn*mn-hn*dn)/bn,xn=(-vn*hn-mn*dn)/bn,Mn=(vn*mn+hn*dn)/bn,In=(-vn*hn+mn*dn)/bn,Hn=wn-ln,$n=xn-cn,jn=Mn-ln,Bn=In-cn;return Hn*Hn+$n*$n>jn*jn+Bn*Bn&&(wn=Mn,xn=In),{cx:wn,cy:xn,x0:-Wr,y0:-Kr,x1:wn*($r/An-1),y1:xn*($r/An-1)}}function normalizeCornerRadius(_r){var Be;if(isArray$1(_r)){var Dr=_r.length;if(!Dr)return _r;Dr===1?Be=[_r[0],_r[0],0,0]:Dr===2?Be=[_r[0],_r[0],_r[1],_r[1]]:Dr===3?Be=_r.concat(_r[2]):Be=_r}else Be=[_r,_r,_r,_r];return Be}function buildPath$1(_r,Be){var Dr,Mr=mathMax$7(Be.r,0),$r=mathMax$7(Be.r0||0,0),Br=Mr>0,zr=$r>0;if(!(!Br&&!zr)){if(Br||(Mr=$r,$r=0),$r>Mr){var Vr=Mr;Mr=$r,$r=Vr}var jr=Be.startAngle,Gr=Be.endAngle;if(!(isNaN(jr)||isNaN(Gr))){var Wr=Be.cx,Kr=Be.cy,Zr=!!Be.clockwise,Jr=mathAbs$1(Gr-jr),rn=Jr>PI2$3&&Jr%PI2$3;if(rn>e&&(Jr=rn),!(Mr>e))_r.moveTo(Wr,Kr);else if(Jr>PI2$3-e)_r.moveTo(Wr+Mr*mathCos$1(jr),Kr+Mr*mathSin$1(jr)),_r.arc(Wr,Kr,Mr,jr,Gr,!Zr),$r>e&&(_r.moveTo(Wr+$r*mathCos$1(Gr),Kr+$r*mathSin$1(Gr)),_r.arc(Wr,Kr,$r,Gr,jr,Zr));else{var nn=void 0,ln=void 0,cn=void 0,hn=void 0,mn=void 0,bn=void 0,An=void 0,vn=void 0,dn=void 0,wn=void 0,xn=void 0,Mn=void 0,In=void 0,Hn=void 0,$n=void 0,jn=void 0,Bn=Mr*mathCos$1(jr),Gn=Mr*mathSin$1(jr),ei=$r*mathCos$1(Gr),ri=$r*mathSin$1(Gr),vi=Jr>e;if(vi){var wi=Be.cornerRadius;wi&&(Dr=normalizeCornerRadius(wi),nn=Dr[0],ln=Dr[1],cn=Dr[2],hn=Dr[3]);var Ni=mathAbs$1(Mr-$r)/2;if(mn=mathMin$7(Ni,cn),bn=mathMin$7(Ni,hn),An=mathMin$7(Ni,nn),vn=mathMin$7(Ni,ln),xn=dn=mathMax$7(mn,bn),Mn=wn=mathMax$7(An,vn),(dn>e||wn>e)&&(In=Mr*mathCos$1(Gr),Hn=Mr*mathSin$1(Gr),$n=$r*mathCos$1(jr),jn=$r*mathSin$1(jr),Jr<PI$6)){var Yn=intersect(Bn,Gn,$n,jn,In,Hn,ei,ri);if(Yn){var Vn=Bn-Yn[0],si=Gn-Yn[1],Ri=In-Yn[0],Pi=Hn-Yn[1],Fi=1/mathSin$1(mathACos((Vn*Ri+si*Pi)/(mathSqrt(Vn*Vn+si*si)*mathSqrt(Ri*Ri+Pi*Pi)))/2),zi=mathSqrt(Yn[0]*Yn[0]+Yn[1]*Yn[1]);xn=mathMin$7(dn,(Mr-zi)/(Fi+1)),Mn=mathMin$7(wn,($r-zi)/(Fi-1))}}}if(!vi)_r.moveTo(Wr+Bn,Kr+Gn);else if(xn>e){var oo=mathMin$7(cn,xn),lo=mathMin$7(hn,xn),io=computeCornerTangents($n,jn,Bn,Gn,Mr,oo,Zr),Wi=computeCornerTangents(In,Hn,ei,ri,Mr,lo,Zr);_r.moveTo(Wr+io.cx+io.x0,Kr+io.cy+io.y0),xn<dn&&oo===lo?_r.arc(Wr+io.cx,Kr+io.cy,xn,mathATan2(io.y0,io.x0),mathATan2(Wi.y0,Wi.x0),!Zr):(oo>0&&_r.arc(Wr+io.cx,Kr+io.cy,oo,mathATan2(io.y0,io.x0),mathATan2(io.y1,io.x1),!Zr),_r.arc(Wr,Kr,Mr,mathATan2(io.cy+io.y1,io.cx+io.x1),mathATan2(Wi.cy+Wi.y1,Wi.cx+Wi.x1),!Zr),lo>0&&_r.arc(Wr+Wi.cx,Kr+Wi.cy,lo,mathATan2(Wi.y1,Wi.x1),mathATan2(Wi.y0,Wi.x0),!Zr))}else _r.moveTo(Wr+Bn,Kr+Gn),_r.arc(Wr,Kr,Mr,jr,Gr,!Zr);if(!($r>e)||!vi)_r.lineTo(Wr+ei,Kr+ri);else if(Mn>e){var oo=mathMin$7(nn,Mn),lo=mathMin$7(ln,Mn),io=computeCornerTangents(ei,ri,In,Hn,$r,-lo,Zr),Wi=computeCornerTangents(Bn,Gn,$n,jn,$r,-oo,Zr);_r.lineTo(Wr+io.cx+io.x0,Kr+io.cy+io.y0),Mn<wn&&oo===lo?_r.arc(Wr+io.cx,Kr+io.cy,Mn,mathATan2(io.y0,io.x0),mathATan2(Wi.y0,Wi.x0),!Zr):(lo>0&&_r.arc(Wr+io.cx,Kr+io.cy,lo,mathATan2(io.y0,io.x0),mathATan2(io.y1,io.x1),!Zr),_r.arc(Wr,Kr,$r,mathATan2(io.cy+io.y1,io.cx+io.x1),mathATan2(Wi.cy+Wi.y1,Wi.cx+Wi.x1),Zr),oo>0&&_r.arc(Wr+Wi.cx,Kr+Wi.cy,oo,mathATan2(Wi.y1,Wi.x1),mathATan2(Wi.y0,Wi.x0),!Zr))}else _r.lineTo(Wr+ei,Kr+ri),_r.arc(Wr,Kr,$r,Gr,jr,Zr)}_r.closePath()}}}var SectorShape=function(){function _r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return _r}(),Sector=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultShape=function(){return new SectorShape},Be.prototype.buildPath=function(Dr,Mr){buildPath$1(Dr,Mr)},Be.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},Be}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function _r(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return _r}(),Ring=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultShape=function(){return new RingShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.cx,Br=Mr.cy,zr=Math.PI*2;Dr.moveTo($r+Mr.r,Br),Dr.arc($r,Br,Mr.r,0,zr,!1),Dr.moveTo($r+Mr.r0,Br),Dr.arc($r,Br,Mr.r0,0,zr,!0)},Be}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(_r,Be,Dr,Mr){var $r=[],Br=[],zr=[],Vr=[],jr,Gr,Wr,Kr;if(Mr){Wr=[1/0,1/0],Kr=[-1/0,-1/0];for(var Zr=0,Jr=_r.length;Zr<Jr;Zr++)min$1(Wr,Wr,_r[Zr]),max$1(Kr,Kr,_r[Zr]);min$1(Wr,Wr,Mr[0]),max$1(Kr,Kr,Mr[1])}for(var Zr=0,Jr=_r.length;Zr<Jr;Zr++){var rn=_r[Zr];if(Dr)jr=_r[Zr?Zr-1:Jr-1],Gr=_r[(Zr+1)%Jr];else if(Zr===0||Zr===Jr-1){$r.push(clone$3(_r[Zr]));continue}else jr=_r[Zr-1],Gr=_r[Zr+1];sub(Br,Gr,jr),scale$2(Br,Br,Be);var nn=distance(rn,jr),ln=distance(rn,Gr),cn=nn+ln;cn!==0&&(nn/=cn,ln/=cn),scale$2(zr,Br,-nn),scale$2(Vr,Br,ln);var hn=add([],rn,zr),mn=add([],rn,Vr);Mr&&(max$1(hn,hn,Wr),min$1(hn,hn,Kr),max$1(mn,mn,Wr),min$1(mn,mn,Kr)),$r.push(hn),$r.push(mn)}return Dr&&$r.push($r.shift()),$r}function buildPath(_r,Be,Dr){var Mr=Be.smooth,$r=Be.points;if($r&&$r.length>=2){if(Mr){var Br=smoothBezier($r,Mr,Dr,Be.smoothConstraint);_r.moveTo($r[0][0],$r[0][1]);for(var zr=$r.length,Vr=0;Vr<(Dr?zr:zr-1);Vr++){var jr=Br[Vr*2],Gr=Br[Vr*2+1],Wr=$r[(Vr+1)%zr];_r.bezierCurveTo(jr[0],jr[1],Gr[0],Gr[1],Wr[0],Wr[1])}}else{_r.moveTo($r[0][0],$r[0][1]);for(var Vr=1,Kr=$r.length;Vr<Kr;Vr++)_r.lineTo($r[Vr][0],$r[Vr][1])}Dr&&_r.closePath()}}var PolygonShape=function(){function _r(){this.points=null,this.smooth=0,this.smoothConstraint=null}return _r}(),Polygon=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultShape=function(){return new PolygonShape},Be.prototype.buildPath=function(Dr,Mr){buildPath(Dr,Mr,!0)},Be}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function _r(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return _r}(),Polyline$2=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Be.prototype.getDefaultShape=function(){return new PolylineShape},Be.prototype.buildPath=function(Dr,Mr){buildPath(Dr,Mr,!1)},Be}(Path$1);Polyline$2.prototype.type="polyline";const Polyline$3=Polyline$2;var subPixelOptimizeOutputShape={},LineShape=function(){function _r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return _r}(),Line$2=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Be.prototype.getDefaultShape=function(){return new LineShape},Be.prototype.buildPath=function(Dr,Mr){var $r,Br,zr,Vr;if(this.subPixelOptimize){var jr=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,Mr,this.style);$r=jr.x1,Br=jr.y1,zr=jr.x2,Vr=jr.y2}else $r=Mr.x1,Br=Mr.y1,zr=Mr.x2,Vr=Mr.y2;var Gr=Mr.percent;Gr!==0&&(Dr.moveTo($r,Br),Gr<1&&(zr=$r*(1-Gr)+zr*Gr,Vr=Br*(1-Gr)+Vr*Gr),Dr.lineTo(zr,Vr))},Be.prototype.pointAt=function(Dr){var Mr=this.shape;return[Mr.x1*(1-Dr)+Mr.x2*Dr,Mr.y1*(1-Dr)+Mr.y2*Dr]},Be}(Path$1);Line$2.prototype.type="line";const Line$3=Line$2;var out=[],BezierCurveShape=function(){function _r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return _r}();function someVectorAt(_r,Be,Dr){var Mr=_r.cpx2,$r=_r.cpy2;return Mr!=null||$r!=null?[(Dr?cubicDerivativeAt:cubicAt)(_r.x1,_r.cpx1,_r.cpx2,_r.x2,Be),(Dr?cubicDerivativeAt:cubicAt)(_r.y1,_r.cpy1,_r.cpy2,_r.y2,Be)]:[(Dr?quadraticDerivativeAt:quadraticAt$1)(_r.x1,_r.cpx1,_r.x2,Be),(Dr?quadraticDerivativeAt:quadraticAt$1)(_r.y1,_r.cpy1,_r.y2,Be)]}var BezierCurve=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Be.prototype.getDefaultShape=function(){return new BezierCurveShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.x1,Br=Mr.y1,zr=Mr.x2,Vr=Mr.y2,jr=Mr.cpx1,Gr=Mr.cpy1,Wr=Mr.cpx2,Kr=Mr.cpy2,Zr=Mr.percent;Zr!==0&&(Dr.moveTo($r,Br),Wr==null||Kr==null?(Zr<1&&(quadraticSubdivide($r,jr,zr,Zr,out),jr=out[1],zr=out[2],quadraticSubdivide(Br,Gr,Vr,Zr,out),Gr=out[1],Vr=out[2]),Dr.quadraticCurveTo(jr,Gr,zr,Vr)):(Zr<1&&(cubicSubdivide($r,jr,Wr,zr,Zr,out),jr=out[1],Wr=out[2],zr=out[3],cubicSubdivide(Br,Gr,Kr,Vr,Zr,out),Gr=out[1],Kr=out[2],Vr=out[3]),Dr.bezierCurveTo(jr,Gr,Wr,Kr,zr,Vr)))},Be.prototype.pointAt=function(Dr){return someVectorAt(this.shape,Dr,!1)},Be.prototype.tangentAt=function(Dr){var Mr=someVectorAt(this.shape,Dr,!0);return normalize$3(Mr,Mr)},Be}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function _r(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return _r}(),Arc=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Be.prototype.getDefaultShape=function(){return new ArcShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.cx,Br=Mr.cy,zr=Math.max(Mr.r,0),Vr=Mr.startAngle,jr=Mr.endAngle,Gr=Mr.clockwise,Wr=Math.cos(Vr),Kr=Math.sin(Vr);Dr.moveTo(Wr*zr+$r,Kr*zr+Br),Dr.arc($r,Br,zr,Vr,jr,!Gr)},Be}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type="compound",Dr}return Be.prototype._updatePathDirty=function(){for(var Dr=this.shape.paths,Mr=this.shapeChanged(),$r=0;$r<Dr.length;$r++)Mr=Mr||Dr[$r].shapeChanged();Mr&&this.dirtyShape()},Be.prototype.beforeBrush=function(){this._updatePathDirty();for(var Dr=this.shape.paths||[],Mr=this.getGlobalScale(),$r=0;$r<Dr.length;$r++)Dr[$r].path||Dr[$r].createPathProxy(),Dr[$r].path.setScale(Mr[0],Mr[1],Dr[$r].segmentIgnoreThreshold)},Be.prototype.buildPath=function(Dr,Mr){for(var $r=Mr.paths||[],Br=0;Br<$r.length;Br++)$r[Br].buildPath(Dr,$r[Br].shape,!0)},Be.prototype.afterBrush=function(){for(var Dr=this.shape.paths||[],Mr=0;Mr<Dr.length;Mr++)Dr[Mr].pathUpdated()},Be.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},Be}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function _r(Be){this.colorStops=Be||[]}return _r.prototype.addColorStop=function(Be,Dr){this.colorStops.push({offset:Be,color:Dr})},_r}();const Gradient$1=Gradient;var LinearGradient=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r,Br,zr,Vr){var jr=_r.call(this,zr)||this;return jr.x=Dr??0,jr.y=Mr??0,jr.x2=$r??1,jr.y2=Br??0,jr.type="linear",jr.global=Vr||!1,jr}return Be}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r,Br,zr){var Vr=_r.call(this,Br)||this;return Vr.x=Dr??.5,Vr.y=Mr??.5,Vr.r=$r??.5,Vr.type="radial",Vr.global=zr||!1,Vr}return Be}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function _r(Be,Dr){this._corners=[],this._axes=[],this._origin=[0,0];for(var Mr=0;Mr<4;Mr++)this._corners[Mr]=new Point$1;for(var Mr=0;Mr<2;Mr++)this._axes[Mr]=new Point$1;Be&&this.fromBoundingRect(Be,Dr)}return _r.prototype.fromBoundingRect=function(Be,Dr){var Mr=this._corners,$r=this._axes,Br=Be.x,zr=Be.y,Vr=Br+Be.width,jr=zr+Be.height;if(Mr[0].set(Br,zr),Mr[1].set(Vr,zr),Mr[2].set(Vr,jr),Mr[3].set(Br,jr),Dr)for(var Gr=0;Gr<4;Gr++)Mr[Gr].transform(Dr);Point$1.sub($r[0],Mr[1],Mr[0]),Point$1.sub($r[1],Mr[3],Mr[0]),$r[0].normalize(),$r[1].normalize();for(var Gr=0;Gr<2;Gr++)this._origin[Gr]=$r[Gr].dot(Mr[0])},_r.prototype.intersect=function(Be,Dr){var Mr=!0,$r=!Dr;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,Be,minTv,maxTv,$r,1)&&(Mr=!1,$r)||!this._intersectCheckOneSide(Be,this,minTv,maxTv,$r,-1)&&(Mr=!1,$r)||$r||Point$1.copy(Dr,Mr?minTv:maxTv),Mr},_r.prototype._intersectCheckOneSide=function(Be,Dr,Mr,$r,Br,zr){for(var Vr=!0,jr=0;jr<2;jr++){var Gr=this._axes[jr];if(this._getProjMinMaxOnAxis(jr,Be._corners,extent),this._getProjMinMaxOnAxis(jr,Dr._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(Vr=!1,Br)return Vr;var Wr=Math.abs(extent2[0]-extent[1]),Kr=Math.abs(extent[0]-extent2[1]);Math.min(Wr,Kr)>$r.len()&&(Wr<Kr?Point$1.scale($r,Gr,-Wr*zr):Point$1.scale($r,Gr,Kr*zr))}else if(Mr){var Wr=Math.abs(extent2[0]-extent[1]),Kr=Math.abs(extent[0]-extent2[1]);Math.min(Wr,Kr)<Mr.len()&&(Wr<Kr?Point$1.scale(Mr,Gr,Wr*zr):Point$1.scale(Mr,Gr,-Kr*zr))}}return Vr},_r.prototype._getProjMinMaxOnAxis=function(Be,Dr,Mr){for(var $r=this._axes[Be],Br=this._origin,zr=Dr[0].dot($r)+Br[Be],Vr=zr,jr=zr,Gr=1;Gr<Dr.length;Gr++){var Wr=Dr[Gr].dot($r)+Br[Be];Vr=Math.min(Wr,Vr),jr=Math.max(Wr,jr)}Mr[0]=Vr,Mr[1]=jr},_r}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.notClear=!0,Dr.incremental=!0,Dr._displayables=[],Dr._temporaryDisplayables=[],Dr._cursor=0,Dr}return Be.prototype.traverse=function(Dr,Mr){Dr.call(Mr,this)},Be.prototype.useStyle=function(){this.style={}},Be.prototype.getCursor=function(){return this._cursor},Be.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},Be.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},Be.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},Be.prototype.addDisplayable=function(Dr,Mr){Mr?this._temporaryDisplayables.push(Dr):this._displayables.push(Dr),this.markRedraw()},Be.prototype.addDisplayables=function(Dr,Mr){Mr=Mr||!1;for(var $r=0;$r<Dr.length;$r++)this.addDisplayable(Dr[$r],Mr)},Be.prototype.getDisplayables=function(){return this._displayables},Be.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},Be.prototype.eachPendingDisplayable=function(Dr){for(var Mr=this._cursor;Mr<this._displayables.length;Mr++)Dr&&Dr(this._displayables[Mr]);for(var Mr=0;Mr<this._temporaryDisplayables.length;Mr++)Dr&&Dr(this._temporaryDisplayables[Mr])},Be.prototype.update=function(){this.updateTransform();for(var Dr=this._cursor;Dr<this._displayables.length;Dr++){var Mr=this._displayables[Dr];Mr.parent=this,Mr.update(),Mr.parent=null}for(var Dr=0;Dr<this._temporaryDisplayables.length;Dr++){var Mr=this._temporaryDisplayables[Dr];Mr.parent=this,Mr.update(),Mr.parent=null}},Be.prototype.getBoundingRect=function(){if(!this._rect){for(var Dr=new BoundingRect$1(1/0,1/0,-1/0,-1/0),Mr=0;Mr<this._displayables.length;Mr++){var $r=this._displayables[Mr],Br=$r.getBoundingRect().clone();$r.needLocalTransform()&&Br.applyTransform($r.getLocalTransform(m)),Dr.union(Br)}this._rect=Dr}return this._rect},Be.prototype.contain=function(Dr,Mr){var $r=this.transformCoordToLocal(Dr,Mr),Br=this.getBoundingRect();if(Br.contain($r[0],$r[1]))for(var zr=0;zr<this._displayables.length;zr++){var Vr=this._displayables[zr];if(Vr.contain(Dr,Mr))return!0}return!1},Be}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(_r,Be,Dr,Mr,$r){var Br;if(Be&&Be.ecModel){var zr=Be.ecModel.getUpdatePayload();Br=zr&&zr.animation}var Vr=Be&&Be.isAnimationEnabled(),jr=_r==="update";if(Vr){var Gr=void 0,Wr=void 0,Kr=void 0;Mr?(Gr=retrieve2(Mr.duration,200),Wr=retrieve2(Mr.easing,"cubicOut"),Kr=0):(Gr=Be.getShallow(jr?"animationDurationUpdate":"animationDuration"),Wr=Be.getShallow(jr?"animationEasingUpdate":"animationEasing"),Kr=Be.getShallow(jr?"animationDelayUpdate":"animationDelay")),Br&&(Br.duration!=null&&(Gr=Br.duration),Br.easing!=null&&(Wr=Br.easing),Br.delay!=null&&(Kr=Br.delay)),isFunction(Kr)&&(Kr=Kr(Dr,$r)),isFunction(Gr)&&(Gr=Gr(Dr));var Zr={duration:Gr||0,delay:Kr,easing:Wr};return Zr}else return null}function animateOrSetProps(_r,Be,Dr,Mr,$r,Br,zr){var Vr=!1,jr;isFunction($r)?(zr=Br,Br=$r,$r=null):isObject$3($r)&&(Br=$r.cb,zr=$r.during,Vr=$r.isFrom,jr=$r.removeOpt,$r=$r.dataIndex);var Gr=_r==="leave";Gr||Be.stopAnimation("leave");var Wr=getAnimationConfig(_r,Mr,$r,Gr?jr||{}:null,Mr&&Mr.getAnimationDelayParams?Mr.getAnimationDelayParams(Be,$r):null);if(Wr&&Wr.duration>0){var Kr=Wr.duration,Zr=Wr.delay,Jr=Wr.easing,rn={duration:Kr,delay:Zr||0,easing:Jr,done:Br,force:!!Br||!!zr,setToFinal:!Gr,scope:_r,during:zr};Vr?Be.animateFrom(Dr,rn):Be.animateTo(Dr,rn)}else Be.stopAnimation(),!Vr&&Be.attr(Dr),zr&&zr(1),Br&&Br()}function updateProps$1(_r,Be,Dr,Mr,$r,Br){animateOrSetProps("update",_r,Be,Dr,Mr,$r,Br)}function initProps(_r,Be,Dr,Mr,$r,Br){animateOrSetProps("enter",_r,Be,Dr,Mr,$r,Br)}function isElementRemoved(_r){if(!_r.__zr)return!0;for(var Be=0;Be<_r.animators.length;Be++){var Dr=_r.animators[Be];if(Dr.scope==="leave")return!0}return!1}function removeElement(_r,Be,Dr,Mr,$r,Br){isElementRemoved(_r)||animateOrSetProps("leave",_r,Be,Dr,Mr,$r,Br)}function fadeOutDisplayable(_r,Be,Dr,Mr){_r.removeTextContent(),_r.removeTextGuideLine(),removeElement(_r,{style:{opacity:0}},Be,Dr,Mr)}function removeElementWithFadeOut(_r,Be,Dr){function Mr(){_r.parent&&_r.parent.remove(_r)}_r.isGroup?_r.traverse(function($r){$r.isGroup||fadeOutDisplayable($r,Be,Dr,Mr)}):fadeOutDisplayable(_r,Be,Dr,Mr)}function saveOldStyle(_r){transitionStore(_r).oldStyle=_r.style}function getOldStyle(_r){return transitionStore(_r).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(_r){return Path$1.extend(_r)}var extendPathFromString=extendFromString;function extendPath(_r,Be){return extendPathFromString(_r,Be)}function registerShape(_r,Be){_customShapeMap[_r]=Be}function getShapeClass(_r){if(_customShapeMap.hasOwnProperty(_r))return _customShapeMap[_r]}function makePath(_r,Be,Dr,Mr){var $r=createFromString(_r,Be);return Dr&&(Mr==="center"&&(Dr=centerGraphic(Dr,$r.getBoundingRect())),resizePath($r,Dr)),$r}function makeImage(_r,Be,Dr){var Mr=new ZRImage$1({style:{image:_r,x:Be.x,y:Be.y,width:Be.width,height:Be.height},onload:function($r){if(Dr==="center"){var Br={width:$r.width,height:$r.height};Mr.setStyle(centerGraphic(Be,Br))}}});return Mr}function centerGraphic(_r,Be){var Dr=Be.width/Be.height,Mr=_r.height*Dr,$r;Mr<=_r.width?$r=_r.height:(Mr=_r.width,$r=Mr/Dr);var Br=_r.x+_r.width/2,zr=_r.y+_r.height/2;return{x:Br-Mr/2,y:zr-$r/2,width:Mr,height:$r}}var mergePath=mergePath$1;function resizePath(_r,Be){if(_r.applyTransform){var Dr=_r.getBoundingRect(),Mr=Dr.calculateTransform(Be);_r.applyTransform(Mr)}}function subPixelOptimizeLine(_r,Be){return subPixelOptimizeLine$1(_r,_r,{lineWidth:Be}),_r}function subPixelOptimizeRect(_r){return subPixelOptimizeRect$1(_r.shape,_r.shape,_r.style),_r}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(_r,Be){for(var Dr=identity([]);_r&&_r!==Be;)mul(Dr,_r.getLocalTransform(),Dr),_r=_r.parent;return Dr}function applyTransform(_r,Be,Dr){return Be&&!isArrayLike(Be)&&(Be=Transformable$1.getLocalTransform(Be)),Dr&&(Be=invert([],Be)),applyTransform$1([],_r,Be)}function transformDirection(_r,Be,Dr){var Mr=Be[4]===0||Be[5]===0||Be[0]===0?1:Math.abs(2*Be[4]/Be[0]),$r=Be[4]===0||Be[5]===0||Be[2]===0?1:Math.abs(2*Be[4]/Be[2]),Br=[_r==="left"?-Mr:_r==="right"?Mr:0,_r==="top"?-$r:_r==="bottom"?$r:0];return Br=applyTransform(Br,Be,Dr),Math.abs(Br[0])>Math.abs(Br[1])?Br[0]>0?"right":"left":Br[1]>0?"bottom":"top"}function isNotGroup(_r){return!_r.isGroup}function isPath$1(_r){return _r.shape!=null}function groupTransition(_r,Be,Dr){if(!_r||!Be)return;function Mr(zr){var Vr={};return zr.traverse(function(jr){isNotGroup(jr)&&jr.anid&&(Vr[jr.anid]=jr)}),Vr}function $r(zr){var Vr={x:zr.x,y:zr.y,rotation:zr.rotation};return isPath$1(zr)&&(Vr.shape=extend$1({},zr.shape)),Vr}var Br=Mr(_r);Be.traverse(function(zr){if(isNotGroup(zr)&&zr.anid){var Vr=Br[zr.anid];if(Vr){var jr=$r(zr);zr.attr($r(Vr)),updateProps$1(zr,jr,Dr,getECData(zr).dataIndex)}}})}function clipPointsByRect(_r,Be){return map$1(_r,function(Dr){var Mr=Dr[0];Mr=mathMax$6(Mr,Be.x),Mr=mathMin$6(Mr,Be.x+Be.width);var $r=Dr[1];return $r=mathMax$6($r,Be.y),$r=mathMin$6($r,Be.y+Be.height),[Mr,$r]})}function clipRectByRect(_r,Be){var Dr=mathMax$6(_r.x,Be.x),Mr=mathMin$6(_r.x+_r.width,Be.x+Be.width),$r=mathMax$6(_r.y,Be.y),Br=mathMin$6(_r.y+_r.height,Be.y+Be.height);if(Mr>=Dr&&Br>=$r)return{x:Dr,y:$r,width:Mr-Dr,height:Br-$r}}function createIcon(_r,Be,Dr){var Mr=extend$1({rectHover:!0},Be),$r=Mr.style={strokeNoScale:!0};if(Dr=Dr||{x:-1,y:-1,width:2,height:2},_r)return _r.indexOf("image://")===0?($r.image=_r.slice(8),defaults($r,Dr),new ZRImage$1(Mr)):makePath(_r.replace("path://",""),Mr,Dr,"center")}function linePolygonIntersect(_r,Be,Dr,Mr,$r){for(var Br=0,zr=$r[$r.length-1];Br<$r.length;Br++){var Vr=$r[Br];if(lineLineIntersect$1(_r,Be,Dr,Mr,Vr[0],Vr[1],zr[0],zr[1]))return!0;zr=Vr}}function lineLineIntersect$1(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr=Dr-_r,Gr=Mr-Be,Wr=zr-$r,Kr=Vr-Br,Zr=crossProduct2d$1(Wr,Kr,jr,Gr);if(nearZero(Zr))return!1;var Jr=_r-$r,rn=Be-Br,nn=crossProduct2d$1(Jr,rn,jr,Gr)/Zr;if(nn<0||nn>1)return!1;var ln=crossProduct2d$1(Jr,rn,Wr,Kr)/Zr;return!(ln<0||ln>1)}function crossProduct2d$1(_r,Be,Dr,Mr){return _r*Mr-Dr*Be}function nearZero(_r){return _r<=1e-6&&_r>=-1e-6}function setTooltipConfig(_r){var Be=_r.itemTooltipOption,Dr=_r.componentModel,Mr=_r.itemName,$r=isString(Be)?{formatter:Be}:Be,Br=Dr.mainType,zr=Dr.componentIndex,Vr={componentType:Br,name:Mr,$vars:["name"]};Vr[Br+"Index"]=zr;var jr=_r.formatterParamsExtra;jr&&each$f(keys(jr),function(Wr){hasOwn(Vr,Wr)||(Vr[Wr]=jr[Wr],Vr.$vars.push(Wr))});var Gr=getECData(_r.el);Gr.componentMainType=Br,Gr.componentIndex=zr,Gr.tooltipConfig={name:Mr,option:defaults({content:Mr,formatterParams:Vr},$r)}}function traverseElement(_r,Be){var Dr;_r.isGroup&&(Dr=Be(_r)),Dr||_r.traverse(Be)}function traverseElements(_r,Be){if(_r)if(isArray$1(_r))for(var Dr=0;Dr<_r.length;Dr++)traverseElement(_r[Dr],Be);else traverseElement(_r,Be)}registerShape("circle",Circle$1);registerShape("ellipse",Ellipse$1);registerShape("sector",Sector$1);registerShape("ring",Ring$1);registerShape("polygon",Polygon$1);registerShape("polyline",Polyline$3);registerShape("rect",Rect$3);registerShape("line",Line$3);registerShape("bezierCurve",BezierCurve$1);registerShape("arc",Arc$1);const graphic$1=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$4,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$3,LinearGradient:LinearGradient$1,OrientedBoundingRect:OrientedBoundingRect$1,Path:Path$1,Point:Point$1,Polygon:Polygon$1,Polyline:Polyline$3,RadialGradient:RadialGradient$1,Rect:Rect$3,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,groupTransition,initProps,isElementRemoved,lineLineIntersect:lineLineIntersect$1,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(_r,Be){for(var Dr=0;Dr<SPECIAL_STATES.length;Dr++){var Mr=SPECIAL_STATES[Dr],$r=Be[Mr],Br=_r.ensureState(Mr);Br.style=Br.style||{},Br.style.text=$r}var zr=_r.currentStates.slice();_r.clearStates(!0),_r.setStyle({text:Be.normal}),_r.useStates(zr,!0)}function getLabelText(_r,Be,Dr){var Mr=_r.labelFetcher,$r=_r.labelDataIndex,Br=_r.labelDimIndex,zr=Be.normal,Vr;Mr&&(Vr=Mr.getFormattedLabel($r,"normal",null,Br,zr&&zr.get("formatter"),Dr!=null?{interpolatedValue:Dr}:null)),Vr==null&&(Vr=isFunction(_r.defaultText)?_r.defaultText($r,_r,Dr):_r.defaultText);for(var jr={normal:Vr},Gr=0;Gr<SPECIAL_STATES.length;Gr++){var Wr=SPECIAL_STATES[Gr],Kr=Be[Wr];jr[Wr]=retrieve2(Mr?Mr.getFormattedLabel($r,Wr,null,Br,Kr&&Kr.get("formatter")):null,Vr)}return jr}function setLabelStyle(_r,Be,Dr,Mr){Dr=Dr||EMPTY_OBJ;for(var $r=_r instanceof ZRText$1,Br=!1,zr=0;zr<DISPLAY_STATES.length;zr++){var Vr=Be[DISPLAY_STATES[zr]];if(Vr&&Vr.getShallow("show")){Br=!0;break}}var jr=$r?_r:_r.getTextContent();if(Br){$r||(jr||(jr=new ZRText$1,_r.setTextContent(jr)),_r.stateProxy&&(jr.stateProxy=_r.stateProxy));var Gr=getLabelText(Dr,Be),Wr=Be.normal,Kr=!!Wr.getShallow("show"),Zr=createTextStyle$1(Wr,Mr&&Mr.normal,Dr,!1,!$r);Zr.text=Gr.normal,$r||_r.setTextConfig(createTextConfig(Wr,Dr,!1));for(var zr=0;zr<SPECIAL_STATES.length;zr++){var Jr=SPECIAL_STATES[zr],Vr=Be[Jr];if(Vr){var rn=jr.ensureState(Jr),nn=!!retrieve2(Vr.getShallow("show"),Kr);if(nn!==Kr&&(rn.ignore=!nn),rn.style=createTextStyle$1(Vr,Mr&&Mr[Jr],Dr,!0,!$r),rn.style.text=Gr[Jr],!$r){var ln=_r.ensureState(Jr);ln.textConfig=createTextConfig(Vr,Dr,!0)}}}jr.silent=!!Wr.getShallow("silent"),jr.style.x!=null&&(Zr.x=jr.style.x),jr.style.y!=null&&(Zr.y=jr.style.y),jr.ignore=!Kr,jr.useStyle(Zr),jr.dirty(),Dr.enableTextSetter&&(labelInner(jr).setLabelText=function(cn){var hn=getLabelText(Dr,Be,cn);setLabelText(jr,hn)})}else jr&&(jr.ignore=!0);_r.dirty()}function getLabelStatesModels(_r,Be){Be=Be||"label";for(var Dr={normal:_r.getModel(Be)},Mr=0;Mr<SPECIAL_STATES.length;Mr++){var $r=SPECIAL_STATES[Mr];Dr[$r]=_r.getModel([$r,Be])}return Dr}function createTextStyle$1(_r,Be,Dr,Mr,$r){var Br={};return setTextStyleCommon(Br,_r,Dr,Mr,$r),Be&&extend$1(Br,Be),Br}function createTextConfig(_r,Be,Dr){Be=Be||{};var Mr={},$r,Br=_r.getShallow("rotate"),zr=retrieve2(_r.getShallow("distance"),Dr?null:5),Vr=_r.getShallow("offset");return $r=_r.getShallow("position")||(Dr?null:"inside"),$r==="outside"&&($r=Be.defaultOutsidePosition||"top"),$r!=null&&(Mr.position=$r),Vr!=null&&(Mr.offset=Vr),Br!=null&&(Br*=Math.PI/180,Mr.rotation=Br),zr!=null&&(Mr.distance=zr),Mr.outsideFill=_r.get("color")==="inherit"?Be.inheritColor||null:"auto",Mr}function setTextStyleCommon(_r,Be,Dr,Mr,$r){Dr=Dr||EMPTY_OBJ;var Br=Be.ecModel,zr=Br&&Br.option.textStyle,Vr=getRichItemNames(Be),jr;if(Vr){jr={};for(var Gr in Vr)if(Vr.hasOwnProperty(Gr)){var Wr=Be.getModel(["rich",Gr]);setTokenTextStyle(jr[Gr]={},Wr,zr,Dr,Mr,$r,!1,!0)}}jr&&(_r.rich=jr);var Kr=Be.get("overflow");Kr&&(_r.overflow=Kr);var Zr=Be.get("minMargin");Zr!=null&&(_r.margin=Zr),setTokenTextStyle(_r,Be,zr,Dr,Mr,$r,!0,!1)}function getRichItemNames(_r){for(var Be;_r&&_r!==_r.ecModel;){var Dr=(_r.option||EMPTY_OBJ).rich;if(Dr){Be=Be||{};for(var Mr=keys(Dr),$r=0;$r<Mr.length;$r++){var Br=Mr[$r];Be[Br]=1}}_r=_r.parentModel}return Be}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(_r,Be,Dr,Mr,$r,Br,zr,Vr){Dr=!$r&&Dr||EMPTY_OBJ;var jr=Mr&&Mr.inheritColor,Gr=Be.getShallow("color"),Wr=Be.getShallow("textBorderColor"),Kr=retrieve2(Be.getShallow("opacity"),Dr.opacity);(Gr==="inherit"||Gr==="auto")&&(jr?Gr=jr:Gr=null),(Wr==="inherit"||Wr==="auto")&&(jr?Wr=jr:Wr=null),Br||(Gr=Gr||Dr.color,Wr=Wr||Dr.textBorderColor),Gr!=null&&(_r.fill=Gr),Wr!=null&&(_r.stroke=Wr);var Zr=retrieve2(Be.getShallow("textBorderWidth"),Dr.textBorderWidth);Zr!=null&&(_r.lineWidth=Zr);var Jr=retrieve2(Be.getShallow("textBorderType"),Dr.textBorderType);Jr!=null&&(_r.lineDash=Jr);var rn=retrieve2(Be.getShallow("textBorderDashOffset"),Dr.textBorderDashOffset);rn!=null&&(_r.lineDashOffset=rn),!$r&&Kr==null&&!Vr&&(Kr=Mr&&Mr.defaultOpacity),Kr!=null&&(_r.opacity=Kr),!$r&&!Br&&_r.fill==null&&Mr.inheritColor&&(_r.fill=Mr.inheritColor);for(var nn=0;nn<TEXT_PROPS_WITH_GLOBAL.length;nn++){var ln=TEXT_PROPS_WITH_GLOBAL[nn],cn=retrieve2(Be.getShallow(ln),Dr[ln]);cn!=null&&(_r[ln]=cn)}for(var nn=0;nn<TEXT_PROPS_SELF.length;nn++){var ln=TEXT_PROPS_SELF[nn],cn=Be.getShallow(ln);cn!=null&&(_r[ln]=cn)}if(_r.verticalAlign==null){var hn=Be.getShallow("baseline");hn!=null&&(_r.verticalAlign=hn)}if(!zr||!Mr.disableBox){for(var nn=0;nn<TEXT_PROPS_BOX.length;nn++){var ln=TEXT_PROPS_BOX[nn],cn=Be.getShallow(ln);cn!=null&&(_r[ln]=cn)}var mn=Be.getShallow("borderType");mn!=null&&(_r.borderDash=mn),(_r.backgroundColor==="auto"||_r.backgroundColor==="inherit")&&jr&&(_r.backgroundColor=jr),(_r.borderColor==="auto"||_r.borderColor==="inherit")&&jr&&(_r.borderColor=jr)}}function getFont(_r,Be){var Dr=Be&&Be.getModel("textStyle");return trim$1([_r.fontStyle||Dr&&Dr.getShallow("fontStyle")||"",_r.fontWeight||Dr&&Dr.getShallow("fontWeight")||"",(_r.fontSize||Dr&&Dr.getShallow("fontSize")||12)+"px",_r.fontFamily||Dr&&Dr.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(_r,Be,Dr,Mr){if(_r){var $r=labelInner(_r);$r.prevValue=$r.value,$r.value=Dr;var Br=Be.normal;$r.valueAnimation=Br.get("valueAnimation"),$r.valueAnimation&&($r.precision=Br.get("precision"),$r.defaultInterpolatedText=Mr,$r.statesModels=Be)}}function animateLabelValue(_r,Be,Dr,Mr,$r){var Br=labelInner(_r);if(!Br.valueAnimation||Br.prevValue===Br.value)return;var zr=Br.defaultInterpolatedText,Vr=retrieve2(Br.interpolatedValue,Br.prevValue),jr=Br.value;function Gr(Wr){var Kr=interpolateRawValues(Dr,Br.precision,Vr,jr,Wr);Br.interpolatedValue=Wr===1?null:Kr;var Zr=getLabelText({labelDataIndex:Be,labelFetcher:$r,defaultText:zr?zr(Kr):Kr+""},Br.statesModels,Kr);setLabelText(_r,Zr)}_r.percent=0,(Br.prevValue==null?initProps:updateProps$1)(_r,{percent:1},Mr,Be,null,Gr)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function _r(){}return _r.prototype.getTextColor=function(Be){var Dr=this.ecModel;return this.getShallow("color")||(!Be&&Dr?Dr.get(PATH_COLOR):null)},_r.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},_r.prototype.getTextRect=function(Be){for(var Dr={text:Be,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},Mr=0;Mr<textStyleParams.length;Mr++)Dr[textStyleParams[Mr]]=this.getShallow(textStyleParams[Mr]);return tmpText.useStyle(Dr),tmpText.update(),tmpText.getBoundingRect()},_r}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function _r(){}return _r.prototype.getLineStyle=function(Be){return getLineStyle(this,Be)},_r}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function _r(){}return _r.prototype.getItemStyle=function(Be,Dr){return getItemStyle(this,Be,Dr)},_r}(),Model=function(){function _r(Be,Dr,Mr){this.parentModel=Dr,this.ecModel=Mr,this.option=Be}return _r.prototype.init=function(Be,Dr,Mr){},_r.prototype.mergeOption=function(Be,Dr){merge(this.option,Be,!0)},_r.prototype.get=function(Be,Dr){return Be==null?this.option:this._doGet(this.parsePath(Be),!Dr&&this.parentModel)},_r.prototype.getShallow=function(Be,Dr){var Mr=this.option,$r=Mr==null?Mr:Mr[Be];if($r==null&&!Dr){var Br=this.parentModel;Br&&($r=Br.getShallow(Be))}return $r},_r.prototype.getModel=function(Be,Dr){var Mr=Be!=null,$r=Mr?this.parsePath(Be):null,Br=Mr?this._doGet($r):this.option;return Dr=Dr||this.parentModel&&this.parentModel.getModel(this.resolveParentPath($r)),new _r(Br,Dr,this.ecModel)},_r.prototype.isEmpty=function(){return this.option==null},_r.prototype.restoreData=function(){},_r.prototype.clone=function(){var Be=this.constructor;return new Be(clone$4(this.option))},_r.prototype.parsePath=function(Be){return typeof Be=="string"?Be.split("."):Be},_r.prototype.resolveParentPath=function(Be){return Be},_r.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},_r.prototype._doGet=function(Be,Dr){var Mr=this.option;if(!Be)return Mr;for(var $r=0;$r<Be.length&&!(Be[$r]&&(Mr=Mr&&typeof Mr=="object"?Mr[Be[$r]]:null,Mr==null));$r++);return Mr==null&&Dr&&(Mr=Dr._doGet(this.resolveParentPath(Be),Dr.parentModel)),Mr},_r}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(_r){return[_r||"",base++].join("_")}function enableSubTypeDefaulter(_r){var Be={};_r.registerSubTypeDefaulter=function(Dr,Mr){var $r=parseClassType(Dr);Be[$r.main]=Mr},_r.determineSubType=function(Dr,Mr){var $r=Mr.type;if(!$r){var Br=parseClassType(Dr).main;_r.hasSubTypes(Dr)&&Be[Br]&&($r=Be[Br](Mr))}return $r}}function enableTopologicalTravel(_r,Be){_r.topologicalTravel=function(Br,zr,Vr,jr){if(!Br.length)return;var Gr=Dr(zr),Wr=Gr.graph,Kr=Gr.noEntryList,Zr={};for(each$f(Br,function(hn){Zr[hn]=!0});Kr.length;){var Jr=Kr.pop(),rn=Wr[Jr],nn=!!Zr[Jr];nn&&(Vr.call(jr,Jr,rn.originalDeps.slice()),delete Zr[Jr]),each$f(rn.successor,nn?cn:ln)}each$f(Zr,function(){var hn="";throw new Error(hn)});function ln(hn){Wr[hn].entryCount--,Wr[hn].entryCount===0&&Kr.push(hn)}function cn(hn){Zr[hn]=!0,ln(hn)}};function Dr(Br){var zr={},Vr=[];return each$f(Br,function(jr){var Gr=Mr(zr,jr),Wr=Gr.originalDeps=Be(jr),Kr=$r(Wr,Br);Gr.entryCount=Kr.length,Gr.entryCount===0&&Vr.push(jr),each$f(Kr,function(Zr){indexOf(Gr.predecessor,Zr)<0&&Gr.predecessor.push(Zr);var Jr=Mr(zr,Zr);indexOf(Jr.successor,Zr)<0&&Jr.successor.push(jr)})}),{graph:zr,noEntryList:Vr}}function Mr(Br,zr){return Br[zr]||(Br[zr]={predecessor:[],successor:[]}),Br[zr]}function $r(Br,zr){var Vr=[];return each$f(Br,function(jr){indexOf(zr,jr)>=0&&Vr.push(jr)}),Vr}}function inheritDefaultOption(_r,Be){return merge(merge({},_r,!0),Be,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],monthAbbr:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],dayOfWeek:["æææ¥","ææä¸","ææäº","ææä¸","ææå","ææäº","ææå­"],dayOfWeekAbbr:["æ¥","ä¸","äº","ä¸","å","äº","å­"]},legend:{selector:{all:"å¨é",inverse:"åé"}},toolbox:{brush:{title:{rect:"ç©å½¢éæ©",polygon:"åé",lineX:"æ¨ªåéæ©",lineY:"çºµåéæ©",keep:"ä¿æéæ©",clear:"æ¸é¤éæ©"}},dataView:{title:"æ°æ®è§å¾",lang:["æ°æ®è§å¾","å³é­","å·æ°"]},dataZoom:{title:{zoom:"åºåç¼©æ¾",back:"åºåç¼©æ¾è¿å"}},magicType:{title:{line:"åæ¢ä¸ºæçº¿å¾",bar:"åæ¢ä¸ºæ±ç¶å¾",stack:"åæ¢ä¸ºå å ",tiled:"åæ¢ä¸ºå¹³éº"}},restore:{title:"è¿å"},saveAsImage:{title:"ä¿å­ä¸ºå¾ç",lang:["å³é®å¦å­ä¸ºå¾ç"]}},series:{typeNames:{pie:"é¥¼å¾",bar:"æ±ç¶å¾",line:"æçº¿å¾",scatter:"æ£ç¹å¾",effectScatter:"æ¶æ¼ªæ£ç¹å¾",radar:"é·è¾¾å¾",tree:"æ å¾",treemap:"ç©å½¢æ å¾",boxplot:"ç®±åå¾",candlestick:"Kçº¿å¾",k:"Kçº¿å¾",heatmap:"ç­åå¾",map:"å°å¾",parallel:"å¹³è¡åæ å¾",lines:"çº¿å¾",graph:"å³ç³»å¾",sankey:"æ¡åºå¾",funnel:"æ¼æå¾",gauge:"ä»ªè¡¨çå¾",pictorialBar:"è±¡å½¢æ±å¾",themeRiver:"ä¸»é¢æ²³æµå¾",sunburst:"æ­æ¥å¾"}},aria:{general:{withTitle:"è¿æ¯ä¸ä¸ªå³äºâ{title}âçå¾è¡¨ã",withoutTitle:"è¿æ¯ä¸ä¸ªå¾è¡¨ï¼"},series:{single:{prefix:"",withName:"å¾è¡¨ç±»åæ¯{seriesType}ï¼è¡¨ç¤º{seriesName}ã",withoutName:"å¾è¡¨ç±»åæ¯{seriesType}ã"},multiple:{prefix:"å®ç±{seriesCount}ä¸ªå¾è¡¨ç³»åç»æã",withName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ªè¡¨ç¤º{seriesName}ç{seriesType}ï¼",withoutName:"ç¬¬{seriesId}ä¸ªç³»åæ¯ä¸ä¸ª{seriesType}ï¼",separator:{middle:"ï¼",end:"ã"}}},data:{allData:"å¶æ°æ®æ¯ââ",partialData:"å¶ä¸­ï¼å{displayCnt}é¡¹æ¯ââ",withName:"{name}çæ°æ®æ¯{value}",withoutName:"{value}",separator:{middle:"ï¼",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var _r=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return _r.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(_r,Be){_r=_r.toUpperCase(),localeModels[_r]=new Model$1(Be),localeStorage[_r]=Be}function createLocaleObject(_r){if(isString(_r)){var Be=localeStorage[_r.toUpperCase()]||{};return _r===LOCALE_ZH||_r===LOCALE_EN?clone$4(Be):merge(clone$4(Be),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(_r),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(_r){return localeModels[_r]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(_r,Be){return _r+="","0000".substr(0,Be-_r.length)+_r}function getPrimaryTimeUnit(_r){switch(_r){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return _r}}function isPrimaryTimeUnit(_r){return _r===getPrimaryTimeUnit(_r)}function getDefaultFormatPrecisionOfInterval(_r){switch(_r){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format$1(_r,Be,Dr,Mr){var $r=parseDate(_r),Br=$r[fullYearGetterName(Dr)](),zr=$r[monthGetterName(Dr)]()+1,Vr=Math.floor((zr-1)/3)+1,jr=$r[dateGetterName(Dr)](),Gr=$r["get"+(Dr?"UTC":"")+"Day"](),Wr=$r[hoursGetterName(Dr)](),Kr=(Wr-1)%12+1,Zr=$r[minutesGetterName(Dr)](),Jr=$r[secondsGetterName(Dr)](),rn=$r[millisecondsGetterName(Dr)](),nn=Mr instanceof Model$1?Mr:getLocaleModel(Mr||SYSTEM_LANG)||getDefaultLocaleModel(),ln=nn.getModel("time"),cn=ln.get("month"),hn=ln.get("monthAbbr"),mn=ln.get("dayOfWeek"),bn=ln.get("dayOfWeekAbbr");return(Be||"").replace(/{yyyy}/g,Br+"").replace(/{yy}/g,pad(Br%100+"",2)).replace(/{Q}/g,Vr+"").replace(/{MMMM}/g,cn[zr-1]).replace(/{MMM}/g,hn[zr-1]).replace(/{MM}/g,pad(zr,2)).replace(/{M}/g,zr+"").replace(/{dd}/g,pad(jr,2)).replace(/{d}/g,jr+"").replace(/{eeee}/g,mn[Gr]).replace(/{ee}/g,bn[Gr]).replace(/{e}/g,Gr+"").replace(/{HH}/g,pad(Wr,2)).replace(/{H}/g,Wr+"").replace(/{hh}/g,pad(Kr+"",2)).replace(/{h}/g,Kr+"").replace(/{mm}/g,pad(Zr,2)).replace(/{m}/g,Zr+"").replace(/{ss}/g,pad(Jr,2)).replace(/{s}/g,Jr+"").replace(/{SSS}/g,pad(rn,3)).replace(/{S}/g,rn+"")}function leveledFormat(_r,Be,Dr,Mr,$r){var Br=null;if(isString(Dr))Br=Dr;else if(isFunction(Dr))Br=Dr(_r.value,Be,{level:_r.level});else{var zr=extend$1({},defaultLeveledFormatter);if(_r.level>0)for(var Vr=0;Vr<primaryTimeUnits.length;++Vr)zr[primaryTimeUnits[Vr]]="{primary|"+zr[primaryTimeUnits[Vr]]+"}";var jr=Dr?Dr.inherit===!1?Dr:defaults(Dr,zr):zr,Gr=getUnitFromValue(_r.value,$r);if(jr[Gr])Br=jr[Gr];else if(jr.inherit){for(var Wr=timeUnits.indexOf(Gr),Vr=Wr-1;Vr>=0;--Vr)if(jr[Gr]){Br=jr[Gr];break}Br=Br||zr.none}if(isArray$1(Br)){var Kr=_r.level==null?0:_r.level>=0?_r.level:Br.length+_r.level;Kr=Math.min(Kr,Br.length-1),Br=Br[Kr]}}return format$1(new Date(_r.value),Br,$r,Mr)}function getUnitFromValue(_r,Be){var Dr=parseDate(_r),Mr=Dr[monthGetterName(Be)]()+1,$r=Dr[dateGetterName(Be)](),Br=Dr[hoursGetterName(Be)](),zr=Dr[minutesGetterName(Be)](),Vr=Dr[secondsGetterName(Be)](),jr=Dr[millisecondsGetterName(Be)](),Gr=jr===0,Wr=Gr&&Vr===0,Kr=Wr&&zr===0,Zr=Kr&&Br===0,Jr=Zr&&$r===1,rn=Jr&&Mr===1;return rn?"year":Jr?"month":Zr?"day":Kr?"hour":Wr?"minute":Gr?"second":"millisecond"}function getUnitValue(_r,Be,Dr){var Mr=isNumber(_r)?parseDate(_r):_r;switch(Be=Be||getUnitFromValue(_r,Dr),Be){case"year":return Mr[fullYearGetterName(Dr)]();case"half-year":return Mr[monthGetterName(Dr)]()>=6?1:0;case"quarter":return Math.floor((Mr[monthGetterName(Dr)]()+1)/4);case"month":return Mr[monthGetterName(Dr)]();case"day":return Mr[dateGetterName(Dr)]();case"half-day":return Mr[hoursGetterName(Dr)]()/24;case"hour":return Mr[hoursGetterName(Dr)]();case"minute":return Mr[minutesGetterName(Dr)]();case"second":return Mr[secondsGetterName(Dr)]();case"millisecond":return Mr[millisecondsGetterName(Dr)]()}}function fullYearGetterName(_r){return _r?"getUTCFullYear":"getFullYear"}function monthGetterName(_r){return _r?"getUTCMonth":"getMonth"}function dateGetterName(_r){return _r?"getUTCDate":"getDate"}function hoursGetterName(_r){return _r?"getUTCHours":"getHours"}function minutesGetterName(_r){return _r?"getUTCMinutes":"getMinutes"}function secondsGetterName(_r){return _r?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(_r){return _r?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(_r){return _r?"setUTCFullYear":"setFullYear"}function monthSetterName(_r){return _r?"setUTCMonth":"setMonth"}function dateSetterName(_r){return _r?"setUTCDate":"setDate"}function hoursSetterName(_r){return _r?"setUTCHours":"setHours"}function minutesSetterName(_r){return _r?"setUTCMinutes":"setMinutes"}function secondsSetterName(_r){return _r?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(_r){return _r?"setUTCMilliseconds":"setMilliseconds"}function getTextRect(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr=new ZRText$1({style:{text:_r,font:Be,align:Dr,verticalAlign:Mr,padding:$r,rich:Br,overflow:zr?"truncate":null,lineHeight:Vr}});return jr.getBoundingRect()}function addCommas(_r){if(!isNumeric(_r))return isString(_r)?_r:"-";var Be=(_r+"").split(".");return Be[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(Be.length>1?"."+Be[1]:"")}function toCamelCase(_r,Be){return _r=(_r||"").toLowerCase().replace(/-(.)/g,function(Dr,Mr){return Mr.toUpperCase()}),Be&&_r&&(_r=_r.charAt(0).toUpperCase()+_r.slice(1)),_r}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(_r,Be,Dr){var Mr="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function $r(Wr){return Wr&&trim$1(Wr)?Wr:"-"}function Br(Wr){return!!(Wr!=null&&!isNaN(Wr)&&isFinite(Wr))}var zr=Be==="time",Vr=_r instanceof Date;if(zr||Vr){var jr=zr?parseDate(_r):_r;if(isNaN(+jr)){if(Vr)return"-"}else return format$1(jr,Mr,Dr)}if(Be==="ordinal")return isStringSafe(_r)?$r(_r):isNumber(_r)&&Br(_r)?_r+"":"-";var Gr=numericToNumber(_r);return Br(Gr)?addCommas(Gr):isStringSafe(_r)?$r(_r):typeof _r=="boolean"?_r+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(_r,Be){return"{"+_r+(Be??"")+"}"};function formatTpl(_r,Be,Dr){isArray$1(Be)||(Be=[Be]);var Mr=Be.length;if(!Mr)return"";for(var $r=Be[0].$vars||[],Br=0;Br<$r.length;Br++){var zr=TPL_VAR_ALIAS[Br];_r=_r.replace(wrapVar(zr),wrapVar(zr,0))}for(var Vr=0;Vr<Mr;Vr++)for(var jr=0;jr<$r.length;jr++){var Gr=Be[Vr][$r[jr]];_r=_r.replace(wrapVar(TPL_VAR_ALIAS[jr],Vr),Dr?encodeHTML(Gr):Gr)}return _r}function formatTplSimple(_r,Be,Dr){return each$f(Be,function(Mr,$r){_r=_r.replace("{"+$r+"}",Dr?encodeHTML(Mr):Mr)}),_r}function getTooltipMarker(_r,Be){var Dr=isString(_r)?{color:_r,extraCssText:Be}:_r||{},Mr=Dr.color,$r=Dr.type;Be=Dr.extraCssText;var Br=Dr.renderMode||"html";if(!Mr)return"";if(Br==="html")return $r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(Mr)+";"+(Be||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(Mr)+";"+(Be||"")+'"></span>';var zr=Dr.markerId||"markerX";return{renderMode:Br,content:"{"+zr+"|}  ",style:$r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:Mr}:{width:10,height:10,borderRadius:5,backgroundColor:Mr}}}function formatTime(_r,Be,Dr){(_r==="week"||_r==="month"||_r==="quarter"||_r==="half-year"||_r==="year")&&(_r=`MM-dd
yyyy`);var Mr=parseDate(Be),$r=Dr?"getUTC":"get",Br=Mr[$r+"FullYear"](),zr=Mr[$r+"Month"]()+1,Vr=Mr[$r+"Date"](),jr=Mr[$r+"Hours"](),Gr=Mr[$r+"Minutes"](),Wr=Mr[$r+"Seconds"](),Kr=Mr[$r+"Milliseconds"]();return _r=_r.replace("MM",pad(zr,2)).replace("M",zr).replace("yyyy",Br).replace("yy",pad(Br%100+"",2)).replace("dd",pad(Vr,2)).replace("d",Vr).replace("hh",pad(jr,2)).replace("h",jr).replace("mm",pad(Gr,2)).replace("m",Gr).replace("ss",pad(Wr,2)).replace("s",Wr).replace("SSS",pad(Kr,3)),_r}function capitalFirst(_r){return _r&&_r.charAt(0).toUpperCase()+_r.substr(1)}function convertToColorString(_r,Be){return Be=Be||"transparent",isString(_r)?_r:isObject$3(_r)&&_r.colorStops&&(_r.colorStops[0]||{}).color||Be}function windowOpen(_r,Be){if(Be==="_blank"||Be==="blank"){var Dr=window.open();Dr.opener=null,Dr.location.href=_r}else window.open(_r,Be)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(_r,Be,Dr,Mr,$r){var Br=0,zr=0;Mr==null&&(Mr=1/0),$r==null&&($r=1/0);var Vr=0;Be.eachChild(function(jr,Gr){var Wr=jr.getBoundingRect(),Kr=Be.childAt(Gr+1),Zr=Kr&&Kr.getBoundingRect(),Jr,rn;if(_r==="horizontal"){var nn=Wr.width+(Zr?-Zr.x+Wr.x:0);Jr=Br+nn,Jr>Mr||jr.newline?(Br=0,Jr=nn,zr+=Vr+Dr,Vr=Wr.height):Vr=Math.max(Vr,Wr.height)}else{var ln=Wr.height+(Zr?-Zr.y+Wr.y:0);rn=zr+ln,rn>$r||jr.newline?(Br+=Vr+Dr,zr=0,rn=ln,Vr=Wr.width):Vr=Math.max(Vr,Wr.width)}jr.newline||(jr.x=Br,jr.y=zr,jr.markRedraw(),_r==="horizontal"?Br=Jr+Dr:zr=rn+Dr)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(_r,Be,Dr){var Mr=Be.width,$r=Be.height,Br=parsePercent(_r.left,Mr),zr=parsePercent(_r.top,$r),Vr=parsePercent(_r.right,Mr),jr=parsePercent(_r.bottom,$r);return(isNaN(Br)||isNaN(parseFloat(_r.left)))&&(Br=0),(isNaN(Vr)||isNaN(parseFloat(_r.right)))&&(Vr=Mr),(isNaN(zr)||isNaN(parseFloat(_r.top)))&&(zr=0),(isNaN(jr)||isNaN(parseFloat(_r.bottom)))&&(jr=$r),Dr=normalizeCssArray(Dr||0),{width:Math.max(Vr-Br-Dr[1]-Dr[3],0),height:Math.max(jr-zr-Dr[0]-Dr[2],0)}}function getLayoutRect(_r,Be,Dr){Dr=normalizeCssArray(Dr||0);var Mr=Be.width,$r=Be.height,Br=parsePercent(_r.left,Mr),zr=parsePercent(_r.top,$r),Vr=parsePercent(_r.right,Mr),jr=parsePercent(_r.bottom,$r),Gr=parsePercent(_r.width,Mr),Wr=parsePercent(_r.height,$r),Kr=Dr[2]+Dr[0],Zr=Dr[1]+Dr[3],Jr=_r.aspect;switch(isNaN(Gr)&&(Gr=Mr-Vr-Zr-Br),isNaN(Wr)&&(Wr=$r-jr-Kr-zr),Jr!=null&&(isNaN(Gr)&&isNaN(Wr)&&(Jr>Mr/$r?Gr=Mr*.8:Wr=$r*.8),isNaN(Gr)&&(Gr=Jr*Wr),isNaN(Wr)&&(Wr=Gr/Jr)),isNaN(Br)&&(Br=Mr-Vr-Gr-Zr),isNaN(zr)&&(zr=$r-jr-Wr-Kr),_r.left||_r.right){case"center":Br=Mr/2-Gr/2-Dr[3];break;case"right":Br=Mr-Gr-Zr;break}switch(_r.top||_r.bottom){case"middle":case"center":zr=$r/2-Wr/2-Dr[0];break;case"bottom":zr=$r-Wr-Kr;break}Br=Br||0,zr=zr||0,isNaN(Gr)&&(Gr=Mr-Zr-Br-(Vr||0)),isNaN(Wr)&&(Wr=$r-Kr-zr-(jr||0));var rn=new BoundingRect$1(Br+Dr[3],zr+Dr[0],Gr,Wr);return rn.margin=Dr,rn}function positionElement(_r,Be,Dr,Mr,$r,Br){var zr=!$r||!$r.hv||$r.hv[0],Vr=!$r||!$r.hv||$r.hv[1],jr=$r&&$r.boundingMode||"all";if(Br=Br||_r,Br.x=_r.x,Br.y=_r.y,!zr&&!Vr)return!1;var Gr;if(jr==="raw")Gr=_r.type==="group"?new BoundingRect$1(0,0,+Be.width||0,+Be.height||0):_r.getBoundingRect();else if(Gr=_r.getBoundingRect(),_r.needLocalTransform()){var Wr=_r.getLocalTransform();Gr=Gr.clone(),Gr.applyTransform(Wr)}var Kr=getLayoutRect(defaults({width:Gr.width,height:Gr.height},Be),Dr,Mr),Zr=zr?Kr.x-Gr.x:0,Jr=Vr?Kr.y-Gr.y:0;return jr==="raw"?(Br.x=Zr,Br.y=Jr):(Br.x+=Zr,Br.y+=Jr),Br===_r&&_r.markRedraw(),!0}function sizeCalculable(_r,Be){return _r[HV_NAMES[Be][0]]!=null||_r[HV_NAMES[Be][1]]!=null&&_r[HV_NAMES[Be][2]]!=null}function fetchLayoutMode(_r){var Be=_r.layoutMode||_r.constructor.layoutMode;return isObject$3(Be)?Be:Be?{type:Be}:null}function mergeLayoutParam(_r,Be,Dr){var Mr=Dr&&Dr.ignoreSize;!isArray$1(Mr)&&(Mr=[Mr,Mr]);var $r=zr(HV_NAMES[0],0),Br=zr(HV_NAMES[1],1);Gr(HV_NAMES[0],_r,$r),Gr(HV_NAMES[1],_r,Br);function zr(Wr,Kr){var Zr={},Jr=0,rn={},nn=0,ln=2;if(each$e(Wr,function(mn){rn[mn]=_r[mn]}),each$e(Wr,function(mn){Vr(Be,mn)&&(Zr[mn]=rn[mn]=Be[mn]),jr(Zr,mn)&&Jr++,jr(rn,mn)&&nn++}),Mr[Kr])return jr(Be,Wr[1])?rn[Wr[2]]=null:jr(Be,Wr[2])&&(rn[Wr[1]]=null),rn;if(nn===ln||!Jr)return rn;if(Jr>=ln)return Zr;for(var cn=0;cn<Wr.length;cn++){var hn=Wr[cn];if(!Vr(Zr,hn)&&Vr(_r,hn)){Zr[hn]=_r[hn];break}}return Zr}function Vr(Wr,Kr){return Wr.hasOwnProperty(Kr)}function jr(Wr,Kr){return Wr[Kr]!=null&&Wr[Kr]!=="auto"}function Gr(Wr,Kr,Zr){each$e(Wr,function(Jr){Kr[Jr]=Zr[Jr]})}}function getLayoutParams(_r){return copyLayoutParams({},_r)}function copyLayoutParams(_r,Be){return Be&&_r&&each$e(LOCATION_PARAMS,function(Dr){Be.hasOwnProperty(Dr)&&(_r[Dr]=Be[Dr])}),_r}var inner$l=makeInner(),ComponentModel=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this,Dr,Mr,$r)||this;return Br.uid=getUID("ec_cpt_model"),Br}return Be.prototype.init=function(Dr,Mr,$r){this.mergeDefaultAndTheme(Dr,$r)},Be.prototype.mergeDefaultAndTheme=function(Dr,Mr){var $r=fetchLayoutMode(this),Br=$r?getLayoutParams(Dr):{},zr=Mr.getTheme();merge(Dr,zr.get(this.mainType)),merge(Dr,this.getDefaultOption()),$r&&mergeLayoutParam(Dr,Br,$r)},Be.prototype.mergeOption=function(Dr,Mr){merge(this.option,Dr,!0);var $r=fetchLayoutMode(this);$r&&mergeLayoutParam(this.option,Dr,$r)},Be.prototype.optionUpdated=function(Dr,Mr){},Be.prototype.getDefaultOption=function(){var Dr=this.constructor;if(!isExtendedClass(Dr))return Dr.defaultOption;var Mr=inner$l(this);if(!Mr.defaultOption){for(var $r=[],Br=Dr;Br;){var zr=Br.prototype.defaultOption;zr&&$r.push(zr),Br=Br.superClass}for(var Vr={},jr=$r.length-1;jr>=0;jr--)Vr=merge(Vr,$r[jr],!0);Mr.defaultOption=Vr}return Mr.defaultOption},Be.prototype.getReferringComponents=function(Dr,Mr){var $r=Dr+"Index",Br=Dr+"Id";return queryReferringComponents(this.ecModel,Dr,{index:this.get($r,!0),id:this.get(Br,!0)},Mr)},Be.prototype.getBoxLayoutParams=function(){var Dr=this;return{left:Dr.get("left"),top:Dr.get("top"),right:Dr.get("right"),bottom:Dr.get("bottom"),width:Dr.get("width"),height:Dr.get("height")}},Be.prototype.getZLevelKey=function(){return""},Be.prototype.setZLevel=function(Dr){this.option.zlevel=Dr},Be.protoInitialize=function(){var Dr=Be.prototype;Dr.type="component",Dr.id="",Dr.name="",Dr.mainType="",Dr.subType="",Dr.componentIndex=0}(),Be}(Model$1);mountExtend(ComponentModel,Model$1);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(_r){var Be=[];return each$f(ComponentModel.getClassesByMainType(_r),function(Dr){Be=Be.concat(Dr.dependencies||Dr.prototype.dependencies||[])}),Be=map$1(Be,function(Dr){return parseClassType(Dr).main}),_r!=="dataset"&&indexOf(Be,"dataset")<=0&&Be.unshift("dataset"),Be}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(_r){innerGlobalModel(_r).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(_r,Be,Dr){var Mr={},$r=querySeriesUpstreamDatasetModel(Be);if(!$r||!_r)return Mr;var Br=[],zr=[],Vr=Be.ecModel,jr=innerGlobalModel(Vr).datasetMap,Gr=$r.uid+"_"+Dr.seriesLayoutBy,Wr,Kr;_r=_r.slice(),each$f(_r,function(nn,ln){var cn=isObject$3(nn)?nn:_r[ln]={name:nn};cn.type==="ordinal"&&Wr==null&&(Wr=ln,Kr=rn(cn)),Mr[cn.name]=[]});var Zr=jr.get(Gr)||jr.set(Gr,{categoryWayDim:Kr,valueWayDim:0});each$f(_r,function(nn,ln){var cn=nn.name,hn=rn(nn);if(Wr==null){var mn=Zr.valueWayDim;Jr(Mr[cn],mn,hn),Jr(zr,mn,hn),Zr.valueWayDim+=hn}else if(Wr===ln)Jr(Mr[cn],0,hn),Jr(Br,0,hn);else{var mn=Zr.categoryWayDim;Jr(Mr[cn],mn,hn),Jr(zr,mn,hn),Zr.categoryWayDim+=hn}});function Jr(nn,ln,cn){for(var hn=0;hn<cn;hn++)nn.push(ln+hn)}function rn(nn){var ln=nn.dimsDef;return ln?ln.length:1}return Br.length&&(Mr.itemName=Br),zr.length&&(Mr.seriesName=zr),Mr}function makeSeriesEncodeForNameBased(_r,Be,Dr){var Mr={},$r=querySeriesUpstreamDatasetModel(_r);if(!$r)return Mr;var Br=Be.sourceFormat,zr=Be.dimensionsDefine,Vr;(Br===SOURCE_FORMAT_OBJECT_ROWS||Br===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(zr,function(Wr,Kr){(isObject$3(Wr)?Wr.name:Wr)==="name"&&(Vr=Kr)});var jr=function(){for(var Wr={},Kr={},Zr=[],Jr=0,rn=Math.min(5,Dr);Jr<rn;Jr++){var nn=doGuessOrdinal(Be.data,Br,Be.seriesLayoutBy,zr,Be.startIndex,Jr);Zr.push(nn);var ln=nn===BE_ORDINAL.Not;if(ln&&Wr.v==null&&Jr!==Vr&&(Wr.v=Jr),(Wr.n==null||Wr.n===Wr.v||!ln&&Zr[Wr.n]===BE_ORDINAL.Not)&&(Wr.n=Jr),cn(Wr)&&Zr[Wr.n]!==BE_ORDINAL.Not)return Wr;ln||(nn===BE_ORDINAL.Might&&Kr.v==null&&Jr!==Vr&&(Kr.v=Jr),(Kr.n==null||Kr.n===Kr.v)&&(Kr.n=Jr))}function cn(hn){return hn.v!=null&&hn.n!=null}return cn(Wr)?Wr:cn(Kr)?Kr:null}();if(jr){Mr.value=[jr.v];var Gr=Vr??jr.n;Mr.itemName=[Gr],Mr.seriesName=[Gr]}return Mr}function querySeriesUpstreamDatasetModel(_r){var Be=_r.get("data",!0);if(!Be)return queryReferringComponents(_r.ecModel,"dataset",{index:_r.get("datasetIndex",!0),id:_r.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(_r){return!_r.get("transform",!0)&&!_r.get("fromTransformResult",!0)?[]:queryReferringComponents(_r.ecModel,"dataset",{index:_r.get("fromDatasetIndex",!0),id:_r.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(_r,Be){return doGuessOrdinal(_r.data,_r.sourceFormat,_r.seriesLayoutBy,_r.dimensionsDefine,_r.startIndex,Be)}function doGuessOrdinal(_r,Be,Dr,Mr,$r,Br){var zr,Vr=5;if(isTypedArray(_r))return BE_ORDINAL.Not;var jr,Gr;if(Mr){var Wr=Mr[Br];isObject$3(Wr)?(jr=Wr.name,Gr=Wr.type):isString(Wr)&&(jr=Wr)}if(Gr!=null)return Gr==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(Be===SOURCE_FORMAT_ARRAY_ROWS){var Kr=_r;if(Dr===SERIES_LAYOUT_BY_ROW){for(var Zr=Kr[Br],Jr=0;Jr<(Zr||[]).length&&Jr<Vr;Jr++)if((zr=bn(Zr[$r+Jr]))!=null)return zr}else for(var Jr=0;Jr<Kr.length&&Jr<Vr;Jr++){var rn=Kr[$r+Jr];if(rn&&(zr=bn(rn[Br]))!=null)return zr}}else if(Be===SOURCE_FORMAT_OBJECT_ROWS){var nn=_r;if(!jr)return BE_ORDINAL.Not;for(var Jr=0;Jr<nn.length&&Jr<Vr;Jr++){var ln=nn[Jr];if(ln&&(zr=bn(ln[jr]))!=null)return zr}}else if(Be===SOURCE_FORMAT_KEYED_COLUMNS){var cn=_r;if(!jr)return BE_ORDINAL.Not;var Zr=cn[jr];if(!Zr||isTypedArray(Zr))return BE_ORDINAL.Not;for(var Jr=0;Jr<Zr.length&&Jr<Vr;Jr++)if((zr=bn(Zr[Jr]))!=null)return zr}else if(Be===SOURCE_FORMAT_ORIGINAL)for(var hn=_r,Jr=0;Jr<hn.length&&Jr<Vr;Jr++){var ln=hn[Jr],mn=getDataItemValue(ln);if(!isArray$1(mn))return BE_ORDINAL.Not;if((zr=bn(mn[Br]))!=null)return zr}function bn(An){var vn=isString(An);if(An!=null&&isFinite(An)&&An!=="")return vn?BE_ORDINAL.Might:BE_ORDINAL.Not;if(vn&&An!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(_r,Be){assert(internalOptionCreatorMap.get(_r)==null&&Be),internalOptionCreatorMap.set(_r,Be)}function concatInternalOptions(_r,Be,Dr){var Mr=internalOptionCreatorMap.get(Be);if(!Mr)return Dr;var $r=Mr(_r);return $r?Dr.concat($r):Dr}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function _r(){}return _r.prototype.getColorFromPalette=function(Be,Dr,Mr){var $r=normalizeToArray(this.get("color",!0)),Br=this.get("colorLayer",!0);return getFromPalette(this,innerColor,$r,Br,Be,Dr,Mr)},_r.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},_r}();function getDecalFromPalette(_r,Be,Dr,Mr){var $r=normalizeToArray(_r.get(["aria","decal","decals"]));return getFromPalette(_r,innerDecal,$r,null,Be,Dr,Mr)}function getNearestPalette(_r,Be){for(var Dr=_r.length,Mr=0;Mr<Dr;Mr++)if(_r[Mr].length>Be)return _r[Mr];return _r[Dr-1]}function getFromPalette(_r,Be,Dr,Mr,$r,Br,zr){Br=Br||_r;var Vr=Be(Br),jr=Vr.paletteIdx||0,Gr=Vr.paletteNameMap=Vr.paletteNameMap||{};if(Gr.hasOwnProperty($r))return Gr[$r];var Wr=zr==null||!Mr?Dr:getNearestPalette(Mr,zr);if(Wr=Wr||Dr,!(!Wr||!Wr.length)){var Kr=Wr[jr];return $r&&(Gr[$r]=Kr),Vr.paletteIdx=(jr+1)%Wr.length,Kr}}function clearPalette(_r,Be){Be(_r).paletteIdx=0,Be(_r).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.init=function(Dr,Mr,$r,Br,zr,Vr){Br=Br||{},this.option=null,this._theme=new Model$1(Br),this._locale=new Model$1(zr),this._optionManager=Vr},Be.prototype.setOption=function(Dr,Mr,$r){var Br=normalizeSetOptionInput(Mr);this._optionManager.setOption(Dr,$r,Br),this._resetOption(null,Br)},Be.prototype.resetOption=function(Dr,Mr){return this._resetOption(Dr,normalizeSetOptionInput(Mr))},Be.prototype._resetOption=function(Dr,Mr){var $r=!1,Br=this._optionManager;if(!Dr||Dr==="recreate"){var zr=Br.mountOption(Dr==="recreate");!this.option||Dr==="recreate"?initBase(this,zr):(this.restoreData(),this._mergeOption(zr,Mr)),$r=!0}if((Dr==="timeline"||Dr==="media")&&this.restoreData(),!Dr||Dr==="recreate"||Dr==="timeline"){var Vr=Br.getTimelineOption(this);Vr&&($r=!0,this._mergeOption(Vr,Mr))}if(!Dr||Dr==="recreate"||Dr==="media"){var jr=Br.getMediaOption(this);jr.length&&each$f(jr,function(Gr){$r=!0,this._mergeOption(Gr,Mr)},this)}return $r},Be.prototype.mergeOption=function(Dr){this._mergeOption(Dr,null)},Be.prototype._mergeOption=function(Dr,Mr){var $r=this.option,Br=this._componentsMap,zr=this._componentsCount,Vr=[],jr=createHashMap(),Gr=Mr&&Mr.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(Dr,function(Kr,Zr){Kr!=null&&(ComponentModel$1.hasClass(Zr)?Zr&&(Vr.push(Zr),jr.set(Zr,!0)):$r[Zr]=$r[Zr]==null?clone$4(Kr):merge($r[Zr],Kr,!0))}),Gr&&Gr.each(function(Kr,Zr){ComponentModel$1.hasClass(Zr)&&!jr.get(Zr)&&(Vr.push(Zr),jr.set(Zr,!0))}),ComponentModel$1.topologicalTravel(Vr,ComponentModel$1.getAllClassMainTypes(),Wr,this);function Wr(Kr){var Zr=concatInternalOptions(this,Kr,normalizeToArray(Dr[Kr])),Jr=Br.get(Kr),rn=Jr?Gr&&Gr.get(Kr)?"replaceMerge":"normalMerge":"replaceAll",nn=mappingToExists(Jr,Zr,rn);setComponentTypeToKeyInfo(nn,Kr,ComponentModel$1),$r[Kr]=null,Br.set(Kr,null),zr.set(Kr,0);var ln=[],cn=[],hn=0,mn;each$f(nn,function(bn,An){var vn=bn.existing,dn=bn.newOption;if(!dn)vn&&(vn.mergeOption({},this),vn.optionUpdated({},!1));else{var wn=Kr==="series",xn=ComponentModel$1.getClass(Kr,bn.keyInfo.subType,!wn);if(!xn)return;if(Kr==="tooltip"){if(mn)return;mn=!0}if(vn&&vn.constructor===xn)vn.name=bn.keyInfo.name,vn.mergeOption(dn,this),vn.optionUpdated(dn,!1);else{var Mn=extend$1({componentIndex:An},bn.keyInfo);vn=new xn(dn,this,this,Mn),extend$1(vn,Mn),bn.brandNew&&(vn.__requireNewView=!0),vn.init(dn,this,this),vn.optionUpdated(null,!0)}}vn?(ln.push(vn.option),cn.push(vn),hn++):(ln.push(void 0),cn.push(void 0))},this),$r[Kr]=ln,Br.set(Kr,cn),zr.set(Kr,hn),Kr==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},Be.prototype.getOption=function(){var Dr=clone$4(this.option);return each$f(Dr,function(Mr,$r){if(ComponentModel$1.hasClass($r)){for(var Br=normalizeToArray(Mr),zr=Br.length,Vr=!1,jr=zr-1;jr>=0;jr--)Br[jr]&&!isComponentIdInternal(Br[jr])?Vr=!0:(Br[jr]=null,!Vr&&zr--);Br.length=zr,Dr[$r]=Br}}),delete Dr[OPTION_INNER_KEY],Dr},Be.prototype.getTheme=function(){return this._theme},Be.prototype.getLocaleModel=function(){return this._locale},Be.prototype.setUpdatePayload=function(Dr){this._payload=Dr},Be.prototype.getUpdatePayload=function(){return this._payload},Be.prototype.getComponent=function(Dr,Mr){var $r=this._componentsMap.get(Dr);if($r){var Br=$r[Mr||0];if(Br)return Br;if(Mr==null){for(var zr=0;zr<$r.length;zr++)if($r[zr])return $r[zr]}}},Be.prototype.queryComponents=function(Dr){var Mr=Dr.mainType;if(!Mr)return[];var $r=Dr.index,Br=Dr.id,zr=Dr.name,Vr=this._componentsMap.get(Mr);if(!Vr||!Vr.length)return[];var jr;return $r!=null?(jr=[],each$f(normalizeToArray($r),function(Gr){Vr[Gr]&&jr.push(Vr[Gr])})):Br!=null?jr=queryByIdOrName("id",Br,Vr):zr!=null?jr=queryByIdOrName("name",zr,Vr):jr=filter(Vr,function(Gr){return!!Gr}),filterBySubType(jr,Dr)},Be.prototype.findComponents=function(Dr){var Mr=Dr.query,$r=Dr.mainType,Br=Vr(Mr),zr=Br?this.queryComponents(Br):filter(this._componentsMap.get($r),function(Gr){return!!Gr});return jr(filterBySubType(zr,Dr));function Vr(Gr){var Wr=$r+"Index",Kr=$r+"Id",Zr=$r+"Name";return Gr&&(Gr[Wr]!=null||Gr[Kr]!=null||Gr[Zr]!=null)?{mainType:$r,index:Gr[Wr],id:Gr[Kr],name:Gr[Zr]}:null}function jr(Gr){return Dr.filter?filter(Gr,Dr.filter):Gr}},Be.prototype.eachComponent=function(Dr,Mr,$r){var Br=this._componentsMap;if(isFunction(Dr)){var zr=Mr,Vr=Dr;Br.each(function(Kr,Zr){for(var Jr=0;Kr&&Jr<Kr.length;Jr++){var rn=Kr[Jr];rn&&Vr.call(zr,Zr,rn,rn.componentIndex)}})}else for(var jr=isString(Dr)?Br.get(Dr):isObject$3(Dr)?this.findComponents(Dr):null,Gr=0;jr&&Gr<jr.length;Gr++){var Wr=jr[Gr];Wr&&Mr.call($r,Wr,Wr.componentIndex)}},Be.prototype.getSeriesByName=function(Dr){var Mr=convertOptionIdName(Dr,null);return filter(this._componentsMap.get("series"),function($r){return!!$r&&Mr!=null&&$r.name===Mr})},Be.prototype.getSeriesByIndex=function(Dr){return this._componentsMap.get("series")[Dr]},Be.prototype.getSeriesByType=function(Dr){return filter(this._componentsMap.get("series"),function(Mr){return!!Mr&&Mr.subType===Dr})},Be.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(Dr){return!!Dr})},Be.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},Be.prototype.eachSeries=function(Dr,Mr){assertSeriesInitialized(this),each$f(this._seriesIndices,function($r){var Br=this._componentsMap.get("series")[$r];Dr.call(Mr,Br,$r)},this)},Be.prototype.eachRawSeries=function(Dr,Mr){each$f(this._componentsMap.get("series"),function($r){$r&&Dr.call(Mr,$r,$r.componentIndex)})},Be.prototype.eachSeriesByType=function(Dr,Mr,$r){assertSeriesInitialized(this),each$f(this._seriesIndices,function(Br){var zr=this._componentsMap.get("series")[Br];zr.subType===Dr&&Mr.call($r,zr,Br)},this)},Be.prototype.eachRawSeriesByType=function(Dr,Mr,$r){return each$f(this.getSeriesByType(Dr),Mr,$r)},Be.prototype.isSeriesFiltered=function(Dr){return assertSeriesInitialized(this),this._seriesIndicesMap.get(Dr.componentIndex)==null},Be.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},Be.prototype.filterSeries=function(Dr,Mr){assertSeriesInitialized(this);var $r=[];each$f(this._seriesIndices,function(Br){var zr=this._componentsMap.get("series")[Br];Dr.call(Mr,zr,Br)&&$r.push(Br)},this),this._seriesIndices=$r,this._seriesIndicesMap=createHashMap($r)},Be.prototype.restoreData=function(Dr){reCreateSeriesIndices(this);var Mr=this._componentsMap,$r=[];Mr.each(function(Br,zr){ComponentModel$1.hasClass(zr)&&$r.push(zr)}),ComponentModel$1.topologicalTravel($r,ComponentModel$1.getAllClassMainTypes(),function(Br){each$f(Mr.get(Br),function(zr){zr&&(Br!=="series"||!isNotTargetSeries(zr,Dr))&&zr.restoreData()})})},Be.internalField=function(){reCreateSeriesIndices=function(Dr){var Mr=Dr._seriesIndices=[];each$f(Dr._componentsMap.get("series"),function($r){$r&&Mr.push($r.componentIndex)}),Dr._seriesIndicesMap=createHashMap(Mr)},assertSeriesInitialized=function(Dr){},initBase=function(Dr,Mr){Dr.option={},Dr.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,Dr._componentsMap=createHashMap({series:[]}),Dr._componentsCount=createHashMap();var $r=Mr.aria;isObject$3($r)&&$r.enabled==null&&($r.enabled=!0),mergeTheme(Mr,Dr._theme.option),merge(Mr,globalDefault,!1),Dr._mergeOption(Mr,null)}}(),Be}(Model$1);function isNotTargetSeries(_r,Be){if(Be){var Dr=Be.seriesIndex,Mr=Be.seriesId,$r=Be.seriesName;return Dr!=null&&_r.componentIndex!==Dr||Mr!=null&&_r.id!==Mr||$r!=null&&_r.name!==$r}}function mergeTheme(_r,Be){var Dr=_r.color&&!_r.colorLayer;each$f(Be,function(Mr,$r){$r==="colorLayer"&&Dr||ComponentModel$1.hasClass($r)||(typeof Mr=="object"?_r[$r]=_r[$r]?merge(_r[$r],Mr,!1):clone$4(Mr):_r[$r]==null&&(_r[$r]=Mr))})}function queryByIdOrName(_r,Be,Dr){if(isArray$1(Be)){var Mr=createHashMap();return each$f(Be,function(Br){if(Br!=null){var zr=convertOptionIdName(Br,null);zr!=null&&Mr.set(Br,!0)}}),filter(Dr,function(Br){return Br&&Mr.get(Br[_r])})}else{var $r=convertOptionIdName(Be,null);return filter(Dr,function(Br){return Br&&$r!=null&&Br[_r]===$r})}}function filterBySubType(_r,Be){return Be.hasOwnProperty("subType")?filter(_r,function(Dr){return Dr&&Dr.subType===Be.subType}):_r}function normalizeSetOptionInput(_r){var Be=createHashMap();return _r&&each$f(normalizeToArray(_r.replaceMerge),function(Dr){Be.set(Dr,!0)}),{replaceMergeMainTypeMap:Be}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function _r(Be){each$f(availableMethods,function(Dr){this[Dr]=bind$1(Be[Dr],Be)},this)}return _r}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function _r(){this._coordinateSystems=[]}return _r.prototype.create=function(Be,Dr){var Mr=[];each$f(coordinateSystemCreators,function($r,Br){var zr=$r.create(Be,Dr);Mr=Mr.concat(zr||[])}),this._coordinateSystems=Mr},_r.prototype.update=function(Be,Dr){each$f(this._coordinateSystems,function(Mr){Mr.update&&Mr.update(Be,Dr)})},_r.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},_r.register=function(Be,Dr){coordinateSystemCreators[Be]=Dr},_r.get=function(Be){return coordinateSystemCreators[Be]},_r}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function _r(Be){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=Be}return _r.prototype.setOption=function(Be,Dr,Mr){Be&&(each$f(normalizeToArray(Be.series),function(zr){zr&&zr.data&&isTypedArray(zr.data)&&setAsPrimitive(zr.data)}),each$f(normalizeToArray(Be.dataset),function(zr){zr&&zr.source&&isTypedArray(zr.source)&&setAsPrimitive(zr.source)})),Be=clone$4(Be);var $r=this._optionBackup,Br=parseRawOption(Be,Dr,!$r);this._newBaseOption=Br.baseOption,$r?(Br.timelineOptions.length&&($r.timelineOptions=Br.timelineOptions),Br.mediaList.length&&($r.mediaList=Br.mediaList),Br.mediaDefault&&($r.mediaDefault=Br.mediaDefault)):this._optionBackup=Br},_r.prototype.mountOption=function(Be){var Dr=this._optionBackup;return this._timelineOptions=Dr.timelineOptions,this._mediaList=Dr.mediaList,this._mediaDefault=Dr.mediaDefault,this._currentMediaIndices=[],clone$4(Be?Dr.baseOption:this._newBaseOption)},_r.prototype.getTimelineOption=function(Be){var Dr,Mr=this._timelineOptions;if(Mr.length){var $r=Be.getComponent("timeline");$r&&(Dr=clone$4(Mr[$r.getCurrentIndex()]))}return Dr},_r.prototype.getMediaOption=function(Be){var Dr=this._api.getWidth(),Mr=this._api.getHeight(),$r=this._mediaList,Br=this._mediaDefault,zr=[],Vr=[];if(!$r.length&&!Br)return Vr;for(var jr=0,Gr=$r.length;jr<Gr;jr++)applyMediaQuery($r[jr].query,Dr,Mr)&&zr.push(jr);return!zr.length&&Br&&(zr=[-1]),zr.length&&!indicesEquals(zr,this._currentMediaIndices)&&(Vr=map$1(zr,function(Wr){return clone$4(Wr===-1?Br.option:$r[Wr].option)})),this._currentMediaIndices=zr,Vr},_r}();function parseRawOption(_r,Be,Dr){var Mr=[],$r,Br,zr=_r.baseOption,Vr=_r.timeline,jr=_r.options,Gr=_r.media,Wr=!!_r.media,Kr=!!(jr||Vr||zr&&zr.timeline);zr?(Br=zr,Br.timeline||(Br.timeline=Vr)):((Kr||Wr)&&(_r.options=_r.media=null),Br=_r),Wr&&isArray$1(Gr)&&each$f(Gr,function(Jr){Jr&&Jr.option&&(Jr.query?Mr.push(Jr):$r||($r=Jr))}),Zr(Br),each$f(jr,function(Jr){return Zr(Jr)}),each$f(Mr,function(Jr){return Zr(Jr.option)});function Zr(Jr){each$f(Be,function(rn){rn(Jr,Dr)})}return{baseOption:Br,timelineOptions:jr||[],mediaDefault:$r,mediaList:Mr}}function applyMediaQuery(_r,Be,Dr){var Mr={width:Be,height:Dr,aspectratio:Be/Dr},$r=!0;return each$f(_r,function(Br,zr){var Vr=zr.match(QUERY_REG);if(!(!Vr||!Vr[1]||!Vr[2])){var jr=Vr[1],Gr=Vr[2].toLowerCase();compare(Mr[Gr],Br,jr)||($r=!1)}}),$r}function compare(_r,Be,Dr){return Dr==="min"?_r>=Be:Dr==="max"?_r<=Be:_r===Be}function indicesEquals(_r,Be){return _r.join(",")===Be.join(",")}const OptionManager$1=OptionManager;var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(_r){var Be=_r&&_r.itemStyle;if(Be)for(var Dr=0,Mr=POSSIBLE_STYLES.length;Dr<Mr;Dr++){var $r=POSSIBLE_STYLES[Dr],Br=Be.normal,zr=Be.emphasis;Br&&Br[$r]&&(_r[$r]=_r[$r]||{},_r[$r].normal?merge(_r[$r].normal,Br[$r]):_r[$r].normal=Br[$r],Br[$r]=null),zr&&zr[$r]&&(_r[$r]=_r[$r]||{},_r[$r].emphasis?merge(_r[$r].emphasis,zr[$r]):_r[$r].emphasis=zr[$r],zr[$r]=null)}}function convertNormalEmphasis(_r,Be,Dr){if(_r&&_r[Be]&&(_r[Be].normal||_r[Be].emphasis)){var Mr=_r[Be].normal,$r=_r[Be].emphasis;Mr&&(Dr?(_r[Be].normal=_r[Be].emphasis=null,defaults(_r[Be],Mr)):_r[Be]=Mr),$r&&(_r.emphasis=_r.emphasis||{},_r.emphasis[Be]=$r,$r.focus&&(_r.emphasis.focus=$r.focus),$r.blurScope&&(_r.emphasis.blurScope=$r.blurScope))}}function removeEC3NormalStatus(_r){convertNormalEmphasis(_r,"itemStyle"),convertNormalEmphasis(_r,"lineStyle"),convertNormalEmphasis(_r,"areaStyle"),convertNormalEmphasis(_r,"label"),convertNormalEmphasis(_r,"labelLine"),convertNormalEmphasis(_r,"upperLabel"),convertNormalEmphasis(_r,"edgeLabel")}function compatTextStyle(_r,Be){var Dr=isObject$2(_r)&&_r[Be],Mr=isObject$2(Dr)&&Dr.textStyle;if(Mr)for(var $r=0,Br=TEXT_STYLE_OPTIONS.length;$r<Br;$r++){var zr=TEXT_STYLE_OPTIONS[$r];Mr.hasOwnProperty(zr)&&(Dr[zr]=Mr[zr])}}function compatEC3CommonStyles(_r){_r&&(removeEC3NormalStatus(_r),compatTextStyle(_r,"label"),_r.emphasis&&compatTextStyle(_r.emphasis,"label"))}function processSeries(_r){if(isObject$2(_r)){compatEC2ItemStyle(_r),removeEC3NormalStatus(_r),compatTextStyle(_r,"label"),compatTextStyle(_r,"upperLabel"),compatTextStyle(_r,"edgeLabel"),_r.emphasis&&(compatTextStyle(_r.emphasis,"label"),compatTextStyle(_r.emphasis,"upperLabel"),compatTextStyle(_r.emphasis,"edgeLabel"));var Be=_r.markPoint;Be&&(compatEC2ItemStyle(Be),compatEC3CommonStyles(Be));var Dr=_r.markLine;Dr&&(compatEC2ItemStyle(Dr),compatEC3CommonStyles(Dr));var Mr=_r.markArea;Mr&&compatEC3CommonStyles(Mr);var $r=_r.data;if(_r.type==="graph"){$r=$r||_r.nodes;var Br=_r.links||_r.edges;if(Br&&!isTypedArray(Br))for(var zr=0;zr<Br.length;zr++)compatEC3CommonStyles(Br[zr]);each$f(_r.categories,function(Gr){removeEC3NormalStatus(Gr)})}if($r&&!isTypedArray($r))for(var zr=0;zr<$r.length;zr++)compatEC3CommonStyles($r[zr]);if(Be=_r.markPoint,Be&&Be.data)for(var Vr=Be.data,zr=0;zr<Vr.length;zr++)compatEC3CommonStyles(Vr[zr]);if(Dr=_r.markLine,Dr&&Dr.data)for(var jr=Dr.data,zr=0;zr<jr.length;zr++)isArray$1(jr[zr])?(compatEC3CommonStyles(jr[zr][0]),compatEC3CommonStyles(jr[zr][1])):compatEC3CommonStyles(jr[zr]);_r.type==="gauge"?(compatTextStyle(_r,"axisLabel"),compatTextStyle(_r,"title"),compatTextStyle(_r,"detail")):_r.type==="treemap"?(convertNormalEmphasis(_r.breadcrumb,"itemStyle"),each$f(_r.levels,function(Gr){removeEC3NormalStatus(Gr)})):_r.type==="tree"&&removeEC3NormalStatus(_r.leaves)}}function toArr(_r){return isArray$1(_r)?_r:_r?[_r]:[]}function toObj(_r){return(isArray$1(_r)?_r[0]:_r)||{}}function globalCompatStyle(_r,Be){each$d(toArr(_r.series),function(Mr){isObject$2(Mr)&&processSeries(Mr)});var Dr=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];Be&&Dr.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(Dr,function(Mr){each$d(toArr(_r[Mr]),function($r){$r&&(compatTextStyle($r,"axisLabel"),compatTextStyle($r.axisPointer,"label"))})}),each$d(toArr(_r.parallel),function(Mr){var $r=Mr&&Mr.parallelAxisDefault;compatTextStyle($r,"axisLabel"),compatTextStyle($r&&$r.axisPointer,"label")}),each$d(toArr(_r.calendar),function(Mr){convertNormalEmphasis(Mr,"itemStyle"),compatTextStyle(Mr,"dayLabel"),compatTextStyle(Mr,"monthLabel"),compatTextStyle(Mr,"yearLabel")}),each$d(toArr(_r.radar),function(Mr){compatTextStyle(Mr,"name"),Mr.name&&Mr.axisName==null&&(Mr.axisName=Mr.name,delete Mr.name),Mr.nameGap!=null&&Mr.axisNameGap==null&&(Mr.axisNameGap=Mr.nameGap,delete Mr.nameGap)}),each$d(toArr(_r.geo),function(Mr){isObject$2(Mr)&&(compatEC3CommonStyles(Mr),each$d(toArr(Mr.regions),function($r){compatEC3CommonStyles($r)}))}),each$d(toArr(_r.timeline),function(Mr){compatEC3CommonStyles(Mr),convertNormalEmphasis(Mr,"label"),convertNormalEmphasis(Mr,"itemStyle"),convertNormalEmphasis(Mr,"controlStyle",!0);var $r=Mr.data;isArray$1($r)&&each$f($r,function(Br){isObject$3(Br)&&(convertNormalEmphasis(Br,"label"),convertNormalEmphasis(Br,"itemStyle"))})}),each$d(toArr(_r.toolbox),function(Mr){convertNormalEmphasis(Mr,"iconStyle"),each$d(Mr.feature,function($r){convertNormalEmphasis($r,"iconStyle")})}),compatTextStyle(toObj(_r.axisPointer),"label"),compatTextStyle(toObj(_r.tooltip).axisPointer,"label")}function get(_r,Be){for(var Dr=Be.split(","),Mr=_r,$r=0;$r<Dr.length&&(Mr=Mr&&Mr[Dr[$r]],Mr!=null);$r++);return Mr}function set(_r,Be,Dr,Mr){for(var $r=Be.split(","),Br=_r,zr,Vr=0;Vr<$r.length-1;Vr++)zr=$r[Vr],Br[zr]==null&&(Br[zr]={}),Br=Br[zr];(Mr||Br[$r[Vr]]==null)&&(Br[$r[Vr]]=Dr)}function compatLayoutProperties(_r){_r&&each$f(LAYOUT_PROPERTIES,function(Be){Be[0]in _r&&!(Be[1]in _r)&&(_r[Be[1]]=_r[Be[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(_r){var Be=_r&&_r.itemStyle;if(Be)for(var Dr=0;Dr<BAR_ITEM_STYLE_MAP.length;Dr++){var Mr=BAR_ITEM_STYLE_MAP[Dr][1],$r=BAR_ITEM_STYLE_MAP[Dr][0];Be[Mr]!=null&&(Be[$r]=Be[Mr])}}function compatPieLabel(_r){_r&&_r.alignTo==="edge"&&_r.margin!=null&&_r.edgeDistance==null&&(_r.edgeDistance=_r.margin)}function compatSunburstState(_r){_r&&_r.downplay&&!_r.blur&&(_r.blur=_r.downplay)}function compatGraphFocus(_r){_r&&_r.focusNodeAdjacency!=null&&(_r.emphasis=_r.emphasis||{},_r.emphasis.focus==null&&(_r.emphasis.focus="adjacency"))}function traverseTree(_r,Be){if(_r)for(var Dr=0;Dr<_r.length;Dr++)Be(_r[Dr]),_r[Dr]&&traverseTree(_r[Dr].children,Be)}function globalBackwardCompat(_r,Be){globalCompatStyle(_r,Be),_r.series=normalizeToArray(_r.series),each$f(_r.series,function(Dr){if(isObject$3(Dr)){var Mr=Dr.type;if(Mr==="line")Dr.clipOverflow!=null&&(Dr.clip=Dr.clipOverflow);else if(Mr==="pie"||Mr==="gauge"){Dr.clockWise!=null&&(Dr.clockwise=Dr.clockWise),compatPieLabel(Dr.label);var $r=Dr.data;if($r&&!isTypedArray($r))for(var Br=0;Br<$r.length;Br++)compatPieLabel($r[Br]);Dr.hoverOffset!=null&&(Dr.emphasis=Dr.emphasis||{},(Dr.emphasis.scaleSize=null)&&(Dr.emphasis.scaleSize=Dr.hoverOffset))}else if(Mr==="gauge"){var zr=get(Dr,"pointer.color");zr!=null&&set(Dr,"itemStyle.color",zr)}else if(Mr==="bar"){compatBarItemStyle(Dr),compatBarItemStyle(Dr.backgroundStyle),compatBarItemStyle(Dr.emphasis);var $r=Dr.data;if($r&&!isTypedArray($r))for(var Br=0;Br<$r.length;Br++)typeof $r[Br]=="object"&&(compatBarItemStyle($r[Br]),compatBarItemStyle($r[Br]&&$r[Br].emphasis))}else if(Mr==="sunburst"){var Vr=Dr.highlightPolicy;Vr&&(Dr.emphasis=Dr.emphasis||{},Dr.emphasis.focus||(Dr.emphasis.focus=Vr)),compatSunburstState(Dr),traverseTree(Dr.data,compatSunburstState)}else Mr==="graph"||Mr==="sankey"?compatGraphFocus(Dr):Mr==="map"&&(Dr.mapType&&!Dr.map&&(Dr.map=Dr.mapType),Dr.mapLocation&&defaults(Dr,Dr.mapLocation));Dr.hoverAnimation!=null&&(Dr.emphasis=Dr.emphasis||{},Dr.emphasis&&Dr.emphasis.scale==null&&(Dr.emphasis.scale=Dr.hoverAnimation)),compatLayoutProperties(Dr)}}),_r.dataRange&&(_r.visualMap=_r.dataRange),each$f(COMPATITABLE_COMPONENTS,function(Dr){var Mr=_r[Dr];Mr&&(isArray$1(Mr)||(Mr=[Mr]),each$f(Mr,function($r){compatLayoutProperties($r)}))})}function dataStack$1(_r){var Be=createHashMap();_r.eachSeries(function(Dr){var Mr=Dr.get("stack");if(Mr){var $r=Be.get(Mr)||Be.set(Mr,[]),Br=Dr.getData(),zr={stackResultDimension:Br.getCalculationInfo("stackResultDimension"),stackedOverDimension:Br.getCalculationInfo("stackedOverDimension"),stackedDimension:Br.getCalculationInfo("stackedDimension"),stackedByDimension:Br.getCalculationInfo("stackedByDimension"),isStackedByIndex:Br.getCalculationInfo("isStackedByIndex"),data:Br,seriesModel:Dr};if(!zr.stackedDimension||!(zr.isStackedByIndex||zr.stackedByDimension))return;$r.length&&Br.setCalculationInfo("stackedOnSeries",$r[$r.length-1].seriesModel),$r.push(zr)}}),Be.each(calculateStack)}function calculateStack(_r){each$f(_r,function(Be,Dr){var Mr=[],$r=[NaN,NaN],Br=[Be.stackResultDimension,Be.stackedOverDimension],zr=Be.data,Vr=Be.isStackedByIndex,jr=Be.seriesModel.get("stackStrategy")||"samesign";zr.modify(Br,function(Gr,Wr,Kr){var Zr=zr.get(Be.stackedDimension,Kr);if(isNaN(Zr))return $r;var Jr,rn;Vr?rn=zr.getRawIndex(Kr):Jr=zr.get(Be.stackedByDimension,Kr);for(var nn=NaN,ln=Dr-1;ln>=0;ln--){var cn=_r[ln];if(Vr||(rn=cn.data.rawIndexOf(cn.stackedByDimension,Jr)),rn>=0){var hn=cn.data.getByRawIndex(cn.stackResultDimension,rn);if(jr==="all"||jr==="positive"&&hn>0||jr==="negative"&&hn<0||jr==="samesign"&&Zr>=0&&hn>0||jr==="samesign"&&Zr<=0&&hn<0){Zr=addSafe(Zr,hn),nn=hn;break}}}return Mr[0]=Zr,Mr[1]=nn,Mr})})}var SourceImpl=function(){function _r(Be){this.data=Be.data||(Be.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=Be.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=Be.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=Be.startIndex||0,this.dimensionsDetectedCount=Be.dimensionsDetectedCount,this.metaRawOption=Be.metaRawOption;var Dr=this.dimensionsDefine=Be.dimensionsDefine;if(Dr)for(var Mr=0;Mr<Dr.length;Mr++){var $r=Dr[Mr];$r.type==null&&guessOrdinal(this,Mr)===BE_ORDINAL.Must&&($r.type="ordinal")}}return _r}();function isSourceInstance(_r){return _r instanceof SourceImpl}function createSource(_r,Be,Dr){Dr=Dr||detectSourceFormat(_r);var Mr=Be.seriesLayoutBy,$r=determineSourceDimensions(_r,Dr,Mr,Be.sourceHeader,Be.dimensions),Br=new SourceImpl({data:_r,sourceFormat:Dr,seriesLayoutBy:Mr,dimensionsDefine:$r.dimensionsDefine,startIndex:$r.startIndex,dimensionsDetectedCount:$r.dimensionsDetectedCount,metaRawOption:clone$4(Be)});return Br}function createSourceFromSeriesDataOption(_r){return new SourceImpl({data:_r,sourceFormat:isTypedArray(_r)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(_r){return new SourceImpl({data:_r.data,sourceFormat:_r.sourceFormat,seriesLayoutBy:_r.seriesLayoutBy,dimensionsDefine:clone$4(_r.dimensionsDefine),startIndex:_r.startIndex,dimensionsDetectedCount:_r.dimensionsDetectedCount})}function detectSourceFormat(_r){var Be=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(_r))Be=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(_r)){_r.length===0&&(Be=SOURCE_FORMAT_ARRAY_ROWS);for(var Dr=0,Mr=_r.length;Dr<Mr;Dr++){var $r=_r[Dr];if($r!=null){if(isArray$1($r)){Be=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3($r)){Be=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(_r)){for(var Br in _r)if(hasOwn(_r,Br)&&isArrayLike(_r[Br])){Be=SOURCE_FORMAT_KEYED_COLUMNS;break}}return Be}function determineSourceDimensions(_r,Be,Dr,Mr,$r){var Br,zr;if(!_r)return{dimensionsDefine:normalizeDimensionsOption($r),startIndex:zr,dimensionsDetectedCount:Br};if(Be===SOURCE_FORMAT_ARRAY_ROWS){var Vr=_r;Mr==="auto"||Mr==null?arrayRowsTravelFirst(function(Gr){Gr!=null&&Gr!=="-"&&(isString(Gr)?zr==null&&(zr=1):zr=0)},Dr,Vr,10):zr=isNumber(Mr)?Mr:Mr?1:0,!$r&&zr===1&&($r=[],arrayRowsTravelFirst(function(Gr,Wr){$r[Wr]=Gr!=null?Gr+"":""},Dr,Vr,1/0)),Br=$r?$r.length:Dr===SERIES_LAYOUT_BY_ROW?Vr.length:Vr[0]?Vr[0].length:null}else if(Be===SOURCE_FORMAT_OBJECT_ROWS)$r||($r=objectRowsCollectDimensions(_r));else if(Be===SOURCE_FORMAT_KEYED_COLUMNS)$r||($r=[],each$f(_r,function(Gr,Wr){$r.push(Wr)}));else if(Be===SOURCE_FORMAT_ORIGINAL){var jr=getDataItemValue(_r[0]);Br=isArray$1(jr)&&jr.length||1}return{startIndex:zr,dimensionsDefine:normalizeDimensionsOption($r),dimensionsDetectedCount:Br}}function objectRowsCollectDimensions(_r){for(var Be=0,Dr;Be<_r.length&&!(Dr=_r[Be++]););if(Dr)return keys(Dr)}function normalizeDimensionsOption(_r){if(_r){var Be=createHashMap();return map$1(_r,function(Dr,Mr){Dr=isObject$3(Dr)?Dr:{name:Dr};var $r={name:Dr.name,displayName:Dr.displayName,type:Dr.type};if($r.name==null)return $r;$r.name+="",$r.displayName==null&&($r.displayName=$r.name);var Br=Be.get($r.name);return Br?$r.name+="-"+Br.count++:Be.set($r.name,{count:1}),$r})}}function arrayRowsTravelFirst(_r,Be,Dr,Mr){if(Be===SERIES_LAYOUT_BY_ROW)for(var $r=0;$r<Dr.length&&$r<Mr;$r++)_r(Dr[$r]?Dr[$r][0]:null,$r);else for(var Br=Dr[0]||[],$r=0;$r<Br.length&&$r<Mr;$r++)_r(Br[$r],$r)}function shouldRetrieveDataByName(_r){var Be=_r.sourceFormat;return Be===SOURCE_FORMAT_OBJECT_ROWS||Be===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function _r(Be,Dr){var Mr=isSourceInstance(Be)?Be:createSourceFromSeriesDataOption(Be);this._source=Mr;var $r=this._data=Mr.data;Mr.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=Dr,this._data=$r),mountMethods(this,$r,Mr)}return _r.prototype.getSource=function(){return this._source},_r.prototype.count=function(){return 0},_r.prototype.getItem=function(Be,Dr){},_r.prototype.appendData=function(Be){},_r.prototype.clean=function(){},_r.protoInitialize=function(){var Be=_r.prototype;Be.pure=!1,Be.persistent=!0}(),_r.internalField=function(){var Be;mountMethods=function(zr,Vr,jr){var Gr=jr.sourceFormat,Wr=jr.seriesLayoutBy,Kr=jr.startIndex,Zr=jr.dimensionsDefine,Jr=providerMethods[getMethodMapKey(Gr,Wr)];if(extend$1(zr,Jr),Gr===SOURCE_FORMAT_TYPED_ARRAY)zr.getItem=Dr,zr.count=$r,zr.fillStorage=Mr;else{var rn=getRawSourceItemGetter(Gr,Wr);zr.getItem=bind$1(rn,null,Vr,Kr,Zr);var nn=getRawSourceDataCounter(Gr,Wr);zr.count=bind$1(nn,null,Vr,Kr,Zr)}};var Dr=function(zr,Vr){zr=zr-this._offset,Vr=Vr||[];for(var jr=this._data,Gr=this._dimSize,Wr=Gr*zr,Kr=0;Kr<Gr;Kr++)Vr[Kr]=jr[Wr+Kr];return Vr},Mr=function(zr,Vr,jr,Gr){for(var Wr=this._data,Kr=this._dimSize,Zr=0;Zr<Kr;Zr++){for(var Jr=Gr[Zr],rn=Jr[0]==null?1/0:Jr[0],nn=Jr[1]==null?-1/0:Jr[1],ln=Vr-zr,cn=jr[Zr],hn=0;hn<ln;hn++){var mn=Wr[hn*Kr+Zr];cn[zr+hn]=mn,mn<rn&&(rn=mn),mn>nn&&(nn=mn)}Jr[0]=rn,Jr[1]=nn}},$r=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(Be={},Be[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:Br},Be[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},Be[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:Br},Be[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(zr){var Vr=this._data;each$f(zr,function(jr,Gr){for(var Wr=Vr[Gr]||(Vr[Gr]=[]),Kr=0;Kr<(jr||[]).length;Kr++)Wr.push(jr[Kr])})}},Be[SOURCE_FORMAT_ORIGINAL]={appendData:Br},Be[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(zr){this._data=zr},clean:function(){this._offset+=this.count(),this._data=null}},Be);function Br(zr){for(var Vr=0;Vr<zr.length;Vr++)this._data.push(zr[Vr])}}(),_r}(),getItemSimply=function(_r,Be,Dr,Mr){return _r[Mr]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(_r,Be,Dr,Mr){return _r[Mr+Be]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(_r,Be,Dr,Mr,$r){Mr+=Be;for(var Br=$r||[],zr=_r,Vr=0;Vr<zr.length;Vr++){var jr=zr[Vr];Br[Vr]=jr?jr[Mr]:null}return Br},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(_r,Be,Dr,Mr,$r){for(var Br=$r||[],zr=0;zr<Dr.length;zr++){var Vr=Dr[zr].name,jr=_r[Vr];Br[zr]=jr?jr[Mr]:null}return Br},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(_r,Be){var Dr=rawSourceItemGetterMap[getMethodMapKey(_r,Be)];return Dr}var countSimply=function(_r,Be,Dr){return _r.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(_r,Be,Dr){return Math.max(0,_r.length-Be)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(_r,Be,Dr){var Mr=_r[0];return Mr?Math.max(0,Mr.length-Be):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(_r,Be,Dr){var Mr=Dr[0].name,$r=_r[Mr];return $r?$r.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(_r,Be){var Dr=rawSourceDataCounterMap[getMethodMapKey(_r,Be)];return Dr}var getRawValueSimply=function(_r,Be,Dr){return _r[Be]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(_r,Be,Dr){return _r[Dr]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(_r,Be,Dr){var Mr=getDataItemValue(_r);return Mr instanceof Array?Mr[Be]:Mr},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(_r){var Be=rawSourceValueGetterMap[_r];return Be}function getMethodMapKey(_r,Be){return _r===SOURCE_FORMAT_ARRAY_ROWS?_r+"_"+Be:_r}function retrieveRawValue(_r,Be,Dr){if(_r){var Mr=_r.getRawDataItem(Be);if(Mr!=null){var $r=_r.getStore(),Br=$r.getSource().sourceFormat;if(Dr!=null){var zr=_r.getDimensionIndex(Dr),Vr=$r.getDimensionProperty(zr);return getRawSourceValueGetter(Br)(Mr,zr,Vr)}else{var jr=Mr;return Br===SOURCE_FORMAT_ORIGINAL&&(jr=getDataItemValue(Mr)),jr}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function _r(){}return _r.prototype.getDataParams=function(Be,Dr){var Mr=this.getData(Dr),$r=this.getRawValue(Be,Dr),Br=Mr.getRawIndex(Be),zr=Mr.getName(Be),Vr=Mr.getRawDataItem(Be),jr=Mr.getItemVisual(Be,"style"),Gr=jr&&jr[Mr.getItemVisual(Be,"drawType")||"fill"],Wr=jr&&jr.stroke,Kr=this.mainType,Zr=Kr==="series",Jr=Mr.userOutput&&Mr.userOutput.get();return{componentType:Kr,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:Zr?this.subType:null,seriesIndex:this.seriesIndex,seriesId:Zr?this.id:null,seriesName:Zr?this.name:null,name:zr,dataIndex:Br,data:Vr,dataType:Dr,value:$r,color:Gr,borderColor:Wr,dimensionNames:Jr?Jr.fullDimensions:null,encode:Jr?Jr.encode:null,$vars:["seriesName","name","value"]}},_r.prototype.getFormattedLabel=function(Be,Dr,Mr,$r,Br,zr){Dr=Dr||"normal";var Vr=this.getData(Mr),jr=this.getDataParams(Be,Mr);if(zr&&(jr.value=zr.interpolatedValue),$r!=null&&isArray$1(jr.value)&&(jr.value=jr.value[$r]),!Br){var Gr=Vr.getItemModel(Be);Br=Gr.get(Dr==="normal"?["label","formatter"]:[Dr,"label","formatter"])}if(isFunction(Br))return jr.status=Dr,jr.dimensionIndex=$r,Br(jr);if(isString(Br)){var Wr=formatTpl(Br,jr);return Wr.replace(DIMENSION_LABEL_REG,function(Kr,Zr){var Jr=Zr.length,rn=Zr;rn.charAt(0)==="["&&rn.charAt(Jr-1)==="]"&&(rn=+rn.slice(1,Jr-1));var nn=retrieveRawValue(Vr,Be,rn);if(zr&&isArray$1(zr.interpolatedValue)){var ln=Vr.getDimensionIndex(rn);ln>=0&&(nn=zr.interpolatedValue[ln])}return nn!=null?nn+"":""})}},_r.prototype.getRawValue=function(Be,Dr){return retrieveRawValue(this.getData(Dr),Be)},_r.prototype.formatTooltip=function(Be,Dr,Mr){},_r}();function normalizeTooltipFormatResult(_r){var Be,Dr;return isObject$3(_r)?_r.type&&(Dr=_r):Be=_r,{text:Be,frag:Dr}}function createTask(_r){return new Task(_r)}var Task=function(){function _r(Be){Be=Be||{},this._reset=Be.reset,this._plan=Be.plan,this._count=Be.count,this._onDirty=Be.onDirty,this._dirty=!0}return _r.prototype.perform=function(Be){var Dr=this._upstream,Mr=Be&&Be.skip;if(this._dirty&&Dr){var $r=this.context;$r.data=$r.outputData=Dr.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var Br;this._plan&&!Mr&&(Br=this._plan(this.context));var zr=Wr(this._modBy),Vr=this._modDataCount||0,jr=Wr(Be&&Be.modBy),Gr=Be&&Be.modDataCount||0;(zr!==jr||Vr!==Gr)&&(Br="reset");function Wr(hn){return!(hn>=1)&&(hn=1),hn}var Kr;(this._dirty||Br==="reset")&&(this._dirty=!1,Kr=this._doReset(Mr)),this._modBy=jr,this._modDataCount=Gr;var Zr=Be&&Be.step;if(Dr?this._dueEnd=Dr._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var Jr=this._dueIndex,rn=Math.min(Zr!=null?this._dueIndex+Zr:1/0,this._dueEnd);if(!Mr&&(Kr||Jr<rn)){var nn=this._progress;if(isArray$1(nn))for(var ln=0;ln<nn.length;ln++)this._doProgress(nn[ln],Jr,rn,jr,Gr);else this._doProgress(nn,Jr,rn,jr,Gr)}this._dueIndex=rn;var cn=this._settedOutputEnd!=null?this._settedOutputEnd:rn;this._outputDueEnd=cn}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},_r.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},_r.prototype._doProgress=function(Be,Dr,Mr,$r,Br){iterator.reset(Dr,Mr,$r,Br),this._callingProgress=Be,this._callingProgress({start:Dr,end:Mr,count:Mr-Dr,next:iterator.next},this.context)},_r.prototype._doReset=function(Be){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var Dr,Mr;!Be&&this._reset&&(Dr=this._reset(this.context),Dr&&Dr.progress&&(Mr=Dr.forceFirstProgress,Dr=Dr.progress),isArray$1(Dr)&&!Dr.length&&(Dr=null)),this._progress=Dr,this._modBy=this._modDataCount=null;var $r=this._downstream;return $r&&$r.dirty(),Mr},_r.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},_r.prototype.pipe=function(Be){(this._downstream!==Be||this._dirty)&&(this._downstream=Be,Be._upstream=this,Be.dirty())},_r.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},_r.prototype.getUpstream=function(){return this._upstream},_r.prototype.getDownstream=function(){return this._downstream},_r.prototype.setOutputEnd=function(Be){this._outputDueEnd=this._settedOutputEnd=Be},_r}(),iterator=function(){var _r,Be,Dr,Mr,$r,Br={reset:function(jr,Gr,Wr,Kr){Be=jr,_r=Gr,Dr=Wr,Mr=Kr,$r=Math.ceil(Mr/Dr),Br.next=Dr>1&&Mr>0?Vr:zr}};return Br;function zr(){return Be<_r?Be++:null}function Vr(){var jr=Be%$r*Dr+Math.ceil(Be/$r),Gr=Be>=_r?null:jr<Mr?jr:Be;return Be++,Gr}}();function parseDataValue(_r,Be){var Dr=Be&&Be.type;return Dr==="ordinal"?_r:(Dr==="time"&&!isNumber(_r)&&_r!=null&&_r!=="-"&&(_r=+parseDate(_r)),_r==null||_r===""?NaN:+_r)}var valueParserMap=createHashMap({number:function(_r){return parseFloat(_r)},time:function(_r){return+parseDate(_r)},trim:function(_r){return isString(_r)?trim$1(_r):_r}});function getRawValueParser(_r){return valueParserMap.get(_r)}var ORDER_COMPARISON_OP_MAP={lt:function(_r,Be){return _r<Be},lte:function(_r,Be){return _r<=Be},gt:function(_r,Be){return _r>Be},gte:function(_r,Be){return _r>=Be}},FilterOrderComparator=function(){function _r(Be,Dr){if(!isNumber(Dr)){var Mr="";throwError(Mr)}this._opFn=ORDER_COMPARISON_OP_MAP[Be],this._rvalFloat=numericToNumber(Dr)}return _r.prototype.evaluate=function(Be){return isNumber(Be)?this._opFn(Be,this._rvalFloat):this._opFn(numericToNumber(Be),this._rvalFloat)},_r}(),SortOrderComparator=function(){function _r(Be,Dr){var Mr=Be==="desc";this._resultLT=Mr?1:-1,Dr==null&&(Dr=Mr?"min":"max"),this._incomparable=Dr==="min"?-1/0:1/0}return _r.prototype.evaluate=function(Be,Dr){var Mr=isNumber(Be)?Be:numericToNumber(Be),$r=isNumber(Dr)?Dr:numericToNumber(Dr),Br=isNaN(Mr),zr=isNaN($r);if(Br&&(Mr=this._incomparable),zr&&($r=this._incomparable),Br&&zr){var Vr=isString(Be),jr=isString(Dr);Vr&&(Mr=jr?Be:0),jr&&($r=Vr?Dr:0)}return Mr<$r?this._resultLT:Mr>$r?-this._resultLT:0},_r}(),FilterEqualityComparator=function(){function _r(Be,Dr){this._rval=Dr,this._isEQ=Be,this._rvalTypeof=typeof Dr,this._rvalFloat=numericToNumber(Dr)}return _r.prototype.evaluate=function(Be){var Dr=Be===this._rval;if(!Dr){var Mr=typeof Be;Mr!==this._rvalTypeof&&(Mr==="number"||this._rvalTypeof==="number")&&(Dr=numericToNumber(Be)===this._rvalFloat)}return this._isEQ?Dr:!Dr},_r}();function createFilterComparator(_r,Be){return _r==="eq"||_r==="ne"?new FilterEqualityComparator(_r==="eq",Be):hasOwn(ORDER_COMPARISON_OP_MAP,_r)?new FilterOrderComparator(_r,Be):null}var ExternalSource=function(){function _r(){}return _r.prototype.getRawData=function(){throw new Error("not supported")},_r.prototype.getRawDataItem=function(Be){throw new Error("not supported")},_r.prototype.cloneRawData=function(){},_r.prototype.getDimensionInfo=function(Be){},_r.prototype.cloneAllDimensionInfo=function(){},_r.prototype.count=function(){},_r.prototype.retrieveValue=function(Be,Dr){},_r.prototype.retrieveValueFromItem=function(Be,Dr){},_r.prototype.convertValue=function(Be,Dr){return parseDataValue(Be,Dr)},_r}();function createExternalSource(_r,Be){var Dr=new ExternalSource,Mr=_r.data,$r=Dr.sourceFormat=_r.sourceFormat,Br=_r.startIndex,zr="";_r.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(zr);var Vr=[],jr={},Gr=_r.dimensionsDefine;if(Gr)each$f(Gr,function(nn,ln){var cn=nn.name,hn={index:ln,name:cn,displayName:nn.displayName};if(Vr.push(hn),cn!=null){var mn="";hasOwn(jr,cn)&&throwError(mn),jr[cn]=hn}});else for(var Wr=0;Wr<_r.dimensionsDetectedCount;Wr++)Vr.push({index:Wr});var Kr=getRawSourceItemGetter($r,SERIES_LAYOUT_BY_COLUMN);Be.__isBuiltIn&&(Dr.getRawDataItem=function(nn){return Kr(Mr,Br,Vr,nn)},Dr.getRawData=bind$1(getRawData,null,_r)),Dr.cloneRawData=bind$1(cloneRawData,null,_r);var Zr=getRawSourceDataCounter($r,SERIES_LAYOUT_BY_COLUMN);Dr.count=bind$1(Zr,null,Mr,Br,Vr);var Jr=getRawSourceValueGetter($r);Dr.retrieveValue=function(nn,ln){var cn=Kr(Mr,Br,Vr,nn);return rn(cn,ln)};var rn=Dr.retrieveValueFromItem=function(nn,ln){if(nn!=null){var cn=Vr[ln];if(cn)return Jr(nn,ln,cn.name)}};return Dr.getDimensionInfo=bind$1(getDimensionInfo,null,Vr,jr),Dr.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,Vr),Dr}function getRawData(_r){var Be=_r.sourceFormat;if(!isSupportedSourceFormat(Be)){var Dr="";throwError(Dr)}return _r.data}function cloneRawData(_r){var Be=_r.sourceFormat,Dr=_r.data;if(!isSupportedSourceFormat(Be)){var Mr="";throwError(Mr)}if(Be===SOURCE_FORMAT_ARRAY_ROWS){for(var $r=[],Br=0,zr=Dr.length;Br<zr;Br++)$r.push(Dr[Br].slice());return $r}else if(Be===SOURCE_FORMAT_OBJECT_ROWS){for(var $r=[],Br=0,zr=Dr.length;Br<zr;Br++)$r.push(extend$1({},Dr[Br]));return $r}}function getDimensionInfo(_r,Be,Dr){if(Dr!=null){if(isNumber(Dr)||!isNaN(Dr)&&!hasOwn(Be,Dr))return _r[Dr];if(hasOwn(Be,Dr))return Be[Dr]}}function cloneAllDimensionInfo(_r){return clone$4(_r)}var externalTransformMap=createHashMap();function registerExternalTransform(_r){_r=clone$4(_r);var Be=_r.type,Dr="";Be||throwError(Dr);var Mr=Be.split(":");Mr.length!==2&&throwError(Dr);var $r=!1;Mr[0]==="echarts"&&(Be=Mr[1],$r=!0),_r.__isBuiltIn=$r,externalTransformMap.set(Be,_r)}function applyDataTransform(_r,Be,Dr){var Mr=normalizeToArray(_r),$r=Mr.length,Br="";$r||throwError(Br);for(var zr=0,Vr=$r;zr<Vr;zr++){var jr=Mr[zr];Be=applySingleDataTransform(jr,Be),zr!==Vr-1&&(Be.length=Math.max(Be.length,1))}return Be}function applySingleDataTransform(_r,Be,Dr,Mr){var $r="";Be.length||throwError($r),isObject$3(_r)||throwError($r);var Br=_r.type,zr=externalTransformMap.get(Br);zr||throwError($r);var Vr=map$1(Be,function(Gr){return createExternalSource(Gr,zr)}),jr=normalizeToArray(zr.transform({upstream:Vr[0],upstreamList:Vr,config:clone$4(_r.config)}));return map$1(jr,function(Gr,Wr){var Kr="";isObject$3(Gr)||throwError(Kr),Gr.data||throwError(Kr);var Zr=detectSourceFormat(Gr.data);isSupportedSourceFormat(Zr)||throwError(Kr);var Jr,rn=Be[0];if(rn&&Wr===0&&!Gr.dimensions){var nn=rn.startIndex;nn&&(Gr.data=rn.data.slice(0,nn).concat(Gr.data)),Jr={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:nn,dimensions:rn.metaRawOption.dimensions}}else Jr={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:Gr.dimensions};return createSource(Gr.data,Jr,null)})}function isSupportedSourceFormat(_r){return _r===SOURCE_FORMAT_ARRAY_ROWS||_r===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(_r){return _r>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(_r){var Be=_r.constructor;return Be===Array?_r.slice():new Be(_r)}function prepareStore(_r,Be,Dr,Mr,$r){var Br=dataCtors[Dr||"float"];if($r){var zr=_r[Be],Vr=zr&&zr.length;if(Vr!==Mr){for(var jr=new Br(Mr),Gr=0;Gr<Vr;Gr++)jr[Gr]=zr[Gr];_r[Be]=jr}}else _r[Be]=new Br(Mr)}var DataStore=function(){function _r(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return _r.prototype.initData=function(Be,Dr,Mr){this._provider=Be,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var $r=Be.getSource(),Br=this.defaultDimValueGetter=defaultDimValueGetters[$r.sourceFormat];this._dimValueGetter=Mr||Br,this._rawExtent=[],shouldRetrieveDataByName($r),this._dimensions=map$1(Dr,function(zr){return{type:zr.type,property:zr.property}}),this._initDataFromProvider(0,Be.count())},_r.prototype.getProvider=function(){return this._provider},_r.prototype.getSource=function(){return this._provider.getSource()},_r.prototype.ensureCalculationDimension=function(Be,Dr){var Mr=this._calcDimNameToIdx,$r=this._dimensions,Br=Mr.get(Be);if(Br!=null){if($r[Br].type===Dr)return Br}else Br=$r.length;return $r[Br]={type:Dr},Mr.set(Be,Br),this._chunks[Br]=new dataCtors[Dr||"float"](this._rawCount),this._rawExtent[Br]=getInitialExtent(),Br},_r.prototype.collectOrdinalMeta=function(Be,Dr){var Mr=this._chunks[Be],$r=this._dimensions[Be],Br=this._rawExtent,zr=$r.ordinalOffset||0,Vr=Mr.length;zr===0&&(Br[Be]=getInitialExtent());for(var jr=Br[Be],Gr=zr;Gr<Vr;Gr++){var Wr=Mr[Gr]=Dr.parseAndCollect(Mr[Gr]);isNaN(Wr)||(jr[0]=Math.min(Wr,jr[0]),jr[1]=Math.max(Wr,jr[1]))}$r.ordinalMeta=Dr,$r.ordinalOffset=Vr,$r.type="ordinal"},_r.prototype.getOrdinalMeta=function(Be){var Dr=this._dimensions[Be],Mr=Dr.ordinalMeta;return Mr},_r.prototype.getDimensionProperty=function(Be){var Dr=this._dimensions[Be];return Dr&&Dr.property},_r.prototype.appendData=function(Be){var Dr=this._provider,Mr=this.count();Dr.appendData(Be);var $r=Dr.count();return Dr.persistent||($r+=Mr),Mr<$r&&this._initDataFromProvider(Mr,$r,!0),[Mr,$r]},_r.prototype.appendValues=function(Be,Dr){for(var Mr=this._chunks,$r=this._dimensions,Br=$r.length,zr=this._rawExtent,Vr=this.count(),jr=Vr+Math.max(Be.length,Dr||0),Gr=0;Gr<Br;Gr++){var Wr=$r[Gr];prepareStore(Mr,Gr,Wr.type,jr,!0)}for(var Kr=[],Zr=Vr;Zr<jr;Zr++)for(var Jr=Zr-Vr,rn=0;rn<Br;rn++){var Wr=$r[rn],nn=defaultDimValueGetters.arrayRows.call(this,Be[Jr]||Kr,Wr.property,Jr,rn);Mr[rn][Zr]=nn;var ln=zr[rn];nn<ln[0]&&(ln[0]=nn),nn>ln[1]&&(ln[1]=nn)}return this._rawCount=this._count=jr,{start:Vr,end:jr}},_r.prototype._initDataFromProvider=function(Be,Dr,Mr){for(var $r=this._provider,Br=this._chunks,zr=this._dimensions,Vr=zr.length,jr=this._rawExtent,Gr=map$1(zr,function(hn){return hn.property}),Wr=0;Wr<Vr;Wr++){var Kr=zr[Wr];jr[Wr]||(jr[Wr]=getInitialExtent()),prepareStore(Br,Wr,Kr.type,Dr,Mr)}if($r.fillStorage)$r.fillStorage(Be,Dr,Br,jr);else for(var Zr=[],Jr=Be;Jr<Dr;Jr++){Zr=$r.getItem(Jr,Zr);for(var rn=0;rn<Vr;rn++){var nn=Br[rn],ln=this._dimValueGetter(Zr,Gr[rn],Jr,rn);nn[Jr]=ln;var cn=jr[rn];ln<cn[0]&&(cn[0]=ln),ln>cn[1]&&(cn[1]=ln)}}!$r.persistent&&$r.clean&&$r.clean(),this._rawCount=this._count=Dr,this._extent=[]},_r.prototype.count=function(){return this._count},_r.prototype.get=function(Be,Dr){if(!(Dr>=0&&Dr<this._count))return NaN;var Mr=this._chunks[Be];return Mr?Mr[this.getRawIndex(Dr)]:NaN},_r.prototype.getValues=function(Be,Dr){var Mr=[],$r=[];if(Dr==null){Dr=Be,Be=[];for(var Br=0;Br<this._dimensions.length;Br++)$r.push(Br)}else $r=Be;for(var Br=0,zr=$r.length;Br<zr;Br++)Mr.push(this.get($r[Br],Dr));return Mr},_r.prototype.getByRawIndex=function(Be,Dr){if(!(Dr>=0&&Dr<this._rawCount))return NaN;var Mr=this._chunks[Be];return Mr?Mr[Dr]:NaN},_r.prototype.getSum=function(Be){var Dr=this._chunks[Be],Mr=0;if(Dr)for(var $r=0,Br=this.count();$r<Br;$r++){var zr=this.get(Be,$r);isNaN(zr)||(Mr+=zr)}return Mr},_r.prototype.getMedian=function(Be){var Dr=[];this.each([Be],function(Br){isNaN(Br)||Dr.push(Br)});var Mr=Dr.sort(function(Br,zr){return Br-zr}),$r=this.count();return $r===0?0:$r%2===1?Mr[($r-1)/2]:(Mr[$r/2]+Mr[$r/2-1])/2},_r.prototype.indexOfRawIndex=function(Be){if(Be>=this._rawCount||Be<0)return-1;if(!this._indices)return Be;var Dr=this._indices,Mr=Dr[Be];if(Mr!=null&&Mr<this._count&&Mr===Be)return Be;for(var $r=0,Br=this._count-1;$r<=Br;){var zr=($r+Br)/2|0;if(Dr[zr]<Be)$r=zr+1;else if(Dr[zr]>Be)Br=zr-1;else return zr}return-1},_r.prototype.indicesOfNearest=function(Be,Dr,Mr){var $r=this._chunks,Br=$r[Be],zr=[];if(!Br)return zr;Mr==null&&(Mr=1/0);for(var Vr=1/0,jr=-1,Gr=0,Wr=0,Kr=this.count();Wr<Kr;Wr++){var Zr=this.getRawIndex(Wr),Jr=Dr-Br[Zr],rn=Math.abs(Jr);rn<=Mr&&((rn<Vr||rn===Vr&&Jr>=0&&jr<0)&&(Vr=rn,jr=Jr,Gr=0),Jr===jr&&(zr[Gr++]=Wr))}return zr.length=Gr,zr},_r.prototype.getIndices=function(){var Be,Dr=this._indices;if(Dr){var Mr=Dr.constructor,$r=this._count;if(Mr===Array){Be=new Mr($r);for(var Br=0;Br<$r;Br++)Be[Br]=Dr[Br]}else Be=new Mr(Dr.buffer,0,$r)}else{var Mr=getIndicesCtor(this._rawCount);Be=new Mr(this.count());for(var Br=0;Br<Be.length;Br++)Be[Br]=Br}return Be},_r.prototype.filter=function(Be,Dr){if(!this._count)return this;for(var Mr=this.clone(),$r=Mr.count(),Br=getIndicesCtor(Mr._rawCount),zr=new Br($r),Vr=[],jr=Be.length,Gr=0,Wr=Be[0],Kr=Mr._chunks,Zr=0;Zr<$r;Zr++){var Jr=void 0,rn=Mr.getRawIndex(Zr);if(jr===0)Jr=Dr(Zr);else if(jr===1){var nn=Kr[Wr][rn];Jr=Dr(nn,Zr)}else{for(var ln=0;ln<jr;ln++)Vr[ln]=Kr[Be[ln]][rn];Vr[ln]=Zr,Jr=Dr.apply(null,Vr)}Jr&&(zr[Gr++]=rn)}return Gr<$r&&(Mr._indices=zr),Mr._count=Gr,Mr._extent=[],Mr._updateGetRawIdx(),Mr},_r.prototype.selectRange=function(Be){var Dr=this.clone(),Mr=Dr._count;if(!Mr)return this;var $r=keys(Be),Br=$r.length;if(!Br)return this;var zr=Dr.count(),Vr=getIndicesCtor(Dr._rawCount),jr=new Vr(zr),Gr=0,Wr=$r[0],Kr=Be[Wr][0],Zr=Be[Wr][1],Jr=Dr._chunks,rn=!1;if(!Dr._indices){var nn=0;if(Br===1){for(var ln=Jr[$r[0]],cn=0;cn<Mr;cn++){var hn=ln[cn];(hn>=Kr&&hn<=Zr||isNaN(hn))&&(jr[Gr++]=nn),nn++}rn=!0}else if(Br===2){for(var ln=Jr[$r[0]],mn=Jr[$r[1]],bn=Be[$r[1]][0],An=Be[$r[1]][1],cn=0;cn<Mr;cn++){var hn=ln[cn],vn=mn[cn];(hn>=Kr&&hn<=Zr||isNaN(hn))&&(vn>=bn&&vn<=An||isNaN(vn))&&(jr[Gr++]=nn),nn++}rn=!0}}if(!rn)if(Br===1)for(var cn=0;cn<zr;cn++){var dn=Dr.getRawIndex(cn),hn=Jr[$r[0]][dn];(hn>=Kr&&hn<=Zr||isNaN(hn))&&(jr[Gr++]=dn)}else for(var cn=0;cn<zr;cn++){for(var wn=!0,dn=Dr.getRawIndex(cn),xn=0;xn<Br;xn++){var Mn=$r[xn],hn=Jr[Mn][dn];(hn<Be[Mn][0]||hn>Be[Mn][1])&&(wn=!1)}wn&&(jr[Gr++]=Dr.getRawIndex(cn))}return Gr<zr&&(Dr._indices=jr),Dr._count=Gr,Dr._extent=[],Dr._updateGetRawIdx(),Dr},_r.prototype.map=function(Be,Dr){var Mr=this.clone(Be);return this._updateDims(Mr,Be,Dr),Mr},_r.prototype.modify=function(Be,Dr){this._updateDims(this,Be,Dr)},_r.prototype._updateDims=function(Be,Dr,Mr){for(var $r=Be._chunks,Br=[],zr=Dr.length,Vr=Be.count(),jr=[],Gr=Be._rawExtent,Wr=0;Wr<Dr.length;Wr++)Gr[Dr[Wr]]=getInitialExtent();for(var Kr=0;Kr<Vr;Kr++){for(var Zr=Be.getRawIndex(Kr),Jr=0;Jr<zr;Jr++)jr[Jr]=$r[Dr[Jr]][Zr];jr[zr]=Kr;var rn=Mr&&Mr.apply(null,jr);if(rn!=null){typeof rn!="object"&&(Br[0]=rn,rn=Br);for(var Wr=0;Wr<rn.length;Wr++){var nn=Dr[Wr],ln=rn[Wr],cn=Gr[nn],hn=$r[nn];hn&&(hn[Zr]=ln),ln<cn[0]&&(cn[0]=ln),ln>cn[1]&&(cn[1]=ln)}}}},_r.prototype.lttbDownSample=function(Be,Dr){var Mr=this.clone([Be],!0),$r=Mr._chunks,Br=$r[Be],zr=this.count(),Vr=0,jr=Math.floor(1/Dr),Gr=this.getRawIndex(0),Wr,Kr,Zr,Jr=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(zr/jr)+2)*2,zr));Jr[Vr++]=Gr;for(var rn=1;rn<zr-1;rn+=jr){for(var nn=Math.min(rn+jr,zr-1),ln=Math.min(rn+jr*2,zr),cn=(ln+nn)/2,hn=0,mn=nn;mn<ln;mn++){var bn=this.getRawIndex(mn),An=Br[bn];isNaN(An)||(hn+=An)}hn/=ln-nn;var vn=rn,dn=Math.min(rn+jr,zr),wn=rn-1,xn=Br[Gr];Wr=-1,Zr=vn;for(var Mn=-1,In=0,mn=vn;mn<dn;mn++){var bn=this.getRawIndex(mn),An=Br[bn];if(isNaN(An)){In++,Mn<0&&(Mn=bn);continue}Kr=Math.abs((wn-cn)*(An-xn)-(wn-mn)*(hn-xn)),Kr>Wr&&(Wr=Kr,Zr=bn)}In>0&&In<dn-vn&&(Jr[Vr++]=Math.min(Mn,Zr),Zr=Math.max(Mn,Zr)),Jr[Vr++]=Zr,Gr=Zr}return Jr[Vr++]=this.getRawIndex(zr-1),Mr._count=Vr,Mr._indices=Jr,Mr.getRawIndex=this._getRawIdx,Mr},_r.prototype.downSample=function(Be,Dr,Mr,$r){for(var Br=this.clone([Be],!0),zr=Br._chunks,Vr=[],jr=Math.floor(1/Dr),Gr=zr[Be],Wr=this.count(),Kr=Br._rawExtent[Be]=getInitialExtent(),Zr=new(getIndicesCtor(this._rawCount))(Math.ceil(Wr/jr)),Jr=0,rn=0;rn<Wr;rn+=jr){jr>Wr-rn&&(jr=Wr-rn,Vr.length=jr);for(var nn=0;nn<jr;nn++){var ln=this.getRawIndex(rn+nn);Vr[nn]=Gr[ln]}var cn=Mr(Vr),hn=this.getRawIndex(Math.min(rn+$r(Vr,cn)||0,Wr-1));Gr[hn]=cn,cn<Kr[0]&&(Kr[0]=cn),cn>Kr[1]&&(Kr[1]=cn),Zr[Jr++]=hn}return Br._count=Jr,Br._indices=Zr,Br._updateGetRawIdx(),Br},_r.prototype.each=function(Be,Dr){if(this._count)for(var Mr=Be.length,$r=this._chunks,Br=0,zr=this.count();Br<zr;Br++){var Vr=this.getRawIndex(Br);switch(Mr){case 0:Dr(Br);break;case 1:Dr($r[Be[0]][Vr],Br);break;case 2:Dr($r[Be[0]][Vr],$r[Be[1]][Vr],Br);break;default:for(var jr=0,Gr=[];jr<Mr;jr++)Gr[jr]=$r[Be[jr]][Vr];Gr[jr]=Br,Dr.apply(null,Gr)}}},_r.prototype.getDataExtent=function(Be){var Dr=this._chunks[Be],Mr=getInitialExtent();if(!Dr)return Mr;var $r=this.count(),Br=!this._indices,zr;if(Br)return this._rawExtent[Be].slice();if(zr=this._extent[Be],zr)return zr.slice();zr=Mr;for(var Vr=zr[0],jr=zr[1],Gr=0;Gr<$r;Gr++){var Wr=this.getRawIndex(Gr),Kr=Dr[Wr];Kr<Vr&&(Vr=Kr),Kr>jr&&(jr=Kr)}return zr=[Vr,jr],this._extent[Be]=zr,zr},_r.prototype.getRawDataItem=function(Be){var Dr=this.getRawIndex(Be);if(this._provider.persistent)return this._provider.getItem(Dr);for(var Mr=[],$r=this._chunks,Br=0;Br<$r.length;Br++)Mr.push($r[Br][Dr]);return Mr},_r.prototype.clone=function(Be,Dr){var Mr=new _r,$r=this._chunks,Br=Be&&reduce(Be,function(Vr,jr){return Vr[jr]=!0,Vr},{});if(Br)for(var zr=0;zr<$r.length;zr++)Mr._chunks[zr]=Br[zr]?cloneChunk($r[zr]):$r[zr];else Mr._chunks=$r;return this._copyCommonProps(Mr),Dr||(Mr._indices=this._cloneIndices()),Mr._updateGetRawIdx(),Mr},_r.prototype._copyCommonProps=function(Be){Be._count=this._count,Be._rawCount=this._rawCount,Be._provider=this._provider,Be._dimensions=this._dimensions,Be._extent=clone$4(this._extent),Be._rawExtent=clone$4(this._rawExtent)},_r.prototype._cloneIndices=function(){if(this._indices){var Be=this._indices.constructor,Dr=void 0;if(Be===Array){var Mr=this._indices.length;Dr=new Be(Mr);for(var $r=0;$r<Mr;$r++)Dr[$r]=this._indices[$r]}else Dr=new Be(this._indices);return Dr}return null},_r.prototype._getRawIdxIdentity=function(Be){return Be},_r.prototype._getRawIdx=function(Be){return Be<this._count&&Be>=0?this._indices[Be]:-1},_r.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},_r.internalField=function(){function Be(Dr,Mr,$r,Br){return parseDataValue(Dr[Br],this._dimensions[Br])}defaultDimValueGetters={arrayRows:Be,objectRows:function(Dr,Mr,$r,Br){return parseDataValue(Dr[Mr],this._dimensions[Br])},keyedColumns:Be,original:function(Dr,Mr,$r,Br){var zr=Dr&&(Dr.value==null?Dr:Dr.value);return parseDataValue(zr instanceof Array?zr[Br]:zr,this._dimensions[Br])},typedArray:function(Dr,Mr,$r,Br){return Dr[Br]}}}(),_r}();const DataStore$1=DataStore;var SourceManager=function(){function _r(Be){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=Be}return _r.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},_r.prototype._setLocalSource=function(Be,Dr){this._sourceList=Be,this._upstreamSignList=Dr,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},_r.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},_r.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},_r.prototype._createSource=function(){this._setLocalSource([],[]);var Be=this._sourceHost,Dr=this._getUpstreamSourceManagers(),Mr=!!Dr.length,$r,Br;if(isSeries(Be)){var zr=Be,Vr=void 0,jr=void 0,Gr=void 0;if(Mr){var Wr=Dr[0];Wr.prepareSource(),Gr=Wr.getSource(),Vr=Gr.data,jr=Gr.sourceFormat,Br=[Wr._getVersionSign()]}else Vr=zr.get("data",!0),jr=isTypedArray(Vr)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,Br=[];var Kr=this._getSourceMetaRawOption()||{},Zr=Gr&&Gr.metaRawOption||{},Jr=retrieve2(Kr.seriesLayoutBy,Zr.seriesLayoutBy)||null,rn=retrieve2(Kr.sourceHeader,Zr.sourceHeader),nn=retrieve2(Kr.dimensions,Zr.dimensions),ln=Jr!==Zr.seriesLayoutBy||!!rn!=!!Zr.sourceHeader||nn;$r=ln?[createSource(Vr,{seriesLayoutBy:Jr,sourceHeader:rn,dimensions:nn},jr)]:[]}else{var cn=Be;if(Mr){var hn=this._applyTransform(Dr);$r=hn.sourceList,Br=hn.upstreamSignList}else{var mn=cn.get("source",!0);$r=[createSource(mn,this._getSourceMetaRawOption(),null)],Br=[]}}this._setLocalSource($r,Br)},_r.prototype._applyTransform=function(Be){var Dr=this._sourceHost,Mr=Dr.get("transform",!0),$r=Dr.get("fromTransformResult",!0);if($r!=null){var Br="";Be.length!==1&&doThrow(Br)}var zr,Vr=[],jr=[];return each$f(Be,function(Gr){Gr.prepareSource();var Wr=Gr.getSource($r||0),Kr="";$r!=null&&!Wr&&doThrow(Kr),Vr.push(Wr),jr.push(Gr._getVersionSign())}),Mr?zr=applyDataTransform(Mr,Vr,{datasetIndex:Dr.componentIndex}):$r!=null&&(zr=[cloneSourceShallow(Vr[0])]),{sourceList:zr,upstreamSignList:jr}},_r.prototype._isDirty=function(){if(this._dirty)return!0;for(var Be=this._getUpstreamSourceManagers(),Dr=0;Dr<Be.length;Dr++){var Mr=Be[Dr];if(Mr._isDirty()||this._upstreamSignList[Dr]!==Mr._getVersionSign())return!0}},_r.prototype.getSource=function(Be){Be=Be||0;var Dr=this._sourceList[Be];if(!Dr){var Mr=this._getUpstreamSourceManagers();return Mr[0]&&Mr[0].getSource(Be)}return Dr},_r.prototype.getSharedDataStore=function(Be){var Dr=Be.makeStoreSchema();return this._innerGetDataStore(Dr.dimensions,Be.source,Dr.hash)},_r.prototype._innerGetDataStore=function(Be,Dr,Mr){var $r=0,Br=this._storeList,zr=Br[$r];zr||(zr=Br[$r]={});var Vr=zr[Mr];if(!Vr){var jr=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&jr?Vr=jr._innerGetDataStore(Be,Dr,Mr):(Vr=new DataStore$1,Vr.initData(new DefaultDataProvider(Dr,Be.length),Be)),zr[Mr]=Vr}return Vr},_r.prototype._getUpstreamSourceManagers=function(){var Be=this._sourceHost;if(isSeries(Be)){var Dr=querySeriesUpstreamDatasetModel(Be);return Dr?[Dr.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(Be),function(Mr){return Mr.getSourceManager()})},_r.prototype._getSourceMetaRawOption=function(){var Be=this._sourceHost,Dr,Mr,$r;if(isSeries(Be))Dr=Be.get("seriesLayoutBy",!0),Mr=Be.get("sourceHeader",!0),$r=Be.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var Br=Be;Dr=Br.get("seriesLayoutBy",!0),Mr=Br.get("sourceHeader",!0),$r=Br.get("dimensions",!0)}return{seriesLayoutBy:Dr,sourceHeader:Mr,dimensions:$r}},_r}();function disableTransformOptionMerge(_r){var Be=_r.option.transform;Be&&setAsPrimitive(_r.option.transform)}function isSeries(_r){return _r.mainType==="series"}function doThrow(_r){throw new Error(_r)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(_r,Be){var Dr=_r.color||"#6e7079",Mr=_r.fontSize||12,$r=_r.fontWeight||"400",Br=_r.color||"#464646",zr=_r.fontSize||14,Vr=_r.fontWeight||"900";return Be==="html"?{nameStyle:"font-size:"+encodeHTML(Mr+"")+"px;color:"+encodeHTML(Dr)+";font-weight:"+encodeHTML($r+""),valueStyle:"font-size:"+encodeHTML(zr+"")+"px;color:"+encodeHTML(Br)+";font-weight:"+encodeHTML(Vr+"")}:{nameStyle:{fontSize:Mr,fill:Dr,fontWeight:$r},valueStyle:{fontSize:zr,fill:Br,fontWeight:Vr}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(_r,Be){return Be.type=_r,Be}function isSectionFragment(_r){return _r.type==="section"}function getBuilder(_r){return isSectionFragment(_r)?buildSection:buildNameValue}function getBlockGapLevel(_r){if(isSectionFragment(_r)){var Be=0,Dr=_r.blocks.length,Mr=Dr>1||Dr>0&&!_r.noHeader;return each$f(_r.blocks,function($r){var Br=getBlockGapLevel($r);Br>=Be&&(Be=Br+ +(Mr&&(!Br||isSectionFragment($r)&&!$r.noHeader)))}),Be}return 0}function buildSection(_r,Be,Dr,Mr){var $r=Be.noHeader,Br=getGap(getBlockGapLevel(Be)),zr=[],Vr=Be.blocks||[];assert(!Vr||isArray$1(Vr)),Vr=Vr||[];var jr=_r.orderMode;if(Be.sortBlocks&&jr){Vr=Vr.slice();var Gr={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(Gr,jr)){var Wr=new SortOrderComparator(Gr[jr],null);Vr.sort(function(rn,nn){return Wr.evaluate(rn.sortParam,nn.sortParam)})}else jr==="seriesDesc"&&Vr.reverse()}each$f(Vr,function(rn,nn){var ln=Be.valueFormatter,cn=getBuilder(rn)(ln?extend$1(extend$1({},_r),{valueFormatter:ln}):_r,rn,nn>0?Br.html:0,Mr);cn!=null&&zr.push(cn)});var Kr=_r.renderMode==="richText"?zr.join(Br.richText):wrapBlockHTML(zr.join(""),$r?Dr:Br.html);if($r)return Kr;var Zr=makeValueReadable(Be.header,"ordinal",_r.useUTC),Jr=getTooltipTextStyle(Mr,_r.renderMode).nameStyle;return _r.renderMode==="richText"?wrapInlineNameRichText(_r,Zr,Jr)+Br.richText+Kr:wrapBlockHTML('<div style="'+Jr+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(Zr)+"</div>"+Kr,Dr)}function buildNameValue(_r,Be,Dr,Mr){var $r=_r.renderMode,Br=Be.noName,zr=Be.noValue,Vr=!Be.markerType,jr=Be.name,Gr=_r.useUTC,Wr=Be.valueFormatter||_r.valueFormatter||function(bn){return bn=isArray$1(bn)?bn:[bn],map$1(bn,function(An,vn){return makeValueReadable(An,isArray$1(Jr)?Jr[vn]:Jr,Gr)})};if(!(Br&&zr)){var Kr=Vr?"":_r.markupStyleCreator.makeTooltipMarker(Be.markerType,Be.markerColor||"#333",$r),Zr=Br?"":makeValueReadable(jr,"ordinal",Gr),Jr=Be.valueType,rn=zr?[]:Wr(Be.value),nn=!Vr||!Br,ln=!Vr&&Br,cn=getTooltipTextStyle(Mr,$r),hn=cn.nameStyle,mn=cn.valueStyle;return $r==="richText"?(Vr?"":Kr)+(Br?"":wrapInlineNameRichText(_r,Zr,hn))+(zr?"":wrapInlineValueRichText(_r,rn,nn,ln,mn)):wrapBlockHTML((Vr?"":Kr)+(Br?"":wrapInlineNameHTML(Zr,!Vr,hn))+(zr?"":wrapInlineValueHTML(rn,nn,ln,mn)),Dr)}}function buildTooltipMarkup(_r,Be,Dr,Mr,$r,Br){if(_r){var zr=getBuilder(_r),Vr={useUTC:$r,renderMode:Dr,orderMode:Mr,markupStyleCreator:Be,valueFormatter:_r.valueFormatter};return zr(Vr,_r,0,Br)}}function getGap(_r){return{html:HTML_GAPS[_r],richText:RICH_TEXT_GAPS[_r]}}function wrapBlockHTML(_r,Be){var Dr='<div style="clear:both"></div>',Mr="margin: "+Be+"px 0 0";return'<div style="'+Mr+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+_r+Dr+"</div>"}function wrapInlineNameHTML(_r,Be,Dr){var Mr=Be?"margin-left:2px":"";return'<span style="'+Dr+";"+Mr+'">'+encodeHTML(_r)+"</span>"}function wrapInlineValueHTML(_r,Be,Dr,Mr){var $r=Dr?"10px":"20px",Br=Be?"float:right;margin-left:"+$r:"";return _r=isArray$1(_r)?_r:[_r],'<span style="'+Br+";"+Mr+'">'+map$1(_r,function(zr){return encodeHTML(zr)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(_r,Be,Dr){return _r.markupStyleCreator.wrapRichTextStyle(Be,Dr)}function wrapInlineValueRichText(_r,Be,Dr,Mr,$r){var Br=[$r],zr=Mr?10:20;return Dr&&Br.push({padding:[0,0,0,zr],align:"right"}),_r.markupStyleCreator.wrapRichTextStyle(isArray$1(Be)?Be.join("  "):Be,Br)}function retrieveVisualColorForTooltipMarker(_r,Be){var Dr=_r.getData().getItemVisual(Be,"style"),Mr=Dr[_r.visualDrawType];return convertToColorString(Mr)}function getPaddingFromTooltipModel(_r,Be){var Dr=_r.get("padding");return Dr??(Be==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function _r(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return _r.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},_r.prototype.makeTooltipMarker=function(Be,Dr,Mr){var $r=Mr==="richText"?this._generateStyleName():null,Br=getTooltipMarker({color:Dr,type:Be,renderMode:Mr,markerId:$r});return isString(Br)?Br:(this.richTextStyles[$r]=Br.style,Br.content)},_r.prototype.wrapRichTextStyle=function(Be,Dr){var Mr={};isArray$1(Dr)?each$f(Dr,function(Br){return extend$1(Mr,Br)}):extend$1(Mr,Dr);var $r=this._generateStyleName();return this.richTextStyles[$r]=Mr,"{"+$r+"|"+Be+"}"},_r}();function defaultSeriesFormatTooltip(_r){var Be=_r.series,Dr=_r.dataIndex,Mr=_r.multipleSeries,$r=Be.getData(),Br=$r.mapDimensionsAll("defaultedTooltip"),zr=Br.length,Vr=Be.getRawValue(Dr),jr=isArray$1(Vr),Gr=retrieveVisualColorForTooltipMarker(Be,Dr),Wr,Kr,Zr,Jr;if(zr>1||jr&&!zr){var rn=formatTooltipArrayValue(Vr,Be,Dr,Br,Gr);Wr=rn.inlineValues,Kr=rn.inlineValueTypes,Zr=rn.blocks,Jr=rn.inlineValues[0]}else if(zr){var nn=$r.getDimensionInfo(Br[0]);Jr=Wr=retrieveRawValue($r,Dr,Br[0]),Kr=nn.type}else Jr=Wr=jr?Vr[0]:Vr;var ln=isNameSpecified(Be),cn=ln&&Be.name||"",hn=$r.getName(Dr),mn=Mr?cn:hn;return createTooltipMarkup("section",{header:cn,noHeader:Mr||!ln,sortParam:Jr,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:Gr,name:mn,noName:!trim$1(mn),value:Wr,valueType:Kr})].concat(Zr||[])})}function formatTooltipArrayValue(_r,Be,Dr,Mr,$r){var Br=Be.getData(),zr=reduce(_r,function(Kr,Zr,Jr){var rn=Br.getDimensionInfo(Jr);return Kr=Kr||rn&&rn.tooltip!==!1&&rn.displayName!=null},!1),Vr=[],jr=[],Gr=[];Mr.length?each$f(Mr,function(Kr){Wr(retrieveRawValue(Br,Dr,Kr),Kr)}):each$f(_r,Wr);function Wr(Kr,Zr){var Jr=Br.getDimensionInfo(Zr);!Jr||Jr.otherDims.tooltip===!1||(zr?Gr.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:$r,name:Jr.displayName,value:Kr,valueType:Jr.type})):(Vr.push(Kr),jr.push(Jr.type)))}return{inlineValues:Vr,inlineValueTypes:jr,blocks:Gr}}var inner$k=makeInner();function getSelectionKey(_r,Be){return _r.getName(Be)||_r.getId(Be)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr._selectedDataIndicesMap={},Dr}return Be.prototype.init=function(Dr,Mr,$r){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(Dr,$r);var Br=inner$k(this).sourceManager=new SourceManager(this);Br.prepareSource();var zr=this.getInitialData(Dr,$r);wrapData(zr,this),this.dataTask.context.data=zr,inner$k(this).dataBeforeProcessed=zr,autoSeriesName(this),this._initSelectedMapFromData(zr)},Be.prototype.mergeDefaultAndTheme=function(Dr,Mr){var $r=fetchLayoutMode(this),Br=$r?getLayoutParams(Dr):{},zr=this.subType;ComponentModel$1.hasClass(zr)&&(zr+="Series"),merge(Dr,Mr.getTheme().get(this.subType)),merge(Dr,this.getDefaultOption()),defaultEmphasis(Dr,"label",["show"]),this.fillDataTextStyle(Dr.data),$r&&mergeLayoutParam(Dr,Br,$r)},Be.prototype.mergeOption=function(Dr,Mr){Dr=merge(this.option,Dr,!0),this.fillDataTextStyle(Dr.data);var $r=fetchLayoutMode(this);$r&&mergeLayoutParam(this.option,Dr,$r);var Br=inner$k(this).sourceManager;Br.dirty(),Br.prepareSource();var zr=this.getInitialData(Dr,Mr);wrapData(zr,this),this.dataTask.dirty(),this.dataTask.context.data=zr,inner$k(this).dataBeforeProcessed=zr,autoSeriesName(this),this._initSelectedMapFromData(zr)},Be.prototype.fillDataTextStyle=function(Dr){if(Dr&&!isTypedArray(Dr))for(var Mr=["show"],$r=0;$r<Dr.length;$r++)Dr[$r]&&Dr[$r].label&&defaultEmphasis(Dr[$r],"label",Mr)},Be.prototype.getInitialData=function(Dr,Mr){},Be.prototype.appendData=function(Dr){var Mr=this.getRawData();Mr.appendData(Dr.data)},Be.prototype.getData=function(Dr){var Mr=getCurrentTask(this);if(Mr){var $r=Mr.context.data;return Dr==null?$r:$r.getLinkedData(Dr)}else return inner$k(this).data},Be.prototype.getAllData=function(){var Dr=this.getData();return Dr&&Dr.getLinkedDataAll?Dr.getLinkedDataAll():[{data:Dr}]},Be.prototype.setData=function(Dr){var Mr=getCurrentTask(this);if(Mr){var $r=Mr.context;$r.outputData=Dr,Mr!==this.dataTask&&($r.data=Dr)}inner$k(this).data=Dr},Be.prototype.getEncode=function(){var Dr=this.get("encode",!0);if(Dr)return createHashMap(Dr)},Be.prototype.getSourceManager=function(){return inner$k(this).sourceManager},Be.prototype.getSource=function(){return this.getSourceManager().getSource()},Be.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},Be.prototype.getColorBy=function(){var Dr=this.get("colorBy");return Dr||"series"},Be.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},Be.prototype.getBaseAxis=function(){var Dr=this.coordinateSystem;return Dr&&Dr.getBaseAxis&&Dr.getBaseAxis()},Be.prototype.formatTooltip=function(Dr,Mr,$r){return defaultSeriesFormatTooltip({series:this,dataIndex:Dr,multipleSeries:Mr})},Be.prototype.isAnimationEnabled=function(){var Dr=this.ecModel;if(env$1.node&&!(Dr&&Dr.ssr))return!1;var Mr=this.getShallow("animation");return Mr&&this.getData().count()>this.getShallow("animationThreshold")&&(Mr=!1),!!Mr},Be.prototype.restoreData=function(){this.dataTask.dirty()},Be.prototype.getColorFromPalette=function(Dr,Mr,$r){var Br=this.ecModel,zr=PaletteMixin.prototype.getColorFromPalette.call(this,Dr,Mr,$r);return zr||(zr=Br.getColorFromPalette(Dr,Mr,$r)),zr},Be.prototype.coordDimToDataDim=function(Dr){return this.getRawData().mapDimensionsAll(Dr)},Be.prototype.getProgressive=function(){return this.get("progressive")},Be.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},Be.prototype.select=function(Dr,Mr){this._innerSelect(this.getData(Mr),Dr)},Be.prototype.unselect=function(Dr,Mr){var $r=this.option.selectedMap;if($r){var Br=this.option.selectedMode,zr=this.getData(Mr);if(Br==="series"||$r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var Vr=0;Vr<Dr.length;Vr++){var jr=Dr[Vr],Gr=getSelectionKey(zr,jr);$r[Gr]=!1,this._selectedDataIndicesMap[Gr]=-1}}},Be.prototype.toggleSelect=function(Dr,Mr){for(var $r=[],Br=0;Br<Dr.length;Br++)$r[0]=Dr[Br],this.isSelected(Dr[Br],Mr)?this.unselect($r,Mr):this.select($r,Mr)},Be.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var Dr=this._selectedDataIndicesMap,Mr=keys(Dr),$r=[],Br=0;Br<Mr.length;Br++){var zr=Dr[Mr[Br]];zr>=0&&$r.push(zr)}return $r},Be.prototype.isSelected=function(Dr,Mr){var $r=this.option.selectedMap;if(!$r)return!1;var Br=this.getData(Mr);return($r==="all"||$r[getSelectionKey(Br,Dr)])&&!Br.getItemModel(Dr).get(["select","disabled"])},Be.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var Dr=this.option.universalTransition;return Dr?Dr===!0?!0:Dr&&Dr.enabled:!1},Be.prototype._innerSelect=function(Dr,Mr){var $r,Br,zr=this.option,Vr=zr.selectedMode,jr=Mr.length;if(!(!Vr||!jr)){if(Vr==="series")zr.selectedMap="all";else if(Vr==="multiple"){isObject$3(zr.selectedMap)||(zr.selectedMap={});for(var Gr=zr.selectedMap,Wr=0;Wr<jr;Wr++){var Kr=Mr[Wr],Zr=getSelectionKey(Dr,Kr);Gr[Zr]=!0,this._selectedDataIndicesMap[Zr]=Dr.getRawIndex(Kr)}}else if(Vr==="single"||Vr===!0){var Jr=Mr[jr-1],Zr=getSelectionKey(Dr,Jr);zr.selectedMap=($r={},$r[Zr]=!0,$r),this._selectedDataIndicesMap=(Br={},Br[Zr]=Dr.getRawIndex(Jr),Br)}}},Be.prototype._initSelectedMapFromData=function(Dr){if(!this.option.selectedMap){var Mr=[];Dr.hasItemOption&&Dr.each(function($r){var Br=Dr.getRawDataItem($r);Br&&Br.selected&&Mr.push($r)}),Mr.length>0&&this._innerSelect(Dr,Mr)}},Be.registerClass=function(Dr){return ComponentModel$1.registerClass(Dr)},Be.protoInitialize=function(){var Dr=Be.prototype;Dr.type="series.__base__",Dr.seriesIndex=0,Dr.ignoreStyleOnData=!1,Dr.hasSymbolVisual=!1,Dr.defaultSymbol="circle",Dr.visualStyleAccessPath="itemStyle",Dr.visualDrawType="fill"}(),Be}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(_r){var Be=_r.name;isNameSpecified(_r)||(_r.name=getSeriesAutoName(_r)||Be)}function getSeriesAutoName(_r){var Be=_r.getRawData(),Dr=Be.mapDimensionsAll("seriesName"),Mr=[];return each$f(Dr,function($r){var Br=Be.getDimensionInfo($r);Br.displayName&&Mr.push(Br.displayName)}),Mr.join(" ")}function dataTaskCount(_r){return _r.model.getRawData().count()}function dataTaskReset(_r){var Be=_r.model;return Be.setData(Be.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(_r,Be){Be.outputData&&_r.end>Be.outputData.count()&&Be.model.getRawData().cloneShallow(Be.outputData)}function wrapData(_r,Be){each$f(concatArray(_r.CHANGABLE_METHODS,_r.DOWNSAMPLE_METHODS),function(Dr){_r.wrapMethod(Dr,curry$1(onDataChange,Be))})}function onDataChange(_r,Be){var Dr=getCurrentTask(_r);return Dr&&Dr.setOutputEnd((Be||this).count()),Be}function getCurrentTask(_r){var Be=(_r.ecModel||{}).scheduler,Dr=Be&&Be.getPipeline(_r.uid);if(Dr){var Mr=Dr.currentTask;if(Mr){var $r=Mr.agentStubMap;$r&&(Mr=$r.get(_r.uid))}return Mr}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function _r(){this.group=new Group$4,this.uid=getUID("viewComponent")}return _r.prototype.init=function(Be,Dr){},_r.prototype.render=function(Be,Dr,Mr,$r){},_r.prototype.dispose=function(Be,Dr){},_r.prototype.updateView=function(Be,Dr,Mr,$r){},_r.prototype.updateLayout=function(Be,Dr,Mr,$r){},_r.prototype.updateVisual=function(Be,Dr,Mr,$r){},_r.prototype.toggleBlurSeries=function(Be,Dr,Mr){},_r.prototype.eachRendered=function(Be){var Dr=this.group;Dr&&Dr.traverse(Be)},_r}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var _r=makeInner();return function(Be){var Dr=_r(Be),Mr=Be.pipelineContext,$r=!!Dr.large,Br=!!Dr.progressiveRender,zr=Dr.large=!!(Mr&&Mr.large),Vr=Dr.progressiveRender=!!(Mr&&Mr.progressiveRender);return($r!==zr||Br!==Vr)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function _r(){this.group=new Group$4,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return _r.prototype.init=function(Be,Dr){},_r.prototype.render=function(Be,Dr,Mr,$r){},_r.prototype.highlight=function(Be,Dr,Mr,$r){var Br=Be.getData($r&&$r.dataType);Br&&toggleHighlight(Br,$r,"emphasis")},_r.prototype.downplay=function(Be,Dr,Mr,$r){var Br=Be.getData($r&&$r.dataType);Br&&toggleHighlight(Br,$r,"normal")},_r.prototype.remove=function(Be,Dr){this.group.removeAll()},_r.prototype.dispose=function(Be,Dr){},_r.prototype.updateView=function(Be,Dr,Mr,$r){this.render(Be,Dr,Mr,$r)},_r.prototype.updateLayout=function(Be,Dr,Mr,$r){this.render(Be,Dr,Mr,$r)},_r.prototype.updateVisual=function(Be,Dr,Mr,$r){this.render(Be,Dr,Mr,$r)},_r.prototype.eachRendered=function(Be){traverseElements(this.group,Be)},_r.markUpdateMethod=function(Be,Dr){inner$j(Be).updateMethod=Dr},_r.protoInitialize=function(){var Be=_r.prototype;Be.type="chart"}(),_r}();function elSetState(_r,Be,Dr){_r&&isHighDownDispatcher(_r)&&(Be==="emphasis"?enterEmphasis:leaveEmphasis)(_r,Dr)}function toggleHighlight(_r,Be,Dr){var Mr=queryDataIndex(_r,Be),$r=Be&&Be.highlightKey!=null?getHighlightDigit(Be.highlightKey):null;Mr!=null?each$f(normalizeToArray(Mr),function(Br){elSetState(_r.getItemGraphicEl(Br),Dr,$r)}):_r.eachItemGraphicEl(function(Br){elSetState(Br,Dr,$r)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(_r){return renderPlanner(_r.model)}function renderTaskReset(_r){var Be=_r.model,Dr=_r.ecModel,Mr=_r.api,$r=_r.payload,Br=Be.pipelineContext.progressiveRender,zr=_r.view,Vr=$r&&inner$j($r).updateMethod,jr=Br?"incrementalPrepareRender":Vr&&zr[Vr]?Vr:"render";return jr!=="render"&&zr[jr](Be,Dr,Mr,$r),progressMethodMap[jr]}var progressMethodMap={incrementalPrepareRender:{progress:function(_r,Be){Be.view.incrementalRender(_r,Be.model,Be.ecModel,Be.api,Be.payload)}},render:{forceFirstProgress:!0,progress:function(_r,Be){Be.view.render(Be.model,Be.ecModel,Be.api,Be.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(_r,Be,Dr){var Mr,$r=0,Br=0,zr=null,Vr,jr,Gr,Wr;Be=Be||0;function Kr(){Br=new Date().getTime(),zr=null,_r.apply(jr,Gr||[])}var Zr=function(){for(var Jr=[],rn=0;rn<arguments.length;rn++)Jr[rn]=arguments[rn];Mr=new Date().getTime(),jr=this,Gr=Jr;var nn=Wr||Be,ln=Wr||Dr;Wr=null,Vr=Mr-(ln?$r:Br)-nn,clearTimeout(zr),ln?zr=setTimeout(Kr,nn):Vr>=0?Kr():zr=setTimeout(Kr,-Vr),$r=Mr};return Zr.clear=function(){zr&&(clearTimeout(zr),zr=null)},Zr.debounceNextCall=function(Jr){Wr=Jr},Zr}function createOrUpdate(_r,Be,Dr,Mr){var $r=_r[Be];if($r){var Br=$r[ORIGIN_METHOD]||$r,zr=$r[THROTTLE_TYPE],Vr=$r[RATE];if(Vr!==Dr||zr!==Mr){if(Dr==null||!Mr)return _r[Be]=Br;$r=_r[Be]=throttle(Br,Dr,Mr==="debounce"),$r[ORIGIN_METHOD]=Br,$r[THROTTLE_TYPE]=Mr,$r[RATE]=Dr}return $r}}function clear$1(_r,Be){var Dr=_r[Be];Dr&&Dr[ORIGIN_METHOD]&&(Dr.clear&&Dr.clear(),_r[Be]=Dr[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(_r,Be){var Dr=_r.visualStyleMapper||defaultStyleMappers[Be];return Dr||(console.warn("Unknown style type '"+Be+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(_r,Be){var Dr=_r.visualDrawType||defaultColorKey[Be];return Dr||(console.warn("Unknown style type '"+Be+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(_r,Be){var Dr=_r.getData(),Mr=_r.visualStyleAccessPath||"itemStyle",$r=_r.getModel(Mr),Br=getStyleMapper(_r,Mr),zr=Br($r),Vr=$r.getShallow("decal");Vr&&(Dr.setVisual("decal",Vr),Vr.dirty=!0);var jr=getDefaultColorKey(_r,Mr),Gr=zr[jr],Wr=isFunction(Gr)?Gr:null,Kr=zr.fill==="auto"||zr.stroke==="auto";if(!zr[jr]||Wr||Kr){var Zr=_r.getColorFromPalette(_r.name,null,Be.getSeriesCount());zr[jr]||(zr[jr]=Zr,Dr.setVisual("colorFromPalette",!0)),zr.fill=zr.fill==="auto"||isFunction(zr.fill)?Zr:zr.fill,zr.stroke=zr.stroke==="auto"||isFunction(zr.stroke)?Zr:zr.stroke}if(Dr.setVisual("style",zr),Dr.setVisual("drawType",jr),!Be.isSeriesFiltered(_r)&&Wr)return Dr.setVisual("colorFromPalette",!1),{dataEach:function(Jr,rn){var nn=_r.getDataParams(rn),ln=extend$1({},zr);ln[jr]=Wr(nn),Jr.setItemVisual(rn,"style",ln)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(_r,Be){if(!(_r.ignoreStyleOnData||Be.isSeriesFiltered(_r))){var Dr=_r.getData(),Mr=_r.visualStyleAccessPath||"itemStyle",$r=getStyleMapper(_r,Mr),Br=Dr.getVisual("drawType");return{dataEach:Dr.hasItemOption?function(zr,Vr){var jr=zr.getRawDataItem(Vr);if(jr&&jr[Mr]){sharedModel.option=jr[Mr];var Gr=$r(sharedModel),Wr=zr.ensureUniqueItemVisual(Vr,"style");extend$1(Wr,Gr),sharedModel.option.decal&&(zr.setItemVisual(Vr,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),Br in Gr&&zr.setItemVisual(Vr,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(_r){var Be=createHashMap();_r.eachSeries(function(Dr){var Mr=Dr.getColorBy();if(!Dr.isColorBySeries()){var $r=Dr.type+"-"+Mr,Br=Be.get($r);Br||(Br={},Be.set($r,Br)),inner$i(Dr).scope=Br}}),_r.eachSeries(function(Dr){if(!(Dr.isColorBySeries()||_r.isSeriesFiltered(Dr))){var Mr=Dr.getRawData(),$r={},Br=Dr.getData(),zr=inner$i(Dr).scope,Vr=Dr.visualStyleAccessPath||"itemStyle",jr=getDefaultColorKey(Dr,Vr);Br.each(function(Gr){var Wr=Br.getRawIndex(Gr);$r[Wr]=Gr}),Mr.each(function(Gr){var Wr=$r[Gr],Kr=Br.getItemVisual(Wr,"colorFromPalette");if(Kr){var Zr=Br.ensureUniqueItemVisual(Wr,"style"),Jr=Mr.getName(Gr)||Gr+"",rn=Mr.count();Zr[jr]=Dr.getColorFromPalette(Jr,zr,rn)}})}})}},PI$5=Math.PI;function defaultLoading(_r,Be){Be=Be||{},defaults(Be,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var Dr=new Group$4,Mr=new Rect$3({style:{fill:Be.maskColor},zlevel:Be.zlevel,z:1e4});Dr.add(Mr);var $r=new ZRText$1({style:{text:Be.text,fill:Be.textColor,fontSize:Be.fontSize,fontWeight:Be.fontWeight,fontStyle:Be.fontStyle,fontFamily:Be.fontFamily},zlevel:Be.zlevel,z:10001}),Br=new Rect$3({style:{fill:"none"},textContent:$r,textConfig:{position:"right",distance:10},zlevel:Be.zlevel,z:10001});Dr.add(Br);var zr;return Be.showSpinner&&(zr=new Arc$1({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:Be.spinnerRadius},style:{stroke:Be.color,lineCap:"round",lineWidth:Be.lineWidth},zlevel:Be.zlevel,z:10001}),zr.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),zr.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),Dr.add(zr)),Dr.resize=function(){var Vr=$r.getBoundingRect().width,jr=Be.showSpinner?Be.spinnerRadius:0,Gr=(_r.getWidth()-jr*2-(Be.showSpinner&&Vr?10:0)-Vr)/2-(Be.showSpinner&&Vr?0:5+Vr/2)+(Be.showSpinner?0:Vr/2)+(Vr?0:jr),Wr=_r.getHeight()/2;Be.showSpinner&&zr.setShape({cx:Gr,cy:Wr}),Br.setShape({x:Gr-jr,y:Wr-jr,width:jr*2,height:jr*2}),Mr.setShape({x:0,y:0,width:_r.getWidth(),height:_r.getHeight()})},Dr.resize(),Dr}var Scheduler=function(){function _r(Be,Dr,Mr,$r){this._stageTaskMap=createHashMap(),this.ecInstance=Be,this.api=Dr,Mr=this._dataProcessorHandlers=Mr.slice(),$r=this._visualHandlers=$r.slice(),this._allHandlers=Mr.concat($r)}return _r.prototype.restoreData=function(Be,Dr){Be.restoreData(Dr),this._stageTaskMap.each(function(Mr){var $r=Mr.overallTask;$r&&$r.dirty()})},_r.prototype.getPerformArgs=function(Be,Dr){if(Be.__pipeline){var Mr=this._pipelineMap.get(Be.__pipeline.id),$r=Mr.context,Br=!Dr&&Mr.progressiveEnabled&&(!$r||$r.progressiveRender)&&Be.__idxInPipeline>Mr.blockIndex,zr=Br?Mr.step:null,Vr=$r&&$r.modDataCount,jr=Vr!=null?Math.ceil(Vr/zr):null;return{step:zr,modBy:jr,modDataCount:Vr}}},_r.prototype.getPipeline=function(Be){return this._pipelineMap.get(Be)},_r.prototype.updateStreamModes=function(Be,Dr){var Mr=this._pipelineMap.get(Be.uid),$r=Be.getData(),Br=$r.count(),zr=Mr.progressiveEnabled&&Dr.incrementalPrepareRender&&Br>=Mr.threshold,Vr=Be.get("large")&&Br>=Be.get("largeThreshold"),jr=Be.get("progressiveChunkMode")==="mod"?Br:null;Be.pipelineContext=Mr.context={progressiveRender:zr,modDataCount:jr,large:Vr}},_r.prototype.restorePipelines=function(Be){var Dr=this,Mr=Dr._pipelineMap=createHashMap();Be.eachSeries(function($r){var Br=$r.getProgressive(),zr=$r.uid;Mr.set(zr,{id:zr,head:null,tail:null,threshold:$r.getProgressiveThreshold(),progressiveEnabled:Br&&!($r.preventIncremental&&$r.preventIncremental()),blockIndex:-1,step:Math.round(Br||700),count:0}),Dr._pipe($r,$r.dataTask)})},_r.prototype.prepareStageTasks=function(){var Be=this._stageTaskMap,Dr=this.api.getModel(),Mr=this.api;each$f(this._allHandlers,function($r){var Br=Be.get($r.uid)||Be.set($r.uid,{}),zr="";assert(!($r.reset&&$r.overallReset),zr),$r.reset&&this._createSeriesStageTask($r,Br,Dr,Mr),$r.overallReset&&this._createOverallStageTask($r,Br,Dr,Mr)},this)},_r.prototype.prepareView=function(Be,Dr,Mr,$r){var Br=Be.renderTask,zr=Br.context;zr.model=Dr,zr.ecModel=Mr,zr.api=$r,Br.__block=!Be.incrementalPrepareRender,this._pipe(Dr,Br)},_r.prototype.performDataProcessorTasks=function(Be,Dr){this._performStageTasks(this._dataProcessorHandlers,Be,Dr,{block:!0})},_r.prototype.performVisualTasks=function(Be,Dr,Mr){this._performStageTasks(this._visualHandlers,Be,Dr,Mr)},_r.prototype._performStageTasks=function(Be,Dr,Mr,$r){$r=$r||{};var Br=!1,zr=this;each$f(Be,function(jr,Gr){if(!($r.visualType&&$r.visualType!==jr.visualType)){var Wr=zr._stageTaskMap.get(jr.uid),Kr=Wr.seriesTaskMap,Zr=Wr.overallTask;if(Zr){var Jr,rn=Zr.agentStubMap;rn.each(function(ln){Vr($r,ln)&&(ln.dirty(),Jr=!0)}),Jr&&Zr.dirty(),zr.updatePayload(Zr,Mr);var nn=zr.getPerformArgs(Zr,$r.block);rn.each(function(ln){ln.perform(nn)}),Zr.perform(nn)&&(Br=!0)}else Kr&&Kr.each(function(ln,cn){Vr($r,ln)&&ln.dirty();var hn=zr.getPerformArgs(ln,$r.block);hn.skip=!jr.performRawSeries&&Dr.isSeriesFiltered(ln.context.model),zr.updatePayload(ln,Mr),ln.perform(hn)&&(Br=!0)})}});function Vr(jr,Gr){return jr.setDirty&&(!jr.dirtyMap||jr.dirtyMap.get(Gr.__pipeline.id))}this.unfinished=Br||this.unfinished},_r.prototype.performSeriesTasks=function(Be){var Dr;Be.eachSeries(function(Mr){Dr=Mr.dataTask.perform()||Dr}),this.unfinished=Dr||this.unfinished},_r.prototype.plan=function(){this._pipelineMap.each(function(Be){var Dr=Be.tail;do{if(Dr.__block){Be.blockIndex=Dr.__idxInPipeline;break}Dr=Dr.getUpstream()}while(Dr)})},_r.prototype.updatePayload=function(Be,Dr){Dr!=="remain"&&(Be.context.payload=Dr)},_r.prototype._createSeriesStageTask=function(Be,Dr,Mr,$r){var Br=this,zr=Dr.seriesTaskMap,Vr=Dr.seriesTaskMap=createHashMap(),jr=Be.seriesType,Gr=Be.getTargetSeries;Be.createOnAllSeries?Mr.eachRawSeries(Wr):jr?Mr.eachRawSeriesByType(jr,Wr):Gr&&Gr(Mr,$r).each(Wr);function Wr(Kr){var Zr=Kr.uid,Jr=Vr.set(Zr,zr&&zr.get(Zr)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));Jr.context={model:Kr,ecModel:Mr,api:$r,useClearVisual:Be.isVisual&&!Be.isLayout,plan:Be.plan,reset:Be.reset,scheduler:Br},Br._pipe(Kr,Jr)}},_r.prototype._createOverallStageTask=function(Be,Dr,Mr,$r){var Br=this,zr=Dr.overallTask=Dr.overallTask||createTask({reset:overallTaskReset});zr.context={ecModel:Mr,api:$r,overallReset:Be.overallReset,scheduler:Br};var Vr=zr.agentStubMap,jr=zr.agentStubMap=createHashMap(),Gr=Be.seriesType,Wr=Be.getTargetSeries,Kr=!0,Zr=!1,Jr="";assert(!Be.createOnAllSeries,Jr),Gr?Mr.eachRawSeriesByType(Gr,rn):Wr?Wr(Mr,$r).each(rn):(Kr=!1,each$f(Mr.getSeries(),rn));function rn(nn){var ln=nn.uid,cn=jr.set(ln,Vr&&Vr.get(ln)||(Zr=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));cn.context={model:nn,overallProgress:Kr},cn.agent=zr,cn.__block=Kr,Br._pipe(nn,cn)}Zr&&zr.dirty()},_r.prototype._pipe=function(Be,Dr){var Mr=Be.uid,$r=this._pipelineMap.get(Mr);!$r.head&&($r.head=Dr),$r.tail&&$r.tail.pipe(Dr),$r.tail=Dr,Dr.__idxInPipeline=$r.count++,Dr.__pipeline=$r},_r.wrapStageHandler=function(Be,Dr){return isFunction(Be)&&(Be={overallReset:Be,seriesType:detectSeriseType(Be)}),Be.uid=getUID("stageHandler"),Dr&&(Be.visualType=Dr),Be},_r}();function overallTaskReset(_r){_r.overallReset(_r.ecModel,_r.api,_r.payload)}function stubReset(_r){return _r.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(_r){return _r.plan?_r.plan(_r.model,_r.ecModel,_r.api,_r.payload):null}function seriesTaskReset(_r){_r.useClearVisual&&_r.data.clearAllVisual();var Be=_r.resetDefines=normalizeToArray(_r.reset(_r.model,_r.ecModel,_r.api,_r.payload));return Be.length>1?map$1(Be,function(Dr,Mr){return makeSeriesTaskProgress(Mr)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(_r){return function(Be,Dr){var Mr=Dr.data,$r=Dr.resetDefines[_r];if($r&&$r.dataEach)for(var Br=Be.start;Br<Be.end;Br++)$r.dataEach(Mr,Br);else $r&&$r.progress&&$r.progress(Be,Mr)}}function seriesTaskCount(_r){return _r.data.count()}function detectSeriseType(_r){seriesType=null;try{_r(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1);mockMethods(apiMock,ExtensionAPI$1);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(_r){seriesType=_r};ecModelMock.eachComponent=function(_r){_r.mainType==="series"&&_r.subType&&(seriesType=_r.subType)};function mockMethods(_r,Be){for(var Dr in Be.prototype)_r[Dr]=noop}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function _r(){}return _r.prototype.normalizeQuery=function(Be){var Dr={},Mr={},$r={};if(isString(Be)){var Br=parseClassType(Be);Dr.mainType=Br.main||null,Dr.subType=Br.sub||null}else{var zr=["Index","Name","Id"],Vr={name:1,dataIndex:1,dataType:1};each$f(Be,function(jr,Gr){for(var Wr=!1,Kr=0;Kr<zr.length;Kr++){var Zr=zr[Kr],Jr=Gr.lastIndexOf(Zr);if(Jr>0&&Jr===Gr.length-Zr.length){var rn=Gr.slice(0,Jr);rn!=="data"&&(Dr.mainType=rn,Dr[Zr.toLowerCase()]=jr,Wr=!0)}}Vr.hasOwnProperty(Gr)&&(Mr[Gr]=jr,Wr=!0),Wr||($r[Gr]=jr)})}return{cptQuery:Dr,dataQuery:Mr,otherQuery:$r}},_r.prototype.filter=function(Be,Dr){var Mr=this.eventInfo;if(!Mr)return!0;var $r=Mr.targetEl,Br=Mr.packedEvent,zr=Mr.model,Vr=Mr.view;if(!zr||!Vr)return!0;var jr=Dr.cptQuery,Gr=Dr.dataQuery;return Wr(jr,zr,"mainType")&&Wr(jr,zr,"subType")&&Wr(jr,zr,"index","componentIndex")&&Wr(jr,zr,"name")&&Wr(jr,zr,"id")&&Wr(Gr,Br,"name")&&Wr(Gr,Br,"dataIndex")&&Wr(Gr,Br,"dataType")&&(!Vr.filterForExposedEvent||Vr.filterForExposedEvent(Be,Dr.otherQuery,$r,Br));function Wr(Kr,Zr,Jr,rn){return Kr[Jr]==null||Zr[rn||Jr]===Kr[Jr]}},_r.prototype.afterTrigger=function(){this.eventInfo=null},_r}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(_r,Be){var Dr=_r.getData();if(_r.legendIcon&&Dr.setVisual("legendIcon",_r.legendIcon),!_r.hasSymbolVisual)return;for(var Mr={},$r={},Br=!1,zr=0;zr<SYMBOL_PROPS_WITH_CB.length;zr++){var Vr=SYMBOL_PROPS_WITH_CB[zr],jr=_r.get(Vr);isFunction(jr)?(Br=!0,$r[Vr]=jr):Mr[Vr]=jr}if(Mr.symbol=Mr.symbol||_r.defaultSymbol,Dr.setVisual(extend$1({legendIcon:_r.legendIcon||Mr.symbol,symbolKeepAspect:_r.get("symbolKeepAspect")},Mr)),Be.isSeriesFiltered(_r))return;var Gr=keys($r);function Wr(Kr,Zr){for(var Jr=_r.getRawValue(Zr),rn=_r.getDataParams(Zr),nn=0;nn<Gr.length;nn++){var ln=Gr[nn];Kr.setItemVisual(Zr,ln,$r[ln](Jr,rn))}}return{dataEach:Br?Wr:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(_r,Be){if(!_r.hasSymbolVisual||Be.isSeriesFiltered(_r))return;var Dr=_r.getData();function Mr($r,Br){for(var zr=$r.getItemModel(Br),Vr=0;Vr<SYMBOL_PROPS.length;Vr++){var jr=SYMBOL_PROPS[Vr],Gr=zr.getShallow(jr,!0);Gr!=null&&$r.setItemVisual(Br,jr,Gr)}}return{dataEach:Dr.hasItemOption?Mr:null}}};function getItemVisualFromData(_r,Be,Dr){switch(Dr){case"color":var Mr=_r.getItemVisual(Be,"style");return Mr[_r.getVisual("drawType")];case"opacity":return _r.getItemVisual(Be,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return _r.getItemVisual(Be,Dr)}}function getVisualFromData(_r,Be){switch(Be){case"color":var Dr=_r.getVisual("style");return Dr[_r.getVisual("drawType")];case"opacity":return _r.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return _r.getVisual(Be)}}function setItemVisualFromData(_r,Be,Dr,Mr){switch(Dr){case"color":var $r=_r.ensureUniqueItemVisual(Be,"style");$r[_r.getVisual("drawType")]=Mr,_r.setItemVisual(Be,"colorFromPalette",!1);break;case"opacity":_r.ensureUniqueItemVisual(Be,"style").opacity=Mr;break;case"symbol":case"symbolSize":case"liftZ":_r.setItemVisual(Be,Dr,Mr);break}}function createLegacyDataSelectAction(_r,Be){function Dr(Mr,$r){var Br=[];return Mr.eachComponent({mainType:"series",subType:_r,query:$r},function(zr){Br.push(zr.seriesIndex)}),Br}each$f([[_r+"ToggleSelect","toggleSelect"],[_r+"Select","select"],[_r+"UnSelect","unselect"]],function(Mr){Be(Mr[0],function($r,Br,zr){$r=extend$1({},$r),zr.dispatchAction(extend$1($r,{type:Mr[1],seriesIndex:Dr(Br,$r)}))})})}function handleSeriesLegacySelectEvents(_r,Be,Dr,Mr,$r){var Br=_r+Be;Dr.isSilent(Br)||Mr.eachComponent({mainType:"series",subType:"pie"},function(zr){for(var Vr=zr.seriesIndex,jr=zr.option.selectedMap,Gr=$r.selected,Wr=0;Wr<Gr.length;Wr++)if(Gr[Wr].seriesIndex===Vr){var Kr=zr.getData(),Zr=queryDataIndex(Kr,$r.fromActionPayload);Dr.trigger(Br,{type:Br,seriesId:zr.id,name:isArray$1(Zr)?Kr.getName(Zr[0]):Kr.getName(Zr),selected:isString(jr)?jr:extend$1({},jr)})}})}function handleLegacySelectEvents(_r,Be,Dr){_r.on("selectchanged",function(Mr){var $r=Dr.getModel();Mr.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",Be,$r,Mr),handleSeriesLegacySelectEvents("pie","selectchanged",Be,$r,Mr)):Mr.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",Be,$r,Mr),handleSeriesLegacySelectEvents("pie","selected",Be,$r,Mr)):Mr.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",Be,$r,Mr),handleSeriesLegacySelectEvents("pie","unselected",Be,$r,Mr))})}function findEventDispatcher(_r,Be,Dr){for(var Mr;_r&&!(Be(_r)&&(Mr=_r,Dr));)_r=_r.__hostTarget||_r.parent;return Mr}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function _r(){this._id="__ec_inner_"+wmUniqueIndex++}return _r.prototype.get=function(Be){return this._guard(Be)[this._id]},_r.prototype.set=function(Be,Dr){var Mr=this._guard(Be);return supportDefineProperty?Object.defineProperty(Mr,this._id,{value:Dr,enumerable:!1,configurable:!0}):Mr[this._id]=Dr,this},_r.prototype.delete=function(Be){return this.has(Be)?(delete this._guard(Be)[this._id],!0):!1},_r.prototype.has=function(Be){return!!this._guard(Be)[this._id]},_r.prototype._guard=function(Be){if(Be!==Object(Be))throw TypeError("Value of WeakMap is not a non-null object.");return Be},_r}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(_r,Be){var Dr=Be.cx,Mr=Be.cy,$r=Be.width/2,Br=Be.height/2;_r.moveTo(Dr,Mr-Br),_r.lineTo(Dr+$r,Mr+Br),_r.lineTo(Dr-$r,Mr+Br),_r.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(_r,Be){var Dr=Be.cx,Mr=Be.cy,$r=Be.width/2,Br=Be.height/2;_r.moveTo(Dr,Mr-Br),_r.lineTo(Dr+$r,Mr),_r.lineTo(Dr,Mr+Br),_r.lineTo(Dr-$r,Mr),_r.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(_r,Be){var Dr=Be.x,Mr=Be.y,$r=Be.width/5*3,Br=Math.max($r,Be.height),zr=$r/2,Vr=zr*zr/(Br-zr),jr=Mr-Br+zr+Vr,Gr=Math.asin(Vr/zr),Wr=Math.cos(Gr)*zr,Kr=Math.sin(Gr),Zr=Math.cos(Gr),Jr=zr*.6,rn=zr*.7;_r.moveTo(Dr-Wr,jr+Vr),_r.arc(Dr,jr,zr,Math.PI-Gr,Math.PI*2+Gr),_r.bezierCurveTo(Dr+Wr-Kr*Jr,jr+Vr+Zr*Jr,Dr,Mr-rn,Dr,Mr),_r.bezierCurveTo(Dr,Mr-rn,Dr-Wr+Kr*Jr,jr+Vr+Zr*Jr,Dr-Wr,jr+Vr),_r.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(_r,Be){var Dr=Be.height,Mr=Be.width,$r=Be.x,Br=Be.y,zr=Mr/3*2;_r.moveTo($r,Br),_r.lineTo($r+zr,Br+Dr),_r.lineTo($r,Br+Dr/4*3),_r.lineTo($r-zr,Br+Dr),_r.lineTo($r,Br),_r.closePath()}}),symbolCtors={line:Line$3,rect:Rect$3,roundRect:Rect$3,square:Rect$3,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(_r,Be,Dr,Mr,$r){$r.x1=_r,$r.y1=Be+Mr/2,$r.x2=_r+Dr,$r.y2=Be+Mr/2},rect:function(_r,Be,Dr,Mr,$r){$r.x=_r,$r.y=Be,$r.width=Dr,$r.height=Mr},roundRect:function(_r,Be,Dr,Mr,$r){$r.x=_r,$r.y=Be,$r.width=Dr,$r.height=Mr,$r.r=Math.min(Dr,Mr)/4},square:function(_r,Be,Dr,Mr,$r){var Br=Math.min(Dr,Mr);$r.x=_r,$r.y=Be,$r.width=Br,$r.height=Br},circle:function(_r,Be,Dr,Mr,$r){$r.cx=_r+Dr/2,$r.cy=Be+Mr/2,$r.r=Math.min(Dr,Mr)/2},diamond:function(_r,Be,Dr,Mr,$r){$r.cx=_r+Dr/2,$r.cy=Be+Mr/2,$r.width=Dr,$r.height=Mr},pin:function(_r,Be,Dr,Mr,$r){$r.x=_r+Dr/2,$r.y=Be+Mr/2,$r.width=Dr,$r.height=Mr},arrow:function(_r,Be,Dr,Mr,$r){$r.x=_r+Dr/2,$r.y=Be+Mr/2,$r.width=Dr,$r.height=Mr},triangle:function(_r,Be,Dr,Mr,$r){$r.cx=_r+Dr/2,$r.cy=Be+Mr/2,$r.width=Dr,$r.height=Mr}},symbolBuildProxies={};each$f(symbolCtors,function(_r,Be){symbolBuildProxies[Be]=new _r});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(_r,Be,Dr){var Mr=calculateTextPosition(_r,Be,Dr),$r=this.shape;return $r&&$r.symbolType==="pin"&&Be.position==="inside"&&(Mr.y=Dr.y+Dr.height*.4),Mr},buildPath:function(_r,Be,Dr){var Mr=Be.symbolType;if(Mr!=="none"){var $r=symbolBuildProxies[Mr];$r||(Mr="rect",$r=symbolBuildProxies[Mr]),symbolShapeMakers[Mr](Be.x,Be.y,Be.width,Be.height,$r.shape),$r.buildPath(_r,$r.shape,Dr)}}});function symbolPathSetColor(_r,Be){if(this.type!=="image"){var Dr=this.style;this.__isEmptyBrush?(Dr.stroke=_r,Dr.fill=Be||"#fff",Dr.lineWidth=2):this.shape.symbolType==="line"?Dr.stroke=_r:Dr.fill=_r,this.markRedraw()}}function createSymbol$1(_r,Be,Dr,Mr,$r,Br,zr){var Vr=_r.indexOf("empty")===0;Vr&&(_r=_r.substr(5,1).toLowerCase()+_r.substr(6));var jr;return _r.indexOf("image://")===0?jr=makeImage(_r.slice(8),new BoundingRect$1(Be,Dr,Mr,$r),zr?"center":"cover"):_r.indexOf("path://")===0?jr=makePath(_r.slice(7),{},new BoundingRect$1(Be,Dr,Mr,$r),zr?"center":"cover"):jr=new SymbolClz$1({shape:{symbolType:_r,x:Be,y:Dr,width:Mr,height:$r}}),jr.__isEmptyBrush=Vr,jr.setColor=symbolPathSetColor,Br&&jr.setColor(Br),jr}function normalizeSymbolSize(_r){return isArray$1(_r)||(_r=[+_r,+_r]),[_r[0]||0,_r[1]||0]}function normalizeSymbolOffset(_r,Be){if(_r!=null)return isArray$1(_r)||(_r=[_r,_r]),[parsePercent(_r[0],Be[0])||0,parsePercent(retrieve2(_r[1],_r[0]),Be[1])||0]}function isSafeNum(_r){return isFinite(_r)}function createLinearGradient(_r,Be,Dr){var Mr=Be.x==null?0:Be.x,$r=Be.x2==null?1:Be.x2,Br=Be.y==null?0:Be.y,zr=Be.y2==null?0:Be.y2;Be.global||(Mr=Mr*Dr.width+Dr.x,$r=$r*Dr.width+Dr.x,Br=Br*Dr.height+Dr.y,zr=zr*Dr.height+Dr.y),Mr=isSafeNum(Mr)?Mr:0,$r=isSafeNum($r)?$r:1,Br=isSafeNum(Br)?Br:0,zr=isSafeNum(zr)?zr:0;var Vr=_r.createLinearGradient(Mr,Br,$r,zr);return Vr}function createRadialGradient(_r,Be,Dr){var Mr=Dr.width,$r=Dr.height,Br=Math.min(Mr,$r),zr=Be.x==null?.5:Be.x,Vr=Be.y==null?.5:Be.y,jr=Be.r==null?.5:Be.r;Be.global||(zr=zr*Mr+Dr.x,Vr=Vr*$r+Dr.y,jr=jr*Br),zr=isSafeNum(zr)?zr:.5,Vr=isSafeNum(Vr)?Vr:.5,jr=jr>=0&&isSafeNum(jr)?jr:.5;var Gr=_r.createRadialGradient(zr,Vr,0,zr,Vr,jr);return Gr}function getCanvasGradient(_r,Be,Dr){for(var Mr=Be.type==="radial"?createRadialGradient(_r,Be,Dr):createLinearGradient(_r,Be,Dr),$r=Be.colorStops,Br=0;Br<$r.length;Br++)Mr.addColorStop($r[Br].offset,$r[Br].color);return Mr}function isClipPathChanged(_r,Be){if(_r===Be||!_r&&!Be)return!1;if(!_r||!Be||_r.length!==Be.length)return!0;for(var Dr=0;Dr<_r.length;Dr++)if(_r[Dr]!==Be[Dr])return!0;return!1}function parseInt10(_r){return parseInt(_r,10)}function getSize$1(_r,Be,Dr){var Mr=["width","height"][Be],$r=["clientWidth","clientHeight"][Be],Br=["paddingLeft","paddingTop"][Be],zr=["paddingRight","paddingBottom"][Be];if(Dr[Mr]!=null&&Dr[Mr]!=="auto")return parseFloat(Dr[Mr]);var Vr=document.defaultView.getComputedStyle(_r);return(_r[$r]||parseInt10(Vr[Mr])||parseInt10(_r.style[Mr]))-(parseInt10(Vr[Br])||0)-(parseInt10(Vr[zr])||0)|0}function normalizeLineDash(_r,Be){return!_r||_r==="solid"||!(Be>0)?null:_r==="dashed"?[4*Be,2*Be]:_r==="dotted"?[Be]:isNumber(_r)?[_r]:isArray$1(_r)?_r:null}function getLineDash(_r){var Be=_r.style,Dr=Be.lineDash&&Be.lineWidth>0&&normalizeLineDash(Be.lineDash,Be.lineWidth),Mr=Be.lineDashOffset;if(Dr){var $r=Be.strokeNoScale&&_r.getLineScale?_r.getLineScale():1;$r&&$r!==1&&(Dr=map$1(Dr,function(Br){return Br/$r}),Mr/=$r)}return[Dr,Mr]}var pathProxyForDraw=new PathProxy$1(!0);function styleHasStroke(_r){var Be=_r.stroke;return!(Be==null||Be==="none"||!(_r.lineWidth>0))}function isValidStrokeFillStyle(_r){return typeof _r=="string"&&_r!=="none"}function styleHasFill(_r){var Be=_r.fill;return Be!=null&&Be!=="none"}function doFillPath(_r,Be){if(Be.fillOpacity!=null&&Be.fillOpacity!==1){var Dr=_r.globalAlpha;_r.globalAlpha=Be.fillOpacity*Be.opacity,_r.fill(),_r.globalAlpha=Dr}else _r.fill()}function doStrokePath(_r,Be){if(Be.strokeOpacity!=null&&Be.strokeOpacity!==1){var Dr=_r.globalAlpha;_r.globalAlpha=Be.strokeOpacity*Be.opacity,_r.stroke(),_r.globalAlpha=Dr}else _r.stroke()}function createCanvasPattern(_r,Be,Dr){var Mr=createOrUpdateImage(Be.image,Be.__image,Dr);if(isImageReady(Mr)){var $r=_r.createPattern(Mr,Be.repeat||"repeat");if(typeof DOMMatrix=="function"&&$r&&$r.setTransform){var Br=new DOMMatrix;Br.translateSelf(Be.x||0,Be.y||0),Br.rotateSelf(0,0,(Be.rotation||0)*RADIAN_TO_DEGREE),Br.scaleSelf(Be.scaleX||1,Be.scaleY||1),$r.setTransform(Br)}return $r}}function brushPath(_r,Be,Dr,Mr){var $r,Br=styleHasStroke(Dr),zr=styleHasFill(Dr),Vr=Dr.strokePercent,jr=Vr<1,Gr=!Be.path;(!Be.silent||jr)&&Gr&&Be.createPathProxy();var Wr=Be.path||pathProxyForDraw,Kr=Be.__dirty;if(!Mr){var Zr=Dr.fill,Jr=Dr.stroke,rn=zr&&!!Zr.colorStops,nn=Br&&!!Jr.colorStops,ln=zr&&!!Zr.image,cn=Br&&!!Jr.image,hn=void 0,mn=void 0,bn=void 0,An=void 0,vn=void 0;(rn||nn)&&(vn=Be.getBoundingRect()),rn&&(hn=Kr?getCanvasGradient(_r,Zr,vn):Be.__canvasFillGradient,Be.__canvasFillGradient=hn),nn&&(mn=Kr?getCanvasGradient(_r,Jr,vn):Be.__canvasStrokeGradient,Be.__canvasStrokeGradient=mn),ln&&(bn=Kr||!Be.__canvasFillPattern?createCanvasPattern(_r,Zr,Be):Be.__canvasFillPattern,Be.__canvasFillPattern=bn),cn&&(An=Kr||!Be.__canvasStrokePattern?createCanvasPattern(_r,Jr,Be):Be.__canvasStrokePattern,Be.__canvasStrokePattern=bn),rn?_r.fillStyle=hn:ln&&(bn?_r.fillStyle=bn:zr=!1),nn?_r.strokeStyle=mn:cn&&(An?_r.strokeStyle=An:Br=!1)}var dn=Be.getGlobalScale();Wr.setScale(dn[0],dn[1],Be.segmentIgnoreThreshold);var wn,xn;_r.setLineDash&&Dr.lineDash&&($r=getLineDash(Be),wn=$r[0],xn=$r[1]);var Mn=!0;(Gr||Kr&SHAPE_CHANGED_BIT)&&(Wr.setDPR(_r.dpr),jr?Wr.setContext(null):(Wr.setContext(_r),Mn=!1),Wr.reset(),Be.buildPath(Wr,Be.shape,Mr),Wr.toStatic(),Be.pathUpdated()),Mn&&Wr.rebuildPath(_r,jr?Vr:1),wn&&(_r.setLineDash(wn),_r.lineDashOffset=xn),Mr||(Dr.strokeFirst?(Br&&doStrokePath(_r,Dr),zr&&doFillPath(_r,Dr)):(zr&&doFillPath(_r,Dr),Br&&doStrokePath(_r,Dr))),wn&&_r.setLineDash([])}function brushImage(_r,Be,Dr){var Mr=Be.__image=createOrUpdateImage(Dr.image,Be.__image,Be,Be.onload);if(!(!Mr||!isImageReady(Mr))){var $r=Dr.x||0,Br=Dr.y||0,zr=Be.getWidth(),Vr=Be.getHeight(),jr=Mr.width/Mr.height;if(zr==null&&Vr!=null?zr=Vr*jr:Vr==null&&zr!=null?Vr=zr/jr:zr==null&&Vr==null&&(zr=Mr.width,Vr=Mr.height),Dr.sWidth&&Dr.sHeight){var Gr=Dr.sx||0,Wr=Dr.sy||0;_r.drawImage(Mr,Gr,Wr,Dr.sWidth,Dr.sHeight,$r,Br,zr,Vr)}else if(Dr.sx&&Dr.sy){var Gr=Dr.sx,Wr=Dr.sy,Kr=zr-Gr,Zr=Vr-Wr;_r.drawImage(Mr,Gr,Wr,Kr,Zr,$r,Br,zr,Vr)}else _r.drawImage(Mr,$r,Br,zr,Vr)}}function brushText(_r,Be,Dr){var Mr,$r=Dr.text;if($r!=null&&($r+=""),$r){_r.font=Dr.font||DEFAULT_FONT,_r.textAlign=Dr.textAlign,_r.textBaseline=Dr.textBaseline;var Br=void 0,zr=void 0;_r.setLineDash&&Dr.lineDash&&(Mr=getLineDash(Be),Br=Mr[0],zr=Mr[1]),Br&&(_r.setLineDash(Br),_r.lineDashOffset=zr),Dr.strokeFirst?(styleHasStroke(Dr)&&_r.strokeText($r,Dr.x,Dr.y),styleHasFill(Dr)&&_r.fillText($r,Dr.x,Dr.y)):(styleHasFill(Dr)&&_r.fillText($r,Dr.x,Dr.y),styleHasStroke(Dr)&&_r.strokeText($r,Dr.x,Dr.y)),Br&&_r.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(_r,Be,Dr,Mr,$r){var Br=!1;if(!Mr&&(Dr=Dr||{},Be===Dr))return!1;if(Mr||Be.opacity!==Dr.opacity){flushPathDrawn(_r,$r),Br=!0;var zr=Math.max(Math.min(Be.opacity,1),0);_r.globalAlpha=isNaN(zr)?DEFAULT_COMMON_STYLE.opacity:zr}(Mr||Be.blend!==Dr.blend)&&(Br||(flushPathDrawn(_r,$r),Br=!0),_r.globalCompositeOperation=Be.blend||DEFAULT_COMMON_STYLE.blend);for(var Vr=0;Vr<SHADOW_NUMBER_PROPS.length;Vr++){var jr=SHADOW_NUMBER_PROPS[Vr];(Mr||Be[jr]!==Dr[jr])&&(Br||(flushPathDrawn(_r,$r),Br=!0),_r[jr]=_r.dpr*(Be[jr]||0))}return(Mr||Be.shadowColor!==Dr.shadowColor)&&(Br||(flushPathDrawn(_r,$r),Br=!0),_r.shadowColor=Be.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),Br}function bindPathAndTextCommonStyle(_r,Be,Dr,Mr,$r){var Br=getStyle(Be,$r.inHover),zr=Mr?null:Dr&&getStyle(Dr,$r.inHover)||{};if(Br===zr)return!1;var Vr=bindCommonProps(_r,Br,zr,Mr,$r);if((Mr||Br.fill!==zr.fill)&&(Vr||(flushPathDrawn(_r,$r),Vr=!0),isValidStrokeFillStyle(Br.fill)&&(_r.fillStyle=Br.fill)),(Mr||Br.stroke!==zr.stroke)&&(Vr||(flushPathDrawn(_r,$r),Vr=!0),isValidStrokeFillStyle(Br.stroke)&&(_r.strokeStyle=Br.stroke)),(Mr||Br.opacity!==zr.opacity)&&(Vr||(flushPathDrawn(_r,$r),Vr=!0),_r.globalAlpha=Br.opacity==null?1:Br.opacity),Be.hasStroke()){var jr=Br.lineWidth,Gr=jr/(Br.strokeNoScale&&Be.getLineScale?Be.getLineScale():1);_r.lineWidth!==Gr&&(Vr||(flushPathDrawn(_r,$r),Vr=!0),_r.lineWidth=Gr)}for(var Wr=0;Wr<STROKE_PROPS.length;Wr++){var Kr=STROKE_PROPS[Wr],Zr=Kr[0];(Mr||Br[Zr]!==zr[Zr])&&(Vr||(flushPathDrawn(_r,$r),Vr=!0),_r[Zr]=Br[Zr]||Kr[1])}return Vr}function bindImageStyle(_r,Be,Dr,Mr,$r){return bindCommonProps(_r,getStyle(Be,$r.inHover),Dr&&getStyle(Dr,$r.inHover),Mr,$r)}function setContextTransform(_r,Be){var Dr=Be.transform,Mr=_r.dpr||1;Dr?_r.setTransform(Mr*Dr[0],Mr*Dr[1],Mr*Dr[2],Mr*Dr[3],Mr*Dr[4],Mr*Dr[5]):_r.setTransform(Mr,0,0,Mr,0,0)}function updateClipStatus(_r,Be,Dr){for(var Mr=!1,$r=0;$r<_r.length;$r++){var Br=_r[$r];Mr=Mr||Br.isZeroArea(),setContextTransform(Be,Br),Be.beginPath(),Br.buildPath(Be,Br.shape),Be.clip()}Dr.allClipped=Mr}function isTransformChanged(_r,Be){return _r&&Be?_r[0]!==Be[0]||_r[1]!==Be[1]||_r[2]!==Be[2]||_r[3]!==Be[3]||_r[4]!==Be[4]||_r[5]!==Be[5]:!(!_r&&!Be)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(_r){var Be=styleHasFill(_r),Dr=styleHasStroke(_r);return!(_r.lineDash||!(+Be^+Dr)||Be&&typeof _r.fill!="string"||Dr&&typeof _r.stroke!="string"||_r.strokePercent<1||_r.strokeOpacity<1||_r.fillOpacity<1)}function flushPathDrawn(_r,Be){Be.batchFill&&_r.fill(),Be.batchStroke&&_r.stroke(),Be.batchFill="",Be.batchStroke=""}function getStyle(_r,Be){return Be&&_r.__hoverStyle||_r.style}function brushSingle(_r,Be){brush$1(_r,Be,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(_r,Be,Dr,Mr){var $r=Be.transform;if(!Be.shouldBePainted(Dr.viewWidth,Dr.viewHeight,!1,!1)){Be.__dirty&=~REDRAW_BIT,Be.__isRendered=!1;return}var Br=Be.__clipPaths,zr=Dr.prevElClipPaths,Vr=!1,jr=!1;if((!zr||isClipPathChanged(Br,zr))&&(zr&&zr.length&&(flushPathDrawn(_r,Dr),_r.restore(),jr=Vr=!0,Dr.prevElClipPaths=null,Dr.allClipped=!1,Dr.prevEl=null),Br&&Br.length&&(flushPathDrawn(_r,Dr),_r.save(),updateClipStatus(Br,_r,Dr),Vr=!0),Dr.prevElClipPaths=Br),Dr.allClipped){Be.__isRendered=!1;return}Be.beforeBrush&&Be.beforeBrush(),Be.innerBeforeBrush();var Gr=Dr.prevEl;Gr||(jr=Vr=!0);var Wr=Be instanceof Path$1&&Be.autoBatch&&canPathBatch(Be.style);Vr||isTransformChanged($r,Gr.transform)?(flushPathDrawn(_r,Dr),setContextTransform(_r,Be)):Wr||flushPathDrawn(_r,Dr);var Kr=getStyle(Be,Dr.inHover);Be instanceof Path$1?(Dr.lastDrawType!==DRAW_TYPE_PATH&&(jr=!0,Dr.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(_r,Be,Gr,jr,Dr),(!Wr||!Dr.batchFill&&!Dr.batchStroke)&&_r.beginPath(),brushPath(_r,Be,Kr,Wr),Wr&&(Dr.batchFill=Kr.fill||"",Dr.batchStroke=Kr.stroke||"")):Be instanceof TSpan$1?(Dr.lastDrawType!==DRAW_TYPE_TEXT&&(jr=!0,Dr.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(_r,Be,Gr,jr,Dr),brushText(_r,Be,Kr)):Be instanceof ZRImage$1?(Dr.lastDrawType!==DRAW_TYPE_IMAGE&&(jr=!0,Dr.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(_r,Be,Gr,jr,Dr),brushImage(_r,Be,Kr)):Be.getTemporalDisplayables&&(Dr.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(jr=!0,Dr.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(_r,Be,Dr)),Wr&&Mr&&flushPathDrawn(_r,Dr),Be.innerAfterBrush(),Be.afterBrush&&Be.afterBrush(),Dr.prevEl=Be,Be.__dirty=0,Be.__isRendered=!0}function brushIncremental(_r,Be,Dr){var Mr=Be.getDisplayables(),$r=Be.getTemporalDisplayables();_r.save();var Br={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:Dr.viewWidth,viewHeight:Dr.viewHeight,inHover:Dr.inHover},zr,Vr;for(zr=Be.getCursor(),Vr=Mr.length;zr<Vr;zr++){var jr=Mr[zr];jr.beforeBrush&&jr.beforeBrush(),jr.innerBeforeBrush(),brush$1(_r,jr,Br,zr===Vr-1),jr.innerAfterBrush(),jr.afterBrush&&jr.afterBrush(),Br.prevEl=jr}for(var Gr=0,Wr=$r.length;Gr<Wr;Gr++){var jr=$r[Gr];jr.beforeBrush&&jr.beforeBrush(),jr.innerBeforeBrush(),brush$1(_r,jr,Br,Gr===Wr-1),jr.innerAfterBrush(),jr.afterBrush&&jr.afterBrush(),Br.prevEl=jr}Be.clearTemporalDisplayables(),Be.notClear=!0,_r.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(_r,Be){if(_r==="none")return null;var Dr=Be.getDevicePixelRatio(),Mr=Be.getZr(),$r=Mr.painter.type==="svg";_r.dirty&&decalMap.delete(_r);var Br=decalMap.get(_r);if(Br)return Br;var zr=defaults(_r,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});zr.backgroundColor==="none"&&(zr.backgroundColor=null);var Vr={repeat:"repeat"};return jr(Vr),Vr.rotation=zr.rotation,Vr.scaleX=Vr.scaleY=$r?1:1/Dr,decalMap.set(_r,Vr),_r.dirty=!1,Vr;function jr(Gr){for(var Wr=[Dr],Kr=!0,Zr=0;Zr<decalKeys.length;++Zr){var Jr=zr[decalKeys[Zr]];if(Jr!=null&&!isArray$1(Jr)&&!isString(Jr)&&!isNumber(Jr)&&typeof Jr!="boolean"){Kr=!1;break}Wr.push(Jr)}var rn;if(Kr){rn=Wr.join(",")+($r?"-svg":"");var nn=decalCache.get(rn);nn&&($r?Gr.svgElement=nn:Gr.image=nn)}var ln=normalizeDashArrayX(zr.dashArrayX),cn=normalizeDashArrayY(zr.dashArrayY),hn=normalizeSymbolArray(zr.symbol),mn=getLineBlockLengthX(ln),bn=getLineBlockLengthY(cn),An=!$r&&platformApi.createCanvas(),vn=$r&&{tag:"g",attrs:{},key:"dcl",children:[]},dn=xn(),wn;An&&(An.width=dn.width*Dr,An.height=dn.height*Dr,wn=An.getContext("2d")),Mn(),Kr&&decalCache.put(rn,An||vn),Gr.image=An,Gr.svgElement=vn,Gr.svgWidth=dn.width,Gr.svgHeight=dn.height;function xn(){for(var In=1,Hn=0,$n=mn.length;Hn<$n;++Hn)In=getLeastCommonMultiple(In,mn[Hn]);for(var jn=1,Hn=0,$n=hn.length;Hn<$n;++Hn)jn=getLeastCommonMultiple(jn,hn[Hn].length);In*=jn;var Bn=bn*mn.length*hn.length;return{width:Math.max(1,Math.min(In,zr.maxTileWidth)),height:Math.max(1,Math.min(Bn,zr.maxTileHeight))}}function Mn(){wn&&(wn.clearRect(0,0,An.width,An.height),zr.backgroundColor&&(wn.fillStyle=zr.backgroundColor,wn.fillRect(0,0,An.width,An.height)));for(var In=0,Hn=0;Hn<cn.length;++Hn)In+=cn[Hn];if(In<=0)return;for(var $n=-bn,jn=0,Bn=0,Gn=0;$n<dn.height;){if(jn%2===0){for(var ei=Bn/2%hn.length,ri=0,vi=0,wi=0;ri<dn.width*2;){for(var Ni=0,Hn=0;Hn<ln[Gn].length;++Hn)Ni+=ln[Gn][Hn];if(Ni<=0)break;if(vi%2===0){var Yn=(1-zr.symbolSize)*.5,Vn=ri+ln[Gn][vi]*Yn,si=$n+cn[jn]*Yn,Ri=ln[Gn][vi]*zr.symbolSize,Pi=cn[jn]*zr.symbolSize,Fi=wi/2%hn[ei].length;zi(Vn,si,Ri,Pi,hn[ei][Fi])}ri+=ln[Gn][vi],++wi,++vi,vi===ln[Gn].length&&(vi=0)}++Gn,Gn===ln.length&&(Gn=0)}$n+=cn[jn],++Bn,++jn,jn===cn.length&&(jn=0)}function zi(oo,lo,io,Wi,Bo){var Mo=$r?1:Dr,Zi=createSymbol$1(Bo,oo*Mo,lo*Mo,io*Mo,Wi*Mo,zr.color,zr.symbolKeepAspect);if($r){var Zo=Mr.painter.renderOneToVNode(Zi);Zo&&vn.children.push(Zo)}else brushSingle(wn,Zi)}}}}function normalizeSymbolArray(_r){if(!_r||_r.length===0)return[["rect"]];if(isString(_r))return[[_r]];for(var Be=!0,Dr=0;Dr<_r.length;++Dr)if(!isString(_r[Dr])){Be=!1;break}if(Be)return normalizeSymbolArray([_r]);for(var Mr=[],Dr=0;Dr<_r.length;++Dr)isString(_r[Dr])?Mr.push([_r[Dr]]):Mr.push(_r[Dr]);return Mr}function normalizeDashArrayX(_r){if(!_r||_r.length===0)return[[0,0]];if(isNumber(_r)){var Be=Math.ceil(_r);return[[Be,Be]]}for(var Dr=!0,Mr=0;Mr<_r.length;++Mr)if(!isNumber(_r[Mr])){Dr=!1;break}if(Dr)return normalizeDashArrayX([_r]);for(var $r=[],Mr=0;Mr<_r.length;++Mr)if(isNumber(_r[Mr])){var Be=Math.ceil(_r[Mr]);$r.push([Be,Be])}else{var Be=map$1(_r[Mr],function(Vr){return Math.ceil(Vr)});Be.length%2===1?$r.push(Be.concat(Be)):$r.push(Be)}return $r}function normalizeDashArrayY(_r){if(!_r||typeof _r=="object"&&_r.length===0)return[0,0];if(isNumber(_r)){var Be=Math.ceil(_r);return[Be,Be]}var Dr=map$1(_r,function(Mr){return Math.ceil(Mr)});return _r.length%2?Dr.concat(Dr):Dr}function getLineBlockLengthX(_r){return map$1(_r,function(Be){return getLineBlockLengthY(Be)})}function getLineBlockLengthY(_r){for(var Be=0,Dr=0;Dr<_r.length;++Dr)Be+=_r[Dr];return _r.length%2===1?Be*2:Be}function decalVisual(_r,Be){_r.eachRawSeries(function(Dr){if(!_r.isSeriesFiltered(Dr)){var Mr=Dr.getData();Mr.hasItemVisual()&&Mr.each(function(zr){var Vr=Mr.getItemVisual(zr,"decal");if(Vr){var jr=Mr.ensureUniqueItemVisual(zr,"style");jr.decal=createOrUpdatePatternFromDecal(Vr,Be)}});var $r=Mr.getVisual("decal");if($r){var Br=Mr.getVisual("style");Br.decal=createOrUpdatePatternFromDecal($r,Be)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(_r,Be){implsStore[_r]=Be}function getImpl(_r){return implsStore[_r]}var version="5.4.3",dependencies={zrender:"5.4.4"},TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(_r){return function(){for(var Be=[],Dr=0;Dr<arguments.length;Dr++)Be[Dr]=arguments[Dr];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,_r,Be)}}function createRegisterEventWithLowercaseMessageCenter(_r){return function(){for(var Be=[],Dr=0;Dr<arguments.length;Dr++)Be[Dr]=arguments[Dr];return toLowercaseNameAndCallEventful(this,_r,Be)}}function toLowercaseNameAndCallEventful(_r,Be,Dr){return Dr[0]=Dr[0]&&Dr[0].toLowerCase(),Eventful$1.prototype[Be].apply(_r,Dr)}var MessageCenter=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this,new ECEventProcessor)||this;Br._chartsViews=[],Br._chartsMap={},Br._componentsViews=[],Br._componentsMap={},Br._pendingActions=[],$r=$r||{},isString(Mr)&&(Mr=themeStorage[Mr]),Br._dom=Dr;var zr="canvas",Vr="auto",jr=!1,Gr=Br._zr=init$2(Dr,{renderer:$r.renderer||zr,devicePixelRatio:$r.devicePixelRatio,width:$r.width,height:$r.height,ssr:$r.ssr,useDirtyRect:retrieve2($r.useDirtyRect,jr),useCoarsePointer:retrieve2($r.useCoarsePointer,Vr),pointerSize:$r.pointerSize});Br._ssr=$r.ssr,Br._throttledZrFlush=throttle(bind$1(Gr.flush,Gr),17),Mr=clone$4(Mr),Mr&&globalBackwardCompat(Mr,!0),Br._theme=Mr,Br._locale=createLocaleObject($r.locale||SYSTEM_LANG),Br._coordSysMgr=new CoordinateSystem;var Wr=Br._api=createExtensionAPI(Br);function Kr(Zr,Jr){return Zr.__prio-Jr.__prio}return sort$2(visualFuncs,Kr),sort$2(dataProcessorFuncs,Kr),Br._scheduler=new Scheduler$1(Br,Wr,dataProcessorFuncs,visualFuncs),Br._messageCenter=new MessageCenter,Br._initEvents(),Br.resize=bind$1(Br.resize,Br),Gr.animation.on("frame",Br._onframe,Br),bindRenderedEvent(Gr,Br),bindMouseEvent(Gr,Br),setAsPrimitive(Br),Br}return Be.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var Dr=this._scheduler;if(this[PENDING_UPDATE]){var Mr=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(jr){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,jr}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,Mr),triggerUpdatedEvent.call(this,Mr)}else if(Dr.unfinished){var $r=TEST_FRAME_REMAIN_TIME,Br=this._model,zr=this._api;Dr.unfinished=!1;do{var Vr=+new Date;Dr.performSeriesTasks(Br),Dr.performDataProcessorTasks(Br),updateStreamModes(this,Br),Dr.performVisualTasks(Br),renderSeries(this,this._model,zr,"remain",{}),$r-=+new Date-Vr}while($r>0&&Dr.unfinished);Dr.unfinished||this._zr.flush()}}},Be.prototype.getDom=function(){return this._dom},Be.prototype.getId=function(){return this.id},Be.prototype.getZr=function(){return this._zr},Be.prototype.isSSR=function(){return this._ssr},Be.prototype.setOption=function(Dr,Mr,$r){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var Br,zr,Vr;if(isObject$3(Mr)&&($r=Mr.lazyUpdate,Br=Mr.silent,zr=Mr.replaceMerge,Vr=Mr.transition,Mr=Mr.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||Mr){var jr=new OptionManager$1(this._api),Gr=this._theme,Wr=this._model=new GlobalModel$1;Wr.scheduler=this._scheduler,Wr.ssr=this._ssr,Wr.init(null,null,null,Gr,this._locale,jr)}this._model.setOption(Dr,{replaceMerge:zr},optionPreprocessorFuncs);var Kr={seriesTransition:Vr,optionChanged:!0};if($r)this[PENDING_UPDATE]={silent:Br,updateParams:Kr},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,Kr)}catch(Zr){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,Zr}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,Br),triggerUpdatedEvent.call(this,Br)}}},Be.prototype.setTheme=function(){},Be.prototype.getModel=function(){return this._model},Be.prototype.getOption=function(){return this._model&&this._model.getOption()},Be.prototype.getWidth=function(){return this._zr.getWidth()},Be.prototype.getHeight=function(){return this._zr.getHeight()},Be.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},Be.prototype.getRenderedCanvas=function(Dr){return this.renderToCanvas(Dr)},Be.prototype.renderToCanvas=function(Dr){Dr=Dr||{};var Mr=this._zr.painter;return Mr.getRenderedCanvas({backgroundColor:Dr.backgroundColor||this._model.get("backgroundColor"),pixelRatio:Dr.pixelRatio||this.getDevicePixelRatio()})},Be.prototype.renderToSVGString=function(Dr){Dr=Dr||{};var Mr=this._zr.painter;return Mr.renderToString({useViewBox:Dr.useViewBox})},Be.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var Dr=this._zr,Mr=Dr.storage.getDisplayList();return each$f(Mr,function($r){$r.stopAnimation(null,!0)}),Dr.painter.toDataURL()}},Be.prototype.getDataURL=function(Dr){if(this._disposed){this.id;return}Dr=Dr||{};var Mr=Dr.excludeComponents,$r=this._model,Br=[],zr=this;each$f(Mr,function(jr){$r.eachComponent({mainType:jr},function(Gr){var Wr=zr._componentsMap[Gr.__viewId];Wr.group.ignore||(Br.push(Wr),Wr.group.ignore=!0)})});var Vr=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(Dr).toDataURL("image/"+(Dr&&Dr.type||"png"));return each$f(Br,function(jr){jr.group.ignore=!1}),Vr},Be.prototype.getConnectedDataURL=function(Dr){if(this._disposed){this.id;return}var Mr=Dr.type==="svg",$r=this.group,Br=Math.min,zr=Math.max,Vr=1/0;if(connectedGroups[$r]){var jr=Vr,Gr=Vr,Wr=-Vr,Kr=-Vr,Zr=[],Jr=Dr&&Dr.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(mn,bn){if(mn.group===$r){var An=Mr?mn.getZr().painter.getSvgDom().innerHTML:mn.renderToCanvas(clone$4(Dr)),vn=mn.getDom().getBoundingClientRect();jr=Br(vn.left,jr),Gr=Br(vn.top,Gr),Wr=zr(vn.right,Wr),Kr=zr(vn.bottom,Kr),Zr.push({dom:An,left:vn.left,top:vn.top})}}),jr*=Jr,Gr*=Jr,Wr*=Jr,Kr*=Jr;var rn=Wr-jr,nn=Kr-Gr,ln=platformApi.createCanvas(),cn=init$2(ln,{renderer:Mr?"svg":"canvas"});if(cn.resize({width:rn,height:nn}),Mr){var hn="";return each$f(Zr,function(mn){var bn=mn.left-jr,An=mn.top-Gr;hn+='<g transform="translate('+bn+","+An+')">'+mn.dom+"</g>"}),cn.painter.getSvgRoot().innerHTML=hn,Dr.connectedBackgroundColor&&cn.painter.setBackgroundColor(Dr.connectedBackgroundColor),cn.refreshImmediately(),cn.painter.toDataURL()}else return Dr.connectedBackgroundColor&&cn.add(new Rect$3({shape:{x:0,y:0,width:rn,height:nn},style:{fill:Dr.connectedBackgroundColor}})),each$f(Zr,function(mn){var bn=new ZRImage$1({style:{x:mn.left*Jr-jr,y:mn.top*Jr-Gr,image:mn.dom}});cn.add(bn)}),cn.refreshImmediately(),ln.toDataURL("image/"+(Dr&&Dr.type||"png"))}else return this.getDataURL(Dr)},Be.prototype.convertToPixel=function(Dr,Mr){return doConvertPixel(this,"convertToPixel",Dr,Mr)},Be.prototype.convertFromPixel=function(Dr,Mr){return doConvertPixel(this,"convertFromPixel",Dr,Mr)},Be.prototype.containPixel=function(Dr,Mr){if(this._disposed){this.id;return}var $r=this._model,Br,zr=parseFinder$1($r,Dr);return each$f(zr,function(Vr,jr){jr.indexOf("Models")>=0&&each$f(Vr,function(Gr){var Wr=Gr.coordinateSystem;if(Wr&&Wr.containPoint)Br=Br||!!Wr.containPoint(Mr);else if(jr==="seriesModels"){var Kr=this._chartsMap[Gr.__viewId];Kr&&Kr.containPoint&&(Br=Br||Kr.containPoint(Mr,Gr))}},this)},this),!!Br},Be.prototype.getVisual=function(Dr,Mr){var $r=this._model,Br=parseFinder$1($r,Dr,{defaultMainType:"series"}),zr=Br.seriesModel,Vr=zr.getData(),jr=Br.hasOwnProperty("dataIndexInside")?Br.dataIndexInside:Br.hasOwnProperty("dataIndex")?Vr.indexOfRawIndex(Br.dataIndex):null;return jr!=null?getItemVisualFromData(Vr,jr,Mr):getVisualFromData(Vr,Mr)},Be.prototype.getViewOfComponentModel=function(Dr){return this._componentsMap[Dr.__viewId]},Be.prototype.getViewOfSeriesModel=function(Dr){return this._chartsMap[Dr.__viewId]},Be.prototype._initEvents=function(){var Dr=this;each$f(MOUSE_EVENT_NAMES,function(Mr){var $r=function(Br){var zr=Dr.getModel(),Vr=Br.target,jr,Gr=Mr==="globalout";if(Gr?jr={}:Vr&&findEventDispatcher(Vr,function(rn){var nn=getECData(rn);if(nn&&nn.dataIndex!=null){var ln=nn.dataModel||zr.getSeriesByIndex(nn.seriesIndex);return jr=ln&&ln.getDataParams(nn.dataIndex,nn.dataType,Vr)||{},!0}else if(nn.eventData)return jr=extend$1({},nn.eventData),!0},!0),jr){var Wr=jr.componentType,Kr=jr.componentIndex;(Wr==="markLine"||Wr==="markPoint"||Wr==="markArea")&&(Wr="series",Kr=jr.seriesIndex);var Zr=Wr&&Kr!=null&&zr.getComponent(Wr,Kr),Jr=Zr&&Dr[Zr.mainType==="series"?"_chartsMap":"_componentsMap"][Zr.__viewId];jr.event=Br,jr.type=Mr,Dr._$eventProcessor.eventInfo={targetEl:Vr,packedEvent:jr,model:Zr,view:Jr},Dr.trigger(Mr,jr)}};$r.zrEventfulCallAtLast=!0,Dr._zr.on(Mr,$r,Dr)}),each$f(eventActionMap,function(Mr,$r){Dr._messageCenter.on($r,function(Br){this.trigger($r,Br)},Dr)}),each$f(["selectchanged"],function(Mr){Dr._messageCenter.on(Mr,function($r){this.trigger(Mr,$r)},Dr)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},Be.prototype.isDisposed=function(){return this._disposed},Be.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},Be.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var Dr=this.getDom();Dr&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var Mr=this,$r=Mr._api,Br=Mr._model;each$f(Mr._componentsViews,function(zr){zr.dispose(Br,$r)}),each$f(Mr._chartsViews,function(zr){zr.dispose(Br,$r)}),Mr._zr.dispose(),Mr._dom=Mr._model=Mr._chartsMap=Mr._componentsMap=Mr._chartsViews=Mr._componentsViews=Mr._scheduler=Mr._api=Mr._zr=Mr._throttledZrFlush=Mr._theme=Mr._coordSysMgr=Mr._messageCenter=null,delete instances[Mr.id]},Be.prototype.resize=function(Dr){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(Dr);var Mr=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!Mr){var $r=Mr.resetOption("media"),Br=Dr&&Dr.silent;this[PENDING_UPDATE]&&(Br==null&&(Br=this[PENDING_UPDATE].silent),$r=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{$r&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend$1({duration:0},Dr&&Dr.animation)})}catch(zr){throw this[IN_MAIN_PROCESS_KEY]=!1,zr}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,Br),triggerUpdatedEvent.call(this,Br)}}},Be.prototype.showLoading=function(Dr,Mr){if(this._disposed){this.id;return}if(isObject$3(Dr)&&(Mr=Dr,Dr=""),Dr=Dr||"default",this.hideLoading(),!!loadingEffects[Dr]){var $r=loadingEffects[Dr](this._api,Mr),Br=this._zr;this._loadingFX=$r,Br.add($r)}},Be.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Be.prototype.makeActionFromEvent=function(Dr){var Mr=extend$1({},Dr);return Mr.type=eventActionMap[Dr.type],Mr},Be.prototype.dispatchAction=function(Dr,Mr){if(this._disposed){this.id;return}if(isObject$3(Mr)||(Mr={silent:!!Mr}),!!actions[Dr.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(Dr);return}var $r=Mr.silent;doDispatchAction.call(this,Dr,$r);var Br=Mr.flush;Br?this._zr.flush():Br!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,$r),triggerUpdatedEvent.call(this,$r)}},Be.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},Be.prototype.appendData=function(Dr){if(this._disposed){this.id;return}var Mr=Dr.seriesIndex,$r=this.getModel(),Br=$r.getSeriesByIndex(Mr);Br.appendData(Dr),this._scheduler.unfinished=!0,this.getZr().wakeUp()},Be.internalField=function(){prepare=function(Kr){var Zr=Kr._scheduler;Zr.restorePipelines(Kr._model),Zr.prepareStageTasks(),prepareView(Kr,!0),prepareView(Kr,!1),Zr.plan()},prepareView=function(Kr,Zr){for(var Jr=Kr._model,rn=Kr._scheduler,nn=Zr?Kr._componentsViews:Kr._chartsViews,ln=Zr?Kr._componentsMap:Kr._chartsMap,cn=Kr._zr,hn=Kr._api,mn=0;mn<nn.length;mn++)nn[mn].__alive=!1;Zr?Jr.eachComponent(function(vn,dn){vn!=="series"&&bn(dn)}):Jr.eachSeries(bn);function bn(vn){var dn=vn.__requireNewView;vn.__requireNewView=!1;var wn="_ec_"+vn.id+"_"+vn.type,xn=!dn&&ln[wn];if(!xn){var Mn=parseClassType(vn.type),In=Zr?ComponentView$1.getClass(Mn.main,Mn.sub):ChartView$1.getClass(Mn.sub);xn=new In,xn.init(Jr,hn),ln[wn]=xn,nn.push(xn),cn.add(xn.group)}vn.__viewId=xn.__id=wn,xn.__alive=!0,xn.__model=vn,xn.group.__ecComponentInfo={mainType:vn.mainType,index:vn.componentIndex},!Zr&&rn.prepareView(xn,vn,Jr,hn)}for(var mn=0;mn<nn.length;){var An=nn[mn];An.__alive?mn++:(!Zr&&An.renderTask.dispose(),cn.remove(An.group),An.dispose(Jr,hn),nn.splice(mn,1),ln[An.__id]===An&&delete ln[An.__id],An.__id=An.group.__ecComponentInfo=null)}},updateDirectly=function(Kr,Zr,Jr,rn,nn){var ln=Kr._model;if(ln.setUpdatePayload(Jr),!rn){each$f([].concat(Kr._componentsViews).concat(Kr._chartsViews),An);return}var cn={};cn[rn+"Id"]=Jr[rn+"Id"],cn[rn+"Index"]=Jr[rn+"Index"],cn[rn+"Name"]=Jr[rn+"Name"];var hn={mainType:rn,query:cn};nn&&(hn.subType=nn);var mn=Jr.excludeSeriesId,bn;mn!=null&&(bn=createHashMap(),each$f(normalizeToArray(mn),function(vn){var dn=convertOptionIdName(vn,null);dn!=null&&bn.set(dn,!0)})),ln&&ln.eachComponent(hn,function(vn){var dn=bn&&bn.get(vn.id)!=null;if(!dn)if(isHighDownPayload(Jr))if(vn instanceof SeriesModel$1)Jr.type===HIGHLIGHT_ACTION_TYPE&&!Jr.notBlur&&!vn.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(vn,Jr,Kr._api);else{var wn=findComponentHighDownDispatchers(vn.mainType,vn.componentIndex,Jr.name,Kr._api),xn=wn.focusSelf,Mn=wn.dispatchers;Jr.type===HIGHLIGHT_ACTION_TYPE&&xn&&!Jr.notBlur&&blurComponent(vn.mainType,vn.componentIndex,Kr._api),Mn&&each$f(Mn,function(In){Jr.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(In):leaveEmphasis(In)})}else isSelectChangePayload(Jr)&&vn instanceof SeriesModel$1&&(toggleSelectionFromPayload(vn,Jr,Kr._api),updateSeriesElementSelection(vn),markStatusToUpdate(Kr))},Kr),ln&&ln.eachComponent(hn,function(vn){var dn=bn&&bn.get(vn.id)!=null;dn||An(Kr[rn==="series"?"_chartsMap":"_componentsMap"][vn.__viewId])},Kr);function An(vn){vn&&vn.__alive&&vn[Zr]&&vn[Zr](vn.__model,ln,Kr._api,Jr)}},updateMethods={prepareAndUpdate:function(Kr){prepare(this),updateMethods.update.call(this,Kr,{optionChanged:Kr.newOption!=null})},update:function(Kr,Zr){var Jr=this._model,rn=this._api,nn=this._zr,ln=this._coordSysMgr,cn=this._scheduler;if(Jr){Jr.setUpdatePayload(Kr),cn.restoreData(Jr,Kr),cn.performSeriesTasks(Jr),ln.create(Jr,rn),cn.performDataProcessorTasks(Jr,Kr),updateStreamModes(this,Jr),ln.update(Jr,rn),Dr(Jr),cn.performVisualTasks(Jr,Kr),render(this,Jr,rn,Kr,Zr);var hn=Jr.get("backgroundColor")||"transparent",mn=Jr.get("darkMode");nn.setBackgroundColor(hn),mn!=null&&mn!=="auto"&&nn.setDarkMode(mn),lifecycle$1.trigger("afterupdate",Jr,rn)}},updateTransform:function(Kr){var Zr=this,Jr=this._model,rn=this._api;if(Jr){Jr.setUpdatePayload(Kr);var nn=[];Jr.eachComponent(function(cn,hn){if(cn!=="series"){var mn=Zr.getViewOfComponentModel(hn);if(mn&&mn.__alive)if(mn.updateTransform){var bn=mn.updateTransform(hn,Jr,rn,Kr);bn&&bn.update&&nn.push(mn)}else nn.push(mn)}});var ln=createHashMap();Jr.eachSeries(function(cn){var hn=Zr._chartsMap[cn.__viewId];if(hn.updateTransform){var mn=hn.updateTransform(cn,Jr,rn,Kr);mn&&mn.update&&ln.set(cn.uid,1)}else ln.set(cn.uid,1)}),Dr(Jr),this._scheduler.performVisualTasks(Jr,Kr,{setDirty:!0,dirtyMap:ln}),renderSeries(this,Jr,rn,Kr,{},ln),lifecycle$1.trigger("afterupdate",Jr,rn)}},updateView:function(Kr){var Zr=this._model;Zr&&(Zr.setUpdatePayload(Kr),ChartView$1.markUpdateMethod(Kr,"updateView"),Dr(Zr),this._scheduler.performVisualTasks(Zr,Kr,{setDirty:!0}),render(this,Zr,this._api,Kr,{}),lifecycle$1.trigger("afterupdate",Zr,this._api))},updateVisual:function(Kr){var Zr=this,Jr=this._model;Jr&&(Jr.setUpdatePayload(Kr),Jr.eachSeries(function(rn){rn.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(Kr,"updateVisual"),Dr(Jr),this._scheduler.performVisualTasks(Jr,Kr,{visualType:"visual",setDirty:!0}),Jr.eachComponent(function(rn,nn){if(rn!=="series"){var ln=Zr.getViewOfComponentModel(nn);ln&&ln.__alive&&ln.updateVisual(nn,Jr,Zr._api,Kr)}}),Jr.eachSeries(function(rn){var nn=Zr._chartsMap[rn.__viewId];nn.updateVisual(rn,Jr,Zr._api,Kr)}),lifecycle$1.trigger("afterupdate",Jr,this._api))},updateLayout:function(Kr){updateMethods.update.call(this,Kr)}},doConvertPixel=function(Kr,Zr,Jr,rn){if(Kr._disposed){Kr.id;return}for(var nn=Kr._model,ln=Kr._coordSysMgr.getCoordinateSystems(),cn,hn=parseFinder$1(nn,Jr),mn=0;mn<ln.length;mn++){var bn=ln[mn];if(bn[Zr]&&(cn=bn[Zr](nn,hn,rn))!=null)return cn}},updateStreamModes=function(Kr,Zr){var Jr=Kr._chartsMap,rn=Kr._scheduler;Zr.eachSeries(function(nn){rn.updateStreamModes(nn,Jr[nn.__viewId])})},doDispatchAction=function(Kr,Zr){var Jr=this,rn=this.getModel(),nn=Kr.type,ln=Kr.escapeConnect,cn=actions[nn],hn=cn.actionInfo,mn=(hn.update||"update").split(":"),bn=mn.pop(),An=mn[0]!=null&&parseClassType(mn[0]);this[IN_MAIN_PROCESS_KEY]=!0;var vn=[Kr],dn=!1;Kr.batch&&(dn=!0,vn=map$1(Kr.batch,function(jn){return jn=defaults(extend$1({},jn),Kr),jn.batch=null,jn}));var wn=[],xn,Mn=isSelectChangePayload(Kr),In=isHighDownPayload(Kr);if(In&&allLeaveBlur(this._api),each$f(vn,function(jn){if(xn=cn.action(jn,Jr._model,Jr._api),xn=xn||extend$1({},jn),xn.type=hn.event||xn.type,wn.push(xn),In){var Bn=preParseFinder(Kr),Gn=Bn.queryOptionMap,ei=Bn.mainTypeSpecified,ri=ei?Gn.keys()[0]:"series";updateDirectly(Jr,bn,jn,ri),markStatusToUpdate(Jr)}else Mn?(updateDirectly(Jr,bn,jn,"series"),markStatusToUpdate(Jr)):An&&updateDirectly(Jr,bn,jn,An.main,An.sub)}),bn!=="none"&&!In&&!Mn&&!An)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,Kr),this[PENDING_UPDATE]=null):updateMethods[bn].call(this,Kr)}catch(jn){throw this[IN_MAIN_PROCESS_KEY]=!1,jn}if(dn?xn={type:hn.event||nn,escapeConnect:ln,batch:wn}:xn=wn[0],this[IN_MAIN_PROCESS_KEY]=!1,!Zr){var Hn=this._messageCenter;if(Hn.trigger(xn.type,xn),Mn){var $n={type:"selectchanged",escapeConnect:ln,selected:getAllSelectedIndices(rn),isFromClick:Kr.isFromClick||!1,fromAction:Kr.type,fromActionPayload:Kr};Hn.trigger($n.type,$n)}}},flushPendingActions=function(Kr){for(var Zr=this._pendingActions;Zr.length;){var Jr=Zr.shift();doDispatchAction.call(this,Jr,Kr)}},triggerUpdatedEvent=function(Kr){!Kr&&this.trigger("updated")},bindRenderedEvent=function(Kr,Zr){Kr.on("rendered",function(Jr){Zr.trigger("rendered",Jr),Kr.animation.isFinished()&&!Zr[PENDING_UPDATE]&&!Zr._scheduler.unfinished&&!Zr._pendingActions.length&&Zr.trigger("finished")})},bindMouseEvent=function(Kr,Zr){Kr.on("mouseover",function(Jr){var rn=Jr.target,nn=findEventDispatcher(rn,isHighDownDispatcher);nn&&(handleGlobalMouseOverForHighDown(nn,Jr,Zr._api),markStatusToUpdate(Zr))}).on("mouseout",function(Jr){var rn=Jr.target,nn=findEventDispatcher(rn,isHighDownDispatcher);nn&&(handleGlobalMouseOutForHighDown(nn,Jr,Zr._api),markStatusToUpdate(Zr))}).on("click",function(Jr){var rn=Jr.target,nn=findEventDispatcher(rn,function(hn){return getECData(hn).dataIndex!=null},!0);if(nn){var ln=nn.selected?"unselect":"select",cn=getECData(nn);Zr._api.dispatchAction({type:ln,dataType:cn.dataType,dataIndexInside:cn.dataIndex,seriesIndex:cn.seriesIndex,isFromClick:!0})}})};function Dr(Kr){Kr.clearColorPalette(),Kr.eachSeries(function(Zr){Zr.clearColorPalette()})}function Mr(Kr){var Zr=[],Jr=[],rn=!1;if(Kr.eachComponent(function(hn,mn){var bn=mn.get("zlevel")||0,An=mn.get("z")||0,vn=mn.getZLevelKey();rn=rn||!!vn,(hn==="series"?Jr:Zr).push({zlevel:bn,z:An,idx:mn.componentIndex,type:hn,key:vn})}),rn){var nn=Zr.concat(Jr),ln,cn;sort$2(nn,function(hn,mn){return hn.zlevel===mn.zlevel?hn.z-mn.z:hn.zlevel-mn.zlevel}),each$f(nn,function(hn){var mn=Kr.getComponent(hn.type,hn.idx),bn=hn.zlevel,An=hn.key;ln!=null&&(bn=Math.max(ln,bn)),An?(bn===ln&&An!==cn&&bn++,cn=An):cn&&(bn===ln&&bn++,cn=""),ln=bn,mn.setZLevel(bn)})}}render=function(Kr,Zr,Jr,rn,nn){Mr(Zr),renderComponents(Kr,Zr,Jr,rn,nn),each$f(Kr._chartsViews,function(ln){ln.__alive=!1}),renderSeries(Kr,Zr,Jr,rn,nn),each$f(Kr._chartsViews,function(ln){ln.__alive||ln.remove(Zr,Jr)})},renderComponents=function(Kr,Zr,Jr,rn,nn,ln){each$f(ln||Kr._componentsViews,function(cn){var hn=cn.__model;Gr(hn,cn),cn.render(hn,Zr,Jr,rn),Vr(hn,cn),Wr(hn,cn)})},renderSeries=function(Kr,Zr,Jr,rn,nn,ln){var cn=Kr._scheduler;nn=extend$1(nn||{},{updatedSeries:Zr.getSeries()}),lifecycle$1.trigger("series:beforeupdate",Zr,Jr,nn);var hn=!1;Zr.eachSeries(function(mn){var bn=Kr._chartsMap[mn.__viewId];bn.__alive=!0;var An=bn.renderTask;cn.updatePayload(An,rn),Gr(mn,bn),ln&&ln.get(mn.uid)&&An.dirty(),An.perform(cn.getPerformArgs(An))&&(hn=!0),bn.group.silent=!!mn.get("silent"),zr(mn,bn),updateSeriesElementSelection(mn)}),cn.unfinished=hn||cn.unfinished,lifecycle$1.trigger("series:layoutlabels",Zr,Jr,nn),lifecycle$1.trigger("series:transition",Zr,Jr,nn),Zr.eachSeries(function(mn){var bn=Kr._chartsMap[mn.__viewId];Vr(mn,bn),Wr(mn,bn)}),Br(Kr,Zr),lifecycle$1.trigger("series:afterupdate",Zr,Jr,nn)},markStatusToUpdate=function(Kr){Kr[STATUS_NEEDS_UPDATE_KEY]=!0,Kr.getZr().wakeUp()},applyChangedStates=function(Kr){Kr[STATUS_NEEDS_UPDATE_KEY]&&(Kr.getZr().storage.traverse(function(Zr){isElementRemoved(Zr)||$r(Zr)}),Kr[STATUS_NEEDS_UPDATE_KEY]=!1)};function $r(Kr){for(var Zr=[],Jr=Kr.currentStates,rn=0;rn<Jr.length;rn++){var nn=Jr[rn];nn==="emphasis"||nn==="blur"||nn==="select"||Zr.push(nn)}Kr.selected&&Kr.states.select&&Zr.push("select"),Kr.hoverState===HOVER_STATE_EMPHASIS&&Kr.states.emphasis?Zr.push("emphasis"):Kr.hoverState===HOVER_STATE_BLUR&&Kr.states.blur&&Zr.push("blur"),Kr.useStates(Zr)}function Br(Kr,Zr){var Jr=Kr._zr,rn=Jr.storage,nn=0;rn.traverse(function(ln){ln.isGroup||nn++}),nn>Zr.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&Zr.eachSeries(function(ln){if(!ln.preventUsingHoverLayer){var cn=Kr._chartsMap[ln.__viewId];cn.__alive&&cn.eachRendered(function(hn){hn.states.emphasis&&(hn.states.emphasis.hoverLayer=!0)})}})}function zr(Kr,Zr){var Jr=Kr.get("blendMode")||null;Zr.eachRendered(function(rn){rn.isGroup||(rn.style.blend=Jr)})}function Vr(Kr,Zr){if(!Kr.preventAutoZ){var Jr=Kr.get("z")||0,rn=Kr.get("zlevel")||0;Zr.eachRendered(function(nn){return jr(nn,Jr,rn,-1/0),!0})}}function jr(Kr,Zr,Jr,rn){var nn=Kr.getTextContent(),ln=Kr.getTextGuideLine(),cn=Kr.isGroup;if(cn)for(var hn=Kr.childrenRef(),mn=0;mn<hn.length;mn++)rn=Math.max(jr(hn[mn],Zr,Jr,rn),rn);else Kr.z=Zr,Kr.zlevel=Jr,rn=Math.max(Kr.z2,rn);if(nn&&(nn.z=Zr,nn.zlevel=Jr,isFinite(rn)&&(nn.z2=rn+2)),ln){var bn=Kr.textGuideLineConfig;ln.z=Zr,ln.zlevel=Jr,isFinite(rn)&&(ln.z2=rn+(bn&&bn.showAbove?1:-1))}return rn}function Gr(Kr,Zr){Zr.eachRendered(function(Jr){if(!isElementRemoved(Jr)){var rn=Jr.getTextContent(),nn=Jr.getTextGuideLine();Jr.stateTransition&&(Jr.stateTransition=null),rn&&rn.stateTransition&&(rn.stateTransition=null),nn&&nn.stateTransition&&(nn.stateTransition=null),Jr.hasState()?(Jr.prevStates=Jr.currentStates,Jr.clearStates()):Jr.prevStates&&(Jr.prevStates=null)}})}function Wr(Kr,Zr){var Jr=Kr.getModel("stateAnimation"),rn=Kr.isAnimationEnabled(),nn=Jr.get("duration"),ln=nn>0?{duration:nn,delay:Jr.get("delay"),easing:Jr.get("easing")}:null;Zr.eachRendered(function(cn){if(cn.states&&cn.states.emphasis){if(isElementRemoved(cn))return;if(cn instanceof Path$1&&savePathStates(cn),cn.__dirty){var hn=cn.prevStates;hn&&cn.useStates(hn)}if(rn){cn.stateTransition=ln;var mn=cn.getTextContent(),bn=cn.getTextGuideLine();mn&&(mn.stateTransition=ln),bn&&(bn.stateTransition=ln)}cn.__dirty&&$r(cn)}})}createExtensionAPI=function(Kr){return new(function(Zr){__extends(Jr,Zr);function Jr(){return Zr!==null&&Zr.apply(this,arguments)||this}return Jr.prototype.getCoordinateSystems=function(){return Kr._coordSysMgr.getCoordinateSystems()},Jr.prototype.getComponentByElement=function(rn){for(;rn;){var nn=rn.__ecComponentInfo;if(nn!=null)return Kr._model.getComponent(nn.mainType,nn.index);rn=rn.parent}},Jr.prototype.enterEmphasis=function(rn,nn){enterEmphasis(rn,nn),markStatusToUpdate(Kr)},Jr.prototype.leaveEmphasis=function(rn,nn){leaveEmphasis(rn,nn),markStatusToUpdate(Kr)},Jr.prototype.enterBlur=function(rn){enterBlur(rn),markStatusToUpdate(Kr)},Jr.prototype.leaveBlur=function(rn){leaveBlur(rn),markStatusToUpdate(Kr)},Jr.prototype.enterSelect=function(rn){enterSelect(rn),markStatusToUpdate(Kr)},Jr.prototype.leaveSelect=function(rn){leaveSelect(rn),markStatusToUpdate(Kr)},Jr.prototype.getModel=function(){return Kr.getModel()},Jr.prototype.getViewOfComponentModel=function(rn){return Kr.getViewOfComponentModel(rn)},Jr.prototype.getViewOfSeriesModel=function(rn){return Kr.getViewOfSeriesModel(rn)},Jr}(ExtensionAPI$1))(Kr)},enableConnect=function(Kr){function Zr(Jr,rn){for(var nn=0;nn<Jr.length;nn++){var ln=Jr[nn];ln[CONNECT_STATUS_KEY]=rn}}each$f(eventActionMap,function(Jr,rn){Kr._messageCenter.on(rn,function(nn){if(connectedGroups[Kr.group]&&Kr[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(nn&&nn.escapeConnect)return;var ln=Kr.makeActionFromEvent(nn),cn=[];each$f(instances,function(hn){hn!==Kr&&hn.group===Kr.group&&cn.push(hn)}),Zr(cn,CONNECT_STATUS_PENDING),each$f(cn,function(hn){hn[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&hn.dispatchAction(ln)}),Zr(cn,CONNECT_STATUS_UPDATED)}})})}}(),Be}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(_r,Be,Dr){var Mr=this;function $r(){for(var Br=[],zr=0;zr<arguments.length;zr++)Br[zr]=arguments[zr];Be&&Be.apply&&Be.apply(this,Br),Mr.off(_r,$r)}this.on.call(this,_r,$r,Dr)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(_r){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,groupIdBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(_r,Be,Dr){var Mr=!(Dr&&Dr.ssr);if(Mr){var $r=getInstanceByDom(_r);if($r)return $r}var Br=new ECharts(_r,Be,Dr);return Br.id="ec_"+idBase++,instances[Br.id]=Br,Mr&&setAttribute(_r,DOM_ATTRIBUTE_KEY,Br.id),enableConnect(Br),lifecycle$1.trigger("afterinit",Br),Br}function connect(_r){if(isArray$1(_r)){var Be=_r;_r=null,each$f(Be,function(Dr){Dr.group!=null&&(_r=Dr.group)}),_r=_r||"g_"+groupIdBase++,each$f(Be,function(Dr){Dr.group=_r})}return connectedGroups[_r]=!0,_r}function disconnect(_r){connectedGroups[_r]=!1}var disConnect=disconnect;function dispose(_r){isString(_r)?_r=instances[_r]:_r instanceof ECharts||(_r=getInstanceByDom(_r)),_r instanceof ECharts&&!_r.isDisposed()&&_r.dispose()}function getInstanceByDom(_r){return instances[getAttribute(_r,DOM_ATTRIBUTE_KEY)]}function getInstanceById(_r){return instances[_r]}function registerTheme(_r,Be){themeStorage[_r]=Be}function registerPreprocessor(_r){indexOf(optionPreprocessorFuncs,_r)<0&&optionPreprocessorFuncs.push(_r)}function registerProcessor(_r,Be){normalizeRegister(dataProcessorFuncs,_r,Be,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(_r){registerUpdateLifecycle("afterinit",_r)}function registerPostUpdate(_r){registerUpdateLifecycle("afterupdate",_r)}function registerUpdateLifecycle(_r,Be){lifecycle$1.on(_r,Be)}function registerAction(_r,Be,Dr){isFunction(Be)&&(Dr=Be,Be="");var Mr=isObject$3(_r)?_r.type:[_r,_r={event:Be}][0];_r.event=(_r.event||Mr).toLowerCase(),Be=_r.event,!eventActionMap[Be]&&(assert(ACTION_REG.test(Mr)&&ACTION_REG.test(Be)),actions[Mr]||(actions[Mr]={action:Dr,actionInfo:_r}),eventActionMap[Be]=Mr)}function registerCoordinateSystem(_r,Be){CoordinateSystem.register(_r,Be)}function getCoordinateSystemDimensions(_r){var Be=CoordinateSystem.get(_r);if(Be)return Be.getDimensionsInfo?Be.getDimensionsInfo():Be.dimensions.slice()}function registerLayout(_r,Be){normalizeRegister(visualFuncs,_r,Be,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(_r,Be){normalizeRegister(visualFuncs,_r,Be,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(_r,Be,Dr,Mr,$r){if((isFunction(Be)||isObject$3(Be))&&(Dr=Be,Be=Mr),!(indexOf(registeredTasks,Dr)>=0)){registeredTasks.push(Dr);var Br=Scheduler$1.wrapStageHandler(Dr,$r);Br.__prio=Be,Br.__raw=Dr,_r.push(Br)}}function registerLoading(_r,Be){loadingEffects[_r]=Be}function setCanvasCreator(_r){setPlatformAPI({createCanvas:_r})}function registerMap$1(_r,Be,Dr){var Mr=getImpl("registerMap");Mr&&Mr(_r,Be,Dr)}function getMap(_r){var Be=getImpl("getMap");return Be&&Be(_r)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack$1);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",darkTheme);var dataTool={},extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(_r){ComponentModel$1.registerClass(_r)},registerComponentView:function(_r){ComponentView$1.registerClass(_r)},registerSeriesModel:function(_r){SeriesModel$1.registerClass(_r)},registerChartView:function(_r){ChartView$1.registerClass(_r)},registerSubTypeDefaulter:function(_r,Be){ComponentModel$1.registerSubTypeDefaulter(_r,Be)},registerPainter:function(_r,Be){registerPainter(_r,Be)}};function use(_r){if(isArray$1(_r)){each$f(_r,function(Be){use(Be)});return}indexOf(extensions,_r)>=0||(extensions.push(_r),isFunction(_r)&&(_r={install:_r}),_r.install(extensionRegisters))}function dataIndexMapValueLength(_r){return _r==null?0:_r.length||1}function defaultKeyGetter(_r){return _r}var DataDiffer=function(){function _r(Be,Dr,Mr,$r,Br,zr){this._old=Be,this._new=Dr,this._oldKeyGetter=Mr||defaultKeyGetter,this._newKeyGetter=$r||defaultKeyGetter,this.context=Br,this._diffModeMultiple=zr==="multiple"}return _r.prototype.add=function(Be){return this._add=Be,this},_r.prototype.update=function(Be){return this._update=Be,this},_r.prototype.updateManyToOne=function(Be){return this._updateManyToOne=Be,this},_r.prototype.updateOneToMany=function(Be){return this._updateOneToMany=Be,this},_r.prototype.updateManyToMany=function(Be){return this._updateManyToMany=Be,this},_r.prototype.remove=function(Be){return this._remove=Be,this},_r.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},_r.prototype._executeOneToOne=function(){var Be=this._old,Dr=this._new,Mr={},$r=new Array(Be.length),Br=new Array(Dr.length);this._initIndexMap(Be,null,$r,"_oldKeyGetter"),this._initIndexMap(Dr,Mr,Br,"_newKeyGetter");for(var zr=0;zr<Be.length;zr++){var Vr=$r[zr],jr=Mr[Vr],Gr=dataIndexMapValueLength(jr);if(Gr>1){var Wr=jr.shift();jr.length===1&&(Mr[Vr]=jr[0]),this._update&&this._update(Wr,zr)}else Gr===1?(Mr[Vr]=null,this._update&&this._update(jr,zr)):this._remove&&this._remove(zr)}this._performRestAdd(Br,Mr)},_r.prototype._executeMultiple=function(){var Be=this._old,Dr=this._new,Mr={},$r={},Br=[],zr=[];this._initIndexMap(Be,Mr,Br,"_oldKeyGetter"),this._initIndexMap(Dr,$r,zr,"_newKeyGetter");for(var Vr=0;Vr<Br.length;Vr++){var jr=Br[Vr],Gr=Mr[jr],Wr=$r[jr],Kr=dataIndexMapValueLength(Gr),Zr=dataIndexMapValueLength(Wr);if(Kr>1&&Zr===1)this._updateManyToOne&&this._updateManyToOne(Wr,Gr),$r[jr]=null;else if(Kr===1&&Zr>1)this._updateOneToMany&&this._updateOneToMany(Wr,Gr),$r[jr]=null;else if(Kr===1&&Zr===1)this._update&&this._update(Wr,Gr),$r[jr]=null;else if(Kr>1&&Zr>1)this._updateManyToMany&&this._updateManyToMany(Wr,Gr),$r[jr]=null;else if(Kr>1)for(var Jr=0;Jr<Kr;Jr++)this._remove&&this._remove(Gr[Jr]);else this._remove&&this._remove(Gr)}this._performRestAdd(zr,$r)},_r.prototype._performRestAdd=function(Be,Dr){for(var Mr=0;Mr<Be.length;Mr++){var $r=Be[Mr],Br=Dr[$r],zr=dataIndexMapValueLength(Br);if(zr>1)for(var Vr=0;Vr<zr;Vr++)this._add&&this._add(Br[Vr]);else zr===1&&this._add&&this._add(Br);Dr[$r]=null}},_r.prototype._initIndexMap=function(Be,Dr,Mr,$r){for(var Br=this._diffModeMultiple,zr=0;zr<Be.length;zr++){var Vr="_ec_"+this[$r](Be[zr],zr);if(Br||(Mr[zr]=Vr),!!Dr){var jr=Dr[Vr],Gr=dataIndexMapValueLength(jr);Gr===0?(Dr[Vr]=zr,Br&&Mr.push(Vr)):Gr===1?Dr[Vr]=[jr,zr]:jr.push(zr)}}},_r}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function _r(Be,Dr){this._encode=Be,this._schema=Dr}return _r.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},_r.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},_r}();function summarizeDimensions(_r,Be){var Dr={},Mr=Dr.encode={},$r=createHashMap(),Br=[],zr=[],Vr={};each$f(_r.dimensions,function(Zr){var Jr=_r.getDimensionInfo(Zr),rn=Jr.coordDim;if(rn){var nn=Jr.coordDimIndex;getOrCreateEncodeArr(Mr,rn)[nn]=Zr,Jr.isExtraCoord||($r.set(rn,1),mayLabelDimType(Jr.type)&&(Br[0]=Zr),getOrCreateEncodeArr(Vr,rn)[nn]=_r.getDimensionIndex(Jr.name)),Jr.defaultTooltip&&zr.push(Zr)}VISUAL_DIMENSIONS.each(function(ln,cn){var hn=getOrCreateEncodeArr(Mr,cn),mn=Jr.otherDims[cn];mn!=null&&mn!==!1&&(hn[mn]=Jr.name)})});var jr=[],Gr={};$r.each(function(Zr,Jr){var rn=Mr[Jr];Gr[Jr]=rn[0],jr=jr.concat(rn)}),Dr.dataDimsOnCoord=jr,Dr.dataDimIndicesOnCoord=map$1(jr,function(Zr){return _r.getDimensionInfo(Zr).storeDimIndex}),Dr.encodeFirstDimNotExtra=Gr;var Wr=Mr.label;Wr&&Wr.length&&(Br=Wr.slice());var Kr=Mr.tooltip;return Kr&&Kr.length?zr=Kr.slice():zr.length||(zr=Br.slice()),Mr.defaultedLabel=Br,Mr.defaultedTooltip=zr,Dr.userOutput=new DimensionUserOuput(Vr,Be),Dr}function getOrCreateEncodeArr(_r,Be){return _r.hasOwnProperty(Be)||(_r[Be]=[]),_r[Be]}function getDimensionTypeByAxis(_r){return _r==="category"?"ordinal":_r==="time"?"time":"float"}function mayLabelDimType(_r){return!(_r==="ordinal"||_r==="time")}var SeriesDimensionDefine=function(){function _r(Be){this.otherDims={},Be!=null&&extend$1(this,Be)}return _r}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function _r(Be){this.dimensions=Be.dimensions,this._dimOmitted=Be.dimensionOmitted,this.source=Be.source,this._fullDimCount=Be.fullDimensionCount,this._updateDimOmitted(Be.dimensionOmitted)}return _r.prototype.isDimensionOmitted=function(){return this._dimOmitted},_r.prototype._updateDimOmitted=function(Be){this._dimOmitted=Be,Be&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},_r.prototype.getSourceDimensionIndex=function(Be){return retrieve2(this._dimNameMap.get(Be),-1)},_r.prototype.getSourceDimension=function(Be){var Dr=this.source.dimensionsDefine;if(Dr)return Dr[Be]},_r.prototype.makeStoreSchema=function(){for(var Be=this._fullDimCount,Dr=shouldRetrieveDataByName(this.source),Mr=!shouldOmitUnusedDimensions(Be),$r="",Br=[],zr=0,Vr=0;zr<Be;zr++){var jr=void 0,Gr=void 0,Wr=void 0,Kr=this.dimensions[Vr];if(Kr&&Kr.storeDimIndex===zr)jr=Dr?Kr.name:null,Gr=Kr.type,Wr=Kr.ordinalMeta,Vr++;else{var Zr=this.getSourceDimension(zr);Zr&&(jr=Dr?Zr.name:null,Gr=Zr.type)}Br.push({property:jr,type:Gr,ordinalMeta:Wr}),Dr&&jr!=null&&(!Kr||!Kr.isCalculationCoord)&&($r+=Mr?jr.replace(/\`/g,"`1").replace(/\$/g,"`2"):jr),$r+="$",$r+=dimTypeShort[Gr]||"f",Wr&&($r+=Wr.uid),$r+="$"}var Jr=this.source,rn=[Jr.seriesLayoutBy,Jr.startIndex,$r].join("$$");return{dimensions:Br,hash:rn}},_r.prototype.makeOutputDimensionNames=function(){for(var Be=[],Dr=0,Mr=0;Dr<this._fullDimCount;Dr++){var $r=void 0,Br=this.dimensions[Mr];if(Br&&Br.storeDimIndex===Dr)Br.isCalculationCoord||($r=Br.name),Mr++;else{var zr=this.getSourceDimension(Dr);zr&&($r=zr.name)}Be.push($r)}return Be},_r.prototype.appendCalculationDimension=function(Be){this.dimensions.push(Be),Be.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},_r}();function isSeriesDataSchema(_r){return _r instanceof SeriesDataSchema}function createDimNameMap(_r){for(var Be=createHashMap(),Dr=0;Dr<(_r||[]).length;Dr++){var Mr=_r[Dr],$r=isObject$3(Mr)?Mr.name:Mr;$r!=null&&Be.get($r)==null&&Be.set($r,Dr)}return Be}function ensureSourceDimNameMap(_r){var Be=inner$h(_r);return Be.dimNameMap||(Be.dimNameMap=createDimNameMap(_r.dimensionsDefine))}function shouldOmitUnusedDimensions(_r){return _r>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function _r(Be,Dr){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var Mr,$r=!1;isSeriesDataSchema(Be)?(Mr=Be.dimensions,this._dimOmitted=Be.isDimensionOmitted(),this._schema=Be):($r=!0,Mr=Be),Mr=Mr||["x","y"];for(var Br={},zr=[],Vr={},jr=!1,Gr={},Wr=0;Wr<Mr.length;Wr++){var Kr=Mr[Wr],Zr=isString(Kr)?new SeriesDimensionDefine$1({name:Kr}):Kr instanceof SeriesDimensionDefine$1?Kr:new SeriesDimensionDefine$1(Kr),Jr=Zr.name;Zr.type=Zr.type||"float",Zr.coordDim||(Zr.coordDim=Jr,Zr.coordDimIndex=0);var rn=Zr.otherDims=Zr.otherDims||{};zr.push(Jr),Br[Jr]=Zr,Gr[Jr]!=null&&(jr=!0),Zr.createInvertedIndices&&(Vr[Jr]=[]),rn.itemName===0&&(this._nameDimIdx=Wr),rn.itemId===0&&(this._idDimIdx=Wr),$r&&(Zr.storeDimIndex=Wr)}if(this.dimensions=zr,this._dimInfos=Br,this._initGetDimensionInfo(jr),this.hostModel=Dr,this._invertedIndicesMap=Vr,this._dimOmitted){var nn=this._dimIdxToName=createHashMap();each$f(zr,function(ln){nn.set(Br[ln].storeDimIndex,ln)})}}return _r.prototype.getDimension=function(Be){var Dr=this._recognizeDimIndex(Be);if(Dr==null)return Be;if(Dr=Be,!this._dimOmitted)return this.dimensions[Dr];var Mr=this._dimIdxToName.get(Dr);if(Mr!=null)return Mr;var $r=this._schema.getSourceDimension(Dr);if($r)return $r.name},_r.prototype.getDimensionIndex=function(Be){var Dr=this._recognizeDimIndex(Be);if(Dr!=null)return Dr;if(Be==null)return-1;var Mr=this._getDimInfo(Be);return Mr?Mr.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(Be):-1},_r.prototype._recognizeDimIndex=function(Be){if(isNumber(Be)||Be!=null&&!isNaN(Be)&&!this._getDimInfo(Be)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(Be)<0))return+Be},_r.prototype._getStoreDimIndex=function(Be){var Dr=this.getDimensionIndex(Be);return Dr},_r.prototype.getDimensionInfo=function(Be){return this._getDimInfo(this.getDimension(Be))},_r.prototype._initGetDimensionInfo=function(Be){var Dr=this._dimInfos;this._getDimInfo=Be?function(Mr){return Dr.hasOwnProperty(Mr)?Dr[Mr]:void 0}:function(Mr){return Dr[Mr]}},_r.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},_r.prototype.mapDimension=function(Be,Dr){var Mr=this._dimSummary;if(Dr==null)return Mr.encodeFirstDimNotExtra[Be];var $r=Mr.encode[Be];return $r?$r[Dr]:null},_r.prototype.mapDimensionsAll=function(Be){var Dr=this._dimSummary,Mr=Dr.encode[Be];return(Mr||[]).slice()},_r.prototype.getStore=function(){return this._store},_r.prototype.initData=function(Be,Dr,Mr){var $r=this,Br;if(Be instanceof DataStore$1&&(Br=Be),!Br){var zr=this.dimensions,Vr=isSourceInstance(Be)||isArrayLike(Be)?new DefaultDataProvider(Be,zr.length):Be;Br=new DataStore$1;var jr=map(zr,function(Gr){return{type:$r._dimInfos[Gr].type,property:Gr}});Br.initData(Vr,jr,Mr)}this._store=Br,this._nameList=(Dr||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,Br.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},_r.prototype.appendData=function(Be){var Dr=this._store.appendData(Be);this._doInit(Dr[0],Dr[1])},_r.prototype.appendValues=function(Be,Dr){var Mr=this._store.appendValues(Be,Dr.length),$r=Mr.start,Br=Mr.end,zr=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),Dr)for(var Vr=$r;Vr<Br;Vr++){var jr=Vr-$r;this._nameList[Vr]=Dr[jr],zr&&makeIdFromName(this,Vr)}},_r.prototype._updateOrdinalMeta=function(){for(var Be=this._store,Dr=this.dimensions,Mr=0;Mr<Dr.length;Mr++){var $r=this._dimInfos[Dr[Mr]];$r.ordinalMeta&&Be.collectOrdinalMeta($r.storeDimIndex,$r.ordinalMeta)}},_r.prototype._shouldMakeIdFromName=function(){var Be=this._store.getProvider();return this._idDimIdx==null&&Be.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!Be.fillStorage},_r.prototype._doInit=function(Be,Dr){if(!(Be>=Dr)){var Mr=this._store,$r=Mr.getProvider();this._updateOrdinalMeta();var Br=this._nameList,zr=this._idList,Vr=$r.getSource().sourceFormat,jr=Vr===SOURCE_FORMAT_ORIGINAL;if(jr&&!$r.pure)for(var Gr=[],Wr=Be;Wr<Dr;Wr++){var Kr=$r.getItem(Wr,Gr);if(!this.hasItemOption&&isDataItemOption(Kr)&&(this.hasItemOption=!0),Kr){var Zr=Kr.name;Br[Wr]==null&&Zr!=null&&(Br[Wr]=convertOptionIdName(Zr,null));var Jr=Kr.id;zr[Wr]==null&&Jr!=null&&(zr[Wr]=convertOptionIdName(Jr,null))}}if(this._shouldMakeIdFromName())for(var Wr=Be;Wr<Dr;Wr++)makeIdFromName(this,Wr);prepareInvertedIndex(this)}},_r.prototype.getApproximateExtent=function(Be){return this._approximateExtent[Be]||this._store.getDataExtent(this._getStoreDimIndex(Be))},_r.prototype.setApproximateExtent=function(Be,Dr){Dr=this.getDimension(Dr),this._approximateExtent[Dr]=Be.slice()},_r.prototype.getCalculationInfo=function(Be){return this._calculationInfo[Be]},_r.prototype.setCalculationInfo=function(Be,Dr){isObject$1(Be)?extend$1(this._calculationInfo,Be):this._calculationInfo[Be]=Dr},_r.prototype.getName=function(Be){var Dr=this.getRawIndex(Be),Mr=this._nameList[Dr];return Mr==null&&this._nameDimIdx!=null&&(Mr=getIdNameFromStore(this,this._nameDimIdx,Dr)),Mr==null&&(Mr=""),Mr},_r.prototype._getCategory=function(Be,Dr){var Mr=this._store.get(Be,Dr),$r=this._store.getOrdinalMeta(Be);return $r?$r.categories[Mr]:Mr},_r.prototype.getId=function(Be){return getId(this,this.getRawIndex(Be))},_r.prototype.count=function(){return this._store.count()},_r.prototype.get=function(Be,Dr){var Mr=this._store,$r=this._dimInfos[Be];if($r)return Mr.get($r.storeDimIndex,Dr)},_r.prototype.getByRawIndex=function(Be,Dr){var Mr=this._store,$r=this._dimInfos[Be];if($r)return Mr.getByRawIndex($r.storeDimIndex,Dr)},_r.prototype.getIndices=function(){return this._store.getIndices()},_r.prototype.getDataExtent=function(Be){return this._store.getDataExtent(this._getStoreDimIndex(Be))},_r.prototype.getSum=function(Be){return this._store.getSum(this._getStoreDimIndex(Be))},_r.prototype.getMedian=function(Be){return this._store.getMedian(this._getStoreDimIndex(Be))},_r.prototype.getValues=function(Be,Dr){var Mr=this,$r=this._store;return isArray$1(Be)?$r.getValues(map(Be,function(Br){return Mr._getStoreDimIndex(Br)}),Dr):$r.getValues(Be)},_r.prototype.hasValue=function(Be){for(var Dr=this._dimSummary.dataDimIndicesOnCoord,Mr=0,$r=Dr.length;Mr<$r;Mr++)if(isNaN(this._store.get(Dr[Mr],Be)))return!1;return!0},_r.prototype.indexOfName=function(Be){for(var Dr=0,Mr=this._store.count();Dr<Mr;Dr++)if(this.getName(Dr)===Be)return Dr;return-1},_r.prototype.getRawIndex=function(Be){return this._store.getRawIndex(Be)},_r.prototype.indexOfRawIndex=function(Be){return this._store.indexOfRawIndex(Be)},_r.prototype.rawIndexOf=function(Be,Dr){var Mr=Be&&this._invertedIndicesMap[Be],$r=Mr[Dr];return $r==null||isNaN($r)?INDEX_NOT_FOUND:$r},_r.prototype.indicesOfNearest=function(Be,Dr,Mr){return this._store.indicesOfNearest(this._getStoreDimIndex(Be),Dr,Mr)},_r.prototype.each=function(Be,Dr,Mr){isFunction(Be)&&(Mr=Dr,Dr=Be,Be=[]);var $r=Mr||this,Br=map(normalizeDimensions(Be),this._getStoreDimIndex,this);this._store.each(Br,$r?bind$1(Dr,$r):Dr)},_r.prototype.filterSelf=function(Be,Dr,Mr){isFunction(Be)&&(Mr=Dr,Dr=Be,Be=[]);var $r=Mr||this,Br=map(normalizeDimensions(Be),this._getStoreDimIndex,this);return this._store=this._store.filter(Br,$r?bind$1(Dr,$r):Dr),this},_r.prototype.selectRange=function(Be){var Dr=this,Mr={},$r=keys(Be);return each$f($r,function(Br){var zr=Dr._getStoreDimIndex(Br);Mr[zr]=Be[Br]}),this._store=this._store.selectRange(Mr),this},_r.prototype.mapArray=function(Be,Dr,Mr){isFunction(Be)&&(Mr=Dr,Dr=Be,Be=[]),Mr=Mr||this;var $r=[];return this.each(Be,function(){$r.push(Dr&&Dr.apply(this,arguments))},Mr),$r},_r.prototype.map=function(Be,Dr,Mr,$r){var Br=Mr||$r||this,zr=map(normalizeDimensions(Be),this._getStoreDimIndex,this),Vr=cloneListForMapAndSample(this);return Vr._store=this._store.map(zr,Br?bind$1(Dr,Br):Dr),Vr},_r.prototype.modify=function(Be,Dr,Mr,$r){var Br=Mr||$r||this,zr=map(normalizeDimensions(Be),this._getStoreDimIndex,this);this._store.modify(zr,Br?bind$1(Dr,Br):Dr)},_r.prototype.downSample=function(Be,Dr,Mr,$r){var Br=cloneListForMapAndSample(this);return Br._store=this._store.downSample(this._getStoreDimIndex(Be),Dr,Mr,$r),Br},_r.prototype.lttbDownSample=function(Be,Dr){var Mr=cloneListForMapAndSample(this);return Mr._store=this._store.lttbDownSample(this._getStoreDimIndex(Be),Dr),Mr},_r.prototype.getRawDataItem=function(Be){return this._store.getRawDataItem(Be)},_r.prototype.getItemModel=function(Be){var Dr=this.hostModel,Mr=this.getRawDataItem(Be);return new Model$1(Mr,Dr,Dr&&Dr.ecModel)},_r.prototype.diff=function(Be){var Dr=this;return new DataDiffer$1(Be?Be.getStore().getIndices():[],this.getStore().getIndices(),function(Mr){return getId(Be,Mr)},function(Mr){return getId(Dr,Mr)})},_r.prototype.getVisual=function(Be){var Dr=this._visual;return Dr&&Dr[Be]},_r.prototype.setVisual=function(Be,Dr){this._visual=this._visual||{},isObject$1(Be)?extend$1(this._visual,Be):this._visual[Be]=Dr},_r.prototype.getItemVisual=function(Be,Dr){var Mr=this._itemVisuals[Be],$r=Mr&&Mr[Dr];return $r??this.getVisual(Dr)},_r.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},_r.prototype.ensureUniqueItemVisual=function(Be,Dr){var Mr=this._itemVisuals,$r=Mr[Be];$r||($r=Mr[Be]={});var Br=$r[Dr];return Br==null&&(Br=this.getVisual(Dr),isArray$1(Br)?Br=Br.slice():isObject$1(Br)&&(Br=extend$1({},Br)),$r[Dr]=Br),Br},_r.prototype.setItemVisual=function(Be,Dr,Mr){var $r=this._itemVisuals[Be]||{};this._itemVisuals[Be]=$r,isObject$1(Dr)?extend$1($r,Dr):$r[Dr]=Mr},_r.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},_r.prototype.setLayout=function(Be,Dr){isObject$1(Be)?extend$1(this._layout,Be):this._layout[Be]=Dr},_r.prototype.getLayout=function(Be){return this._layout[Be]},_r.prototype.getItemLayout=function(Be){return this._itemLayouts[Be]},_r.prototype.setItemLayout=function(Be,Dr,Mr){this._itemLayouts[Be]=Mr?extend$1(this._itemLayouts[Be]||{},Dr):Dr},_r.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},_r.prototype.setItemGraphicEl=function(Be,Dr){var Mr=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(Mr,this.dataType,Be,Dr),this._graphicEls[Be]=Dr},_r.prototype.getItemGraphicEl=function(Be){return this._graphicEls[Be]},_r.prototype.eachItemGraphicEl=function(Be,Dr){each$f(this._graphicEls,function(Mr,$r){Mr&&Be&&Be.call(Dr,Mr,$r)})},_r.prototype.cloneShallow=function(Be){return Be||(Be=new _r(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(Be,this),Be._store=this._store,Be},_r.prototype.wrapMethod=function(Be,Dr){var Mr=this[Be];isFunction(Mr)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(Be),this[Be]=function(){var $r=Mr.apply(this,arguments);return Dr.apply(this,[$r].concat(slice(arguments)))})},_r.internalField=function(){prepareInvertedIndex=function(Be){var Dr=Be._invertedIndicesMap;each$f(Dr,function(Mr,$r){var Br=Be._dimInfos[$r],zr=Br.ordinalMeta,Vr=Be._store;if(zr){Mr=Dr[$r]=new CtorInt32Array(zr.categories.length);for(var jr=0;jr<Mr.length;jr++)Mr[jr]=INDEX_NOT_FOUND;for(var jr=0;jr<Vr.count();jr++)Mr[Vr.get(Br.storeDimIndex,jr)]=jr}})},getIdNameFromStore=function(Be,Dr,Mr){return convertOptionIdName(Be._getCategory(Dr,Mr),null)},getId=function(Be,Dr){var Mr=Be._idList[Dr];return Mr==null&&Be._idDimIdx!=null&&(Mr=getIdNameFromStore(Be,Be._idDimIdx,Dr)),Mr==null&&(Mr=ID_PREFIX+Dr),Mr},normalizeDimensions=function(Be){return isArray$1(Be)||(Be=Be!=null?[Be]:[]),Be},cloneListForMapAndSample=function(Be){var Dr=new _r(Be._schema?Be._schema:map(Be.dimensions,Be._getDimInfo,Be),Be.hostModel);return transferProperties(Dr,Be),Dr},transferProperties=function(Be,Dr){each$f(TRANSFERABLE_PROPERTIES.concat(Dr.__wrappedMethods||[]),function(Mr){Dr.hasOwnProperty(Mr)&&(Be[Mr]=Dr[Mr])}),Be.__wrappedMethods=Dr.__wrappedMethods,each$f(CLONE_PROPERTIES,function(Mr){Be[Mr]=clone$4(Dr[Mr])}),Be._calculationInfo=extend$1({},Dr._calculationInfo)},makeIdFromName=function(Be,Dr){var Mr=Be._nameList,$r=Be._idList,Br=Be._nameDimIdx,zr=Be._idDimIdx,Vr=Mr[Dr],jr=$r[Dr];if(Vr==null&&Br!=null&&(Mr[Dr]=Vr=getIdNameFromStore(Be,Br,Dr)),jr==null&&zr!=null&&($r[Dr]=jr=getIdNameFromStore(Be,zr,Dr)),jr==null&&Vr!=null){var Gr=Be._nameRepeatCount,Wr=Gr[Vr]=(Gr[Vr]||0)+1;jr=Vr,Wr>1&&(jr+="__ec__"+Wr),$r[Dr]=jr}}}(),_r}();const SeriesData$1=SeriesData;function createDimensions(_r,Be){return prepareSeriesDataSchema(_r,Be).dimensions}function prepareSeriesDataSchema(_r,Be){isSourceInstance(_r)||(_r=createSourceFromSeriesDataOption(_r)),Be=Be||{};var Dr=Be.coordDimensions||[],Mr=Be.dimensionsDefine||_r.dimensionsDefine||[],$r=createHashMap(),Br=[],zr=getDimCount(_r,Dr,Mr,Be.dimensionsCount),Vr=Be.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(zr),jr=Mr===_r.dimensionsDefine,Gr=jr?ensureSourceDimNameMap(_r):createDimNameMap(Mr),Wr=Be.encodeDefine;!Wr&&Be.encodeDefaulter&&(Wr=Be.encodeDefaulter(_r,zr));for(var Kr=createHashMap(Wr),Zr=new CtorInt32Array$1(zr),Jr=0;Jr<Zr.length;Jr++)Zr[Jr]=-1;function rn(xn){var Mn=Zr[xn];if(Mn<0){var In=Mr[xn],Hn=isObject$3(In)?In:{name:In},$n=new SeriesDimensionDefine$1,jn=Hn.name;jn!=null&&Gr.get(jn)!=null&&($n.name=$n.displayName=jn),Hn.type!=null&&($n.type=Hn.type),Hn.displayName!=null&&($n.displayName=Hn.displayName);var Bn=Br.length;return Zr[xn]=Bn,$n.storeDimIndex=xn,Br.push($n),$n}return Br[Mn]}if(!Vr)for(var Jr=0;Jr<zr;Jr++)rn(Jr);Kr.each(function(xn,Mn){var In=normalizeToArray(xn).slice();if(In.length===1&&!isString(In[0])&&In[0]<0){Kr.set(Mn,!1);return}var Hn=Kr.set(Mn,[]);each$f(In,function($n,jn){var Bn=isString($n)?Gr.get($n):$n;Bn!=null&&Bn<zr&&(Hn[jn]=Bn,ln(rn(Bn),Mn,jn))})});var nn=0;each$f(Dr,function(xn){var Mn,In,Hn,$n;if(isString(xn))Mn=xn,$n={};else{$n=xn,Mn=$n.name;var jn=$n.ordinalMeta;$n.ordinalMeta=null,$n=extend$1({},$n),$n.ordinalMeta=jn,In=$n.dimsDef,Hn=$n.otherDims,$n.name=$n.coordDim=$n.coordDimIndex=$n.dimsDef=$n.otherDims=null}var Bn=Kr.get(Mn);if(Bn!==!1){if(Bn=normalizeToArray(Bn),!Bn.length)for(var Gn=0;Gn<(In&&In.length||1);Gn++){for(;nn<zr&&rn(nn).coordDim!=null;)nn++;nn<zr&&Bn.push(nn++)}each$f(Bn,function(ei,ri){var vi=rn(ei);if(jr&&$n.type!=null&&(vi.type=$n.type),ln(defaults(vi,$n),Mn,ri),vi.name==null&&In){var wi=In[ri];!isObject$3(wi)&&(wi={name:wi}),vi.name=vi.displayName=wi.name,vi.defaultTooltip=wi.defaultTooltip}Hn&&defaults(vi.otherDims,Hn)})}});function ln(xn,Mn,In){VISUAL_DIMENSIONS.get(Mn)!=null?xn.otherDims[Mn]=In:(xn.coordDim=Mn,xn.coordDimIndex=In,$r.set(Mn,!0))}var cn=Be.generateCoord,hn=Be.generateCoordCount,mn=hn!=null;hn=cn?hn||1:0;var bn=cn||"value";function An(xn){xn.name==null&&(xn.name=xn.coordDim)}if(Vr)each$f(Br,function(xn){An(xn)}),Br.sort(function(xn,Mn){return xn.storeDimIndex-Mn.storeDimIndex});else for(var vn=0;vn<zr;vn++){var dn=rn(vn),wn=dn.coordDim;wn==null&&(dn.coordDim=genCoordDimName(bn,$r,mn),dn.coordDimIndex=0,(!cn||hn<=0)&&(dn.isExtraCoord=!0),hn--),An(dn),dn.type==null&&(guessOrdinal(_r,vn)===BE_ORDINAL.Must||dn.isExtraCoord&&(dn.otherDims.itemName!=null||dn.otherDims.seriesName!=null))&&(dn.type="ordinal")}return removeDuplication(Br),new SeriesDataSchema({source:_r,dimensions:Br,fullDimensionCount:zr,dimensionOmitted:Vr})}function removeDuplication(_r){for(var Be=createHashMap(),Dr=0;Dr<_r.length;Dr++){var Mr=_r[Dr],$r=Mr.name,Br=Be.get($r)||0;Br>0&&(Mr.name=$r+(Br-1)),Br++,Be.set($r,Br)}}function getDimCount(_r,Be,Dr,Mr){var $r=Math.max(_r.dimensionsDetectedCount||1,Be.length,Dr.length,Mr||0);return each$f(Be,function(Br){var zr;isObject$3(Br)&&(zr=Br.dimsDef)&&($r=Math.max($r,zr.length))}),$r}function genCoordDimName(_r,Be,Dr){if(Dr||Be.hasKey(_r)){for(var Mr=0;Be.hasKey(_r+Mr);)Mr++;_r+=Mr}return Be.set(_r,!0),_r}var CoordSysInfo=function(){function _r(Be){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=Be}return _r}();function getCoordSysInfoBySeries(_r){var Be=_r.get("coordinateSystem"),Dr=new CoordSysInfo(Be),Mr=fetchers[Be];if(Mr)return Mr(_r,Dr,Dr.axisMap,Dr.categoryAxisMap),Dr}var fetchers={cartesian2d:function(_r,Be,Dr,Mr){var $r=_r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],Br=_r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];Be.coordSysDims=["x","y"],Dr.set("x",$r),Dr.set("y",Br),isCategory($r)&&(Mr.set("x",$r),Be.firstCategoryDimIndex=0),isCategory(Br)&&(Mr.set("y",Br),Be.firstCategoryDimIndex==null&&(Be.firstCategoryDimIndex=1))},singleAxis:function(_r,Be,Dr,Mr){var $r=_r.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];Be.coordSysDims=["single"],Dr.set("single",$r),isCategory($r)&&(Mr.set("single",$r),Be.firstCategoryDimIndex=0)},polar:function(_r,Be,Dr,Mr){var $r=_r.getReferringComponents("polar",SINGLE_REFERRING).models[0],Br=$r.findAxisModel("radiusAxis"),zr=$r.findAxisModel("angleAxis");Be.coordSysDims=["radius","angle"],Dr.set("radius",Br),Dr.set("angle",zr),isCategory(Br)&&(Mr.set("radius",Br),Be.firstCategoryDimIndex=0),isCategory(zr)&&(Mr.set("angle",zr),Be.firstCategoryDimIndex==null&&(Be.firstCategoryDimIndex=1))},geo:function(_r,Be,Dr,Mr){Be.coordSysDims=["lng","lat"]},parallel:function(_r,Be,Dr,Mr){var $r=_r.ecModel,Br=$r.getComponent("parallel",_r.get("parallelIndex")),zr=Be.coordSysDims=Br.dimensions.slice();each$f(Br.parallelAxisIndex,function(Vr,jr){var Gr=$r.getComponent("parallelAxis",Vr),Wr=zr[jr];Dr.set(Wr,Gr),isCategory(Gr)&&(Mr.set(Wr,Gr),Be.firstCategoryDimIndex==null&&(Be.firstCategoryDimIndex=jr))})}};function isCategory(_r){return _r.get("type")==="category"}function enableDataStack(_r,Be,Dr){Dr=Dr||{};var Mr=Dr.byIndex,$r=Dr.stackedCoordDimension,Br,zr,Vr;isLegacyDimensionsInput(Be)?Br=Be:(zr=Be.schema,Br=zr.dimensions,Vr=Be.store);var jr=!!(_r&&_r.get("stack")),Gr,Wr,Kr,Zr;if(each$f(Br,function(hn,mn){isString(hn)&&(Br[mn]=hn={name:hn}),jr&&!hn.isExtraCoord&&(!Mr&&!Gr&&hn.ordinalMeta&&(Gr=hn),!Wr&&hn.type!=="ordinal"&&hn.type!=="time"&&(!$r||$r===hn.coordDim)&&(Wr=hn))}),Wr&&!Mr&&!Gr&&(Mr=!0),Wr){Kr="__\0ecstackresult_"+_r.id,Zr="__\0ecstackedover_"+_r.id,Gr&&(Gr.createInvertedIndices=!0);var Jr=Wr.coordDim,rn=Wr.type,nn=0;each$f(Br,function(hn){hn.coordDim===Jr&&nn++});var ln={name:Kr,coordDim:Jr,coordDimIndex:nn,type:rn,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:Br.length},cn={name:Zr,coordDim:Zr,coordDimIndex:nn+1,type:rn,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:Br.length+1};zr?(Vr&&(ln.storeDimIndex=Vr.ensureCalculationDimension(Zr,rn),cn.storeDimIndex=Vr.ensureCalculationDimension(Kr,rn)),zr.appendCalculationDimension(ln),zr.appendCalculationDimension(cn)):(Br.push(ln),Br.push(cn))}return{stackedDimension:Wr&&Wr.name,stackedByDimension:Gr&&Gr.name,isStackedByIndex:Mr,stackedOverDimension:Zr,stackResultDimension:Kr}}function isLegacyDimensionsInput(_r){return!isSeriesDataSchema(_r.schema)}function isDimensionStacked(_r,Be){return!!Be&&Be===_r.getCalculationInfo("stackedDimension")}function getStackedDimension(_r,Be){return isDimensionStacked(_r,Be)?_r.getCalculationInfo("stackResultDimension"):Be}function getCoordSysDimDefs(_r,Be){var Dr=_r.get("coordinateSystem"),Mr=CoordinateSystem.get(Dr),$r;return Be&&Be.coordSysDims&&($r=map$1(Be.coordSysDims,function(Br){var zr={name:Br},Vr=Be.axisMap.get(Br);if(Vr){var jr=Vr.get("type");zr.type=getDimensionTypeByAxis(jr)}return zr})),$r||($r=Mr&&(Mr.getDimensionsInfo?Mr.getDimensionsInfo():Mr.dimensions.slice())||["x","y"]),$r}function injectOrdinalMeta(_r,Be,Dr){var Mr,$r;return Dr&&each$f(_r,function(Br,zr){var Vr=Br.coordDim,jr=Dr.categoryAxisMap.get(Vr);jr&&(Mr==null&&(Mr=zr),Br.ordinalMeta=jr.getOrdinalMeta(),Be&&(Br.createInvertedIndices=!0)),Br.otherDims.itemName!=null&&($r=!0)}),!$r&&Mr!=null&&(_r[Mr].otherDims.itemName=0),Mr}function createSeriesData(_r,Be,Dr){Dr=Dr||{};var Mr=Be.getSourceManager(),$r,Br=!1;_r?(Br=!0,$r=createSourceFromSeriesDataOption(_r)):($r=Mr.getSource(),Br=$r.sourceFormat===SOURCE_FORMAT_ORIGINAL);var zr=getCoordSysInfoBySeries(Be),Vr=getCoordSysDimDefs(Be,zr),jr=Dr.useEncodeDefaulter,Gr=isFunction(jr)?jr:jr?curry$1(makeSeriesEncodeForAxisCoordSys,Vr,Be):null,Wr={coordDimensions:Vr,generateCoord:Dr.generateCoord,encodeDefine:Be.getEncode(),encodeDefaulter:Gr,canOmitUnusedDimensions:!Br},Kr=prepareSeriesDataSchema($r,Wr),Zr=injectOrdinalMeta(Kr.dimensions,Dr.createInvertedIndices,zr),Jr=Br?null:Mr.getSharedDataStore(Kr),rn=enableDataStack(Be,{schema:Kr,store:Jr}),nn=new SeriesData$1(Kr,Be);nn.setCalculationInfo(rn);var ln=Zr!=null&&isNeedCompleteOrdinalData($r)?function(cn,hn,mn,bn){return bn===Zr?mn:this.defaultDimValueGetter(cn,hn,mn,bn)}:null;return nn.hasItemOption=!1,nn.initData(Br?$r:Jr,null,ln),nn}function isNeedCompleteOrdinalData(_r){if(_r.sourceFormat===SOURCE_FORMAT_ORIGINAL){var Be=firstDataNotNull(_r.data||[]);return!isArray$1(getDataItemValue(Be))}}function firstDataNotNull(_r){for(var Be=0;Be<_r.length&&_r[Be]==null;)Be++;return _r[Be]}var Scale=function(){function _r(Be){this._setting=Be||{},this._extent=[1/0,-1/0]}return _r.prototype.getSetting=function(Be){return this._setting[Be]},_r.prototype.unionExtent=function(Be){var Dr=this._extent;Be[0]<Dr[0]&&(Dr[0]=Be[0]),Be[1]>Dr[1]&&(Dr[1]=Be[1])},_r.prototype.unionExtentFromData=function(Be,Dr){this.unionExtent(Be.getApproximateExtent(Dr))},_r.prototype.getExtent=function(){return this._extent.slice()},_r.prototype.setExtent=function(Be,Dr){var Mr=this._extent;isNaN(Be)||(Mr[0]=Be),isNaN(Dr)||(Mr[1]=Dr)},_r.prototype.isInExtentRange=function(Be){return this._extent[0]<=Be&&this._extent[1]>=Be},_r.prototype.isBlank=function(){return this._isBlank},_r.prototype.setBlank=function(Be){this._isBlank=Be},_r}();enableClassManagement(Scale);const Scale$1=Scale;var uidBase=0,OrdinalMeta=function(){function _r(Be){this.categories=Be.categories||[],this._needCollect=Be.needCollect,this._deduplication=Be.deduplication,this.uid=++uidBase}return _r.createByAxisModel=function(Be){var Dr=Be.option,Mr=Dr.data,$r=Mr&&map$1(Mr,getName);return new _r({categories:$r,needCollect:!$r,deduplication:Dr.dedplication!==!1})},_r.prototype.getOrdinal=function(Be){return this._getOrCreateMap().get(Be)},_r.prototype.parseAndCollect=function(Be){var Dr,Mr=this._needCollect;if(!isString(Be)&&!Mr)return Be;if(Mr&&!this._deduplication)return Dr=this.categories.length,this.categories[Dr]=Be,Dr;var $r=this._getOrCreateMap();return Dr=$r.get(Be),Dr==null&&(Mr?(Dr=this.categories.length,this.categories[Dr]=Be,$r.set(Be,Dr)):Dr=NaN),Dr},_r.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},_r}();function getName(_r){return isObject$3(_r)&&_r.value!=null?_r.value:_r+""}const OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale(_r){return _r.type==="interval"||_r.type==="log"}function intervalScaleNiceTicks(_r,Be,Dr,Mr){var $r={},Br=_r[1]-_r[0],zr=$r.interval=nice(Br/Be,!0);Dr!=null&&zr<Dr&&(zr=$r.interval=Dr),Mr!=null&&zr>Mr&&(zr=$r.interval=Mr);var Vr=$r.intervalPrecision=getIntervalPrecision(zr),jr=$r.niceTickExtent=[round$3(Math.ceil(_r[0]/zr)*zr,Vr),round$3(Math.floor(_r[1]/zr)*zr,Vr)];return fixExtent(jr,_r),$r}function increaseInterval(_r){var Be=Math.pow(10,quantityExponent(_r)),Dr=_r/Be;return Dr?Dr===2?Dr=3:Dr===3?Dr=5:Dr*=2:Dr=1,round$3(Dr*Be)}function getIntervalPrecision(_r){return getPrecision(_r)+2}function clamp(_r,Be,Dr){_r[Be]=Math.max(Math.min(_r[Be],Dr[1]),Dr[0])}function fixExtent(_r,Be){!isFinite(_r[0])&&(_r[0]=Be[0]),!isFinite(_r[1])&&(_r[1]=Be[1]),clamp(_r,0,Be),clamp(_r,1,Be),_r[0]>_r[1]&&(_r[0]=_r[1])}function contain$1(_r,Be){return _r>=Be[0]&&_r<=Be[1]}function normalize$2(_r,Be){return Be[1]===Be[0]?.5:(_r-Be[0])/(Be[1]-Be[0])}function scale(_r,Be){return _r*(Be[1]-Be[0])+Be[0]}var OrdinalScale=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;Mr.type="ordinal";var $r=Mr.getSetting("ordinalMeta");return $r||($r=new OrdinalMeta$1({})),isArray$1($r)&&($r=new OrdinalMeta$1({categories:map$1($r,function(Br){return isObject$3(Br)?Br.value:Br})})),Mr._ordinalMeta=$r,Mr._extent=Mr.getSetting("extent")||[0,$r.categories.length-1],Mr}return Be.prototype.parse=function(Dr){return Dr==null?NaN:isString(Dr)?this._ordinalMeta.getOrdinal(Dr):Math.round(Dr)},Be.prototype.contain=function(Dr){return Dr=this.parse(Dr),contain$1(Dr,this._extent)&&this._ordinalMeta.categories[Dr]!=null},Be.prototype.normalize=function(Dr){return Dr=this._getTickNumber(this.parse(Dr)),normalize$2(Dr,this._extent)},Be.prototype.scale=function(Dr){return Dr=Math.round(scale(Dr,this._extent)),this.getRawOrdinalNumber(Dr)},Be.prototype.getTicks=function(){for(var Dr=[],Mr=this._extent,$r=Mr[0];$r<=Mr[1];)Dr.push({value:$r}),$r++;return Dr},Be.prototype.getMinorTicks=function(Dr){},Be.prototype.setSortInfo=function(Dr){if(Dr==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var Mr=Dr.ordinalNumbers,$r=this._ordinalNumbersByTick=[],Br=this._ticksByOrdinalNumber=[],zr=0,Vr=this._ordinalMeta.categories.length,jr=Math.min(Vr,Mr.length);zr<jr;++zr){var Gr=Mr[zr];$r[zr]=Gr,Br[Gr]=zr}for(var Wr=0;zr<Vr;++zr){for(;Br[Wr]!=null;)Wr++;$r.push(Wr),Br[Wr]=zr}},Be.prototype._getTickNumber=function(Dr){var Mr=this._ticksByOrdinalNumber;return Mr&&Dr>=0&&Dr<Mr.length?Mr[Dr]:Dr},Be.prototype.getRawOrdinalNumber=function(Dr){var Mr=this._ordinalNumbersByTick;return Mr&&Dr>=0&&Dr<Mr.length?Mr[Dr]:Dr},Be.prototype.getLabel=function(Dr){if(!this.isBlank()){var Mr=this.getRawOrdinalNumber(Dr.value),$r=this._ordinalMeta.categories[Mr];return $r==null?"":$r+""}},Be.prototype.count=function(){return this._extent[1]-this._extent[0]+1},Be.prototype.unionExtentFromData=function(Dr,Mr){this.unionExtent(Dr.getApproximateExtent(Mr))},Be.prototype.isInExtentRange=function(Dr){return Dr=this._getTickNumber(Dr),this._extent[0]<=Dr&&this._extent[1]>=Dr},Be.prototype.getOrdinalMeta=function(){return this._ordinalMeta},Be.prototype.calcNiceTicks=function(){},Be.prototype.calcNiceExtent=function(){},Be.type="ordinal",Be}(Scale$1);Scale$1.registerClass(OrdinalScale);const OrdinalScale$1=OrdinalScale;var roundNumber=round$3,IntervalScale=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type="interval",Dr._interval=0,Dr._intervalPrecision=2,Dr}return Be.prototype.parse=function(Dr){return Dr},Be.prototype.contain=function(Dr){return contain$1(Dr,this._extent)},Be.prototype.normalize=function(Dr){return normalize$2(Dr,this._extent)},Be.prototype.scale=function(Dr){return scale(Dr,this._extent)},Be.prototype.setExtent=function(Dr,Mr){var $r=this._extent;isNaN(Dr)||($r[0]=parseFloat(Dr)),isNaN(Mr)||($r[1]=parseFloat(Mr))},Be.prototype.unionExtent=function(Dr){var Mr=this._extent;Dr[0]<Mr[0]&&(Mr[0]=Dr[0]),Dr[1]>Mr[1]&&(Mr[1]=Dr[1]),this.setExtent(Mr[0],Mr[1])},Be.prototype.getInterval=function(){return this._interval},Be.prototype.setInterval=function(Dr){this._interval=Dr,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(Dr)},Be.prototype.getTicks=function(Dr){var Mr=this._interval,$r=this._extent,Br=this._niceExtent,zr=this._intervalPrecision,Vr=[];if(!Mr)return Vr;var jr=1e4;$r[0]<Br[0]&&(Dr?Vr.push({value:roundNumber(Br[0]-Mr,zr)}):Vr.push({value:$r[0]}));for(var Gr=Br[0];Gr<=Br[1]&&(Vr.push({value:Gr}),Gr=roundNumber(Gr+Mr,zr),Gr!==Vr[Vr.length-1].value);)if(Vr.length>jr)return[];var Wr=Vr.length?Vr[Vr.length-1].value:Br[1];return $r[1]>Wr&&(Dr?Vr.push({value:roundNumber(Wr+Mr,zr)}):Vr.push({value:$r[1]})),Vr},Be.prototype.getMinorTicks=function(Dr){for(var Mr=this.getTicks(!0),$r=[],Br=this.getExtent(),zr=1;zr<Mr.length;zr++){for(var Vr=Mr[zr],jr=Mr[zr-1],Gr=0,Wr=[],Kr=Vr.value-jr.value,Zr=Kr/Dr;Gr<Dr-1;){var Jr=roundNumber(jr.value+(Gr+1)*Zr);Jr>Br[0]&&Jr<Br[1]&&Wr.push(Jr),Gr++}$r.push(Wr)}return $r},Be.prototype.getLabel=function(Dr,Mr){if(Dr==null)return"";var $r=Mr&&Mr.precision;$r==null?$r=getPrecision(Dr.value)||0:$r==="auto"&&($r=this._intervalPrecision);var Br=roundNumber(Dr.value,$r,!0);return addCommas(Br)},Be.prototype.calcNiceTicks=function(Dr,Mr,$r){Dr=Dr||5;var Br=this._extent,zr=Br[1]-Br[0];if(isFinite(zr)){zr<0&&(zr=-zr,Br.reverse());var Vr=intervalScaleNiceTicks(Br,Dr,Mr,$r);this._intervalPrecision=Vr.intervalPrecision,this._interval=Vr.interval,this._niceExtent=Vr.niceTickExtent}},Be.prototype.calcNiceExtent=function(Dr){var Mr=this._extent;if(Mr[0]===Mr[1])if(Mr[0]!==0){var $r=Math.abs(Mr[0]);Dr.fixMax||(Mr[1]+=$r/2),Mr[0]-=$r/2}else Mr[1]=1;var Br=Mr[1]-Mr[0];isFinite(Br)||(Mr[0]=0,Mr[1]=1),this.calcNiceTicks(Dr.splitNumber,Dr.minInterval,Dr.maxInterval);var zr=this._interval;Dr.fixMin||(Mr[0]=roundNumber(Math.floor(Mr[0]/zr)*zr)),Dr.fixMax||(Mr[1]=roundNumber(Math.ceil(Mr[1]/zr)*zr))},Be.prototype.setNiceExtent=function(Dr,Mr){this._niceExtent=[Dr,Mr]},Be.type="interval",Be}(Scale$1);Scale$1.registerClass(IntervalScale);const IntervalScale$1=IntervalScale;var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(_r){return isArray$1(_r)?supportFloat32Array?new Float32Array(_r):_r:new Float32ArrayCtor(_r)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(_r){return _r.get("stack")||STACK_PREFIX+_r.seriesIndex}function getAxisKey$1(_r){return _r.dim+_r.index}function getLayoutOnAxis(_r){var Be=[],Dr=_r.axis,Mr="axis0";if(Dr.type==="category"){for(var $r=Dr.getBandWidth(),Br=0;Br<_r.count;Br++)Be.push(defaults({bandWidth:$r,axisKey:Mr,stackId:STACK_PREFIX+Br},_r));for(var zr=doCalBarWidthAndOffset(Be),Vr=[],Br=0;Br<_r.count;Br++){var jr=zr[Mr][STACK_PREFIX+Br];jr.offsetCenter=jr.offset+jr.width/2,Vr.push(jr)}return Vr}}function prepareLayoutBarSeries(_r,Be){var Dr=[];return Be.eachSeriesByType(_r,function(Mr){isOnCartesian(Mr)&&Dr.push(Mr)}),Dr}function getValueAxesMinGaps(_r){var Be={};each$f(_r,function(jr){var Gr=jr.coordinateSystem,Wr=Gr.getBaseAxis();if(!(Wr.type!=="time"&&Wr.type!=="value"))for(var Kr=jr.getData(),Zr=Wr.dim+"_"+Wr.index,Jr=Kr.getDimensionIndex(Kr.mapDimension(Wr.dim)),rn=Kr.getStore(),nn=0,ln=rn.count();nn<ln;++nn){var cn=rn.get(Jr,nn);Be[Zr]?Be[Zr].push(cn):Be[Zr]=[cn]}});var Dr={};for(var Mr in Be)if(Be.hasOwnProperty(Mr)){var $r=Be[Mr];if($r){$r.sort(function(jr,Gr){return jr-Gr});for(var Br=null,zr=1;zr<$r.length;++zr){var Vr=$r[zr]-$r[zr-1];Vr>0&&(Br=Br===null?Vr:Math.min(Br,Vr))}Dr[Mr]=Br}}return Dr}function makeColumnLayout(_r){var Be=getValueAxesMinGaps(_r),Dr=[];return each$f(_r,function(Mr){var $r=Mr.coordinateSystem,Br=$r.getBaseAxis(),zr=Br.getExtent(),Vr;if(Br.type==="category")Vr=Br.getBandWidth();else if(Br.type==="value"||Br.type==="time"){var jr=Br.dim+"_"+Br.index,Gr=Be[jr],Wr=Math.abs(zr[1]-zr[0]),Kr=Br.scale.getExtent(),Zr=Math.abs(Kr[1]-Kr[0]);Vr=Gr?Wr/Zr*Gr:Wr}else{var Jr=Mr.getData();Vr=Math.abs(zr[1]-zr[0])/Jr.count()}var rn=parsePercent(Mr.get("barWidth"),Vr),nn=parsePercent(Mr.get("barMaxWidth"),Vr),ln=parsePercent(Mr.get("barMinWidth")||(isInLargeMode(Mr)?.5:1),Vr),cn=Mr.get("barGap"),hn=Mr.get("barCategoryGap");Dr.push({bandWidth:Vr,barWidth:rn,barMaxWidth:nn,barMinWidth:ln,barGap:cn,barCategoryGap:hn,axisKey:getAxisKey$1(Br),stackId:getSeriesStackId$1(Mr)})}),doCalBarWidthAndOffset(Dr)}function doCalBarWidthAndOffset(_r){var Be={};each$f(_r,function(Mr,$r){var Br=Mr.axisKey,zr=Mr.bandWidth,Vr=Be[Br]||{bandWidth:zr,remainedWidth:zr,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},jr=Vr.stacks;Be[Br]=Vr;var Gr=Mr.stackId;jr[Gr]||Vr.autoWidthCount++,jr[Gr]=jr[Gr]||{width:0,maxWidth:0};var Wr=Mr.barWidth;Wr&&!jr[Gr].width&&(jr[Gr].width=Wr,Wr=Math.min(Vr.remainedWidth,Wr),Vr.remainedWidth-=Wr);var Kr=Mr.barMaxWidth;Kr&&(jr[Gr].maxWidth=Kr);var Zr=Mr.barMinWidth;Zr&&(jr[Gr].minWidth=Zr);var Jr=Mr.barGap;Jr!=null&&(Vr.gap=Jr);var rn=Mr.barCategoryGap;rn!=null&&(Vr.categoryGap=rn)});var Dr={};return each$f(Be,function(Mr,$r){Dr[$r]={};var Br=Mr.stacks,zr=Mr.bandWidth,Vr=Mr.categoryGap;if(Vr==null){var jr=keys(Br).length;Vr=Math.max(35-jr*4,15)+"%"}var Gr=parsePercent(Vr,zr),Wr=parsePercent(Mr.gap,1),Kr=Mr.remainedWidth,Zr=Mr.autoWidthCount,Jr=(Kr-Gr)/(Zr+(Zr-1)*Wr);Jr=Math.max(Jr,0),each$f(Br,function(cn){var hn=cn.maxWidth,mn=cn.minWidth;if(cn.width){var bn=cn.width;hn&&(bn=Math.min(bn,hn)),mn&&(bn=Math.max(bn,mn)),cn.width=bn,Kr-=bn+Wr*bn,Zr--}else{var bn=Jr;hn&&hn<bn&&(bn=Math.min(hn,Kr)),mn&&mn>bn&&(bn=mn),bn!==Jr&&(cn.width=bn,Kr-=bn+Wr*bn,Zr--)}}),Jr=(Kr-Gr)/(Zr+(Zr-1)*Wr),Jr=Math.max(Jr,0);var rn=0,nn;each$f(Br,function(cn,hn){cn.width||(cn.width=Jr),nn=cn,rn+=cn.width*(1+Wr)}),nn&&(rn-=nn.width*Wr);var ln=-rn/2;each$f(Br,function(cn,hn){Dr[$r][hn]=Dr[$r][hn]||{bandWidth:zr,offset:ln,width:cn.width},ln+=cn.width*(1+Wr)})}),Dr}function retrieveColumnLayout(_r,Be,Dr){if(_r&&Be){var Mr=_r[getAxisKey$1(Be)];return Mr!=null&&Dr!=null?Mr[getSeriesStackId$1(Dr)]:Mr}}function layout$3(_r,Be){var Dr=prepareLayoutBarSeries(_r,Be),Mr=makeColumnLayout(Dr);each$f(Dr,function($r){var Br=$r.getData(),zr=$r.coordinateSystem,Vr=zr.getBaseAxis(),jr=getSeriesStackId$1($r),Gr=Mr[getAxisKey$1(Vr)][jr],Wr=Gr.offset,Kr=Gr.width;Br.setLayout({bandWidth:Gr.bandWidth,offset:Wr,size:Kr})})}function createProgressiveLayout(_r){return{seriesType:_r,plan:createRenderPlanner(),reset:function(Be){if(isOnCartesian(Be)){var Dr=Be.getData(),Mr=Be.coordinateSystem,$r=Mr.getBaseAxis(),Br=Mr.getOtherAxis($r),zr=Dr.getDimensionIndex(Dr.mapDimension(Br.dim)),Vr=Dr.getDimensionIndex(Dr.mapDimension($r.dim)),jr=Be.get("showBackground",!0),Gr=Dr.mapDimension(Br.dim),Wr=Dr.getCalculationInfo("stackResultDimension"),Kr=isDimensionStacked(Dr,Gr)&&!!Dr.getCalculationInfo("stackedOnSeries"),Zr=Br.isHorizontal(),Jr=getValueAxisStart($r,Br),rn=isInLargeMode(Be),nn=Be.get("barMinHeight")||0,ln=Wr&&Dr.getDimensionIndex(Wr),cn=Dr.getLayout("size"),hn=Dr.getLayout("offset");return{progress:function(mn,bn){for(var An=mn.count,vn=rn&&createFloat32Array(An*3),dn=rn&&jr&&createFloat32Array(An*3),wn=rn&&createFloat32Array(An),xn=Mr.master.getRect(),Mn=Zr?xn.width:xn.height,In,Hn=bn.getStore(),$n=0;(In=mn.next())!=null;){var jn=Hn.get(Kr?ln:zr,In),Bn=Hn.get(Vr,In),Gn=Jr,ei=void 0;Kr&&(ei=+jn-Hn.get(zr,In));var ri=void 0,vi=void 0,wi=void 0,Ni=void 0;if(Zr){var Yn=Mr.dataToPoint([jn,Bn]);if(Kr){var Vn=Mr.dataToPoint([ei,Bn]);Gn=Vn[0]}ri=Gn,vi=Yn[1]+hn,wi=Yn[0]-Gn,Ni=cn,Math.abs(wi)<nn&&(wi=(wi<0?-1:1)*nn)}else{var Yn=Mr.dataToPoint([Bn,jn]);if(Kr){var Vn=Mr.dataToPoint([Bn,ei]);Gn=Vn[1]}ri=Yn[0]+hn,vi=Gn,wi=cn,Ni=Yn[1]-Gn,Math.abs(Ni)<nn&&(Ni=(Ni<=0?-1:1)*nn)}rn?(vn[$n]=ri,vn[$n+1]=vi,vn[$n+2]=Zr?wi:Ni,dn&&(dn[$n]=Zr?xn.x:ri,dn[$n+1]=Zr?vi:xn.y,dn[$n+2]=Mn),wn[In]=In):bn.setItemLayout(In,{x:ri,y:vi,width:wi,height:Ni}),$n+=3}rn&&bn.setLayout({largePoints:vn,largeDataIndices:wn,largeBackgroundPoints:dn,valueAxisHorizontal:Zr})}}}}}}function isOnCartesian(_r){return _r.coordinateSystem&&_r.coordinateSystem.type==="cartesian2d"}function isInLargeMode(_r){return _r.pipelineContext&&_r.pipelineContext.large}function getValueAxisStart(_r,Be){return Be.toGlobalCoord(Be.dataToCoord(Be.type==="log"?1:0))}var bisect=function(_r,Be,Dr,Mr){for(;Dr<Mr;){var $r=Dr+Mr>>>1;_r[$r][1]<Be?Dr=$r+1:Mr=$r}return Dr},TimeScale=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="time",Mr}return Be.prototype.getLabel=function(Dr){var Mr=this.getSetting("useUTC");return format$1(Dr.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,Mr,this.getSetting("locale"))},Be.prototype.getFormattedLabel=function(Dr,Mr,$r){var Br=this.getSetting("useUTC"),zr=this.getSetting("locale");return leveledFormat(Dr,Mr,$r,zr,Br)},Be.prototype.getTicks=function(){var Dr=this._interval,Mr=this._extent,$r=[];if(!Dr)return $r;$r.push({value:Mr[0],level:0});var Br=this.getSetting("useUTC"),zr=getIntervalTicks(this._minLevelUnit,this._approxInterval,Br,Mr);return $r=$r.concat(zr),$r.push({value:Mr[1],level:0}),$r},Be.prototype.calcNiceExtent=function(Dr){var Mr=this._extent;if(Mr[0]===Mr[1]&&(Mr[0]-=ONE_DAY,Mr[1]+=ONE_DAY),Mr[1]===-1/0&&Mr[0]===1/0){var $r=new Date;Mr[1]=+new Date($r.getFullYear(),$r.getMonth(),$r.getDate()),Mr[0]=Mr[1]-ONE_DAY}this.calcNiceTicks(Dr.splitNumber,Dr.minInterval,Dr.maxInterval)},Be.prototype.calcNiceTicks=function(Dr,Mr,$r){Dr=Dr||10;var Br=this._extent,zr=Br[1]-Br[0];this._approxInterval=zr/Dr,Mr!=null&&this._approxInterval<Mr&&(this._approxInterval=Mr),$r!=null&&this._approxInterval>$r&&(this._approxInterval=$r);var Vr=scaleIntervals.length,jr=Math.min(bisect(scaleIntervals,this._approxInterval,0,Vr),Vr-1);this._interval=scaleIntervals[jr][1],this._minLevelUnit=scaleIntervals[Math.max(jr-1,0)][0]},Be.prototype.parse=function(Dr){return isNumber(Dr)?Dr:+parseDate(Dr)},Be.prototype.contain=function(Dr){return contain$1(this.parse(Dr),this._extent)},Be.prototype.normalize=function(Dr){return normalize$2(this.parse(Dr),this._extent)},Be.prototype.scale=function(Dr){return scale(Dr,this._extent)},Be.type="time",Be}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(_r,Be,Dr,Mr){var $r=parseDate(Be),Br=parseDate(Dr),zr=function(rn){return getUnitValue($r,rn,Mr)===getUnitValue(Br,rn,Mr)},Vr=function(){return zr("year")},jr=function(){return Vr()&&zr("month")},Gr=function(){return jr()&&zr("day")},Wr=function(){return Gr()&&zr("hour")},Kr=function(){return Wr()&&zr("minute")},Zr=function(){return Kr()&&zr("second")},Jr=function(){return Zr()&&zr("millisecond")};switch(_r){case"year":return Vr();case"month":return jr();case"day":return Gr();case"hour":return Wr();case"minute":return Kr();case"second":return Zr();case"millisecond":return Jr()}}function getDateInterval(_r,Be){return _r/=ONE_DAY,_r>16?16:_r>7.5?7:_r>3.5?4:_r>1.5?2:1}function getMonthInterval(_r){var Be=30*ONE_DAY;return _r/=Be,_r>6?6:_r>3?3:_r>2?2:1}function getHourInterval(_r){return _r/=ONE_HOUR,_r>12?12:_r>6?6:_r>3.5?4:_r>2?2:1}function getMinutesAndSecondsInterval(_r,Be){return _r/=Be?ONE_MINUTE:ONE_SECOND,_r>30?30:_r>20?20:_r>15?15:_r>10?10:_r>5?5:_r>2?2:1}function getMillisecondsInterval(_r){return nice(_r,!0)}function getFirstTimestampOfUnit(_r,Be,Dr){var Mr=new Date(_r);switch(getPrimaryTimeUnit(Be)){case"year":case"month":Mr[monthSetterName(Dr)](0);case"day":Mr[dateSetterName(Dr)](1);case"hour":Mr[hoursSetterName(Dr)](0);case"minute":Mr[minutesSetterName(Dr)](0);case"second":Mr[secondsSetterName(Dr)](0),Mr[millisecondsSetterName(Dr)](0)}return Mr.getTime()}function getIntervalTicks(_r,Be,Dr,Mr){var $r=1e4,Br=timeUnits,zr=0;function Vr(Mn,In,Hn,$n,jn,Bn,Gn){for(var ei=new Date(In),ri=In,vi=ei[$n]();ri<Hn&&ri<=Mr[1];)Gn.push({value:ri}),vi+=Mn,ei[jn](vi),ri=ei.getTime();Gn.push({value:ri,notAdd:!0})}function jr(Mn,In,Hn){var $n=[],jn=!In.length;if(!isUnitValueSame(getPrimaryTimeUnit(Mn),Mr[0],Mr[1],Dr)){jn&&(In=[{value:getFirstTimestampOfUnit(new Date(Mr[0]),Mn,Dr)},{value:Mr[1]}]);for(var Bn=0;Bn<In.length-1;Bn++){var Gn=In[Bn].value,ei=In[Bn+1].value;if(Gn!==ei){var ri=void 0,vi=void 0,wi=void 0,Ni=!1;switch(Mn){case"year":ri=Math.max(1,Math.round(Be/ONE_DAY/365)),vi=fullYearGetterName(Dr),wi=fullYearSetterName(Dr);break;case"half-year":case"quarter":case"month":ri=getMonthInterval(Be),vi=monthGetterName(Dr),wi=monthSetterName(Dr);break;case"week":case"half-week":case"day":ri=getDateInterval(Be),vi=dateGetterName(Dr),wi=dateSetterName(Dr),Ni=!0;break;case"half-day":case"quarter-day":case"hour":ri=getHourInterval(Be),vi=hoursGetterName(Dr),wi=hoursSetterName(Dr);break;case"minute":ri=getMinutesAndSecondsInterval(Be,!0),vi=minutesGetterName(Dr),wi=minutesSetterName(Dr);break;case"second":ri=getMinutesAndSecondsInterval(Be,!1),vi=secondsGetterName(Dr),wi=secondsSetterName(Dr);break;case"millisecond":ri=getMillisecondsInterval(Be),vi=millisecondsGetterName(Dr),wi=millisecondsSetterName(Dr);break}Vr(ri,Gn,ei,vi,wi,Ni,$n),Mn==="year"&&Hn.length>1&&Bn===0&&Hn.unshift({value:Hn[0].value-ri})}}for(var Bn=0;Bn<$n.length;Bn++)Hn.push($n[Bn]);return $n}}for(var Gr=[],Wr=[],Kr=0,Zr=0,Jr=0;Jr<Br.length&&zr++<$r;++Jr){var rn=getPrimaryTimeUnit(Br[Jr]);if(isPrimaryTimeUnit(Br[Jr])){jr(Br[Jr],Gr[Gr.length-1]||[],Wr);var nn=Br[Jr+1]?getPrimaryTimeUnit(Br[Jr+1]):null;if(rn!==nn){if(Wr.length){Zr=Kr,Wr.sort(function(Mn,In){return Mn.value-In.value});for(var ln=[],cn=0;cn<Wr.length;++cn){var hn=Wr[cn].value;(cn===0||Wr[cn-1].value!==hn)&&(ln.push(Wr[cn]),hn>=Mr[0]&&hn<=Mr[1]&&Kr++)}var mn=(Mr[1]-Mr[0])/Be;if(Kr>mn*1.5&&Zr>mn/1.5||(Gr.push(ln),Kr>mn||_r===Br[Jr]))break}Wr=[]}}}for(var bn=filter(map$1(Gr,function(Mn){return filter(Mn,function(In){return In.value>=Mr[0]&&In.value<=Mr[1]&&!In.notAdd})}),function(Mn){return Mn.length>0}),An=[],vn=bn.length-1,Jr=0;Jr<bn.length;++Jr)for(var dn=bn[Jr],wn=0;wn<dn.length;++wn)An.push({value:dn[wn].value,level:vn-Jr});An.sort(function(Mn,In){return Mn.value-In.value});for(var xn=[],Jr=0;Jr<An.length;++Jr)(Jr===0||An[Jr].value!==An[Jr-1].value)&&xn.push(An[Jr]);return xn}Scale$1.registerClass(TimeScale);const TimeScale$1=TimeScale;var scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type="log",Dr.base=10,Dr._originalScale=new IntervalScale$1,Dr._interval=0,Dr}return Be.prototype.getTicks=function(Dr){var Mr=this._originalScale,$r=this._extent,Br=Mr.getExtent(),zr=intervalScaleProto.getTicks.call(this,Dr);return map$1(zr,function(Vr){var jr=Vr.value,Gr=round$3(mathPow$1(this.base,jr));return Gr=jr===$r[0]&&this._fixMin?fixRoundingError(Gr,Br[0]):Gr,Gr=jr===$r[1]&&this._fixMax?fixRoundingError(Gr,Br[1]):Gr,{value:Gr}},this)},Be.prototype.setExtent=function(Dr,Mr){var $r=mathLog$1(this.base);Dr=mathLog$1(Math.max(0,Dr))/$r,Mr=mathLog$1(Math.max(0,Mr))/$r,intervalScaleProto.setExtent.call(this,Dr,Mr)},Be.prototype.getExtent=function(){var Dr=this.base,Mr=scaleProto.getExtent.call(this);Mr[0]=mathPow$1(Dr,Mr[0]),Mr[1]=mathPow$1(Dr,Mr[1]);var $r=this._originalScale,Br=$r.getExtent();return this._fixMin&&(Mr[0]=fixRoundingError(Mr[0],Br[0])),this._fixMax&&(Mr[1]=fixRoundingError(Mr[1],Br[1])),Mr},Be.prototype.unionExtent=function(Dr){this._originalScale.unionExtent(Dr);var Mr=this.base;Dr[0]=mathLog$1(Dr[0])/mathLog$1(Mr),Dr[1]=mathLog$1(Dr[1])/mathLog$1(Mr),scaleProto.unionExtent.call(this,Dr)},Be.prototype.unionExtentFromData=function(Dr,Mr){this.unionExtent(Dr.getApproximateExtent(Mr))},Be.prototype.calcNiceTicks=function(Dr){Dr=Dr||10;var Mr=this._extent,$r=Mr[1]-Mr[0];if(!($r===1/0||$r<=0)){var Br=quantity($r),zr=Dr/$r*Br;for(zr<=.5&&(Br*=10);!isNaN(Br)&&Math.abs(Br)<1&&Math.abs(Br)>0;)Br*=10;var Vr=[round$3(mathCeil$1(Mr[0]/Br)*Br),round$3(mathFloor$1(Mr[1]/Br)*Br)];this._interval=Br,this._niceExtent=Vr}},Be.prototype.calcNiceExtent=function(Dr){intervalScaleProto.calcNiceExtent.call(this,Dr),this._fixMin=Dr.fixMin,this._fixMax=Dr.fixMax},Be.prototype.parse=function(Dr){return Dr},Be.prototype.contain=function(Dr){return Dr=mathLog$1(Dr)/mathLog$1(this.base),contain$1(Dr,this._extent)},Be.prototype.normalize=function(Dr){return Dr=mathLog$1(Dr)/mathLog$1(this.base),normalize$2(Dr,this._extent)},Be.prototype.scale=function(Dr){return Dr=scale(Dr,this._extent),mathPow$1(this.base,Dr)},Be.type="log",Be}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(_r,Be){return roundingErrorFix(_r,getPrecision(Be))}Scale$1.registerClass(LogScale);const LogScale$1=LogScale;var ScaleRawExtentInfo=function(){function _r(Be,Dr,Mr){this._prepareParams(Be,Dr,Mr)}return _r.prototype._prepareParams=function(Be,Dr,Mr){Mr[1]<Mr[0]&&(Mr=[NaN,NaN]),this._dataMin=Mr[0],this._dataMax=Mr[1];var $r=this._isOrdinal=Be.type==="ordinal";this._needCrossZero=Be.type==="interval"&&Dr.getNeedCrossZero&&Dr.getNeedCrossZero();var Br=this._modelMinRaw=Dr.get("min",!0);isFunction(Br)?this._modelMinNum=parseAxisModelMinMax(Be,Br({min:Mr[0],max:Mr[1]})):Br!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(Be,Br));var zr=this._modelMaxRaw=Dr.get("max",!0);if(isFunction(zr)?this._modelMaxNum=parseAxisModelMinMax(Be,zr({min:Mr[0],max:Mr[1]})):zr!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(Be,zr)),$r)this._axisDataLen=Dr.getCategories().length;else{var Vr=Dr.get("boundaryGap"),jr=isArray$1(Vr)?Vr:[Vr||0,Vr||0];typeof jr[0]=="boolean"||typeof jr[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(jr[0],1),parsePercent$1(jr[1],1)]}},_r.prototype.calculate=function(){var Be=this._isOrdinal,Dr=this._dataMin,Mr=this._dataMax,$r=this._axisDataLen,Br=this._boundaryGapInner,zr=Be?null:Mr-Dr||Math.abs(Dr),Vr=this._modelMinRaw==="dataMin"?Dr:this._modelMinNum,jr=this._modelMaxRaw==="dataMax"?Mr:this._modelMaxNum,Gr=Vr!=null,Wr=jr!=null;Vr==null&&(Vr=Be?$r?0:NaN:Dr-Br[0]*zr),jr==null&&(jr=Be?$r?$r-1:NaN:Mr+Br[1]*zr),(Vr==null||!isFinite(Vr))&&(Vr=NaN),(jr==null||!isFinite(jr))&&(jr=NaN);var Kr=eqNaN(Vr)||eqNaN(jr)||Be&&!$r;this._needCrossZero&&(Vr>0&&jr>0&&!Gr&&(Vr=0),Vr<0&&jr<0&&!Wr&&(jr=0));var Zr=this._determinedMin,Jr=this._determinedMax;return Zr!=null&&(Vr=Zr,Gr=!0),Jr!=null&&(jr=Jr,Wr=!0),{min:Vr,max:jr,minFixed:Gr,maxFixed:Wr,isBlank:Kr}},_r.prototype.modifyDataMinMax=function(Be,Dr){this[DATA_MIN_MAX_ATTR[Be]]=Dr},_r.prototype.setDeterminedMinMax=function(Be,Dr){var Mr=DETERMINED_MIN_MAX_ATTR[Be];this[Mr]=Dr},_r.prototype.freeze=function(){this.frozen=!0},_r}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(_r,Be,Dr){var Mr=_r.rawExtentInfo;return Mr||(Mr=new ScaleRawExtentInfo(_r,Be,Dr),_r.rawExtentInfo=Mr,Mr)}function parseAxisModelMinMax(_r,Be){return Be==null?null:eqNaN(Be)?NaN:_r.parse(Be)}function getScaleExtent(_r,Be){var Dr=_r.type,Mr=ensureScaleRawExtentInfo(_r,Be,_r.getExtent()).calculate();_r.setBlank(Mr.isBlank);var $r=Mr.min,Br=Mr.max,zr=Be.ecModel;if(zr&&Dr==="time"){var Vr=prepareLayoutBarSeries("bar",zr),jr=!1;if(each$f(Vr,function(Kr){jr=jr||Kr.getBaseAxis()===Be.axis}),jr){var Gr=makeColumnLayout(Vr),Wr=adjustScaleForOverflow($r,Br,Be,Gr);$r=Wr.min,Br=Wr.max}}return{extent:[$r,Br],fixMin:Mr.minFixed,fixMax:Mr.maxFixed}}function adjustScaleForOverflow(_r,Be,Dr,Mr){var $r=Dr.axis.getExtent(),Br=$r[1]-$r[0],zr=retrieveColumnLayout(Mr,Dr.axis);if(zr===void 0)return{min:_r,max:Be};var Vr=1/0;each$f(zr,function(Jr){Vr=Math.min(Jr.offset,Vr)});var jr=-1/0;each$f(zr,function(Jr){jr=Math.max(Jr.offset+Jr.width,jr)}),Vr=Math.abs(Vr),jr=Math.abs(jr);var Gr=Vr+jr,Wr=Be-_r,Kr=1-(Vr+jr)/Br,Zr=Wr/Kr-Wr;return Be+=Zr*(jr/Gr),_r-=Zr*(Vr/Gr),{min:_r,max:Be}}function niceScaleExtent(_r,Be){var Dr=Be,Mr=getScaleExtent(_r,Dr),$r=Mr.extent,Br=Dr.get("splitNumber");_r instanceof LogScale$1&&(_r.base=Dr.get("logBase"));var zr=_r.type,Vr=Dr.get("interval"),jr=zr==="interval"||zr==="time";_r.setExtent($r[0],$r[1]),_r.calcNiceExtent({splitNumber:Br,fixMin:Mr.fixMin,fixMax:Mr.fixMax,minInterval:jr?Dr.get("minInterval"):null,maxInterval:jr?Dr.get("maxInterval"):null}),Vr!=null&&_r.setInterval&&_r.setInterval(Vr)}function createScaleByModel$1(_r,Be){if(Be=Be||_r.get("type"),Be)switch(Be){case"category":return new OrdinalScale$1({ordinalMeta:_r.getOrdinalMeta?_r.getOrdinalMeta():_r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:_r.ecModel.getLocaleModel(),useUTC:_r.ecModel.get("useUTC")});default:return new(Scale$1.getClass(Be)||IntervalScale$1)}}function ifAxisCrossZero(_r){var Be=_r.scale.getExtent(),Dr=Be[0],Mr=Be[1];return!(Dr>0&&Mr>0||Dr<0&&Mr<0)}function makeLabelFormatter(_r){var Be=_r.getLabelModel().get("formatter"),Dr=_r.type==="category"?_r.scale.getExtent()[0]:null;return _r.scale.type==="time"?function(Mr){return function($r,Br){return _r.scale.getFormattedLabel($r,Br,Mr)}}(Be):isString(Be)?function(Mr){return function($r){var Br=_r.scale.getLabel($r),zr=Mr.replace("{value}",Br??"");return zr}}(Be):isFunction(Be)?function(Mr){return function($r,Br){return Dr!=null&&(Br=$r.value-Dr),Mr(getAxisRawValue(_r,$r),Br,$r.level!=null?{level:$r.level}:null)}}(Be):function(Mr){return _r.scale.getLabel(Mr)}}function getAxisRawValue(_r,Be){return _r.type==="category"?_r.scale.getLabel(Be):Be.value}function estimateLabelUnionRect(_r){var Be=_r.model,Dr=_r.scale;if(!(!Be.get(["axisLabel","show"])||Dr.isBlank())){var Mr,$r,Br=Dr.getExtent();Dr instanceof OrdinalScale$1?$r=Dr.count():(Mr=Dr.getTicks(),$r=Mr.length);var zr=_r.getLabelModel(),Vr=makeLabelFormatter(_r),jr,Gr=1;$r>40&&(Gr=Math.ceil($r/40));for(var Wr=0;Wr<$r;Wr+=Gr){var Kr=Mr?Mr[Wr]:{value:Br[0]+Wr},Zr=Vr(Kr,Wr),Jr=zr.getTextRect(Zr),rn=rotateTextRect(Jr,zr.get("rotate")||0);jr?jr.union(rn):jr=rn}return jr}}function rotateTextRect(_r,Be){var Dr=Be*Math.PI/180,Mr=_r.width,$r=_r.height,Br=Mr*Math.abs(Math.cos(Dr))+Math.abs($r*Math.sin(Dr)),zr=Mr*Math.abs(Math.sin(Dr))+Math.abs($r*Math.cos(Dr)),Vr=new BoundingRect$1(_r.x,_r.y,Br,zr);return Vr}function getOptionCategoryInterval(_r){var Be=_r.get("interval");return Be??"auto"}function shouldShowAllLabels(_r){return _r.type==="category"&&getOptionCategoryInterval(_r.getLabelModel())===0}function getDataDimensionsOnAxis(_r,Be){var Dr={};return each$f(_r.mapDimensionsAll(Be),function(Mr){Dr[getStackedDimension(_r,Mr)]=!0}),keys(Dr)}function unionAxisExtentFromData(_r,Be,Dr){Be&&each$f(getDataDimensionsOnAxis(Be,Dr),function(Mr){var $r=Be.getApproximateExtent(Mr);$r[0]<_r[0]&&(_r[0]=$r[0]),$r[1]>_r[1]&&(_r[1]=$r[1])})}var AxisModelCommonMixin=function(){function _r(){}return _r.prototype.getNeedCrossZero=function(){var Be=this.option;return!Be.scale},_r.prototype.getCoordSysModel=function(){},_r}();function createList$2(_r){return createSeriesData(null,_r)}var dataStack={isDimensionStacked,enableDataStack,getStackedDimension};function createScale(_r,Be){var Dr=Be;Be instanceof Model$1||(Dr=new Model$1(Be));var Mr=createScaleByModel$1(Dr);return Mr.setExtent(_r[0],_r[1]),niceScaleExtent(Mr,Dr),Mr}function mixinAxisModelCommonMethods(_r){mixin(_r,AxisModelCommonMixin)}function createTextStyle(_r,Be){return Be=Be||{},createTextStyle$1(_r,null,null,Be.state!=="normal")}const helper=Object.freeze(Object.defineProperty({__proto__:null,createDimensions,createList:createList$2,createScale,createSymbol:createSymbol$1,createTextStyle,dataStack,enableHoverEmphasis,getECData,getLayoutRect,mixinAxisModelCommonMethods},Symbol.toStringTag,{value:"Module"}));var EPSILON=1e-8;function isAroundEqual(_r,Be){return Math.abs(_r-Be)<EPSILON}function contain(_r,Be,Dr){var Mr=0,$r=_r[0];if(!$r)return!1;for(var Br=1;Br<_r.length;Br++){var zr=_r[Br];Mr+=windingLine($r[0],$r[1],zr[0],zr[1],Be,Dr),$r=zr}var Vr=_r[0];return(!isAroundEqual($r[0],Vr[0])||!isAroundEqual($r[1],Vr[1]))&&(Mr+=windingLine($r[0],$r[1],Vr[0],Vr[1],Be,Dr)),Mr!==0}var TMP_TRANSFORM=[];function transformPoints(_r,Be){for(var Dr=0;Dr<_r.length;Dr++)applyTransform$1(_r[Dr],_r[Dr],Be)}function updateBBoxFromPoints(_r,Be,Dr,Mr){for(var $r=0;$r<_r.length;$r++){var Br=_r[$r];Mr&&(Br=Mr.project(Br)),Br&&isFinite(Br[0])&&isFinite(Br[1])&&(min$1(Be,Be,Br),max$1(Dr,Dr,Br))}}function centroid$1(_r){for(var Be=0,Dr=0,Mr=0,$r=_r.length,Br=_r[$r-1][0],zr=_r[$r-1][1],Vr=0;Vr<$r;Vr++){var jr=_r[Vr][0],Gr=_r[Vr][1],Wr=Br*Gr-jr*zr;Be+=Wr,Dr+=(Br+jr)*Wr,Mr+=(zr+Gr)*Wr,Br=jr,zr=Gr}return Be?[Dr/Be/3,Mr/Be/3,Be]:[_r[0][0]||0,_r[0][1]||0]}var Region=function(){function _r(Be){this.name=Be}return _r.prototype.setCenter=function(Be){this._center=Be},_r.prototype.getCenter=function(){var Be=this._center;return Be||(Be=this._center=this.calcCenter()),Be},_r}(),GeoJSONPolygonGeometry=function(){function _r(Be,Dr){this.type="polygon",this.exterior=Be,this.interiors=Dr}return _r}(),GeoJSONLineStringGeometry=function(){function _r(Be){this.type="linestring",this.points=Be}return _r}(),GeoJSONRegion=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this,Dr)||this;return Br.type="geoJSON",Br.geometries=Mr,Br._center=$r&&[$r[0],$r[1]],Br}return Be.prototype.calcCenter=function(){for(var Dr=this.geometries,Mr,$r=0,Br=0;Br<Dr.length;Br++){var zr=Dr[Br],Vr=zr.exterior,jr=Vr&&Vr.length;jr>$r&&(Mr=zr,$r=jr)}if(Mr)return centroid$1(Mr.exterior);var Gr=this.getBoundingRect();return[Gr.x+Gr.width/2,Gr.y+Gr.height/2]},Be.prototype.getBoundingRect=function(Dr){var Mr=this._rect;if(Mr&&!Dr)return Mr;var $r=[1/0,1/0],Br=[-1/0,-1/0],zr=this.geometries;return each$f(zr,function(Vr){Vr.type==="polygon"?updateBBoxFromPoints(Vr.exterior,$r,Br,Dr):each$f(Vr.points,function(jr){updateBBoxFromPoints(jr,$r,Br,Dr)})}),isFinite($r[0])&&isFinite($r[1])&&isFinite(Br[0])&&isFinite(Br[1])||($r[0]=$r[1]=Br[0]=Br[1]=0),Mr=new BoundingRect$1($r[0],$r[1],Br[0]-$r[0],Br[1]-$r[1]),Dr||(this._rect=Mr),Mr},Be.prototype.contain=function(Dr){var Mr=this.getBoundingRect(),$r=this.geometries;if(!Mr.contain(Dr[0],Dr[1]))return!1;e:for(var Br=0,zr=$r.length;Br<zr;Br++){var Vr=$r[Br];if(Vr.type==="polygon"){var jr=Vr.exterior,Gr=Vr.interiors;if(contain(jr,Dr[0],Dr[1])){for(var Wr=0;Wr<(Gr?Gr.length:0);Wr++)if(contain(Gr[Wr],Dr[0],Dr[1]))continue e;return!0}}}return!1},Be.prototype.transformTo=function(Dr,Mr,$r,Br){var zr=this.getBoundingRect(),Vr=zr.width/zr.height;$r?Br||(Br=$r/Vr):$r=Vr*Br;for(var jr=new BoundingRect$1(Dr,Mr,$r,Br),Gr=zr.calculateTransform(jr),Wr=this.geometries,Kr=0;Kr<Wr.length;Kr++){var Zr=Wr[Kr];Zr.type==="polygon"?(transformPoints(Zr.exterior,Gr),each$f(Zr.interiors,function(Jr){transformPoints(Jr,Gr)})):each$f(Zr.points,function(Jr){transformPoints(Jr,Gr)})}zr=this._rect,zr.copy(jr),this._center=[zr.x+zr.width/2,zr.y+zr.height/2]},Be.prototype.cloneShallow=function(Dr){Dr==null&&(Dr=this.name);var Mr=new Be(Dr,this.geometries,this._center);return Mr._rect=this._rect,Mr.transformTo=null,Mr},Be}(Region),GeoSVGRegion=function(_r){__extends(Be,_r);function Be(Dr,Mr){var $r=_r.call(this,Dr)||this;return $r.type="geoSVG",$r._elOnlyForCalculate=Mr,$r}return Be.prototype.calcCenter=function(){for(var Dr=this._elOnlyForCalculate,Mr=Dr.getBoundingRect(),$r=[Mr.x+Mr.width/2,Mr.y+Mr.height/2],Br=identity(TMP_TRANSFORM),zr=Dr;zr&&!zr.isGeoSVGGraphicRoot;)mul(Br,zr.getLocalTransform(),Br),zr=zr.parent;return invert(Br,Br),applyTransform$1($r,$r,Br),$r},Be}(Region);function decode(_r){if(!_r.UTF8Encoding)return _r;var Be=_r,Dr=Be.UTF8Scale;Dr==null&&(Dr=1024);var Mr=Be.features;return each$f(Mr,function($r){var Br=$r.geometry,zr=Br.encodeOffsets,Vr=Br.coordinates;if(zr)switch(Br.type){case"LineString":Br.coordinates=decodeRing(Vr,zr,Dr);break;case"Polygon":decodeRings(Vr,zr,Dr);break;case"MultiLineString":decodeRings(Vr,zr,Dr);break;case"MultiPolygon":each$f(Vr,function(jr,Gr){return decodeRings(jr,zr[Gr],Dr)})}}),Be.UTF8Encoding=!1,Be}function decodeRings(_r,Be,Dr){for(var Mr=0;Mr<_r.length;Mr++)_r[Mr]=decodeRing(_r[Mr],Be[Mr],Dr)}function decodeRing(_r,Be,Dr){for(var Mr=[],$r=Be[0],Br=Be[1],zr=0;zr<_r.length;zr+=2){var Vr=_r.charCodeAt(zr)-64,jr=_r.charCodeAt(zr+1)-64;Vr=Vr>>1^-(Vr&1),jr=jr>>1^-(jr&1),Vr+=$r,jr+=Br,$r=Vr,Br=jr,Mr.push([Vr/Dr,jr/Dr])}return Mr}function parseGeoJSON(_r,Be){return _r=decode(_r),map$1(filter(_r.features,function(Dr){return Dr.geometry&&Dr.properties&&Dr.geometry.coordinates.length>0}),function(Dr){var Mr=Dr.properties,$r=Dr.geometry,Br=[];switch($r.type){case"Polygon":var zr=$r.coordinates;Br.push(new GeoJSONPolygonGeometry(zr[0],zr.slice(1)));break;case"MultiPolygon":each$f($r.coordinates,function(jr){jr[0]&&Br.push(new GeoJSONPolygonGeometry(jr[0],jr.slice(1)))});break;case"LineString":Br.push(new GeoJSONLineStringGeometry([$r.coordinates]));break;case"MultiLineString":Br.push(new GeoJSONLineStringGeometry($r.coordinates))}var Vr=new GeoJSONRegion(Mr[Be||"name"],Br,Mr.cp);return Vr.properties=Mr,Vr})}const number=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER,asc:asc$2,getPercentWithPrecision,getPixelPrecision,getPrecision,getPrecisionSafe,isNumeric,isRadianAroundZero,linearMap:linearMap$2,nice,numericToNumber,parseDate,quantile,quantity,quantityExponent,reformIntervals,remRadian,round:round$3},Symbol.toStringTag,{value:"Module"})),time=Object.freeze(Object.defineProperty({__proto__:null,format:format$1,parse:parseDate},Symbol.toStringTag,{value:"Module"})),graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$4,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$3,LinearGradient:LinearGradient$1,Polygon:Polygon$1,Polyline:Polyline$3,RadialGradient:RadialGradient$1,Rect:Rect$3,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,initProps,makeImage,makePath,mergePath,registerShape,resizePath,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"})),format=Object.freeze(Object.defineProperty({__proto__:null,addCommas,capitalFirst,encodeHTML,formatTime,formatTpl,getTextRect,getTooltipMarker,normalizeCssArray,toCamelCase,truncateText},Symbol.toStringTag,{value:"Module"})),util=Object.freeze(Object.defineProperty({__proto__:null,bind:bind$1,clone:clone$4,curry:curry$1,defaults,each:each$f,extend:extend$1,filter,indexOf,inherits,isArray:isArray$1,isFunction,isObject:isObject$3,isString,map:map$1,merge,reduce},Symbol.toStringTag,{value:"Module"}));var inner$g=makeInner();function createAxisLabels(_r){return _r.type==="category"?makeCategoryLabels(_r):makeRealNumberLabels(_r)}function createAxisTicks(_r,Be){return _r.type==="category"?makeCategoryTicks(_r,Be):{ticks:map$1(_r.scale.getTicks(),function(Dr){return Dr.value})}}function makeCategoryLabels(_r){var Be=_r.getLabelModel(),Dr=makeCategoryLabelsActually(_r,Be);return!Be.get("show")||_r.scale.isBlank()?{labels:[],labelCategoryInterval:Dr.labelCategoryInterval}:Dr}function makeCategoryLabelsActually(_r,Be){var Dr=getListCache(_r,"labels"),Mr=getOptionCategoryInterval(Be),$r=listCacheGet(Dr,Mr);if($r)return $r;var Br,zr;return isFunction(Mr)?Br=makeLabelsByCustomizedCategoryInterval(_r,Mr):(zr=Mr==="auto"?makeAutoCategoryInterval(_r):Mr,Br=makeLabelsByNumericCategoryInterval(_r,zr)),listCacheSet(Dr,Mr,{labels:Br,labelCategoryInterval:zr})}function makeCategoryTicks(_r,Be){var Dr=getListCache(_r,"ticks"),Mr=getOptionCategoryInterval(Be),$r=listCacheGet(Dr,Mr);if($r)return $r;var Br,zr;if((!Be.get("show")||_r.scale.isBlank())&&(Br=[]),isFunction(Mr))Br=makeLabelsByCustomizedCategoryInterval(_r,Mr,!0);else if(Mr==="auto"){var Vr=makeCategoryLabelsActually(_r,_r.getLabelModel());zr=Vr.labelCategoryInterval,Br=map$1(Vr.labels,function(jr){return jr.tickValue})}else zr=Mr,Br=makeLabelsByNumericCategoryInterval(_r,zr,!0);return listCacheSet(Dr,Mr,{ticks:Br,tickCategoryInterval:zr})}function makeRealNumberLabels(_r){var Be=_r.scale.getTicks(),Dr=makeLabelFormatter(_r);return{labels:map$1(Be,function(Mr,$r){return{level:Mr.level,formattedLabel:Dr(Mr,$r),rawLabel:_r.scale.getLabel(Mr),tickValue:Mr.value}})}}function getListCache(_r,Be){return inner$g(_r)[Be]||(inner$g(_r)[Be]=[])}function listCacheGet(_r,Be){for(var Dr=0;Dr<_r.length;Dr++)if(_r[Dr].key===Be)return _r[Dr].value}function listCacheSet(_r,Be,Dr){return _r.push({key:Be,value:Dr}),Dr}function makeAutoCategoryInterval(_r){var Be=inner$g(_r).autoInterval;return Be??(inner$g(_r).autoInterval=_r.calculateCategoryInterval())}function calculateCategoryInterval(_r){var Be=fetchAutoCategoryIntervalCalculationParams(_r),Dr=makeLabelFormatter(_r),Mr=(Be.axisRotate-Be.labelRotate)/180*Math.PI,$r=_r.scale,Br=$r.getExtent(),zr=$r.count();if(Br[1]-Br[0]<1)return 0;var Vr=1;zr>40&&(Vr=Math.max(1,Math.floor(zr/40)));for(var jr=Br[0],Gr=_r.dataToCoord(jr+1)-_r.dataToCoord(jr),Wr=Math.abs(Gr*Math.cos(Mr)),Kr=Math.abs(Gr*Math.sin(Mr)),Zr=0,Jr=0;jr<=Br[1];jr+=Vr){var rn=0,nn=0,ln=getBoundingRect(Dr({value:jr}),Be.font,"center","top");rn=ln.width*1.3,nn=ln.height*1.3,Zr=Math.max(Zr,rn,7),Jr=Math.max(Jr,nn,7)}var cn=Zr/Wr,hn=Jr/Kr;isNaN(cn)&&(cn=1/0),isNaN(hn)&&(hn=1/0);var mn=Math.max(0,Math.floor(Math.min(cn,hn))),bn=inner$g(_r.model),An=_r.getExtent(),vn=bn.lastAutoInterval,dn=bn.lastTickCount;return vn!=null&&dn!=null&&Math.abs(vn-mn)<=1&&Math.abs(dn-zr)<=1&&vn>mn&&bn.axisExtent0===An[0]&&bn.axisExtent1===An[1]?mn=vn:(bn.lastTickCount=zr,bn.lastAutoInterval=mn,bn.axisExtent0=An[0],bn.axisExtent1=An[1]),mn}function fetchAutoCategoryIntervalCalculationParams(_r){var Be=_r.getLabelModel();return{axisRotate:_r.getRotate?_r.getRotate():_r.isHorizontal&&!_r.isHorizontal()?90:0,labelRotate:Be.get("rotate")||0,font:Be.getFont()}}function makeLabelsByNumericCategoryInterval(_r,Be,Dr){var Mr=makeLabelFormatter(_r),$r=_r.scale,Br=$r.getExtent(),zr=_r.getLabelModel(),Vr=[],jr=Math.max((Be||0)+1,1),Gr=Br[0],Wr=$r.count();Gr!==0&&jr>1&&Wr/jr>2&&(Gr=Math.round(Math.ceil(Gr/jr)*jr));var Kr=shouldShowAllLabels(_r),Zr=zr.get("showMinLabel")||Kr,Jr=zr.get("showMaxLabel")||Kr;Zr&&Gr!==Br[0]&&nn(Br[0]);for(var rn=Gr;rn<=Br[1];rn+=jr)nn(rn);Jr&&rn-jr!==Br[1]&&nn(Br[1]);function nn(ln){var cn={value:ln};Vr.push(Dr?ln:{formattedLabel:Mr(cn),rawLabel:$r.getLabel(cn),tickValue:ln})}return Vr}function makeLabelsByCustomizedCategoryInterval(_r,Be,Dr){var Mr=_r.scale,$r=makeLabelFormatter(_r),Br=[];return each$f(Mr.getTicks(),function(zr){var Vr=Mr.getLabel(zr),jr=zr.value;Be(zr.value,Vr)&&Br.push(Dr?jr:{formattedLabel:$r(zr),rawLabel:Vr,tickValue:jr})}),Br}var NORMALIZED_EXTENT=[0,1],Axis=function(){function _r(Be,Dr,Mr){this.onBand=!1,this.inverse=!1,this.dim=Be,this.scale=Dr,this._extent=Mr||[0,0]}return _r.prototype.contain=function(Be){var Dr=this._extent,Mr=Math.min(Dr[0],Dr[1]),$r=Math.max(Dr[0],Dr[1]);return Be>=Mr&&Be<=$r},_r.prototype.containData=function(Be){return this.scale.contain(Be)},_r.prototype.getExtent=function(){return this._extent.slice()},_r.prototype.getPixelPrecision=function(Be){return getPixelPrecision(Be||this.scale.getExtent(),this._extent)},_r.prototype.setExtent=function(Be,Dr){var Mr=this._extent;Mr[0]=Be,Mr[1]=Dr},_r.prototype.dataToCoord=function(Be,Dr){var Mr=this._extent,$r=this.scale;return Be=$r.normalize(Be),this.onBand&&$r.type==="ordinal"&&(Mr=Mr.slice(),fixExtentWithBands(Mr,$r.count())),linearMap$2(Be,NORMALIZED_EXTENT,Mr,Dr)},_r.prototype.coordToData=function(Be,Dr){var Mr=this._extent,$r=this.scale;this.onBand&&$r.type==="ordinal"&&(Mr=Mr.slice(),fixExtentWithBands(Mr,$r.count()));var Br=linearMap$2(Be,Mr,NORMALIZED_EXTENT,Dr);return this.scale.scale(Br)},_r.prototype.pointToData=function(Be,Dr){},_r.prototype.getTicksCoords=function(Be){Be=Be||{};var Dr=Be.tickModel||this.getTickModel(),Mr=createAxisTicks(this,Dr),$r=Mr.ticks,Br=map$1($r,function(Vr){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(Vr):Vr),tickValue:Vr}},this),zr=Dr.get("alignWithLabel");return fixOnBandTicksCoords(this,Br,zr,Be.clamp),Br},_r.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var Be=this.model.getModel("minorTick"),Dr=Be.get("splitNumber");Dr>0&&Dr<100||(Dr=5);var Mr=this.scale.getMinorTicks(Dr),$r=map$1(Mr,function(Br){return map$1(Br,function(zr){return{coord:this.dataToCoord(zr),tickValue:zr}},this)},this);return $r},_r.prototype.getViewLabels=function(){return createAxisLabels(this).labels},_r.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},_r.prototype.getTickModel=function(){return this.model.getModel("axisTick")},_r.prototype.getBandWidth=function(){var Be=this._extent,Dr=this.scale.getExtent(),Mr=Dr[1]-Dr[0]+(this.onBand?1:0);Mr===0&&(Mr=1);var $r=Math.abs(Be[1]-Be[0]);return Math.abs($r)/Mr},_r.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},_r}();function fixExtentWithBands(_r,Be){var Dr=_r[1]-_r[0],Mr=Be,$r=Dr/Mr/2;_r[0]+=$r,_r[1]-=$r}function fixOnBandTicksCoords(_r,Be,Dr,Mr){var $r=Be.length;if(!_r.onBand||Dr||!$r)return;var Br=_r.getExtent(),zr,Vr;if($r===1)Be[0].coord=Br[0],zr=Be[1]={coord:Br[1]};else{var jr=Be[$r-1].tickValue-Be[0].tickValue,Gr=(Be[$r-1].coord-Be[0].coord)/jr;each$f(Be,function(Jr){Jr.coord-=Gr/2});var Wr=_r.scale.getExtent();Vr=1+Wr[1]-Be[$r-1].tickValue,zr={coord:Be[$r-1].coord+Gr*Vr},Be.push(zr)}var Kr=Br[0]>Br[1];Zr(Be[0].coord,Br[0])&&(Mr?Be[0].coord=Br[0]:Be.shift()),Mr&&Zr(Br[0],Be[0].coord)&&Be.unshift({coord:Br[0]}),Zr(Br[1],zr.coord)&&(Mr?zr.coord=Br[1]:Be.pop()),Mr&&Zr(zr.coord,Br[1])&&Be.push({coord:Br[1]});function Zr(Jr,rn){return Jr=round$3(Jr),rn=round$3(rn),Kr?Jr>rn:Jr<rn}}const Axis$1=Axis;function extendComponentModel(_r){var Be=ComponentModel$1.extend(_r);return ComponentModel$1.registerClass(Be),Be}function extendComponentView(_r){var Be=ComponentView$1.extend(_r);return ComponentView$1.registerClass(Be),Be}function extendSeriesModel(_r){var Be=SeriesModel$1.extend(_r);return SeriesModel$1.registerClass(Be),Be}function extendChartView(_r){var Be=ChartView$1.extend(_r);return ChartView$1.registerClass(Be),Be}var PI2$2=Math.PI*2,CMD$1=PathProxy$1.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(_r,Be,Dr,Mr,$r){var Br=Dr.width,zr=Dr.height;switch(_r){case"top":Mr.set(Dr.x+Br/2,Dr.y-Be),$r.set(0,-1);break;case"bottom":Mr.set(Dr.x+Br/2,Dr.y+zr+Be),$r.set(0,1);break;case"left":Mr.set(Dr.x-Be,Dr.y+zr/2),$r.set(-1,0);break;case"right":Mr.set(Dr.x+Br+Be,Dr.y+zr/2),$r.set(1,0);break}}function projectPointToArc(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){zr-=_r,Vr-=Be;var Gr=Math.sqrt(zr*zr+Vr*Vr);zr/=Gr,Vr/=Gr;var Wr=zr*Dr+_r,Kr=Vr*Dr+Be;if(Math.abs(Mr-$r)%PI2$2<1e-4)return jr[0]=Wr,jr[1]=Kr,Gr-Dr;if(Br){var Zr=Mr;Mr=normalizeRadian($r),$r=normalizeRadian(Zr)}else Mr=normalizeRadian(Mr),$r=normalizeRadian($r);Mr>$r&&($r+=PI2$2);var Jr=Math.atan2(Vr,zr);if(Jr<0&&(Jr+=PI2$2),Jr>=Mr&&Jr<=$r||Jr+PI2$2>=Mr&&Jr+PI2$2<=$r)return jr[0]=Wr,jr[1]=Kr,Gr-Dr;var rn=Dr*Math.cos(Mr)+_r,nn=Dr*Math.sin(Mr)+Be,ln=Dr*Math.cos($r)+_r,cn=Dr*Math.sin($r)+Be,hn=(rn-zr)*(rn-zr)+(nn-Vr)*(nn-Vr),mn=(ln-zr)*(ln-zr)+(cn-Vr)*(cn-Vr);return hn<mn?(jr[0]=rn,jr[1]=nn,Math.sqrt(hn)):(jr[0]=ln,jr[1]=cn,Math.sqrt(mn))}function projectPointToLine(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr=$r-_r,Gr=Br-Be,Wr=Dr-_r,Kr=Mr-Be,Zr=Math.sqrt(Wr*Wr+Kr*Kr);Wr/=Zr,Kr/=Zr;var Jr=jr*Wr+Gr*Kr,rn=Jr/Zr;Vr&&(rn=Math.min(Math.max(rn,0),1)),rn*=Zr;var nn=zr[0]=_r+rn*Wr,ln=zr[1]=Be+rn*Kr;return Math.sqrt((nn-$r)*(nn-$r)+(ln-Br)*(ln-Br))}function projectPointToRect(_r,Be,Dr,Mr,$r,Br,zr){Dr<0&&(_r=_r+Dr,Dr=-Dr),Mr<0&&(Be=Be+Mr,Mr=-Mr);var Vr=_r+Dr,jr=Be+Mr,Gr=zr[0]=Math.min(Math.max($r,_r),Vr),Wr=zr[1]=Math.min(Math.max(Br,Be),jr);return Math.sqrt((Gr-$r)*(Gr-$r)+(Wr-Br)*(Wr-Br))}var tmpPt=[];function nearestPointOnRect(_r,Be,Dr){var Mr=projectPointToRect(Be.x,Be.y,Be.width,Be.height,_r.x,_r.y,tmpPt);return Dr.set(tmpPt[0],tmpPt[1]),Mr}function nearestPointOnPath(_r,Be,Dr){for(var Mr=0,$r=0,Br=0,zr=0,Vr,jr,Gr=1/0,Wr=Be.data,Kr=_r.x,Zr=_r.y,Jr=0;Jr<Wr.length;){var rn=Wr[Jr++];Jr===1&&(Mr=Wr[Jr],$r=Wr[Jr+1],Br=Mr,zr=$r);var nn=Gr;switch(rn){case CMD$1.M:Br=Wr[Jr++],zr=Wr[Jr++],Mr=Br,$r=zr;break;case CMD$1.L:nn=projectPointToLine(Mr,$r,Wr[Jr],Wr[Jr+1],Kr,Zr,tmpPt,!0),Mr=Wr[Jr++],$r=Wr[Jr++];break;case CMD$1.C:nn=cubicProjectPoint(Mr,$r,Wr[Jr++],Wr[Jr++],Wr[Jr++],Wr[Jr++],Wr[Jr],Wr[Jr+1],Kr,Zr,tmpPt),Mr=Wr[Jr++],$r=Wr[Jr++];break;case CMD$1.Q:nn=quadraticProjectPoint(Mr,$r,Wr[Jr++],Wr[Jr++],Wr[Jr],Wr[Jr+1],Kr,Zr,tmpPt),Mr=Wr[Jr++],$r=Wr[Jr++];break;case CMD$1.A:var ln=Wr[Jr++],cn=Wr[Jr++],hn=Wr[Jr++],mn=Wr[Jr++],bn=Wr[Jr++],An=Wr[Jr++];Jr+=1;var vn=!!(1-Wr[Jr++]);Vr=Math.cos(bn)*hn+ln,jr=Math.sin(bn)*mn+cn,Jr<=1&&(Br=Vr,zr=jr);var dn=(Kr-ln)*mn/hn+ln;nn=projectPointToArc(ln,cn,mn,bn,bn+An,vn,dn,Zr,tmpPt),Mr=Math.cos(bn+An)*hn+ln,$r=Math.sin(bn+An)*mn+cn;break;case CMD$1.R:Br=Mr=Wr[Jr++],zr=$r=Wr[Jr++];var wn=Wr[Jr++],xn=Wr[Jr++];nn=projectPointToRect(Br,zr,wn,xn,Kr,Zr,tmpPt);break;case CMD$1.Z:nn=projectPointToLine(Mr,$r,Br,zr,Kr,Zr,tmpPt,!0),Mr=Br,$r=zr;break}nn<Gr&&(Gr=nn,Dr.set(tmpPt[0],tmpPt[1]))}return Gr}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1;function updateLabelLinePoints(_r,Be){if(_r){var Dr=_r.getTextGuideLine(),Mr=_r.getTextContent();if(Mr&&Dr){var $r=_r.textGuideLineConfig||{},Br=[[0,0],[0,0],[0,0]],zr=$r.candidates||DEFAULT_SEARCH_SPACE,Vr=Mr.getBoundingRect().clone();Vr.applyTransform(Mr.getComputedTransform());var jr=1/0,Gr=$r.anchor,Wr=_r.getComputedTransform(),Kr=Wr&&invert([],Wr),Zr=Be.get("length2")||0;Gr&&pt2.copy(Gr);for(var Jr=0;Jr<zr.length;Jr++){var rn=zr[Jr];getCandidateAnchor(rn,0,Vr,pt0,dir),Point$1.scaleAndAdd(pt1,pt0,dir,Zr),pt1.transform(Kr);var nn=_r.getBoundingRect(),ln=Gr?Gr.distance(pt1):_r instanceof Path$1?nearestPointOnPath(pt1,_r.path,pt2):nearestPointOnRect(pt1,nn,pt2);ln<jr&&(jr=ln,pt1.transform(Wr),pt2.transform(Wr),pt2.toArray(Br[0]),pt1.toArray(Br[1]),pt0.toArray(Br[2]))}limitTurnAngle(Br,Be.get("minTurnAngle")),Dr.setShape({points:Br})}}}var tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(_r,Be){if(Be<=180&&Be>0){Be=Be/180*Math.PI,pt0.fromArray(_r[0]),pt1.fromArray(_r[1]),pt2.fromArray(_r[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var Dr=dir.len(),Mr=dir2.len();if(!(Dr<.001||Mr<.001)){dir.scale(1/Dr),dir2.scale(1/Mr);var $r=dir.dot(dir2),Br=Math.cos(Be);if(Br<$r){var zr=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,zr/Math.tan(Math.PI-Be));var Vr=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(Vr))return;Vr<0?Point$1.copy(tmpProjPoint,pt1):Vr>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(_r[1])}}}}function limitSurfaceAngle(_r,Be,Dr){if(Dr<=180&&Dr>0){Dr=Dr/180*Math.PI,pt0.fromArray(_r[0]),pt1.fromArray(_r[1]),pt2.fromArray(_r[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var Mr=dir.len(),$r=dir2.len();if(!(Mr<.001||$r<.001)){dir.scale(1/Mr),dir2.scale(1/$r);var Br=dir.dot(Be),zr=Math.cos(Dr);if(Br<zr){var Vr=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var jr=Math.PI/2,Gr=Math.acos(dir2.dot(Be)),Wr=jr+Gr-Dr;if(Wr>=jr)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,Vr/Math.tan(Math.PI/2-Wr));var Kr=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(Kr))return;Kr<0?Point$1.copy(tmpProjPoint,pt1):Kr>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(_r[1])}}}}function setLabelLineState(_r,Be,Dr,Mr){var $r=Dr==="normal",Br=$r?_r:_r.ensureState(Dr);Br.ignore=Be;var zr=Mr.get("smooth");zr&&zr===!0&&(zr=.3),Br.shape=Br.shape||{},zr>0&&(Br.shape.smooth=zr);var Vr=Mr.getModel("lineStyle").getLineStyle();$r?_r.useStyle(Vr):Br.style=Vr}function buildLabelLinePath(_r,Be){var Dr=Be.smooth,Mr=Be.points;if(Mr)if(_r.moveTo(Mr[0][0],Mr[0][1]),Dr>0&&Mr.length>=3){var $r=dist$1(Mr[0],Mr[1]),Br=dist$1(Mr[1],Mr[2]);if(!$r||!Br){_r.lineTo(Mr[1][0],Mr[1][1]),_r.lineTo(Mr[2][0],Mr[2][1]);return}var zr=Math.min($r,Br)*Dr,Vr=lerp$1([],Mr[1],Mr[0],zr/$r),jr=lerp$1([],Mr[1],Mr[2],zr/Br),Gr=lerp$1([],Vr,jr,.5);_r.bezierCurveTo(Vr[0],Vr[1],Vr[0],Vr[1],Gr[0],Gr[1]),_r.bezierCurveTo(jr[0],jr[1],jr[0],jr[1],Mr[2][0],Mr[2][1])}else for(var Wr=1;Wr<Mr.length;Wr++)_r.lineTo(Mr[Wr][0],Mr[Wr][1])}function setLabelLineStyle(_r,Be,Dr){var Mr=_r.getTextGuideLine(),$r=_r.getTextContent();if(!$r){Mr&&_r.removeTextGuideLine();return}for(var Br=Be.normal,zr=Br.get("show"),Vr=$r.ignore,jr=0;jr<DISPLAY_STATES.length;jr++){var Gr=DISPLAY_STATES[jr],Wr=Be[Gr],Kr=Gr==="normal";if(Wr){var Zr=Wr.get("show"),Jr=Kr?Vr:retrieve2($r.states[Gr]&&$r.states[Gr].ignore,Vr);if(Jr||!retrieve2(Zr,zr)){var rn=Kr?Mr:Mr&&Mr.states[Gr];rn&&(rn.ignore=!0);continue}Mr||(Mr=new Polyline$3,_r.setTextGuideLine(Mr),!Kr&&(Vr||!zr)&&setLabelLineState(Mr,!0,"normal",Be.normal),_r.stateProxy&&(Mr.stateProxy=_r.stateProxy)),setLabelLineState(Mr,!1,Gr,Wr)}}if(Mr){defaults(Mr.style,Dr),Mr.style.fill=null;var nn=Br.get("showAbove"),ln=_r.textGuideLineConfig=_r.textGuideLineConfig||{};ln.showAbove=nn||!1,Mr.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(_r,Be){Be=Be||"labelLine";for(var Dr={normal:_r.getModel(Be)},Mr=0;Mr<SPECIAL_STATES.length;Mr++){var $r=SPECIAL_STATES[Mr];Dr[$r]=_r.getModel([$r,Be])}return Dr}function prepareLayoutList(_r){for(var Be=[],Dr=0;Dr<_r.length;Dr++){var Mr=_r[Dr];if(!Mr.defaultAttr.ignore){var $r=Mr.label,Br=$r.getComputedTransform(),zr=$r.getBoundingRect(),Vr=!Br||Br[1]<1e-5&&Br[2]<1e-5,jr=$r.style.margin||0,Gr=zr.clone();Gr.applyTransform(Br),Gr.x-=jr/2,Gr.y-=jr/2,Gr.width+=jr,Gr.height+=jr;var Wr=Vr?new OrientedBoundingRect$1(zr,Br):null;Be.push({label:$r,labelLine:Mr.labelLine,rect:Gr,localRect:zr,obb:Wr,priority:Mr.priority,defaultAttr:Mr.defaultAttr,layoutOption:Mr.computedLayoutOption,axisAligned:Vr,transform:Br})}}return Be}function shiftLayout(_r,Be,Dr,Mr,$r,Br){var zr=_r.length;if(zr<2)return;_r.sort(function(wn,xn){return wn.rect[Be]-xn.rect[Be]});for(var Vr=0,jr,Gr=!1,Wr=0,Kr=0;Kr<zr;Kr++){var Zr=_r[Kr],Jr=Zr.rect;jr=Jr[Be]-Vr,jr<0&&(Jr[Be]-=jr,Zr.label[Be]-=jr,Gr=!0);var rn=Math.max(-jr,0);Wr+=rn,Vr=Jr[Be]+Jr[Dr]}Wr>0&&Br&&An(-Wr/zr,0,zr);var nn=_r[0],ln=_r[zr-1],cn,hn;mn(),cn<0&&vn(-cn,.8),hn<0&&vn(hn,.8),mn(),bn(cn,hn,1),bn(hn,cn,-1),mn(),cn<0&&dn(-cn),hn<0&&dn(hn);function mn(){cn=nn.rect[Be]-Mr,hn=$r-ln.rect[Be]-ln.rect[Dr]}function bn(wn,xn,Mn){if(wn<0){var In=Math.min(xn,-wn);if(In>0){An(In*Mn,0,zr);var Hn=In+wn;Hn<0&&vn(-Hn*Mn,1)}else vn(-wn*Mn,1)}}function An(wn,xn,Mn){wn!==0&&(Gr=!0);for(var In=xn;In<Mn;In++){var Hn=_r[In],$n=Hn.rect;$n[Be]+=wn,Hn.label[Be]+=wn}}function vn(wn,xn){for(var Mn=[],In=0,Hn=1;Hn<zr;Hn++){var $n=_r[Hn-1].rect,jn=Math.max(_r[Hn].rect[Be]-$n[Be]-$n[Dr],0);Mn.push(jn),In+=jn}if(In){var Bn=Math.min(Math.abs(wn)/In,xn);if(wn>0)for(var Hn=0;Hn<zr-1;Hn++){var Gn=Mn[Hn]*Bn;An(Gn,0,Hn+1)}else for(var Hn=zr-1;Hn>0;Hn--){var Gn=Mn[Hn-1]*Bn;An(-Gn,Hn,zr)}}}function dn(wn){var xn=wn<0?-1:1;wn=Math.abs(wn);for(var Mn=Math.ceil(wn/(zr-1)),In=0;In<zr-1;In++)if(xn>0?An(Mn,0,In+1):An(-Mn,zr-In-1,zr),wn-=Mn,wn<=0)return}return Gr}function shiftLayoutOnX(_r,Be,Dr,Mr){return shiftLayout(_r,"x","width",Be,Dr,Mr)}function shiftLayoutOnY(_r,Be,Dr,Mr){return shiftLayout(_r,"y","height",Be,Dr,Mr)}function hideOverlap(_r){var Be=[];_r.sort(function(nn,ln){return ln.priority-nn.priority});var Dr=new BoundingRect$1(0,0,0,0);function Mr(nn){if(!nn.ignore){var ln=nn.ensureState("emphasis");ln.ignore==null&&(ln.ignore=!1)}nn.ignore=!0}for(var $r=0;$r<_r.length;$r++){var Br=_r[$r],zr=Br.axisAligned,Vr=Br.localRect,jr=Br.transform,Gr=Br.label,Wr=Br.labelLine;Dr.copy(Br.rect),Dr.width-=.1,Dr.height-=.1,Dr.x+=.05,Dr.y+=.05;for(var Kr=Br.obb,Zr=!1,Jr=0;Jr<Be.length;Jr++){var rn=Be[Jr];if(Dr.intersect(rn.rect)){if(zr&&rn.axisAligned){Zr=!0;break}if(rn.obb||(rn.obb=new OrientedBoundingRect$1(rn.localRect,rn.transform)),Kr||(Kr=new OrientedBoundingRect$1(Vr,jr)),Kr.intersect(rn.obb)){Zr=!0;break}}}Zr?(Mr(Gr),Wr&&Mr(Wr)):(Gr.attr("ignore",Br.defaultAttr.ignore),Wr&&Wr.attr("ignore",Br.defaultAttr.labelGuideIgnore),Be.push(Br))}}function cloneArr(_r){if(_r){for(var Be=[],Dr=0;Dr<_r.length;Dr++)Be.push(_r[Dr].slice());return Be}}function prepareLayoutCallbackParams(_r,Be){var Dr=_r.label,Mr=Be&&Be.getTextGuideLine();return{dataIndex:_r.dataIndex,dataType:_r.dataType,seriesIndex:_r.seriesModel.seriesIndex,text:_r.label.style.text,rect:_r.hostRect,labelRect:_r.rect,align:Dr.style.align,verticalAlign:Dr.style.verticalAlign,labelLinePoints:cloneArr(Mr&&Mr.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable$1,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(_r,Be,Dr){for(var Mr=0;Mr<Dr.length;Mr++){var $r=Dr[Mr];Be[$r]!=null&&(_r[$r]=Be[$r])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function _r(){this._labelList=[],this._chartViewList=[]}return _r.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},_r.prototype._addLabel=function(Be,Dr,Mr,$r,Br){var zr=$r.style,Vr=$r.__hostTarget,jr=Vr.textConfig||{},Gr=$r.getComputedTransform(),Wr=$r.getBoundingRect().plain();BoundingRect$1.applyTransform(Wr,Wr,Gr),Gr?dummyTransformable.setLocalTransform(Gr):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var Kr=$r.__hostTarget,Zr;if(Kr){Zr=Kr.getBoundingRect().plain();var Jr=Kr.getComputedTransform();BoundingRect$1.applyTransform(Zr,Zr,Jr)}var rn=Zr&&Kr.getTextGuideLine();this._labelList.push({label:$r,labelLine:rn,seriesModel:Mr,dataIndex:Be,dataType:Dr,layoutOption:Br,computedLayoutOption:null,rect:Wr,hostRect:Zr,priority:Zr?Zr.width*Zr.height:0,defaultAttr:{ignore:$r.ignore,labelGuideIgnore:rn&&rn.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:zr.x,y:zr.y,align:zr.align,verticalAlign:zr.verticalAlign,width:zr.width,height:zr.height,fontSize:zr.fontSize},cursor:$r.cursor,attachedPos:jr.position,attachedRot:jr.rotation}})},_r.prototype.addLabelsOfSeries=function(Be){var Dr=this;this._chartViewList.push(Be);var Mr=Be.__model,$r=Mr.get("labelLayout");(isFunction($r)||keys($r).length)&&Be.group.traverse(function(Br){if(Br.ignore)return!0;var zr=Br.getTextContent(),Vr=getECData(Br);zr&&!zr.disableLabelLayout&&Dr._addLabel(Vr.dataIndex,Vr.dataType,Mr,zr,$r)})},_r.prototype.updateLayoutConfig=function(Be){var Dr=Be.getWidth(),Mr=Be.getHeight();function $r(mn,bn){return function(){updateLabelLinePoints(mn,bn)}}for(var Br=0;Br<this._labelList.length;Br++){var zr=this._labelList[Br],Vr=zr.label,jr=Vr.__hostTarget,Gr=zr.defaultAttr,Wr=void 0;isFunction(zr.layoutOption)?Wr=zr.layoutOption(prepareLayoutCallbackParams(zr,jr)):Wr=zr.layoutOption,Wr=Wr||{},zr.computedLayoutOption=Wr;var Kr=Math.PI/180;jr&&jr.setTextConfig({local:!1,position:Wr.x!=null||Wr.y!=null?null:Gr.attachedPos,rotation:Wr.rotate!=null?Wr.rotate*Kr:Gr.attachedRot,offset:[Wr.dx||0,Wr.dy||0]});var Zr=!1;if(Wr.x!=null?(Vr.x=parsePercent(Wr.x,Dr),Vr.setStyle("x",0),Zr=!0):(Vr.x=Gr.x,Vr.setStyle("x",Gr.style.x)),Wr.y!=null?(Vr.y=parsePercent(Wr.y,Mr),Vr.setStyle("y",0),Zr=!0):(Vr.y=Gr.y,Vr.setStyle("y",Gr.style.y)),Wr.labelLinePoints){var Jr=jr.getTextGuideLine();Jr&&(Jr.setShape({points:Wr.labelLinePoints}),Zr=!1)}var rn=labelLayoutInnerStore(Vr);rn.needsUpdateLabelLine=Zr,Vr.rotation=Wr.rotate!=null?Wr.rotate*Kr:Gr.rotation,Vr.scaleX=Gr.scaleX,Vr.scaleY=Gr.scaleY;for(var nn=0;nn<LABEL_OPTION_TO_STYLE_KEYS.length;nn++){var ln=LABEL_OPTION_TO_STYLE_KEYS[nn];Vr.setStyle(ln,Wr[ln]!=null?Wr[ln]:Gr.style[ln])}if(Wr.draggable){if(Vr.draggable=!0,Vr.cursor="move",jr){var cn=zr.seriesModel;if(zr.dataIndex!=null){var hn=zr.seriesModel.getData(zr.dataType);cn=hn.getItemModel(zr.dataIndex)}Vr.on("drag",$r(jr,cn.getModel("labelLine")))}}else Vr.off("drag"),Vr.cursor=Gr.cursor}},_r.prototype.layout=function(Be){var Dr=Be.getWidth(),Mr=Be.getHeight(),$r=prepareLayoutList(this._labelList),Br=filter($r,function(jr){return jr.layoutOption.moveOverlap==="shiftX"}),zr=filter($r,function(jr){return jr.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(Br,0,Dr),shiftLayoutOnY(zr,0,Mr);var Vr=filter($r,function(jr){return jr.layoutOption.hideOverlap});hideOverlap(Vr)},_r.prototype.processLabelsOverall=function(){var Be=this;each$f(this._chartViewList,function(Dr){var Mr=Dr.__model,$r=Dr.ignoreLabelLineUpdate,Br=Mr.isAnimationEnabled();Dr.group.traverse(function(zr){if(zr.ignore&&!zr.forceLabelAnimation)return!0;var Vr=!$r,jr=zr.getTextContent();!Vr&&jr&&(Vr=labelLayoutInnerStore(jr).needsUpdateLabelLine),Vr&&Be._updateLabelLine(zr,Mr),Br&&Be._animateLabels(zr,Mr)})})},_r.prototype._updateLabelLine=function(Be,Dr){var Mr=Be.getTextContent(),$r=getECData(Be),Br=$r.dataIndex;if(Mr&&Br!=null){var zr=Dr.getData($r.dataType),Vr=zr.getItemModel(Br),jr={},Gr=zr.getItemVisual(Br,"style");if(Gr){var Wr=zr.getVisual("drawType");jr.stroke=Gr[Wr]}var Kr=Vr.getModel("labelLine");setLabelLineStyle(Be,getLabelLineStatesModels(Vr),jr),updateLabelLinePoints(Be,Kr)}},_r.prototype._animateLabels=function(Be,Dr){var Mr=Be.getTextContent(),$r=Be.getTextGuideLine();if(Mr&&(Be.forceLabelAnimation||!Mr.ignore&&!Mr.invisible&&!Be.disableLabelAnimation&&!isElementRemoved(Be))){var Br=labelLayoutInnerStore(Mr),zr=Br.oldLayout,Vr=getECData(Be),jr=Vr.dataIndex,Gr={x:Mr.x,y:Mr.y,rotation:Mr.rotation},Wr=Dr.getData(Vr.dataType);if(zr){Mr.attr(zr);var Zr=Be.prevStates;Zr&&(indexOf(Zr,"select")>=0&&Mr.attr(Br.oldLayoutSelect),indexOf(Zr,"emphasis")>=0&&Mr.attr(Br.oldLayoutEmphasis)),updateProps$1(Mr,Gr,Dr,jr)}else if(Mr.attr(Gr),!labelInner(Mr).valueAnimation){var Kr=retrieve2(Mr.style.opacity,1);Mr.style.opacity=0,initProps(Mr,{style:{opacity:Kr}},Dr,jr)}if(Br.oldLayout=Gr,Mr.states.select){var Jr=Br.oldLayoutSelect={};extendWithKeys(Jr,Gr,LABEL_LAYOUT_PROPS),extendWithKeys(Jr,Mr.states.select,LABEL_LAYOUT_PROPS)}if(Mr.states.emphasis){var rn=Br.oldLayoutEmphasis={};extendWithKeys(rn,Gr,LABEL_LAYOUT_PROPS),extendWithKeys(rn,Mr.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(Mr,jr,Wr,Dr,Dr)}if($r&&!$r.ignore&&!$r.invisible){var Br=labelLineAnimationStore($r),zr=Br.oldLayout,nn={points:$r.shape.points};zr?($r.attr({shape:zr}),updateProps$1($r,{shape:nn},Dr)):($r.setShape(nn),$r.style.strokePercent=0,initProps($r,{style:{strokePercent:1}},Dr)),Br.oldLayout=nn}},_r}();const LabelManager$1=LabelManager;var getLabelManager=makeInner();function installLabelLayout(_r){_r.registerUpdateLifecycle("series:beforeupdate",function(Be,Dr,Mr){var $r=getLabelManager(Dr).labelManager;$r||($r=getLabelManager(Dr).labelManager=new LabelManager$1),$r.clearLabels()}),_r.registerUpdateLifecycle("series:layoutlabels",function(Be,Dr,Mr){var $r=getLabelManager(Dr).labelManager;Mr.updatedSeries.forEach(function(Br){$r.addLabelsOfSeries(Dr.getViewOfSeriesModel(Br))}),$r.updateLayoutConfig(Dr),$r.layout(Dr),$r.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function _r(){}return _r.prototype.reset=function(Be){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,Be||4)},_r.prototype.moveTo=function(Be,Dr){this._add("M",Be,Dr)},_r.prototype.lineTo=function(Be,Dr){this._add("L",Be,Dr)},_r.prototype.bezierCurveTo=function(Be,Dr,Mr,$r,Br,zr){this._add("C",Be,Dr,Mr,$r,Br,zr)},_r.prototype.quadraticCurveTo=function(Be,Dr,Mr,$r){this._add("Q",Be,Dr,Mr,$r)},_r.prototype.arc=function(Be,Dr,Mr,$r,Br,zr){this.ellipse(Be,Dr,Mr,Mr,0,$r,Br,zr)},_r.prototype.ellipse=function(Be,Dr,Mr,$r,Br,zr,Vr,jr){var Gr=Vr-zr,Wr=!jr,Kr=Math.abs(Gr),Zr=isAroundZero(Kr-PI2$1)||(Wr?Gr>=PI2$1:-Gr>=PI2$1),Jr=Gr>0?Gr%PI2$1:Gr%PI2$1+PI2$1,rn=!1;Zr?rn=!0:isAroundZero(Kr)?rn=!1:rn=Jr>=PI$4==!!Wr;var nn=Be+Mr*mathCos(zr),ln=Dr+$r*mathSin(zr);this._start&&this._add("M",nn,ln);var cn=Math.round(Br*degree);if(Zr){var hn=1/this._p,mn=(Wr?1:-1)*(PI2$1-hn);this._add("A",Mr,$r,cn,1,+Wr,Be+Mr*mathCos(zr+mn),Dr+$r*mathSin(zr+mn)),hn>.01&&this._add("A",Mr,$r,cn,0,+Wr,nn,ln)}else{var bn=Be+Mr*mathCos(Vr),An=Dr+$r*mathSin(Vr);this._add("A",Mr,$r,cn,+rn,+Wr,bn,An)}},_r.prototype.rect=function(Be,Dr,Mr,$r){this._add("M",Be,Dr),this._add("l",Mr,0),this._add("l",0,$r),this._add("l",-Mr,0),this._add("Z")},_r.prototype.closePath=function(){this._d.length>0&&this._add("Z")},_r.prototype._add=function(Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr){for(var Wr=[],Kr=this._p,Zr=1;Zr<arguments.length;Zr++){var Jr=arguments[Zr];if(isNaN(Jr)){this._invalid=!0;return}Wr.push(Math.round(Jr*Kr)/Kr)}this._d.push(Be+Wr.join(" ")),this._start=Be==="Z"},_r.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},_r.prototype.getStr=function(){return this._str},_r}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(_r){var Be=_r.fill;return Be!=null&&Be!==NONE}function pathHasStroke(_r){var Be=_r.stroke;return Be!=null&&Be!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(_r){return"stroke-"+_r.toLowerCase()});function mapStyleToAttrs(_r,Be,Dr,Mr){var $r=Be.opacity==null?1:Be.opacity;if(Dr instanceof ZRImage$1){_r("opacity",$r);return}if(pathHasFill(Be)){var Br=normalizeColor(Be.fill);_r("fill",Br.color);var zr=Be.fillOpacity!=null?Be.fillOpacity*Br.opacity*$r:Br.opacity*$r;(Mr||zr<1)&&_r("fill-opacity",zr)}else _r("fill",NONE);if(pathHasStroke(Be)){var Vr=normalizeColor(Be.stroke);_r("stroke",Vr.color);var jr=Be.strokeNoScale?Dr.getLineScale():1,Gr=jr?(Be.lineWidth||0)/jr:0,Wr=Be.strokeOpacity!=null?Be.strokeOpacity*Vr.opacity*$r:Vr.opacity*$r,Kr=Be.strokeFirst;if((Mr||Gr!==1)&&_r("stroke-width",Gr),(Mr||Kr)&&_r("paint-order",Kr?"stroke":"fill"),(Mr||Wr<1)&&_r("stroke-opacity",Wr),Be.lineDash){var Zr=getLineDash(Dr),Jr=Zr[0],rn=Zr[1];Jr&&(rn=mathRound(rn||0),_r("stroke-dasharray",Jr.join(",")),(rn||Mr)&&_r("stroke-dashoffset",rn))}else Mr&&_r("stroke-dasharray",NONE);for(var nn=0;nn<strokeProps.length;nn++){var ln=strokeProps[nn];if(Mr||Be[ln]!==DEFAULT_PATH_STYLE[ln]){var cn=Be[ln]||DEFAULT_PATH_STYLE[ln];cn&&_r(svgStrokeProps[nn],cn)}}}else Mr&&_r("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(_r){return document.createElementNS(SVGNS,_r)}function createVNode(_r,Be,Dr,Mr,$r){return{tag:_r,attrs:Dr||{},children:Mr,text:$r,key:Be}}function createElementOpen(_r,Be){var Dr=[];if(Be)for(var Mr in Be){var $r=Be[Mr],Br=Mr;$r!==!1&&($r!==!0&&$r!=null&&(Br+='="'+$r+'"'),Dr.push(Br))}return"<"+_r+" "+Dr.join(" ")+">"}function createElementClose(_r){return"</"+_r+">"}function vNodeToString(_r,Be){Be=Be||{};var Dr=Be.newline?`
`:"";function Mr($r){var Br=$r.children,zr=$r.tag,Vr=$r.attrs,jr=$r.text;return createElementOpen(zr,Vr)+(zr!=="style"?encodeHTML(jr):jr||"")+(Br?""+Dr+map$1(Br,function(Gr){return Mr(Gr)}).join(Dr)+Dr:"")+createElementClose(zr)}return Mr(_r)}function getCssString(_r,Be,Dr){Dr=Dr||{};var Mr=Dr.newline?`
`:"",$r=" {"+Mr,Br=Mr+"}",zr=map$1(keys(_r),function(jr){return jr+$r+map$1(keys(_r[jr]),function(Gr){return Gr+":"+_r[jr][Gr]+";"}).join(Mr)+Br}).join(Mr),Vr=map$1(keys(Be),function(jr){return"@keyframes "+jr+$r+map$1(keys(Be[jr]),function(Gr){return Gr+$r+map$1(keys(Be[jr][Gr]),function(Wr){var Kr=Be[jr][Gr][Wr];return Wr==="d"&&(Kr='path("'+Kr+'")'),Wr+":"+Kr+";"}).join(Mr)+Br}).join(Mr)+Br}).join(Mr);return!zr&&!Vr?"":["<![CDATA[",zr,Vr,"]]>"].join(Mr)}function createBrushScope(_r){return{zrId:_r,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(_r,Be,Dr,Mr){return createVNode("svg","root",{width:_r,height:Be,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:Mr?"0 0 "+_r+" "+Be:!1},Dr)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(_r,Be,Dr){var Mr=extend$1({},_r.shape);extend$1(Mr,Be),_r.buildPath(Dr,Mr);var $r=new SVGPathRebuilder$1;return $r.reset(getPathPrecision(_r)),Dr.rebuildPath($r,1),$r.generateStr(),$r.getStr()}function setTransformOrigin(_r,Be){var Dr=Be.originX,Mr=Be.originY;(Dr||Mr)&&(_r[transformOriginKey]=Dr+"px "+Mr+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(_r,Be){var Dr=Be.zrId+"-ani-"+Be.cssAnimIdx++;return Be.cssAnims[Dr]=_r,Dr}function createCompoundPathCSSAnimation(_r,Be,Dr){var Mr=_r.shape.paths,$r={},Br,zr;if(each$f(Mr,function(jr){var Gr=createBrushScope(Dr.zrId);Gr.animation=!0,createCSSAnimation(jr,{},Gr,!0);var Wr=Gr.cssAnims,Kr=Gr.cssNodes,Zr=keys(Wr),Jr=Zr.length;if(Jr){zr=Zr[Jr-1];var rn=Wr[zr];for(var nn in rn){var ln=rn[nn];$r[nn]=$r[nn]||{d:""},$r[nn].d+=ln.d||""}for(var cn in Kr){var hn=Kr[cn].animation;hn.indexOf(zr)>=0&&(Br=hn)}}}),!!Br){Be.d=!1;var Vr=addAnimation($r,Dr);return Br.replace(zr,Vr)}}function getEasingFunc(_r){return isString(_r)?EASING_MAP[_r]?"cubic-bezier("+EASING_MAP[_r]+")":createCubicEasingFunc(_r)?_r:"":""}function createCSSAnimation(_r,Be,Dr,Mr){var $r=_r.animators,Br=$r.length,zr=[];if(_r instanceof CompoundPath$1){var Vr=createCompoundPathCSSAnimation(_r,Be,Dr);if(Vr)zr.push(Vr);else if(!Br)return}else if(!Br)return;for(var jr={},Gr=0;Gr<Br;Gr++){var Wr=$r[Gr],Kr=[Wr.getMaxTime()/1e3+"s"],Zr=getEasingFunc(Wr.getClip().easing),Jr=Wr.getDelay();Zr?Kr.push(Zr):Kr.push("linear"),Jr&&Kr.push(Jr/1e3+"s"),Wr.getLoop()&&Kr.push("infinite");var rn=Kr.join(" ");jr[rn]=jr[rn]||[rn,[]],jr[rn][1].push(Wr)}function nn(hn){var mn=hn[1],bn=mn.length,An={},vn={},dn={},wn="animation-timing-function";function xn(zi,oo,lo){for(var io=zi.getTracks(),Wi=zi.getMaxTime(),Bo=0;Bo<io.length;Bo++){var Mo=io[Bo];if(Mo.needsAnimate()){var Zi=Mo.keyframes,Zo=Mo.propName;if(lo&&(Zo=lo(Zo)),Zo)for(var Wo=0;Wo<Zi.length;Wo++){var Ao=Zi[Wo],ba=Math.round(Ao.time/Wi*100)+"%",Va=getEasingFunc(Ao.easing),Ia=Ao.rawValue;(isString(Ia)||isNumber(Ia))&&(oo[ba]=oo[ba]||{},oo[ba][Zo]=Ao.rawValue,Va&&(oo[ba][wn]=Va))}}}}for(var Mn=0;Mn<bn;Mn++){var In=mn[Mn],Hn=In.targetName;Hn?Hn==="shape"&&xn(In,vn):!Mr&&xn(In,An)}for(var $n in An){var jn={};copyTransform(jn,_r),extend$1(jn,An[$n]);var Bn=getSRTTransformString(jn),Gn=An[$n][wn];dn[$n]=Bn?{transform:Bn}:{},setTransformOrigin(dn[$n],jn),Gn&&(dn[$n][wn]=Gn)}var ei,ri=!0;for(var $n in vn){dn[$n]=dn[$n]||{};var vi=!ei,Gn=vn[$n][wn];vi&&(ei=new PathProxy$1);var wi=ei.len();ei.reset(),dn[$n].d=buildPathString(_r,vn[$n],ei);var Ni=ei.len();if(!vi&&wi!==Ni){ri=!1;break}Gn&&(dn[$n][wn]=Gn)}if(!ri)for(var $n in dn)delete dn[$n].d;if(!Mr)for(var Mn=0;Mn<bn;Mn++){var In=mn[Mn],Hn=In.targetName;Hn==="style"&&xn(In,dn,function(io){return ANIMATE_STYLE_MAP[io]})}for(var Yn=keys(dn),Vn=!0,si,Mn=1;Mn<Yn.length;Mn++){var Ri=Yn[Mn-1],Pi=Yn[Mn];if(dn[Ri][transformOriginKey]!==dn[Pi][transformOriginKey]){Vn=!1;break}si=dn[Ri][transformOriginKey]}if(Vn&&si){for(var $n in dn)dn[$n][transformOriginKey]&&delete dn[$n][transformOriginKey];Be[transformOriginKey]=si}if(filter(Yn,function(zi){return keys(dn[zi]).length>0}).length){var Fi=addAnimation(dn,Dr);return Fi+" "+hn[0]+" both"}}for(var ln in jr){var Vr=nn(jr[ln]);Vr&&zr.push(Vr)}if(zr.length){var cn=Dr.zrId+"-cls-"+Dr.cssClassIdx++;Dr.cssNodes["."+cn]={animation:zr.join(",")},Be.class=cn}}var round$1=Math.round;function isImageLike(_r){return _r&&isString(_r.src)}function isCanvasLike(_r){return _r&&isFunction(_r.toDataURL)}function setStyleAttrs(_r,Be,Dr,Mr){mapStyleToAttrs(function($r,Br){var zr=$r==="fill"||$r==="stroke";zr&&isGradient(Br)?setGradient(Be,_r,$r,Mr):zr&&isPattern(Br)?setPattern(Dr,_r,$r,Mr):_r[$r]=Br},Be,Dr,!1),setShadow(Dr,_r,Mr)}function noRotateScale(_r){return isAroundZero(_r[0]-1)&&isAroundZero(_r[1])&&isAroundZero(_r[2])&&isAroundZero(_r[3]-1)}function noTranslate(_r){return isAroundZero(_r[4])&&isAroundZero(_r[5])}function setTransform(_r,Be,Dr){if(Be&&!(noTranslate(Be)&&noRotateScale(Be))){var Mr=Dr?10:1e4;_r.transform=noRotateScale(Be)?"translate("+round$1(Be[4]*Mr)/Mr+" "+round$1(Be[5]*Mr)/Mr+")":getMatrixStr(Be)}}function convertPolyShape(_r,Be,Dr){for(var Mr=_r.points,$r=[],Br=0;Br<Mr.length;Br++)$r.push(round$1(Mr[Br][0]*Dr)/Dr),$r.push(round$1(Mr[Br][1]*Dr)/Dr);Be.points=$r.join(" ")}function validatePolyShape(_r){return!_r.smooth}function createAttrsConvert(_r){var Be=map$1(_r,function(Dr){return typeof Dr=="string"?[Dr,Dr]:Dr});return function(Dr,Mr,$r){for(var Br=0;Br<Be.length;Br++){var zr=Be[Br],Vr=Dr[zr[0]];Vr!=null&&(Mr[zr[1]]=round$1(Vr*$r)/$r)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(_r){for(var Be=_r.animators,Dr=0;Dr<Be.length;Dr++)if(Be[Dr].targetName==="shape")return!0;return!1}function brushSVGPath(_r,Be){var Dr=_r.style,Mr=_r.shape,$r=builtinShapesDef[_r.type],Br={},zr=Be.animation,Vr="path",jr=_r.style.strokePercent,Gr=Be.compress&&getPathPrecision(_r)||4;if($r&&!Be.willUpdate&&!($r[1]&&!$r[1](Mr))&&!(zr&&hasShapeAnimation(_r))&&!(jr<1)){Vr=_r.type;var Wr=Math.pow(10,Gr);$r[0](Mr,Br,Wr)}else{var Kr=!_r.path||_r.shapeChanged();_r.path||_r.createPathProxy();var Zr=_r.path;Kr&&(Zr.beginPath(),_r.buildPath(Zr,_r.shape),_r.pathUpdated());var Jr=Zr.getVersion(),rn=_r,nn=rn.__svgPathBuilder;(rn.__svgPathVersion!==Jr||!nn||jr!==rn.__svgPathStrokePercent)&&(nn||(nn=rn.__svgPathBuilder=new SVGPathRebuilder$1),nn.reset(Gr),Zr.rebuildPath(nn,jr),nn.generateStr(),rn.__svgPathVersion=Jr,rn.__svgPathStrokePercent=jr),Br.d=nn.getStr()}return setTransform(Br,_r.transform),setStyleAttrs(Br,Dr,_r,Be),Be.animation&&createCSSAnimation(_r,Br,Be),createVNode(Vr,_r.id+"",Br)}function brushSVGImage(_r,Be){var Dr=_r.style,Mr=Dr.image;if(Mr&&!isString(Mr)&&(isImageLike(Mr)?Mr=Mr.src:isCanvasLike(Mr)&&(Mr=Mr.toDataURL())),!!Mr){var $r=Dr.x||0,Br=Dr.y||0,zr=Dr.width,Vr=Dr.height,jr={href:Mr,width:zr,height:Vr};return $r&&(jr.x=$r),Br&&(jr.y=Br),setTransform(jr,_r.transform),setStyleAttrs(jr,Dr,_r,Be),Be.animation&&createCSSAnimation(_r,jr,Be),createVNode("image",_r.id+"",jr)}}function brushSVGTSpan(_r,Be){var Dr=_r.style,Mr=Dr.text;if(Mr!=null&&(Mr+=""),!(!Mr||isNaN(Dr.x)||isNaN(Dr.y))){var $r=Dr.font||DEFAULT_FONT,Br=Dr.x||0,zr=adjustTextY$1(Dr.y||0,getLineHeight($r),Dr.textBaseline),Vr=TEXT_ALIGN_TO_ANCHOR[Dr.textAlign]||Dr.textAlign,jr={"dominant-baseline":"central","text-anchor":Vr};if(hasSeparateFont(Dr)){var Gr="",Wr=Dr.fontStyle,Kr=parseFontSize(Dr.fontSize);if(!parseFloat(Kr))return;var Zr=Dr.fontFamily||DEFAULT_FONT_FAMILY,Jr=Dr.fontWeight;Gr+="font-size:"+Kr+";font-family:"+Zr+";",Wr&&Wr!=="normal"&&(Gr+="font-style:"+Wr+";"),Jr&&Jr!=="normal"&&(Gr+="font-weight:"+Jr+";"),jr.style=Gr}else jr.style="font: "+$r;return Mr.match(/\s/)&&(jr["xml:space"]="preserve"),Br&&(jr.x=Br),zr&&(jr.y=zr),setTransform(jr,_r.transform),setStyleAttrs(jr,Dr,_r,Be),Be.animation&&createCSSAnimation(_r,jr,Be),createVNode("text",_r.id+"",jr,void 0,Mr)}}function brush(_r,Be){if(_r instanceof Path$1)return brushSVGPath(_r,Be);if(_r instanceof ZRImage$1)return brushSVGImage(_r,Be);if(_r instanceof TSpan$1)return brushSVGTSpan(_r,Be)}function setShadow(_r,Be,Dr){var Mr=_r.style;if(hasShadow(Mr)){var $r=getShadowKey(_r),Br=Dr.shadowCache,zr=Br[$r];if(!zr){var Vr=_r.getGlobalScale(),jr=Vr[0],Gr=Vr[1];if(!jr||!Gr)return;var Wr=Mr.shadowOffsetX||0,Kr=Mr.shadowOffsetY||0,Zr=Mr.shadowBlur,Jr=normalizeColor(Mr.shadowColor),rn=Jr.opacity,nn=Jr.color,ln=Zr/2/jr,cn=Zr/2/Gr,hn=ln+" "+cn;zr=Dr.zrId+"-s"+Dr.shadowIdx++,Dr.defs[zr]=createVNode("filter",zr,{id:zr,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:Wr/jr,dy:Kr/Gr,stdDeviation:hn,"flood-color":nn,"flood-opacity":rn})]),Br[$r]=zr}Be.filter=getIdURL(zr)}}function setGradient(_r,Be,Dr,Mr){var $r=_r[Dr],Br,zr={gradientUnits:$r.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient($r))Br="linearGradient",zr.x1=$r.x,zr.y1=$r.y,zr.x2=$r.x2,zr.y2=$r.y2;else if(isRadialGradient($r))Br="radialGradient",zr.cx=retrieve2($r.x,.5),zr.cy=retrieve2($r.y,.5),zr.r=retrieve2($r.r,.5);else return;for(var Vr=$r.colorStops,jr=[],Gr=0,Wr=Vr.length;Gr<Wr;++Gr){var Kr=round4(Vr[Gr].offset)*100+"%",Zr=Vr[Gr].color,Jr=normalizeColor(Zr),rn=Jr.color,nn=Jr.opacity,ln={offset:Kr};ln["stop-color"]=rn,nn<1&&(ln["stop-opacity"]=nn),jr.push(createVNode("stop",Gr+"",ln))}var cn=createVNode(Br,"",zr,jr),hn=vNodeToString(cn),mn=Mr.gradientCache,bn=mn[hn];bn||(bn=Mr.zrId+"-g"+Mr.gradientIdx++,mn[hn]=bn,zr.id=bn,Mr.defs[bn]=createVNode(Br,bn,zr,jr)),Be[Dr]=getIdURL(bn)}function setPattern(_r,Be,Dr,Mr){var $r=_r.style[Dr],Br=_r.getBoundingRect(),zr={},Vr=$r.repeat,jr=Vr==="no-repeat",Gr=Vr==="repeat-x",Wr=Vr==="repeat-y",Kr;if(isImagePattern($r)){var Zr=$r.imageWidth,Jr=$r.imageHeight,rn=void 0,nn=$r.image;if(isString(nn)?rn=nn:isImageLike(nn)?rn=nn.src:isCanvasLike(nn)&&(rn=nn.toDataURL()),typeof Image>"u"){var ln="Image width/height must been given explictly in svg-ssr renderer.";assert(Zr,ln),assert(Jr,ln)}else if(Zr==null||Jr==null){var cn=function(Mn,In){if(Mn){var Hn=Mn.elm,$n=Zr||In.width,jn=Jr||In.height;Mn.tag==="pattern"&&(Gr?(jn=1,$n/=Br.width):Wr&&($n=1,jn/=Br.height)),Mn.attrs.width=$n,Mn.attrs.height=jn,Hn&&(Hn.setAttribute("width",$n),Hn.setAttribute("height",jn))}},hn=createOrUpdateImage(rn,null,_r,function(Mn){jr||cn(vn,Mn),cn(Kr,Mn)});hn&&hn.width&&hn.height&&(Zr=Zr||hn.width,Jr=Jr||hn.height)}Kr=createVNode("image","img",{href:rn,width:Zr,height:Jr}),zr.width=Zr,zr.height=Jr}else $r.svgElement&&(Kr=clone$4($r.svgElement),zr.width=$r.svgWidth,zr.height=$r.svgHeight);if(Kr){var mn,bn;jr?mn=bn=1:Gr?(bn=1,mn=zr.width/Br.width):Wr?(mn=1,bn=zr.height/Br.height):zr.patternUnits="userSpaceOnUse",mn!=null&&!isNaN(mn)&&(zr.width=mn),bn!=null&&!isNaN(bn)&&(zr.height=bn);var An=getSRTTransformString($r);An&&(zr.patternTransform=An);var vn=createVNode("pattern","",zr,[Kr]),dn=vNodeToString(vn),wn=Mr.patternCache,xn=wn[dn];xn||(xn=Mr.zrId+"-p"+Mr.patternIdx++,wn[dn]=xn,zr.id=xn,vn=Mr.defs[xn]=createVNode("pattern",xn,zr,[Kr])),Be[Dr]=getIdURL(xn)}}function setClipPath(_r,Be,Dr){var Mr=Dr.clipPathCache,$r=Dr.defs,Br=Mr[_r.id];if(!Br){Br=Dr.zrId+"-c"+Dr.clipPathIdx++;var zr={id:Br};Mr[_r.id]=Br,$r[Br]=createVNode("clipPath",Br,zr,[brushSVGPath(_r,Dr)])}Be["clip-path"]=getIdURL(Br)}function createTextNode(_r){return document.createTextNode(_r)}function insertBefore(_r,Be,Dr){_r.insertBefore(Be,Dr)}function removeChild(_r,Be){_r.removeChild(Be)}function appendChild(_r,Be){_r.appendChild(Be)}function parentNode(_r){return _r.parentNode}function nextSibling(_r){return _r.nextSibling}function setTextContent(_r,Be){_r.textContent=Be}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(_r){return _r===void 0}function isDef(_r){return _r!==void 0}function createKeyToOldIdx(_r,Be,Dr){for(var Mr={},$r=Be;$r<=Dr;++$r){var Br=_r[$r].key;Br!==void 0&&(Mr[Br]=$r)}return Mr}function sameVnode(_r,Be){var Dr=_r.key===Be.key,Mr=_r.tag===Be.tag;return Mr&&Dr}function createElm(_r){var Be,Dr=_r.children,Mr=_r.tag;if(isDef(Mr)){var $r=_r.elm=createElement(Mr);if(updateAttrs(emptyNode,_r),isArray$1(Dr))for(Be=0;Be<Dr.length;++Be){var Br=Dr[Be];Br!=null&&appendChild($r,createElm(Br))}else isDef(_r.text)&&!isObject$3(_r.text)&&appendChild($r,createTextNode(_r.text))}else _r.elm=createTextNode(_r.text);return _r.elm}function addVnodes(_r,Be,Dr,Mr,$r){for(;Mr<=$r;++Mr){var Br=Dr[Mr];Br!=null&&insertBefore(_r,createElm(Br),Be)}}function removeVnodes(_r,Be,Dr,Mr){for(;Dr<=Mr;++Dr){var $r=Be[Dr];if($r!=null)if(isDef($r.tag)){var Br=parentNode($r.elm);removeChild(Br,$r.elm)}else removeChild(_r,$r.elm)}}function updateAttrs(_r,Be){var Dr,Mr=Be.elm,$r=_r&&_r.attrs||{},Br=Be.attrs||{};if($r!==Br){for(Dr in Br){var zr=Br[Dr],Vr=$r[Dr];Vr!==zr&&(zr===!0?Mr.setAttribute(Dr,""):zr===!1?Mr.removeAttribute(Dr):Dr.charCodeAt(0)!==xChar?Mr.setAttribute(Dr,zr):Dr==="xmlns:xlink"||Dr==="xmlns"?Mr.setAttributeNS(XMLNS,Dr,zr):Dr.charCodeAt(3)===colonChar?Mr.setAttributeNS(XML_NAMESPACE,Dr,zr):Dr.charCodeAt(5)===colonChar?Mr.setAttributeNS(XLINKNS,Dr,zr):Mr.setAttribute(Dr,zr))}for(Dr in $r)Dr in Br||Mr.removeAttribute(Dr)}}function updateChildren(_r,Be,Dr){for(var Mr=0,$r=0,Br=Be.length-1,zr=Be[0],Vr=Be[Br],jr=Dr.length-1,Gr=Dr[0],Wr=Dr[jr],Kr,Zr,Jr,rn;Mr<=Br&&$r<=jr;)zr==null?zr=Be[++Mr]:Vr==null?Vr=Be[--Br]:Gr==null?Gr=Dr[++$r]:Wr==null?Wr=Dr[--jr]:sameVnode(zr,Gr)?(patchVnode(zr,Gr),zr=Be[++Mr],Gr=Dr[++$r]):sameVnode(Vr,Wr)?(patchVnode(Vr,Wr),Vr=Be[--Br],Wr=Dr[--jr]):sameVnode(zr,Wr)?(patchVnode(zr,Wr),insertBefore(_r,zr.elm,nextSibling(Vr.elm)),zr=Be[++Mr],Wr=Dr[--jr]):sameVnode(Vr,Gr)?(patchVnode(Vr,Gr),insertBefore(_r,Vr.elm,zr.elm),Vr=Be[--Br],Gr=Dr[++$r]):(isUndef(Kr)&&(Kr=createKeyToOldIdx(Be,Mr,Br)),Zr=Kr[Gr.key],isUndef(Zr)?insertBefore(_r,createElm(Gr),zr.elm):(Jr=Be[Zr],Jr.tag!==Gr.tag?insertBefore(_r,createElm(Gr),zr.elm):(patchVnode(Jr,Gr),Be[Zr]=void 0,insertBefore(_r,Jr.elm,zr.elm))),Gr=Dr[++$r]);(Mr<=Br||$r<=jr)&&(Mr>Br?(rn=Dr[jr+1]==null?null:Dr[jr+1].elm,addVnodes(_r,rn,Dr,$r,jr)):removeVnodes(_r,Be,Mr,Br))}function patchVnode(_r,Be){var Dr=Be.elm=_r.elm,Mr=_r.children,$r=Be.children;_r!==Be&&(updateAttrs(_r,Be),isUndef(Be.text)?isDef(Mr)&&isDef($r)?Mr!==$r&&updateChildren(Dr,Mr,$r):isDef($r)?(isDef(_r.text)&&setTextContent(Dr,""),addVnodes(Dr,null,$r,0,$r.length-1)):isDef(Mr)?removeVnodes(Dr,Mr,0,Mr.length-1):isDef(_r.text)&&setTextContent(Dr,""):_r.text!==Be.text&&(isDef(Mr)&&removeVnodes(Dr,Mr,0,Mr.length-1),setTextContent(Dr,Be.text)))}function patch(_r,Be){if(sameVnode(_r,Be))patchVnode(_r,Be);else{var Dr=_r.elm,Mr=parentNode(Dr);createElm(Be),Mr!==null&&(insertBefore(Mr,Be.elm,nextSibling(Dr)),removeVnodes(Mr,[_r],0,0))}return Be}var svgId=0,SVGPainter=function(){function _r(Be,Dr,Mr){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=Dr,this._opts=Mr=extend$1({},Mr),this.root=Be,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(Mr.width,Mr.height),Be&&!Mr.ssr){var $r=this._viewport=document.createElement("div");$r.style.cssText="position:relative;overflow:hidden";var Br=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),$r.appendChild(Br),Be.appendChild($r)}this.resize(Mr.width,Mr.height)}return _r.prototype.getType=function(){return this.type},_r.prototype.getViewportRoot=function(){return this._viewport},_r.prototype.getViewportRootOffset=function(){var Be=this.getViewportRoot();if(Be)return{offsetLeft:Be.offsetLeft||0,offsetTop:Be.offsetTop||0}},_r.prototype.getSvgDom=function(){return this._svgDom},_r.prototype.refresh=function(){if(this.root){var Be=this.renderToVNode({willUpdate:!0});Be.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,Be),this._oldVNode=Be}},_r.prototype.renderOneToVNode=function(Be){return brush(Be,createBrushScope(this._id))},_r.prototype.renderToVNode=function(Be){Be=Be||{};var Dr=this.storage.getDisplayList(!0),Mr=this._width,$r=this._height,Br=createBrushScope(this._id);Br.animation=Be.animation,Br.willUpdate=Be.willUpdate,Br.compress=Be.compress;var zr=[],Vr=this._bgVNode=createBackgroundVNode(Mr,$r,this._backgroundColor,Br);Vr&&zr.push(Vr);var jr=Be.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(Dr,Br,jr?jr.children:zr),jr&&zr.push(jr);var Gr=map$1(keys(Br.defs),function(Zr){return Br.defs[Zr]});if(Gr.length&&zr.push(createVNode("defs","defs",{},Gr)),Be.animation){var Wr=getCssString(Br.cssNodes,Br.cssAnims,{newline:!0});if(Wr){var Kr=createVNode("style","stl",{},[],Wr);zr.push(Kr)}}return createSVGVNode(Mr,$r,zr,Be.useViewBox)},_r.prototype.renderToString=function(Be){return Be=Be||{},vNodeToString(this.renderToVNode({animation:retrieve2(Be.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(Be.useViewBox,!0)}),{newline:!0})},_r.prototype.setBackgroundColor=function(Be){this._backgroundColor=Be},_r.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},_r.prototype._paintList=function(Be,Dr,Mr){for(var $r=Be.length,Br=[],zr=0,Vr,jr,Gr=0,Wr=0;Wr<$r;Wr++){var Kr=Be[Wr];if(!Kr.invisible){var Zr=Kr.__clipPaths,Jr=Zr&&Zr.length||0,rn=jr&&jr.length||0,nn=void 0;for(nn=Math.max(Jr-1,rn-1);nn>=0&&!(Zr&&jr&&Zr[nn]===jr[nn]);nn--);for(var ln=rn-1;ln>nn;ln--)zr--,Vr=Br[zr-1];for(var cn=nn+1;cn<Jr;cn++){var hn={};setClipPath(Zr[cn],hn,Dr);var mn=createVNode("g","clip-g-"+Gr++,hn,[]);(Vr?Vr.children:Mr).push(mn),Br[zr++]=mn,Vr=mn}jr=Zr;var bn=brush(Kr,Dr);bn&&(Vr?Vr.children:Mr).push(bn)}}},_r.prototype.resize=function(Be,Dr){var Mr=this._opts,$r=this.root,Br=this._viewport;if(Be!=null&&(Mr.width=Be),Dr!=null&&(Mr.height=Dr),$r&&Br&&(Br.style.display="none",Be=getSize$1($r,0,Mr),Dr=getSize$1($r,1,Mr),Br.style.display=""),this._width!==Be||this._height!==Dr){if(this._width=Be,this._height=Dr,Br){var zr=Br.style;zr.width=Be+"px",zr.height=Dr+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var Vr=this._svgDom;Vr&&(Vr.setAttribute("width",Be),Vr.setAttribute("height",Dr));var jr=this._bgVNode&&this._bgVNode.elm;jr&&(jr.setAttribute("width",Be),jr.setAttribute("height",Dr))}}},_r.prototype.getWidth=function(){return this._width},_r.prototype.getHeight=function(){return this._height},_r.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},_r.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},_r.prototype.toDataURL=function(Be){var Dr=this.renderToString(),Mr="data:image/svg+xml;";return Be?(Dr=encodeBase64(Dr),Dr&&Mr+"base64,"+Dr):Mr+"charset=UTF-8,"+encodeURIComponent(Dr)},_r}();function createMethodNotSupport(_r){return function(){}}function createBackgroundVNode(_r,Be,Dr,Mr){var $r;if(Dr&&Dr!=="none")if($r=createVNode("rect","bg",{width:_r,height:Be,x:"0",y:"0",id:"0"}),isGradient(Dr))setGradient({fill:Dr},$r.attrs,"fill",Mr);else if(isPattern(Dr))setPattern({style:{fill:Dr},dirty:noop,getBoundingRect:function(){return{width:_r,height:Be}}},$r.attrs,"fill",Mr);else{var Br=normalizeColor(Dr),zr=Br.color,Vr=Br.opacity;$r.attrs.fill=zr,Vr<1&&($r.attrs["fill-opacity"]=Vr)}return $r}const SVGPainter$1=SVGPainter;function install$S(_r){_r.registerPainter("svg",SVGPainter$1)}function createDom(_r,Be,Dr){var Mr=platformApi.createCanvas(),$r=Be.getWidth(),Br=Be.getHeight(),zr=Mr.style;return zr&&(zr.position="absolute",zr.left="0",zr.top="0",zr.width=$r+"px",zr.height=Br+"px",Mr.setAttribute("data-zr-dom-id",_r)),Mr.width=$r*Dr,Mr.height=Br*Dr,Mr}var Layer=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this)||this;Br.motionBlur=!1,Br.lastFrameAlpha=.7,Br.dpr=1,Br.virtual=!1,Br.config={},Br.incremental=!1,Br.zlevel=0,Br.maxRepaintRectCount=5,Br.__dirty=!0,Br.__firstTimePaint=!0,Br.__used=!1,Br.__drawIndex=0,Br.__startIndex=0,Br.__endIndex=0,Br.__prevStartIndex=null,Br.__prevEndIndex=null;var zr;$r=$r||devicePixelRatio,typeof Dr=="string"?zr=createDom(Dr,Mr,$r):isObject$3(Dr)&&(zr=Dr,Dr=zr.id),Br.id=Dr,Br.dom=zr;var Vr=zr.style;return Vr&&(disableUserSelect(zr),zr.onselectstart=function(){return!1},Vr.padding="0",Vr.margin="0",Vr.borderWidth="0"),Br.painter=Mr,Br.dpr=$r,Br}return Be.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},Be.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},Be.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},Be.prototype.setUnpainted=function(){this.__firstTimePaint=!0},Be.prototype.createBackBuffer=function(){var Dr=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,Dr),this.ctxBack=this.domBack.getContext("2d"),Dr!==1&&this.ctxBack.scale(Dr,Dr)},Be.prototype.createRepaintRects=function(Dr,Mr,$r,Br){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var zr=[],Vr=this.maxRepaintRectCount,jr=!1,Gr=new BoundingRect$1(0,0,0,0);function Wr(hn){if(!(!hn.isFinite()||hn.isZero()))if(zr.length===0){var mn=new BoundingRect$1(0,0,0,0);mn.copy(hn),zr.push(mn)}else{for(var bn=!1,An=1/0,vn=0,dn=0;dn<zr.length;++dn){var wn=zr[dn];if(wn.intersect(hn)){var xn=new BoundingRect$1(0,0,0,0);xn.copy(wn),xn.union(hn),zr[dn]=xn,bn=!0;break}else if(jr){Gr.copy(hn),Gr.union(wn);var Mn=hn.width*hn.height,In=wn.width*wn.height,Hn=Gr.width*Gr.height,$n=Hn-Mn-In;$n<An&&(An=$n,vn=dn)}}if(jr&&(zr[vn].union(hn),bn=!0),!bn){var mn=new BoundingRect$1(0,0,0,0);mn.copy(hn),zr.push(mn)}jr||(jr=zr.length>=Vr)}}for(var Kr=this.__startIndex;Kr<this.__endIndex;++Kr){var Zr=Dr[Kr];if(Zr){var Jr=Zr.shouldBePainted($r,Br,!0,!0),rn=Zr.__isRendered&&(Zr.__dirty&REDRAW_BIT||!Jr)?Zr.getPrevPaintRect():null;rn&&Wr(rn);var nn=Jr&&(Zr.__dirty&REDRAW_BIT||!Zr.__isRendered)?Zr.getPaintRect():null;nn&&Wr(nn)}}for(var Kr=this.__prevStartIndex;Kr<this.__prevEndIndex;++Kr){var Zr=Mr[Kr],Jr=Zr.shouldBePainted($r,Br,!0,!0);if(Zr&&(!Jr||!Zr.__zr)&&Zr.__isRendered){var rn=Zr.getPrevPaintRect();rn&&Wr(rn)}}var ln;do{ln=!1;for(var Kr=0;Kr<zr.length;){if(zr[Kr].isZero()){zr.splice(Kr,1);continue}for(var cn=Kr+1;cn<zr.length;)zr[Kr].intersect(zr[cn])?(ln=!0,zr[Kr].union(zr[cn]),zr.splice(cn,1)):cn++;Kr++}}while(ln);return this._paintRects=zr,zr},Be.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},Be.prototype.resize=function(Dr,Mr){var $r=this.dpr,Br=this.dom,zr=Br.style,Vr=this.domBack;zr&&(zr.width=Dr+"px",zr.height=Mr+"px"),Br.width=Dr*$r,Br.height=Mr*$r,Vr&&(Vr.width=Dr*$r,Vr.height=Mr*$r,$r!==1&&this.ctxBack.scale($r,$r))},Be.prototype.clear=function(Dr,Mr,$r){var Br=this.dom,zr=this.ctx,Vr=Br.width,jr=Br.height;Mr=Mr||this.clearColor;var Gr=this.motionBlur&&!Dr,Wr=this.lastFrameAlpha,Kr=this.dpr,Zr=this;Gr&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(Br,0,0,Vr/Kr,jr/Kr));var Jr=this.domBack;function rn(nn,ln,cn,hn){if(zr.clearRect(nn,ln,cn,hn),Mr&&Mr!=="transparent"){var mn=void 0;if(isGradientObject(Mr)){var bn=Mr.global||Mr.__width===cn&&Mr.__height===hn;mn=bn&&Mr.__canvasGradient||getCanvasGradient(zr,Mr,{x:0,y:0,width:cn,height:hn}),Mr.__canvasGradient=mn,Mr.__width=cn,Mr.__height=hn}else isImagePatternObject(Mr)&&(Mr.scaleX=Mr.scaleX||Kr,Mr.scaleY=Mr.scaleY||Kr,mn=createCanvasPattern(zr,Mr,{dirty:function(){Zr.setUnpainted(),Zr.__painter.refresh()}}));zr.save(),zr.fillStyle=mn||Mr,zr.fillRect(nn,ln,cn,hn),zr.restore()}Gr&&(zr.save(),zr.globalAlpha=Wr,zr.drawImage(Jr,nn,ln,cn,hn),zr.restore())}!$r||Gr?rn(0,0,Vr,jr):$r.length&&each$f($r,function(nn){rn(nn.x*Kr,nn.y*Kr,nn.width*Kr,nn.height*Kr)})},Be}(Eventful$1);const Layer$1=Layer;var HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(_r){return _r?_r.__builtin__?!0:!(typeof _r.resize!="function"||typeof _r.refresh!="function"):!1}function createRoot(_r,Be){var Dr=document.createElement("div");return Dr.style.cssText=["position:relative","width:"+_r+"px","height:"+Be+"px","padding:0","margin:0","border-width:0"].join(";")+";",Dr}var CanvasPainter=function(){function _r(Be,Dr,Mr,$r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var Br=!Be.nodeName||Be.nodeName.toUpperCase()==="CANVAS";this._opts=Mr=extend$1({},Mr||{}),this.dpr=Mr.devicePixelRatio||devicePixelRatio,this._singleCanvas=Br,this.root=Be;var zr=Be.style;zr&&(disableUserSelect(Be),Be.innerHTML=""),this.storage=Dr;var Vr=this._zlevelList;this._prevDisplayList=[];var jr=this._layers;if(Br){var Wr=Be,Kr=Wr.width,Zr=Wr.height;Mr.width!=null&&(Kr=Mr.width),Mr.height!=null&&(Zr=Mr.height),this.dpr=Mr.devicePixelRatio||1,Wr.width=Kr*this.dpr,Wr.height=Zr*this.dpr,this._width=Kr,this._height=Zr;var Jr=new Layer$1(Wr,this,this.dpr);Jr.__builtin__=!0,Jr.initContext(),jr[CANVAS_ZLEVEL]=Jr,Jr.zlevel=CANVAS_ZLEVEL,Vr.push(CANVAS_ZLEVEL),this._domRoot=Be}else{this._width=getSize$1(Be,0,Mr),this._height=getSize$1(Be,1,Mr);var Gr=this._domRoot=createRoot(this._width,this._height);Be.appendChild(Gr)}}return _r.prototype.getType=function(){return"canvas"},_r.prototype.isSingleCanvas=function(){return this._singleCanvas},_r.prototype.getViewportRoot=function(){return this._domRoot},_r.prototype.getViewportRootOffset=function(){var Be=this.getViewportRoot();if(Be)return{offsetLeft:Be.offsetLeft||0,offsetTop:Be.offsetTop||0}},_r.prototype.refresh=function(Be){var Dr=this.storage.getDisplayList(!0),Mr=this._prevDisplayList,$r=this._zlevelList;this._redrawId=Math.random(),this._paintList(Dr,Mr,Be,this._redrawId);for(var Br=0;Br<$r.length;Br++){var zr=$r[Br],Vr=this._layers[zr];if(!Vr.__builtin__&&Vr.refresh){var jr=Br===0?this._backgroundColor:null;Vr.refresh(jr)}}return this._opts.useDirtyRect&&(this._prevDisplayList=Dr.slice()),this},_r.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},_r.prototype._paintHoverList=function(Be){var Dr=Be.length,Mr=this._hoverlayer;if(Mr&&Mr.clear(),!!Dr){for(var $r={inHover:!0,viewWidth:this._width,viewHeight:this._height},Br,zr=0;zr<Dr;zr++){var Vr=Be[zr];Vr.__inHover&&(Mr||(Mr=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),Br||(Br=Mr.ctx,Br.save()),brush$1(Br,Vr,$r,zr===Dr-1))}Br&&Br.restore()}},_r.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},_r.prototype.paintOne=function(Be,Dr){brushSingle(Be,Dr)},_r.prototype._paintList=function(Be,Dr,Mr,$r){if(this._redrawId===$r){Mr=Mr||!1,this._updateLayerStatus(Be);var Br=this._doPaintList(Be,Dr,Mr),zr=Br.finished,Vr=Br.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),Vr&&this._paintHoverList(Be),zr)this.eachLayer(function(Gr){Gr.afterBrush&&Gr.afterBrush()});else{var jr=this;requestAnimationFrame$2(function(){jr._paintList(Be,Dr,Mr,$r)})}}},_r.prototype._compositeManually=function(){var Be=this.getLayer(CANVAS_ZLEVEL).ctx,Dr=this._domRoot.width,Mr=this._domRoot.height;Be.clearRect(0,0,Dr,Mr),this.eachBuiltinLayer(function($r){$r.virtual&&Be.drawImage($r.dom,0,0,Dr,Mr)})},_r.prototype._doPaintList=function(Be,Dr,Mr){for(var $r=this,Br=[],zr=this._opts.useDirtyRect,Vr=0;Vr<this._zlevelList.length;Vr++){var jr=this._zlevelList[Vr],Gr=this._layers[jr];Gr.__builtin__&&Gr!==this._hoverlayer&&(Gr.__dirty||Mr)&&Br.push(Gr)}for(var Wr=!0,Kr=!1,Zr=function(nn){var ln=Br[nn],cn=ln.ctx,hn=zr&&ln.createRepaintRects(Be,Dr,Jr._width,Jr._height),mn=Mr?ln.__startIndex:ln.__drawIndex,bn=!Mr&&ln.incremental&&Date.now,An=bn&&Date.now(),vn=ln.zlevel===Jr._zlevelList[0]?Jr._backgroundColor:null;if(ln.__startIndex===ln.__endIndex)ln.clear(!1,vn,hn);else if(mn===ln.__startIndex){var dn=Be[mn];(!dn.incremental||!dn.notClear||Mr)&&ln.clear(!1,vn,hn)}mn===-1&&(console.error("For some unknown reason. drawIndex is -1"),mn=ln.__startIndex);var wn,xn=function($n){var jn={inHover:!1,allClipped:!1,prevEl:null,viewWidth:$r._width,viewHeight:$r._height};for(wn=mn;wn<ln.__endIndex;wn++){var Bn=Be[wn];if(Bn.__inHover&&(Kr=!0),$r._doPaintEl(Bn,ln,zr,$n,jn,wn===ln.__endIndex-1),bn){var Gn=Date.now()-An;if(Gn>15)break}}jn.prevElClipPaths&&cn.restore()};if(hn)if(hn.length===0)wn=ln.__endIndex;else for(var Mn=Jr.dpr,In=0;In<hn.length;++In){var Hn=hn[In];cn.save(),cn.beginPath(),cn.rect(Hn.x*Mn,Hn.y*Mn,Hn.width*Mn,Hn.height*Mn),cn.clip(),xn(Hn),cn.restore()}else cn.save(),xn(),cn.restore();ln.__drawIndex=wn,ln.__drawIndex<ln.__endIndex&&(Wr=!1)},Jr=this,rn=0;rn<Br.length;rn++)Zr(rn);return env$1.wxa&&each$f(this._layers,function(nn){nn&&nn.ctx&&nn.ctx.draw&&nn.ctx.draw()}),{finished:Wr,needsRefreshHover:Kr}},_r.prototype._doPaintEl=function(Be,Dr,Mr,$r,Br,zr){var Vr=Dr.ctx;if(Mr){var jr=Be.getPaintRect();(!$r||jr&&jr.intersect($r))&&(brush$1(Vr,Be,Br,zr),Be.setPrevPaintRect(jr))}else brush$1(Vr,Be,Br,zr)},_r.prototype.getLayer=function(Be,Dr){this._singleCanvas&&!this._needsManuallyCompositing&&(Be=CANVAS_ZLEVEL);var Mr=this._layers[Be];return Mr||(Mr=new Layer$1("zr_"+Be,this,this.dpr),Mr.zlevel=Be,Mr.__builtin__=!0,this._layerConfig[Be]?merge(Mr,this._layerConfig[Be],!0):this._layerConfig[Be-EL_AFTER_INCREMENTAL_INC]&&merge(Mr,this._layerConfig[Be-EL_AFTER_INCREMENTAL_INC],!0),Dr&&(Mr.virtual=Dr),this.insertLayer(Be,Mr),Mr.initContext()),Mr},_r.prototype.insertLayer=function(Be,Dr){var Mr=this._layers,$r=this._zlevelList,Br=$r.length,zr=this._domRoot,Vr=null,jr=-1;if(!Mr[Be]&&isLayerValid(Dr)){if(Br>0&&Be>$r[0]){for(jr=0;jr<Br-1&&!($r[jr]<Be&&$r[jr+1]>Be);jr++);Vr=Mr[$r[jr]]}if($r.splice(jr+1,0,Be),Mr[Be]=Dr,!Dr.virtual)if(Vr){var Gr=Vr.dom;Gr.nextSibling?zr.insertBefore(Dr.dom,Gr.nextSibling):zr.appendChild(Dr.dom)}else zr.firstChild?zr.insertBefore(Dr.dom,zr.firstChild):zr.appendChild(Dr.dom);Dr.__painter=this}},_r.prototype.eachLayer=function(Be,Dr){for(var Mr=this._zlevelList,$r=0;$r<Mr.length;$r++){var Br=Mr[$r];Be.call(Dr,this._layers[Br],Br)}},_r.prototype.eachBuiltinLayer=function(Be,Dr){for(var Mr=this._zlevelList,$r=0;$r<Mr.length;$r++){var Br=Mr[$r],zr=this._layers[Br];zr.__builtin__&&Be.call(Dr,zr,Br)}},_r.prototype.eachOtherLayer=function(Be,Dr){for(var Mr=this._zlevelList,$r=0;$r<Mr.length;$r++){var Br=Mr[$r],zr=this._layers[Br];zr.__builtin__||Be.call(Dr,zr,Br)}},_r.prototype.getLayers=function(){return this._layers},_r.prototype._updateLayerStatus=function(Be){this.eachBuiltinLayer(function(Kr,Zr){Kr.__dirty=Kr.__used=!1});function Dr(Kr){Br&&(Br.__endIndex!==Kr&&(Br.__dirty=!0),Br.__endIndex=Kr)}if(this._singleCanvas)for(var Mr=1;Mr<Be.length;Mr++){var $r=Be[Mr];if($r.zlevel!==Be[Mr-1].zlevel||$r.incremental){this._needsManuallyCompositing=!0;break}}var Br=null,zr=0,Vr,jr;for(jr=0;jr<Be.length;jr++){var $r=Be[jr],Gr=$r.zlevel,Wr=void 0;Vr!==Gr&&(Vr=Gr,zr=0),$r.incremental?(Wr=this.getLayer(Gr+INCREMENTAL_INC,this._needsManuallyCompositing),Wr.incremental=!0,zr=1):Wr=this.getLayer(Gr+(zr>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),Wr.__builtin__||logError("ZLevel "+Gr+" has been used by unkown layer "+Wr.id),Wr!==Br&&(Wr.__used=!0,Wr.__startIndex!==jr&&(Wr.__dirty=!0),Wr.__startIndex=jr,Wr.incremental?Wr.__drawIndex=-1:Wr.__drawIndex=jr,Dr(jr),Br=Wr),$r.__dirty&REDRAW_BIT&&!$r.__inHover&&(Wr.__dirty=!0,Wr.incremental&&Wr.__drawIndex<0&&(Wr.__drawIndex=jr))}Dr(jr),this.eachBuiltinLayer(function(Kr,Zr){!Kr.__used&&Kr.getElementCount()>0&&(Kr.__dirty=!0,Kr.__startIndex=Kr.__endIndex=Kr.__drawIndex=0),Kr.__dirty&&Kr.__drawIndex<0&&(Kr.__drawIndex=Kr.__startIndex)})},_r.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},_r.prototype._clearLayer=function(Be){Be.clear()},_r.prototype.setBackgroundColor=function(Be){this._backgroundColor=Be,each$f(this._layers,function(Dr){Dr.setUnpainted()})},_r.prototype.configLayer=function(Be,Dr){if(Dr){var Mr=this._layerConfig;Mr[Be]?merge(Mr[Be],Dr,!0):Mr[Be]=Dr;for(var $r=0;$r<this._zlevelList.length;$r++){var Br=this._zlevelList[$r];if(Br===Be||Br===Be+EL_AFTER_INCREMENTAL_INC){var zr=this._layers[Br];merge(zr,Mr[Be],!0)}}}},_r.prototype.delLayer=function(Be){var Dr=this._layers,Mr=this._zlevelList,$r=Dr[Be];$r&&($r.dom.parentNode.removeChild($r.dom),delete Dr[Be],Mr.splice(indexOf(Mr,Be),1))},_r.prototype.resize=function(Be,Dr){if(this._domRoot.style){var Mr=this._domRoot;Mr.style.display="none";var $r=this._opts,Br=this.root;if(Be!=null&&($r.width=Be),Dr!=null&&($r.height=Dr),Be=getSize$1(Br,0,$r),Dr=getSize$1(Br,1,$r),Mr.style.display="",this._width!==Be||Dr!==this._height){Mr.style.width=Be+"px",Mr.style.height=Dr+"px";for(var zr in this._layers)this._layers.hasOwnProperty(zr)&&this._layers[zr].resize(Be,Dr);this.refresh(!0)}this._width=Be,this._height=Dr}else{if(Be==null||Dr==null)return;this._width=Be,this._height=Dr,this.getLayer(CANVAS_ZLEVEL).resize(Be,Dr)}return this},_r.prototype.clearLayer=function(Be){var Dr=this._layers[Be];Dr&&Dr.clear()},_r.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},_r.prototype.getRenderedCanvas=function(Be){if(Be=Be||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var Dr=new Layer$1("image",this,Be.pixelRatio||this.dpr);Dr.initContext(),Dr.clear(!1,Be.backgroundColor||this._backgroundColor);var Mr=Dr.ctx;if(Be.pixelRatio<=this.dpr){this.refresh();var $r=Dr.dom.width,Br=Dr.dom.height;this.eachLayer(function(Kr){Kr.__builtin__?Mr.drawImage(Kr.dom,0,0,$r,Br):Kr.renderToCanvas&&(Mr.save(),Kr.renderToCanvas(Mr),Mr.restore())})}else for(var zr={inHover:!1,viewWidth:this._width,viewHeight:this._height},Vr=this.storage.getDisplayList(!0),jr=0,Gr=Vr.length;jr<Gr;jr++){var Wr=Vr[jr];brush$1(Mr,Wr,zr,jr===Gr-1)}return Dr.dom},_r.prototype.getWidth=function(){return this._width},_r.prototype.getHeight=function(){return this._height},_r}();const CanvasPainter$1=CanvasPainter;function install$R(_r){_r.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.hasSymbolVisual=!0,Dr}return Be.prototype.getInitialData=function(Dr){return createSeriesData(null,this,{useEncodeDefaulter:!0})},Be.prototype.getLegendIcon=function(Dr){var Mr=new Group$4,$r=createSymbol$1("line",0,Dr.itemHeight/2,Dr.itemWidth,0,Dr.lineStyle.stroke,!1);Mr.add($r),$r.setStyle(Dr.lineStyle);var Br=this.getData().getVisual("symbol"),zr=this.getData().getVisual("symbolRotate"),Vr=Br==="none"?"circle":Br,jr=Dr.itemHeight*.8,Gr=createSymbol$1(Vr,(Dr.itemWidth-jr)/2,(Dr.itemHeight-jr)/2,jr,jr,Dr.itemStyle.fill);Mr.add(Gr),Gr.setStyle(Dr.itemStyle);var Wr=Dr.iconRotate==="inherit"?zr:Dr.iconRotate||0;return Gr.rotation=Wr*Math.PI/180,Gr.setOrigin([Dr.itemWidth/2,Dr.itemHeight/2]),Vr.indexOf("empty")>-1&&(Gr.style.stroke=Gr.style.fill,Gr.style.fill="#fff",Gr.style.lineWidth=2),Mr},Be.type="series.line",Be.dependencies=["grid","polar"],Be.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},Be}(SeriesModel$1);const LineSeries=LineSeriesModel;function getDefaultLabel(_r,Be){var Dr=_r.mapDimensionsAll("defaultedLabel"),Mr=Dr.length;if(Mr===1){var $r=retrieveRawValue(_r,Be,Dr[0]);return $r!=null?$r+"":null}else if(Mr){for(var Br=[],zr=0;zr<Dr.length;zr++)Br.push(retrieveRawValue(_r,Be,Dr[zr]));return Br.join(" ")}}function getDefaultInterpolatedLabel(_r,Be){var Dr=_r.mapDimensionsAll("defaultedLabel");if(!isArray$1(Be))return Be+"";for(var Mr=[],$r=0;$r<Dr.length;$r++){var Br=_r.getDimensionIndex(Dr[$r]);Br>=0&&Mr.push(Be[Br])}return Mr.join(" ")}var Symbol$1=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r,Br){var zr=_r.call(this)||this;return zr.updateData(Dr,Mr,$r,Br),zr}return Be.prototype._createSymbol=function(Dr,Mr,$r,Br,zr){this.removeAll();var Vr=createSymbol$1(Dr,-1,-1,2,2,null,zr);Vr.attr({z2:100,culling:!0,scaleX:Br[0]/2,scaleY:Br[1]/2}),Vr.drift=driftSymbol,this._symbolType=Dr,this.add(Vr)},Be.prototype.stopSymbolAnimation=function(Dr){this.childAt(0).stopAnimation(null,Dr)},Be.prototype.getSymbolType=function(){return this._symbolType},Be.prototype.getSymbolPath=function(){return this.childAt(0)},Be.prototype.highlight=function(){enterEmphasis(this.childAt(0))},Be.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},Be.prototype.setZ=function(Dr,Mr){var $r=this.childAt(0);$r.zlevel=Dr,$r.z=Mr},Be.prototype.setDraggable=function(Dr,Mr){var $r=this.childAt(0);$r.draggable=Dr,$r.cursor=!Mr&&Dr?"move":$r.cursor},Be.prototype.updateData=function(Dr,Mr,$r,Br){this.silent=!1;var zr=Dr.getItemVisual(Mr,"symbol")||"circle",Vr=Dr.hostModel,jr=Be.getSymbolSize(Dr,Mr),Gr=zr!==this._symbolType,Wr=Br&&Br.disableAnimation;if(Gr){var Kr=Dr.getItemVisual(Mr,"symbolKeepAspect");this._createSymbol(zr,Dr,Mr,jr,Kr)}else{var Zr=this.childAt(0);Zr.silent=!1;var Jr={scaleX:jr[0]/2,scaleY:jr[1]/2};Wr?Zr.attr(Jr):updateProps$1(Zr,Jr,Vr,Mr),saveOldStyle(Zr)}if(this._updateCommon(Dr,Mr,jr,$r,Br),Gr){var Zr=this.childAt(0);if(!Wr){var Jr={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:Zr.style.opacity}};Zr.scaleX=Zr.scaleY=0,Zr.style.opacity=0,initProps(Zr,Jr,Vr,Mr)}}Wr&&this.childAt(0).stopAnimation("leave")},Be.prototype._updateCommon=function(Dr,Mr,$r,Br,zr){var Vr=this.childAt(0),jr=Dr.hostModel,Gr,Wr,Kr,Zr,Jr,rn,nn,ln,cn;if(Br&&(Gr=Br.emphasisItemStyle,Wr=Br.blurItemStyle,Kr=Br.selectItemStyle,Zr=Br.focus,Jr=Br.blurScope,nn=Br.labelStatesModels,ln=Br.hoverScale,cn=Br.cursorStyle,rn=Br.emphasisDisabled),!Br||Dr.hasItemOption){var hn=Br&&Br.itemModel?Br.itemModel:Dr.getItemModel(Mr),mn=hn.getModel("emphasis");Gr=mn.getModel("itemStyle").getItemStyle(),Kr=hn.getModel(["select","itemStyle"]).getItemStyle(),Wr=hn.getModel(["blur","itemStyle"]).getItemStyle(),Zr=mn.get("focus"),Jr=mn.get("blurScope"),rn=mn.get("disabled"),nn=getLabelStatesModels(hn),ln=mn.getShallow("scale"),cn=hn.getShallow("cursor")}var bn=Dr.getItemVisual(Mr,"symbolRotate");Vr.attr("rotation",(bn||0)*Math.PI/180||0);var An=normalizeSymbolOffset(Dr.getItemVisual(Mr,"symbolOffset"),$r);An&&(Vr.x=An[0],Vr.y=An[1]),cn&&Vr.attr("cursor",cn);var vn=Dr.getItemVisual(Mr,"style"),dn=vn.fill;if(Vr instanceof ZRImage$1){var wn=Vr.style;Vr.useStyle(extend$1({image:wn.image,x:wn.x,y:wn.y,width:wn.width,height:wn.height},vn))}else Vr.__isEmptyBrush?Vr.useStyle(extend$1({},vn)):Vr.useStyle(vn),Vr.style.decal=null,Vr.setColor(dn,zr&&zr.symbolInnerColor),Vr.style.strokeNoScale=!0;var xn=Dr.getItemVisual(Mr,"liftZ"),Mn=this._z2;xn!=null?Mn==null&&(this._z2=Vr.z2,Vr.z2+=xn):Mn!=null&&(Vr.z2=Mn,this._z2=null);var In=zr&&zr.useNameLabel;setLabelStyle(Vr,nn,{labelFetcher:jr,labelDataIndex:Mr,defaultText:Hn,inheritColor:dn,defaultOpacity:vn.opacity});function Hn(Bn){return In?Dr.getName(Bn):getDefaultLabel(Dr,Bn)}this._sizeX=$r[0]/2,this._sizeY=$r[1]/2;var $n=Vr.ensureState("emphasis");$n.style=Gr,Vr.ensureState("select").style=Kr,Vr.ensureState("blur").style=Wr;var jn=ln==null||ln===!0?Math.max(1.1,3/this._sizeY):isFinite(ln)&&ln>0?+ln:1;$n.scaleX=this._sizeX*jn,$n.scaleY=this._sizeY*jn,this.setSymbolScale(1),toggleHoverEmphasis(this,Zr,Jr,rn)},Be.prototype.setSymbolScale=function(Dr){this.scaleX=this.scaleY=Dr},Be.prototype.fadeOut=function(Dr,Mr,$r){var Br=this.childAt(0),zr=getECData(this).dataIndex,Vr=$r&&$r.animation;if(this.silent=Br.silent=!0,$r&&$r.fadeLabel){var jr=Br.getTextContent();jr&&removeElement(jr,{style:{opacity:0}},Mr,{dataIndex:zr,removeOpt:Vr,cb:function(){Br.removeTextContent()}})}else Br.removeTextContent();removeElement(Br,{style:{opacity:0},scaleX:0,scaleY:0},Mr,{dataIndex:zr,cb:Dr,removeOpt:Vr})},Be.getSymbolSize=function(Dr,Mr){return normalizeSymbolSize(Dr.getItemVisual(Mr,"symbolSize"))},Be}(Group$4);function driftSymbol(_r,Be){this.parent.drift(_r,Be)}const SymbolClz=Symbol$1;function symbolNeedsDraw$1(_r,Be,Dr,Mr){return Be&&!isNaN(Be[0])&&!isNaN(Be[1])&&!(Mr.isIgnore&&Mr.isIgnore(Dr))&&!(Mr.clipShape&&!Mr.clipShape.contain(Be[0],Be[1]))&&_r.getItemVisual(Dr,"symbol")!=="none"}function normalizeUpdateOpt(_r){return _r!=null&&!isObject$3(_r)&&(_r={isIgnore:_r}),_r||{}}function makeSeriesScope$2(_r){var Be=_r.hostModel,Dr=Be.getModel("emphasis");return{emphasisItemStyle:Dr.getModel("itemStyle").getItemStyle(),blurItemStyle:Be.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:Be.getModel(["select","itemStyle"]).getItemStyle(),focus:Dr.get("focus"),blurScope:Dr.get("blurScope"),emphasisDisabled:Dr.get("disabled"),hoverScale:Dr.get("scale"),labelStatesModels:getLabelStatesModels(Be),cursorStyle:Be.get("cursor")}}var SymbolDraw=function(){function _r(Be){this.group=new Group$4,this._SymbolCtor=Be||SymbolClz}return _r.prototype.updateData=function(Be,Dr){this._progressiveEls=null,Dr=normalizeUpdateOpt(Dr);var Mr=this.group,$r=Be.hostModel,Br=this._data,zr=this._SymbolCtor,Vr=Dr.disableAnimation,jr=makeSeriesScope$2(Be),Gr={disableAnimation:Vr},Wr=Dr.getSymbolPoint||function(Kr){return Be.getItemLayout(Kr)};Br||Mr.removeAll(),Be.diff(Br).add(function(Kr){var Zr=Wr(Kr);if(symbolNeedsDraw$1(Be,Zr,Kr,Dr)){var Jr=new zr(Be,Kr,jr,Gr);Jr.setPosition(Zr),Be.setItemGraphicEl(Kr,Jr),Mr.add(Jr)}}).update(function(Kr,Zr){var Jr=Br.getItemGraphicEl(Zr),rn=Wr(Kr);if(!symbolNeedsDraw$1(Be,rn,Kr,Dr)){Mr.remove(Jr);return}var nn=Be.getItemVisual(Kr,"symbol")||"circle",ln=Jr&&Jr.getSymbolType&&Jr.getSymbolType();if(!Jr||ln&&ln!==nn)Mr.remove(Jr),Jr=new zr(Be,Kr,jr,Gr),Jr.setPosition(rn);else{Jr.updateData(Be,Kr,jr,Gr);var cn={x:rn[0],y:rn[1]};Vr?Jr.attr(cn):updateProps$1(Jr,cn,$r)}Mr.add(Jr),Be.setItemGraphicEl(Kr,Jr)}).remove(function(Kr){var Zr=Br.getItemGraphicEl(Kr);Zr&&Zr.fadeOut(function(){Mr.remove(Zr)},$r)}).execute(),this._getSymbolPoint=Wr,this._data=Be},_r.prototype.updateLayout=function(){var Be=this,Dr=this._data;Dr&&Dr.eachItemGraphicEl(function(Mr,$r){var Br=Be._getSymbolPoint($r);Mr.setPosition(Br),Mr.markRedraw()})},_r.prototype.incrementalPrepareUpdate=function(Be){this._seriesScope=makeSeriesScope$2(Be),this._data=null,this.group.removeAll()},_r.prototype.incrementalUpdate=function(Be,Dr,Mr){this._progressiveEls=[],Mr=normalizeUpdateOpt(Mr);function $r(jr){jr.isGroup||(jr.incremental=!0,jr.ensureState("emphasis").hoverLayer=!0)}for(var Br=Be.start;Br<Be.end;Br++){var zr=Dr.getItemLayout(Br);if(symbolNeedsDraw$1(Dr,zr,Br,Mr)){var Vr=new this._SymbolCtor(Dr,Br,this._seriesScope);Vr.traverse($r),Vr.setPosition(zr),this.group.add(Vr),Dr.setItemGraphicEl(Br,Vr),this._progressiveEls.push(Vr)}}},_r.prototype.eachRendered=function(Be){traverseElements(this._progressiveEls||this.group,Be)},_r.prototype.remove=function(Be){var Dr=this.group,Mr=this._data;Mr&&Be?Mr.eachItemGraphicEl(function($r){$r.fadeOut(function(){Dr.remove($r)},Mr.hostModel)}):Dr.removeAll()},_r}();const SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo(_r,Be,Dr){var Mr=_r.getBaseAxis(),$r=_r.getOtherAxis(Mr),Br=getValueStart($r,Dr),zr=Mr.dim,Vr=$r.dim,jr=Be.mapDimension(Vr),Gr=Be.mapDimension(zr),Wr=Vr==="x"||Vr==="radius"?1:0,Kr=map$1(_r.dimensions,function(rn){return Be.mapDimension(rn)}),Zr=!1,Jr=Be.getCalculationInfo("stackResultDimension");return isDimensionStacked(Be,Kr[0])&&(Zr=!0,Kr[0]=Jr),isDimensionStacked(Be,Kr[1])&&(Zr=!0,Kr[1]=Jr),{dataDimsForPoint:Kr,valueStart:Br,valueAxisDim:Vr,baseAxisDim:zr,stacked:!!Zr,valueDim:jr,baseDim:Gr,baseDataOffset:Wr,stackedOverDimension:Be.getCalculationInfo("stackedOverDimension")}}function getValueStart(_r,Be){var Dr=0,Mr=_r.scale.getExtent();return Be==="start"?Dr=Mr[0]:Be==="end"?Dr=Mr[1]:isNumber(Be)&&!isNaN(Be)?Dr=Be:Mr[0]>0?Dr=Mr[0]:Mr[1]<0&&(Dr=Mr[1]),Dr}function getStackedOnPoint(_r,Be,Dr,Mr){var $r=NaN;_r.stacked&&($r=Dr.get(Dr.getCalculationInfo("stackedOverDimension"),Mr)),isNaN($r)&&($r=_r.valueStart);var Br=_r.baseDataOffset,zr=[];return zr[Br]=Dr.get(_r.baseDim,Mr),zr[1-Br]=$r,Be.dataToPoint(zr)}function diffData(_r,Be){var Dr=[];return Be.diff(_r).add(function(Mr){Dr.push({cmd:"+",idx:Mr})}).update(function(Mr,$r){Dr.push({cmd:"=",idx:$r,idx1:Mr})}).remove(function(Mr){Dr.push({cmd:"-",idx:Mr})}).execute(),Dr}function lineAnimationDiff(_r,Be,Dr,Mr,$r,Br,zr,Vr){for(var jr=diffData(_r,Be),Gr=[],Wr=[],Kr=[],Zr=[],Jr=[],rn=[],nn=[],ln=prepareDataCoordInfo($r,Be,zr),cn=_r.getLayout("points")||[],hn=Be.getLayout("points")||[],mn=0;mn<jr.length;mn++){var bn=jr[mn],An=!0,vn=void 0,dn=void 0;switch(bn.cmd){case"=":vn=bn.idx*2,dn=bn.idx1*2;var wn=cn[vn],xn=cn[vn+1],Mn=hn[dn],In=hn[dn+1];(isNaN(wn)||isNaN(xn))&&(wn=Mn,xn=In),Gr.push(wn,xn),Wr.push(Mn,In),Kr.push(Dr[vn],Dr[vn+1]),Zr.push(Mr[dn],Mr[dn+1]),nn.push(Be.getRawIndex(bn.idx1));break;case"+":var Hn=bn.idx,$n=ln.dataDimsForPoint,jn=$r.dataToPoint([Be.get($n[0],Hn),Be.get($n[1],Hn)]);dn=Hn*2,Gr.push(jn[0],jn[1]),Wr.push(hn[dn],hn[dn+1]);var Bn=getStackedOnPoint(ln,$r,Be,Hn);Kr.push(Bn[0],Bn[1]),Zr.push(Mr[dn],Mr[dn+1]),nn.push(Be.getRawIndex(Hn));break;case"-":An=!1}An&&(Jr.push(bn),rn.push(rn.length))}rn.sort(function(Ri,Pi){return nn[Ri]-nn[Pi]});for(var Gn=Gr.length,ei=createFloat32Array(Gn),ri=createFloat32Array(Gn),vi=createFloat32Array(Gn),wi=createFloat32Array(Gn),Ni=[],mn=0;mn<rn.length;mn++){var Yn=rn[mn],Vn=mn*2,si=Yn*2;ei[Vn]=Gr[si],ei[Vn+1]=Gr[si+1],ri[Vn]=Wr[si],ri[Vn+1]=Wr[si+1],vi[Vn]=Kr[si],vi[Vn+1]=Kr[si+1],wi[Vn]=Zr[si],wi[Vn+1]=Zr[si+1],Ni[mn]=Jr[Yn]}return{current:ei,next:ri,stackedOnCurrent:vi,stackedOnNext:wi,status:Ni}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(_r,Be){return isNaN(_r)||isNaN(Be)}function drawSegment(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){for(var Gr,Wr,Kr,Zr,Jr,rn,nn=Dr,ln=0;ln<Mr;ln++){var cn=Be[nn*2],hn=Be[nn*2+1];if(nn>=$r||nn<0)break;if(isPointNull$1(cn,hn)){if(jr){nn+=Br;continue}break}if(nn===Dr)_r[Br>0?"moveTo":"lineTo"](cn,hn),Kr=cn,Zr=hn;else{var mn=cn-Gr,bn=hn-Wr;if(mn*mn+bn*bn<.5){nn+=Br;continue}if(zr>0){for(var An=nn+Br,vn=Be[An*2],dn=Be[An*2+1];vn===cn&&dn===hn&&ln<Mr;)ln++,An+=Br,nn+=Br,vn=Be[An*2],dn=Be[An*2+1],cn=Be[nn*2],hn=Be[nn*2+1],mn=cn-Gr,bn=hn-Wr;var wn=ln+1;if(jr)for(;isPointNull$1(vn,dn)&&wn<Mr;)wn++,An+=Br,vn=Be[An*2],dn=Be[An*2+1];var xn=.5,Mn=0,In=0,Hn=void 0,$n=void 0;if(wn>=Mr||isPointNull$1(vn,dn))Jr=cn,rn=hn;else{Mn=vn-Gr,In=dn-Wr;var jn=cn-Gr,Bn=vn-cn,Gn=hn-Wr,ei=dn-hn,ri=void 0,vi=void 0;if(Vr==="x"){ri=Math.abs(jn),vi=Math.abs(Bn);var wi=Mn>0?1:-1;Jr=cn-wi*ri*zr,rn=hn,Hn=cn+wi*vi*zr,$n=hn}else if(Vr==="y"){ri=Math.abs(Gn),vi=Math.abs(ei);var Ni=In>0?1:-1;Jr=cn,rn=hn-Ni*ri*zr,Hn=cn,$n=hn+Ni*vi*zr}else ri=Math.sqrt(jn*jn+Gn*Gn),vi=Math.sqrt(Bn*Bn+ei*ei),xn=vi/(vi+ri),Jr=cn-Mn*zr*(1-xn),rn=hn-In*zr*(1-xn),Hn=cn+Mn*zr*xn,$n=hn+In*zr*xn,Hn=mathMin$5(Hn,mathMax$5(vn,cn)),$n=mathMin$5($n,mathMax$5(dn,hn)),Hn=mathMax$5(Hn,mathMin$5(vn,cn)),$n=mathMax$5($n,mathMin$5(dn,hn)),Mn=Hn-cn,In=$n-hn,Jr=cn-Mn*ri/vi,rn=hn-In*ri/vi,Jr=mathMin$5(Jr,mathMax$5(Gr,cn)),rn=mathMin$5(rn,mathMax$5(Wr,hn)),Jr=mathMax$5(Jr,mathMin$5(Gr,cn)),rn=mathMax$5(rn,mathMin$5(Wr,hn)),Mn=cn-Jr,In=hn-rn,Hn=cn+Mn*vi/ri,$n=hn+In*vi/ri}_r.bezierCurveTo(Kr,Zr,Jr,rn,cn,hn),Kr=Hn,Zr=$n}else _r.lineTo(cn,hn)}Gr=cn,Wr=hn,nn+=Br}return ln}var ECPolylineShape=function(){function _r(){this.smooth=0,this.smoothConstraint=!0}return _r}(),ECPolyline=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="ec-polyline",Mr}return Be.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Be.prototype.getDefaultShape=function(){return new ECPolylineShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.points,Br=0,zr=$r.length/2;if(Mr.connectNulls){for(;zr>0&&isPointNull$1($r[zr*2-2],$r[zr*2-1]);zr--);for(;Br<zr&&isPointNull$1($r[Br*2],$r[Br*2+1]);Br++);}for(;Br<zr;)Br+=drawSegment(Dr,$r,Br,zr,zr,1,Mr.smooth,Mr.smoothMonotone,Mr.connectNulls)+1},Be.prototype.getPointOn=function(Dr,Mr){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var $r=this.path,Br=$r.data,zr=PathProxy$1.CMD,Vr,jr,Gr=Mr==="x",Wr=[],Kr=0;Kr<Br.length;){var Zr=Br[Kr++],Jr=void 0,rn=void 0,nn=void 0,ln=void 0,cn=void 0,hn=void 0,mn=void 0;switch(Zr){case zr.M:Vr=Br[Kr++],jr=Br[Kr++];break;case zr.L:if(Jr=Br[Kr++],rn=Br[Kr++],mn=Gr?(Dr-Vr)/(Jr-Vr):(Dr-jr)/(rn-jr),mn<=1&&mn>=0){var bn=Gr?(rn-jr)*mn+jr:(Jr-Vr)*mn+Vr;return Gr?[Dr,bn]:[bn,Dr]}Vr=Jr,jr=rn;break;case zr.C:Jr=Br[Kr++],rn=Br[Kr++],nn=Br[Kr++],ln=Br[Kr++],cn=Br[Kr++],hn=Br[Kr++];var An=Gr?cubicRootAt(Vr,Jr,nn,cn,Dr,Wr):cubicRootAt(jr,rn,ln,hn,Dr,Wr);if(An>0)for(var vn=0;vn<An;vn++){var dn=Wr[vn];if(dn<=1&&dn>=0){var bn=Gr?cubicAt(jr,rn,ln,hn,dn):cubicAt(Vr,Jr,nn,cn,dn);return Gr?[Dr,bn]:[bn,Dr]}}Vr=cn,jr=hn;break}}},Be}(Path$1),ECPolygonShape=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be}(ECPolylineShape),ECPolygon=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="ec-polygon",Mr}return Be.prototype.getDefaultShape=function(){return new ECPolygonShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.points,Br=Mr.stackedOnPoints,zr=0,Vr=$r.length/2,jr=Mr.smoothMonotone;if(Mr.connectNulls){for(;Vr>0&&isPointNull$1($r[Vr*2-2],$r[Vr*2-1]);Vr--);for(;zr<Vr&&isPointNull$1($r[zr*2],$r[zr*2+1]);zr++);}for(;zr<Vr;){var Gr=drawSegment(Dr,$r,zr,Vr,Vr,1,Mr.smooth,jr,Mr.connectNulls);drawSegment(Dr,Br,zr+Gr-1,Gr,Vr,-1,Mr.stackedOnSmooth,jr,Mr.connectNulls),zr+=Gr+1,Dr.closePath()}},Be}(Path$1);function createGridClipPath(_r,Be,Dr,Mr,$r){var Br=_r.getArea(),zr=Br.x,Vr=Br.y,jr=Br.width,Gr=Br.height,Wr=Dr.get(["lineStyle","width"])||2;zr-=Wr/2,Vr-=Wr/2,jr+=Wr,Gr+=Wr,zr=Math.floor(zr),jr=Math.round(jr);var Kr=new Rect$3({shape:{x:zr,y:Vr,width:jr,height:Gr}});if(Be){var Zr=_r.getBaseAxis(),Jr=Zr.isHorizontal(),rn=Zr.inverse;Jr?(rn&&(Kr.shape.x+=jr),Kr.shape.width=0):(rn||(Kr.shape.y+=Gr),Kr.shape.height=0);var nn=isFunction($r)?function(ln){$r(ln,Kr)}:null;initProps(Kr,{shape:{width:jr,height:Gr,x:zr,y:Vr}},Dr,null,Mr,nn)}return Kr}function createPolarClipPath(_r,Be,Dr){var Mr=_r.getArea(),$r=round$3(Mr.r0,1),Br=round$3(Mr.r,1),zr=new Sector$1({shape:{cx:round$3(_r.cx,1),cy:round$3(_r.cy,1),r0:$r,r:Br,startAngle:Mr.startAngle,endAngle:Mr.endAngle,clockwise:Mr.clockwise}});if(Be){var Vr=_r.getBaseAxis().dim==="angle";Vr?zr.shape.endAngle=Mr.startAngle:zr.shape.r=$r,initProps(zr,{shape:{endAngle:Mr.endAngle,r:Br}},Dr)}return zr}function createClipPath(_r,Be,Dr,Mr,$r){if(_r){if(_r.type==="polar")return createPolarClipPath(_r,Be,Dr);if(_r.type==="cartesian2d")return createGridClipPath(_r,Be,Dr,Mr,$r)}else return null;return null}function isCoordinateSystemType(_r,Be){return _r.type===Be}function isPointsSame(_r,Be){if(_r.length===Be.length){for(var Dr=0;Dr<_r.length;Dr++)if(_r[Dr]!==Be[Dr])return;return!0}}function bboxFromPoints(_r){for(var Be=1/0,Dr=1/0,Mr=-1/0,$r=-1/0,Br=0;Br<_r.length;){var zr=_r[Br++],Vr=_r[Br++];isNaN(zr)||(Be=Math.min(zr,Be),Mr=Math.max(zr,Mr)),isNaN(Vr)||(Dr=Math.min(Vr,Dr),$r=Math.max(Vr,$r))}return[[Be,Dr],[Mr,$r]]}function getBoundingDiff(_r,Be){var Dr=bboxFromPoints(_r),Mr=Dr[0],$r=Dr[1],Br=bboxFromPoints(Be),zr=Br[0],Vr=Br[1];return Math.max(Math.abs(Mr[0]-zr[0]),Math.abs(Mr[1]-zr[1]),Math.abs($r[0]-Vr[0]),Math.abs($r[1]-Vr[1]))}function getSmooth(_r){return isNumber(_r)?_r:_r?.5:0}function getStackedOnPoints(_r,Be,Dr){if(!Dr.valueDim)return[];for(var Mr=Be.count(),$r=createFloat32Array(Mr*2),Br=0;Br<Mr;Br++){var zr=getStackedOnPoint(Dr,_r,Be,Br);$r[Br*2]=zr[0],$r[Br*2+1]=zr[1]}return $r}function turnPointsIntoStep(_r,Be,Dr,Mr){var $r=Be.getBaseAxis(),Br=$r.dim==="x"||$r.dim==="radius"?0:1,zr=[],Vr=0,jr=[],Gr=[],Wr=[],Kr=[];if(Mr){for(Vr=0;Vr<_r.length;Vr+=2)!isNaN(_r[Vr])&&!isNaN(_r[Vr+1])&&Kr.push(_r[Vr],_r[Vr+1]);_r=Kr}for(Vr=0;Vr<_r.length-2;Vr+=2)switch(Wr[0]=_r[Vr+2],Wr[1]=_r[Vr+3],Gr[0]=_r[Vr],Gr[1]=_r[Vr+1],zr.push(Gr[0],Gr[1]),Dr){case"end":jr[Br]=Wr[Br],jr[1-Br]=Gr[1-Br],zr.push(jr[0],jr[1]);break;case"middle":var Zr=(Gr[Br]+Wr[Br])/2,Jr=[];jr[Br]=Jr[Br]=Zr,jr[1-Br]=Gr[1-Br],Jr[1-Br]=Wr[1-Br],zr.push(jr[0],jr[1]),zr.push(Jr[0],Jr[1]);break;default:jr[Br]=Gr[Br],jr[1-Br]=Wr[1-Br],zr.push(jr[0],jr[1])}return zr.push(_r[Vr++],_r[Vr++]),zr}function clipColorStops(_r,Be){var Dr=[],Mr=_r.length,$r,Br;function zr(Wr,Kr,Zr){var Jr=Wr.coord,rn=(Zr-Jr)/(Kr.coord-Jr),nn=lerp(rn,[Wr.color,Kr.color]);return{coord:Zr,color:nn}}for(var Vr=0;Vr<Mr;Vr++){var jr=_r[Vr],Gr=jr.coord;if(Gr<0)$r=jr;else if(Gr>Be){Br?Dr.push(zr(Br,jr,Be)):$r&&Dr.push(zr($r,jr,0),zr($r,jr,Be));break}else $r&&(Dr.push(zr($r,jr,0)),$r=null),Dr.push(jr),Br=jr}return Dr}function getVisualGradient(_r,Be,Dr){var Mr=_r.getVisual("visualMeta");if(!(!Mr||!Mr.length||!_r.count())&&Be.type==="cartesian2d"){for(var $r,Br,zr=Mr.length-1;zr>=0;zr--){var Vr=_r.getDimensionInfo(Mr[zr].dimension);if($r=Vr&&Vr.coordDim,$r==="x"||$r==="y"){Br=Mr[zr];break}}if(Br){var jr=Be.getAxis($r),Gr=map$1(Br.stops,function(mn){return{coord:jr.toGlobalCoord(jr.dataToCoord(mn.value)),color:mn.color}}),Wr=Gr.length,Kr=Br.outerColors.slice();Wr&&Gr[0].coord>Gr[Wr-1].coord&&(Gr.reverse(),Kr.reverse());var Zr=clipColorStops(Gr,$r==="x"?Dr.getWidth():Dr.getHeight()),Jr=Zr.length;if(!Jr&&Wr)return Gr[0].coord<0?Kr[1]?Kr[1]:Gr[Wr-1].color:Kr[0]?Kr[0]:Gr[0].color;var rn=10,nn=Zr[0].coord-rn,ln=Zr[Jr-1].coord+rn,cn=ln-nn;if(cn<.001)return"transparent";each$f(Zr,function(mn){mn.offset=(mn.coord-nn)/cn}),Zr.push({offset:Jr?Zr[Jr-1].offset:.5,color:Kr[1]||"transparent"}),Zr.unshift({offset:Jr?Zr[0].offset:.5,color:Kr[0]||"transparent"});var hn=new LinearGradient$1(0,0,0,0,Zr,!0);return hn[$r]=nn,hn[$r+"2"]=ln,hn}}}function getIsIgnoreFunc(_r,Be,Dr){var Mr=_r.get("showAllSymbol"),$r=Mr==="auto";if(!(Mr&&!$r)){var Br=Dr.getAxesByScale("ordinal")[0];if(Br&&!($r&&canShowAllSymbolForCategory(Br,Be))){var zr=Be.mapDimension(Br.dim),Vr={};return each$f(Br.getViewLabels(),function(jr){var Gr=Br.scale.getRawOrdinalNumber(jr.tickValue);Vr[Gr]=1}),function(jr){return!Vr.hasOwnProperty(Be.get(zr,jr))}}}}function canShowAllSymbolForCategory(_r,Be){var Dr=_r.getExtent(),Mr=Math.abs(Dr[1]-Dr[0])/_r.scale.count();isNaN(Mr)&&(Mr=0);for(var $r=Be.count(),Br=Math.max(1,Math.round($r/5)),zr=0;zr<$r;zr+=Br)if(SymbolClz.getSymbolSize(Be,zr)[_r.isHorizontal()?1:0]*1.5>Mr)return!1;return!0}function isPointNull(_r,Be){return isNaN(_r)||isNaN(Be)}function getLastIndexNotNull(_r){for(var Be=_r.length/2;Be>0&&isPointNull(_r[Be*2-2],_r[Be*2-1]);Be--);return Be-1}function getPointAtIndex(_r,Be){return[_r[Be*2],_r[Be*2+1]]}function getIndexRange(_r,Be,Dr){for(var Mr=_r.length/2,$r=Dr==="x"?0:1,Br,zr,Vr=0,jr=-1,Gr=0;Gr<Mr;Gr++)if(zr=_r[Gr*2+$r],!(isNaN(zr)||isNaN(_r[Gr*2+1-$r]))){if(Gr===0){Br=zr;continue}if(Br<=Be&&zr>=Be||Br>=Be&&zr<=Be){jr=Gr;break}Vr=Gr,Br=zr}return{range:[Vr,jr],t:(Be-Br)/(zr-Br)}}function anyStateShowEndLabel(_r){if(_r.get(["endLabel","show"]))return!0;for(var Be=0;Be<SPECIAL_STATES.length;Be++)if(_r.get([SPECIAL_STATES[Be],"endLabel","show"]))return!0;return!1}function createLineClipPath(_r,Be,Dr,Mr){if(isCoordinateSystemType(Be,"cartesian2d")){var $r=Mr.getModel("endLabel"),Br=$r.get("valueAnimation"),zr=Mr.getData(),Vr={lastFrameIndex:0},jr=anyStateShowEndLabel(Mr)?function(Jr,rn){_r._endLabelOnDuring(Jr,rn,zr,Vr,Br,$r,Be)}:null,Gr=Be.getBaseAxis().isHorizontal(),Wr=createGridClipPath(Be,Dr,Mr,function(){var Jr=_r._endLabel;Jr&&Dr&&Vr.originalX!=null&&Jr.attr({x:Vr.originalX,y:Vr.originalY})},jr);if(!Mr.get("clip",!0)){var Kr=Wr.shape,Zr=Math.max(Kr.width,Kr.height);Gr?(Kr.y-=Zr,Kr.height+=Zr*2):(Kr.x-=Zr,Kr.width+=Zr*2)}return jr&&jr(1,Wr),Wr}else return createPolarClipPath(Be,Dr,Mr)}function getEndLabelStateSpecified(_r,Be){var Dr=Be.getBaseAxis(),Mr=Dr.isHorizontal(),$r=Dr.inverse,Br=Mr?$r?"right":"left":"center",zr=Mr?"middle":$r?"top":"bottom";return{normal:{align:_r.get("align")||Br,verticalAlign:_r.get("verticalAlign")||zr}}}var LineView=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.init=function(){var Dr=new Group$4,Mr=new SymbolDraw$1;this.group.add(Mr.group),this._symbolDraw=Mr,this._lineGroup=Dr},Be.prototype.render=function(Dr,Mr,$r){var Br=this,zr=Dr.coordinateSystem,Vr=this.group,jr=Dr.getData(),Gr=Dr.getModel("lineStyle"),Wr=Dr.getModel("areaStyle"),Kr=jr.getLayout("points")||[],Zr=zr.type==="polar",Jr=this._coordSys,rn=this._symbolDraw,nn=this._polyline,ln=this._polygon,cn=this._lineGroup,hn=!Mr.ssr&&Dr.isAnimationEnabled(),mn=!Wr.isEmpty(),bn=Wr.get("origin"),An=prepareDataCoordInfo(zr,jr,bn),vn=mn&&getStackedOnPoints(zr,jr,An),dn=Dr.get("showSymbol"),wn=Dr.get("connectNulls"),xn=dn&&!Zr&&getIsIgnoreFunc(Dr,jr,zr),Mn=this._data;Mn&&Mn.eachItemGraphicEl(function(Pi,Fi){Pi.__temp&&(Vr.remove(Pi),Mn.setItemGraphicEl(Fi,null))}),dn||rn.remove(),Vr.add(cn);var In=Zr?!1:Dr.get("step"),Hn;zr&&zr.getArea&&Dr.get("clip",!0)&&(Hn=zr.getArea(),Hn.width!=null?(Hn.x-=.1,Hn.y-=.1,Hn.width+=.2,Hn.height+=.2):Hn.r0&&(Hn.r0-=.5,Hn.r+=.5)),this._clipShapeForSymbol=Hn;var $n=getVisualGradient(jr,zr,$r)||jr.getVisual("style")[jr.getVisual("drawType")];if(!(nn&&Jr.type===zr.type&&In===this._step))dn&&rn.updateData(jr,{isIgnore:xn,clipShape:Hn,disableAnimation:!0,getSymbolPoint:function(Pi){return[Kr[Pi*2],Kr[Pi*2+1]]}}),hn&&this._initSymbolLabelAnimation(jr,zr,Hn),In&&(Kr=turnPointsIntoStep(Kr,zr,In,wn),vn&&(vn=turnPointsIntoStep(vn,zr,In,wn))),nn=this._newPolyline(Kr),mn?ln=this._newPolygon(Kr,vn):ln&&(cn.remove(ln),ln=this._polygon=null),Zr||this._initOrUpdateEndLabel(Dr,zr,convertToColorString($n)),cn.setClipPath(createLineClipPath(this,zr,!0,Dr));else{mn&&!ln?ln=this._newPolygon(Kr,vn):ln&&!mn&&(cn.remove(ln),ln=this._polygon=null),Zr||this._initOrUpdateEndLabel(Dr,zr,convertToColorString($n));var jn=cn.getClipPath();if(jn){var Bn=createLineClipPath(this,zr,!1,Dr);initProps(jn,{shape:Bn.shape},Dr)}else cn.setClipPath(createLineClipPath(this,zr,!0,Dr));dn&&rn.updateData(jr,{isIgnore:xn,clipShape:Hn,disableAnimation:!0,getSymbolPoint:function(Pi){return[Kr[Pi*2],Kr[Pi*2+1]]}}),(!isPointsSame(this._stackedOnPoints,vn)||!isPointsSame(this._points,Kr))&&(hn?this._doUpdateAnimation(jr,vn,zr,$r,In,bn,wn):(In&&(Kr=turnPointsIntoStep(Kr,zr,In,wn),vn&&(vn=turnPointsIntoStep(vn,zr,In,wn))),nn.setShape({points:Kr}),ln&&ln.setShape({points:Kr,stackedOnPoints:vn})))}var Gn=Dr.getModel("emphasis"),ei=Gn.get("focus"),ri=Gn.get("blurScope"),vi=Gn.get("disabled");if(nn.useStyle(defaults(Gr.getLineStyle(),{fill:"none",stroke:$n,lineJoin:"bevel"})),setStatesStylesFromModel(nn,Dr,"lineStyle"),nn.style.lineWidth>0&&Dr.get(["emphasis","lineStyle","width"])==="bolder"){var wi=nn.getState("emphasis").style;wi.lineWidth=+nn.style.lineWidth+1}getECData(nn).seriesIndex=Dr.seriesIndex,toggleHoverEmphasis(nn,ei,ri,vi);var Ni=getSmooth(Dr.get("smooth")),Yn=Dr.get("smoothMonotone");if(nn.setShape({smooth:Ni,smoothMonotone:Yn,connectNulls:wn}),ln){var Vn=jr.getCalculationInfo("stackedOnSeries"),si=0;ln.useStyle(defaults(Wr.getAreaStyle(),{fill:$n,opacity:.7,lineJoin:"bevel",decal:jr.getVisual("style").decal})),Vn&&(si=getSmooth(Vn.get("smooth"))),ln.setShape({smooth:Ni,stackedOnSmooth:si,smoothMonotone:Yn,connectNulls:wn}),setStatesStylesFromModel(ln,Dr,"areaStyle"),getECData(ln).seriesIndex=Dr.seriesIndex,toggleHoverEmphasis(ln,ei,ri,vi)}var Ri=function(Pi){Br._changePolyState(Pi)};jr.eachItemGraphicEl(function(Pi){Pi&&(Pi.onHoverStateChange=Ri)}),this._polyline.onHoverStateChange=Ri,this._data=jr,this._coordSys=zr,this._stackedOnPoints=vn,this._points=Kr,this._step=In,this._valueOrigin=bn,Dr.get("triggerLineEvent")&&(this.packEventData(Dr,nn),ln&&this.packEventData(Dr,ln))},Be.prototype.packEventData=function(Dr,Mr){getECData(Mr).eventData={componentType:"series",componentSubType:"line",componentIndex:Dr.componentIndex,seriesIndex:Dr.seriesIndex,seriesName:Dr.name,seriesType:"line"}},Be.prototype.highlight=function(Dr,Mr,$r,Br){var zr=Dr.getData(),Vr=queryDataIndex(zr,Br);if(this._changePolyState("emphasis"),!(Vr instanceof Array)&&Vr!=null&&Vr>=0){var jr=zr.getLayout("points"),Gr=zr.getItemGraphicEl(Vr);if(!Gr){var Wr=jr[Vr*2],Kr=jr[Vr*2+1];if(isNaN(Wr)||isNaN(Kr)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(Wr,Kr))return;var Zr=Dr.get("zlevel")||0,Jr=Dr.get("z")||0;Gr=new SymbolClz(zr,Vr),Gr.x=Wr,Gr.y=Kr,Gr.setZ(Zr,Jr);var rn=Gr.getSymbolPath().getTextContent();rn&&(rn.zlevel=Zr,rn.z=Jr,rn.z2=this._polyline.z2+1),Gr.__temp=!0,zr.setItemGraphicEl(Vr,Gr),Gr.stopSymbolAnimation(!0),this.group.add(Gr)}Gr.highlight()}else ChartView$1.prototype.highlight.call(this,Dr,Mr,$r,Br)},Be.prototype.downplay=function(Dr,Mr,$r,Br){var zr=Dr.getData(),Vr=queryDataIndex(zr,Br);if(this._changePolyState("normal"),Vr!=null&&Vr>=0){var jr=zr.getItemGraphicEl(Vr);jr&&(jr.__temp?(zr.setItemGraphicEl(Vr,null),this.group.remove(jr)):jr.downplay())}else ChartView$1.prototype.downplay.call(this,Dr,Mr,$r,Br)},Be.prototype._changePolyState=function(Dr){var Mr=this._polygon;setStatesFlag(this._polyline,Dr),Mr&&setStatesFlag(Mr,Dr)},Be.prototype._newPolyline=function(Dr){var Mr=this._polyline;return Mr&&this._lineGroup.remove(Mr),Mr=new ECPolyline({shape:{points:Dr},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(Mr),this._polyline=Mr,Mr},Be.prototype._newPolygon=function(Dr,Mr){var $r=this._polygon;return $r&&this._lineGroup.remove($r),$r=new ECPolygon({shape:{points:Dr,stackedOnPoints:Mr},segmentIgnoreThreshold:2}),this._lineGroup.add($r),this._polygon=$r,$r},Be.prototype._initSymbolLabelAnimation=function(Dr,Mr,$r){var Br,zr,Vr=Mr.getBaseAxis(),jr=Vr.inverse;Mr.type==="cartesian2d"?(Br=Vr.isHorizontal(),zr=!1):Mr.type==="polar"&&(Br=Vr.dim==="angle",zr=!0);var Gr=Dr.hostModel,Wr=Gr.get("animationDuration");isFunction(Wr)&&(Wr=Wr(null));var Kr=Gr.get("animationDelay")||0,Zr=isFunction(Kr)?Kr(null):Kr;Dr.eachItemGraphicEl(function(Jr,rn){var nn=Jr;if(nn){var ln=[Jr.x,Jr.y],cn=void 0,hn=void 0,mn=void 0;if($r)if(zr){var bn=$r,An=Mr.pointToCoord(ln);Br?(cn=bn.startAngle,hn=bn.endAngle,mn=-An[1]/180*Math.PI):(cn=bn.r0,hn=bn.r,mn=An[0])}else{var vn=$r;Br?(cn=vn.x,hn=vn.x+vn.width,mn=Jr.x):(cn=vn.y+vn.height,hn=vn.y,mn=Jr.y)}var dn=hn===cn?0:(mn-cn)/(hn-cn);jr&&(dn=1-dn);var wn=isFunction(Kr)?Kr(rn):Wr*dn+Zr,xn=nn.getSymbolPath(),Mn=xn.getTextContent();nn.attr({scaleX:0,scaleY:0}),nn.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:wn}),Mn&&Mn.animateFrom({style:{opacity:0}},{duration:300,delay:wn}),xn.disableLabelAnimation=!0}})},Be.prototype._initOrUpdateEndLabel=function(Dr,Mr,$r){var Br=Dr.getModel("endLabel");if(anyStateShowEndLabel(Dr)){var zr=Dr.getData(),Vr=this._polyline,jr=zr.getLayout("points");if(!jr){Vr.removeTextContent(),this._endLabel=null;return}var Gr=this._endLabel;Gr||(Gr=this._endLabel=new ZRText$1({z2:200}),Gr.ignoreClip=!0,Vr.setTextContent(this._endLabel),Vr.disableLabelAnimation=!0);var Wr=getLastIndexNotNull(jr);Wr>=0&&(setLabelStyle(Vr,getLabelStatesModels(Dr,"endLabel"),{inheritColor:$r,labelFetcher:Dr,labelDataIndex:Wr,defaultText:function(Kr,Zr,Jr){return Jr!=null?getDefaultInterpolatedLabel(zr,Jr):getDefaultLabel(zr,Kr)},enableTextSetter:!0},getEndLabelStateSpecified(Br,Mr)),Vr.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},Be.prototype._endLabelOnDuring=function(Dr,Mr,$r,Br,zr,Vr,jr){var Gr=this._endLabel,Wr=this._polyline;if(Gr){Dr<1&&Br.originalX==null&&(Br.originalX=Gr.x,Br.originalY=Gr.y);var Kr=$r.getLayout("points"),Zr=$r.hostModel,Jr=Zr.get("connectNulls"),rn=Vr.get("precision"),nn=Vr.get("distance")||0,ln=jr.getBaseAxis(),cn=ln.isHorizontal(),hn=ln.inverse,mn=Mr.shape,bn=hn?cn?mn.x:mn.y+mn.height:cn?mn.x+mn.width:mn.y,An=(cn?nn:0)*(hn?-1:1),vn=(cn?0:-nn)*(hn?-1:1),dn=cn?"x":"y",wn=getIndexRange(Kr,bn,dn),xn=wn.range,Mn=xn[1]-xn[0],In=void 0;if(Mn>=1){if(Mn>1&&!Jr){var Hn=getPointAtIndex(Kr,xn[0]);Gr.attr({x:Hn[0]+An,y:Hn[1]+vn}),zr&&(In=Zr.getRawValue(xn[0]))}else{var Hn=Wr.getPointOn(bn,dn);Hn&&Gr.attr({x:Hn[0]+An,y:Hn[1]+vn});var $n=Zr.getRawValue(xn[0]),jn=Zr.getRawValue(xn[1]);zr&&(In=interpolateRawValues($r,rn,$n,jn,wn.t))}Br.lastFrameIndex=xn[0]}else{var Bn=Dr===1||Br.lastFrameIndex>0?xn[0]:0,Hn=getPointAtIndex(Kr,Bn);zr&&(In=Zr.getRawValue(Bn)),Gr.attr({x:Hn[0]+An,y:Hn[1]+vn})}if(zr){var Gn=labelInner(Gr);typeof Gn.setLabelText=="function"&&Gn.setLabelText(In)}}},Be.prototype._doUpdateAnimation=function(Dr,Mr,$r,Br,zr,Vr,jr){var Gr=this._polyline,Wr=this._polygon,Kr=Dr.hostModel,Zr=lineAnimationDiff(this._data,Dr,this._stackedOnPoints,Mr,this._coordSys,$r,this._valueOrigin),Jr=Zr.current,rn=Zr.stackedOnCurrent,nn=Zr.next,ln=Zr.stackedOnNext;if(zr&&(Jr=turnPointsIntoStep(Zr.current,$r,zr,jr),rn=turnPointsIntoStep(Zr.stackedOnCurrent,$r,zr,jr),nn=turnPointsIntoStep(Zr.next,$r,zr,jr),ln=turnPointsIntoStep(Zr.stackedOnNext,$r,zr,jr)),getBoundingDiff(Jr,nn)>3e3||Wr&&getBoundingDiff(rn,ln)>3e3){Gr.stopAnimation(),Gr.setShape({points:nn}),Wr&&(Wr.stopAnimation(),Wr.setShape({points:nn,stackedOnPoints:ln}));return}Gr.shape.__points=Zr.current,Gr.shape.points=Jr;var cn={shape:{points:nn}};Zr.current!==Jr&&(cn.shape.__points=Zr.next),Gr.stopAnimation(),updateProps$1(Gr,cn,Kr),Wr&&(Wr.setShape({points:Jr,stackedOnPoints:rn}),Wr.stopAnimation(),updateProps$1(Wr,{shape:{stackedOnPoints:ln}},Kr),Gr.shape.points!==Wr.shape.points&&(Wr.shape.points=Gr.shape.points));for(var hn=[],mn=Zr.status,bn=0;bn<mn.length;bn++){var An=mn[bn].cmd;if(An==="="){var vn=Dr.getItemGraphicEl(mn[bn].idx1);vn&&hn.push({el:vn,ptIdx:bn})}}Gr.animators&&Gr.animators.length&&Gr.animators[0].during(function(){Wr&&Wr.dirtyShape();for(var dn=Gr.shape.__points,wn=0;wn<hn.length;wn++){var xn=hn[wn].el,Mn=hn[wn].ptIdx*2;xn.x=dn[Mn],xn.y=dn[Mn+1],xn.markRedraw()}})},Be.prototype.remove=function(Dr){var Mr=this.group,$r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),$r&&$r.eachItemGraphicEl(function(Br,zr){Br.__temp&&(Mr.remove(Br),$r.setItemGraphicEl(zr,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},Be.type="line",Be}(ChartView$1);const LineView$1=LineView;function pointsLayout(_r,Be){return{seriesType:_r,plan:createRenderPlanner(),reset:function(Dr){var Mr=Dr.getData(),$r=Dr.coordinateSystem,Br=Dr.pipelineContext,zr=Be||Br.large;if($r){var Vr=map$1($r.dimensions,function(Jr){return Mr.mapDimension(Jr)}).slice(0,2),jr=Vr.length,Gr=Mr.getCalculationInfo("stackResultDimension");isDimensionStacked(Mr,Vr[0])&&(Vr[0]=Gr),isDimensionStacked(Mr,Vr[1])&&(Vr[1]=Gr);var Wr=Mr.getStore(),Kr=Mr.getDimensionIndex(Vr[0]),Zr=Mr.getDimensionIndex(Vr[1]);return jr&&{progress:function(Jr,rn){for(var nn=Jr.end-Jr.start,ln=zr&&createFloat32Array(nn*jr),cn=[],hn=[],mn=Jr.start,bn=0;mn<Jr.end;mn++){var An=void 0;if(jr===1){var vn=Wr.get(Kr,mn);An=$r.dataToPoint(vn,null,hn)}else cn[0]=Wr.get(Kr,mn),cn[1]=Wr.get(Zr,mn),An=$r.dataToPoint(cn,null,hn);zr?(ln[bn++]=An[0],ln[bn++]=An[1]):rn.setItemLayout(mn,An.slice())}zr&&rn.setLayout("points",ln)}}}}}}var samplers={average:function(_r){for(var Be=0,Dr=0,Mr=0;Mr<_r.length;Mr++)isNaN(_r[Mr])||(Be+=_r[Mr],Dr++);return Dr===0?NaN:Be/Dr},sum:function(_r){for(var Be=0,Dr=0;Dr<_r.length;Dr++)Be+=_r[Dr]||0;return Be},max:function(_r){for(var Be=-1/0,Dr=0;Dr<_r.length;Dr++)_r[Dr]>Be&&(Be=_r[Dr]);return isFinite(Be)?Be:NaN},min:function(_r){for(var Be=1/0,Dr=0;Dr<_r.length;Dr++)_r[Dr]<Be&&(Be=_r[Dr]);return isFinite(Be)?Be:NaN},nearest:function(_r){return _r[0]}},indexSampler=function(_r){return Math.round(_r.length/2)};function dataSample(_r){return{seriesType:_r,reset:function(Be,Dr,Mr){var $r=Be.getData(),Br=Be.get("sampling"),zr=Be.coordinateSystem,Vr=$r.count();if(Vr>10&&zr.type==="cartesian2d"&&Br){var jr=zr.getBaseAxis(),Gr=zr.getOtherAxis(jr),Wr=jr.getExtent(),Kr=Mr.getDevicePixelRatio(),Zr=Math.abs(Wr[1]-Wr[0])*(Kr||1),Jr=Math.round(Vr/Zr);if(isFinite(Jr)&&Jr>1){Br==="lttb"&&Be.setData($r.lttbDownSample($r.mapDimension(Gr.dim),1/Jr));var rn=void 0;isString(Br)?rn=samplers[Br]:isFunction(Br)&&(rn=Br),rn&&Be.setData($r.downSample($r.mapDimension(Gr.dim),1/Jr,rn,indexSampler))}}}}}function install$Q(_r){_r.registerChartView(LineView$1),_r.registerSeriesModel(LineSeries),_r.registerLayout(pointsLayout("line",!0)),_r.registerVisual({seriesType:"line",reset:function(Be){var Dr=Be.getData(),Mr=Be.getModel("lineStyle").getLineStyle();Mr&&!Mr.stroke&&(Mr.stroke=Dr.getVisual("style").fill),Dr.setVisual("legendLineStyle",Mr)}}),_r.registerProcessor(_r.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.getInitialData=function(Dr,Mr){return createSeriesData(null,this,{useEncodeDefaulter:!0})},Be.prototype.getMarkerPosition=function(Dr,Mr,$r){var Br=this.coordinateSystem;if(Br&&Br.clampData){var zr=Br.clampData(Dr),Vr=Br.dataToPoint(zr);if($r)each$f(Br.getAxes(),function(Zr,Jr){if(Zr.type==="category"&&Mr!=null){var rn=Zr.getTicksCoords(),nn=zr[Jr],ln=Mr[Jr]==="x1"||Mr[Jr]==="y1";if(ln&&(nn+=1),rn.length<2)return;if(rn.length===2){Vr[Jr]=Zr.toGlobalCoord(Zr.getExtent()[ln?1:0]);return}for(var cn=void 0,hn=void 0,mn=1,bn=0;bn<rn.length;bn++){var An=rn[bn].coord,vn=bn===rn.length-1?rn[bn-1].tickValue+mn:rn[bn].tickValue;if(vn===nn){hn=An;break}else if(vn<nn)cn=An;else if(cn!=null&&vn>nn){hn=(An+cn)/2;break}bn===1&&(mn=vn-rn[0].tickValue)}hn==null&&(cn?cn&&(hn=rn[rn.length-1].coord):hn=rn[0].coord),Vr[Jr]=Zr.toGlobalCoord(hn)}});else{var jr=this.getData(),Gr=jr.getLayout("offset"),Wr=jr.getLayout("size"),Kr=Br.getBaseAxis().isHorizontal()?0:1;Vr[Kr]+=Gr+Wr/2}return Vr}return[NaN,NaN]},Be.type="series.__base_bar__",Be.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},Be}(SeriesModel$1);SeriesModel$1.registerClass(BaseBarSeriesModel);const BaseBarSeriesModel$1=BaseBarSeriesModel;var BarSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},Be.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},Be.prototype.getProgressiveThreshold=function(){var Dr=this.get("progressiveThreshold"),Mr=this.get("largeThreshold");return Mr>Dr&&(Dr=Mr),Dr},Be.prototype.brushSelector=function(Dr,Mr,$r){return $r.rect(Mr.getItemLayout(Dr))},Be.type="series.bar",Be.dependencies=["grid","polar"],Be.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),Be}(BaseBarSeriesModel$1);const BarSeries=BarSeriesModel;var SausageShape=function(){function _r(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return _r}(),SausagePath=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="sausage",Mr}return Be.prototype.getDefaultShape=function(){return new SausageShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.cx,Br=Mr.cy,zr=Math.max(Mr.r0||0,0),Vr=Math.max(Mr.r,0),jr=(Vr-zr)*.5,Gr=zr+jr,Wr=Mr.startAngle,Kr=Mr.endAngle,Zr=Mr.clockwise,Jr=Math.PI*2,rn=Zr?Kr-Wr<Jr:Wr-Kr<Jr;rn||(Wr=Kr-(Zr?Jr:-Jr));var nn=Math.cos(Wr),ln=Math.sin(Wr),cn=Math.cos(Kr),hn=Math.sin(Kr);rn?(Dr.moveTo(nn*zr+$r,ln*zr+Br),Dr.arc(nn*Gr+$r,ln*Gr+Br,jr,-Math.PI+Wr,Wr,!Zr)):Dr.moveTo(nn*Vr+$r,ln*Vr+Br),Dr.arc($r,Br,Vr,Wr,Kr,!Zr),Dr.arc(cn*Gr+$r,hn*Gr+Br,jr,Kr-Math.PI*2,Kr-Math.PI,!Zr),zr!==0&&Dr.arc($r,Br,zr,Kr,Wr,Zr)},Be}(Path$1);const Sausage=SausagePath;function createSectorCalculateTextPosition(_r,Be){Be=Be||{};var Dr=Be.isRoundCap;return function(Mr,$r,Br){var zr=$r.position;if(!zr||zr instanceof Array)return calculateTextPosition(Mr,$r,Br);var Vr=_r(zr),jr=$r.distance!=null?$r.distance:5,Gr=this.shape,Wr=Gr.cx,Kr=Gr.cy,Zr=Gr.r,Jr=Gr.r0,rn=(Zr+Jr)/2,nn=Gr.startAngle,ln=Gr.endAngle,cn=(nn+ln)/2,hn=Dr?Math.abs(Zr-Jr)/2:0,mn=Math.cos,bn=Math.sin,An=Wr+Zr*mn(nn),vn=Kr+Zr*bn(nn),dn="left",wn="top";switch(Vr){case"startArc":An=Wr+(Jr-jr)*mn(cn),vn=Kr+(Jr-jr)*bn(cn),dn="center",wn="top";break;case"insideStartArc":An=Wr+(Jr+jr)*mn(cn),vn=Kr+(Jr+jr)*bn(cn),dn="center",wn="bottom";break;case"startAngle":An=Wr+rn*mn(nn)+adjustAngleDistanceX(nn,jr+hn,!1),vn=Kr+rn*bn(nn)+adjustAngleDistanceY(nn,jr+hn,!1),dn="right",wn="middle";break;case"insideStartAngle":An=Wr+rn*mn(nn)+adjustAngleDistanceX(nn,-jr+hn,!1),vn=Kr+rn*bn(nn)+adjustAngleDistanceY(nn,-jr+hn,!1),dn="left",wn="middle";break;case"middle":An=Wr+rn*mn(cn),vn=Kr+rn*bn(cn),dn="center",wn="middle";break;case"endArc":An=Wr+(Zr+jr)*mn(cn),vn=Kr+(Zr+jr)*bn(cn),dn="center",wn="bottom";break;case"insideEndArc":An=Wr+(Zr-jr)*mn(cn),vn=Kr+(Zr-jr)*bn(cn),dn="center",wn="top";break;case"endAngle":An=Wr+rn*mn(ln)+adjustAngleDistanceX(ln,jr+hn,!0),vn=Kr+rn*bn(ln)+adjustAngleDistanceY(ln,jr+hn,!0),dn="left",wn="middle";break;case"insideEndAngle":An=Wr+rn*mn(ln)+adjustAngleDistanceX(ln,-jr+hn,!0),vn=Kr+rn*bn(ln)+adjustAngleDistanceY(ln,-jr+hn,!0),dn="right",wn="middle";break;default:return calculateTextPosition(Mr,$r,Br)}return Mr=Mr||{},Mr.x=An,Mr.y=vn,Mr.align=dn,Mr.verticalAlign=wn,Mr}}function setSectorTextRotation(_r,Be,Dr,Mr){if(isNumber(Mr)){_r.setTextConfig({rotation:Mr});return}else if(isArray$1(Be)){_r.setTextConfig({rotation:0});return}var $r=_r.shape,Br=$r.clockwise?$r.startAngle:$r.endAngle,zr=$r.clockwise?$r.endAngle:$r.startAngle,Vr=(Br+zr)/2,jr,Gr=Dr(Be);switch(Gr){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":jr=Vr;break;case"startAngle":case"insideStartAngle":jr=Br;break;case"endAngle":case"insideEndAngle":jr=zr;break;default:_r.setTextConfig({rotation:0});return}var Wr=Math.PI*1.5-jr;Gr==="middle"&&Wr>Math.PI/2&&Wr<Math.PI*1.5&&(Wr-=Math.PI),_r.setTextConfig({rotation:Wr})}function adjustAngleDistanceX(_r,Be,Dr){return Be*Math.sin(_r)*(Dr?-1:1)}function adjustAngleDistanceY(_r,Be,Dr){return Be*Math.cos(_r)*(Dr?1:-1)}function getSectorCornerRadius(_r,Be,Dr){var Mr=_r.get("borderRadius");if(Mr==null)return Dr?{cornerRadius:0}:null;isArray$1(Mr)||(Mr=[Mr,Mr,Mr,Mr]);var $r=Math.abs(Be.r||0-Be.r0||0);return{cornerRadius:map$1(Mr,function(Br){return parsePercent$1(Br,$r)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(_r,Be){var Dr=_r.getArea&&_r.getArea();if(isCoordinateSystemType(_r,"cartesian2d")){var Mr=_r.getBaseAxis();if(Mr.type!=="category"||!Mr.onBand){var $r=Be.getLayout("bandWidth");Mr.isHorizontal()?(Dr.x-=$r,Dr.width+=$r*2):(Dr.y-=$r,Dr.height+=$r*2)}}return Dr}var BarView=function(_r){__extends(Be,_r);function Be(){var Dr=_r.call(this)||this;return Dr.type=Be.type,Dr._isFirstFrame=!0,Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){this._model=Dr,this._removeOnRenderedListener($r),this._updateDrawMode(Dr);var zr=Dr.get("coordinateSystem");(zr==="cartesian2d"||zr==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(Dr,Mr,$r):this._renderNormal(Dr,Mr,$r,Br))},Be.prototype.incrementalPrepareRender=function(Dr){this._clear(),this._updateDrawMode(Dr),this._updateLargeClip(Dr)},Be.prototype.incrementalRender=function(Dr,Mr){this._progressiveEls=[],this._incrementalRenderLarge(Dr,Mr)},Be.prototype.eachRendered=function(Dr){traverseElements(this._progressiveEls||this.group,Dr)},Be.prototype._updateDrawMode=function(Dr){var Mr=Dr.pipelineContext.large;(this._isLargeDraw==null||Mr!==this._isLargeDraw)&&(this._isLargeDraw=Mr,this._clear())},Be.prototype._renderNormal=function(Dr,Mr,$r,Br){var zr=this.group,Vr=Dr.getData(),jr=this._data,Gr=Dr.coordinateSystem,Wr=Gr.getBaseAxis(),Kr;Gr.type==="cartesian2d"?Kr=Wr.isHorizontal():Gr.type==="polar"&&(Kr=Wr.dim==="angle");var Zr=Dr.isAnimationEnabled()?Dr:null,Jr=shouldRealtimeSort(Dr,Gr);Jr&&this._enableRealtimeSort(Jr,Vr,$r);var rn=Dr.get("clip",!0)||Jr,nn=getClipArea(Gr,Vr);zr.removeClipPath();var ln=Dr.get("roundCap",!0),cn=Dr.get("showBackground",!0),hn=Dr.getModel("backgroundStyle"),mn=hn.get("borderRadius")||0,bn=[],An=this._backgroundEls,vn=Br&&Br.isInitSort,dn=Br&&Br.type==="changeAxisOrder";function wn(In){var Hn=getLayout[Gr.type](Vr,In),$n=createBackgroundEl(Gr,Kr,Hn);return $n.useStyle(hn.getItemStyle()),Gr.type==="cartesian2d"?$n.setShape("r",mn):$n.setShape("cornerRadius",mn),bn[In]=$n,$n}Vr.diff(jr).add(function(In){var Hn=Vr.getItemModel(In),$n=getLayout[Gr.type](Vr,In,Hn);if(cn&&wn(In),!(!Vr.hasValue(In)||!isValidLayout[Gr.type]($n))){var jn=!1;rn&&(jn=clip[Gr.type](nn,$n));var Bn=elementCreator[Gr.type](Dr,Vr,In,$n,Kr,Zr,Wr.model,!1,ln);Jr&&(Bn.forceLabelAnimation=!0),updateStyle(Bn,Vr,In,Hn,$n,Dr,Kr,Gr.type==="polar"),vn?Bn.attr({shape:$n}):Jr?updateRealtimeAnimation(Jr,Zr,Bn,$n,In,Kr,!1,!1):initProps(Bn,{shape:$n},Dr,In),Vr.setItemGraphicEl(In,Bn),zr.add(Bn),Bn.ignore=jn}}).update(function(In,Hn){var $n=Vr.getItemModel(In),jn=getLayout[Gr.type](Vr,In,$n);if(cn){var Bn=void 0;An.length===0?Bn=wn(Hn):(Bn=An[Hn],Bn.useStyle(hn.getItemStyle()),Gr.type==="cartesian2d"?Bn.setShape("r",mn):Bn.setShape("cornerRadius",mn),bn[In]=Bn);var Gn=getLayout[Gr.type](Vr,In),ei=createBackgroundShape(Kr,Gn,Gr);updateProps$1(Bn,{shape:ei},Zr,In)}var ri=jr.getItemGraphicEl(Hn);if(!Vr.hasValue(In)||!isValidLayout[Gr.type](jn)){zr.remove(ri);return}var vi=!1;if(rn&&(vi=clip[Gr.type](nn,jn),vi&&zr.remove(ri)),ri?saveOldStyle(ri):ri=elementCreator[Gr.type](Dr,Vr,In,jn,Kr,Zr,Wr.model,!!ri,ln),Jr&&(ri.forceLabelAnimation=!0),dn){var wi=ri.getTextContent();if(wi){var Ni=labelInner(wi);Ni.prevValue!=null&&(Ni.prevValue=Ni.value)}}else updateStyle(ri,Vr,In,$n,jn,Dr,Kr,Gr.type==="polar");vn?ri.attr({shape:jn}):Jr?updateRealtimeAnimation(Jr,Zr,ri,jn,In,Kr,!0,dn):updateProps$1(ri,{shape:jn},Dr,In,null),Vr.setItemGraphicEl(In,ri),ri.ignore=vi,zr.add(ri)}).remove(function(In){var Hn=jr.getItemGraphicEl(In);Hn&&removeElementWithFadeOut(Hn,Dr,In)}).execute();var xn=this._backgroundGroup||(this._backgroundGroup=new Group$4);xn.removeAll();for(var Mn=0;Mn<bn.length;++Mn)xn.add(bn[Mn]);zr.add(xn),this._backgroundEls=bn,this._data=Vr},Be.prototype._renderLarge=function(Dr,Mr,$r){this._clear(),createLarge$1(Dr,this.group),this._updateLargeClip(Dr)},Be.prototype._incrementalRenderLarge=function(Dr,Mr){this._removeBackground(),createLarge$1(Mr,this.group,this._progressiveEls,!0)},Be.prototype._updateLargeClip=function(Dr){var Mr=Dr.get("clip",!0)&&createClipPath(Dr.coordinateSystem,!1,Dr),$r=this.group;Mr?$r.setClipPath(Mr):$r.removeClipPath()},Be.prototype._enableRealtimeSort=function(Dr,Mr,$r){var Br=this;if(Mr.count()){var zr=Dr.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(Mr,Dr,$r),this._isFirstFrame=!1;else{var Vr=function(jr){var Gr=Mr.getItemGraphicEl(jr),Wr=Gr&&Gr.shape;return Wr&&Math.abs(zr.isHorizontal()?Wr.height:Wr.width)||0};this._onRendered=function(){Br._updateSortWithinSameData(Mr,Vr,zr,$r)},$r.getZr().on("rendered",this._onRendered)}}},Be.prototype._dataSort=function(Dr,Mr,$r){var Br=[];return Dr.each(Dr.mapDimension(Mr.dim),function(zr,Vr){var jr=$r(Vr);jr=jr??NaN,Br.push({dataIndex:Vr,mappedValue:jr,ordinalNumber:zr})}),Br.sort(function(zr,Vr){return Vr.mappedValue-zr.mappedValue}),{ordinalNumbers:map$1(Br,function(zr){return zr.ordinalNumber})}},Be.prototype._isOrderChangedWithinSameData=function(Dr,Mr,$r){for(var Br=$r.scale,zr=Dr.mapDimension($r.dim),Vr=Number.MAX_VALUE,jr=0,Gr=Br.getOrdinalMeta().categories.length;jr<Gr;++jr){var Wr=Dr.rawIndexOf(zr,Br.getRawOrdinalNumber(jr)),Kr=Wr<0?Number.MIN_VALUE:Mr(Dr.indexOfRawIndex(Wr));if(Kr>Vr)return!0;Vr=Kr}return!1},Be.prototype._isOrderDifferentInView=function(Dr,Mr){for(var $r=Mr.scale,Br=$r.getExtent(),zr=Math.max(0,Br[0]),Vr=Math.min(Br[1],$r.getOrdinalMeta().categories.length-1);zr<=Vr;++zr)if(Dr.ordinalNumbers[zr]!==$r.getRawOrdinalNumber(zr))return!0},Be.prototype._updateSortWithinSameData=function(Dr,Mr,$r,Br){if(this._isOrderChangedWithinSameData(Dr,Mr,$r)){var zr=this._dataSort(Dr,$r,Mr);this._isOrderDifferentInView(zr,$r)&&(this._removeOnRenderedListener(Br),Br.dispatchAction({type:"changeAxisOrder",componentType:$r.dim+"Axis",axisId:$r.index,sortInfo:zr}))}},Be.prototype._dispatchInitSort=function(Dr,Mr,$r){var Br=Mr.baseAxis,zr=this._dataSort(Dr,Br,function(Vr){return Dr.get(Dr.mapDimension(Mr.otherAxis.dim),Vr)});$r.dispatchAction({type:"changeAxisOrder",componentType:Br.dim+"Axis",isInitSort:!0,axisId:Br.index,sortInfo:zr})},Be.prototype.remove=function(Dr,Mr){this._clear(this._model),this._removeOnRenderedListener(Mr)},Be.prototype.dispose=function(Dr,Mr){this._removeOnRenderedListener(Mr)},Be.prototype._removeOnRenderedListener=function(Dr){this._onRendered&&(Dr.getZr().off("rendered",this._onRendered),this._onRendered=null)},Be.prototype._clear=function(Dr){var Mr=this.group,$r=this._data;Dr&&Dr.isAnimationEnabled()&&$r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],$r.eachItemGraphicEl(function(Br){removeElementWithFadeOut(Br,Dr,getECData(Br).dataIndex)})):Mr.removeAll(),this._data=null,this._isFirstFrame=!0},Be.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},Be.type="bar",Be}(ChartView$1),clip={cartesian2d:function(_r,Be){var Dr=Be.width<0?-1:1,Mr=Be.height<0?-1:1;Dr<0&&(Be.x+=Be.width,Be.width=-Be.width),Mr<0&&(Be.y+=Be.height,Be.height=-Be.height);var $r=_r.x+_r.width,Br=_r.y+_r.height,zr=mathMax$4(Be.x,_r.x),Vr=mathMin$4(Be.x+Be.width,$r),jr=mathMax$4(Be.y,_r.y),Gr=mathMin$4(Be.y+Be.height,Br),Wr=Vr<zr,Kr=Gr<jr;return Be.x=Wr&&zr>$r?Vr:zr,Be.y=Kr&&jr>Br?Gr:jr,Be.width=Wr?0:Vr-zr,Be.height=Kr?0:Gr-jr,Dr<0&&(Be.x+=Be.width,Be.width=-Be.width),Mr<0&&(Be.y+=Be.height,Be.height=-Be.height),Wr||Kr},polar:function(_r,Be){var Dr=Be.r0<=Be.r?1:-1;if(Dr<0){var Mr=Be.r;Be.r=Be.r0,Be.r0=Mr}var $r=mathMin$4(Be.r,_r.r),Br=mathMax$4(Be.r0,_r.r0);Be.r=$r,Be.r0=Br;var zr=$r-Br<0;if(Dr<0){var Mr=Be.r;Be.r=Be.r0,Be.r0=Mr}return zr}},elementCreator={cartesian2d:function(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){var Gr=new Rect$3({shape:extend$1({},Mr),z2:1});if(Gr.__dataIndex=Dr,Gr.name="item",Br){var Wr=Gr.shape,Kr=$r?"height":"width";Wr[Kr]=0}return Gr},polar:function(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){var Gr=!$r&&jr?Sausage:Sector$1,Wr=new Gr({shape:Mr,z2:1});Wr.name="item";var Kr=createPolarPositionMapping($r);if(Wr.calculateTextPosition=createSectorCalculateTextPosition(Kr,{isRoundCap:Gr===Sausage}),Br){var Zr=Wr.shape,Jr=$r?"r":"endAngle",rn={};Zr[Jr]=$r?Mr.r0:Mr.startAngle,rn[Jr]=Mr[Jr],(Vr?updateProps$1:initProps)(Wr,{shape:rn},Br)}return Wr}};function shouldRealtimeSort(_r,Be){var Dr=_r.get("realtimeSort",!0),Mr=Be.getBaseAxis();if(Dr&&Mr.type==="category"&&Be.type==="cartesian2d")return{baseAxis:Mr,otherAxis:Be.getOtherAxis(Mr)}}function updateRealtimeAnimation(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr,Gr;Br?(Gr={x:Mr.x,width:Mr.width},jr={y:Mr.y,height:Mr.height}):(Gr={y:Mr.y,height:Mr.height},jr={x:Mr.x,width:Mr.width}),Vr||(zr?updateProps$1:initProps)(Dr,{shape:jr},Be,$r,null);var Wr=Be?_r.baseAxis.model:null;(zr?updateProps$1:initProps)(Dr,{shape:Gr},Wr,$r)}function checkPropertiesNotValid(_r,Be){for(var Dr=0;Dr<Be.length;Dr++)if(!isFinite(_r[Be[Dr]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(_r){return!checkPropertiesNotValid(_r,rectPropties)},polar:function(_r){return!checkPropertiesNotValid(_r,polarPropties)}},getLayout={cartesian2d:function(_r,Be,Dr){var Mr=_r.getItemLayout(Be),$r=Dr?getLineWidth(Dr,Mr):0,Br=Mr.width>0?1:-1,zr=Mr.height>0?1:-1;return{x:Mr.x+Br*$r/2,y:Mr.y+zr*$r/2,width:Mr.width-Br*$r,height:Mr.height-zr*$r}},polar:function(_r,Be,Dr){var Mr=_r.getItemLayout(Be);return{cx:Mr.cx,cy:Mr.cy,r0:Mr.r0,r:Mr.r,startAngle:Mr.startAngle,endAngle:Mr.endAngle,clockwise:Mr.clockwise}}};function isZeroOnPolar(_r){return _r.startAngle!=null&&_r.endAngle!=null&&_r.startAngle===_r.endAngle}function createPolarPositionMapping(_r){return function(Be){var Dr=Be?"Arc":"Angle";return function(Mr){switch(Mr){case"start":case"insideStart":case"end":case"insideEnd":return Mr+Dr;default:return Mr}}}(_r)}function updateStyle(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr=Be.getItemVisual(Dr,"style");if(Vr){if(!Br.get("roundCap")){var Wr=_r.shape,Kr=getSectorCornerRadius(Mr.getModel("itemStyle"),Wr,!0);extend$1(Wr,Kr),_r.setShape(Wr)}}else{var Gr=Mr.get(["itemStyle","borderRadius"])||0;_r.setShape("r",Gr)}_r.useStyle(jr);var Zr=Mr.getShallow("cursor");Zr&&_r.attr("cursor",Zr);var Jr=Vr?zr?$r.r>=$r.r0?"endArc":"startArc":$r.endAngle>=$r.startAngle?"endAngle":"startAngle":zr?$r.height>=0?"bottom":"top":$r.width>=0?"right":"left",rn=getLabelStatesModels(Mr);setLabelStyle(_r,rn,{labelFetcher:Br,labelDataIndex:Dr,defaultText:getDefaultLabel(Br.getData(),Dr),inheritColor:jr.fill,defaultOpacity:jr.opacity,defaultOutsidePosition:Jr});var nn=_r.getTextContent();if(Vr&&nn){var ln=Mr.get(["label","position"]);_r.textConfig.inside=ln==="middle"?!0:null,setSectorTextRotation(_r,ln==="outside"?Jr:ln,createPolarPositionMapping(zr),Mr.get(["label","rotate"]))}setLabelValueAnimation(nn,rn,Br.getRawValue(Dr),function(hn){return getDefaultInterpolatedLabel(Be,hn)});var cn=Mr.getModel(["emphasis"]);toggleHoverEmphasis(_r,cn.get("focus"),cn.get("blurScope"),cn.get("disabled")),setStatesStylesFromModel(_r,Mr),isZeroOnPolar($r)&&(_r.style.fill="none",_r.style.stroke="none",each$f(_r.states,function(hn){hn.style&&(hn.style.fill=hn.style.stroke="none")}))}function getLineWidth(_r,Be){var Dr=_r.get(["itemStyle","borderColor"]);if(!Dr||Dr==="none")return 0;var Mr=_r.get(["itemStyle","borderWidth"])||0,$r=isNaN(Be.width)?Number.MAX_VALUE:Math.abs(Be.width),Br=isNaN(Be.height)?Number.MAX_VALUE:Math.abs(Be.height);return Math.min(Mr,$r,Br)}var LagePathShape=function(){function _r(){}return _r}(),LargePath=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="largeBar",Mr}return Be.prototype.getDefaultShape=function(){return new LagePathShape},Be.prototype.buildPath=function(Dr,Mr){for(var $r=Mr.points,Br=this.baseDimIdx,zr=1-this.baseDimIdx,Vr=[],jr=[],Gr=this.barWidth,Wr=0;Wr<$r.length;Wr+=3)jr[Br]=Gr,jr[zr]=$r[Wr+2],Vr[Br]=$r[Wr+Br],Vr[zr]=$r[Wr+zr],Dr.rect(Vr[0],Vr[1],jr[0],jr[1])},Be}(Path$1);function createLarge$1(_r,Be,Dr,Mr){var $r=_r.getData(),Br=$r.getLayout("valueAxisHorizontal")?1:0,zr=$r.getLayout("largeDataIndices"),Vr=$r.getLayout("size"),jr=_r.getModel("backgroundStyle"),Gr=$r.getLayout("largeBackgroundPoints");if(Gr){var Wr=new LargePath({shape:{points:Gr},incremental:!!Mr,silent:!0,z2:0});Wr.baseDimIdx=Br,Wr.largeDataIndices=zr,Wr.barWidth=Vr,Wr.useStyle(jr.getItemStyle()),Be.add(Wr),Dr&&Dr.push(Wr)}var Kr=new LargePath({shape:{points:$r.getLayout("largePoints")},incremental:!!Mr,ignoreCoarsePointer:!0,z2:1});Kr.baseDimIdx=Br,Kr.largeDataIndices=zr,Kr.barWidth=Vr,Be.add(Kr),Kr.useStyle($r.getVisual("style")),getECData(Kr).seriesIndex=_r.seriesIndex,_r.get("silent")||(Kr.on("mousedown",largePathUpdateDataIndex),Kr.on("mousemove",largePathUpdateDataIndex)),Dr&&Dr.push(Kr)}var largePathUpdateDataIndex=throttle(function(_r){var Be=this,Dr=largePathFindDataIndex(Be,_r.offsetX,_r.offsetY);getECData(Be).dataIndex=Dr>=0?Dr:null},30,!1);function largePathFindDataIndex(_r,Be,Dr){for(var Mr=_r.baseDimIdx,$r=1-Mr,Br=_r.shape.points,zr=_r.largeDataIndices,Vr=[],jr=[],Gr=_r.barWidth,Wr=0,Kr=Br.length/3;Wr<Kr;Wr++){var Zr=Wr*3;if(jr[Mr]=Gr,jr[$r]=Br[Zr+2],Vr[Mr]=Br[Zr+Mr],Vr[$r]=Br[Zr+$r],jr[$r]<0&&(Vr[$r]+=jr[$r],jr[$r]=-jr[$r]),Be>=Vr[0]&&Be<=Vr[0]+jr[0]&&Dr>=Vr[1]&&Dr<=Vr[1]+jr[1])return zr[Wr]}return-1}function createBackgroundShape(_r,Be,Dr){if(isCoordinateSystemType(Dr,"cartesian2d")){var Mr=Be,$r=Dr.getArea();return{x:_r?Mr.x:$r.x,y:_r?$r.y:Mr.y,width:_r?Mr.width:$r.width,height:_r?$r.height:Mr.height}}else{var $r=Dr.getArea(),Br=Be;return{cx:$r.cx,cy:$r.cy,r0:_r?$r.r0:Br.r0,r:_r?$r.r:Br.r,startAngle:_r?Br.startAngle:0,endAngle:_r?Br.endAngle:Math.PI*2}}}function createBackgroundEl(_r,Be,Dr){var Mr=_r.type==="polar"?Sector$1:Rect$3;return new Mr({shape:createBackgroundShape(Be,Dr,_r),silent:!0,z2:0})}const BarView$1=BarView;function install$P(_r){_r.registerChartView(BarView$1),_r.registerSeriesModel(BarSeries),_r.registerLayout(_r.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),_r.registerLayout(_r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),_r.registerProcessor(_r.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),_r.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(Be,Dr){var Mr=Be.componentType||"series";Dr.eachComponent({mainType:Mr,query:Be},function($r){Be.sortInfo&&$r.axis.setCategorySortInfo(Be.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(_r,Be){return getLayoutRect(_r.getBoxLayoutParams(),{width:Be.getWidth(),height:Be.getHeight()})}function getBasicPieLayout(_r,Be){var Dr=getViewRect$5(_r,Be),Mr=_r.get("center"),$r=_r.get("radius");isArray$1($r)||($r=[0,$r]);var Br=parsePercent(Dr.width,Be.getWidth()),zr=parsePercent(Dr.height,Be.getHeight()),Vr=Math.min(Br,zr),jr=parsePercent($r[0],Vr/2),Gr=parsePercent($r[1],Vr/2),Wr,Kr,Zr=_r.coordinateSystem;if(Zr){var Jr=Zr.dataToPoint(Mr);Wr=Jr[0]||0,Kr=Jr[1]||0}else isArray$1(Mr)||(Mr=[Mr,Mr]),Wr=parsePercent(Mr[0],Br)+Dr.x,Kr=parsePercent(Mr[1],zr)+Dr.y;return{cx:Wr,cy:Kr,r0:jr,r:Gr}}function pieLayout(_r,Be,Dr){Be.eachSeriesByType(_r,function(Mr){var $r=Mr.getData(),Br=$r.mapDimension("value"),zr=getViewRect$5(Mr,Dr),Vr=getBasicPieLayout(Mr,Dr),jr=Vr.cx,Gr=Vr.cy,Wr=Vr.r,Kr=Vr.r0,Zr=-Mr.get("startAngle")*RADIAN$2,Jr=Mr.get("minAngle")*RADIAN$2,rn=0;$r.each(Br,function(Mn){!isNaN(Mn)&&rn++});var nn=$r.getSum(Br),ln=Math.PI/(nn||rn)*2,cn=Mr.get("clockwise"),hn=Mr.get("roseType"),mn=Mr.get("stillShowZeroSum"),bn=$r.getDataExtent(Br);bn[0]=0;var An=PI2,vn=0,dn=Zr,wn=cn?1:-1;if($r.setLayout({viewRect:zr,r:Wr}),$r.each(Br,function(Mn,In){var Hn;if(isNaN(Mn)){$r.setItemLayout(In,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:cn,cx:jr,cy:Gr,r0:Kr,r:hn?NaN:Wr});return}hn!=="area"?Hn=nn===0&&mn?ln:Mn*ln:Hn=PI2/rn,Hn<Jr?(Hn=Jr,An-=Jr):vn+=Mn;var $n=dn+wn*Hn;$r.setItemLayout(In,{angle:Hn,startAngle:dn,endAngle:$n,clockwise:cn,cx:jr,cy:Gr,r0:Kr,r:hn?linearMap$2(Mn,bn,[Kr,Wr]):Wr}),dn=$n}),An<PI2&&rn)if(An<=.001){var xn=PI2/rn;$r.each(Br,function(Mn,In){if(!isNaN(Mn)){var Hn=$r.getItemLayout(In);Hn.angle=xn,Hn.startAngle=Zr+wn*In*xn,Hn.endAngle=Zr+wn*(In+1)*xn}})}else ln=An/vn,dn=Zr,$r.each(Br,function(Mn,In){if(!isNaN(Mn)){var Hn=$r.getItemLayout(In),$n=Hn.angle===Jr?Jr:Mn*ln;Hn.startAngle=dn,Hn.endAngle=dn+wn*$n,dn+=wn*$n}})})}function dataFilter$1(_r){return{seriesType:_r,reset:function(Be,Dr){var Mr=Dr.findComponents({mainType:"legend"});if(!(!Mr||!Mr.length)){var $r=Be.getData();$r.filterSelf(function(Br){for(var zr=$r.getName(Br),Vr=0;Vr<Mr.length;Vr++)if(!Mr[Vr].isSelected(zr))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr){if(_r.length<2)return;function Wr(nn){for(var ln=nn.rB,cn=ln*ln,hn=0;hn<nn.list.length;hn++){var mn=nn.list[hn],bn=Math.abs(mn.label.y-Dr),An=Mr+mn.len,vn=An*An,dn=Math.sqrt((1-Math.abs(bn*bn/cn))*vn),wn=Be+(dn+mn.len2)*$r,xn=wn-mn.label.x,Mn=mn.targetTextWidth-xn*$r;constrainTextWidth(mn,Mn,!0),mn.label.x=wn}}function Kr(nn){for(var ln={list:[],maxY:0},cn={list:[],maxY:0},hn=0;hn<nn.length;hn++)if(nn[hn].labelAlignTo==="none"){var mn=nn[hn],bn=mn.label.y>Dr?cn:ln,An=Math.abs(mn.label.y-Dr);if(An>=bn.maxY){var vn=mn.label.x-Be-mn.len2*$r,dn=Mr+mn.len,wn=Math.abs(vn)<dn?Math.sqrt(An*An/(1-vn*vn/dn/dn)):dn;bn.rB=wn,bn.maxY=An}bn.list.push(mn)}Wr(ln),Wr(cn)}for(var Zr=_r.length,Jr=0;Jr<Zr;Jr++)if(_r[Jr].position==="outer"&&_r[Jr].labelAlignTo==="labelLine"){var rn=_r[Jr].label.x-Gr;_r[Jr].linePoints[1][0]+=rn,_r[Jr].label.x=Gr}shiftLayoutOnY(_r,jr,jr+zr)&&Kr(_r)}function avoidOverlap(_r,Be,Dr,Mr,$r,Br,zr,Vr){for(var jr=[],Gr=[],Wr=Number.MAX_VALUE,Kr=-Number.MAX_VALUE,Zr=0;Zr<_r.length;Zr++){var Jr=_r[Zr].label;isPositionCenter(_r[Zr])||(Jr.x<Be?(Wr=Math.min(Wr,Jr.x),jr.push(_r[Zr])):(Kr=Math.max(Kr,Jr.x),Gr.push(_r[Zr])))}for(var Zr=0;Zr<_r.length;Zr++){var rn=_r[Zr];if(!isPositionCenter(rn)&&rn.linePoints){if(rn.labelStyleWidth!=null)continue;var Jr=rn.label,nn=rn.linePoints,ln=void 0;rn.labelAlignTo==="edge"?Jr.x<Be?ln=nn[2][0]-rn.labelDistance-zr-rn.edgeDistance:ln=zr+$r-rn.edgeDistance-nn[2][0]-rn.labelDistance:rn.labelAlignTo==="labelLine"?Jr.x<Be?ln=Wr-zr-rn.bleedMargin:ln=zr+$r-Kr-rn.bleedMargin:Jr.x<Be?ln=Jr.x-zr-rn.bleedMargin:ln=zr+$r-Jr.x-rn.bleedMargin,rn.targetTextWidth=ln,constrainTextWidth(rn,ln)}}adjustSingleSide(Gr,Be,Dr,Mr,1,$r,Br,zr,Vr,Kr),adjustSingleSide(jr,Be,Dr,Mr,-1,$r,Br,zr,Vr,Wr);for(var Zr=0;Zr<_r.length;Zr++){var rn=_r[Zr];if(!isPositionCenter(rn)&&rn.linePoints){var Jr=rn.label,nn=rn.linePoints,cn=rn.labelAlignTo==="edge",hn=Jr.style.padding,mn=hn?hn[1]+hn[3]:0,bn=Jr.style.backgroundColor?0:mn,An=rn.rect.width+bn,vn=nn[1][0]-nn[2][0];cn?Jr.x<Be?nn[2][0]=zr+rn.edgeDistance+An+rn.labelDistance:nn[2][0]=zr+$r-rn.edgeDistance-An-rn.labelDistance:(Jr.x<Be?nn[2][0]=Jr.x+rn.labelDistance:nn[2][0]=Jr.x-rn.labelDistance,nn[1][0]=nn[2][0]+vn),nn[1][1]=nn[2][1]=Jr.y}}}function constrainTextWidth(_r,Be,Dr){if(Dr===void 0&&(Dr=!1),_r.labelStyleWidth==null){var Mr=_r.label,$r=Mr.style,Br=_r.rect,zr=$r.backgroundColor,Vr=$r.padding,jr=Vr?Vr[1]+Vr[3]:0,Gr=$r.overflow,Wr=Br.width+(zr?0:jr);if(Be<Wr||Dr){var Kr=Br.height;if(Gr&&Gr.match("break")){Mr.setStyle("backgroundColor",null),Mr.setStyle("width",Be-jr);var Zr=Mr.getBoundingRect();Mr.setStyle("width",Math.ceil(Zr.width)),Mr.setStyle("backgroundColor",zr)}else{var Jr=Be-jr,rn=Be<Wr?Jr:Dr?Jr>_r.unconstrainedWidth?null:Jr:null;Mr.setStyle("width",rn)}var nn=Mr.getBoundingRect();Br.width=nn.width;var ln=(Mr.style.margin||0)+2.1;Br.height=nn.height+ln,Br.y-=(Br.height-Kr)/2}}}function isPositionCenter(_r){return _r.position==="center"}function pieLabelLayout(_r){var Be=_r.getData(),Dr=[],Mr,$r,Br=!1,zr=(_r.get("minShowLabelAngle")||0)*RADIAN$1,Vr=Be.getLayout("viewRect"),jr=Be.getLayout("r"),Gr=Vr.width,Wr=Vr.x,Kr=Vr.y,Zr=Vr.height;function Jr(vn){vn.ignore=!0}function rn(vn){if(!vn.ignore)return!0;for(var dn in vn.states)if(vn.states[dn].ignore===!1)return!0;return!1}Be.each(function(vn){var dn=Be.getItemGraphicEl(vn),wn=dn.shape,xn=dn.getTextContent(),Mn=dn.getTextGuideLine(),In=Be.getItemModel(vn),Hn=In.getModel("label"),$n=Hn.get("position")||In.get(["emphasis","label","position"]),jn=Hn.get("distanceToLabelLine"),Bn=Hn.get("alignTo"),Gn=parsePercent(Hn.get("edgeDistance"),Gr),ei=Hn.get("bleedMargin"),ri=In.getModel("labelLine"),vi=ri.get("length");vi=parsePercent(vi,Gr);var wi=ri.get("length2");if(wi=parsePercent(wi,Gr),Math.abs(wn.endAngle-wn.startAngle)<zr){each$f(xn.states,Jr),xn.ignore=!0,Mn&&(each$f(Mn.states,Jr),Mn.ignore=!0);return}if(rn(xn)){var Ni=(wn.startAngle+wn.endAngle)/2,Yn=Math.cos(Ni),Vn=Math.sin(Ni),si,Ri,Pi,Fi;Mr=wn.cx,$r=wn.cy;var zi=$n==="inside"||$n==="inner";if($n==="center")si=wn.cx,Ri=wn.cy,Fi="center";else{var oo=(zi?(wn.r+wn.r0)/2*Yn:wn.r*Yn)+Mr,lo=(zi?(wn.r+wn.r0)/2*Vn:wn.r*Vn)+$r;if(si=oo+Yn*3,Ri=lo+Vn*3,!zi){var io=oo+Yn*(vi+jr-wn.r),Wi=lo+Vn*(vi+jr-wn.r),Bo=io+(Yn<0?-1:1)*wi,Mo=Wi;Bn==="edge"?si=Yn<0?Wr+Gn:Wr+Gr-Gn:si=Bo+(Yn<0?-jn:jn),Ri=Mo,Pi=[[oo,lo],[io,Wi],[Bo,Mo]]}Fi=zi?"center":Bn==="edge"?Yn>0?"right":"left":Yn>0?"left":"right"}var Zi=Math.PI,Zo=0,Wo=Hn.get("rotate");if(isNumber(Wo))Zo=Wo*(Zi/180);else if($n==="center")Zo=0;else if(Wo==="radial"||Wo===!0){var Ao=Yn<0?-Ni+Zi:-Ni;Zo=Ao}else if(Wo==="tangential"&&$n!=="outside"&&$n!=="outer"){var ba=Math.atan2(Yn,Vn);ba<0&&(ba=Zi*2+ba);var Va=Vn>0;Va&&(ba=Zi+ba),Zo=ba-Zi}if(Br=!!Zo,xn.x=si,xn.y=Ri,xn.rotation=Zo,xn.setStyle({verticalAlign:"middle"}),zi){xn.setStyle({align:Fi});var ka=xn.states.select;ka&&(ka.x+=xn.x,ka.y+=xn.y)}else{var Ia=xn.getBoundingRect().clone();Ia.applyTransform(xn.getComputedTransform());var Ua=(xn.style.margin||0)+2.1;Ia.y-=Ua/2,Ia.height+=Ua,Dr.push({label:xn,labelLine:Mn,position:$n,len:vi,len2:wi,minTurnAngle:ri.get("minTurnAngle"),maxSurfaceAngle:ri.get("maxSurfaceAngle"),surfaceNormal:new Point$1(Yn,Vn),linePoints:Pi,textAlign:Fi,labelDistance:jn,labelAlignTo:Bn,edgeDistance:Gn,bleedMargin:ei,rect:Ia,unconstrainedWidth:Ia.width,labelStyleWidth:xn.style.width})}dn.setTextConfig({inside:zi})}}),!Br&&_r.get("avoidLabelOverlap")&&avoidOverlap(Dr,Mr,$r,jr,Gr,Zr,Wr,Kr);for(var nn=0;nn<Dr.length;nn++){var ln=Dr[nn],cn=ln.label,hn=ln.labelLine,mn=isNaN(cn.x)||isNaN(cn.y);if(cn){cn.setStyle({align:ln.textAlign}),mn&&(each$f(cn.states,Jr),cn.ignore=!0);var bn=cn.states.select;bn&&(bn.x+=cn.x,bn.y+=cn.y)}if(hn){var An=ln.linePoints;mn||!An?(each$f(hn.states,Jr),hn.ignore=!0):(limitTurnAngle(An,ln.minTurnAngle),limitSurfaceAngle(An,ln.surfaceNormal,ln.maxSurfaceAngle),hn.setShape({points:An}),cn.__hostTarget.textGuideLineConfig={anchor:new Point$1(An[0][0],An[0][1])})}}}var PiePiece=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this)||this;Br.z2=2;var zr=new ZRText$1;return Br.setTextContent(zr),Br.updateData(Dr,Mr,$r,!0),Br}return Be.prototype.updateData=function(Dr,Mr,$r,Br){var zr=this,Vr=Dr.hostModel,jr=Dr.getItemModel(Mr),Gr=jr.getModel("emphasis"),Wr=Dr.getItemLayout(Mr),Kr=extend$1(getSectorCornerRadius(jr.getModel("itemStyle"),Wr,!0),Wr);if(isNaN(Kr.startAngle)){zr.setShape(Kr);return}if(Br){zr.setShape(Kr);var Zr=Vr.getShallow("animationType");Vr.ecModel.ssr?(initProps(zr,{scaleX:0,scaleY:0},Vr,{dataIndex:Mr,isFrom:!0}),zr.originX=Kr.cx,zr.originY=Kr.cy):Zr==="scale"?(zr.shape.r=Wr.r0,initProps(zr,{shape:{r:Wr.r}},Vr,Mr)):$r!=null?(zr.setShape({startAngle:$r,endAngle:$r}),initProps(zr,{shape:{startAngle:Wr.startAngle,endAngle:Wr.endAngle}},Vr,Mr)):(zr.shape.endAngle=Wr.startAngle,updateProps$1(zr,{shape:{endAngle:Wr.endAngle}},Vr,Mr))}else saveOldStyle(zr),updateProps$1(zr,{shape:Kr},Vr,Mr);zr.useStyle(Dr.getItemVisual(Mr,"style")),setStatesStylesFromModel(zr,jr);var Jr=(Wr.startAngle+Wr.endAngle)/2,rn=Vr.get("selectedOffset"),nn=Math.cos(Jr)*rn,ln=Math.sin(Jr)*rn,cn=jr.getShallow("cursor");cn&&zr.attr("cursor",cn),this._updateLabel(Vr,Dr,Mr),zr.ensureState("emphasis").shape=extend$1({r:Wr.r+(Gr.get("scale")&&Gr.get("scaleSize")||0)},getSectorCornerRadius(Gr.getModel("itemStyle"),Wr)),extend$1(zr.ensureState("select"),{x:nn,y:ln,shape:getSectorCornerRadius(jr.getModel(["select","itemStyle"]),Wr)}),extend$1(zr.ensureState("blur"),{shape:getSectorCornerRadius(jr.getModel(["blur","itemStyle"]),Wr)});var hn=zr.getTextGuideLine(),mn=zr.getTextContent();hn&&extend$1(hn.ensureState("select"),{x:nn,y:ln}),extend$1(mn.ensureState("select"),{x:nn,y:ln}),toggleHoverEmphasis(this,Gr.get("focus"),Gr.get("blurScope"),Gr.get("disabled"))},Be.prototype._updateLabel=function(Dr,Mr,$r){var Br=this,zr=Mr.getItemModel($r),Vr=zr.getModel("labelLine"),jr=Mr.getItemVisual($r,"style"),Gr=jr&&jr.fill,Wr=jr&&jr.opacity;setLabelStyle(Br,getLabelStatesModels(zr),{labelFetcher:Mr.hostModel,labelDataIndex:$r,inheritColor:Gr,defaultOpacity:Wr,defaultText:Dr.getFormattedLabel($r,"normal")||Mr.getName($r)});var Kr=Br.getTextContent();Br.setTextConfig({position:null,rotation:null}),Kr.attr({z2:10});var Zr=Dr.get(["label","position"]);if(Zr!=="outside"&&Zr!=="outer")Br.removeTextGuideLine();else{var Jr=this.getTextGuideLine();Jr||(Jr=new Polyline$3,this.setTextGuideLine(Jr)),setLabelLineStyle(this,getLabelLineStatesModels(zr),{stroke:Gr,opacity:retrieve3(Vr.get(["lineStyle","opacity"]),Wr,1)})}},Be}(Sector$1),PieView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.ignoreLabelLineUpdate=!0,Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){var zr=Dr.getData(),Vr=this._data,jr=this.group,Gr;if(!Vr&&zr.count()>0){for(var Wr=zr.getItemLayout(0),Kr=1;isNaN(Wr&&Wr.startAngle)&&Kr<zr.count();++Kr)Wr=zr.getItemLayout(Kr);Wr&&(Gr=Wr.startAngle)}if(this._emptyCircleSector&&jr.remove(this._emptyCircleSector),zr.count()===0&&Dr.get("showEmptyCircle")){var Zr=new Sector$1({shape:getBasicPieLayout(Dr,$r)});Zr.useStyle(Dr.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=Zr,jr.add(Zr)}zr.diff(Vr).add(function(Jr){var rn=new PiePiece(zr,Jr,Gr);zr.setItemGraphicEl(Jr,rn),jr.add(rn)}).update(function(Jr,rn){var nn=Vr.getItemGraphicEl(rn);nn.updateData(zr,Jr,Gr),nn.off("click"),jr.add(nn),zr.setItemGraphicEl(Jr,nn)}).remove(function(Jr){var rn=Vr.getItemGraphicEl(Jr);removeElementWithFadeOut(rn,Dr,Jr)}).execute(),pieLabelLayout(Dr),Dr.get("animationTypeUpdate")!=="expansion"&&(this._data=zr)},Be.prototype.dispose=function(){},Be.prototype.containPoint=function(Dr,Mr){var $r=Mr.getData(),Br=$r.getItemLayout(0);if(Br){var zr=Dr[0]-Br.cx,Vr=Dr[1]-Br.cy,jr=Math.sqrt(zr*zr+Vr*Vr);return jr<=Br.r&&jr>=Br.r0}},Be.type="pie",Be}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(_r,Be,Dr){Be=isArray$1(Be)&&{coordDimensions:Be}||extend$1({encodeDefine:_r.getEncode()},Be);var Mr=_r.getSource(),$r=prepareSeriesDataSchema(Mr,Be).dimensions,Br=new SeriesData$1($r,_r);return Br.initData(Mr,Dr),Br}var LegendVisualProvider=function(){function _r(Be,Dr){this._getDataWithEncodedVisual=Be,this._getRawData=Dr}return _r.prototype.getAllNames=function(){var Be=this._getRawData();return Be.mapArray(Be.getName)},_r.prototype.containName=function(Be){var Dr=this._getRawData();return Dr.indexOfName(Be)>=0},_r.prototype.indexOfName=function(Be){var Dr=this._getDataWithEncodedVisual();return Dr.indexOfName(Be)},_r.prototype.getItemVisual=function(Be,Dr){var Mr=this._getDataWithEncodedVisual();return Mr.getItemVisual(Be,Dr)},_r}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.init=function(Dr){_r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(Dr)},Be.prototype.mergeOption=function(){_r.prototype.mergeOption.apply(this,arguments)},Be.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},Be.prototype.getDataParams=function(Dr){var Mr=this.getData(),$r=innerData(Mr),Br=$r.seats;if(!Br){var zr=[];Mr.each(Mr.mapDimension("value"),function(jr){zr.push(jr)}),Br=$r.seats=getPercentSeats(zr,Mr.hostModel.get("percentPrecision"))}var Vr=_r.prototype.getDataParams.call(this,Dr);return Vr.percent=Br[Dr]||0,Vr.$vars.push("percent"),Vr},Be.prototype._defaultLabelLine=function(Dr){defaultEmphasis(Dr,"labelLine",["show"]);var Mr=Dr.labelLine,$r=Dr.emphasis.labelLine;Mr.show=Mr.show&&Dr.label.show,$r.show=$r.show&&Dr.emphasis.label.show},Be.type="series.pie",Be.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},Be}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(_r){return{seriesType:_r,reset:function(Be,Dr){var Mr=Be.getData();Mr.filterSelf(function($r){var Br=Mr.mapDimension("value"),zr=Mr.get(Br,$r);return!(isNumber(zr)&&!isNaN(zr)&&zr<0)})}}}function install$O(_r){_r.registerChartView(PieView$1),_r.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",_r.registerAction),_r.registerLayout(curry$1(pieLayout,"pie")),_r.registerProcessor(dataFilter$1("pie")),_r.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.hasSymbolVisual=!0,Dr}return Be.prototype.getInitialData=function(Dr,Mr){return createSeriesData(null,this,{useEncodeDefaulter:!0})},Be.prototype.getProgressive=function(){var Dr=this.option.progressive;return Dr??(this.option.large?5e3:this.get("progressive"))},Be.prototype.getProgressiveThreshold=function(){var Dr=this.option.progressiveThreshold;return Dr??(this.option.large?1e4:this.get("progressiveThreshold"))},Be.prototype.brushSelector=function(Dr,Mr,$r){return $r.point(Mr.getItemLayout(Dr))},Be.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},Be.type="series.scatter",Be.dependencies=["grid","polar","geo","singleAxis","calendar"],Be.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},Be}(SeriesModel$1);const ScatterSeriesModel$1=ScatterSeriesModel;var BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function _r(){}return _r}(),LargeSymbolPath=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr._off=0,Mr.hoverDataIdx=-1,Mr}return Be.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},Be.prototype.reset=function(){this.notClear=!1,this._off=0},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.points,Br=Mr.size,zr=this.symbolProxy,Vr=zr.shape,jr=Dr.getContext?Dr.getContext():Dr,Gr=jr&&Br[0]<BOOST_SIZE_THRESHOLD,Wr=this.softClipShape,Kr;if(Gr){this._ctx=jr;return}for(this._ctx=null,Kr=this._off;Kr<$r.length;){var Zr=$r[Kr++],Jr=$r[Kr++];isNaN(Zr)||isNaN(Jr)||Wr&&!Wr.contain(Zr,Jr)||(Vr.x=Zr-Br[0]/2,Vr.y=Jr-Br[1]/2,Vr.width=Br[0],Vr.height=Br[1],zr.buildPath(Dr,Vr,!0))}this.incremental&&(this._off=Kr,this.notClear=!0)},Be.prototype.afterBrush=function(){var Dr=this.shape,Mr=Dr.points,$r=Dr.size,Br=this._ctx,zr=this.softClipShape,Vr;if(Br){for(Vr=this._off;Vr<Mr.length;){var jr=Mr[Vr++],Gr=Mr[Vr++];isNaN(jr)||isNaN(Gr)||zr&&!zr.contain(jr,Gr)||Br.fillRect(jr-$r[0]/2,Gr-$r[1]/2,$r[0],$r[1])}this.incremental&&(this._off=Vr,this.notClear=!0)}},Be.prototype.findDataIndex=function(Dr,Mr){for(var $r=this.shape,Br=$r.points,zr=$r.size,Vr=Math.max(zr[0],4),jr=Math.max(zr[1],4),Gr=Br.length/2-1;Gr>=0;Gr--){var Wr=Gr*2,Kr=Br[Wr]-Vr/2,Zr=Br[Wr+1]-jr/2;if(Dr>=Kr&&Mr>=Zr&&Dr<=Kr+Vr&&Mr<=Zr+jr)return Gr}return-1},Be.prototype.contain=function(Dr,Mr){var $r=this.transformCoordToLocal(Dr,Mr),Br=this.getBoundingRect();if(Dr=$r[0],Mr=$r[1],Br.contain(Dr,Mr)){var zr=this.hoverDataIdx=this.findDataIndex(Dr,Mr);return zr>=0}return this.hoverDataIdx=-1,!1},Be.prototype.getBoundingRect=function(){var Dr=this._rect;if(!Dr){for(var Mr=this.shape,$r=Mr.points,Br=Mr.size,zr=Br[0],Vr=Br[1],jr=1/0,Gr=1/0,Wr=-1/0,Kr=-1/0,Zr=0;Zr<$r.length;){var Jr=$r[Zr++],rn=$r[Zr++];jr=Math.min(Jr,jr),Wr=Math.max(Jr,Wr),Gr=Math.min(rn,Gr),Kr=Math.max(rn,Kr)}Dr=this._rect=new BoundingRect$1(jr-zr/2,Gr-Vr/2,Wr-jr+zr,Kr-Gr+Vr)}return Dr},Be}(Path$1),LargeSymbolDraw=function(){function _r(){this.group=new Group$4}return _r.prototype.updateData=function(Be,Dr){this._clear();var Mr=this._create();Mr.setShape({points:Be.getLayout("points")}),this._setCommon(Mr,Be,Dr)},_r.prototype.updateLayout=function(Be){var Dr=Be.getLayout("points");this.group.eachChild(function(Mr){if(Mr.startIndex!=null){var $r=(Mr.endIndex-Mr.startIndex)*2,Br=Mr.startIndex*4*2;Dr=new Float32Array(Dr.buffer,Br,$r)}Mr.setShape("points",Dr),Mr.reset()})},_r.prototype.incrementalPrepareUpdate=function(Be){this._clear()},_r.prototype.incrementalUpdate=function(Be,Dr,Mr){var $r=this._newAdded[0],Br=Dr.getLayout("points"),zr=$r&&$r.shape.points;if(zr&&zr.length<2e4){var Vr=zr.length,jr=new Float32Array(Vr+Br.length);jr.set(zr),jr.set(Br,Vr),$r.endIndex=Be.end,$r.setShape({points:jr})}else{this._newAdded=[];var Gr=this._create();Gr.startIndex=Be.start,Gr.endIndex=Be.end,Gr.incremental=!0,Gr.setShape({points:Br}),this._setCommon(Gr,Dr,Mr)}},_r.prototype.eachRendered=function(Be){this._newAdded[0]&&Be(this._newAdded[0])},_r.prototype._create=function(){var Be=new LargeSymbolPath({cursor:"default"});return Be.ignoreCoarsePointer=!0,this.group.add(Be),this._newAdded.push(Be),Be},_r.prototype._setCommon=function(Be,Dr,Mr){var $r=Dr.hostModel;Mr=Mr||{};var Br=Dr.getVisual("symbolSize");Be.setShape("size",Br instanceof Array?Br:[Br,Br]),Be.softClipShape=Mr.clipShape||null,Be.symbolProxy=createSymbol$1(Dr.getVisual("symbol"),0,0,0,0),Be.setColor=Be.symbolProxy.setColor;var zr=Be.shape.size[0]<BOOST_SIZE_THRESHOLD;Be.useStyle($r.getModel("itemStyle").getItemStyle(zr?["color","shadowBlur","shadowColor"]:["color"]));var Vr=Dr.getVisual("style"),jr=Vr&&Vr.fill;jr&&Be.setColor(jr);var Gr=getECData(Be);Gr.seriesIndex=$r.seriesIndex,Be.on("mousemove",function(Wr){Gr.dataIndex=null;var Kr=Be.hoverDataIdx;Kr>=0&&(Gr.dataIndex=Kr+(Be.startIndex||0))})},_r.prototype.remove=function(){this._clear()},_r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},_r}();const LargeSymbolDraw$1=LargeSymbolDraw;var ScatterView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=Dr.getData(),zr=this._updateSymbolDraw(Br,Dr);zr.updateData(Br,{clipShape:this._getClipShape(Dr)}),this._finished=!0},Be.prototype.incrementalPrepareRender=function(Dr,Mr,$r){var Br=Dr.getData(),zr=this._updateSymbolDraw(Br,Dr);zr.incrementalPrepareUpdate(Br),this._finished=!1},Be.prototype.incrementalRender=function(Dr,Mr,$r){this._symbolDraw.incrementalUpdate(Dr,Mr.getData(),{clipShape:this._getClipShape(Mr)}),this._finished=Dr.end===Mr.getData().count()},Be.prototype.updateTransform=function(Dr,Mr,$r){var Br=Dr.getData();if(this.group.dirty(),!this._finished||Br.count()>1e4)return{update:!0};var zr=pointsLayout("").reset(Dr,Mr,$r);zr.progress&&zr.progress({start:0,end:Br.count(),count:Br.count()},Br),this._symbolDraw.updateLayout(Br)},Be.prototype.eachRendered=function(Dr){this._symbolDraw&&this._symbolDraw.eachRendered(Dr)},Be.prototype._getClipShape=function(Dr){var Mr=Dr.coordinateSystem,$r=Mr&&Mr.getArea&&Mr.getArea();return Dr.get("clip",!0)?$r:null},Be.prototype._updateSymbolDraw=function(Dr,Mr){var $r=this._symbolDraw,Br=Mr.pipelineContext,zr=Br.large;return(!$r||zr!==this._isLargeDraw)&&($r&&$r.remove(),$r=this._symbolDraw=zr?new LargeSymbolDraw$1:new SymbolDraw$1,this._isLargeDraw=zr,this.group.removeAll()),this.group.add($r.group),$r},Be.prototype.remove=function(Dr,Mr){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},Be.prototype.dispose=function(){},Be.type="scatter",Be}(ChartView$1);const ScatterView$1=ScatterView;var GridModel=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.type="grid",Be.dependencies=["xAxis","yAxis"],Be.layoutMode="box",Be.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},Be}(ComponentModel$1);const GridModel$1=GridModel;var CartesianAxisModel=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},Be.type="cartesian2dAxis",Be}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(_r,Be,Dr,Mr){each$f(AXIS_TYPES,function($r,Br){var zr=merge(merge({},axisDefault[Br],!0),Mr,!0),Vr=function(jr){__extends(Gr,jr);function Gr(){var Wr=jr!==null&&jr.apply(this,arguments)||this;return Wr.type=Be+"Axis."+Br,Wr}return Gr.prototype.mergeDefaultAndTheme=function(Wr,Kr){var Zr=fetchLayoutMode(this),Jr=Zr?getLayoutParams(Wr):{},rn=Kr.getTheme();merge(Wr,rn.get(Br+"Axis")),merge(Wr,this.getDefaultOption()),Wr.type=getAxisType(Wr),Zr&&mergeLayoutParam(Wr,Jr,Zr)},Gr.prototype.optionUpdated=function(){var Wr=this.option;Wr.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},Gr.prototype.getCategories=function(Wr){var Kr=this.option;if(Kr.type==="category")return Wr?Kr.data:this.__ordinalMeta.categories},Gr.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},Gr.type=Be+"Axis."+Br,Gr.defaultOption=zr,Gr}(Dr);_r.registerComponentModel(Vr)}),_r.registerSubTypeDefaulter(Be+"Axis",getAxisType)}function getAxisType(_r){return _r.type||(_r.data?"category":"value")}var Cartesian=function(){function _r(Be){this.type="cartesian",this._dimList=[],this._axes={},this.name=Be||""}return _r.prototype.getAxis=function(Be){return this._axes[Be]},_r.prototype.getAxes=function(){return map$1(this._dimList,function(Be){return this._axes[Be]},this)},_r.prototype.getAxesByScale=function(Be){return Be=Be.toLowerCase(),filter(this.getAxes(),function(Dr){return Dr.scale.type===Be})},_r.prototype.addAxis=function(Be){var Dr=Be.dim;this._axes[Dr]=Be,this._dimList.push(Dr)},_r}();const Cartesian$1=Cartesian;var cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(_r){return _r.type==="interval"||_r.type==="time"}var Cartesian2D=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type="cartesian2d",Dr.dimensions=cartesian2DDimensions,Dr}return Be.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var Dr=this.getAxis("x").scale,Mr=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(Dr)||!canCalculateAffineTransform(Mr))){var $r=Dr.getExtent(),Br=Mr.getExtent(),zr=this.dataToPoint([$r[0],Br[0]]),Vr=this.dataToPoint([$r[1],Br[1]]),jr=$r[1]-$r[0],Gr=Br[1]-Br[0];if(!(!jr||!Gr)){var Wr=(Vr[0]-zr[0])/jr,Kr=(Vr[1]-zr[1])/Gr,Zr=zr[0]-$r[0]*Wr,Jr=zr[1]-Br[0]*Kr,rn=this._transform=[Wr,0,0,Kr,Zr,Jr];this._invTransform=invert([],rn)}}},Be.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},Be.prototype.containPoint=function(Dr){var Mr=this.getAxis("x"),$r=this.getAxis("y");return Mr.contain(Mr.toLocalCoord(Dr[0]))&&$r.contain($r.toLocalCoord(Dr[1]))},Be.prototype.containData=function(Dr){return this.getAxis("x").containData(Dr[0])&&this.getAxis("y").containData(Dr[1])},Be.prototype.containZone=function(Dr,Mr){var $r=this.dataToPoint(Dr),Br=this.dataToPoint(Mr),zr=this.getArea(),Vr=new BoundingRect$1($r[0],$r[1],Br[0]-$r[0],Br[1]-$r[1]);return zr.intersect(Vr)},Be.prototype.dataToPoint=function(Dr,Mr,$r){$r=$r||[];var Br=Dr[0],zr=Dr[1];if(this._transform&&Br!=null&&isFinite(Br)&&zr!=null&&isFinite(zr))return applyTransform$1($r,Dr,this._transform);var Vr=this.getAxis("x"),jr=this.getAxis("y");return $r[0]=Vr.toGlobalCoord(Vr.dataToCoord(Br,Mr)),$r[1]=jr.toGlobalCoord(jr.dataToCoord(zr,Mr)),$r},Be.prototype.clampData=function(Dr,Mr){var $r=this.getAxis("x").scale,Br=this.getAxis("y").scale,zr=$r.getExtent(),Vr=Br.getExtent(),jr=$r.parse(Dr[0]),Gr=Br.parse(Dr[1]);return Mr=Mr||[],Mr[0]=Math.min(Math.max(Math.min(zr[0],zr[1]),jr),Math.max(zr[0],zr[1])),Mr[1]=Math.min(Math.max(Math.min(Vr[0],Vr[1]),Gr),Math.max(Vr[0],Vr[1])),Mr},Be.prototype.pointToData=function(Dr,Mr){var $r=[];if(this._invTransform)return applyTransform$1($r,Dr,this._invTransform);var Br=this.getAxis("x"),zr=this.getAxis("y");return $r[0]=Br.coordToData(Br.toLocalCoord(Dr[0]),Mr),$r[1]=zr.coordToData(zr.toLocalCoord(Dr[1]),Mr),$r},Be.prototype.getOtherAxis=function(Dr){return this.getAxis(Dr.dim==="x"?"y":"x")},Be.prototype.getArea=function(){var Dr=this.getAxis("x").getGlobalExtent(),Mr=this.getAxis("y").getGlobalExtent(),$r=Math.min(Dr[0],Dr[1]),Br=Math.min(Mr[0],Mr[1]),zr=Math.max(Dr[0],Dr[1])-$r,Vr=Math.max(Mr[0],Mr[1])-Br;return new BoundingRect$1($r,Br,zr,Vr)},Be}(Cartesian$1),Axis2D=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r,Br,zr){var Vr=_r.call(this,Dr,Mr,$r)||this;return Vr.index=0,Vr.type=Br||"value",Vr.position=zr||"bottom",Vr}return Be.prototype.isHorizontal=function(){var Dr=this.position;return Dr==="top"||Dr==="bottom"},Be.prototype.getGlobalExtent=function(Dr){var Mr=this.getExtent();return Mr[0]=this.toGlobalCoord(Mr[0]),Mr[1]=this.toGlobalCoord(Mr[1]),Dr&&Mr[0]>Mr[1]&&Mr.reverse(),Mr},Be.prototype.pointToData=function(Dr,Mr){return this.coordToData(this.toLocalCoord(Dr[this.dim==="x"?0:1]),Mr)},Be.prototype.setCategorySortInfo=function(Dr){if(this.type!=="category")return!1;this.model.option.categorySortInfo=Dr,this.scale.setSortInfo(Dr)},Be}(Axis$1);const Axis2D$1=Axis2D;function layout$2(_r,Be,Dr){Dr=Dr||{};var Mr=_r.coordinateSystem,$r=Be.axis,Br={},zr=$r.getAxesOnZeroOf()[0],Vr=$r.position,jr=zr?"onZero":Vr,Gr=$r.dim,Wr=Mr.getRect(),Kr=[Wr.x,Wr.x+Wr.width,Wr.y,Wr.y+Wr.height],Zr={left:0,right:1,top:0,bottom:1,onZero:2},Jr=Be.get("offset")||0,rn=Gr==="x"?[Kr[2]-Jr,Kr[3]+Jr]:[Kr[0]-Jr,Kr[1]+Jr];if(zr){var nn=zr.toGlobalCoord(zr.dataToCoord(0));rn[Zr.onZero]=Math.max(Math.min(nn,rn[1]),rn[0])}Br.position=[Gr==="y"?rn[Zr[jr]]:Kr[0],Gr==="x"?rn[Zr[jr]]:Kr[3]],Br.rotation=Math.PI/2*(Gr==="x"?0:1);var ln={top:-1,bottom:1,left:-1,right:1};Br.labelDirection=Br.tickDirection=Br.nameDirection=ln[Vr],Br.labelOffset=zr?rn[Zr[Vr]]-rn[Zr.onZero]:0,Be.get(["axisTick","inside"])&&(Br.tickDirection=-Br.tickDirection),retrieve(Dr.labelInside,Be.get(["axisLabel","inside"]))&&(Br.labelDirection=-Br.labelDirection);var cn=Be.get(["axisLabel","rotate"]);return Br.labelRotate=jr==="top"?-cn:cn,Br.z2=1,Br}function isCartesian2DSeries(_r){return _r.get("coordinateSystem")==="cartesian2d"}function findAxisModels(_r){var Be={xAxisModel:null,yAxisModel:null};return each$f(Be,function(Dr,Mr){var $r=Mr.replace(/Model$/,""),Br=_r.getReferringComponents($r,SINGLE_REFERRING).models[0];Be[Mr]=Br}),Be}var mathLog=Math.log;function alignScaleTicks(_r,Be,Dr){var Mr=IntervalScale$1.prototype,$r=Mr.getTicks.call(Dr),Br=Mr.getTicks.call(Dr,!0),zr=$r.length-1,Vr=Mr.getInterval.call(Dr),jr=getScaleExtent(_r,Be),Gr=jr.extent,Wr=jr.fixMin,Kr=jr.fixMax;if(_r.type==="log"){var Zr=mathLog(_r.base);Gr=[mathLog(Gr[0])/Zr,mathLog(Gr[1])/Zr]}_r.setExtent(Gr[0],Gr[1]),_r.calcNiceExtent({splitNumber:zr,fixMin:Wr,fixMax:Kr});var Jr=Mr.getExtent.call(_r);Wr&&(Gr[0]=Jr[0]),Kr&&(Gr[1]=Jr[1]);var rn=Mr.getInterval.call(_r),nn=Gr[0],ln=Gr[1];if(Wr&&Kr)rn=(ln-nn)/zr;else if(Wr)for(ln=Gr[0]+rn*zr;ln<Gr[1]&&isFinite(ln)&&isFinite(Gr[1]);)rn=increaseInterval(rn),ln=Gr[0]+rn*zr;else if(Kr)for(nn=Gr[1]-rn*zr;nn>Gr[0]&&isFinite(nn)&&isFinite(Gr[0]);)rn=increaseInterval(rn),nn=Gr[1]-rn*zr;else{var cn=_r.getTicks().length-1;cn>zr&&(rn=increaseInterval(rn));var hn=rn*zr;ln=Math.ceil(Gr[1]/rn)*rn,nn=round$3(ln-hn),nn<0&&Gr[0]>=0?(nn=0,ln=round$3(hn)):ln>0&&Gr[1]<=0&&(ln=0,nn=-round$3(hn))}var mn=($r[0].value-Br[0].value)/Vr,bn=($r[zr].value-Br[zr].value)/Vr;Mr.setExtent.call(_r,nn+rn*mn,ln+rn*bn),Mr.setInterval.call(_r,rn),(mn||bn)&&Mr.setNiceExtent.call(_r,nn+rn,ln-rn)}var Grid=function(){function _r(Be,Dr,Mr){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(Be,Dr,Mr),this.model=Be}return _r.prototype.getRect=function(){return this._rect},_r.prototype.update=function(Be,Dr){var Mr=this._axesMap;this._updateScale(Be,this.model);function $r(zr){var Vr,jr=keys(zr),Gr=jr.length;if(Gr){for(var Wr=[],Kr=Gr-1;Kr>=0;Kr--){var Zr=+jr[Kr],Jr=zr[Zr],rn=Jr.model,nn=Jr.scale;isIntervalOrLogScale(nn)&&rn.get("alignTicks")&&rn.get("interval")==null?Wr.push(Jr):(niceScaleExtent(nn,rn),isIntervalOrLogScale(nn)&&(Vr=Jr))}Wr.length&&(Vr||(Vr=Wr.pop(),niceScaleExtent(Vr.scale,Vr.model)),each$f(Wr,function(ln){alignScaleTicks(ln.scale,ln.model,Vr.scale)}))}}$r(Mr.x),$r(Mr.y);var Br={};each$f(Mr.x,function(zr){fixAxisOnZero(Mr,"y",zr,Br)}),each$f(Mr.y,function(zr){fixAxisOnZero(Mr,"x",zr,Br)}),this.resize(this.model,Dr)},_r.prototype.resize=function(Be,Dr,Mr){var $r=Be.getBoxLayoutParams(),Br=!Mr&&Be.get("containLabel"),zr=getLayoutRect($r,{width:Dr.getWidth(),height:Dr.getHeight()});this._rect=zr;var Vr=this._axesList;jr(),Br&&(each$f(Vr,function(Gr){if(!Gr.model.get(["axisLabel","inside"])){var Wr=estimateLabelUnionRect(Gr);if(Wr){var Kr=Gr.isHorizontal()?"height":"width",Zr=Gr.model.get(["axisLabel","margin"]);zr[Kr]-=Wr[Kr]+Zr,Gr.position==="top"?zr.y+=Wr.height+Zr:Gr.position==="left"&&(zr.x+=Wr.width+Zr)}}}),jr()),each$f(this._coordsList,function(Gr){Gr.calcAffineTransform()});function jr(){each$f(Vr,function(Gr){var Wr=Gr.isHorizontal(),Kr=Wr?[0,zr.width]:[0,zr.height],Zr=Gr.inverse?1:0;Gr.setExtent(Kr[Zr],Kr[1-Zr]),updateAxisTransform(Gr,Wr?zr.x:zr.y)})}},_r.prototype.getAxis=function(Be,Dr){var Mr=this._axesMap[Be];if(Mr!=null)return Mr[Dr||0]},_r.prototype.getAxes=function(){return this._axesList.slice()},_r.prototype.getCartesian=function(Be,Dr){if(Be!=null&&Dr!=null){var Mr="x"+Be+"y"+Dr;return this._coordsMap[Mr]}isObject$3(Be)&&(Dr=Be.yAxisIndex,Be=Be.xAxisIndex);for(var $r=0,Br=this._coordsList;$r<Br.length;$r++)if(Br[$r].getAxis("x").index===Be||Br[$r].getAxis("y").index===Dr)return Br[$r]},_r.prototype.getCartesians=function(){return this._coordsList.slice()},_r.prototype.convertToPixel=function(Be,Dr,Mr){var $r=this._findConvertTarget(Dr);return $r.cartesian?$r.cartesian.dataToPoint(Mr):$r.axis?$r.axis.toGlobalCoord($r.axis.dataToCoord(Mr)):null},_r.prototype.convertFromPixel=function(Be,Dr,Mr){var $r=this._findConvertTarget(Dr);return $r.cartesian?$r.cartesian.pointToData(Mr):$r.axis?$r.axis.coordToData($r.axis.toLocalCoord(Mr)):null},_r.prototype._findConvertTarget=function(Be){var Dr=Be.seriesModel,Mr=Be.xAxisModel||Dr&&Dr.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],$r=Be.yAxisModel||Dr&&Dr.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],Br=Be.gridModel,zr=this._coordsList,Vr,jr;if(Dr)Vr=Dr.coordinateSystem,indexOf(zr,Vr)<0&&(Vr=null);else if(Mr&&$r)Vr=this.getCartesian(Mr.componentIndex,$r.componentIndex);else if(Mr)jr=this.getAxis("x",Mr.componentIndex);else if($r)jr=this.getAxis("y",$r.componentIndex);else if(Br){var Gr=Br.coordinateSystem;Gr===this&&(Vr=this._coordsList[0])}return{cartesian:Vr,axis:jr}},_r.prototype.containPoint=function(Be){var Dr=this._coordsList[0];if(Dr)return Dr.containPoint(Be)},_r.prototype._initCartesian=function(Be,Dr,Mr){var $r=this,Br=this,zr={left:!1,right:!1,top:!1,bottom:!1},Vr={x:{},y:{}},jr={x:0,y:0};if(Dr.eachComponent("xAxis",Gr("x"),this),Dr.eachComponent("yAxis",Gr("y"),this),!jr.x||!jr.y){this._axesMap={},this._axesList=[];return}this._axesMap=Vr,each$f(Vr.x,function(Wr,Kr){each$f(Vr.y,function(Zr,Jr){var rn="x"+Kr+"y"+Jr,nn=new Cartesian2D(rn);nn.master=$r,nn.model=Be,$r._coordsMap[rn]=nn,$r._coordsList.push(nn),nn.addAxis(Wr),nn.addAxis(Zr)})});function Gr(Wr){return function(Kr,Zr){if(isAxisUsedInTheGrid(Kr,Be)){var Jr=Kr.get("position");Wr==="x"?Jr!=="top"&&Jr!=="bottom"&&(Jr=zr.bottom?"top":"bottom"):Jr!=="left"&&Jr!=="right"&&(Jr=zr.left?"right":"left"),zr[Jr]=!0;var rn=new Axis2D$1(Wr,createScaleByModel$1(Kr),[0,0],Kr.get("type"),Jr),nn=rn.type==="category";rn.onBand=nn&&Kr.get("boundaryGap"),rn.inverse=Kr.get("inverse"),Kr.axis=rn,rn.model=Kr,rn.grid=Br,rn.index=Zr,Br._axesList.push(rn),Vr[Wr][Zr]=rn,jr[Wr]++}}}},_r.prototype._updateScale=function(Be,Dr){each$f(this._axesList,function($r){if($r.scale.setExtent(1/0,-1/0),$r.type==="category"){var Br=$r.model.get("categorySortInfo");$r.scale.setSortInfo(Br)}}),Be.eachSeries(function($r){if(isCartesian2DSeries($r)){var Br=findAxisModels($r),zr=Br.xAxisModel,Vr=Br.yAxisModel;if(!isAxisUsedInTheGrid(zr,Dr)||!isAxisUsedInTheGrid(Vr,Dr))return;var jr=this.getCartesian(zr.componentIndex,Vr.componentIndex),Gr=$r.getData(),Wr=jr.getAxis("x"),Kr=jr.getAxis("y");Mr(Gr,Wr),Mr(Gr,Kr)}},this);function Mr($r,Br){each$f(getDataDimensionsOnAxis($r,Br.dim),function(zr){Br.scale.unionExtentFromData($r,zr)})}},_r.prototype.getTooltipAxes=function(Be){var Dr=[],Mr=[];return each$f(this.getCartesians(),function($r){var Br=Be!=null&&Be!=="auto"?$r.getAxis(Be):$r.getBaseAxis(),zr=$r.getOtherAxis(Br);indexOf(Dr,Br)<0&&Dr.push(Br),indexOf(Mr,zr)<0&&Mr.push(zr)}),{baseAxes:Dr,otherAxes:Mr}},_r.create=function(Be,Dr){var Mr=[];return Be.eachComponent("grid",function($r,Br){var zr=new _r($r,Be,Dr);zr.name="grid_"+Br,zr.resize($r,Dr,!0),$r.coordinateSystem=zr,Mr.push(zr)}),Be.eachSeries(function($r){if(isCartesian2DSeries($r)){var Br=findAxisModels($r),zr=Br.xAxisModel,Vr=Br.yAxisModel,jr=zr.getCoordSysModel(),Gr=jr.coordinateSystem;$r.coordinateSystem=Gr.getCartesian(zr.componentIndex,Vr.componentIndex)}}),Mr},_r.dimensions=cartesian2DDimensions,_r}();function isAxisUsedInTheGrid(_r,Be){return _r.getCoordSysModel()===Be}function fixAxisOnZero(_r,Be,Dr,Mr){Dr.getAxesOnZeroOf=function(){return Br?[Br]:[]};var $r=_r[Be],Br,zr=Dr.model,Vr=zr.get(["axisLine","onZero"]),jr=zr.get(["axisLine","onZeroAxisIndex"]);if(!Vr)return;if(jr!=null)canOnZeroToAxis($r[jr])&&(Br=$r[jr]);else for(var Gr in $r)if($r.hasOwnProperty(Gr)&&canOnZeroToAxis($r[Gr])&&!Mr[Wr($r[Gr])]){Br=$r[Gr];break}Br&&(Mr[Wr(Br)]=!0);function Wr(Kr){return Kr.dim+"_"+Kr.index}}function canOnZeroToAxis(_r){return _r&&_r.type!=="category"&&_r.type!=="time"&&ifAxisCrossZero(_r)}function updateAxisTransform(_r,Be){var Dr=_r.getExtent(),Mr=Dr[0]+Dr[1];_r.toGlobalCoord=_r.dim==="x"?function($r){return $r+Be}:function($r){return Mr-$r+Be},_r.toLocalCoord=_r.dim==="x"?function($r){return $r-Be}:function($r){return Mr-$r+Be}}const Grid$1=Grid;var PI$3=Math.PI,AxisBuilder=function(){function _r(Be,Dr){this.group=new Group$4,this.opt=Dr,this.axisModel=Be,defaults(Dr,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var Mr=new Group$4({x:Dr.position[0],y:Dr.position[1],rotation:Dr.rotation});Mr.updateTransform(),this._transformGroup=Mr}return _r.prototype.hasBuilder=function(Be){return!!builders[Be]},_r.prototype.add=function(Be){builders[Be](this.opt,this.axisModel,this.group,this._transformGroup)},_r.prototype.getGroup=function(){return this.group},_r.innerTextLayout=function(Be,Dr,Mr){var $r=remRadian(Dr-Be),Br,zr;return isRadianAroundZero($r)?(zr=Mr>0?"top":"bottom",Br="center"):isRadianAroundZero($r-PI$3)?(zr=Mr>0?"bottom":"top",Br="center"):(zr="middle",$r>0&&$r<PI$3?Br=Mr>0?"right":"left":Br=Mr>0?"left":"right"),{rotation:$r,textAlign:Br,textVerticalAlign:zr}},_r.makeAxisEventDataBase=function(Be){var Dr={componentType:Be.mainType,componentIndex:Be.componentIndex};return Dr[Be.mainType+"Index"]=Be.componentIndex,Dr},_r.isLabelSilent=function(Be){var Dr=Be.get("tooltip");return Be.get("silent")||!(Be.get("triggerEvent")||Dr&&Dr.show)},_r}(),builders={axisLine:function(_r,Be,Dr,Mr){var $r=Be.get(["axisLine","show"]);if($r==="auto"&&_r.handleAutoShown&&($r=_r.handleAutoShown("axisLine")),!!$r){var Br=Be.axis.getExtent(),zr=Mr.transform,Vr=[Br[0],0],jr=[Br[1],0],Gr=Vr[0]>jr[0];zr&&(applyTransform$1(Vr,Vr,zr),applyTransform$1(jr,jr,zr));var Wr=extend$1({lineCap:"round"},Be.getModel(["axisLine","lineStyle"]).getLineStyle()),Kr=new Line$3({shape:{x1:Vr[0],y1:Vr[1],x2:jr[0],y2:jr[1]},style:Wr,strokeContainThreshold:_r.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(Kr.shape,Kr.style.lineWidth),Kr.anid="line",Dr.add(Kr);var Zr=Be.get(["axisLine","symbol"]);if(Zr!=null){var Jr=Be.get(["axisLine","symbolSize"]);isString(Zr)&&(Zr=[Zr,Zr]),(isString(Jr)||isNumber(Jr))&&(Jr=[Jr,Jr]);var rn=normalizeSymbolOffset(Be.get(["axisLine","symbolOffset"])||0,Jr),nn=Jr[0],ln=Jr[1];each$f([{rotate:_r.rotation+Math.PI/2,offset:rn[0],r:0},{rotate:_r.rotation-Math.PI/2,offset:rn[1],r:Math.sqrt((Vr[0]-jr[0])*(Vr[0]-jr[0])+(Vr[1]-jr[1])*(Vr[1]-jr[1]))}],function(cn,hn){if(Zr[hn]!=="none"&&Zr[hn]!=null){var mn=createSymbol$1(Zr[hn],-nn/2,-ln/2,nn,ln,Wr.stroke,!0),bn=cn.r+cn.offset,An=Gr?jr:Vr;mn.attr({rotation:cn.rotate,x:An[0]+bn*Math.cos(_r.rotation),y:An[1]-bn*Math.sin(_r.rotation),silent:!0,z2:11}),Dr.add(mn)}})}}},axisTickLabel:function(_r,Be,Dr,Mr){var $r=buildAxisMajorTicks(Dr,Mr,Be,_r),Br=buildAxisLabel(Dr,Mr,Be,_r);if(fixMinMaxLabelShow(Be,Br,$r),buildAxisMinorTicks(Dr,Mr,Be,_r.tickDirection),Be.get(["axisLabel","hideOverlap"])){var zr=prepareLayoutList(map$1(Br,function(Vr){return{label:Vr,priority:Vr.z2,defaultAttr:{ignore:Vr.ignore}}}));hideOverlap(zr)}},axisName:function(_r,Be,Dr,Mr){var $r=retrieve(_r.axisName,Be.get("name"));if($r){var Br=Be.get("nameLocation"),zr=_r.nameDirection,Vr=Be.getModel("nameTextStyle"),jr=Be.get("nameGap")||0,Gr=Be.axis.getExtent(),Wr=Gr[0]>Gr[1]?-1:1,Kr=[Br==="start"?Gr[0]-Wr*jr:Br==="end"?Gr[1]+Wr*jr:(Gr[0]+Gr[1])/2,isNameLocationCenter(Br)?_r.labelOffset+zr*jr:0],Zr,Jr=Be.get("nameRotate");Jr!=null&&(Jr=Jr*PI$3/180);var rn;isNameLocationCenter(Br)?Zr=AxisBuilder.innerTextLayout(_r.rotation,Jr??_r.rotation,zr):(Zr=endTextLayout(_r.rotation,Br,Jr||0,Gr),rn=_r.axisNameAvailableWidth,rn!=null&&(rn=Math.abs(rn/Math.sin(Zr.rotation)),!isFinite(rn)&&(rn=null)));var nn=Vr.getFont(),ln=Be.get("nameTruncate",!0)||{},cn=ln.ellipsis,hn=retrieve(_r.nameTruncateMaxWidth,ln.maxWidth,rn),mn=new ZRText$1({x:Kr[0],y:Kr[1],rotation:Zr.rotation,silent:AxisBuilder.isLabelSilent(Be),style:createTextStyle$1(Vr,{text:$r,font:nn,overflow:"truncate",width:hn,ellipsis:cn,fill:Vr.getTextColor()||Be.get(["axisLine","lineStyle","color"]),align:Vr.get("align")||Zr.textAlign,verticalAlign:Vr.get("verticalAlign")||Zr.textVerticalAlign}),z2:1});if(setTooltipConfig({el:mn,componentModel:Be,itemName:$r}),mn.__fullText=$r,mn.anid="name",Be.get("triggerEvent")){var bn=AxisBuilder.makeAxisEventDataBase(Be);bn.targetType="axisName",bn.name=$r,getECData(mn).eventData=bn}Mr.add(mn),mn.updateTransform(),Dr.add(mn),mn.decomposeTransform()}}};function endTextLayout(_r,Be,Dr,Mr){var $r=remRadian(Dr-_r),Br,zr,Vr=Mr[0]>Mr[1],jr=Be==="start"&&!Vr||Be!=="start"&&Vr;return isRadianAroundZero($r-PI$3/2)?(zr=jr?"bottom":"top",Br="center"):isRadianAroundZero($r-PI$3*1.5)?(zr=jr?"top":"bottom",Br="center"):(zr="middle",$r<PI$3*1.5&&$r>PI$3/2?Br=jr?"left":"right":Br=jr?"right":"left"),{rotation:$r,textAlign:Br,textVerticalAlign:zr}}function fixMinMaxLabelShow(_r,Be,Dr){if(!shouldShowAllLabels(_r.axis)){var Mr=_r.get(["axisLabel","showMinLabel"]),$r=_r.get(["axisLabel","showMaxLabel"]);Be=Be||[],Dr=Dr||[];var Br=Be[0],zr=Be[1],Vr=Be[Be.length-1],jr=Be[Be.length-2],Gr=Dr[0],Wr=Dr[1],Kr=Dr[Dr.length-1],Zr=Dr[Dr.length-2];Mr===!1?(ignoreEl(Br),ignoreEl(Gr)):isTwoLabelOverlapped(Br,zr)&&(Mr?(ignoreEl(zr),ignoreEl(Wr)):(ignoreEl(Br),ignoreEl(Gr))),$r===!1?(ignoreEl(Vr),ignoreEl(Kr)):isTwoLabelOverlapped(jr,Vr)&&($r?(ignoreEl(jr),ignoreEl(Zr)):(ignoreEl(Vr),ignoreEl(Kr)))}}function ignoreEl(_r){_r&&(_r.ignore=!0)}function isTwoLabelOverlapped(_r,Be){var Dr=_r&&_r.getBoundingRect().clone(),Mr=Be&&Be.getBoundingRect().clone();if(!(!Dr||!Mr)){var $r=identity([]);return rotate($r,$r,-_r.rotation),Dr.applyTransform(mul([],$r,_r.getLocalTransform())),Mr.applyTransform(mul([],$r,Be.getLocalTransform())),Dr.intersect(Mr)}}function isNameLocationCenter(_r){return _r==="middle"||_r==="center"}function createTicks(_r,Be,Dr,Mr,$r){for(var Br=[],zr=[],Vr=[],jr=0;jr<_r.length;jr++){var Gr=_r[jr].coord;zr[0]=Gr,zr[1]=0,Vr[0]=Gr,Vr[1]=Dr,Be&&(applyTransform$1(zr,zr,Be),applyTransform$1(Vr,Vr,Be));var Wr=new Line$3({shape:{x1:zr[0],y1:zr[1],x2:Vr[0],y2:Vr[1]},style:Mr,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(Wr.shape,Wr.style.lineWidth),Wr.anid=$r+"_"+_r[jr].tickValue,Br.push(Wr)}return Br}function buildAxisMajorTicks(_r,Be,Dr,Mr){var $r=Dr.axis,Br=Dr.getModel("axisTick"),zr=Br.get("show");if(zr==="auto"&&Mr.handleAutoShown&&(zr=Mr.handleAutoShown("axisTick")),!(!zr||$r.scale.isBlank())){for(var Vr=Br.getModel("lineStyle"),jr=Mr.tickDirection*Br.get("length"),Gr=$r.getTicksCoords(),Wr=createTicks(Gr,Be.transform,jr,defaults(Vr.getLineStyle(),{stroke:Dr.get(["axisLine","lineStyle","color"])}),"ticks"),Kr=0;Kr<Wr.length;Kr++)_r.add(Wr[Kr]);return Wr}}function buildAxisMinorTicks(_r,Be,Dr,Mr){var $r=Dr.axis,Br=Dr.getModel("minorTick");if(!(!Br.get("show")||$r.scale.isBlank())){var zr=$r.getMinorTicksCoords();if(zr.length)for(var Vr=Br.getModel("lineStyle"),jr=Mr*Br.get("length"),Gr=defaults(Vr.getLineStyle(),defaults(Dr.getModel("axisTick").getLineStyle(),{stroke:Dr.get(["axisLine","lineStyle","color"])})),Wr=0;Wr<zr.length;Wr++)for(var Kr=createTicks(zr[Wr],Be.transform,jr,Gr,"minorticks_"+Wr),Zr=0;Zr<Kr.length;Zr++)_r.add(Kr[Zr])}}function buildAxisLabel(_r,Be,Dr,Mr){var $r=Dr.axis,Br=retrieve(Mr.axisLabelShow,Dr.get(["axisLabel","show"]));if(!(!Br||$r.scale.isBlank())){var zr=Dr.getModel("axisLabel"),Vr=zr.get("margin"),jr=$r.getViewLabels(),Gr=(retrieve(Mr.labelRotate,zr.get("rotate"))||0)*PI$3/180,Wr=AxisBuilder.innerTextLayout(Mr.rotation,Gr,Mr.labelDirection),Kr=Dr.getCategories&&Dr.getCategories(!0),Zr=[],Jr=AxisBuilder.isLabelSilent(Dr),rn=Dr.get("triggerEvent");return each$f(jr,function(nn,ln){var cn=$r.scale.type==="ordinal"?$r.scale.getRawOrdinalNumber(nn.tickValue):nn.tickValue,hn=nn.formattedLabel,mn=nn.rawLabel,bn=zr;if(Kr&&Kr[cn]){var An=Kr[cn];isObject$3(An)&&An.textStyle&&(bn=new Model$1(An.textStyle,zr,Dr.ecModel))}var vn=bn.getTextColor()||Dr.get(["axisLine","lineStyle","color"]),dn=$r.dataToCoord(cn),wn=new ZRText$1({x:dn,y:Mr.labelOffset+Mr.labelDirection*Vr,rotation:Wr.rotation,silent:Jr,z2:10+(nn.level||0),style:createTextStyle$1(bn,{text:hn,align:bn.getShallow("align",!0)||Wr.textAlign,verticalAlign:bn.getShallow("verticalAlign",!0)||bn.getShallow("baseline",!0)||Wr.textVerticalAlign,fill:isFunction(vn)?vn($r.type==="category"?mn:$r.type==="value"?cn+"":cn,ln):vn})});if(wn.anid="label_"+cn,rn){var xn=AxisBuilder.makeAxisEventDataBase(Dr);xn.targetType="axisLabel",xn.value=mn,xn.tickIndex=ln,$r.type==="category"&&(xn.dataIndex=cn),getECData(wn).eventData=xn}Be.add(wn),wn.updateTransform(),Zr.push(wn),_r.add(wn),wn.decomposeTransform()}),Zr}}const AxisBuilder$1=AxisBuilder;function collect(_r,Be){var Dr={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(Dr,_r,Be),Dr.seriesInvolved&&collectSeriesInfo(Dr,_r),Dr}function collectAxesInfo(_r,Be,Dr){var Mr=Be.getComponent("tooltip"),$r=Be.getComponent("axisPointer"),Br=$r.get("link",!0)||[],zr=[];each$f(Dr.getCoordinateSystems(),function(Vr){if(!Vr.axisPointerEnabled)return;var jr=makeKey(Vr.model),Gr=_r.coordSysAxesInfo[jr]={};_r.coordSysMap[jr]=Vr;var Wr=Vr.model,Kr=Wr.getModel("tooltip",Mr);if(each$f(Vr.getAxes(),curry$1(nn,!1,null)),Vr.getTooltipAxes&&Mr&&Kr.get("show")){var Zr=Kr.get("trigger")==="axis",Jr=Kr.get(["axisPointer","type"])==="cross",rn=Vr.getTooltipAxes(Kr.get(["axisPointer","axis"]));(Zr||Jr)&&each$f(rn.baseAxes,curry$1(nn,Jr?"cross":!0,Zr)),Jr&&each$f(rn.otherAxes,curry$1(nn,"cross",!1))}function nn(ln,cn,hn){var mn=hn.model.getModel("axisPointer",$r),bn=mn.get("show");if(!(!bn||bn==="auto"&&!ln&&!isHandleTrigger(mn))){cn==null&&(cn=mn.get("triggerTooltip")),mn=ln?makeAxisPointerModel(hn,Kr,$r,Be,ln,cn):mn;var An=mn.get("snap"),vn=mn.get("triggerEmphasis"),dn=makeKey(hn.model),wn=cn||An||hn.type==="category",xn=_r.axesInfo[dn]={key:dn,axis:hn,coordSys:Vr,axisPointerModel:mn,triggerTooltip:cn,triggerEmphasis:vn,involveSeries:wn,snap:An,useHandle:isHandleTrigger(mn),seriesModels:[],linkGroup:null};Gr[dn]=xn,_r.seriesInvolved=_r.seriesInvolved||wn;var Mn=getLinkGroupIndex(Br,hn);if(Mn!=null){var In=zr[Mn]||(zr[Mn]={axesInfo:{}});In.axesInfo[dn]=xn,In.mapper=Br[Mn].mapper,xn.linkGroup=In}}}})}function makeAxisPointerModel(_r,Be,Dr,Mr,$r,Br){var zr=Be.getModel("axisPointer"),Vr=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],jr={};each$f(Vr,function(Zr){jr[Zr]=clone$4(zr.get(Zr))}),jr.snap=_r.type!=="category"&&!!Br,zr.get("type")==="cross"&&(jr.type="line");var Gr=jr.label||(jr.label={});if(Gr.show==null&&(Gr.show=!1),$r==="cross"){var Wr=zr.get(["label","show"]);if(Gr.show=Wr??!0,!Br){var Kr=jr.lineStyle=zr.get("crossStyle");Kr&&defaults(Gr,Kr.textStyle)}}return _r.model.getModel("axisPointer",new Model$1(jr,Dr,Mr))}function collectSeriesInfo(_r,Be){Be.eachSeries(function(Dr){var Mr=Dr.coordinateSystem,$r=Dr.get(["tooltip","trigger"],!0),Br=Dr.get(["tooltip","show"],!0);!Mr||$r==="none"||$r===!1||$r==="item"||Br===!1||Dr.get(["axisPointer","show"],!0)===!1||each$f(_r.coordSysAxesInfo[makeKey(Mr.model)],function(zr){var Vr=zr.axis;Mr.getAxis(Vr.dim)===Vr&&(zr.seriesModels.push(Dr),zr.seriesDataCount==null&&(zr.seriesDataCount=0),zr.seriesDataCount+=Dr.getData().count())})})}function getLinkGroupIndex(_r,Be){for(var Dr=Be.model,Mr=Be.dim,$r=0;$r<_r.length;$r++){var Br=_r[$r]||{};if(checkPropInLink(Br[Mr+"AxisId"],Dr.id)||checkPropInLink(Br[Mr+"AxisIndex"],Dr.componentIndex)||checkPropInLink(Br[Mr+"AxisName"],Dr.name))return $r}}function checkPropInLink(_r,Be){return _r==="all"||isArray$1(_r)&&indexOf(_r,Be)>=0||_r===Be}function fixValue(_r){var Be=getAxisInfo$1(_r);if(Be){var Dr=Be.axisPointerModel,Mr=Be.axis.scale,$r=Dr.option,Br=Dr.get("status"),zr=Dr.get("value");zr!=null&&(zr=Mr.parse(zr));var Vr=isHandleTrigger(Dr);Br==null&&($r.status=Vr?"show":"hide");var jr=Mr.getExtent().slice();jr[0]>jr[1]&&jr.reverse(),(zr==null||zr>jr[1])&&(zr=jr[1]),zr<jr[0]&&(zr=jr[0]),$r.value=zr,Vr&&($r.status=Be.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(_r){var Be=(_r.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return Be&&Be.axesInfo[makeKey(_r)]}function getAxisPointerModel(_r){var Be=getAxisInfo$1(_r);return Be&&Be.axisPointerModel}function isHandleTrigger(_r){return!!_r.get(["handle","show"])}function makeKey(_r){return _r.type+"||"+_r.id}var axisPointerClazz={},AxisView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){this.axisPointerClass&&fixValue(Dr),_r.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(Dr,$r,!0)},Be.prototype.updateAxisPointer=function(Dr,Mr,$r,Br){this._doUpdateAxisPointerClass(Dr,$r,!1)},Be.prototype.remove=function(Dr,Mr){var $r=this._axisPointer;$r&&$r.remove(Mr)},Be.prototype.dispose=function(Dr,Mr){this._disposeAxisPointer(Mr),_r.prototype.dispose.apply(this,arguments)},Be.prototype._doUpdateAxisPointerClass=function(Dr,Mr,$r){var Br=Be.getAxisPointerClass(this.axisPointerClass);if(Br){var zr=getAxisPointerModel(Dr);zr?(this._axisPointer||(this._axisPointer=new Br)).render(Dr,zr,Mr,$r):this._disposeAxisPointer(Mr)}},Be.prototype._disposeAxisPointer=function(Dr){this._axisPointer&&this._axisPointer.dispose(Dr),this._axisPointer=null},Be.registerAxisPointerClass=function(Dr,Mr){axisPointerClazz[Dr]=Mr},Be.getAxisPointerClass=function(Dr){return Dr&&axisPointerClazz[Dr]},Be.type="axis",Be}(ComponentView$1);const AxisView$1=AxisView;var inner$f=makeInner();function rectCoordAxisBuildSplitArea(_r,Be,Dr,Mr){var $r=Dr.axis;if(!$r.scale.isBlank()){var Br=Dr.getModel("splitArea"),zr=Br.getModel("areaStyle"),Vr=zr.get("color"),jr=Mr.coordinateSystem.getRect(),Gr=$r.getTicksCoords({tickModel:Br,clamp:!0});if(Gr.length){var Wr=Vr.length,Kr=inner$f(_r).splitAreaColors,Zr=createHashMap(),Jr=0;if(Kr)for(var rn=0;rn<Gr.length;rn++){var nn=Kr.get(Gr[rn].tickValue);if(nn!=null){Jr=(nn+(Wr-1)*rn)%Wr;break}}var ln=$r.toGlobalCoord(Gr[0].coord),cn=zr.getAreaStyle();Vr=isArray$1(Vr)?Vr:[Vr];for(var rn=1;rn<Gr.length;rn++){var hn=$r.toGlobalCoord(Gr[rn].coord),mn=void 0,bn=void 0,An=void 0,vn=void 0;$r.isHorizontal()?(mn=ln,bn=jr.y,An=hn-mn,vn=jr.height,ln=mn+An):(mn=jr.x,bn=ln,An=jr.width,vn=hn-bn,ln=bn+vn);var dn=Gr[rn-1].tickValue;dn!=null&&Zr.set(dn,Jr),Be.add(new Rect$3({anid:dn!=null?"area_"+dn:null,shape:{x:mn,y:bn,width:An,height:vn},style:defaults({fill:Vr[Jr]},cn),autoBatch:!0,silent:!0})),Jr=(Jr+1)%Wr}inner$f(_r).splitAreaColors=Zr}}}function rectCoordAxisHandleRemove(_r){inner$f(_r).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.axisPointerClass="CartesianAxisPointer",Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){this.group.removeAll();var zr=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!Dr.get("show")){var Vr=Dr.getCoordSysModel(),jr=layout$2(Vr,Dr),Gr=new AxisBuilder$1(Dr,extend$1({handleAutoShown:function(Kr){for(var Zr=Vr.coordinateSystem.getCartesians(),Jr=0;Jr<Zr.length;Jr++)if(isIntervalOrLogScale(Zr[Jr].getOtherAxis(Dr.axis).scale))return!0;return!1}},jr));each$f(axisBuilderAttrs$3,Gr.add,Gr),this._axisGroup.add(Gr.getGroup()),each$f(selfBuilderAttrs$2,function(Kr){Dr.get([Kr,"show"])&&axisElementBuilders$2[Kr](this,this._axisGroup,Dr,Vr)},this);var Wr=Br&&Br.type==="changeAxisOrder"&&Br.isInitSort;Wr||groupTransition(zr,this._axisGroup,Dr),_r.prototype.render.call(this,Dr,Mr,$r,Br)}},Be.prototype.remove=function(){rectCoordAxisHandleRemove(this)},Be.type="cartesianAxis",Be}(AxisView$1),axisElementBuilders$2={splitLine:function(_r,Be,Dr,Mr){var $r=Dr.axis;if(!$r.scale.isBlank()){var Br=Dr.getModel("splitLine"),zr=Br.getModel("lineStyle"),Vr=zr.get("color");Vr=isArray$1(Vr)?Vr:[Vr];for(var jr=Mr.coordinateSystem.getRect(),Gr=$r.isHorizontal(),Wr=0,Kr=$r.getTicksCoords({tickModel:Br}),Zr=[],Jr=[],rn=zr.getLineStyle(),nn=0;nn<Kr.length;nn++){var ln=$r.toGlobalCoord(Kr[nn].coord);Gr?(Zr[0]=ln,Zr[1]=jr.y,Jr[0]=ln,Jr[1]=jr.y+jr.height):(Zr[0]=jr.x,Zr[1]=ln,Jr[0]=jr.x+jr.width,Jr[1]=ln);var cn=Wr++%Vr.length,hn=Kr[nn].tickValue,mn=new Line$3({anid:hn!=null?"line_"+Kr[nn].tickValue:null,autoBatch:!0,shape:{x1:Zr[0],y1:Zr[1],x2:Jr[0],y2:Jr[1]},style:defaults({stroke:Vr[cn]},rn),silent:!0});subPixelOptimizeLine(mn.shape,rn.lineWidth),Be.add(mn)}}},minorSplitLine:function(_r,Be,Dr,Mr){var $r=Dr.axis,Br=Dr.getModel("minorSplitLine"),zr=Br.getModel("lineStyle"),Vr=Mr.coordinateSystem.getRect(),jr=$r.isHorizontal(),Gr=$r.getMinorTicksCoords();if(Gr.length)for(var Wr=[],Kr=[],Zr=zr.getLineStyle(),Jr=0;Jr<Gr.length;Jr++)for(var rn=0;rn<Gr[Jr].length;rn++){var nn=$r.toGlobalCoord(Gr[Jr][rn].coord);jr?(Wr[0]=nn,Wr[1]=Vr.y,Kr[0]=nn,Kr[1]=Vr.y+Vr.height):(Wr[0]=Vr.x,Wr[1]=nn,Kr[0]=Vr.x+Vr.width,Kr[1]=nn);var ln=new Line$3({anid:"minor_line_"+Gr[Jr][rn].tickValue,autoBatch:!0,shape:{x1:Wr[0],y1:Wr[1],x2:Kr[0],y2:Kr[1]},style:Zr,silent:!0});subPixelOptimizeLine(ln.shape,Zr.lineWidth),Be.add(ln)}},splitArea:function(_r,Be,Dr,Mr){rectCoordAxisBuildSplitArea(_r,Be,Dr,Mr)}},CartesianXAxisView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="xAxis",Be}(CartesianAxisView),CartesianYAxisView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=CartesianXAxisView.type,Dr}return Be.type="yAxis",Be}(CartesianAxisView),GridView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type="grid",Dr}return Be.prototype.render=function(Dr,Mr){this.group.removeAll(),Dr.get("show")&&this.group.add(new Rect$3({shape:Dr.coordinateSystem.getRect(),style:defaults({fill:Dr.get("backgroundColor")},Dr.getItemStyle()),silent:!0,z2:-1}))},Be.type="grid",Be}(ComponentView$1),extraOption={offset:0};function install$N(_r){_r.registerComponentView(GridView),_r.registerComponentModel(GridModel$1),_r.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator(_r,"x",CartesianAxisModel,extraOption),axisModelCreator(_r,"y",CartesianAxisModel,extraOption),_r.registerComponentView(CartesianXAxisView),_r.registerComponentView(CartesianYAxisView),_r.registerPreprocessor(function(Be){Be.xAxis&&Be.yAxis&&!Be.grid&&(Be.grid={})})}function install$M(_r){use(install$N),_r.registerSeriesModel(ScatterSeriesModel$1),_r.registerChartView(ScatterView$1),_r.registerLayout(pointsLayout("scatter"))}function radarLayout(_r){_r.eachSeriesByType("radar",function(Be){var Dr=Be.getData(),Mr=[],$r=Be.coordinateSystem;if($r){var Br=$r.getIndicatorAxes();each$f(Br,function(zr,Vr){Dr.each(Dr.mapDimension(Br[Vr].dim),function(jr,Gr){Mr[Gr]=Mr[Gr]||[];var Wr=$r.dataToPoint(jr,Vr);Mr[Gr][Vr]=isValidPoint(Wr)?Wr:getValueMissingPoint($r)})}),Dr.each(function(zr){var Vr=find(Mr[zr],function(jr){return isValidPoint(jr)})||getValueMissingPoint($r);Mr[zr].push(Vr.slice()),Dr.setItemLayout(zr,Mr[zr])})}})}function isValidPoint(_r){return!isNaN(_r[0])&&!isNaN(_r[1])}function getValueMissingPoint(_r){return[_r.cx,_r.cy]}function radarBackwardCompat(_r){var Be=_r.polar;if(Be){isArray$1(Be)||(Be=[Be]);var Dr=[];each$f(Be,function(Mr,$r){Mr.indicator?(Mr.type&&!Mr.shape&&(Mr.shape=Mr.type),_r.radar=_r.radar||[],isArray$1(_r.radar)||(_r.radar=[_r.radar]),_r.radar.push(Mr)):Dr.push(Mr)}),_r.polar=Dr}each$f(_r.series,function(Mr){Mr&&Mr.type==="radar"&&Mr.polarIndex&&(Mr.radarIndex=Mr.polarIndex)})}var RadarView$2=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=Dr.coordinateSystem,zr=this.group,Vr=Dr.getData(),jr=this._data;function Gr(Zr,Jr){var rn=Zr.getItemVisual(Jr,"symbol")||"circle";if(rn!=="none"){var nn=normalizeSymbolSize(Zr.getItemVisual(Jr,"symbolSize")),ln=createSymbol$1(rn,-1,-1,2,2),cn=Zr.getItemVisual(Jr,"symbolRotate")||0;return ln.attr({style:{strokeNoScale:!0},z2:100,scaleX:nn[0]/2,scaleY:nn[1]/2,rotation:cn*Math.PI/180||0}),ln}}function Wr(Zr,Jr,rn,nn,ln,cn){rn.removeAll();for(var hn=0;hn<Jr.length-1;hn++){var mn=Gr(nn,ln);mn&&(mn.__dimIdx=hn,Zr[hn]?(mn.setPosition(Zr[hn]),graphic$1[cn?"initProps":"updateProps"](mn,{x:Jr[hn][0],y:Jr[hn][1]},Dr,ln)):mn.setPosition(Jr[hn]),rn.add(mn))}}function Kr(Zr){return map$1(Zr,function(Jr){return[Br.cx,Br.cy]})}Vr.diff(jr).add(function(Zr){var Jr=Vr.getItemLayout(Zr);if(Jr){var rn=new Polygon$1,nn=new Polyline$3,ln={shape:{points:Jr}};rn.shape.points=Kr(Jr),nn.shape.points=Kr(Jr),initProps(rn,ln,Dr,Zr),initProps(nn,ln,Dr,Zr);var cn=new Group$4,hn=new Group$4;cn.add(nn),cn.add(rn),cn.add(hn),Wr(nn.shape.points,Jr,hn,Vr,Zr,!0),Vr.setItemGraphicEl(Zr,cn)}}).update(function(Zr,Jr){var rn=jr.getItemGraphicEl(Jr),nn=rn.childAt(0),ln=rn.childAt(1),cn=rn.childAt(2),hn={shape:{points:Vr.getItemLayout(Zr)}};hn.shape.points&&(Wr(nn.shape.points,hn.shape.points,cn,Vr,Zr,!1),saveOldStyle(ln),saveOldStyle(nn),updateProps$1(nn,hn,Dr),updateProps$1(ln,hn,Dr),Vr.setItemGraphicEl(Zr,rn))}).remove(function(Zr){zr.remove(jr.getItemGraphicEl(Zr))}).execute(),Vr.eachItemGraphicEl(function(Zr,Jr){var rn=Vr.getItemModel(Jr),nn=Zr.childAt(0),ln=Zr.childAt(1),cn=Zr.childAt(2),hn=Vr.getItemVisual(Jr,"style"),mn=hn.fill;zr.add(Zr),nn.useStyle(defaults(rn.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:mn})),setStatesStylesFromModel(nn,rn,"lineStyle"),setStatesStylesFromModel(ln,rn,"areaStyle");var bn=rn.getModel("areaStyle"),An=bn.isEmpty()&&bn.parentModel.isEmpty();ln.ignore=An,each$f(["emphasis","select","blur"],function(wn){var xn=rn.getModel([wn,"areaStyle"]),Mn=xn.isEmpty()&&xn.parentModel.isEmpty();ln.ensureState(wn).ignore=Mn&&An}),ln.useStyle(defaults(bn.getAreaStyle(),{fill:mn,opacity:.7,decal:hn.decal}));var vn=rn.getModel("emphasis"),dn=vn.getModel("itemStyle").getItemStyle();cn.eachChild(function(wn){if(wn instanceof ZRImage$1){var xn=wn.style;wn.useStyle(extend$1({image:xn.image,x:xn.x,y:xn.y,width:xn.width,height:xn.height},hn))}else wn.useStyle(hn),wn.setColor(mn),wn.style.strokeNoScale=!0;var Mn=wn.ensureState("emphasis");Mn.style=clone$4(dn);var In=Vr.getStore().get(Vr.getDimensionIndex(wn.__dimIdx),Jr);(In==null||isNaN(In))&&(In=""),setLabelStyle(wn,getLabelStatesModels(rn),{labelFetcher:Vr.hostModel,labelDataIndex:Jr,labelDimIndex:wn.__dimIdx,defaultText:In,inheritColor:mn,defaultOpacity:hn.opacity})}),toggleHoverEmphasis(Zr,vn.get("focus"),vn.get("blurScope"),vn.get("disabled"))}),this._data=Vr},Be.prototype.remove=function(){this.group.removeAll(),this._data=null},Be.type="radar",Be}(ChartView$1);const RadarView$3=RadarView$2;var RadarSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.hasSymbolVisual=!0,Dr}return Be.prototype.init=function(Dr){_r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},Be.prototype.getInitialData=function(Dr,Mr){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},Be.prototype.formatTooltip=function(Dr,Mr,$r){var Br=this.getData(),zr=this.coordinateSystem,Vr=zr.getIndicatorAxes(),jr=this.getData().getName(Dr),Gr=jr===""?this.name:jr,Wr=retrieveVisualColorForTooltipMarker(this,Dr);return createTooltipMarkup("section",{header:Gr,sortBlocks:!0,blocks:map$1(Vr,function(Kr){var Zr=Br.get(Br.mapDimension(Kr.dim),Dr);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:Wr,name:Kr.name,value:Zr,sortParam:Zr})})})},Be.prototype.getTooltipPosition=function(Dr){if(Dr!=null){for(var Mr=this.getData(),$r=this.coordinateSystem,Br=Mr.getValues(map$1($r.dimensions,function(Gr){return Mr.mapDimension(Gr)}),Dr),zr=0,Vr=Br.length;zr<Vr;zr++)if(!isNaN(Br[zr])){var jr=$r.getIndicatorAxes();return $r.coordToPoint(jr[zr].dataToCoord(Br[zr]),zr)}}},Be.type="series.radar",Be.dependencies=["radar"],Be.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},Be}(SeriesModel$1);const RadarSeriesModel$1=RadarSeriesModel;var valueAxisDefault=axisDefault.value;function defaultsShow(_r,Be){return defaults({show:Be},_r)}var RadarModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.optionUpdated=function(){var Dr=this.get("boundaryGap"),Mr=this.get("splitNumber"),$r=this.get("scale"),Br=this.get("axisLine"),zr=this.get("axisTick"),Vr=this.get("axisLabel"),jr=this.get("axisName"),Gr=this.get(["axisName","show"]),Wr=this.get(["axisName","formatter"]),Kr=this.get("axisNameGap"),Zr=this.get("triggerEvent"),Jr=map$1(this.get("indicator")||[],function(rn){rn.max!=null&&rn.max>0&&!rn.min?rn.min=0:rn.min!=null&&rn.min<0&&!rn.max&&(rn.max=0);var nn=jr;rn.color!=null&&(nn=defaults({color:rn.color},jr));var ln=merge(clone$4(rn),{boundaryGap:Dr,splitNumber:Mr,scale:$r,axisLine:Br,axisTick:zr,axisLabel:Vr,name:rn.text,showName:Gr,nameLocation:"end",nameGap:Kr,nameTextStyle:nn,triggerEvent:Zr},!1);if(isString(Wr)){var cn=ln.name;ln.name=Wr.replace("{value}",cn??"")}else isFunction(Wr)&&(ln.name=Wr(ln.name,ln));var hn=new Model$1(ln,null,this.ecModel);return mixin(hn,AxisModelCommonMixin.prototype),hn.mainType="radar",hn.componentIndex=this.componentIndex,hn},this);this._indicatorModels=Jr},Be.prototype.getIndicatorModels=function(){return this._indicatorModels},Be.type="radar",Be.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},Be}(ComponentModel$1);const RadarModel$1=RadarModel;var axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=this.group;Br.removeAll(),this._buildAxes(Dr),this._buildSplitLineAndArea(Dr)},Be.prototype._buildAxes=function(Dr){var Mr=Dr.coordinateSystem,$r=Mr.getIndicatorAxes(),Br=map$1($r,function(zr){var Vr=zr.model.get("showName")?zr.name:"",jr=new AxisBuilder$1(zr.model,{axisName:Vr,position:[Mr.cx,Mr.cy],rotation:zr.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return jr});each$f(Br,function(zr){each$f(axisBuilderAttrs$2,zr.add,zr),this.group.add(zr.getGroup())},this)},Be.prototype._buildSplitLineAndArea=function(Dr){var Mr=Dr.coordinateSystem,$r=Mr.getIndicatorAxes();if(!$r.length)return;var Br=Dr.get("shape"),zr=Dr.getModel("splitLine"),Vr=Dr.getModel("splitArea"),jr=zr.getModel("lineStyle"),Gr=Vr.getModel("areaStyle"),Wr=zr.get("show"),Kr=Vr.get("show"),Zr=jr.get("color"),Jr=Gr.get("color"),rn=isArray$1(Zr)?Zr:[Zr],nn=isArray$1(Jr)?Jr:[Jr],ln=[],cn=[];function hn(Bn,Gn,ei){var ri=ei%Gn.length;return Bn[ri]=Bn[ri]||[],ri}if(Br==="circle")for(var mn=$r[0].getTicksCoords(),bn=Mr.cx,An=Mr.cy,vn=0;vn<mn.length;vn++){if(Wr){var dn=hn(ln,rn,vn);ln[dn].push(new Circle$1({shape:{cx:bn,cy:An,r:mn[vn].coord}}))}if(Kr&&vn<mn.length-1){var dn=hn(cn,nn,vn);cn[dn].push(new Ring$1({shape:{cx:bn,cy:An,r0:mn[vn].coord,r:mn[vn+1].coord}}))}}else for(var wn,xn=map$1($r,function(Bn,Gn){var ei=Bn.getTicksCoords();return wn=wn==null?ei.length-1:Math.min(ei.length-1,wn),map$1(ei,function(ri){return Mr.coordToPoint(ri.coord,Gn)})}),Mn=[],vn=0;vn<=wn;vn++){for(var In=[],Hn=0;Hn<$r.length;Hn++)In.push(xn[Hn][vn]);if(In[0]&&In.push(In[0].slice()),Wr){var dn=hn(ln,rn,vn);ln[dn].push(new Polyline$3({shape:{points:In}}))}if(Kr&&Mn){var dn=hn(cn,nn,vn-1);cn[dn].push(new Polygon$1({shape:{points:In.concat(Mn)}}))}Mn=In.slice().reverse()}var $n=jr.getLineStyle(),jn=Gr.getAreaStyle();each$f(cn,function(Bn,Gn){this.group.add(mergePath(Bn,{style:defaults({stroke:"none",fill:nn[Gn%nn.length]},jn),silent:!0}))},this),each$f(ln,function(Bn,Gn){this.group.add(mergePath(Bn,{style:defaults({fill:"none",stroke:rn[Gn%rn.length]},$n),silent:!0}))},this)},Be.type="radar",Be}(ComponentView$1);const RadarView$1=RadarView;var IndicatorAxis=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this,Dr,Mr,$r)||this;return Br.type="value",Br.angle=0,Br.name="",Br}return Be}(Axis$1);const IndicatorAxis$1=IndicatorAxis;var Radar=function(){function _r(Be,Dr,Mr){this.dimensions=[],this._model=Be,this._indicatorAxes=map$1(Be.getIndicatorModels(),function($r,Br){var zr="indicator_"+Br,Vr=new IndicatorAxis$1(zr,new IntervalScale$1);return Vr.name=$r.get("name"),Vr.model=$r,$r.axis=Vr,this.dimensions.push(zr),Vr},this),this.resize(Be,Mr)}return _r.prototype.getIndicatorAxes=function(){return this._indicatorAxes},_r.prototype.dataToPoint=function(Be,Dr){var Mr=this._indicatorAxes[Dr];return this.coordToPoint(Mr.dataToCoord(Be),Dr)},_r.prototype.coordToPoint=function(Be,Dr){var Mr=this._indicatorAxes[Dr],$r=Mr.angle,Br=this.cx+Be*Math.cos($r),zr=this.cy-Be*Math.sin($r);return[Br,zr]},_r.prototype.pointToData=function(Be){var Dr=Be[0]-this.cx,Mr=Be[1]-this.cy,$r=Math.sqrt(Dr*Dr+Mr*Mr);Dr/=$r,Mr/=$r;for(var Br=Math.atan2(-Mr,Dr),zr=1/0,Vr,jr=-1,Gr=0;Gr<this._indicatorAxes.length;Gr++){var Wr=this._indicatorAxes[Gr],Kr=Math.abs(Br-Wr.angle);Kr<zr&&(Vr=Wr,jr=Gr,zr=Kr)}return[jr,+(Vr&&Vr.coordToData($r))]},_r.prototype.resize=function(Be,Dr){var Mr=Be.get("center"),$r=Dr.getWidth(),Br=Dr.getHeight(),zr=Math.min($r,Br)/2;this.cx=parsePercent(Mr[0],$r),this.cy=parsePercent(Mr[1],Br),this.startAngle=Be.get("startAngle")*Math.PI/180;var Vr=Be.get("radius");(isString(Vr)||isNumber(Vr))&&(Vr=[0,Vr]),this.r0=parsePercent(Vr[0],zr),this.r=parsePercent(Vr[1],zr),each$f(this._indicatorAxes,function(jr,Gr){jr.setExtent(this.r0,this.r);var Wr=this.startAngle+Gr*Math.PI*2/this._indicatorAxes.length;Wr=Math.atan2(Math.sin(Wr),Math.cos(Wr)),jr.angle=Wr},this)},_r.prototype.update=function(Be,Dr){var Mr=this._indicatorAxes,$r=this._model;each$f(Mr,function(Vr){Vr.scale.setExtent(1/0,-1/0)}),Be.eachSeriesByType("radar",function(Vr,jr){if(!(Vr.get("coordinateSystem")!=="radar"||Be.getComponent("radar",Vr.get("radarIndex"))!==$r)){var Gr=Vr.getData();each$f(Mr,function(Wr){Wr.scale.unionExtentFromData(Gr,Gr.mapDimension(Wr.dim))})}},this);var Br=$r.get("splitNumber"),zr=new IntervalScale$1;zr.setExtent(0,Br),zr.setInterval(1),each$f(Mr,function(Vr,jr){alignScaleTicks(Vr.scale,Vr.model,zr)})},_r.prototype.convertToPixel=function(Be,Dr,Mr){return console.warn("Not implemented."),null},_r.prototype.convertFromPixel=function(Be,Dr,Mr){return console.warn("Not implemented."),null},_r.prototype.containPoint=function(Be){return console.warn("Not implemented."),!1},_r.create=function(Be,Dr){var Mr=[];return Be.eachComponent("radar",function($r){var Br=new _r($r,Be,Dr);Mr.push(Br),$r.coordinateSystem=Br}),Be.eachSeriesByType("radar",function($r){$r.get("coordinateSystem")==="radar"&&($r.coordinateSystem=Mr[$r.get("radarIndex")||0])}),Mr},_r.dimensions=[],_r}();const Radar$1=Radar;function install$L(_r){_r.registerCoordinateSystem("radar",Radar$1),_r.registerComponentModel(RadarModel$1),_r.registerComponentView(RadarView$1),_r.registerVisual({seriesType:"radar",reset:function(Be){var Dr=Be.getData();Dr.each(function(Mr){Dr.setItemVisual(Mr,"legendIcon","roundRect")}),Dr.setVisual("legendIcon","roundRect")}})}function install$K(_r){use(install$L),_r.registerChartView(RadarView$3),_r.registerSeriesModel(RadarSeriesModel$1),_r.registerLayout(radarLayout),_r.registerProcessor(dataFilter$1("radar")),_r.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(_r,Be,Dr){var Mr=getStore(_r);Mr[Be]=Dr}function release(_r,Be,Dr){var Mr=getStore(_r),$r=Mr[Be];$r===Dr&&(Mr[Be]=null)}function isTaken(_r,Be){return!!getStore(_r)[Be]}function getStore(_r){return _r[ATTR]||(_r[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this)||this;Mr._zr=Dr;var $r=bind$1(Mr._mousedownHandler,Mr),Br=bind$1(Mr._mousemoveHandler,Mr),zr=bind$1(Mr._mouseupHandler,Mr),Vr=bind$1(Mr._mousewheelHandler,Mr),jr=bind$1(Mr._pinchHandler,Mr);return Mr.enable=function(Gr,Wr){this.disable(),this._opt=defaults(clone$4(Wr)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),Gr==null&&(Gr=!0),(Gr===!0||Gr==="move"||Gr==="pan")&&(Dr.on("mousedown",$r),Dr.on("mousemove",Br),Dr.on("mouseup",zr)),(Gr===!0||Gr==="scale"||Gr==="zoom")&&(Dr.on("mousewheel",Vr),Dr.on("pinch",jr))},Mr.disable=function(){Dr.off("mousedown",$r),Dr.off("mousemove",Br),Dr.off("mouseup",zr),Dr.off("mousewheel",Vr),Dr.off("pinch",jr)},Mr}return Be.prototype.isDragging=function(){return this._dragging},Be.prototype.isPinching=function(){return this._pinching},Be.prototype.setPointerChecker=function(Dr){this.pointerChecker=Dr},Be.prototype.dispose=function(){this.disable()},Be.prototype._mousedownHandler=function(Dr){if(!isMiddleOrRightButtonOnMouseUpDown(Dr)){for(var Mr=Dr.target;Mr;){if(Mr.draggable)return;Mr=Mr.__hostTarget||Mr.parent}var $r=Dr.offsetX,Br=Dr.offsetY;this.pointerChecker&&this.pointerChecker(Dr,$r,Br)&&(this._x=$r,this._y=Br,this._dragging=!0)}},Be.prototype._mousemoveHandler=function(Dr){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",Dr,this._opt)||Dr.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var Mr=Dr.offsetX,$r=Dr.offsetY,Br=this._x,zr=this._y,Vr=Mr-Br,jr=$r-zr;this._x=Mr,this._y=$r,this._opt.preventDefaultMouseMove&&stop(Dr.event),trigger$1(this,"pan","moveOnMouseMove",Dr,{dx:Vr,dy:jr,oldX:Br,oldY:zr,newX:Mr,newY:$r,isAvailableBehavior:null})}},Be.prototype._mouseupHandler=function(Dr){isMiddleOrRightButtonOnMouseUpDown(Dr)||(this._dragging=!1)},Be.prototype._mousewheelHandler=function(Dr){var Mr=isAvailableBehavior("zoomOnMouseWheel",Dr,this._opt),$r=isAvailableBehavior("moveOnMouseWheel",Dr,this._opt),Br=Dr.wheelDelta,zr=Math.abs(Br),Vr=Dr.offsetX,jr=Dr.offsetY;if(!(Br===0||!Mr&&!$r)){if(Mr){var Gr=zr>3?1.4:zr>1?1.2:1.1,Wr=Br>0?Gr:1/Gr;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",Dr,{scale:Wr,originX:Vr,originY:jr,isAvailableBehavior:null})}if($r){var Kr=Math.abs(Br),Zr=(Br>0?1:-1)*(Kr>3?.4:Kr>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",Dr,{scrollDelta:Zr,originX:Vr,originY:jr,isAvailableBehavior:null})}}},Be.prototype._pinchHandler=function(Dr){if(!isTaken(this._zr,"globalPan")){var Mr=Dr.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,Dr,{scale:Mr,originX:Dr.pinchX,originY:Dr.pinchY,isAvailableBehavior:null})}},Be}(Eventful$1);function checkPointerAndTrigger(_r,Be,Dr,Mr,$r){_r.pointerChecker&&_r.pointerChecker(Mr,$r.originX,$r.originY)&&(stop(Mr.event),trigger$1(_r,Be,Dr,Mr,$r))}function trigger$1(_r,Be,Dr,Mr,$r){$r.isAvailableBehavior=bind$1(isAvailableBehavior,null,Dr,Mr),_r.trigger(Be,$r)}function isAvailableBehavior(_r,Be,Dr){var Mr=Dr[_r];return!_r||Mr&&(!isString(Mr)||Be.event[Mr+"Key"])}const RoamController$1=RoamController;function updateViewOnPan(_r,Be,Dr){var Mr=_r.target;Mr.x+=Be,Mr.y+=Dr,Mr.dirty()}function updateViewOnZoom(_r,Be,Dr,Mr){var $r=_r.target,Br=_r.zoomLimit,zr=_r.zoom=_r.zoom||1;if(zr*=Be,Br){var Vr=Br.min||0,jr=Br.max||1/0;zr=Math.max(Math.min(jr,zr),Vr)}var Gr=zr/_r.zoom;_r.zoom=zr,$r.x-=(Dr-$r.x)*(Gr-1),$r.y-=(Mr-$r.y)*(Gr-1),$r.scaleX*=Gr,$r.scaleY*=Gr,$r.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(_r,Be,Dr){var Mr=Be.getComponentByElement(_r.topTarget),$r=Mr&&Mr.coordinateSystem;return Mr&&Mr!==Dr&&!IRRELEVANT_EXCLUDES.hasOwnProperty(Mr.mainType)&&$r&&$r.model!==Dr}function parseXML(_r){if(isString(_r)){var Be=new DOMParser;_r=Be.parseFromString(_r,"text/xml")}var Dr=_r;for(Dr.nodeType===9&&(Dr=Dr.firstChild);Dr.nodeName.toLowerCase()!=="svg"||Dr.nodeType!==1;)Dr=Dr.nextSibling;return Dr}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function _r(){this._defs={},this._root=null}return _r.prototype.parse=function(Be,Dr){Dr=Dr||{};var Mr=parseXML(Be);this._defsUsePending=[];var $r=new Group$4;this._root=$r;var Br=[],zr=Mr.getAttribute("viewBox")||"",Vr=parseFloat(Mr.getAttribute("width")||Dr.width),jr=parseFloat(Mr.getAttribute("height")||Dr.height);isNaN(Vr)&&(Vr=null),isNaN(jr)&&(jr=null),parseAttributes(Mr,$r,null,!0,!1);for(var Gr=Mr.firstChild;Gr;)this._parseNode(Gr,$r,Br,null,!1,!1),Gr=Gr.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var Wr,Kr;if(zr){var Zr=splitNumberSequence(zr);Zr.length>=4&&(Wr={x:parseFloat(Zr[0]||0),y:parseFloat(Zr[1]||0),width:parseFloat(Zr[2]),height:parseFloat(Zr[3])})}if(Wr&&Vr!=null&&jr!=null&&(Kr=makeViewBoxTransform(Wr,{x:0,y:0,width:Vr,height:jr}),!Dr.ignoreViewBox)){var Jr=$r;$r=new Group$4,$r.add(Jr),Jr.scaleX=Jr.scaleY=Kr.scale,Jr.x=Kr.x,Jr.y=Kr.y}return!Dr.ignoreRootClip&&Vr!=null&&jr!=null&&$r.setClipPath(new Rect$3({shape:{x:0,y:0,width:Vr,height:jr}})),{root:$r,width:Vr,height:jr,viewBoxRect:Wr,viewBoxTransform:Kr,named:Br}},_r.prototype._parseNode=function(Be,Dr,Mr,$r,Br,zr){var Vr=Be.nodeName.toLowerCase(),jr,Gr=$r;if(Vr==="defs"&&(Br=!0),Vr==="text"&&(zr=!0),Vr==="defs"||Vr==="switch")jr=Dr;else{if(!Br){var Wr=nodeParsers[Vr];if(Wr&&hasOwn(nodeParsers,Vr)){jr=Wr.call(this,Be,Dr);var Kr=Be.getAttribute("name");if(Kr){var Zr={name:Kr,namedFrom:null,svgNodeTagLower:Vr,el:jr};Mr.push(Zr),Vr==="g"&&(Gr=Zr)}else $r&&Mr.push({name:$r.name,namedFrom:$r,svgNodeTagLower:Vr,el:jr});Dr.add(jr)}}var Jr=paintServerParsers[Vr];if(Jr&&hasOwn(paintServerParsers,Vr)){var rn=Jr.call(this,Be),nn=Be.getAttribute("id");nn&&(this._defs[nn]=rn)}}if(jr&&jr.isGroup)for(var ln=Be.firstChild;ln;)ln.nodeType===1?this._parseNode(ln,jr,Mr,Gr,Br,zr):ln.nodeType===3&&zr&&this._parseText(ln,jr),ln=ln.nextSibling},_r.prototype._parseText=function(Be,Dr){var Mr=new TSpan$1({style:{text:Be.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(Dr,Mr),parseAttributes(Be,Mr,this._defsUsePending,!1,!1),applyTextAlignment(Mr,Dr);var $r=Mr.style,Br=$r.fontSize;Br&&Br<9&&($r.fontSize=9,Mr.scaleX*=Br/9,Mr.scaleY*=Br/9);var zr=($r.fontSize||$r.fontFamily)&&[$r.fontStyle,$r.fontWeight,($r.fontSize||12)+"px",$r.fontFamily||"sans-serif"].join(" ");$r.font=zr;var Vr=Mr.getBoundingRect();return this._textX+=Vr.width,Dr.add(Mr),Mr},_r.internalField=function(){nodeParsers={g:function(Be,Dr){var Mr=new Group$4;return inheritStyle(Dr,Mr),parseAttributes(Be,Mr,this._defsUsePending,!1,!1),Mr},rect:function(Be,Dr){var Mr=new Rect$3;return inheritStyle(Dr,Mr),parseAttributes(Be,Mr,this._defsUsePending,!1,!1),Mr.setShape({x:parseFloat(Be.getAttribute("x")||"0"),y:parseFloat(Be.getAttribute("y")||"0"),width:parseFloat(Be.getAttribute("width")||"0"),height:parseFloat(Be.getAttribute("height")||"0")}),Mr.silent=!0,Mr},circle:function(Be,Dr){var Mr=new Circle$1;return inheritStyle(Dr,Mr),parseAttributes(Be,Mr,this._defsUsePending,!1,!1),Mr.setShape({cx:parseFloat(Be.getAttribute("cx")||"0"),cy:parseFloat(Be.getAttribute("cy")||"0"),r:parseFloat(Be.getAttribute("r")||"0")}),Mr.silent=!0,Mr},line:function(Be,Dr){var Mr=new Line$3;return inheritStyle(Dr,Mr),parseAttributes(Be,Mr,this._defsUsePending,!1,!1),Mr.setShape({x1:parseFloat(Be.getAttribute("x1")||"0"),y1:parseFloat(Be.getAttribute("y1")||"0"),x2:parseFloat(Be.getAttribute("x2")||"0"),y2:parseFloat(Be.getAttribute("y2")||"0")}),Mr.silent=!0,Mr},ellipse:function(Be,Dr){var Mr=new Ellipse$1;return inheritStyle(Dr,Mr),parseAttributes(Be,Mr,this._defsUsePending,!1,!1),Mr.setShape({cx:parseFloat(Be.getAttribute("cx")||"0"),cy:parseFloat(Be.getAttribute("cy")||"0"),rx:parseFloat(Be.getAttribute("rx")||"0"),ry:parseFloat(Be.getAttribute("ry")||"0")}),Mr.silent=!0,Mr},polygon:function(Be,Dr){var Mr=Be.getAttribute("points"),$r;Mr&&($r=parsePoints(Mr));var Br=new Polygon$1({shape:{points:$r||[]},silent:!0});return inheritStyle(Dr,Br),parseAttributes(Be,Br,this._defsUsePending,!1,!1),Br},polyline:function(Be,Dr){var Mr=Be.getAttribute("points"),$r;Mr&&($r=parsePoints(Mr));var Br=new Polyline$3({shape:{points:$r||[]},silent:!0});return inheritStyle(Dr,Br),parseAttributes(Be,Br,this._defsUsePending,!1,!1),Br},image:function(Be,Dr){var Mr=new ZRImage$1;return inheritStyle(Dr,Mr),parseAttributes(Be,Mr,this._defsUsePending,!1,!1),Mr.setStyle({image:Be.getAttribute("xlink:href")||Be.getAttribute("href"),x:+Be.getAttribute("x"),y:+Be.getAttribute("y"),width:+Be.getAttribute("width"),height:+Be.getAttribute("height")}),Mr.silent=!0,Mr},text:function(Be,Dr){var Mr=Be.getAttribute("x")||"0",$r=Be.getAttribute("y")||"0",Br=Be.getAttribute("dx")||"0",zr=Be.getAttribute("dy")||"0";this._textX=parseFloat(Mr)+parseFloat(Br),this._textY=parseFloat($r)+parseFloat(zr);var Vr=new Group$4;return inheritStyle(Dr,Vr),parseAttributes(Be,Vr,this._defsUsePending,!1,!0),Vr},tspan:function(Be,Dr){var Mr=Be.getAttribute("x"),$r=Be.getAttribute("y");Mr!=null&&(this._textX=parseFloat(Mr)),$r!=null&&(this._textY=parseFloat($r));var Br=Be.getAttribute("dx")||"0",zr=Be.getAttribute("dy")||"0",Vr=new Group$4;return inheritStyle(Dr,Vr),parseAttributes(Be,Vr,this._defsUsePending,!1,!0),this._textX+=parseFloat(Br),this._textY+=parseFloat(zr),Vr},path:function(Be,Dr){var Mr=Be.getAttribute("d")||"",$r=createFromString(Mr);return inheritStyle(Dr,$r),parseAttributes(Be,$r,this._defsUsePending,!1,!1),$r.silent=!0,$r}}}(),_r}(),paintServerParsers={lineargradient:function(_r){var Be=parseInt(_r.getAttribute("x1")||"0",10),Dr=parseInt(_r.getAttribute("y1")||"0",10),Mr=parseInt(_r.getAttribute("x2")||"10",10),$r=parseInt(_r.getAttribute("y2")||"0",10),Br=new LinearGradient$1(Be,Dr,Mr,$r);return parsePaintServerUnit(_r,Br),parseGradientColorStops(_r,Br),Br},radialgradient:function(_r){var Be=parseInt(_r.getAttribute("cx")||"0",10),Dr=parseInt(_r.getAttribute("cy")||"0",10),Mr=parseInt(_r.getAttribute("r")||"0",10),$r=new RadialGradient$1(Be,Dr,Mr);return parsePaintServerUnit(_r,$r),parseGradientColorStops(_r,$r),$r}};function parsePaintServerUnit(_r,Be){var Dr=_r.getAttribute("gradientUnits");Dr==="userSpaceOnUse"&&(Be.global=!0)}function parseGradientColorStops(_r,Be){for(var Dr=_r.firstChild;Dr;){if(Dr.nodeType===1&&Dr.nodeName.toLocaleLowerCase()==="stop"){var Mr=Dr.getAttribute("offset"),$r=void 0;Mr&&Mr.indexOf("%")>0?$r=parseInt(Mr,10)/100:Mr?$r=parseFloat(Mr):$r=0;var Br={};parseInlineStyle(Dr,Br,Br);var zr=Br.stopColor||Dr.getAttribute("stop-color")||"#000000";Be.colorStops.push({offset:$r,color:zr})}Dr=Dr.nextSibling}}function inheritStyle(_r,Be){_r&&_r.__inheritedStyle&&(Be.__inheritedStyle||(Be.__inheritedStyle={}),defaults(Be.__inheritedStyle,_r.__inheritedStyle))}function parsePoints(_r){for(var Be=splitNumberSequence(_r),Dr=[],Mr=0;Mr<Be.length;Mr+=2){var $r=parseFloat(Be[Mr]),Br=parseFloat(Be[Mr+1]);Dr.push([$r,Br])}return Dr}function parseAttributes(_r,Be,Dr,Mr,$r){var Br=Be,zr=Br.__inheritedStyle=Br.__inheritedStyle||{},Vr={};_r.nodeType===1&&(parseTransformAttribute(_r,Be),parseInlineStyle(_r,zr,Vr),Mr||parseAttributeStyle(_r,zr,Vr)),Br.style=Br.style||{},zr.fill!=null&&(Br.style.fill=getFillStrokeStyle(Br,"fill",zr.fill,Dr)),zr.stroke!=null&&(Br.style.stroke=getFillStrokeStyle(Br,"stroke",zr.stroke,Dr)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(jr){zr[jr]!=null&&(Br.style[jr]=parseFloat(zr[jr]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(jr){zr[jr]!=null&&(Br.style[jr]=zr[jr])}),$r&&(Br.__selfStyle=Vr),zr.lineDash&&(Br.style.lineDash=map$1(splitNumberSequence(zr.lineDash),function(jr){return parseFloat(jr)})),(zr.visibility==="hidden"||zr.visibility==="collapse")&&(Br.invisible=!0),zr.display==="none"&&(Br.ignore=!0)}function applyTextAlignment(_r,Be){var Dr=Be.__selfStyle;if(Dr){var Mr=Dr.textBaseline,$r=Mr;!Mr||Mr==="auto"||Mr==="baseline"?$r="alphabetic":Mr==="before-edge"||Mr==="text-before-edge"?$r="top":Mr==="after-edge"||Mr==="text-after-edge"?$r="bottom":(Mr==="central"||Mr==="mathematical")&&($r="middle"),_r.style.textBaseline=$r}var Br=Be.__inheritedStyle;if(Br){var zr=Br.textAlign,Vr=zr;zr&&(zr==="middle"&&(Vr="center"),_r.style.textAlign=Vr)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(_r,Be,Dr,Mr){var $r=Dr&&Dr.match(urlRegex);if($r){var Br=trim$1($r[1]);Mr.push([_r,Be,Br]);return}return Dr==="none"&&(Dr=null),Dr}function applyDefs(_r,Be){for(var Dr=0;Dr<Be.length;Dr++){var Mr=Be[Dr];Mr[0].style[Mr[1]]=_r[Mr[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(_r){return _r.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(_r,Be){var Dr=_r.getAttribute("transform");if(Dr){Dr=Dr.replace(/,/g," ");var Mr=[],$r=null;Dr.replace(transformRegex,function(Kr,Zr,Jr){return Mr.push(Zr,Jr),""});for(var Br=Mr.length-1;Br>0;Br-=2){var zr=Mr[Br],Vr=Mr[Br-1],jr=splitNumberSequence(zr);switch($r=$r||create$1(),Vr){case"translate":translate($r,$r,[parseFloat(jr[0]),parseFloat(jr[1]||"0")]);break;case"scale":scale$1($r,$r,[parseFloat(jr[0]),parseFloat(jr[1]||jr[0])]);break;case"rotate":rotate($r,$r,-parseFloat(jr[0])*DEGREE_TO_ANGLE);break;case"skewX":var Gr=Math.tan(parseFloat(jr[0])*DEGREE_TO_ANGLE);mul($r,[1,0,Gr,1,0,0],$r);break;case"skewY":var Wr=Math.tan(parseFloat(jr[0])*DEGREE_TO_ANGLE);mul($r,[1,Wr,0,1,0,0],$r);break;case"matrix":$r[0]=parseFloat(jr[0]),$r[1]=parseFloat(jr[1]),$r[2]=parseFloat(jr[2]),$r[3]=parseFloat(jr[3]),$r[4]=parseFloat(jr[4]),$r[5]=parseFloat(jr[5]);break}}Be.setLocalTransform($r)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(_r,Be,Dr){var Mr=_r.getAttribute("style");if(Mr){styleRegex.lastIndex=0;for(var $r;($r=styleRegex.exec(Mr))!=null;){var Br=$r[1],zr=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,Br)?INHERITABLE_STYLE_ATTRIBUTES_MAP[Br]:null;zr&&(Be[zr]=$r[2]);var Vr=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,Br)?SELF_STYLE_ATTRIBUTES_MAP[Br]:null;Vr&&(Dr[Vr]=$r[2])}}}function parseAttributeStyle(_r,Be,Dr){for(var Mr=0;Mr<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;Mr++){var $r=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[Mr],Br=_r.getAttribute($r);Br!=null&&(Be[INHERITABLE_STYLE_ATTRIBUTES_MAP[$r]]=Br)}for(var Mr=0;Mr<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;Mr++){var $r=SELF_STYLE_ATTRIBUTES_MAP_KEYS[Mr],Br=_r.getAttribute($r);Br!=null&&(Dr[SELF_STYLE_ATTRIBUTES_MAP[$r]]=Br)}}function makeViewBoxTransform(_r,Be){var Dr=Be.width/_r.width,Mr=Be.height/_r.height,$r=Math.min(Dr,Mr);return{scale:$r,x:-(_r.x+_r.width/2)*$r+(Be.x+Be.width/2),y:-(_r.y+_r.height/2)*$r+(Be.y+Be.height/2)}}function parseSVG(_r,Be){var Dr=new SVGParser;return Dr.parse(_r,Be)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function _r(Be,Dr){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=Be,this._parsedXML=parseXML(Dr)}return _r.prototype.load=function(){var Be=this._firstGraphic;if(!Be){Be=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(Be),this._boundingRect=this._firstGraphic.boundingRect.clone();var Dr=createRegions(Be.named),Mr=Dr.regions,$r=Dr.regionsMap;this._regions=Mr,this._regionsMap=$r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},_r.prototype._buildGraphic=function(Be){var Dr,Mr;try{Dr=Be&&parseSVG(Be,{ignoreViewBox:!0,ignoreRootClip:!0})||{},Mr=Dr.root,assert(Mr!=null)}catch(ln){throw new Error(`Invalid svg format
`+ln.message)}var $r=new Group$4;$r.add(Mr),$r.isGeoSVGGraphicRoot=!0;var Br=Dr.width,zr=Dr.height,Vr=Dr.viewBoxRect,jr=this._boundingRect;if(!jr){var Gr=void 0,Wr=void 0,Kr=void 0,Zr=void 0;if(Br!=null?(Gr=0,Kr=Br):Vr&&(Gr=Vr.x,Kr=Vr.width),zr!=null?(Wr=0,Zr=zr):Vr&&(Wr=Vr.y,Zr=Vr.height),Gr==null||Wr==null){var Jr=Mr.getBoundingRect();Gr==null&&(Gr=Jr.x,Kr=Jr.width),Wr==null&&(Wr=Jr.y,Zr=Jr.height)}jr=this._boundingRect=new BoundingRect$1(Gr,Wr,Kr,Zr)}if(Vr){var rn=makeViewBoxTransform(Vr,jr);Mr.scaleX=Mr.scaleY=rn.scale,Mr.x=rn.x,Mr.y=rn.y}$r.setClipPath(new Rect$3({shape:jr.plain()}));var nn=[];return each$f(Dr.named,function(ln){REGION_AVAILABLE_SVG_TAG_MAP.get(ln.svgNodeTagLower)!=null&&(nn.push(ln),setSilent(ln.el))}),{root:$r,boundingRect:jr,named:nn}},_r.prototype.useGraphic=function(Be){var Dr=this._usedGraphicMap,Mr=Dr.get(Be);return Mr||(Mr=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),Dr.set(Be,Mr),Mr)},_r.prototype.freeGraphic=function(Be){var Dr=this._usedGraphicMap,Mr=Dr.get(Be);Mr&&(Dr.removeKey(Be),this._freedGraphics.push(Mr))},_r}();function setSilent(_r){_r.silent=!1,_r.isGroup&&_r.traverse(function(Be){Be.silent=!1})}function createRegions(_r){var Be=[],Dr=createHashMap();return each$f(_r,function(Mr){if(Mr.namedFrom==null){var $r=new GeoSVGRegion(Mr.name,Mr.el);Be.push($r),Dr.set(Mr.name,$r)}}),{regions:Be,regionsMap:Dr}}var geoCoord=[126,25],nanhaiName="åæµ·è¯¸å²",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(_r,Be){if(_r==="china"){for(var Dr=0;Dr<Be.length;Dr++)if(Be[Dr].name===nanhaiName)return;Be.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(Mr){return{type:"polygon",exterior:Mr}}),geoCoord))}}var coordsOffsetMap={åæµ·è¯¸å²:[32,80],å¹¿ä¸:[0,-10],é¦æ¸¯:[10,5],æ¾³é¨:[-10,10],å¤©æ´¥:[5,5]};function fixTextCoords(_r,Be){if(_r==="china"){var Dr=coordsOffsetMap[Be.name];if(Dr){var Mr=Be.getCenter();Mr[0]+=Dr[0]/10.5,Mr[1]+=-Dr[1]/(10.5/.75),Be.setCenter(Mr)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(_r,Be){_r==="china"&&Be.name==="å°æ¹¾"&&Be.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function _r(Be,Dr,Mr){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=Be,this._specialAreas=Mr,this._geoJSON=parseInput(Dr)}return _r.prototype.load=function(Be,Dr){Dr=Dr||DEFAULT_NAME_PROPERTY;var Mr=this._parsedMap.get(Dr);if(!Mr){var $r=this._parseToRegions(Dr);Mr=this._parsedMap.set(Dr,{regions:$r,boundingRect:calculateBoundingRect($r)})}var Br=createHashMap(),zr=[];return each$f(Mr.regions,function(Vr){var jr=Vr.name;Be&&hasOwn(Be,jr)&&(Vr=Vr.cloneShallow(jr=Be[jr])),zr.push(Vr),Br.set(jr,Vr)}),{regions:zr,boundingRect:Mr.boundingRect||new BoundingRect$1(0,0,0,0),regionsMap:Br}},_r.prototype._parseToRegions=function(Be){var Dr=this._mapName,Mr=this._geoJSON,$r;try{$r=Mr?parseGeoJSON(Mr,Be):[]}catch(Br){throw new Error(`Invalid geoJson format
`+Br.message)}return fixNanhai(Dr,$r),each$f($r,function(Br){var zr=Br.name;fixTextCoords(Dr,Br),fixDiaoyuIsland(Dr,Br);var Vr=this._specialAreas&&this._specialAreas[zr];Vr&&Br.transformTo(Vr.left,Vr.top,Vr.width,Vr.height)},this),$r},_r.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},_r}();function calculateBoundingRect(_r){for(var Be,Dr=0;Dr<_r.length;Dr++){var Mr=_r[Dr].getBoundingRect();Be=Be||Mr.clone(),Be.union(Mr)}return Be}function parseInput(_r){return isString(_r)?typeof JSON<"u"&&JSON.parse?JSON.parse(_r):new Function("return ("+_r+");")():_r}var storage=createHashMap();const geoSourceManager={registerMap:function(_r,Be,Dr){if(Be.svg){var Mr=new GeoSVGResource(_r,Be.svg);storage.set(_r,Mr)}else{var $r=Be.geoJson||Be.geoJSON;$r&&!Be.features?Dr=Be.specialAreas:$r=Be;var Mr=new GeoJSONResource(_r,$r,Dr);storage.set(_r,Mr)}},getGeoResource:function(_r){return storage.get(_r)},getMapForUser:function(_r){var Be=storage.get(_r);return Be&&Be.type==="geoJSON"&&Be.getMapForUser()},load:function(_r,Be,Dr){var Mr=storage.get(_r);if(Mr)return Mr.load(Be,Dr)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(_r){var Be=_r.getItemStyle(),Dr=_r.get("areaColor");return Dr!=null&&(Be.fill=Dr),Be}function fixLineStyle(_r){var Be=_r.style;Be&&(Be.stroke=Be.stroke||Be.fill,Be.fill=null)}var MapDraw=function(){function _r(Be){var Dr=new Group$4;this.uid=getUID("ec_map_draw"),this._controller=new RoamController$1(Be.getZr()),this._controllerHost={target:Dr},this.group=Dr,Dr.add(this._regionsGroup=new Group$4),Dr.add(this._svgGroup=new Group$4)}return _r.prototype.draw=function(Be,Dr,Mr,$r,Br){var zr=Be.mainType==="geo",Vr=Be.getData&&Be.getData();zr&&Dr.eachComponent({mainType:"series",subType:"map"},function(cn){!Vr&&cn.getHostGeoModel()===Be&&(Vr=cn.getData())});var jr=Be.coordinateSystem,Gr=this._regionsGroup,Wr=this.group,Kr=jr.getTransformInfo(),Zr=Kr.raw,Jr=Kr.roam,rn=!Gr.childAt(0)||Br;rn?(Wr.x=Jr.x,Wr.y=Jr.y,Wr.scaleX=Jr.scaleX,Wr.scaleY=Jr.scaleY,Wr.dirty()):updateProps$1(Wr,Jr,Be);var nn=Vr&&Vr.getVisual("visualMeta")&&Vr.getVisual("visualMeta").length>0,ln={api:Mr,geo:jr,mapOrGeoModel:Be,data:Vr,isVisualEncodedByVisualMap:nn,isGeo:zr,transformInfoRaw:Zr};jr.resourceType==="geoJSON"?this._buildGeoJSON(ln):jr.resourceType==="geoSVG"&&this._buildSVG(ln),this._updateController(Be,Dr,Mr),this._updateMapSelectHandler(Be,Gr,Mr,$r)},_r.prototype._buildGeoJSON=function(Be){var Dr=this._regionsGroupByName=createHashMap(),Mr=createHashMap(),$r=this._regionsGroup,Br=Be.transformInfoRaw,zr=Be.mapOrGeoModel,Vr=Be.data,jr=Be.geo.projection,Gr=jr&&jr.stream;function Wr(Jr,rn){return rn&&(Jr=rn(Jr)),Jr&&[Jr[0]*Br.scaleX+Br.x,Jr[1]*Br.scaleY+Br.y]}function Kr(Jr){for(var rn=[],nn=!Gr&&jr&&jr.project,ln=0;ln<Jr.length;++ln){var cn=Wr(Jr[ln],nn);cn&&rn.push(cn)}return rn}function Zr(Jr){return{shape:{points:Kr(Jr)}}}$r.removeAll(),each$f(Be.geo.regions,function(Jr){var rn=Jr.name,nn=Dr.get(rn),ln=Mr.get(rn)||{},cn=ln.dataIdx,hn=ln.regionModel;nn||(nn=Dr.set(rn,new Group$4),$r.add(nn),cn=Vr?Vr.indexOfName(rn):null,hn=Be.isGeo?zr.getRegionModel(rn):Vr?Vr.getItemModel(cn):null,Mr.set(rn,{dataIdx:cn,regionModel:hn}));var mn=[],bn=[];each$f(Jr.geometries,function(dn){if(dn.type==="polygon"){var wn=[dn.exterior].concat(dn.interiors||[]);Gr&&(wn=projectPolys(wn,Gr)),each$f(wn,function(Mn){mn.push(new Polygon$1(Zr(Mn)))})}else{var xn=dn.points;Gr&&(xn=projectPolys(xn,Gr,!0)),each$f(xn,function(Mn){bn.push(new Polyline$3(Zr(Mn)))})}});var An=Wr(Jr.getCenter(),jr&&jr.project);function vn(dn,wn){if(dn.length){var xn=new CompoundPath$1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:dn}});nn.add(xn),applyOptionStyleForRegion(Be,xn,cn,hn),resetLabelForRegion(Be,xn,rn,hn,zr,cn,An),wn&&(fixLineStyle(xn),each$f(xn.states,fixLineStyle))}}vn(mn),vn(bn,!0)}),Dr.each(function(Jr,rn){var nn=Mr.get(rn),ln=nn.dataIdx,cn=nn.regionModel;resetEventTriggerForRegion(Be,Jr,rn,cn,zr,ln),resetTooltipForRegion(Be,Jr,rn,cn,zr),resetStateTriggerForRegion(Be,Jr,rn,cn,zr)},this)},_r.prototype._buildSVG=function(Be){var Dr=Be.geo.map,Mr=Be.transformInfoRaw;this._svgGroup.x=Mr.x,this._svgGroup.y=Mr.y,this._svgGroup.scaleX=Mr.scaleX,this._svgGroup.scaleY=Mr.scaleY,this._svgResourceChanged(Dr)&&(this._freeSVG(),this._useSVG(Dr));var $r=this._svgDispatcherMap=createHashMap(),Br=!1;each$f(this._svgGraphicRecord.named,function(zr){var Vr=zr.name,jr=Be.mapOrGeoModel,Gr=Be.data,Wr=zr.svgNodeTagLower,Kr=zr.el,Zr=Gr?Gr.indexOfName(Vr):null,Jr=jr.getRegionModel(Vr);if(OPTION_STYLE_ENABLED_TAG_MAP.get(Wr)!=null&&Kr instanceof Displayable$1&&applyOptionStyleForRegion(Be,Kr,Zr,Jr),Kr instanceof Displayable$1&&(Kr.culling=!0),Kr.z2EmphasisLift=0,!zr.namedFrom&&(LABEL_HOST_MAP.get(Wr)!=null&&resetLabelForRegion(Be,Kr,Vr,Jr,jr,Zr,null),resetEventTriggerForRegion(Be,Kr,Vr,Jr,jr,Zr),resetTooltipForRegion(Be,Kr,Vr,Jr,jr),STATE_TRIGGER_TAG_MAP.get(Wr)!=null)){var rn=resetStateTriggerForRegion(Be,Kr,Vr,Jr,jr);rn==="self"&&(Br=!0);var nn=$r.get(Vr)||$r.set(Vr,[]);nn.push(Kr)}},this),this._enableBlurEntireSVG(Br,Be)},_r.prototype._enableBlurEntireSVG=function(Be,Dr){if(Be&&Dr.isGeo){var Mr=Dr.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),$r=Mr.opacity;this._svgGraphicRecord.root.traverse(function(Br){if(!Br.isGroup){setDefaultStateProxy(Br);var zr=Br.ensureState("blur").style||{};zr.opacity==null&&$r!=null&&(zr.opacity=$r),Br.ensureState("emphasis")}})}},_r.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},_r.prototype.findHighDownDispatchers=function(Be,Dr){if(Be==null)return[];var Mr=Dr.coordinateSystem;if(Mr.resourceType==="geoJSON"){var $r=this._regionsGroupByName;if($r){var Br=$r.get(Be);return Br?[Br]:[]}}else if(Mr.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(Be)||[]},_r.prototype._svgResourceChanged=function(Be){return this._svgMapName!==Be},_r.prototype._useSVG=function(Be){var Dr=geoSourceManager.getGeoResource(Be);if(Dr&&Dr.type==="geoSVG"){var Mr=Dr.useGraphic(this.uid);this._svgGroup.add(Mr.root),this._svgGraphicRecord=Mr,this._svgMapName=Be}},_r.prototype._freeSVG=function(){var Be=this._svgMapName;if(Be!=null){var Dr=geoSourceManager.getGeoResource(Be);Dr&&Dr.type==="geoSVG"&&Dr.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},_r.prototype._updateController=function(Be,Dr,Mr){var $r=Be.coordinateSystem,Br=this._controller,zr=this._controllerHost;zr.zoomLimit=Be.get("scaleLimit"),zr.zoom=$r.getZoom(),Br.enable(Be.get("roam")||!1);var Vr=Be.mainType;function jr(){var Gr={type:"geoRoam",componentType:Vr};return Gr[Vr+"Id"]=Be.id,Gr}Br.off("pan").on("pan",function(Gr){this._mouseDownFlag=!1,updateViewOnPan(zr,Gr.dx,Gr.dy),Mr.dispatchAction(extend$1(jr(),{dx:Gr.dx,dy:Gr.dy,animation:{duration:0}}))},this),Br.off("zoom").on("zoom",function(Gr){this._mouseDownFlag=!1,updateViewOnZoom(zr,Gr.scale,Gr.originX,Gr.originY),Mr.dispatchAction(extend$1(jr(),{zoom:Gr.scale,originX:Gr.originX,originY:Gr.originY,animation:{duration:0}}))},this),Br.setPointerChecker(function(Gr,Wr,Kr){return $r.containPoint([Wr,Kr])&&!onIrrelevantElement(Gr,Mr,Be)})},_r.prototype.resetForLabelLayout=function(){this.group.traverse(function(Be){var Dr=Be.getTextContent();Dr&&(Dr.ignore=mapLabelRaw(Dr).ignore)})},_r.prototype._updateMapSelectHandler=function(Be,Dr,Mr,$r){var Br=this;Dr.off("mousedown"),Dr.off("click"),Be.get("selectedMode")&&(Dr.on("mousedown",function(){Br._mouseDownFlag=!0}),Dr.on("click",function(zr){Br._mouseDownFlag&&(Br._mouseDownFlag=!1)}))},_r}();function applyOptionStyleForRegion(_r,Be,Dr,Mr){var $r=Mr.getModel("itemStyle"),Br=Mr.getModel(["emphasis","itemStyle"]),zr=Mr.getModel(["blur","itemStyle"]),Vr=Mr.getModel(["select","itemStyle"]),jr=getFixedItemStyle($r),Gr=getFixedItemStyle(Br),Wr=getFixedItemStyle(Vr),Kr=getFixedItemStyle(zr),Zr=_r.data;if(Zr){var Jr=Zr.getItemVisual(Dr,"style"),rn=Zr.getItemVisual(Dr,"decal");_r.isVisualEncodedByVisualMap&&Jr.fill&&(jr.fill=Jr.fill),rn&&(jr.decal=createOrUpdatePatternFromDecal(rn,_r.api))}Be.setStyle(jr),Be.style.strokeNoScale=!0,Be.ensureState("emphasis").style=Gr,Be.ensureState("select").style=Wr,Be.ensureState("blur").style=Kr,setDefaultStateProxy(Be)}function resetLabelForRegion(_r,Be,Dr,Mr,$r,Br,zr){var Vr=_r.data,jr=_r.isGeo,Gr=Vr&&isNaN(Vr.get(Vr.mapDimension("value"),Br)),Wr=Vr&&Vr.getItemLayout(Br);if(jr||Gr||Wr&&Wr.showLabel){var Kr=jr?Dr:Br,Zr=void 0;(!Vr||Br>=0)&&(Zr=$r);var Jr=zr?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(Be,getLabelStatesModels(Mr),{labelFetcher:Zr,labelDataIndex:Kr,defaultText:Dr},Jr);var rn=Be.getTextContent();if(rn&&(mapLabelRaw(rn).ignore=rn.ignore,Be.textConfig&&zr)){var nn=Be.getBoundingRect().clone();Be.textConfig.layoutRect=nn,Be.textConfig.position=[(zr[0]-nn.x)/nn.width*100+"%",(zr[1]-nn.y)/nn.height*100+"%"]}Be.disableLabelAnimation=!0}else Be.removeTextContent(),Be.removeTextConfig(),Be.disableLabelAnimation=null}function resetEventTriggerForRegion(_r,Be,Dr,Mr,$r,Br){_r.data?_r.data.setItemGraphicEl(Br,Be):getECData(Be).eventData={componentType:"geo",componentIndex:$r.componentIndex,geoIndex:$r.componentIndex,name:Dr,region:Mr&&Mr.option||{}}}function resetTooltipForRegion(_r,Be,Dr,Mr,$r){_r.data||setTooltipConfig({el:Be,componentModel:$r,itemName:Dr,itemTooltipOption:Mr.get("tooltip")})}function resetStateTriggerForRegion(_r,Be,Dr,Mr,$r){Be.highDownSilentOnTouch=!!$r.get("selectedMode");var Br=Mr.getModel("emphasis"),zr=Br.get("focus");return toggleHoverEmphasis(Be,zr,Br.get("blurScope"),Br.get("disabled")),_r.isGeo&&enableComponentHighDownFeatures(Be,$r,Dr),zr}function projectPolys(_r,Be,Dr){var Mr=[],$r;function Br(){$r=[]}function zr(){$r.length&&(Mr.push($r),$r=[])}var Vr=Be({polygonStart:Br,polygonEnd:zr,lineStart:Br,lineEnd:zr,point:function(jr,Gr){isFinite(jr)&&isFinite(Gr)&&$r.push([jr,Gr])},sphere:function(){}});return!Dr&&Vr.polygonStart(),each$f(_r,function(jr){Vr.lineStart();for(var Gr=0;Gr<jr.length;Gr++)Vr.point(jr[Gr][0],jr[Gr][1]);Vr.lineEnd()}),!Dr&&Vr.polygonEnd(),Mr}const MapDraw$1=MapDraw;var MapView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){if(!(Br&&Br.type==="mapToggleSelect"&&Br.from===this.uid)){var zr=this.group;if(zr.removeAll(),!Dr.getHostGeoModel()){if(this._mapDraw&&Br&&Br.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),Br&&Br.type==="geoRoam"&&Br.componentType==="series"&&Br.seriesId===Dr.id){var Vr=this._mapDraw;Vr&&zr.add(Vr.group)}else if(Dr.needsDrawMap){var Vr=this._mapDraw||new MapDraw$1($r);zr.add(Vr.group),Vr.draw(Dr,Mr,$r,this,Br),this._mapDraw=Vr}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;Dr.get("showLegendSymbol")&&Mr.getComponent("legend")&&this._renderSymbols(Dr,Mr,$r)}}},Be.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},Be.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},Be.prototype._renderSymbols=function(Dr,Mr,$r){var Br=Dr.originalData,zr=this.group;Br.each(Br.mapDimension("value"),function(Vr,jr){if(!isNaN(Vr)){var Gr=Br.getItemLayout(jr);if(!(!Gr||!Gr.point)){var Wr=Gr.point,Kr=Gr.offset,Zr=new Circle$1({style:{fill:Dr.getData().getVisual("style").fill},shape:{cx:Wr[0]+Kr*9,cy:Wr[1],r:3},silent:!0,z2:8+(Kr?0:Z2_EMPHASIS_LIFT+1)});if(!Kr){var Jr=Dr.mainSeries.getData(),rn=Br.getName(jr),nn=Jr.indexOfName(rn),ln=Br.getItemModel(jr),cn=ln.getModel("label"),hn=Jr.getItemGraphicEl(nn);setLabelStyle(Zr,getLabelStatesModels(ln),{labelFetcher:{getFormattedLabel:function(mn,bn){return Dr.getFormattedLabel(nn,bn)}},defaultText:rn}),Zr.disableLabelAnimation=!0,cn.get("position")||Zr.setTextConfig({position:"bottom"}),hn.onHoverStateChange=function(mn){setStatesFlag(Zr,mn)}}zr.add(Zr)}}})},Be.type="map",Be}(ChartView$1);const MapView$1=MapView;var MapSeries=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.needsDrawMap=!1,Dr.seriesGroup=[],Dr.getTooltipPosition=function(Mr){if(Mr!=null){var $r=this.getData().getName(Mr),Br=this.coordinateSystem,zr=Br.getRegion($r);return zr&&Br.dataToPoint(zr.getCenter())}},Dr}return Be.prototype.getInitialData=function(Dr){for(var Mr=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),$r=createHashMap(),Br=[],zr=0,Vr=Mr.count();zr<Vr;zr++){var jr=Mr.getName(zr);$r.set(jr,!0)}var Gr=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(Gr.regions,function(Wr){var Kr=Wr.name;$r.get(Kr)||Br.push(Kr)}),Mr.appendValues([],Br),Mr},Be.prototype.getHostGeoModel=function(){var Dr=this.option.geoIndex;return Dr!=null?this.ecModel.getComponent("geo",Dr):null},Be.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},Be.prototype.getRawValue=function(Dr){var Mr=this.getData();return Mr.get(Mr.mapDimension("value"),Dr)},Be.prototype.getRegionModel=function(Dr){var Mr=this.getData();return Mr.getItemModel(Mr.indexOfName(Dr))},Be.prototype.formatTooltip=function(Dr,Mr,$r){for(var Br=this.getData(),zr=this.getRawValue(Dr),Vr=Br.getName(Dr),jr=this.seriesGroup,Gr=[],Wr=0;Wr<jr.length;Wr++){var Kr=jr[Wr].originalData.indexOfName(Vr),Zr=Br.mapDimension("value");isNaN(jr[Wr].originalData.get(Zr,Kr))||Gr.push(jr[Wr].name)}return createTooltipMarkup("section",{header:Gr.join(", "),noHeader:!Gr.length,blocks:[createTooltipMarkup("nameValue",{name:Vr,value:zr})]})},Be.prototype.setZoom=function(Dr){this.option.zoom=Dr},Be.prototype.setCenter=function(Dr){this.option.center=Dr},Be.prototype.getLegendIcon=function(Dr){var Mr=Dr.icon||"roundRect",$r=createSymbol$1(Mr,0,0,Dr.itemWidth,Dr.itemHeight,Dr.itemStyle.fill);return $r.setStyle(Dr.itemStyle),$r.style.stroke="none",Mr.indexOf("empty")>-1&&($r.style.stroke=$r.style.fill,$r.style.fill="#fff",$r.style.lineWidth=2),$r},Be.type="series.map",Be.dependencies=["geo"],Be.layoutMode="box",Be.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},Be}(SeriesModel$1);const MapSeries$1=MapSeries;function dataStatistics(_r,Be){var Dr={};return each$f(_r,function(Mr){Mr.each(Mr.mapDimension("value"),function($r,Br){var zr="ec-"+Mr.getName(Br);Dr[zr]=Dr[zr]||[],isNaN($r)||Dr[zr].push($r)})}),_r[0].map(_r[0].mapDimension("value"),function(Mr,$r){for(var Br="ec-"+_r[0].getName($r),zr=0,Vr=1/0,jr=-1/0,Gr=Dr[Br].length,Wr=0;Wr<Gr;Wr++)Vr=Math.min(Vr,Dr[Br][Wr]),jr=Math.max(jr,Dr[Br][Wr]),zr+=Dr[Br][Wr];var Kr;return Be==="min"?Kr=Vr:Be==="max"?Kr=jr:Be==="average"?Kr=zr/Gr:Kr=zr,Gr===0?NaN:Kr})}function mapDataStatistic(_r){var Be={};_r.eachSeriesByType("map",function(Dr){var Mr=Dr.getHostGeoModel(),$r=Mr?"o"+Mr.id:"i"+Dr.getMapType();(Be[$r]=Be[$r]||[]).push(Dr)}),each$f(Be,function(Dr,Mr){for(var $r=dataStatistics(map$1(Dr,function(zr){return zr.getData()}),Dr[0].get("mapValueCalculation")),Br=0;Br<Dr.length;Br++)Dr[Br].originalData=Dr[Br].getData();for(var Br=0;Br<Dr.length;Br++)Dr[Br].seriesGroup=Dr,Dr[Br].needsDrawMap=Br===0&&!Dr[Br].getHostGeoModel(),Dr[Br].setData($r.cloneShallow()),Dr[Br].mainSeries=Dr[0]})}function mapSymbolLayout(_r){var Be={};_r.eachSeriesByType("map",function(Dr){var Mr=Dr.getMapType();if(!(Dr.getHostGeoModel()||Be[Mr])){var $r={};each$f(Dr.seriesGroup,function(zr){var Vr=zr.coordinateSystem,jr=zr.originalData;zr.get("showLegendSymbol")&&_r.getComponent("legend")&&jr.each(jr.mapDimension("value"),function(Gr,Wr){var Kr=jr.getName(Wr),Zr=Vr.getRegion(Kr);if(!(!Zr||isNaN(Gr))){var Jr=$r[Kr]||0,rn=Vr.dataToPoint(Zr.getCenter());$r[Kr]=Jr+1,jr.setItemLayout(Wr,{point:rn,offset:Jr})}})});var Br=Dr.getData();Br.each(function(zr){var Vr=Br.getName(zr),jr=Br.getItemLayout(zr)||{};jr.showLabel=!$r[Vr],Br.setItemLayout(zr,jr)}),Be[Mr]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this)||this;return Mr.type="view",Mr.dimensions=["x","y"],Mr._roamTransformable=new Transformable$1,Mr._rawTransformable=new Transformable$1,Mr.name=Dr,Mr}return Be.prototype.setBoundingRect=function(Dr,Mr,$r,Br){return this._rect=new BoundingRect$1(Dr,Mr,$r,Br),this._rect},Be.prototype.getBoundingRect=function(){return this._rect},Be.prototype.setViewRect=function(Dr,Mr,$r,Br){this._transformTo(Dr,Mr,$r,Br),this._viewRect=new BoundingRect$1(Dr,Mr,$r,Br)},Be.prototype._transformTo=function(Dr,Mr,$r,Br){var zr=this.getBoundingRect(),Vr=this._rawTransformable;Vr.transform=zr.calculateTransform(new BoundingRect$1(Dr,Mr,$r,Br));var jr=Vr.parent;Vr.parent=null,Vr.decomposeTransform(),Vr.parent=jr,this._updateTransform()},Be.prototype.setCenter=function(Dr,Mr){Dr&&(this._center=[parsePercent(Dr[0],Mr.getWidth()),parsePercent(Dr[1],Mr.getHeight())],this._updateCenterAndZoom())},Be.prototype.setZoom=function(Dr){Dr=Dr||1;var Mr=this.zoomLimit;Mr&&(Mr.max!=null&&(Dr=Math.min(Mr.max,Dr)),Mr.min!=null&&(Dr=Math.max(Mr.min,Dr))),this._zoom=Dr,this._updateCenterAndZoom()},Be.prototype.getDefaultCenter=function(){var Dr=this.getBoundingRect(),Mr=Dr.x+Dr.width/2,$r=Dr.y+Dr.height/2;return[Mr,$r]},Be.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},Be.prototype.getZoom=function(){return this._zoom||1},Be.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},Be.prototype._updateCenterAndZoom=function(){var Dr=this._rawTransformable.getLocalTransform(),Mr=this._roamTransformable,$r=this.getDefaultCenter(),Br=this.getCenter(),zr=this.getZoom();Br=applyTransform$1([],Br,Dr),$r=applyTransform$1([],$r,Dr),Mr.originX=Br[0],Mr.originY=Br[1],Mr.x=$r[0]-Br[0],Mr.y=$r[1]-Br[1],Mr.scaleX=Mr.scaleY=zr,this._updateTransform()},Be.prototype._updateTransform=function(){var Dr=this._roamTransformable,Mr=this._rawTransformable;Mr.parent=Dr,Dr.updateTransform(),Mr.updateTransform(),copy(this.transform||(this.transform=[]),Mr.transform||create$1()),this._rawTransform=Mr.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},Be.prototype.getTransformInfo=function(){var Dr=this._rawTransformable,Mr=this._roamTransformable,$r=new Transformable$1;return $r.transform=Mr.transform,$r.decomposeTransform(),{roam:{x:$r.x,y:$r.y,scaleX:$r.scaleX,scaleY:$r.scaleY},raw:{x:Dr.x,y:Dr.y,scaleX:Dr.scaleX,scaleY:Dr.scaleY}}},Be.prototype.getViewRect=function(){return this._viewRect},Be.prototype.getViewRectAfterRoam=function(){var Dr=this.getBoundingRect().clone();return Dr.applyTransform(this.transform),Dr},Be.prototype.dataToPoint=function(Dr,Mr,$r){var Br=Mr?this._rawTransform:this.transform;return $r=$r||[],Br?v2ApplyTransform($r,Dr,Br):copy$1($r,Dr)},Be.prototype.pointToData=function(Dr){var Mr=this.invTransform;return Mr?v2ApplyTransform([],Dr,Mr):[Dr[0],Dr[1]]},Be.prototype.convertToPixel=function(Dr,Mr,$r){var Br=getCoordSys$4(Mr);return Br===this?Br.dataToPoint($r):null},Be.prototype.convertFromPixel=function(Dr,Mr,$r){var Br=getCoordSys$4(Mr);return Br===this?Br.pointToData($r):null},Be.prototype.containPoint=function(Dr){return this.getViewRectAfterRoam().contain(Dr[0],Dr[1])},Be.dimensions=["x","y"],Be}(Transformable$1);function getCoordSys$4(_r){var Be=_r.seriesModel;return Be?Be.coordinateSystem:null}const View$1=View;var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this,Dr)||this;Br.dimensions=geo2DDimensions,Br.type="geo",Br._nameCoordMap=createHashMap(),Br.map=Mr;var zr=$r.projection,Vr=geoSourceManager.load(Mr,$r.nameMap,$r.nameProperty),jr=geoSourceManager.getGeoResource(Mr);Br.resourceType=jr?jr.type:null;var Gr=Br.regions=Vr.regions,Wr=GEO_DEFAULT_PARAMS[jr.type];Br._regionsMap=Vr.regionsMap,Br.regions=Vr.regions,Br.projection=zr;var Kr;if(zr)for(var Zr=0;Zr<Gr.length;Zr++){var Jr=Gr[Zr].getBoundingRect(zr);Kr=Kr||Jr.clone(),Kr.union(Jr)}else Kr=Vr.boundingRect;return Br.setBoundingRect(Kr.x,Kr.y,Kr.width,Kr.height),Br.aspectScale=zr?1:retrieve2($r.aspectScale,Wr.aspectScale),Br._invertLongitute=zr?!1:Wr.invertLongitute,Br}return Be.prototype._transformTo=function(Dr,Mr,$r,Br){var zr=this.getBoundingRect(),Vr=this._invertLongitute;zr=zr.clone(),Vr&&(zr.y=-zr.y-zr.height);var jr=this._rawTransformable;jr.transform=zr.calculateTransform(new BoundingRect$1(Dr,Mr,$r,Br));var Gr=jr.parent;jr.parent=null,jr.decomposeTransform(),jr.parent=Gr,Vr&&(jr.scaleY=-jr.scaleY),this._updateTransform()},Be.prototype.getRegion=function(Dr){return this._regionsMap.get(Dr)},Be.prototype.getRegionByCoord=function(Dr){for(var Mr=this.regions,$r=0;$r<Mr.length;$r++){var Br=Mr[$r];if(Br.type==="geoJSON"&&Br.contain(Dr))return Mr[$r]}},Be.prototype.addGeoCoord=function(Dr,Mr){this._nameCoordMap.set(Dr,Mr)},Be.prototype.getGeoCoord=function(Dr){var Mr=this._regionsMap.get(Dr);return this._nameCoordMap.get(Dr)||Mr&&Mr.getCenter()},Be.prototype.dataToPoint=function(Dr,Mr,$r){if(isString(Dr)&&(Dr=this.getGeoCoord(Dr)),Dr){var Br=this.projection;return Br&&(Dr=Br.project(Dr)),Dr&&this.projectedToPoint(Dr,Mr,$r)}},Be.prototype.pointToData=function(Dr){var Mr=this.projection;return Mr&&(Dr=Mr.unproject(Dr)),Dr&&this.pointToProjected(Dr)},Be.prototype.pointToProjected=function(Dr){return _r.prototype.pointToData.call(this,Dr)},Be.prototype.projectedToPoint=function(Dr,Mr,$r){return _r.prototype.dataToPoint.call(this,Dr,Mr,$r)},Be.prototype.convertToPixel=function(Dr,Mr,$r){var Br=getCoordSys$3(Mr);return Br===this?Br.dataToPoint($r):null},Be.prototype.convertFromPixel=function(Dr,Mr,$r){var Br=getCoordSys$3(Mr);return Br===this?Br.pointToData($r):null},Be}(View$1);mixin(Geo,View$1);function getCoordSys$3(_r){var Be=_r.geoModel,Dr=_r.seriesModel;return Be?Be.coordinateSystem:Dr?Dr.coordinateSystem||(Dr.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}const Geo$1=Geo;function resizeGeo(_r,Be){var Dr=_r.get("boundingCoords");if(Dr!=null){var Mr=Dr[0],$r=Dr[1];if(isFinite(Mr[0])&&isFinite(Mr[1])&&isFinite($r[0])&&isFinite($r[1])){var Br=this.projection;if(Br){var zr=Mr[0],Vr=Mr[1],jr=$r[0],Gr=$r[1];Mr=[1/0,1/0],$r=[-1/0,-1/0];var Wr=function(vn,dn,wn,xn){for(var Mn=wn-vn,In=xn-dn,Hn=0;Hn<=100;Hn++){var $n=Hn/100,jn=Br.project([vn+Mn*$n,dn+In*$n]);min$1(Mr,Mr,jn),max$1($r,$r,jn)}};Wr(zr,Vr,jr,Vr),Wr(jr,Vr,jr,Gr),Wr(jr,Gr,zr,Gr),Wr(zr,Gr,jr,Vr)}this.setBoundingRect(Mr[0],Mr[1],$r[0]-Mr[0],$r[1]-Mr[1])}}var Kr=this.getBoundingRect(),Zr=_r.get("layoutCenter"),Jr=_r.get("layoutSize"),rn=Be.getWidth(),nn=Be.getHeight(),ln=Kr.width/Kr.height*this.aspectScale,cn=!1,hn,mn;Zr&&Jr&&(hn=[parsePercent(Zr[0],rn),parsePercent(Zr[1],nn)],mn=parsePercent(Jr,Math.min(rn,nn)),!isNaN(hn[0])&&!isNaN(hn[1])&&!isNaN(mn)&&(cn=!0));var bn;if(cn)bn={},ln>1?(bn.width=mn,bn.height=mn/ln):(bn.height=mn,bn.width=mn*ln),bn.y=hn[1]-bn.height/2,bn.x=hn[0]-bn.width/2;else{var An=_r.getBoxLayoutParams();An.aspect=ln,bn=getLayoutRect(An,{width:rn,height:nn})}this.setViewRect(bn.x,bn.y,bn.width,bn.height),this.setCenter(_r.get("center"),Be),this.setZoom(_r.get("zoom"))}function setGeoCoords(_r,Be){each$f(Be.get("geoCoord"),function(Dr,Mr){_r.addGeoCoord(Mr,Dr)})}var GeoCreator=function(){function _r(){this.dimensions=geo2DDimensions}return _r.prototype.create=function(Be,Dr){var Mr=[];function $r(zr){return{nameProperty:zr.get("nameProperty"),aspectScale:zr.get("aspectScale"),projection:zr.get("projection")}}Be.eachComponent("geo",function(zr,Vr){var jr=zr.get("map"),Gr=new Geo$1(jr+Vr,jr,extend$1({nameMap:zr.get("nameMap")},$r(zr)));Gr.zoomLimit=zr.get("scaleLimit"),Mr.push(Gr),zr.coordinateSystem=Gr,Gr.model=zr,Gr.resize=resizeGeo,Gr.resize(zr,Dr)}),Be.eachSeries(function(zr){var Vr=zr.get("coordinateSystem");if(Vr==="geo"){var jr=zr.get("geoIndex")||0;zr.coordinateSystem=Mr[jr]}});var Br={};return Be.eachSeriesByType("map",function(zr){if(!zr.getHostGeoModel()){var Vr=zr.getMapType();Br[Vr]=Br[Vr]||[],Br[Vr].push(zr)}}),each$f(Br,function(zr,Vr){var jr=map$1(zr,function(Wr){return Wr.get("nameMap")}),Gr=new Geo$1(Vr,Vr,extend$1({nameMap:mergeAll(jr)},$r(zr[0])));Gr.zoomLimit=retrieve.apply(null,map$1(zr,function(Wr){return Wr.get("scaleLimit")})),Mr.push(Gr),Gr.resize=resizeGeo,Gr.resize(zr[0],Dr),each$f(zr,function(Wr){Wr.coordinateSystem=Gr,setGeoCoords(Gr,Wr)})}),Mr},_r.prototype.getFilledRegions=function(Be,Dr,Mr,$r){for(var Br=(Be||[]).slice(),zr=createHashMap(),Vr=0;Vr<Br.length;Vr++)zr.set(Br[Vr].name,Br[Vr]);var jr=geoSourceManager.load(Dr,Mr,$r);return each$f(jr.regions,function(Gr){var Wr=Gr.name;!zr.get(Wr)&&Br.push({name:Wr})}),Br},_r}(),geoCreator=new GeoCreator;const geoCreator$1=geoCreator;var GeoModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(Dr,Mr,$r){var Br=geoSourceManager.getGeoResource(Dr.map);if(Br&&Br.type==="geoJSON"){var zr=Dr.itemStyle=Dr.itemStyle||{};"color"in zr||(zr.color="#eee")}this.mergeDefaultAndTheme(Dr,$r),defaultEmphasis(Dr,"label",["show"])},Be.prototype.optionUpdated=function(){var Dr=this,Mr=this.option;Mr.regions=geoCreator$1.getFilledRegions(Mr.regions,Mr.map,Mr.nameMap,Mr.nameProperty);var $r={};this._optionModelMap=reduce(Mr.regions||[],function(Br,zr){var Vr=zr.name;return Vr&&(Br.set(Vr,new Model$1(zr,Dr,Dr.ecModel)),zr.selected&&($r[Vr]=!0)),Br},createHashMap()),Mr.selectedMap||(Mr.selectedMap=$r)},Be.prototype.getRegionModel=function(Dr){return this._optionModelMap.get(Dr)||new Model$1(null,this,this.ecModel)},Be.prototype.getFormattedLabel=function(Dr,Mr){var $r=this.getRegionModel(Dr),Br=Mr==="normal"?$r.get(["label","formatter"]):$r.get(["emphasis","label","formatter"]),zr={name:Dr};if(isFunction(Br))return zr.status=Mr,Br(zr);if(isString(Br))return Br.replace("{a}",Dr??"")},Be.prototype.setZoom=function(Dr){this.option.zoom=Dr},Be.prototype.setCenter=function(Dr){this.option.center=Dr},Be.prototype.select=function(Dr){var Mr=this.option,$r=Mr.selectedMode;if($r){$r!=="multiple"&&(Mr.selectedMap=null);var Br=Mr.selectedMap||(Mr.selectedMap={});Br[Dr]=!0}},Be.prototype.unSelect=function(Dr){var Mr=this.option.selectedMap;Mr&&(Mr[Dr]=!1)},Be.prototype.toggleSelected=function(Dr){this[this.isSelected(Dr)?"unSelect":"select"](Dr)},Be.prototype.isSelected=function(Dr){var Mr=this.option.selectedMap;return!!(Mr&&Mr[Dr])},Be.type="geo",Be.layoutMode="box",Be.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},Be}(ComponentModel$1);const GeoModel$1=GeoModel;function getCenterCoord(_r,Be){return _r.pointToProjected?_r.pointToProjected(Be):_r.pointToData(Be)}function updateCenterAndZoom(_r,Be,Dr,Mr){var $r=_r.getZoom(),Br=_r.getCenter(),zr=Be.zoom,Vr=_r.projectedToPoint?_r.projectedToPoint(Br):_r.dataToPoint(Br);if(Be.dx!=null&&Be.dy!=null&&(Vr[0]-=Be.dx,Vr[1]-=Be.dy,_r.setCenter(getCenterCoord(_r,Vr),Mr)),zr!=null){if(Dr){var jr=Dr.min||0,Gr=Dr.max||1/0;zr=Math.max(Math.min($r*zr,Gr),jr)/$r}_r.scaleX*=zr,_r.scaleY*=zr;var Wr=(Be.originX-_r.x)*(zr-1),Kr=(Be.originY-_r.y)*(zr-1);_r.x-=Wr,_r.y-=Kr,_r.updateTransform(),_r.setCenter(getCenterCoord(_r,Vr),Mr),_r.setZoom(zr*$r)}return{center:_r.getCenter(),zoom:_r.getZoom()}}var GeoView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.focusBlurEnabled=!0,Dr}return Be.prototype.init=function(Dr,Mr){this._api=Mr},Be.prototype.render=function(Dr,Mr,$r,Br){if(this._model=Dr,!Dr.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$1($r));var zr=this._mapDraw;zr.draw(Dr,Mr,$r,this,Br),zr.group.on("click",this._handleRegionClick,this),zr.group.silent=Dr.get("silent"),this.group.add(zr.group),this.updateSelectStatus(Dr,Mr,$r)},Be.prototype._handleRegionClick=function(Dr){var Mr;findEventDispatcher(Dr.target,function($r){return(Mr=getECData($r).eventData)!=null},!0),Mr&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:Mr.name})},Be.prototype.updateSelectStatus=function(Dr,Mr,$r){var Br=this;this._mapDraw.group.traverse(function(zr){var Vr=getECData(zr).eventData;if(Vr)return Br._model.isSelected(Vr.name)?$r.enterSelect(zr):$r.leaveSelect(zr),!0})},Be.prototype.findHighDownDispatchers=function(Dr){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(Dr,this._model)},Be.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},Be.type="geo",Be}(ComponentView$1);const GeoView$1=GeoView;function registerMap(_r,Be,Dr){geoSourceManager.registerMap(_r,Be,Dr)}function install$J(_r){_r.registerCoordinateSystem("geo",geoCreator$1),_r.registerComponentModel(GeoModel$1),_r.registerComponentView(GeoView$1),_r.registerImpl("registerMap",registerMap),_r.registerImpl("getMap",function(Dr){return geoSourceManager.getMapForUser(Dr)});function Be(Dr,Mr){Mr.update="geo:updateSelectStatus",_r.registerAction(Mr,function($r,Br){var zr={},Vr=[];return Br.eachComponent({mainType:"geo",query:$r},function(jr){jr[Dr]($r.name);var Gr=jr.coordinateSystem;each$f(Gr.regions,function(Kr){zr[Kr.name]=jr.isSelected(Kr.name)||!1});var Wr=[];each$f(zr,function(Kr,Zr){zr[Zr]&&Wr.push(Zr)}),Vr.push({geoIndex:jr.componentIndex,name:Wr})}),{selected:zr,allSelected:Vr,name:$r.name}})}Be("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),Be("select",{type:"geoSelect",event:"geoselected"}),Be("unSelect",{type:"geoUnSelect",event:"geounselected"}),_r.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(Dr,Mr,$r){var Br=Dr.componentType||"series";Mr.eachComponent({mainType:Br,query:Dr},function(zr){var Vr=zr.coordinateSystem;if(Vr.type==="geo"){var jr=updateCenterAndZoom(Vr,Dr,zr.get("scaleLimit"),$r);zr.setCenter&&zr.setCenter(jr.center),zr.setZoom&&zr.setZoom(jr.zoom),Br==="series"&&each$f(zr.seriesGroup,function(Gr){Gr.setCenter(jr.center),Gr.setZoom(jr.zoom)})}})})}function install$I(_r){use(install$J),_r.registerChartView(MapView$1),_r.registerSeriesModel(MapSeries$1),_r.registerLayout(mapSymbolLayout),_r.registerProcessor(_r.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",_r.registerAction)}function init(_r){var Be=_r;Be.hierNode={defaultAncestor:null,ancestor:Be,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var Dr=[Be],Mr,$r;Mr=Dr.pop();)if($r=Mr.children,Mr.isExpand&&$r.length)for(var Br=$r.length,zr=Br-1;zr>=0;zr--){var Vr=$r[zr];Vr.hierNode={defaultAncestor:null,ancestor:Vr,prelim:0,modifier:0,change:0,shift:0,i:zr,thread:null},Dr.push(Vr)}}function firstWalk(_r,Be){var Dr=_r.isExpand?_r.children:[],Mr=_r.parentNode.children,$r=_r.hierNode.i?Mr[_r.hierNode.i-1]:null;if(Dr.length){executeShifts(_r);var Br=(Dr[0].hierNode.prelim+Dr[Dr.length-1].hierNode.prelim)/2;$r?(_r.hierNode.prelim=$r.hierNode.prelim+Be(_r,$r),_r.hierNode.modifier=_r.hierNode.prelim-Br):_r.hierNode.prelim=Br}else $r&&(_r.hierNode.prelim=$r.hierNode.prelim+Be(_r,$r));_r.parentNode.hierNode.defaultAncestor=apportion(_r,$r,_r.parentNode.hierNode.defaultAncestor||Mr[0],Be)}function secondWalk(_r){var Be=_r.hierNode.prelim+_r.parentNode.hierNode.modifier;_r.setLayout({x:Be},!0),_r.hierNode.modifier+=_r.parentNode.hierNode.modifier}function separation(_r){return arguments.length?_r:defaultSeparation}function radialCoordinate(_r,Be){return _r-=Math.PI/2,{x:Be*Math.cos(_r),y:Be*Math.sin(_r)}}function getViewRect$4(_r,Be){return getLayoutRect(_r.getBoxLayoutParams(),{width:Be.getWidth(),height:Be.getHeight()})}function executeShifts(_r){for(var Be=_r.children,Dr=Be.length,Mr=0,$r=0;--Dr>=0;){var Br=Be[Dr];Br.hierNode.prelim+=Mr,Br.hierNode.modifier+=Mr,$r+=Br.hierNode.change,Mr+=Br.hierNode.shift+$r}}function apportion(_r,Be,Dr,Mr){if(Be){for(var $r=_r,Br=_r,zr=Br.parentNode.children[0],Vr=Be,jr=$r.hierNode.modifier,Gr=Br.hierNode.modifier,Wr=zr.hierNode.modifier,Kr=Vr.hierNode.modifier;Vr=nextRight(Vr),Br=nextLeft(Br),Vr&&Br;){$r=nextRight($r),zr=nextLeft(zr),$r.hierNode.ancestor=_r;var Zr=Vr.hierNode.prelim+Kr-Br.hierNode.prelim-Gr+Mr(Vr,Br);Zr>0&&(moveSubtree(nextAncestor(Vr,_r,Dr),_r,Zr),Gr+=Zr,jr+=Zr),Kr+=Vr.hierNode.modifier,Gr+=Br.hierNode.modifier,jr+=$r.hierNode.modifier,Wr+=zr.hierNode.modifier}Vr&&!nextRight($r)&&($r.hierNode.thread=Vr,$r.hierNode.modifier+=Kr-jr),Br&&!nextLeft(zr)&&(zr.hierNode.thread=Br,zr.hierNode.modifier+=Gr-Wr,Dr=_r)}return Dr}function nextRight(_r){var Be=_r.children;return Be.length&&_r.isExpand?Be[Be.length-1]:_r.hierNode.thread}function nextLeft(_r){var Be=_r.children;return Be.length&&_r.isExpand?Be[0]:_r.hierNode.thread}function nextAncestor(_r,Be,Dr){return _r.hierNode.ancestor.parentNode===Be.parentNode?_r.hierNode.ancestor:Dr}function moveSubtree(_r,Be,Dr){var Mr=Dr/(Be.hierNode.i-_r.hierNode.i);Be.hierNode.change-=Mr,Be.hierNode.shift+=Dr,Be.hierNode.modifier+=Dr,Be.hierNode.prelim+=Dr,_r.hierNode.change+=Mr}function defaultSeparation(_r,Be){return _r.parentNode===Be.parentNode?1:2}var TreeEdgeShape=function(){function _r(){this.parentPoint=[],this.childPoints=[]}return _r}(),TreePath=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Be.prototype.getDefaultShape=function(){return new TreeEdgeShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.childPoints,Br=$r.length,zr=Mr.parentPoint,Vr=$r[0],jr=$r[Br-1];if(Br===1){Dr.moveTo(zr[0],zr[1]),Dr.lineTo(Vr[0],Vr[1]);return}var Gr=Mr.orient,Wr=Gr==="TB"||Gr==="BT"?0:1,Kr=1-Wr,Zr=parsePercent(Mr.forkPosition,1),Jr=[];Jr[Wr]=zr[Wr],Jr[Kr]=zr[Kr]+(jr[Kr]-zr[Kr])*Zr,Dr.moveTo(zr[0],zr[1]),Dr.lineTo(Jr[0],Jr[1]),Dr.moveTo(Vr[0],Vr[1]),Jr[Wr]=Vr[Wr],Dr.lineTo(Jr[0],Jr[1]),Jr[Wr]=jr[Wr],Dr.lineTo(Jr[0],Jr[1]),Dr.lineTo(jr[0],jr[1]);for(var rn=1;rn<Br-1;rn++){var nn=$r[rn];Dr.moveTo(nn[0],nn[1]),Jr[Wr]=nn[Wr],Dr.lineTo(Jr[0],Jr[1])}},Be}(Path$1),TreeView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr._mainGroup=new Group$4,Dr}return Be.prototype.init=function(Dr,Mr){this._controller=new RoamController$1(Mr.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},Be.prototype.render=function(Dr,Mr,$r){var Br=Dr.getData(),zr=Dr.layoutInfo,Vr=this._mainGroup,jr=Dr.get("layout");jr==="radial"?(Vr.x=zr.x+zr.width/2,Vr.y=zr.y+zr.height/2):(Vr.x=zr.x,Vr.y=zr.y),this._updateViewCoordSys(Dr,$r),this._updateController(Dr,Mr,$r);var Gr=this._data;Br.diff(Gr).add(function(Wr){symbolNeedsDraw(Br,Wr)&&updateNode(Br,Wr,null,Vr,Dr)}).update(function(Wr,Kr){var Zr=Gr.getItemGraphicEl(Kr);if(!symbolNeedsDraw(Br,Wr)){Zr&&removeNode(Gr,Kr,Zr,Vr,Dr);return}updateNode(Br,Wr,Zr,Vr,Dr)}).remove(function(Wr){var Kr=Gr.getItemGraphicEl(Wr);Kr&&removeNode(Gr,Wr,Kr,Vr,Dr)}).execute(),this._nodeScaleRatio=Dr.get("nodeScaleRatio"),this._updateNodeAndLinkScale(Dr),Dr.get("expandAndCollapse")===!0&&Br.eachItemGraphicEl(function(Wr,Kr){Wr.off("click").on("click",function(){$r.dispatchAction({type:"treeExpandAndCollapse",seriesId:Dr.id,dataIndex:Kr})})}),this._data=Br},Be.prototype._updateViewCoordSys=function(Dr,Mr){var $r=Dr.getData(),Br=[];$r.each(function(Kr){var Zr=$r.getItemLayout(Kr);Zr&&!isNaN(Zr.x)&&!isNaN(Zr.y)&&Br.push([+Zr.x,+Zr.y])});var zr=[],Vr=[];fromPoints(Br,zr,Vr);var jr=this._min,Gr=this._max;Vr[0]-zr[0]===0&&(zr[0]=jr?jr[0]:zr[0]-1,Vr[0]=Gr?Gr[0]:Vr[0]+1),Vr[1]-zr[1]===0&&(zr[1]=jr?jr[1]:zr[1]-1,Vr[1]=Gr?Gr[1]:Vr[1]+1);var Wr=Dr.coordinateSystem=new View$1;Wr.zoomLimit=Dr.get("scaleLimit"),Wr.setBoundingRect(zr[0],zr[1],Vr[0]-zr[0],Vr[1]-zr[1]),Wr.setCenter(Dr.get("center"),Mr),Wr.setZoom(Dr.get("zoom")),this.group.attr({x:Wr.x,y:Wr.y,scaleX:Wr.scaleX,scaleY:Wr.scaleY}),this._min=zr,this._max=Vr},Be.prototype._updateController=function(Dr,Mr,$r){var Br=this,zr=this._controller,Vr=this._controllerHost,jr=this.group;zr.setPointerChecker(function(Gr,Wr,Kr){var Zr=jr.getBoundingRect();return Zr.applyTransform(jr.transform),Zr.contain(Wr,Kr)&&!onIrrelevantElement(Gr,$r,Dr)}),zr.enable(Dr.get("roam")),Vr.zoomLimit=Dr.get("scaleLimit"),Vr.zoom=Dr.coordinateSystem.getZoom(),zr.off("pan").off("zoom").on("pan",function(Gr){updateViewOnPan(Vr,Gr.dx,Gr.dy),$r.dispatchAction({seriesId:Dr.id,type:"treeRoam",dx:Gr.dx,dy:Gr.dy})}).on("zoom",function(Gr){updateViewOnZoom(Vr,Gr.scale,Gr.originX,Gr.originY),$r.dispatchAction({seriesId:Dr.id,type:"treeRoam",zoom:Gr.scale,originX:Gr.originX,originY:Gr.originY}),Br._updateNodeAndLinkScale(Dr),$r.updateLabelLayout()})},Be.prototype._updateNodeAndLinkScale=function(Dr){var Mr=Dr.getData(),$r=this._getNodeGlobalScale(Dr);Mr.eachItemGraphicEl(function(Br,zr){Br.setSymbolScale($r)})},Be.prototype._getNodeGlobalScale=function(Dr){var Mr=Dr.coordinateSystem;if(Mr.type!=="view")return 1;var $r=this._nodeScaleRatio,Br=Mr.scaleX||1,zr=Mr.getZoom(),Vr=(zr-1)*$r+1;return Vr/Br},Be.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},Be.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},Be.type="tree",Be}(ChartView$1);function symbolNeedsDraw(_r,Be){var Dr=_r.getItemLayout(Be);return Dr&&!isNaN(Dr.x)&&!isNaN(Dr.y)}function updateNode(_r,Be,Dr,Mr,$r){var Br=!Dr,zr=_r.tree.getNodeByDataIndex(Be),Vr=zr.getModel(),jr=zr.getVisual("style").fill,Gr=zr.isExpand===!1&&zr.children.length!==0?jr:"#fff",Wr=_r.tree.root,Kr=zr.parentNode===Wr?zr:zr.parentNode||zr,Zr=_r.getItemGraphicEl(Kr.dataIndex),Jr=Kr.getLayout(),rn=Zr?{x:Zr.__oldX,y:Zr.__oldY,rawX:Zr.__radialOldRawX,rawY:Zr.__radialOldRawY}:Jr,nn=zr.getLayout();Br?(Dr=new SymbolClz(_r,Be,null,{symbolInnerColor:Gr,useNameLabel:!0}),Dr.x=rn.x,Dr.y=rn.y):Dr.updateData(_r,Be,null,{symbolInnerColor:Gr,useNameLabel:!0}),Dr.__radialOldRawX=Dr.__radialRawX,Dr.__radialOldRawY=Dr.__radialRawY,Dr.__radialRawX=nn.rawX,Dr.__radialRawY=nn.rawY,Mr.add(Dr),_r.setItemGraphicEl(Be,Dr),Dr.__oldX=Dr.x,Dr.__oldY=Dr.y,updateProps$1(Dr,{x:nn.x,y:nn.y},$r);var ln=Dr.getSymbolPath();if($r.get("layout")==="radial"){var cn=Wr.children[0],hn=cn.getLayout(),mn=cn.children.length,bn=void 0,An=void 0;if(nn.x===hn.x&&zr.isExpand===!0&&cn.children.length){var vn={x:(cn.children[0].getLayout().x+cn.children[mn-1].getLayout().x)/2,y:(cn.children[0].getLayout().y+cn.children[mn-1].getLayout().y)/2};bn=Math.atan2(vn.y-hn.y,vn.x-hn.x),bn<0&&(bn=Math.PI*2+bn),An=vn.x<hn.x,An&&(bn=bn-Math.PI)}else bn=Math.atan2(nn.y-hn.y,nn.x-hn.x),bn<0&&(bn=Math.PI*2+bn),zr.children.length===0||zr.children.length!==0&&zr.isExpand===!1?(An=nn.x<hn.x,An&&(bn=bn-Math.PI)):(An=nn.x>hn.x,An||(bn=bn-Math.PI));var dn=An?"left":"right",wn=Vr.getModel("label"),xn=wn.get("rotate"),Mn=xn*(Math.PI/180),In=ln.getTextContent();In&&(ln.setTextConfig({position:wn.get("position")||dn,rotation:xn==null?-bn:Mn,origin:"center"}),In.setStyle("verticalAlign","middle"))}var Hn=Vr.get(["emphasis","focus"]),$n=Hn==="relative"?concatArray(zr.getAncestorsIndices(),zr.getDescendantIndices()):Hn==="ancestor"?zr.getAncestorsIndices():Hn==="descendant"?zr.getDescendantIndices():null;$n&&(getECData(Dr).focus=$n),drawEdge($r,zr,Wr,Dr,rn,Jr,nn,Mr),Dr.__edge&&(Dr.onHoverStateChange=function(jn){if(jn!=="blur"){var Bn=zr.parentNode&&_r.getItemGraphicEl(zr.parentNode.dataIndex);Bn&&Bn.hoverState===HOVER_STATE_BLUR||setStatesFlag(Dr.__edge,jn)}})}function drawEdge(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr=Be.getModel(),Gr=_r.get("edgeShape"),Wr=_r.get("layout"),Kr=_r.getOrient(),Zr=_r.get(["lineStyle","curveness"]),Jr=_r.get("edgeForkPosition"),rn=jr.getModel("lineStyle").getLineStyle(),nn=Mr.__edge;if(Gr==="curve")Be.parentNode&&Be.parentNode!==Dr&&(nn||(nn=Mr.__edge=new BezierCurve$1({shape:getEdgeShape(Wr,Kr,Zr,$r,$r)})),updateProps$1(nn,{shape:getEdgeShape(Wr,Kr,Zr,Br,zr)},_r));else if(Gr==="polyline"&&Wr==="orthogonal"&&Be!==Dr&&Be.children&&Be.children.length!==0&&Be.isExpand===!0){for(var ln=Be.children,cn=[],hn=0;hn<ln.length;hn++){var mn=ln[hn].getLayout();cn.push([mn.x,mn.y])}nn||(nn=Mr.__edge=new TreePath({shape:{parentPoint:[zr.x,zr.y],childPoints:[[zr.x,zr.y]],orient:Kr,forkPosition:Jr}})),updateProps$1(nn,{shape:{parentPoint:[zr.x,zr.y],childPoints:cn}},_r)}nn&&!(Gr==="polyline"&&!Be.isExpand)&&(nn.useStyle(defaults({strokeNoScale:!0,fill:null},rn)),setStatesStylesFromModel(nn,jr,"lineStyle"),setDefaultStateProxy(nn),Vr.add(nn))}function removeNodeEdge(_r,Be,Dr,Mr,$r){var Br=Be.tree.root,zr=getSourceNode(Br,_r),Vr=zr.source,jr=zr.sourceLayout,Gr=Be.getItemGraphicEl(_r.dataIndex);if(Gr){var Wr=Be.getItemGraphicEl(Vr.dataIndex),Kr=Wr.__edge,Zr=Gr.__edge||(Vr.isExpand===!1||Vr.children.length===1?Kr:void 0),Jr=Mr.get("edgeShape"),rn=Mr.get("layout"),nn=Mr.get("orient"),ln=Mr.get(["lineStyle","curveness"]);Zr&&(Jr==="curve"?removeElement(Zr,{shape:getEdgeShape(rn,nn,ln,jr,jr),style:{opacity:0}},Mr,{cb:function(){Dr.remove(Zr)},removeOpt:$r}):Jr==="polyline"&&Mr.get("layout")==="orthogonal"&&removeElement(Zr,{shape:{parentPoint:[jr.x,jr.y],childPoints:[[jr.x,jr.y]]},style:{opacity:0}},Mr,{cb:function(){Dr.remove(Zr)},removeOpt:$r}))}}function getSourceNode(_r,Be){for(var Dr=Be.parentNode===_r?Be:Be.parentNode||Be,Mr;Mr=Dr.getLayout(),Mr==null;)Dr=Dr.parentNode===_r?Dr:Dr.parentNode||Dr;return{source:Dr,sourceLayout:Mr}}function removeNode(_r,Be,Dr,Mr,$r){var Br=_r.tree.getNodeByDataIndex(Be),zr=_r.tree.root,Vr=getSourceNode(zr,Br).sourceLayout,jr={duration:$r.get("animationDurationUpdate"),easing:$r.get("animationEasingUpdate")};removeElement(Dr,{x:Vr.x+1,y:Vr.y+1},$r,{cb:function(){Mr.remove(Dr),_r.setItemGraphicEl(Be,null)},removeOpt:jr}),Dr.fadeOut(null,_r.hostModel,{fadeLabel:!0,animation:jr}),Br.children.forEach(function(Gr){removeNodeEdge(Gr,_r,Mr,$r,jr)}),removeNodeEdge(Br,_r,Mr,$r,jr)}function getEdgeShape(_r,Be,Dr,Mr,$r){var Br,zr,Vr,jr,Gr,Wr,Kr,Zr;if(_r==="radial"){Gr=Mr.rawX,Kr=Mr.rawY,Wr=$r.rawX,Zr=$r.rawY;var Jr=radialCoordinate(Gr,Kr),rn=radialCoordinate(Gr,Kr+(Zr-Kr)*Dr),nn=radialCoordinate(Wr,Zr+(Kr-Zr)*Dr),ln=radialCoordinate(Wr,Zr);return{x1:Jr.x||0,y1:Jr.y||0,x2:ln.x||0,y2:ln.y||0,cpx1:rn.x||0,cpy1:rn.y||0,cpx2:nn.x||0,cpy2:nn.y||0}}else Gr=Mr.x,Kr=Mr.y,Wr=$r.x,Zr=$r.y,(Be==="LR"||Be==="RL")&&(Br=Gr+(Wr-Gr)*Dr,zr=Kr,Vr=Wr+(Gr-Wr)*Dr,jr=Zr),(Be==="TB"||Be==="BT")&&(Br=Gr,zr=Kr+(Zr-Kr)*Dr,Vr=Wr,jr=Zr+(Kr-Zr)*Dr);return{x1:Gr,y1:Kr,x2:Wr,y2:Zr,cpx1:Br,cpy1:zr,cpx2:Vr,cpy2:jr}}const TreeView$1=TreeView;var inner$e=makeInner();function linkSeriesData(_r){var Be=_r.mainData,Dr=_r.datas;Dr||(Dr={main:Be},_r.datasAttr={main:"data"}),_r.datas=_r.mainData=null,linkAll(Be,Dr,_r),each$f(Dr,function(Mr){each$f(Be.TRANSFERABLE_METHODS,function($r){Mr.wrapMethod($r,curry$1(transferInjection,_r))})}),Be.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,_r)),each$f(Be.CHANGABLE_METHODS,function(Mr){Be.wrapMethod(Mr,curry$1(changeInjection,_r))}),assert(Dr[Be.dataType]===Be)}function transferInjection(_r,Be){if(isMainData(this)){var Dr=extend$1({},inner$e(this).datas);Dr[this.dataType]=Be,linkAll(Be,Dr,_r)}else linkSingle(Be,this.dataType,inner$e(this).mainData,_r);return Be}function changeInjection(_r,Be){return _r.struct&&_r.struct.update(),Be}function cloneShallowInjection(_r,Be){return each$f(inner$e(Be).datas,function(Dr,Mr){Dr!==Be&&linkSingle(Dr.cloneShallow(),Mr,Be,_r)}),Be}function getLinkedData(_r){var Be=inner$e(this).mainData;return _r==null||Be==null?Be:inner$e(Be).datas[_r]}function getLinkedDataAll(){var _r=inner$e(this).mainData;return _r==null?[{data:_r}]:map$1(keys(inner$e(_r).datas),function(Be){return{type:Be,data:inner$e(_r).datas[Be]}})}function isMainData(_r){return inner$e(_r).mainData===_r}function linkAll(_r,Be,Dr){inner$e(_r).datas={},each$f(Be,function(Mr,$r){linkSingle(Mr,$r,_r,Dr)})}function linkSingle(_r,Be,Dr,Mr){inner$e(Dr).datas[Be]=_r,inner$e(_r).mainData=Dr,_r.dataType=Be,Mr.struct&&(_r[Mr.structAttr]=Mr.struct,Mr.struct[Mr.datasAttr[Be]]=_r),_r.getLinkedData=getLinkedData,_r.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function _r(Be,Dr){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=Be||"",this.hostTree=Dr}return _r.prototype.isRemoved=function(){return this.dataIndex<0},_r.prototype.eachNode=function(Be,Dr,Mr){isFunction(Be)&&(Mr=Dr,Dr=Be,Be=null),Be=Be||{},isString(Be)&&(Be={order:Be});var $r=Be.order||"preorder",Br=this[Be.attr||"children"],zr;$r==="preorder"&&(zr=Dr.call(Mr,this));for(var Vr=0;!zr&&Vr<Br.length;Vr++)Br[Vr].eachNode(Be,Dr,Mr);$r==="postorder"&&Dr.call(Mr,this)},_r.prototype.updateDepthAndHeight=function(Be){var Dr=0;this.depth=Be;for(var Mr=0;Mr<this.children.length;Mr++){var $r=this.children[Mr];$r.updateDepthAndHeight(Be+1),$r.height>Dr&&(Dr=$r.height)}this.height=Dr+1},_r.prototype.getNodeById=function(Be){if(this.getId()===Be)return this;for(var Dr=0,Mr=this.children,$r=Mr.length;Dr<$r;Dr++){var Br=Mr[Dr].getNodeById(Be);if(Br)return Br}},_r.prototype.contains=function(Be){if(Be===this)return!0;for(var Dr=0,Mr=this.children,$r=Mr.length;Dr<$r;Dr++){var Br=Mr[Dr].contains(Be);if(Br)return Br}},_r.prototype.getAncestors=function(Be){for(var Dr=[],Mr=Be?this:this.parentNode;Mr;)Dr.push(Mr),Mr=Mr.parentNode;return Dr.reverse(),Dr},_r.prototype.getAncestorsIndices=function(){for(var Be=[],Dr=this;Dr;)Be.push(Dr.dataIndex),Dr=Dr.parentNode;return Be.reverse(),Be},_r.prototype.getDescendantIndices=function(){var Be=[];return this.eachNode(function(Dr){Be.push(Dr.dataIndex)}),Be},_r.prototype.getValue=function(Be){var Dr=this.hostTree.data;return Dr.getStore().get(Dr.getDimensionIndex(Be||"value"),this.dataIndex)},_r.prototype.setLayout=function(Be,Dr){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,Be,Dr)},_r.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},_r.prototype.getModel=function(Be){if(!(this.dataIndex<0)){var Dr=this.hostTree,Mr=Dr.data.getItemModel(this.dataIndex);return Mr.getModel(Be)}},_r.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},_r.prototype.setVisual=function(Be,Dr){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,Be,Dr)},_r.prototype.getVisual=function(Be){return this.hostTree.data.getItemVisual(this.dataIndex,Be)},_r.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},_r.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},_r.prototype.getChildIndex=function(){if(this.parentNode){for(var Be=this.parentNode.children,Dr=0;Dr<Be.length;++Dr)if(Be[Dr]===this)return Dr;return-1}return-1},_r.prototype.isAncestorOf=function(Be){for(var Dr=Be.parentNode;Dr;){if(Dr===this)return!0;Dr=Dr.parentNode}return!1},_r.prototype.isDescendantOf=function(Be){return Be!==this&&Be.isAncestorOf(this)},_r}(),Tree=function(){function _r(Be){this.type="tree",this._nodes=[],this.hostModel=Be}return _r.prototype.eachNode=function(Be,Dr,Mr){this.root.eachNode(Be,Dr,Mr)},_r.prototype.getNodeByDataIndex=function(Be){var Dr=this.data.getRawIndex(Be);return this._nodes[Dr]},_r.prototype.getNodeById=function(Be){return this.root.getNodeById(Be)},_r.prototype.update=function(){for(var Be=this.data,Dr=this._nodes,Mr=0,$r=Dr.length;Mr<$r;Mr++)Dr[Mr].dataIndex=-1;for(var Mr=0,$r=Be.count();Mr<$r;Mr++)Dr[Be.getRawIndex(Mr)].dataIndex=Mr},_r.prototype.clearLayouts=function(){this.data.clearItemLayouts()},_r.createTree=function(Be,Dr,Mr){var $r=new _r(Dr),Br=[],zr=1;Vr(Be);function Vr(Wr,Kr){var Zr=Wr.value;zr=Math.max(zr,isArray$1(Zr)?Zr.length:1),Br.push(Wr);var Jr=new TreeNode(convertOptionIdName(Wr.name,""),$r);Kr?addChild(Jr,Kr):$r.root=Jr,$r._nodes.push(Jr);var rn=Wr.children;if(rn)for(var nn=0;nn<rn.length;nn++)Vr(rn[nn],Jr)}$r.root.updateDepthAndHeight(0);var jr=prepareSeriesDataSchema(Br,{coordDimensions:["value"],dimensionsCount:zr}).dimensions,Gr=new SeriesData$1(jr,Dr);return Gr.initData(Br),Mr&&Mr(Gr),linkSeriesData({mainData:Gr,struct:$r,structAttr:"tree"}),$r.update(),$r},_r}();function addChild(_r,Be){var Dr=Be.children;_r.parentNode!==Be&&(Dr.push(_r),_r.parentNode=Be)}const Tree$1=Tree;function retrieveTargetInfo(_r,Be,Dr){if(_r&&indexOf(Be,_r.type)>=0){var Mr=Dr.getData().tree.root,$r=_r.targetNode;if(isString($r)&&($r=Mr.getNodeById($r)),$r&&Mr.contains($r))return{node:$r};var Br=_r.targetNodeId;if(Br!=null&&($r=Mr.getNodeById(Br)))return{node:$r}}}function getPathToRoot(_r){for(var Be=[];_r;)_r=_r.parentNode,_r&&Be.push(_r);return Be.reverse()}function aboveViewRoot(_r,Be){var Dr=getPathToRoot(_r);return indexOf(Dr,Be)>=0}function wrapTreePathInfo(_r,Be){for(var Dr=[];_r;){var Mr=_r.dataIndex;Dr.push({name:_r.name,dataIndex:Mr,value:Be.getRawValue(Mr)}),_r=_r.parentNode}return Dr.reverse(),Dr}var TreeSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.hasSymbolVisual=!0,Dr.ignoreStyleOnData=!0,Dr}return Be.prototype.getInitialData=function(Dr){var Mr={name:Dr.name,children:Dr.data},$r=Dr.leaves||{},Br=new Model$1($r,this,this.ecModel),zr=Tree$1.createTree(Mr,this,Vr);function Vr(Kr){Kr.wrapMethod("getItemModel",function(Zr,Jr){var rn=zr.getNodeByDataIndex(Jr);return rn&&rn.children.length&&rn.isExpand||(Zr.parentModel=Br),Zr})}var jr=0;zr.eachNode("preorder",function(Kr){Kr.depth>jr&&(jr=Kr.depth)});var Gr=Dr.expandAndCollapse,Wr=Gr&&Dr.initialTreeDepth>=0?Dr.initialTreeDepth:jr;return zr.root.eachNode("preorder",function(Kr){var Zr=Kr.hostTree.data.getRawDataItem(Kr.dataIndex);Kr.isExpand=Zr&&Zr.collapsed!=null?!Zr.collapsed:Kr.depth<=Wr}),zr.data},Be.prototype.getOrient=function(){var Dr=this.get("orient");return Dr==="horizontal"?Dr="LR":Dr==="vertical"&&(Dr="TB"),Dr},Be.prototype.setZoom=function(Dr){this.option.zoom=Dr},Be.prototype.setCenter=function(Dr){this.option.center=Dr},Be.prototype.formatTooltip=function(Dr,Mr,$r){for(var Br=this.getData().tree,zr=Br.root.children[0],Vr=Br.getNodeByDataIndex(Dr),jr=Vr.getValue(),Gr=Vr.name;Vr&&Vr!==zr;)Gr=Vr.parentNode.name+"."+Gr,Vr=Vr.parentNode;return createTooltipMarkup("nameValue",{name:Gr,value:jr,noValue:isNaN(jr)||jr==null})},Be.prototype.getDataParams=function(Dr){var Mr=_r.prototype.getDataParams.apply(this,arguments),$r=this.getData().tree.getNodeByDataIndex(Dr);return Mr.treeAncestors=wrapTreePathInfo($r,this),Mr.collapsed=!$r.isExpand,Mr},Be.type="series.tree",Be.layoutMode="box",Be.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},Be}(SeriesModel$1);const TreeSeriesModel$1=TreeSeriesModel;function eachAfter(_r,Be,Dr){for(var Mr=[_r],$r=[],Br;Br=Mr.pop();)if($r.push(Br),Br.isExpand){var zr=Br.children;if(zr.length)for(var Vr=0;Vr<zr.length;Vr++)Mr.push(zr[Vr])}for(;Br=$r.pop();)Be(Br,Dr)}function eachBefore(_r,Be){for(var Dr=[_r],Mr;Mr=Dr.pop();)if(Be(Mr),Mr.isExpand){var $r=Mr.children;if($r.length)for(var Br=$r.length-1;Br>=0;Br--)Dr.push($r[Br])}}function treeLayout(_r,Be){_r.eachSeriesByType("tree",function(Dr){commonLayout(Dr,Be)})}function commonLayout(_r,Be){var Dr=getViewRect$4(_r,Be);_r.layoutInfo=Dr;var Mr=_r.get("layout"),$r=0,Br=0,zr=null;Mr==="radial"?($r=2*Math.PI,Br=Math.min(Dr.height,Dr.width)/2,zr=separation(function(mn,bn){return(mn.parentNode===bn.parentNode?1:2)/mn.depth})):($r=Dr.width,Br=Dr.height,zr=separation());var Vr=_r.getData().tree.root,jr=Vr.children[0];if(jr){init(Vr),eachAfter(jr,firstWalk,zr),Vr.hierNode.modifier=-jr.hierNode.prelim,eachBefore(jr,secondWalk);var Gr=jr,Wr=jr,Kr=jr;eachBefore(jr,function(mn){var bn=mn.getLayout().x;bn<Gr.getLayout().x&&(Gr=mn),bn>Wr.getLayout().x&&(Wr=mn),mn.depth>Kr.depth&&(Kr=mn)});var Zr=Gr===Wr?1:zr(Gr,Wr)/2,Jr=Zr-Gr.getLayout().x,rn=0,nn=0,ln=0,cn=0;if(Mr==="radial")rn=$r/(Wr.getLayout().x+Zr+Jr),nn=Br/(Kr.depth-1||1),eachBefore(jr,function(mn){ln=(mn.getLayout().x+Jr)*rn,cn=(mn.depth-1)*nn;var bn=radialCoordinate(ln,cn);mn.setLayout({x:bn.x,y:bn.y,rawX:ln,rawY:cn},!0)});else{var hn=_r.getOrient();hn==="RL"||hn==="LR"?(nn=Br/(Wr.getLayout().x+Zr+Jr),rn=$r/(Kr.depth-1||1),eachBefore(jr,function(mn){cn=(mn.getLayout().x+Jr)*nn,ln=hn==="LR"?(mn.depth-1)*rn:$r-(mn.depth-1)*rn,mn.setLayout({x:ln,y:cn},!0)})):(hn==="TB"||hn==="BT")&&(rn=$r/(Wr.getLayout().x+Zr+Jr),nn=Br/(Kr.depth-1||1),eachBefore(jr,function(mn){ln=(mn.getLayout().x+Jr)*rn,cn=hn==="TB"?(mn.depth-1)*nn:Br-(mn.depth-1)*nn,mn.setLayout({x:ln,y:cn},!0)}))}}}function treeVisual(_r){_r.eachSeriesByType("tree",function(Be){var Dr=Be.getData(),Mr=Dr.tree;Mr.eachNode(function($r){var Br=$r.getModel(),zr=Br.getModel("itemStyle").getItemStyle(),Vr=Dr.ensureUniqueItemVisual($r.dataIndex,"style");extend$1(Vr,zr)})})}function installTreeAction(_r){_r.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(Be,Dr){Dr.eachComponent({mainType:"series",subType:"tree",query:Be},function(Mr){var $r=Be.dataIndex,Br=Mr.getData().tree,zr=Br.getNodeByDataIndex($r);zr.isExpand=!zr.isExpand})}),_r.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(Be,Dr,Mr){Dr.eachComponent({mainType:"series",subType:"tree",query:Be},function($r){var Br=$r.coordinateSystem,zr=updateCenterAndZoom(Br,Be,void 0,Mr);$r.setCenter&&$r.setCenter(zr.center),$r.setZoom&&$r.setZoom(zr.zoom)})})}function install$H(_r){_r.registerChartView(TreeView$1),_r.registerSeriesModel(TreeSeriesModel$1),_r.registerLayout(treeLayout),_r.registerVisual(treeVisual),installTreeAction(_r)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(_r){for(var Be=0;Be<actionTypes.length;Be++)_r.registerAction({type:actionTypes[Be],update:"updateView"},noop);_r.registerAction({type:"treemapRootToNode",update:"updateView"},function(Dr,Mr){Mr.eachComponent({mainType:"series",subType:"treemap",query:Dr},$r);function $r(Br,zr){var Vr=["treemapZoomToNode","treemapRootToNode"],jr=retrieveTargetInfo(Dr,Vr,Br);if(jr){var Gr=Br.getViewRoot();Gr&&(Dr.direction=aboveViewRoot(Gr,jr.node)?"rollUp":"drillDown"),Br.resetViewRoot(jr.node)}}})}function enableAriaDecalForTree(_r){var Be=_r.getData(),Dr=Be.tree,Mr={};Dr.eachNode(function($r){for(var Br=$r;Br&&Br.depth>1;)Br=Br.parentNode;var zr=getDecalFromPalette(_r.ecModel,Br.name||Br.dataIndex+"",Mr);$r.setVisual("decal",zr)})}var TreemapSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.preventUsingHoverLayer=!0,Dr}return Be.prototype.getInitialData=function(Dr,Mr){var $r={name:Dr.name,children:Dr.data};completeTreeValue$1($r);var Br=Dr.levels||[],zr=this.designatedVisualItemStyle={},Vr=new Model$1({itemStyle:zr},this,Mr);Br=Dr.levels=setDefault(Br,Mr);var jr=map$1(Br||[],function(Kr){return new Model$1(Kr,Vr,Mr)},this),Gr=Tree$1.createTree($r,this,Wr);function Wr(Kr){Kr.wrapMethod("getItemModel",function(Zr,Jr){var rn=Gr.getNodeByDataIndex(Jr),nn=rn?jr[rn.depth]:null;return Zr.parentModel=nn||Vr,Zr})}return Gr.data},Be.prototype.optionUpdated=function(){this.resetViewRoot()},Be.prototype.formatTooltip=function(Dr,Mr,$r){var Br=this.getData(),zr=this.getRawValue(Dr),Vr=Br.getName(Dr);return createTooltipMarkup("nameValue",{name:Vr,value:zr})},Be.prototype.getDataParams=function(Dr){var Mr=_r.prototype.getDataParams.apply(this,arguments),$r=this.getData().tree.getNodeByDataIndex(Dr);return Mr.treeAncestors=wrapTreePathInfo($r,this),Mr.treePathInfo=Mr.treeAncestors,Mr},Be.prototype.setLayoutInfo=function(Dr){this.layoutInfo=this.layoutInfo||{},extend$1(this.layoutInfo,Dr)},Be.prototype.mapIdToIndex=function(Dr){var Mr=this._idIndexMap;Mr||(Mr=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var $r=Mr.get(Dr);return $r==null&&Mr.set(Dr,$r=this._idIndexMapCount++),$r},Be.prototype.getViewRoot=function(){return this._viewRoot},Be.prototype.resetViewRoot=function(Dr){Dr?this._viewRoot=Dr:Dr=this._viewRoot;var Mr=this.getRawData().tree.root;(!Dr||Dr!==Mr&&!Mr.contains(Dr))&&(this._viewRoot=Mr)},Be.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},Be.type="series.treemap",Be.layoutMode="box",Be.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"â¶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},Be}(SeriesModel$1);function completeTreeValue$1(_r){var Be=0;each$f(_r.children,function(Mr){completeTreeValue$1(Mr);var $r=Mr.value;isArray$1($r)&&($r=$r[0]),Be+=$r});var Dr=_r.value;isArray$1(Dr)&&(Dr=Dr[0]),(Dr==null||isNaN(Dr))&&(Dr=Be),Dr<0&&(Dr=0),isArray$1(_r.value)?_r.value[0]=Dr:_r.value=Dr}function setDefault(_r,Be){var Dr=normalizeToArray(Be.get("color")),Mr=normalizeToArray(Be.get(["aria","decal","decals"]));if(Dr){_r=_r||[];var $r,Br;each$f(_r,function(Vr){var jr=new Model$1(Vr),Gr=jr.get("color"),Wr=jr.get("decal");(jr.get(["itemStyle","color"])||Gr&&Gr!=="none")&&($r=!0),(jr.get(["itemStyle","decal"])||Wr&&Wr!=="none")&&(Br=!0)});var zr=_r[0]||(_r[0]={});return $r||(zr.color=Dr.slice()),!Br&&Mr&&(zr.decal=Mr.slice()),_r}}const TreemapSeriesModel$1=TreemapSeriesModel;var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function _r(Be){this.group=new Group$4,Be.add(this.group)}return _r.prototype.render=function(Be,Dr,Mr,$r){var Br=Be.getModel("breadcrumb"),zr=this.group;if(zr.removeAll(),!(!Br.get("show")||!Mr)){var Vr=Br.getModel("itemStyle"),jr=Br.getModel("emphasis"),Gr=Vr.getModel("textStyle"),Wr=jr.getModel(["itemStyle","textStyle"]),Kr={pos:{left:Br.get("left"),right:Br.get("right"),top:Br.get("top"),bottom:Br.get("bottom")},box:{width:Dr.getWidth(),height:Dr.getHeight()},emptyItemWidth:Br.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(Mr,Kr,Gr),this._renderContent(Be,Kr,Vr,jr,Gr,Wr,$r),positionElement(zr,Kr.pos,Kr.box)}},_r.prototype._prepare=function(Be,Dr,Mr){for(var $r=Be;$r;$r=$r.parentNode){var Br=convertOptionIdName($r.getModel().get("name"),""),zr=Mr.getTextRect(Br),Vr=Math.max(zr.width+TEXT_PADDING*2,Dr.emptyItemWidth);Dr.totalWidth+=Vr+ITEM_GAP,Dr.renderList.push({node:$r,text:Br,width:Vr})}},_r.prototype._renderContent=function(Be,Dr,Mr,$r,Br,zr,Vr){for(var jr=0,Gr=Dr.emptyItemWidth,Wr=Be.get(["breadcrumb","height"]),Kr=getAvailableSize(Dr.pos,Dr.box),Zr=Dr.totalWidth,Jr=Dr.renderList,rn=$r.getModel("itemStyle").getItemStyle(),nn=Jr.length-1;nn>=0;nn--){var ln=Jr[nn],cn=ln.node,hn=ln.width,mn=ln.text;Zr>Kr.width&&(Zr-=hn-Gr,hn=Gr,mn=null);var bn=new Polygon$1({shape:{points:makeItemPoints(jr,0,hn,Wr,nn===Jr.length-1,nn===0)},style:defaults(Mr.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$1({style:createTextStyle$1(Br,{text:mn})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(Vr,cn)});bn.disableLabelAnimation=!0,bn.getTextContent().ensureState("emphasis").style=createTextStyle$1(zr,{text:mn}),bn.ensureState("emphasis").style=rn,toggleHoverEmphasis(bn,$r.get("focus"),$r.get("blurScope"),$r.get("disabled")),this.group.add(bn),packEventData(bn,Be,cn),jr+=hn+ITEM_GAP}},_r.prototype.remove=function(){this.group.removeAll()},_r}();function makeItemPoints(_r,Be,Dr,Mr,$r,Br){var zr=[[$r?_r:_r-ARRAY_LENGTH,Be],[_r+Dr,Be],[_r+Dr,Be+Mr],[$r?_r:_r-ARRAY_LENGTH,Be+Mr]];return!Br&&zr.splice(2,0,[_r+Dr+ARRAY_LENGTH,Be+Mr/2]),!$r&&zr.push([_r,Be+Mr/2]),zr}function packEventData(_r,Be,Dr){getECData(_r).eventData={componentType:"series",componentSubType:"treemap",componentIndex:Be.componentIndex,seriesIndex:Be.seriesIndex,seriesName:Be.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:Dr&&Dr.dataIndex,name:Dr&&Dr.name},treePathInfo:Dr&&wrapTreePathInfo(Dr,Be)}}const Breadcrumb$1=Breadcrumb;var AnimationWrap=function(){function _r(){this._storage=[],this._elExistsMap={}}return _r.prototype.add=function(Be,Dr,Mr,$r,Br){return this._elExistsMap[Be.id]?!1:(this._elExistsMap[Be.id]=!0,this._storage.push({el:Be,target:Dr,duration:Mr,delay:$r,easing:Br}),!0)},_r.prototype.finished=function(Be){return this._finishedCallback=Be,this},_r.prototype.start=function(){for(var Be=this,Dr=this._storage.length,Mr=function(){Dr--,Dr<=0&&(Be._storage.length=0,Be._elExistsMap={},Be._finishedCallback&&Be._finishedCallback())},$r=0,Br=this._storage.length;$r<Br;$r++){var zr=this._storage[$r];zr.el.animateTo(zr.target,{duration:zr.duration,delay:zr.delay,easing:zr.easing,setToFinal:!0,done:Mr,aborted:Mr})}return this},_r}();function createWrap(){return new AnimationWrap}var Group$2=Group$4,Rect$1=Rect$3,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(_r){var Be=getStateItemStyle(_r);return Be.stroke=Be.fill=Be.lineWidth=null,Be},inner$d=makeInner(),TreemapView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr._state="ready",Dr._storage=createStorage(),Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){var zr=Mr.findComponents({mainType:"series",subType:"treemap",query:Br});if(!(indexOf(zr,Dr)<0)){this.seriesModel=Dr,this.api=$r,this.ecModel=Mr;var Vr=["treemapZoomToNode","treemapRootToNode"],jr=retrieveTargetInfo(Br,Vr,Dr),Gr=Br&&Br.type,Wr=Dr.layoutInfo,Kr=!this._oldTree,Zr=this._storage,Jr=Gr==="treemapRootToNode"&&jr&&Zr?{rootNodeGroup:Zr.nodeGroup[jr.node.getRawIndex()],direction:Br.direction}:null,rn=this._giveContainerGroup(Wr),nn=Dr.get("animation"),ln=this._doRender(rn,Dr,Jr);nn&&!Kr&&(!Gr||Gr==="treemapZoomToNode"||Gr==="treemapRootToNode")?this._doAnimation(rn,ln,Dr,Jr):ln.renderFinally(),this._resetController($r),this._renderBreadcrumb(Dr,$r,jr)}},Be.prototype._giveContainerGroup=function(Dr){var Mr=this._containerGroup;return Mr||(Mr=this._containerGroup=new Group$2,this._initEvents(Mr),this.group.add(Mr)),Mr.x=Dr.x,Mr.y=Dr.y,Mr},Be.prototype._doRender=function(Dr,Mr,$r){var Br=Mr.getData().tree,zr=this._oldTree,Vr=createStorage(),jr=createStorage(),Gr=this._storage,Wr=[];function Kr(ln,cn,hn,mn){return renderNode(Mr,jr,Gr,$r,Vr,Wr,ln,cn,hn,mn)}Jr(Br.root?[Br.root]:[],zr&&zr.root?[zr.root]:[],Dr,Br===zr||!zr,0);var Zr=rn(Gr);return this._oldTree=Br,this._storage=jr,{lastsForAnimation:Vr,willDeleteEls:Zr,renderFinally:nn};function Jr(ln,cn,hn,mn,bn){mn?(cn=ln,each$f(ln,function(dn,wn){!dn.isRemoved()&&vn(wn,wn)})):new DataDiffer$1(cn,ln,An,An).add(vn).update(vn).remove(curry$1(vn,null)).execute();function An(dn){return dn.getId()}function vn(dn,wn){var xn=dn!=null?ln[dn]:null,Mn=wn!=null?cn[wn]:null,In=Kr(xn,Mn,hn,bn);In&&Jr(xn&&xn.viewChildren||[],Mn&&Mn.viewChildren||[],In,mn,bn+1)}}function rn(ln){var cn=createStorage();return ln&&each$f(ln,function(hn,mn){var bn=cn[mn];each$f(hn,function(An){An&&(bn.push(An),inner$d(An).willDelete=!0)})}),cn}function nn(){each$f(Zr,function(ln){each$f(ln,function(cn){cn.parent&&cn.parent.remove(cn)})}),each$f(Wr,function(ln){ln.invisible=!0,ln.dirty()})}},Be.prototype._doAnimation=function(Dr,Mr,$r,Br){var zr=$r.get("animationDurationUpdate"),Vr=$r.get("animationEasing"),jr=(isFunction(zr)?0:zr)||0,Gr=(isFunction(Vr)?null:Vr)||"cubicOut",Wr=createWrap();each$f(Mr.willDeleteEls,function(Kr,Zr){each$f(Kr,function(Jr,rn){if(!Jr.invisible){var nn=Jr.parent,ln,cn=inner$d(nn);if(Br&&Br.direction==="drillDown")ln=nn===Br.rootNodeGroup?{shape:{x:0,y:0,width:cn.nodeWidth,height:cn.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var hn=0,mn=0;cn.willDelete||(hn=cn.nodeWidth/2,mn=cn.nodeHeight/2),ln=Zr==="nodeGroup"?{x:hn,y:mn,style:{opacity:0}}:{shape:{x:hn,y:mn,width:0,height:0},style:{opacity:0}}}ln&&Wr.add(Jr,ln,jr,0,Gr)}})}),each$f(this._storage,function(Kr,Zr){each$f(Kr,function(Jr,rn){var nn=Mr.lastsForAnimation[Zr][rn],ln={};nn&&(Jr instanceof Group$4?nn.oldX!=null&&(ln.x=Jr.x,ln.y=Jr.y,Jr.x=nn.oldX,Jr.y=nn.oldY):(nn.oldShape&&(ln.shape=extend$1({},Jr.shape),Jr.setShape(nn.oldShape)),nn.fadein?(Jr.setStyle("opacity",0),ln.style={opacity:1}):Jr.style.opacity!==1&&(ln.style={opacity:1})),Wr.add(Jr,ln,jr,0,Gr))})},this),this._state="animating",Wr.finished(bind$1(function(){this._state="ready",Mr.renderFinally()},this)).start()},Be.prototype._resetController=function(Dr){var Mr=this._controller;Mr||(Mr=this._controller=new RoamController$1(Dr.getZr()),Mr.enable(this.seriesModel.get("roam")),Mr.on("pan",bind$1(this._onPan,this)),Mr.on("zoom",bind$1(this._onZoom,this)));var $r=new BoundingRect$1(0,0,Dr.getWidth(),Dr.getHeight());Mr.setPointerChecker(function(Br,zr,Vr){return $r.contain(zr,Vr)})},Be.prototype._clearController=function(){var Dr=this._controller;Dr&&(Dr.dispose(),Dr=null)},Be.prototype._onPan=function(Dr){if(this._state!=="animating"&&(Math.abs(Dr.dx)>DRAG_THRESHOLD||Math.abs(Dr.dy)>DRAG_THRESHOLD)){var Mr=this.seriesModel.getData().tree.root;if(!Mr)return;var $r=Mr.getLayout();if(!$r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:$r.x+Dr.dx,y:$r.y+Dr.dy,width:$r.width,height:$r.height}})}},Be.prototype._onZoom=function(Dr){var Mr=Dr.originX,$r=Dr.originY;if(this._state!=="animating"){var Br=this.seriesModel.getData().tree.root;if(!Br)return;var zr=Br.getLayout();if(!zr)return;var Vr=new BoundingRect$1(zr.x,zr.y,zr.width,zr.height),jr=this.seriesModel.layoutInfo;Mr-=jr.x,$r-=jr.y;var Gr=create$1();translate(Gr,Gr,[-Mr,-$r]),scale$1(Gr,Gr,[Dr.scale,Dr.scale]),translate(Gr,Gr,[Mr,$r]),Vr.applyTransform(Gr),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:Vr.x,y:Vr.y,width:Vr.width,height:Vr.height}})}},Be.prototype._initEvents=function(Dr){var Mr=this;Dr.on("click",function($r){if(Mr._state==="ready"){var Br=Mr.seriesModel.get("nodeClick",!0);if(Br){var zr=Mr.findTarget($r.offsetX,$r.offsetY);if(zr){var Vr=zr.node;if(Vr.getLayout().isLeafRoot)Mr._rootToNode(zr);else if(Br==="zoomToNode")Mr._zoomToNode(zr);else if(Br==="link"){var jr=Vr.hostTree.data.getItemModel(Vr.dataIndex),Gr=jr.get("link",!0),Wr=jr.get("target",!0)||"blank";Gr&&windowOpen(Gr,Wr)}}}}},this)},Be.prototype._renderBreadcrumb=function(Dr,Mr,$r){var Br=this;$r||($r=Dr.get("leafDepth",!0)!=null?{node:Dr.getViewRoot()}:this.findTarget(Mr.getWidth()/2,Mr.getHeight()/2),$r||($r={node:Dr.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$1(this.group))).render(Dr,Mr,$r.node,function(zr){Br._state!=="animating"&&(aboveViewRoot(Dr.getViewRoot(),zr)?Br._rootToNode({node:zr}):Br._zoomToNode({node:zr}))})},Be.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},Be.prototype.dispose=function(){this._clearController()},Be.prototype._zoomToNode=function(Dr){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Dr.node})},Be.prototype._rootToNode=function(Dr){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:Dr.node})},Be.prototype.findTarget=function(Dr,Mr){var $r,Br=this.seriesModel.getViewRoot();return Br.eachNode({attr:"viewChildren",order:"preorder"},function(zr){var Vr=this._storage.background[zr.getRawIndex()];if(Vr){var jr=Vr.transformCoordToLocal(Dr,Mr),Gr=Vr.shape;if(Gr.x<=jr[0]&&jr[0]<=Gr.x+Gr.width&&Gr.y<=jr[1]&&jr[1]<=Gr.y+Gr.height)$r={node:zr,offsetX:jr[0],offsetY:jr[1]};else return!1}},this),$r},Be.type="treemap",Be}(ChartView$1);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr){if(!zr)return;var Wr=zr.getLayout(),Kr=_r.getData(),Zr=zr.getModel();if(Kr.setItemGraphicEl(zr.dataIndex,null),!Wr||!Wr.isInView)return;var Jr=Wr.width,rn=Wr.height,nn=Wr.borderWidth,ln=Wr.invisible,cn=zr.getRawIndex(),hn=Vr&&Vr.getRawIndex(),mn=zr.viewChildren,bn=Wr.upperHeight,An=mn&&mn.length,vn=Zr.getModel("itemStyle"),dn=Zr.getModel(["emphasis","itemStyle"]),wn=Zr.getModel(["blur","itemStyle"]),xn=Zr.getModel(["select","itemStyle"]),Mn=vn.get("borderRadius")||0,In=si("nodeGroup",Group$2);if(!In)return;if(jr.add(In),In.x=Wr.x||0,In.y=Wr.y||0,In.markRedraw(),inner$d(In).nodeWidth=Jr,inner$d(In).nodeHeight=rn,Wr.isAboveViewRoot)return In;var Hn=si("background",Rect$1,Gr,Z2_BG);Hn&&vi(In,Hn,An&&Wr.upperLabelHeight);var $n=Zr.getModel("emphasis"),jn=$n.get("focus"),Bn=$n.get("blurScope"),Gn=$n.get("disabled"),ei=jn==="ancestor"?zr.getAncestorsIndices():jn==="descendant"?zr.getDescendantIndices():jn;if(An)isHighDownDispatcher(In)&&setAsHighDownDispatcher(In,!1),Hn&&(setAsHighDownDispatcher(Hn,!Gn),Kr.setItemGraphicEl(zr.dataIndex,Hn),enableHoverFocus(Hn,ei,Bn));else{var ri=si("content",Rect$1,Gr,Z2_CONTENT);ri&&wi(In,ri),Hn.disableMorphing=!0,Hn&&isHighDownDispatcher(Hn)&&setAsHighDownDispatcher(Hn,!1),setAsHighDownDispatcher(In,!Gn),Kr.setItemGraphicEl(zr.dataIndex,In),enableHoverFocus(In,ei,Bn)}return In;function vi(Fi,zi,oo){var lo=getECData(zi);if(lo.dataIndex=zr.dataIndex,lo.seriesIndex=_r.seriesIndex,zi.setShape({x:0,y:0,width:Jr,height:rn,r:Mn}),ln)Ni(zi);else{zi.invisible=!1;var io=zr.getVisual("style"),Wi=io.stroke,Bo=getItemStyleNormal(vn);Bo.fill=Wi;var Mo=getStateItemStyle(dn);Mo.fill=dn.get("borderColor");var Zi=getStateItemStyle(wn);Zi.fill=wn.get("borderColor");var Zo=getStateItemStyle(xn);if(Zo.fill=xn.get("borderColor"),oo){var Wo=Jr-2*nn;Yn(zi,Wi,io.opacity,{x:nn,y:0,width:Wo,height:bn})}else zi.removeTextContent();zi.setStyle(Bo),zi.ensureState("emphasis").style=Mo,zi.ensureState("blur").style=Zi,zi.ensureState("select").style=Zo,setDefaultStateProxy(zi)}Fi.add(zi)}function wi(Fi,zi){var oo=getECData(zi);oo.dataIndex=zr.dataIndex,oo.seriesIndex=_r.seriesIndex;var lo=Math.max(Jr-2*nn,0),io=Math.max(rn-2*nn,0);if(zi.culling=!0,zi.setShape({x:nn,y:nn,width:lo,height:io,r:Mn}),ln)Ni(zi);else{zi.invisible=!1;var Wi=zr.getVisual("style"),Bo=Wi.fill,Mo=getItemStyleNormal(vn);Mo.fill=Bo,Mo.decal=Wi.decal;var Zi=getStateItemStyle(dn),Zo=getStateItemStyle(wn),Wo=getStateItemStyle(xn);Yn(zi,Bo,Wi.opacity,null),zi.setStyle(Mo),zi.ensureState("emphasis").style=Zi,zi.ensureState("blur").style=Zo,zi.ensureState("select").style=Wo,setDefaultStateProxy(zi)}Fi.add(zi)}function Ni(Fi){!Fi.invisible&&Br.push(Fi)}function Yn(Fi,zi,oo,lo){var io=Zr.getModel(lo?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),Wi=convertOptionIdName(Zr.get("name"),null),Bo=io.getShallow("show");setLabelStyle(Fi,getLabelStatesModels(Zr,lo?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:Bo?Wi:null,inheritColor:zi,defaultOpacity:oo,labelFetcher:_r,labelDataIndex:zr.dataIndex});var Mo=Fi.getTextContent();if(Mo){var Zi=Mo.style,Zo=normalizeCssArray$1(Zi.padding||0);lo&&(Fi.setTextConfig({layoutRect:lo}),Mo.disableLabelLayout=!0),Mo.beforeUpdate=function(){var Ao=Math.max((lo?lo.width:Fi.shape.width)-Zo[1]-Zo[3],0),ba=Math.max((lo?lo.height:Fi.shape.height)-Zo[0]-Zo[2],0);(Zi.width!==Ao||Zi.height!==ba)&&Mo.setStyle({width:Ao,height:ba})},Zi.truncateMinChar=2,Zi.lineOverflow="truncate",Vn(Zi,lo,Wr);var Wo=Mo.getState("emphasis");Vn(Wo?Wo.style:null,lo,Wr)}}function Vn(Fi,zi,oo){var lo=Fi?Fi.text:null;if(!zi&&oo.isLeafRoot&&lo!=null){var io=_r.get("drillDownIcon",!0);Fi.text=io?io+" "+lo:lo}}function si(Fi,zi,oo,lo){var io=hn!=null&&Dr[Fi][hn],Wi=$r[Fi];return io?(Dr[Fi][hn]=null,Ri(Wi,io)):ln||(io=new zi,io instanceof Displayable$1&&(io.z2=calculateZ2(oo,lo)),Pi(Wi,io)),Be[Fi][cn]=io}function Ri(Fi,zi){var oo=Fi[cn]={};zi instanceof Group$2?(oo.oldX=zi.x,oo.oldY=zi.y):oo.oldShape=extend$1({},zi.shape)}function Pi(Fi,zi){var oo=Fi[cn]={},lo=zr.parentNode,io=zi instanceof Group$4;if(lo&&(!Mr||Mr.direction==="drillDown")){var Wi=0,Bo=0,Mo=$r.background[lo.getRawIndex()];!Mr&&Mo&&Mo.oldShape&&(Wi=Mo.oldShape.width,Bo=Mo.oldShape.height),io?(oo.oldX=0,oo.oldY=Bo):oo.oldShape={x:Wi,y:Bo,width:0,height:0}}oo.fadein=!io}}function calculateZ2(_r,Be){return _r*Z2_BASE+Be}const TreemapView$1=TreemapView;var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function _r(Be){var Dr=Be.mappingMethod,Mr=Be.type,$r=this.option=clone$4(Be);this.type=Mr,this.mappingMethod=Dr,this._normalizeData=normalizers[Dr];var Br=_r.visualHandlers[Mr];this.applyVisual=Br.applyVisual,this.getColorMapper=Br.getColorMapper,this._normalizedToVisual=Br._normalizedToVisual[Dr],Dr==="piecewise"?(normalizeVisualRange($r),preprocessForPiecewise($r)):Dr==="category"?$r.categories?preprocessForSpecifiedCategory($r):normalizeVisualRange($r,!0):(assert(Dr!=="linear"||$r.dataExtent),normalizeVisualRange($r))}return _r.prototype.mapValueToVisual=function(Be){var Dr=this._normalizeData(Be);return this._normalizedToVisual(Dr,Be)},_r.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},_r.listVisualTypes=function(){return keys(_r.visualHandlers)},_r.isValidType=function(Be){return _r.visualHandlers.hasOwnProperty(Be)},_r.eachVisual=function(Be,Dr,Mr){isObject$3(Be)?each$f(Be,Dr,Mr):Dr.call(Mr,Be)},_r.mapVisual=function(Be,Dr,Mr){var $r,Br=isArray$1(Be)?[]:isObject$3(Be)?{}:($r=!0,null);return _r.eachVisual(Be,function(zr,Vr){var jr=Dr.call(Mr,zr,Vr);$r?Br=jr:Br[Vr]=jr}),Br},_r.retrieveVisuals=function(Be){var Dr={},Mr;return Be&&each$c(_r.visualHandlers,function($r,Br){Be.hasOwnProperty(Br)&&(Dr[Br]=Be[Br],Mr=!0)}),Mr?Dr:null},_r.prepareVisualTypes=function(Be){if(isArray$1(Be))Be=Be.slice();else if(isObject(Be)){var Dr=[];each$c(Be,function(Mr,$r){Dr.push($r)}),Be=Dr}else return[];return Be.sort(function(Mr,$r){return $r==="color"&&Mr!=="color"&&Mr.indexOf("color")===0?1:-1}),Be},_r.dependsOn=function(Be,Dr){return Dr==="color"?!!(Be&&Be.indexOf(Dr)===0):Be===Dr},_r.findPieceIndex=function(Be,Dr,Mr){for(var $r,Br=1/0,zr=0,Vr=Dr.length;zr<Vr;zr++){var jr=Dr[zr].value;if(jr!=null){if(jr===Be||isString(jr)&&jr===Be+"")return zr;Mr&&Zr(jr,zr)}}for(var zr=0,Vr=Dr.length;zr<Vr;zr++){var Gr=Dr[zr],Wr=Gr.interval,Kr=Gr.close;if(Wr){if(Wr[0]===-1/0){if(littleThan(Kr[1],Be,Wr[1]))return zr}else if(Wr[1]===1/0){if(littleThan(Kr[0],Wr[0],Be))return zr}else if(littleThan(Kr[0],Wr[0],Be)&&littleThan(Kr[1],Be,Wr[1]))return zr;Mr&&Zr(Wr[0],zr),Mr&&Zr(Wr[1],zr)}}if(Mr)return Be===1/0?Dr.length-1:Be===-1/0?0:$r;function Zr(Jr,rn){var nn=Math.abs(Jr-Be);nn<Br&&(Br=nn,$r=rn)}},_r.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var Be=this.option;return bind$1(Be.mappingMethod==="category"?function(Dr,Mr){return!Mr&&(Dr=this._normalizeData(Dr)),doMapCategory.call(this,Dr)}:function(Dr,Mr,$r){var Br=!!$r;return!Mr&&(Dr=this._normalizeData(Dr)),$r=fastLerp(Dr,Be.parsedVisual,$r),Br?$r:stringify($r,"rgba")},this)},_normalizedToVisual:{linear:function(Be){return stringify(fastLerp(Be,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(Be,Dr){var Mr=getSpecifiedVisual.call(this,Dr);return Mr==null&&(Mr=stringify(fastLerp(Be,this.option.parsedVisual),"rgba")),Mr},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(Be,Dr){return modifyHSL(Be,Dr)}),colorSaturation:makePartialColorVisualHandler(function(Be,Dr){return modifyHSL(Be,null,Dr)}),colorLightness:makePartialColorVisualHandler(function(Be,Dr){return modifyHSL(Be,null,null,Dr)}),colorAlpha:makePartialColorVisualHandler(function(Be,Dr){return modifyAlpha(Be,Dr)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(Be,Dr,Mr){var $r=this.mapValueToVisual(Be);Mr("symbol",$r)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(Be,Dr){var Mr=getSpecifiedVisual.call(this,Dr);return Mr==null&&(Mr=doMapToArray.call(this,Be)),Mr},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},_r}();function preprocessForPiecewise(_r){var Be=_r.pieceList;_r.hasSpecialVisual=!1,each$f(Be,function(Dr,Mr){Dr.originIndex=Mr,Dr.visual!=null&&(_r.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(_r){var Be=_r.categories,Dr=_r.categoryMap={},Mr=_r.visual;if(each$c(Be,function(zr,Vr){Dr[zr]=Vr}),!isArray$1(Mr)){var $r=[];isObject$3(Mr)?each$c(Mr,function(zr,Vr){var jr=Dr[Vr];$r[jr??CATEGORY_DEFAULT_VISUAL_INDEX]=zr}):$r[CATEGORY_DEFAULT_VISUAL_INDEX]=Mr,Mr=setVisualToOption(_r,$r)}for(var Br=Be.length-1;Br>=0;Br--)Mr[Br]==null&&(delete Dr[Be[Br]],Be.pop())}function normalizeVisualRange(_r,Be){var Dr=_r.visual,Mr=[];isObject$3(Dr)?each$c(Dr,function(Br){Mr.push(Br)}):Dr!=null&&Mr.push(Dr);var $r={color:1,symbol:1};!Be&&Mr.length===1&&!$r.hasOwnProperty(_r.type)&&(Mr[1]=Mr[0]),setVisualToOption(_r,Mr)}function makePartialColorVisualHandler(_r){return{applyVisual:function(Be,Dr,Mr){var $r=this.mapValueToVisual(Be);Mr("color",_r(Dr("color"),$r))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(_r){var Be=this.option.visual;return Be[Math.round(linearMap$2(_r,[0,1],[0,Be.length-1],!0))]||{}}function makeApplyVisual(_r){return function(Be,Dr,Mr){Mr(_r,this.mapValueToVisual(Be))}}function doMapCategory(_r){var Be=this.option.visual;return Be[this.option.loop&&_r!==CATEGORY_DEFAULT_VISUAL_INDEX?_r%Be.length:_r]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(_r){return{linear:function(Be){return linearMap$2(Be,_r,this.option.visual,!0)},category:doMapCategory,piecewise:function(Be,Dr){var Mr=getSpecifiedVisual.call(this,Dr);return Mr==null&&(Mr=linearMap$2(Be,_r,this.option.visual,!0)),Mr},fixed:doMapFixed}}function getSpecifiedVisual(_r){var Be=this.option,Dr=Be.pieceList;if(Be.hasSpecialVisual){var Mr=VisualMapping.findPieceIndex(_r,Dr),$r=Dr[Mr];if($r&&$r.visual)return $r.visual[this.type]}}function setVisualToOption(_r,Be){return _r.visual=Be,_r.type==="color"&&(_r.parsedVisual=map$1(Be,function(Dr){var Mr=parse(Dr);return Mr||[0,0,0,1]})),Be}var normalizers={linear:function(_r){return linearMap$2(_r,this.option.dataExtent,[0,1],!0)},piecewise:function(_r){var Be=this.option.pieceList,Dr=VisualMapping.findPieceIndex(_r,Be,!0);if(Dr!=null)return linearMap$2(Dr,[0,Be.length-1],[0,1],!0)},category:function(_r){var Be=this.option.categories?this.option.categoryMap[_r]:_r;return Be??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop};function littleThan(_r,Be,Dr){return _r?Be<=Dr:Be<Dr}const VisualMapping$1=VisualMapping;var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(_r){var Be=_r.getData().tree,Dr=Be.root;Dr.isRemoved()||travelTree(Dr,{},_r.getViewRoot().getAncestors(),_r)}};function travelTree(_r,Be,Dr,Mr){var $r=_r.getModel(),Br=_r.getLayout(),zr=_r.hostTree.data;if(!(!Br||Br.invisible||!Br.isInView)){var Vr=$r.getModel(ITEM_STYLE_NORMAL),jr=buildVisuals(Vr,Be,Mr),Gr=zr.ensureUniqueItemVisual(_r.dataIndex,"style"),Wr=Vr.get("borderColor"),Kr=Vr.get("borderColorSaturation"),Zr;Kr!=null&&(Zr=calculateColor(jr),Wr=calculateBorderColor(Kr,Zr)),Gr.stroke=Wr;var Jr=_r.viewChildren;if(!Jr||!Jr.length)Zr=calculateColor(jr),Gr.fill=Zr;else{var rn=buildVisualMapping(_r,$r,Br,Vr,jr,Jr);each$f(Jr,function(nn,ln){if(nn.depth>=Dr.length||nn===Dr[nn.depth]){var cn=mapVisual$1($r,jr,nn,ln,rn,Mr);travelTree(nn,cn,Dr,Mr)}})}}}function buildVisuals(_r,Be,Dr){var Mr=extend$1({},Be),$r=Dr.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(Br){$r[Br]=Be[Br];var zr=_r.get(Br);$r[Br]=null,zr!=null&&(Mr[Br]=zr)}),Mr}function calculateColor(_r){var Be=getValueVisualDefine(_r,"color");if(Be){var Dr=getValueVisualDefine(_r,"colorAlpha"),Mr=getValueVisualDefine(_r,"colorSaturation");return Mr&&(Be=modifyHSL(Be,null,null,Mr)),Dr&&(Be=modifyAlpha(Be,Dr)),Be}}function calculateBorderColor(_r,Be){return Be!=null?modifyHSL(Be,null,null,_r):null}function getValueVisualDefine(_r,Be){var Dr=_r[Be];if(Dr!=null&&Dr!=="none")return Dr}function buildVisualMapping(_r,Be,Dr,Mr,$r,Br){if(!(!Br||!Br.length)){var zr=getRangeVisual(Be,"color")||$r.color!=null&&$r.color!=="none"&&(getRangeVisual(Be,"colorAlpha")||getRangeVisual(Be,"colorSaturation"));if(zr){var Vr=Be.get("visualMin"),jr=Be.get("visualMax"),Gr=Dr.dataExtent.slice();Vr!=null&&Vr<Gr[0]&&(Gr[0]=Vr),jr!=null&&jr>Gr[1]&&(Gr[1]=jr);var Wr=Be.get("colorMappingBy"),Kr={type:zr.name,dataExtent:Gr,visual:zr.range};Kr.type==="color"&&(Wr==="index"||Wr==="id")?(Kr.mappingMethod="category",Kr.loop=!0):Kr.mappingMethod="linear";var Zr=new VisualMapping$1(Kr);return inner$c(Zr).drColorMappingBy=Wr,Zr}}}function getRangeVisual(_r,Be){var Dr=_r.get(Be);return isArray$1(Dr)&&Dr.length?{name:Be,range:Dr}:null}function mapVisual$1(_r,Be,Dr,Mr,$r,Br){var zr=extend$1({},Be);if($r){var Vr=$r.type,jr=Vr==="color"&&inner$c($r).drColorMappingBy,Gr=jr==="index"?Mr:jr==="id"?Br.mapIdToIndex(Dr.getId()):Dr.getValue(_r.get("visualDimension"));zr[Vr]=$r.mapValueToVisual(Gr)}return zr}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(_r,Be,Dr,Mr){var $r=Dr.getWidth(),Br=Dr.getHeight(),zr=_r.option,Vr=getLayoutRect(_r.getBoxLayoutParams(),{width:Dr.getWidth(),height:Dr.getHeight()}),jr=zr.size||[],Gr=parsePercent(retrieveValue(Vr.width,jr[0]),$r),Wr=parsePercent(retrieveValue(Vr.height,jr[1]),Br),Kr=Mr&&Mr.type,Zr=["treemapZoomToNode","treemapRootToNode"],Jr=retrieveTargetInfo(Mr,Zr,_r),rn=Kr==="treemapRender"||Kr==="treemapMove"?Mr.rootRect:null,nn=_r.getViewRoot(),ln=getPathToRoot(nn);if(Kr!=="treemapMove"){var cn=Kr==="treemapZoomToNode"?estimateRootSize(_r,Jr,nn,Gr,Wr):rn?[rn.width,rn.height]:[Gr,Wr],hn=zr.sort;hn&&hn!=="asc"&&hn!=="desc"&&(hn="desc");var mn={squareRatio:zr.squareRatio,sort:hn,leafDepth:zr.leafDepth};nn.hostTree.clearLayouts();var bn={x:0,y:0,width:cn[0],height:cn[1],area:cn[0]*cn[1]};nn.setLayout(bn),squarify(nn,mn,!1,0),bn=nn.getLayout(),each$b(ln,function(vn,dn){var wn=(ln[dn+1]||nn).getValue();vn.setLayout(extend$1({dataExtent:[wn,wn],borderWidth:0,upperHeight:0},bn))})}var An=_r.getData().tree.root;An.setLayout(calculateRootPosition(Vr,rn,Jr),!0),_r.setLayoutInfo(Vr),prunning(An,new BoundingRect$1(-Vr.x,-Vr.y,$r,Br),ln,nn,0)}};function squarify(_r,Be,Dr,Mr){var $r,Br;if(!_r.isRemoved()){var zr=_r.getLayout();$r=zr.width,Br=zr.height;var Vr=_r.getModel(),jr=Vr.get(PATH_BORDER_WIDTH),Gr=Vr.get(PATH_GAP_WIDTH)/2,Wr=getUpperLabelHeight(Vr),Kr=Math.max(jr,Wr),Zr=jr-Gr,Jr=Kr-Gr;_r.setLayout({borderWidth:jr,upperHeight:Kr,upperLabelHeight:Wr},!0),$r=mathMax$3($r-2*Zr,0),Br=mathMax$3(Br-Zr-Jr,0);var rn=$r*Br,nn=initChildren$1(_r,Vr,rn,Be,Dr,Mr);if(nn.length){var ln={x:Zr,y:Jr,width:$r,height:Br},cn=mathMin$3($r,Br),hn=1/0,mn=[];mn.area=0;for(var bn=0,An=nn.length;bn<An;){var vn=nn[bn];mn.push(vn),mn.area+=vn.getLayout().area;var dn=worst(mn,cn,Be.squareRatio);dn<=hn?(bn++,hn=dn):(mn.area-=mn.pop().getLayout().area,position(mn,cn,ln,Gr,!1),cn=mathMin$3(ln.width,ln.height),mn.length=mn.area=0,hn=1/0)}if(mn.length&&position(mn,cn,ln,Gr,!0),!Dr){var wn=Vr.get("childrenVisibleMin");wn!=null&&rn<wn&&(Dr=!0)}for(var bn=0,An=nn.length;bn<An;bn++)squarify(nn[bn],Be,Dr,Mr+1)}}}function initChildren$1(_r,Be,Dr,Mr,$r,Br){var zr=_r.children||[],Vr=Mr.sort;Vr!=="asc"&&Vr!=="desc"&&(Vr=null);var jr=Mr.leafDepth!=null&&Mr.leafDepth<=Br;if($r&&!jr)return _r.viewChildren=[];zr=filter(zr,function(Jr){return!Jr.isRemoved()}),sort$1(zr,Vr);var Gr=statistic(Be,zr,Vr);if(Gr.sum===0)return _r.viewChildren=[];if(Gr.sum=filterByThreshold(Be,Dr,Gr.sum,Vr,zr),Gr.sum===0)return _r.viewChildren=[];for(var Wr=0,Kr=zr.length;Wr<Kr;Wr++){var Zr=zr[Wr].getValue()/Gr.sum*Dr;zr[Wr].setLayout({area:Zr})}return jr&&(zr.length&&_r.setLayout({isLeafRoot:!0},!0),zr.length=0),_r.viewChildren=zr,_r.setLayout({dataExtent:Gr.dataExtent},!0),zr}function filterByThreshold(_r,Be,Dr,Mr,$r){if(!Mr)return Dr;for(var Br=_r.get("visibleMin"),zr=$r.length,Vr=zr,jr=zr-1;jr>=0;jr--){var Gr=$r[Mr==="asc"?zr-jr-1:jr].getValue();Gr/Dr*Be<Br&&(Vr=jr,Dr-=Gr)}return Mr==="asc"?$r.splice(0,zr-Vr):$r.splice(Vr,zr-Vr),Dr}function sort$1(_r,Be){return Be&&_r.sort(function(Dr,Mr){var $r=Be==="asc"?Dr.getValue()-Mr.getValue():Mr.getValue()-Dr.getValue();return $r===0?Be==="asc"?Dr.dataIndex-Mr.dataIndex:Mr.dataIndex-Dr.dataIndex:$r}),_r}function statistic(_r,Be,Dr){for(var Mr=0,$r=0,Br=Be.length;$r<Br;$r++)Mr+=Be[$r].getValue();var zr=_r.get("visualDimension"),Vr;return!Be||!Be.length?Vr=[NaN,NaN]:zr==="value"&&Dr?(Vr=[Be[Be.length-1].getValue(),Be[0].getValue()],Dr==="asc"&&Vr.reverse()):(Vr=[1/0,-1/0],each$b(Be,function(jr){var Gr=jr.getValue(zr);Gr<Vr[0]&&(Vr[0]=Gr),Gr>Vr[1]&&(Vr[1]=Gr)})),{sum:Mr,dataExtent:Vr}}function worst(_r,Be,Dr){for(var Mr=0,$r=1/0,Br=0,zr=void 0,Vr=_r.length;Br<Vr;Br++)zr=_r[Br].getLayout().area,zr&&(zr<$r&&($r=zr),zr>Mr&&(Mr=zr));var jr=_r.area*_r.area,Gr=Be*Be*Dr;return jr?mathMax$3(Gr*Mr/jr,jr/(Gr*$r)):1/0}function position(_r,Be,Dr,Mr,$r){var Br=Be===Dr.width?0:1,zr=1-Br,Vr=["x","y"],jr=["width","height"],Gr=Dr[Vr[Br]],Wr=Be?_r.area/Be:0;($r||Wr>Dr[jr[zr]])&&(Wr=Dr[jr[zr]]);for(var Kr=0,Zr=_r.length;Kr<Zr;Kr++){var Jr=_r[Kr],rn={},nn=Wr?Jr.getLayout().area/Wr:0,ln=rn[jr[zr]]=mathMax$3(Wr-2*Mr,0),cn=Dr[Vr[Br]]+Dr[jr[Br]]-Gr,hn=Kr===Zr-1||cn<nn?cn:nn,mn=rn[jr[Br]]=mathMax$3(hn-2*Mr,0);rn[Vr[zr]]=Dr[Vr[zr]]+mathMin$3(Mr,ln/2),rn[Vr[Br]]=Gr+mathMin$3(Mr,mn/2),Gr+=hn,Jr.setLayout(rn,!0)}Dr[Vr[zr]]+=Wr,Dr[jr[zr]]-=Wr}function estimateRootSize(_r,Be,Dr,Mr,$r){var Br=(Be||{}).node,zr=[Mr,$r];if(!Br||Br===Dr)return zr;for(var Vr,jr=Mr*$r,Gr=jr*_r.option.zoomToNodeRatio;Vr=Br.parentNode;){for(var Wr=0,Kr=Vr.children,Zr=0,Jr=Kr.length;Zr<Jr;Zr++)Wr+=Kr[Zr].getValue();var rn=Br.getValue();if(rn===0)return zr;Gr*=Wr/rn;var nn=Vr.getModel(),ln=nn.get(PATH_BORDER_WIDTH),cn=Math.max(ln,getUpperLabelHeight(nn));Gr+=4*ln*ln+(3*ln+cn)*Math.pow(Gr,.5),Gr>MAX_SAFE_INTEGER&&(Gr=MAX_SAFE_INTEGER),Br=Vr}Gr<jr&&(Gr=jr);var hn=Math.pow(Gr/jr,.5);return[Mr*hn,$r*hn]}function calculateRootPosition(_r,Be,Dr){if(Be)return{x:Be.x,y:Be.y};var Mr={x:0,y:0};if(!Dr)return Mr;var $r=Dr.node,Br=$r.getLayout();if(!Br)return Mr;for(var zr=[Br.width/2,Br.height/2],Vr=$r;Vr;){var jr=Vr.getLayout();zr[0]+=jr.x,zr[1]+=jr.y,Vr=Vr.parentNode}return{x:_r.width/2-zr[0],y:_r.height/2-zr[1]}}function prunning(_r,Be,Dr,Mr,$r){var Br=_r.getLayout(),zr=Dr[$r],Vr=zr&&zr===_r;if(!(zr&&!Vr||$r===Dr.length&&_r!==Mr)){_r.setLayout({isInView:!0,invisible:!Vr&&!Be.intersect(Br),isAboveViewRoot:Vr},!0);var jr=new BoundingRect$1(Be.x-Br.x,Be.y-Br.y,Be.width,Be.height);each$b(_r.viewChildren||[],function(Gr){prunning(Gr,jr,Dr,Mr,$r+1)})}}function getUpperLabelHeight(_r){return _r.get(PATH_UPPER_LABEL_SHOW)?_r.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(_r){_r.registerSeriesModel(TreemapSeriesModel$1),_r.registerChartView(TreemapView$1),_r.registerVisual(treemapVisual),_r.registerLayout(treemapLayout),installTreemapAction(_r)}function categoryFilter(_r){var Be=_r.findComponents({mainType:"legend"});!Be||!Be.length||_r.eachSeriesByType("graph",function(Dr){var Mr=Dr.getCategoriesData(),$r=Dr.getGraph(),Br=$r.data,zr=Mr.mapArray(Mr.getName);Br.filterSelf(function(Vr){var jr=Br.getItemModel(Vr),Gr=jr.getShallow("category");if(Gr!=null){isNumber(Gr)&&(Gr=zr[Gr]);for(var Wr=0;Wr<Be.length;Wr++)if(!Be[Wr].isSelected(Gr))return!1}return!0})})}function categoryVisual(_r){var Be={};_r.eachSeriesByType("graph",function(Dr){var Mr=Dr.getCategoriesData(),$r=Dr.getData(),Br={};Mr.each(function(zr){var Vr=Mr.getName(zr);Br["ec-"+Vr]=zr;var jr=Mr.getItemModel(zr),Gr=jr.getModel("itemStyle").getItemStyle();Gr.fill||(Gr.fill=Dr.getColorFromPalette(Vr,Be)),Mr.setItemVisual(zr,"style",Gr);for(var Wr=["symbol","symbolSize","symbolKeepAspect"],Kr=0;Kr<Wr.length;Kr++){var Zr=jr.getShallow(Wr[Kr],!0);Zr!=null&&Mr.setItemVisual(zr,Wr[Kr],Zr)}}),Mr.count()&&$r.each(function(zr){var Vr=$r.getItemModel(zr),jr=Vr.getShallow("category");if(jr!=null){isString(jr)&&(jr=Br["ec-"+jr]);var Gr=Mr.getItemVisual(jr,"style"),Wr=$r.ensureUniqueItemVisual(zr,"style");extend$1(Wr,Gr);for(var Kr=["symbol","symbolSize","symbolKeepAspect"],Zr=0;Zr<Kr.length;Zr++)$r.setItemVisual(zr,Kr[Zr],Mr.getItemVisual(jr,Kr[Zr]))}})})}function normalize$1(_r){return _r instanceof Array||(_r=[_r,_r]),_r}function graphEdgeVisual(_r){_r.eachSeriesByType("graph",function(Be){var Dr=Be.getGraph(),Mr=Be.getEdgeData(),$r=normalize$1(Be.get("edgeSymbol")),Br=normalize$1(Be.get("edgeSymbolSize"));Mr.setVisual("fromSymbol",$r&&$r[0]),Mr.setVisual("toSymbol",$r&&$r[1]),Mr.setVisual("fromSymbolSize",Br&&Br[0]),Mr.setVisual("toSymbolSize",Br&&Br[1]),Mr.setVisual("style",Be.getModel("lineStyle").getLineStyle()),Mr.each(function(zr){var Vr=Mr.getItemModel(zr),jr=Dr.getEdgeByIndex(zr),Gr=normalize$1(Vr.getShallow("symbol",!0)),Wr=normalize$1(Vr.getShallow("symbolSize",!0)),Kr=Vr.getModel("lineStyle").getLineStyle(),Zr=Mr.ensureUniqueItemVisual(zr,"style");switch(extend$1(Zr,Kr),Zr.stroke){case"source":{var Jr=jr.node1.getVisual("style");Zr.stroke=Jr&&Jr.fill;break}case"target":{var Jr=jr.node2.getVisual("style");Zr.stroke=Jr&&Jr.fill;break}}Gr[0]&&jr.setVisual("fromSymbol",Gr[0]),Gr[1]&&jr.setVisual("toSymbol",Gr[1]),Wr[0]&&jr.setVisual("fromSymbolSize",Wr[0]),Wr[1]&&jr.setVisual("toSymbolSize",Wr[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(_r){return _r.get("autoCurveness")||null},createCurveness=function(_r,Be){var Dr=getAutoCurvenessParams(_r),Mr=20,$r=[];if(isNumber(Dr))Mr=Dr;else if(isArray$1(Dr)){_r.__curvenessList=Dr;return}Be>Mr&&(Mr=Be);var Br=Mr%2?Mr+2:Mr+3;$r=[];for(var zr=0;zr<Br;zr++)$r.push((zr%2?zr+1:zr)/10*(zr%2?-1:1));_r.__curvenessList=$r},getKeyOfEdges=function(_r,Be,Dr){var Mr=[_r.id,_r.dataIndex].join("."),$r=[Be.id,Be.dataIndex].join(".");return[Dr.uid,Mr,$r].join(KEY_DELIMITER)},getOppositeKey=function(_r){var Be=_r.split(KEY_DELIMITER);return[Be[0],Be[2],Be[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(_r,Be){var Dr=getKeyOfEdges(_r.node1,_r.node2,Be);return Be.__edgeMap[Dr]},getTotalLengthBetweenNodes=function(_r,Be){var Dr=getEdgeMapLengthWithKey(getKeyOfEdges(_r.node1,_r.node2,Be),Be),Mr=getEdgeMapLengthWithKey(getKeyOfEdges(_r.node2,_r.node1,Be),Be);return Dr+Mr},getEdgeMapLengthWithKey=function(_r,Be){var Dr=Be.__edgeMap;return Dr[_r]?Dr[_r].length:0};function initCurvenessList(_r){getAutoCurvenessParams(_r)&&(_r.__curvenessList=[],_r.__edgeMap={},createCurveness(_r))}function createEdgeMapForCurveness(_r,Be,Dr,Mr){if(getAutoCurvenessParams(Dr)){var $r=getKeyOfEdges(_r,Be,Dr),Br=Dr.__edgeMap,zr=Br[getOppositeKey($r)];Br[$r]&&!zr?Br[$r].isForward=!0:zr&&Br[$r]&&(zr.isForward=!0,Br[$r].isForward=!1),Br[$r]=Br[$r]||[],Br[$r].push(Mr)}}function getCurvenessForEdge(_r,Be,Dr,Mr){var $r=getAutoCurvenessParams(Be),Br=isArray$1($r);if(!$r)return null;var zr=getEdgeFromMap(_r,Be);if(!zr)return null;for(var Vr=-1,jr=0;jr<zr.length;jr++)if(zr[jr]===Dr){Vr=jr;break}var Gr=getTotalLengthBetweenNodes(_r,Be);createCurveness(Be,Gr),_r.lineStyle=_r.lineStyle||{};var Wr=getKeyOfEdges(_r.node1,_r.node2,Be),Kr=Be.__curvenessList,Zr=Br||Gr%2?0:1;if(zr.isForward)return Kr[Zr+Vr];var Jr=getOppositeKey(Wr),rn=getEdgeMapLengthWithKey(Jr,Be),nn=Kr[Vr+rn+Zr];return Mr?Br?$r&&$r[0]===0?(rn+Zr)%2?nn:-nn:((rn%2?0:1)+Zr)%2?nn:-nn:(rn+Zr)%2?nn:-nn:Kr[Vr+rn+Zr]}function simpleLayout(_r){var Be=_r.coordinateSystem;if(!(Be&&Be.type!=="view")){var Dr=_r.getGraph();Dr.eachNode(function(Mr){var $r=Mr.getModel();Mr.setLayout([+$r.get("x"),+$r.get("y")])}),simpleLayoutEdge(Dr,_r)}}function simpleLayoutEdge(_r,Be){_r.eachEdge(function(Dr,Mr){var $r=retrieve3(Dr.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(Dr,Be,Mr,!0),0),Br=clone$3(Dr.node1.getLayout()),zr=clone$3(Dr.node2.getLayout()),Vr=[Br,zr];+$r&&Vr.push([(Br[0]+zr[0])/2-(Br[1]-zr[1])*$r,(Br[1]+zr[1])/2-(zr[0]-Br[0])*$r]),Dr.setLayout(Vr)})}function graphSimpleLayout(_r,Be){_r.eachSeriesByType("graph",function(Dr){var Mr=Dr.get("layout"),$r=Dr.coordinateSystem;if($r&&$r.type!=="view"){var Br=Dr.getData(),zr=[];each$f($r.dimensions,function(Zr){zr=zr.concat(Br.mapDimensionsAll(Zr))});for(var Vr=0;Vr<Br.count();Vr++){for(var jr=[],Gr=!1,Wr=0;Wr<zr.length;Wr++){var Kr=Br.get(zr[Wr],Vr);isNaN(Kr)||(Gr=!0),jr.push(Kr)}Gr?Br.setItemLayout(Vr,$r.dataToPoint(jr)):Br.setItemLayout(Vr,[NaN,NaN])}simpleLayoutEdge(Br.graph,Dr)}else(!Mr||Mr==="none")&&simpleLayout(Dr)})}function getNodeGlobalScale(_r){var Be=_r.coordinateSystem;if(Be.type!=="view")return 1;var Dr=_r.option.nodeScaleRatio,Mr=Be.scaleX,$r=Be.getZoom(),Br=($r-1)*Dr+1;return Br/Mr}function getSymbolSize(_r){var Be=_r.getVisual("symbolSize");return Be instanceof Array&&(Be=(Be[0]+Be[1])/2),+Be}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(_r,Be,Dr,Mr){var $r=_r.coordinateSystem;if(!($r&&$r.type!=="view")){var Br=$r.getBoundingRect(),zr=_r.getData(),Vr=zr.graph,jr=Br.width/2+Br.x,Gr=Br.height/2+Br.y,Wr=Math.min(Br.width,Br.height)/2,Kr=zr.count();if(zr.setLayout({cx:jr,cy:Gr}),!!Kr){if(Dr){var Zr=$r.pointToData(Mr),Jr=Zr[0],rn=Zr[1],nn=[Jr-jr,rn-Gr];normalize$3(nn,nn),scale$2(nn,nn,Wr),Dr.setLayout([jr+nn[0],Gr+nn[1]],!0);var ln=_r.get(["circular","rotateLabel"]);rotateNodeLabel(Dr,ln,jr,Gr)}_layoutNodesBasedOn[Be](_r,Vr,zr,Wr,jr,Gr,Kr),Vr.eachEdge(function(cn,hn){var mn=retrieve3(cn.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(cn,_r,hn),0),bn=clone$3(cn.node1.getLayout()),An=clone$3(cn.node2.getLayout()),vn,dn=(bn[0]+An[0])/2,wn=(bn[1]+An[1])/2;+mn&&(mn*=3,vn=[jr*mn+dn*(1-mn),Gr*mn+wn*(1-mn)]),cn.setLayout([bn,An,vn])})}}}var _layoutNodesBasedOn={value:function(_r,Be,Dr,Mr,$r,Br,zr){var Vr=0,jr=Dr.getSum("value"),Gr=Math.PI*2/(jr||zr);Be.eachNode(function(Wr){var Kr=Wr.getValue("value"),Zr=Gr*(jr?Kr:1)/2;Vr+=Zr,Wr.setLayout([Mr*Math.cos(Vr)+$r,Mr*Math.sin(Vr)+Br]),Vr+=Zr})},symbolSize:function(_r,Be,Dr,Mr,$r,Br,zr){var Vr=0;_symbolRadiansHalf.length=zr;var jr=getNodeGlobalScale(_r);Be.eachNode(function(Kr){var Zr=getSymbolSize(Kr);isNaN(Zr)&&(Zr=2),Zr<0&&(Zr=0),Zr*=jr;var Jr=Math.asin(Zr/2/Mr);isNaN(Jr)&&(Jr=PI$2/2),_symbolRadiansHalf[Kr.dataIndex]=Jr,Vr+=Jr*2});var Gr=(2*PI$2-Vr)/zr/2,Wr=0;Be.eachNode(function(Kr){var Zr=Gr+_symbolRadiansHalf[Kr.dataIndex];Wr+=Zr,(!Kr.getLayout()||!Kr.getLayout().fixed)&&Kr.setLayout([Mr*Math.cos(Wr)+$r,Mr*Math.sin(Wr)+Br]),Wr+=Zr})}};function rotateNodeLabel(_r,Be,Dr,Mr){var $r=_r.getGraphicEl();if($r){var Br=_r.getModel(),zr=Br.get(["label","rotate"])||0,Vr=$r.getSymbolPath();if(Be){var jr=_r.getLayout(),Gr=Math.atan2(jr[1]-Mr,jr[0]-Dr);Gr<0&&(Gr=Math.PI*2+Gr);var Wr=jr[0]<Dr;Wr&&(Gr=Gr-Math.PI);var Kr=Wr?"left":"right";Vr.setTextConfig({rotation:-Gr,position:Kr,origin:"center"});var Zr=Vr.ensureState("emphasis");extend$1(Zr.textConfig||(Zr.textConfig={}),{position:Kr})}else Vr.setTextConfig({rotation:zr*=Math.PI/180})}}function graphCircularLayout(_r){_r.eachSeriesByType("graph",function(Be){Be.get("layout")==="circular"&&circularLayout(Be,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(_r,Be,Dr){for(var Mr=_r,$r=Be,Br=Dr.rect,zr=Br.width,Vr=Br.height,jr=[Br.x+zr/2,Br.y+Vr/2],Gr=Dr.gravity==null?.1:Dr.gravity,Wr=0;Wr<Mr.length;Wr++){var Kr=Mr[Wr];Kr.p||(Kr.p=create$2(zr*(Math.random()-.5)+jr[0],Vr*(Math.random()-.5)+jr[1])),Kr.pp=clone$3(Kr.p),Kr.edges=null}var Zr=Dr.friction==null?.6:Dr.friction,Jr=Zr,rn,nn;return{warmUp:function(){Jr=Zr*.8},setFixed:function(ln){Mr[ln].fixed=!0},setUnfixed:function(ln){Mr[ln].fixed=!1},beforeStep:function(ln){rn=ln},afterStep:function(ln){nn=ln},step:function(ln){rn&&rn(Mr,$r);for(var cn=[],hn=Mr.length,mn=0;mn<$r.length;mn++){var bn=$r[mn];if(!bn.ignoreForceLayout){var An=bn.n1,vn=bn.n2;sub(cn,vn.p,An.p);var dn=len(cn)-bn.d,wn=vn.w/(An.w+vn.w);isNaN(wn)&&(wn=0),normalize$3(cn,cn),!An.fixed&&scaleAndAdd(An.p,An.p,cn,wn*dn*Jr),!vn.fixed&&scaleAndAdd(vn.p,vn.p,cn,-(1-wn)*dn*Jr)}}for(var mn=0;mn<hn;mn++){var xn=Mr[mn];xn.fixed||(sub(cn,jr,xn.p),scaleAndAdd(xn.p,xn.p,cn,Gr*Jr))}for(var mn=0;mn<hn;mn++)for(var An=Mr[mn],Mn=mn+1;Mn<hn;Mn++){var vn=Mr[Mn];sub(cn,vn.p,An.p);var dn=len(cn);dn===0&&(set$1(cn,Math.random()-.5,Math.random()-.5),dn=1);var In=(An.rep+vn.rep)/dn/dn;!An.fixed&&scaleAndAdd(An.pp,An.pp,cn,In),!vn.fixed&&scaleAndAdd(vn.pp,vn.pp,cn,-In)}for(var Hn=[],mn=0;mn<hn;mn++){var xn=Mr[mn];xn.fixed||(sub(Hn,xn.p,xn.pp),scaleAndAdd(xn.p,xn.p,Hn,Jr),copy$1(xn.pp,xn.p))}Jr=Jr*.992;var $n=Jr<.01;nn&&nn(Mr,$r,$n),ln&&ln($n)}}}function graphForceLayout(_r){_r.eachSeriesByType("graph",function(Be){var Dr=Be.coordinateSystem;if(!(Dr&&Dr.type!=="view"))if(Be.get("layout")==="force"){var Mr=Be.preservedPoints||{},$r=Be.getGraph(),Br=$r.data,zr=$r.edgeData,Vr=Be.getModel("force"),jr=Vr.get("initLayout");Be.preservedPoints?Br.each(function(mn){var bn=Br.getId(mn);Br.setItemLayout(mn,Mr[bn]||[NaN,NaN])}):!jr||jr==="none"?simpleLayout(Be):jr==="circular"&&circularLayout(Be,"value");var Gr=Br.getDataExtent("value"),Wr=zr.getDataExtent("value"),Kr=Vr.get("repulsion"),Zr=Vr.get("edgeLength"),Jr=isArray$1(Kr)?Kr:[Kr,Kr],rn=isArray$1(Zr)?Zr:[Zr,Zr];rn=[rn[1],rn[0]];var nn=Br.mapArray("value",function(mn,bn){var An=Br.getItemLayout(bn),vn=linearMap$2(mn,Gr,Jr);return isNaN(vn)&&(vn=(Jr[0]+Jr[1])/2),{w:vn,rep:vn,fixed:Br.getItemModel(bn).get("fixed"),p:!An||isNaN(An[0])||isNaN(An[1])?null:An}}),ln=zr.mapArray("value",function(mn,bn){var An=$r.getEdgeByIndex(bn),vn=linearMap$2(mn,Wr,rn);isNaN(vn)&&(vn=(rn[0]+rn[1])/2);var dn=An.getModel(),wn=retrieve3(An.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(An,Be,bn,!0),0);return{n1:nn[An.node1.dataIndex],n2:nn[An.node2.dataIndex],d:vn,curveness:wn,ignoreForceLayout:dn.get("ignoreForceLayout")}}),cn=Dr.getBoundingRect(),hn=forceLayout(nn,ln,{rect:cn,gravity:Vr.get("gravity"),friction:Vr.get("friction")});hn.beforeStep(function(mn,bn){for(var An=0,vn=mn.length;An<vn;An++)mn[An].fixed&&copy$1(mn[An].p,$r.getNodeByIndex(An).getLayout())}),hn.afterStep(function(mn,bn,An){for(var vn=0,dn=mn.length;vn<dn;vn++)mn[vn].fixed||$r.getNodeByIndex(vn).setLayout(mn[vn].p),Mr[Br.getId(vn)]=mn[vn].p;for(var vn=0,dn=bn.length;vn<dn;vn++){var wn=bn[vn],xn=$r.getEdgeByIndex(vn),Mn=wn.n1.p,In=wn.n2.p,Hn=xn.getLayout();Hn=Hn?Hn.slice():[],Hn[0]=Hn[0]||[],Hn[1]=Hn[1]||[],copy$1(Hn[0],Mn),copy$1(Hn[1],In),+wn.curveness&&(Hn[2]=[(Mn[0]+In[0])/2-(Mn[1]-In[1])*wn.curveness,(Mn[1]+In[1])/2-(In[0]-Mn[0])*wn.curveness]),xn.setLayout(Hn)}}),Be.forceLayout=hn,Be.preservedPoints=Mr,hn.step()}else Be.forceLayout=null})}function getViewRect$3(_r,Be,Dr){var Mr=extend$1(_r.getBoxLayoutParams(),{aspect:Dr});return getLayoutRect(Mr,{width:Be.getWidth(),height:Be.getHeight()})}function createViewCoordSys(_r,Be){var Dr=[];return _r.eachSeriesByType("graph",function(Mr){var $r=Mr.get("coordinateSystem");if(!$r||$r==="view"){var Br=Mr.getData(),zr=Br.mapArray(function(ln){var cn=Br.getItemModel(ln);return[+cn.get("x"),+cn.get("y")]}),Vr=[],jr=[];fromPoints(zr,Vr,jr),jr[0]-Vr[0]===0&&(jr[0]+=1,Vr[0]-=1),jr[1]-Vr[1]===0&&(jr[1]+=1,Vr[1]-=1);var Gr=(jr[0]-Vr[0])/(jr[1]-Vr[1]),Wr=getViewRect$3(Mr,Be,Gr);isNaN(Gr)&&(Vr=[Wr.x,Wr.y],jr=[Wr.x+Wr.width,Wr.y+Wr.height]);var Kr=jr[0]-Vr[0],Zr=jr[1]-Vr[1],Jr=Wr.width,rn=Wr.height,nn=Mr.coordinateSystem=new View$1;nn.zoomLimit=Mr.get("scaleLimit"),nn.setBoundingRect(Vr[0],Vr[1],Kr,Zr),nn.setViewRect(Wr.x,Wr.y,Jr,rn),nn.setCenter(Mr.get("center"),Be),nn.setZoom(Mr.get("zoom")),Dr.push(nn)}}),Dr}var straightLineProto=Line$3.prototype,bezierCurveProto=BezierCurve$1.prototype,StraightLineShape=function(){function _r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return _r}();(function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be})(StraightLineShape);function isStraightLine(_r){return isNaN(+_r.cpx1)||isNaN(+_r.cpy1)}var ECLinePath=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="ec-line",Mr}return Be.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Be.prototype.getDefaultShape=function(){return new StraightLineShape},Be.prototype.buildPath=function(Dr,Mr){isStraightLine(Mr)?straightLineProto.buildPath.call(this,Dr,Mr):bezierCurveProto.buildPath.call(this,Dr,Mr)},Be.prototype.pointAt=function(Dr){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,Dr):bezierCurveProto.pointAt.call(this,Dr)},Be.prototype.tangentAt=function(Dr){var Mr=this.shape,$r=isStraightLine(Mr)?[Mr.x2-Mr.x1,Mr.y2-Mr.y1]:bezierCurveProto.tangentAt.call(this,Dr);return normalize$3($r,$r)},Be}(Path$1);const ECLinePath$1=ECLinePath;var SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(_r){return"_"+_r+"Type"}function makeSymbolTypeValue(_r,Be,Dr){var Mr=Be.getItemVisual(Dr,_r);if(!Mr||Mr==="none")return Mr;var $r=Be.getItemVisual(Dr,_r+"Size"),Br=Be.getItemVisual(Dr,_r+"Rotate"),zr=Be.getItemVisual(Dr,_r+"Offset"),Vr=Be.getItemVisual(Dr,_r+"KeepAspect"),jr=normalizeSymbolSize($r),Gr=normalizeSymbolOffset(zr||0,jr);return Mr+jr+Gr+(Br||"")+(Vr||"")}function createSymbol(_r,Be,Dr){var Mr=Be.getItemVisual(Dr,_r);if(!(!Mr||Mr==="none")){var $r=Be.getItemVisual(Dr,_r+"Size"),Br=Be.getItemVisual(Dr,_r+"Rotate"),zr=Be.getItemVisual(Dr,_r+"Offset"),Vr=Be.getItemVisual(Dr,_r+"KeepAspect"),jr=normalizeSymbolSize($r),Gr=normalizeSymbolOffset(zr||0,jr),Wr=createSymbol$1(Mr,-jr[0]/2+Gr[0],-jr[1]/2+Gr[1],jr[0],jr[1],null,Vr);return Wr.__specifiedRotation=Br==null||isNaN(Br)?void 0:+Br*Math.PI/180||0,Wr.name=_r,Wr}}function createLine(_r){var Be=new ECLinePath$1({name:"line",subPixelOptimize:!0});return setLinePoints(Be.shape,_r),Be}function setLinePoints(_r,Be){_r.x1=Be[0][0],_r.y1=Be[0][1],_r.x2=Be[1][0],_r.y2=Be[1][1],_r.percent=1;var Dr=Be[2];Dr?(_r.cpx1=Dr[0],_r.cpy1=Dr[1]):(_r.cpx1=NaN,_r.cpy1=NaN)}var Line=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this)||this;return Br._createLine(Dr,Mr,$r),Br}return Be.prototype._createLine=function(Dr,Mr,$r){var Br=Dr.hostModel,zr=Dr.getItemLayout(Mr),Vr=createLine(zr);Vr.shape.percent=0,initProps(Vr,{shape:{percent:1}},Br,Mr),this.add(Vr),each$f(SYMBOL_CATEGORIES,function(jr){var Gr=createSymbol(jr,Dr,Mr);this.add(Gr),this[makeSymbolTypeKey(jr)]=makeSymbolTypeValue(jr,Dr,Mr)},this),this._updateCommonStl(Dr,Mr,$r)},Be.prototype.updateData=function(Dr,Mr,$r){var Br=Dr.hostModel,zr=this.childOfName("line"),Vr=Dr.getItemLayout(Mr),jr={shape:{}};setLinePoints(jr.shape,Vr),updateProps$1(zr,jr,Br,Mr),each$f(SYMBOL_CATEGORIES,function(Gr){var Wr=makeSymbolTypeValue(Gr,Dr,Mr),Kr=makeSymbolTypeKey(Gr);if(this[Kr]!==Wr){this.remove(this.childOfName(Gr));var Zr=createSymbol(Gr,Dr,Mr);this.add(Zr)}this[Kr]=Wr},this),this._updateCommonStl(Dr,Mr,$r)},Be.prototype.getLinePath=function(){return this.childAt(0)},Be.prototype._updateCommonStl=function(Dr,Mr,$r){var Br=Dr.hostModel,zr=this.childOfName("line"),Vr=$r&&$r.emphasisLineStyle,jr=$r&&$r.blurLineStyle,Gr=$r&&$r.selectLineStyle,Wr=$r&&$r.labelStatesModels,Kr=$r&&$r.emphasisDisabled,Zr=$r&&$r.focus,Jr=$r&&$r.blurScope;if(!$r||Dr.hasItemOption){var rn=Dr.getItemModel(Mr),nn=rn.getModel("emphasis");Vr=nn.getModel("lineStyle").getLineStyle(),jr=rn.getModel(["blur","lineStyle"]).getLineStyle(),Gr=rn.getModel(["select","lineStyle"]).getLineStyle(),Kr=nn.get("disabled"),Zr=nn.get("focus"),Jr=nn.get("blurScope"),Wr=getLabelStatesModels(rn)}var ln=Dr.getItemVisual(Mr,"style"),cn=ln.stroke;zr.useStyle(ln),zr.style.fill=null,zr.style.strokeNoScale=!0,zr.ensureState("emphasis").style=Vr,zr.ensureState("blur").style=jr,zr.ensureState("select").style=Gr,each$f(SYMBOL_CATEGORIES,function(vn){var dn=this.childOfName(vn);if(dn){dn.setColor(cn),dn.style.opacity=ln.opacity;for(var wn=0;wn<SPECIAL_STATES.length;wn++){var xn=SPECIAL_STATES[wn],Mn=zr.getState(xn);if(Mn){var In=Mn.style||{},Hn=dn.ensureState(xn),$n=Hn.style||(Hn.style={});In.stroke!=null&&($n[dn.__isEmptyBrush?"stroke":"fill"]=In.stroke),In.opacity!=null&&($n.opacity=In.opacity)}}dn.markRedraw()}},this);var hn=Br.getRawValue(Mr);setLabelStyle(this,Wr,{labelDataIndex:Mr,labelFetcher:{getFormattedLabel:function(vn,dn){return Br.getFormattedLabel(vn,dn,Dr.dataType)}},inheritColor:cn||"#000",defaultOpacity:ln.opacity,defaultText:(hn==null?Dr.getName(Mr):isFinite(hn)?round$3(hn):hn)+""});var mn=this.getTextContent();if(mn){var bn=Wr.normal;mn.__align=mn.style.align,mn.__verticalAlign=mn.style.verticalAlign,mn.__position=bn.get("position")||"middle";var An=bn.get("distance");isArray$1(An)||(An=[An,An]),mn.__labelDistance=An}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,Zr,Jr,Kr)},Be.prototype.highlight=function(){enterEmphasis(this)},Be.prototype.downplay=function(){leaveEmphasis(this)},Be.prototype.updateLayout=function(Dr,Mr){this.setLinePoints(Dr.getItemLayout(Mr))},Be.prototype.setLinePoints=function(Dr){var Mr=this.childOfName("line");setLinePoints(Mr.shape,Dr),Mr.dirty()},Be.prototype.beforeUpdate=function(){var Dr=this,Mr=Dr.childOfName("fromSymbol"),$r=Dr.childOfName("toSymbol"),Br=Dr.getTextContent();if(!Mr&&!$r&&(!Br||Br.ignore))return;for(var zr=1,Vr=this.parent;Vr;)Vr.scaleX&&(zr/=Vr.scaleX),Vr=Vr.parent;var jr=Dr.childOfName("line");if(!this.__dirty&&!jr.__dirty)return;var Gr=jr.shape.percent,Wr=jr.pointAt(0),Kr=jr.pointAt(Gr),Zr=sub([],Kr,Wr);normalize$3(Zr,Zr);function Jr(Mn,In){var Hn=Mn.__specifiedRotation;if(Hn==null){var $n=jr.tangentAt(In);Mn.attr("rotation",(In===1?-1:1)*Math.PI/2-Math.atan2($n[1],$n[0]))}else Mn.attr("rotation",Hn)}if(Mr&&(Mr.setPosition(Wr),Jr(Mr,0),Mr.scaleX=Mr.scaleY=zr*Gr,Mr.markRedraw()),$r&&($r.setPosition(Kr),Jr($r,1),$r.scaleX=$r.scaleY=zr*Gr,$r.markRedraw()),Br&&!Br.ignore){Br.x=Br.y=0,Br.originX=Br.originY=0;var rn=void 0,nn=void 0,ln=Br.__labelDistance,cn=ln[0]*zr,hn=ln[1]*zr,mn=Gr/2,bn=jr.tangentAt(mn),An=[bn[1],-bn[0]],vn=jr.pointAt(mn);An[1]>0&&(An[0]=-An[0],An[1]=-An[1]);var dn=bn[0]<0?-1:1;if(Br.__position!=="start"&&Br.__position!=="end"){var wn=-Math.atan2(bn[1],bn[0]);Kr[0]<Wr[0]&&(wn=Math.PI+wn),Br.rotation=wn}var xn=void 0;switch(Br.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":xn=-hn,nn="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":xn=hn,nn="top";break;default:xn=0,nn="middle"}switch(Br.__position){case"end":Br.x=Zr[0]*cn+Kr[0],Br.y=Zr[1]*hn+Kr[1],rn=Zr[0]>.8?"left":Zr[0]<-.8?"right":"center",nn=Zr[1]>.8?"top":Zr[1]<-.8?"bottom":"middle";break;case"start":Br.x=-Zr[0]*cn+Wr[0],Br.y=-Zr[1]*hn+Wr[1],rn=Zr[0]>.8?"right":Zr[0]<-.8?"left":"center",nn=Zr[1]>.8?"bottom":Zr[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":Br.x=cn*dn+Wr[0],Br.y=Wr[1]+xn,rn=bn[0]<0?"right":"left",Br.originX=-cn*dn,Br.originY=-xn;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":Br.x=vn[0],Br.y=vn[1]+xn,rn="center",Br.originY=-xn;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":Br.x=-cn*dn+Kr[0],Br.y=Kr[1]+xn,rn=bn[0]>=0?"right":"left",Br.originX=cn*dn,Br.originY=-xn;break}Br.scaleX=Br.scaleY=zr,Br.setStyle({verticalAlign:Br.__verticalAlign||nn,align:Br.__align||rn})}},Be}(Group$4);const Line$1=Line;var LineDraw=function(){function _r(Be){this.group=new Group$4,this._LineCtor=Be||Line$1}return _r.prototype.updateData=function(Be){var Dr=this;this._progressiveEls=null;var Mr=this,$r=Mr.group,Br=Mr._lineData;Mr._lineData=Be,Br||$r.removeAll();var zr=makeSeriesScope$1(Be);Be.diff(Br).add(function(Vr){Dr._doAdd(Be,Vr,zr)}).update(function(Vr,jr){Dr._doUpdate(Br,Be,jr,Vr,zr)}).remove(function(Vr){$r.remove(Br.getItemGraphicEl(Vr))}).execute()},_r.prototype.updateLayout=function(){var Be=this._lineData;Be&&Be.eachItemGraphicEl(function(Dr,Mr){Dr.updateLayout(Be,Mr)},this)},_r.prototype.incrementalPrepareUpdate=function(Be){this._seriesScope=makeSeriesScope$1(Be),this._lineData=null,this.group.removeAll()},_r.prototype.incrementalUpdate=function(Be,Dr){this._progressiveEls=[];function Mr(Vr){!Vr.isGroup&&!isEffectObject(Vr)&&(Vr.incremental=!0,Vr.ensureState("emphasis").hoverLayer=!0)}for(var $r=Be.start;$r<Be.end;$r++){var Br=Dr.getItemLayout($r);if(lineNeedsDraw(Br)){var zr=new this._LineCtor(Dr,$r,this._seriesScope);zr.traverse(Mr),this.group.add(zr),Dr.setItemGraphicEl($r,zr),this._progressiveEls.push(zr)}}},_r.prototype.remove=function(){this.group.removeAll()},_r.prototype.eachRendered=function(Be){traverseElements(this._progressiveEls||this.group,Be)},_r.prototype._doAdd=function(Be,Dr,Mr){var $r=Be.getItemLayout(Dr);if(lineNeedsDraw($r)){var Br=new this._LineCtor(Be,Dr,Mr);Be.setItemGraphicEl(Dr,Br),this.group.add(Br)}},_r.prototype._doUpdate=function(Be,Dr,Mr,$r,Br){var zr=Be.getItemGraphicEl(Mr);if(!lineNeedsDraw(Dr.getItemLayout($r))){this.group.remove(zr);return}zr?zr.updateData(Dr,$r,Br):zr=new this._LineCtor(Dr,$r,Br),Dr.setItemGraphicEl($r,zr),this.group.add(zr)},_r}();function isEffectObject(_r){return _r.animators&&_r.animators.length>0}function makeSeriesScope$1(_r){var Be=_r.hostModel,Dr=Be.getModel("emphasis");return{lineStyle:Be.getModel("lineStyle").getLineStyle(),emphasisLineStyle:Dr.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:Be.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:Be.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:Dr.get("disabled"),blurScope:Dr.get("blurScope"),focus:Dr.get("focus"),labelStatesModels:getLabelStatesModels(Be)}}function isPointNaN(_r){return isNaN(_r[0])||isNaN(_r[1])}function lineNeedsDraw(_r){return _r&&!isPointNaN(_r[0])&&!isPointNaN(_r[1])}const LineDraw$1=LineDraw;var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(_r,Be,Dr){for(var Mr=_r[0],$r=_r[1],Br=_r[2],zr=1/0,Vr,jr=Dr*Dr,Gr=.1,Wr=.1;Wr<=.9;Wr+=.1){v1[0]=quadraticAt(Mr[0],$r[0],Br[0],Wr),v1[1]=quadraticAt(Mr[1],$r[1],Br[1],Wr);var Kr=mathAbs(v2DistSquare(v1,Be)-jr);Kr<zr&&(zr=Kr,Vr=Wr)}for(var Zr=0;Zr<32;Zr++){var Jr=Vr+Gr;v2[0]=quadraticAt(Mr[0],$r[0],Br[0],Vr),v2[1]=quadraticAt(Mr[1],$r[1],Br[1],Vr),v3[0]=quadraticAt(Mr[0],$r[0],Br[0],Jr),v3[1]=quadraticAt(Mr[1],$r[1],Br[1],Jr);var Kr=v2DistSquare(v2,Be)-jr;if(mathAbs(Kr)<.01)break;var rn=v2DistSquare(v3,Be)-jr;Gr/=2,Kr<0?rn>=0?Vr=Vr+Gr:Vr=Vr-Gr:rn>=0?Vr=Vr-Gr:Vr=Vr+Gr}return Vr}function adjustEdge(_r,Be){var Dr=[],Mr=quadraticSubdivide,$r=[[],[],[]],Br=[[],[]],zr=[];Be/=2,_r.eachEdge(function(Vr,jr){var Gr=Vr.getLayout(),Wr=Vr.getVisual("fromSymbol"),Kr=Vr.getVisual("toSymbol");Gr.__original||(Gr.__original=[clone$3(Gr[0]),clone$3(Gr[1])],Gr[2]&&Gr.__original.push(clone$3(Gr[2])));var Zr=Gr.__original;if(Gr[2]!=null){if(copy$1($r[0],Zr[0]),copy$1($r[1],Zr[2]),copy$1($r[2],Zr[1]),Wr&&Wr!=="none"){var Jr=getSymbolSize(Vr.node1),rn=intersectCurveCircle($r,Zr[0],Jr*Be);Mr($r[0][0],$r[1][0],$r[2][0],rn,Dr),$r[0][0]=Dr[3],$r[1][0]=Dr[4],Mr($r[0][1],$r[1][1],$r[2][1],rn,Dr),$r[0][1]=Dr[3],$r[1][1]=Dr[4]}if(Kr&&Kr!=="none"){var Jr=getSymbolSize(Vr.node2),rn=intersectCurveCircle($r,Zr[1],Jr*Be);Mr($r[0][0],$r[1][0],$r[2][0],rn,Dr),$r[1][0]=Dr[1],$r[2][0]=Dr[2],Mr($r[0][1],$r[1][1],$r[2][1],rn,Dr),$r[1][1]=Dr[1],$r[2][1]=Dr[2]}copy$1(Gr[0],$r[0]),copy$1(Gr[1],$r[2]),copy$1(Gr[2],$r[1])}else{if(copy$1(Br[0],Zr[0]),copy$1(Br[1],Zr[1]),sub(zr,Br[1],Br[0]),normalize$3(zr,zr),Wr&&Wr!=="none"){var Jr=getSymbolSize(Vr.node1);scaleAndAdd$1(Br[0],Br[0],zr,Jr*Be)}if(Kr&&Kr!=="none"){var Jr=getSymbolSize(Vr.node2);scaleAndAdd$1(Br[1],Br[1],zr,-Jr*Be)}copy$1(Gr[0],Br[0]),copy$1(Gr[1],Br[1])}})}function isViewCoordSys(_r){return _r.type==="view"}var GraphView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(Dr,Mr){var $r=new SymbolDraw$1,Br=new LineDraw$1,zr=this.group;this._controller=new RoamController$1(Mr.getZr()),this._controllerHost={target:zr},zr.add($r.group),zr.add(Br.group),this._symbolDraw=$r,this._lineDraw=Br,this._firstRender=!0},Be.prototype.render=function(Dr,Mr,$r){var Br=this,zr=Dr.coordinateSystem;this._model=Dr;var Vr=this._symbolDraw,jr=this._lineDraw,Gr=this.group;if(isViewCoordSys(zr)){var Wr={x:zr.x,y:zr.y,scaleX:zr.scaleX,scaleY:zr.scaleY};this._firstRender?Gr.attr(Wr):updateProps$1(Gr,Wr,Dr)}adjustEdge(Dr.getGraph(),getNodeGlobalScale(Dr));var Kr=Dr.getData();Vr.updateData(Kr);var Zr=Dr.getEdgeData();jr.updateData(Zr),this._updateNodeAndLinkScale(),this._updateController(Dr,Mr,$r),clearTimeout(this._layoutTimeout);var Jr=Dr.forceLayout,rn=Dr.get(["force","layoutAnimation"]);Jr&&this._startForceLayoutIteration(Jr,rn);var nn=Dr.get("layout");Kr.graph.eachNode(function(mn){var bn=mn.dataIndex,An=mn.getGraphicEl(),vn=mn.getModel();if(An){An.off("drag").off("dragend");var dn=vn.get("draggable");dn&&An.on("drag",function(xn){switch(nn){case"force":Jr.warmUp(),!Br._layouting&&Br._startForceLayoutIteration(Jr,rn),Jr.setFixed(bn),Kr.setItemLayout(bn,[An.x,An.y]);break;case"circular":Kr.setItemLayout(bn,[An.x,An.y]),mn.setLayout({fixed:!0},!0),circularLayout(Dr,"symbolSize",mn,[xn.offsetX,xn.offsetY]),Br.updateLayout(Dr);break;case"none":default:Kr.setItemLayout(bn,[An.x,An.y]),simpleLayoutEdge(Dr.getGraph(),Dr),Br.updateLayout(Dr);break}}).on("dragend",function(){Jr&&Jr.setUnfixed(bn)}),An.setDraggable(dn,!!vn.get("cursor"));var wn=vn.get(["emphasis","focus"]);wn==="adjacency"&&(getECData(An).focus=mn.getAdjacentDataIndices())}}),Kr.graph.eachEdge(function(mn){var bn=mn.getGraphicEl(),An=mn.getModel().get(["emphasis","focus"]);bn&&An==="adjacency"&&(getECData(bn).focus={edge:[mn.dataIndex],node:[mn.node1.dataIndex,mn.node2.dataIndex]})});var ln=Dr.get("layout")==="circular"&&Dr.get(["circular","rotateLabel"]),cn=Kr.getLayout("cx"),hn=Kr.getLayout("cy");Kr.graph.eachNode(function(mn){rotateNodeLabel(mn,ln,cn,hn)}),this._firstRender=!1},Be.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},Be.prototype._startForceLayoutIteration=function(Dr,Mr){var $r=this;(function Br(){Dr.step(function(zr){$r.updateLayout($r._model),($r._layouting=!zr)&&(Mr?$r._layoutTimeout=setTimeout(Br,16):Br())})})()},Be.prototype._updateController=function(Dr,Mr,$r){var Br=this,zr=this._controller,Vr=this._controllerHost,jr=this.group;if(zr.setPointerChecker(function(Gr,Wr,Kr){var Zr=jr.getBoundingRect();return Zr.applyTransform(jr.transform),Zr.contain(Wr,Kr)&&!onIrrelevantElement(Gr,$r,Dr)}),!isViewCoordSys(Dr.coordinateSystem)){zr.disable();return}zr.enable(Dr.get("roam")),Vr.zoomLimit=Dr.get("scaleLimit"),Vr.zoom=Dr.coordinateSystem.getZoom(),zr.off("pan").off("zoom").on("pan",function(Gr){updateViewOnPan(Vr,Gr.dx,Gr.dy),$r.dispatchAction({seriesId:Dr.id,type:"graphRoam",dx:Gr.dx,dy:Gr.dy})}).on("zoom",function(Gr){updateViewOnZoom(Vr,Gr.scale,Gr.originX,Gr.originY),$r.dispatchAction({seriesId:Dr.id,type:"graphRoam",zoom:Gr.scale,originX:Gr.originX,originY:Gr.originY}),Br._updateNodeAndLinkScale(),adjustEdge(Dr.getGraph(),getNodeGlobalScale(Dr)),Br._lineDraw.updateLayout(),$r.updateLabelLayout()})},Be.prototype._updateNodeAndLinkScale=function(){var Dr=this._model,Mr=Dr.getData(),$r=getNodeGlobalScale(Dr);Mr.eachItemGraphicEl(function(Br,zr){Br&&Br.setSymbolScale($r)})},Be.prototype.updateLayout=function(Dr){adjustEdge(Dr.getGraph(),getNodeGlobalScale(Dr)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},Be.prototype.remove=function(Dr,Mr){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},Be.type="graph",Be}(ChartView$1);const GraphView$1=GraphView;function generateNodeKey(_r){return"_EC_"+_r}var Graph=function(){function _r(Be){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=Be||!1}return _r.prototype.isDirected=function(){return this._directed},_r.prototype.addNode=function(Be,Dr){Be=Be==null?""+Dr:""+Be;var Mr=this._nodesMap;if(!Mr[generateNodeKey(Be)]){var $r=new GraphNode(Be,Dr);return $r.hostGraph=this,this.nodes.push($r),Mr[generateNodeKey(Be)]=$r,$r}},_r.prototype.getNodeByIndex=function(Be){var Dr=this.data.getRawIndex(Be);return this.nodes[Dr]},_r.prototype.getNodeById=function(Be){return this._nodesMap[generateNodeKey(Be)]},_r.prototype.addEdge=function(Be,Dr,Mr){var $r=this._nodesMap,Br=this._edgesMap;if(isNumber(Be)&&(Be=this.nodes[Be]),isNumber(Dr)&&(Dr=this.nodes[Dr]),Be instanceof GraphNode||(Be=$r[generateNodeKey(Be)]),Dr instanceof GraphNode||(Dr=$r[generateNodeKey(Dr)]),!(!Be||!Dr)){var zr=Be.id+"-"+Dr.id,Vr=new GraphEdge(Be,Dr,Mr);return Vr.hostGraph=this,this._directed&&(Be.outEdges.push(Vr),Dr.inEdges.push(Vr)),Be.edges.push(Vr),Be!==Dr&&Dr.edges.push(Vr),this.edges.push(Vr),Br[zr]=Vr,Vr}},_r.prototype.getEdgeByIndex=function(Be){var Dr=this.edgeData.getRawIndex(Be);return this.edges[Dr]},_r.prototype.getEdge=function(Be,Dr){Be instanceof GraphNode&&(Be=Be.id),Dr instanceof GraphNode&&(Dr=Dr.id);var Mr=this._edgesMap;return this._directed?Mr[Be+"-"+Dr]:Mr[Be+"-"+Dr]||Mr[Dr+"-"+Be]},_r.prototype.eachNode=function(Be,Dr){for(var Mr=this.nodes,$r=Mr.length,Br=0;Br<$r;Br++)Mr[Br].dataIndex>=0&&Be.call(Dr,Mr[Br],Br)},_r.prototype.eachEdge=function(Be,Dr){for(var Mr=this.edges,$r=Mr.length,Br=0;Br<$r;Br++)Mr[Br].dataIndex>=0&&Mr[Br].node1.dataIndex>=0&&Mr[Br].node2.dataIndex>=0&&Be.call(Dr,Mr[Br],Br)},_r.prototype.breadthFirstTraverse=function(Be,Dr,Mr,$r){if(Dr instanceof GraphNode||(Dr=this._nodesMap[generateNodeKey(Dr)]),!!Dr){for(var Br=Mr==="out"?"outEdges":Mr==="in"?"inEdges":"edges",zr=0;zr<this.nodes.length;zr++)this.nodes[zr].__visited=!1;if(!Be.call($r,Dr,null))for(var Vr=[Dr];Vr.length;)for(var jr=Vr.shift(),Gr=jr[Br],zr=0;zr<Gr.length;zr++){var Wr=Gr[zr],Kr=Wr.node1===jr?Wr.node2:Wr.node1;if(!Kr.__visited){if(Be.call($r,Kr,jr))return;Vr.push(Kr),Kr.__visited=!0}}}},_r.prototype.update=function(){for(var Be=this.data,Dr=this.edgeData,Mr=this.nodes,$r=this.edges,Br=0,zr=Mr.length;Br<zr;Br++)Mr[Br].dataIndex=-1;for(var Br=0,zr=Be.count();Br<zr;Br++)Mr[Be.getRawIndex(Br)].dataIndex=Br;Dr.filterSelf(function(Vr){var jr=$r[Dr.getRawIndex(Vr)];return jr.node1.dataIndex>=0&&jr.node2.dataIndex>=0});for(var Br=0,zr=$r.length;Br<zr;Br++)$r[Br].dataIndex=-1;for(var Br=0,zr=Dr.count();Br<zr;Br++)$r[Dr.getRawIndex(Br)].dataIndex=Br},_r.prototype.clone=function(){for(var Be=new _r(this._directed),Dr=this.nodes,Mr=this.edges,$r=0;$r<Dr.length;$r++)Be.addNode(Dr[$r].id,Dr[$r].dataIndex);for(var $r=0;$r<Mr.length;$r++){var Br=Mr[$r];Be.addEdge(Br.node1.id,Br.node2.id,Br.dataIndex)}return Be},_r}(),GraphNode=function(){function _r(Be,Dr){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=Be??"",this.dataIndex=Dr??-1}return _r.prototype.degree=function(){return this.edges.length},_r.prototype.inDegree=function(){return this.inEdges.length},_r.prototype.outDegree=function(){return this.outEdges.length},_r.prototype.getModel=function(Be){if(!(this.dataIndex<0)){var Dr=this.hostGraph,Mr=Dr.data.getItemModel(this.dataIndex);return Mr.getModel(Be)}},_r.prototype.getAdjacentDataIndices=function(){for(var Be={edge:[],node:[]},Dr=0;Dr<this.edges.length;Dr++){var Mr=this.edges[Dr];Mr.dataIndex<0||(Be.edge.push(Mr.dataIndex),Be.node.push(Mr.node1.dataIndex,Mr.node2.dataIndex))}return Be},_r.prototype.getTrajectoryDataIndices=function(){for(var Be=createHashMap(),Dr=createHashMap(),Mr=0;Mr<this.edges.length;Mr++){var $r=this.edges[Mr];if(!($r.dataIndex<0)){Be.set($r.dataIndex,!0);for(var Br=[$r.node1],zr=[$r.node2],Vr=0;Vr<Br.length;){var jr=Br[Vr];Vr++,Dr.set(jr.dataIndex,!0);for(var Gr=0;Gr<jr.inEdges.length;Gr++)Be.set(jr.inEdges[Gr].dataIndex,!0),Br.push(jr.inEdges[Gr].node1)}for(Vr=0;Vr<zr.length;){var Wr=zr[Vr];Vr++,Dr.set(Wr.dataIndex,!0);for(var Gr=0;Gr<Wr.outEdges.length;Gr++)Be.set(Wr.outEdges[Gr].dataIndex,!0),zr.push(Wr.outEdges[Gr].node2)}}}return{edge:Be.keys(),node:Dr.keys()}},_r}(),GraphEdge=function(){function _r(Be,Dr,Mr){this.dataIndex=-1,this.node1=Be,this.node2=Dr,this.dataIndex=Mr??-1}return _r.prototype.getModel=function(Be){if(!(this.dataIndex<0)){var Dr=this.hostGraph,Mr=Dr.edgeData.getItemModel(this.dataIndex);return Mr.getModel(Be)}},_r.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},_r.prototype.getTrajectoryDataIndices=function(){var Be=createHashMap(),Dr=createHashMap();Be.set(this.dataIndex,!0);for(var Mr=[this.node1],$r=[this.node2],Br=0;Br<Mr.length;){var zr=Mr[Br];Br++,Dr.set(zr.dataIndex,!0);for(var Vr=0;Vr<zr.inEdges.length;Vr++)Be.set(zr.inEdges[Vr].dataIndex,!0),Mr.push(zr.inEdges[Vr].node1)}for(Br=0;Br<$r.length;){var jr=$r[Br];Br++,Dr.set(jr.dataIndex,!0);for(var Vr=0;Vr<jr.outEdges.length;Vr++)Be.set(jr.outEdges[Vr].dataIndex,!0),$r.push(jr.outEdges[Vr].node2)}return{edge:Be.keys(),node:Dr.keys()}},_r}();function createGraphDataProxyMixin(_r,Be){return{getValue:function(Dr){var Mr=this[_r][Be];return Mr.getStore().get(Mr.getDimensionIndex(Dr||"value"),this.dataIndex)},setVisual:function(Dr,Mr){this.dataIndex>=0&&this[_r][Be].setItemVisual(this.dataIndex,Dr,Mr)},getVisual:function(Dr){return this[_r][Be].getItemVisual(this.dataIndex,Dr)},setLayout:function(Dr,Mr){this.dataIndex>=0&&this[_r][Be].setItemLayout(this.dataIndex,Dr,Mr)},getLayout:function(){return this[_r][Be].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[_r][Be].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[_r][Be].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));const Graph$1=Graph;function createGraphFromNodeEdge(_r,Be,Dr,Mr,$r){for(var Br=new Graph$1(Mr),zr=0;zr<_r.length;zr++)Br.addNode(retrieve(_r[zr].id,_r[zr].name,zr),zr);for(var Vr=[],jr=[],Gr=0,zr=0;zr<Be.length;zr++){var Wr=Be[zr],Kr=Wr.source,Zr=Wr.target;Br.addEdge(Kr,Zr,Gr)&&(jr.push(Wr),Vr.push(retrieve(convertOptionIdName(Wr.id,null),Kr+" > "+Zr)),Gr++)}var Jr=Dr.get("coordinateSystem"),rn;if(Jr==="cartesian2d"||Jr==="polar")rn=createSeriesData(_r,Dr);else{var nn=CoordinateSystem.get(Jr),ln=nn?nn.dimensions||[]:[];indexOf(ln,"value")<0&&ln.concat(["value"]);var cn=prepareSeriesDataSchema(_r,{coordDimensions:ln,encodeDefine:Dr.getEncode()}).dimensions;rn=new SeriesData$1(cn,Dr),rn.initData(_r)}var hn=new SeriesData$1(["value"],Dr);return hn.initData(jr,Vr),$r&&$r(rn,hn),linkSeriesData({mainData:rn,struct:Br,structAttr:"graph",datas:{node:rn,edge:hn},datasAttr:{node:"data",edge:"edgeData"}}),Br.update(),Br}var GraphSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.hasSymbolVisual=!0,Dr}return Be.prototype.init=function(Dr){_r.prototype.init.apply(this,arguments);var Mr=this;function $r(){return Mr._categoriesData}this.legendVisualProvider=new LegendVisualProvider$1($r,$r),this.fillDataTextStyle(Dr.edges||Dr.links),this._updateCategoriesData()},Be.prototype.mergeOption=function(Dr){_r.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(Dr.edges||Dr.links),this._updateCategoriesData()},Be.prototype.mergeDefaultAndTheme=function(Dr){_r.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(Dr,"edgeLabel",["show"])},Be.prototype.getInitialData=function(Dr,Mr){var $r=Dr.edges||Dr.links||[],Br=Dr.data||Dr.nodes||[],zr=this;if(Br&&$r){initCurvenessList(this);var Vr=createGraphFromNodeEdge(Br,$r,this,!0,jr);return each$f(Vr.edges,function(Gr){createEdgeMapForCurveness(Gr.node1,Gr.node2,this,Gr.dataIndex)},this),Vr.data}function jr(Gr,Wr){Gr.wrapMethod("getItemModel",function(rn){var nn=zr._categoriesModels,ln=rn.getShallow("category"),cn=nn[ln];return cn&&(cn.parentModel=rn.parentModel,rn.parentModel=cn),rn});var Kr=Model$1.prototype.getModel;function Zr(rn,nn){var ln=Kr.call(this,rn,nn);return ln.resolveParentPath=Jr,ln}Wr.wrapMethod("getItemModel",function(rn){return rn.resolveParentPath=Jr,rn.getModel=Zr,rn});function Jr(rn){if(rn&&(rn[0]==="label"||rn[1]==="label")){var nn=rn.slice();return rn[0]==="label"?nn[0]="edgeLabel":rn[1]==="label"&&(nn[1]="edgeLabel"),nn}return rn}}},Be.prototype.getGraph=function(){return this.getData().graph},Be.prototype.getEdgeData=function(){return this.getGraph().edgeData},Be.prototype.getCategoriesData=function(){return this._categoriesData},Be.prototype.formatTooltip=function(Dr,Mr,$r){if($r==="edge"){var Br=this.getData(),zr=this.getDataParams(Dr,$r),Vr=Br.graph.getEdgeByIndex(Dr),jr=Br.getName(Vr.node1.dataIndex),Gr=Br.getName(Vr.node2.dataIndex),Wr=[];return jr!=null&&Wr.push(jr),Gr!=null&&Wr.push(Gr),createTooltipMarkup("nameValue",{name:Wr.join(" > "),value:zr.value,noValue:zr.value==null})}var Kr=defaultSeriesFormatTooltip({series:this,dataIndex:Dr,multipleSeries:Mr});return Kr},Be.prototype._updateCategoriesData=function(){var Dr=map$1(this.option.categories||[],function($r){return $r.value!=null?$r:extend$1({value:0},$r)}),Mr=new SeriesData$1(["value"],this);Mr.initData(Dr),this._categoriesData=Mr,this._categoriesModels=Mr.mapArray(function($r){return Mr.getItemModel($r)})},Be.prototype.setZoom=function(Dr){this.option.zoom=Dr},Be.prototype.setCenter=function(Dr){this.option.center=Dr},Be.prototype.isAnimationEnabled=function(){return _r.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},Be.type="series.graph",Be.dependencies=["grid","polar","geo","singleAxis","calendar"],Be.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},Be}(SeriesModel$1);const GraphSeriesModel$1=GraphSeriesModel;var actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(_r){_r.registerChartView(GraphView$1),_r.registerSeriesModel(GraphSeriesModel$1),_r.registerProcessor(categoryFilter),_r.registerVisual(categoryVisual),_r.registerVisual(graphEdgeVisual),_r.registerLayout(graphSimpleLayout),_r.registerLayout(_r.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),_r.registerLayout(graphForceLayout),_r.registerCoordinateSystem("graphView",{dimensions:View$1.dimensions,create:createViewCoordSys}),_r.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),_r.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),_r.registerAction(actionInfo$1,function(Be,Dr,Mr){Dr.eachComponent({mainType:"series",query:Be},function($r){var Br=$r.coordinateSystem,zr=updateCenterAndZoom(Br,Be,void 0,Mr);$r.setCenter&&$r.setCenter(zr.center),$r.setZoom&&$r.setZoom(zr.zoom)})})}var PointerShape=function(){function _r(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return _r}(),PointerPath=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="pointer",Mr}return Be.prototype.getDefaultShape=function(){return new PointerShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Math.cos,Br=Math.sin,zr=Mr.r,Vr=Mr.width,jr=Mr.angle,Gr=Mr.x-$r(jr)*Vr*(Vr>=zr/3?1:2),Wr=Mr.y-Br(jr)*Vr*(Vr>=zr/3?1:2);jr=Mr.angle-Math.PI/2,Dr.moveTo(Gr,Wr),Dr.lineTo(Mr.x+$r(jr)*Vr,Mr.y+Br(jr)*Vr),Dr.lineTo(Mr.x+$r(Mr.angle)*zr,Mr.y+Br(Mr.angle)*zr),Dr.lineTo(Mr.x-$r(jr)*Vr,Mr.y-Br(jr)*Vr),Dr.lineTo(Gr,Wr)},Be}(Path$1);const PointerPath$1=PointerPath;function parsePosition(_r,Be){var Dr=_r.get("center"),Mr=Be.getWidth(),$r=Be.getHeight(),Br=Math.min(Mr,$r),zr=parsePercent(Dr[0],Be.getWidth()),Vr=parsePercent(Dr[1],Be.getHeight()),jr=parsePercent(_r.get("radius"),Br/2);return{cx:zr,cy:Vr,r:jr}}function formatLabel(_r,Be){var Dr=_r==null?"":_r+"";return Be&&(isString(Be)?Dr=Be.replace("{value}",Dr):isFunction(Be)&&(Dr=Be(_r))),Dr}var GaugeView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){this.group.removeAll();var Br=Dr.get(["axisLine","lineStyle","color"]),zr=parsePosition(Dr,$r);this._renderMain(Dr,Mr,$r,Br,zr),this._data=Dr.getData()},Be.prototype.dispose=function(){},Be.prototype._renderMain=function(Dr,Mr,$r,Br,zr){var Vr=this.group,jr=Dr.get("clockwise"),Gr=-Dr.get("startAngle")/180*Math.PI,Wr=-Dr.get("endAngle")/180*Math.PI,Kr=Dr.getModel("axisLine"),Zr=Kr.get("roundCap"),Jr=Zr?Sausage:Sector$1,rn=Kr.get("show"),nn=Kr.getModel("lineStyle"),ln=nn.get("width"),cn=[Gr,Wr];normalizeArcAngles(cn,!jr),Gr=cn[0],Wr=cn[1];for(var hn=Wr-Gr,mn=Gr,bn=[],An=0;rn&&An<Br.length;An++){var vn=Math.min(Math.max(Br[An][0],0),1);Wr=Gr+hn*vn;var dn=new Jr({shape:{startAngle:mn,endAngle:Wr,cx:zr.cx,cy:zr.cy,clockwise:jr,r0:zr.r-ln,r:zr.r},silent:!0});dn.setStyle({fill:Br[An][1]}),dn.setStyle(nn.getLineStyle(["color","width"])),bn.push(dn),mn=Wr}bn.reverse(),each$f(bn,function(xn){return Vr.add(xn)});var wn=function(xn){if(xn<=0)return Br[0][1];var Mn;for(Mn=0;Mn<Br.length;Mn++)if(Br[Mn][0]>=xn&&(Mn===0?0:Br[Mn-1][0])<xn)return Br[Mn][1];return Br[Mn-1][1]};this._renderTicks(Dr,Mr,$r,wn,zr,Gr,Wr,jr,ln),this._renderTitleAndDetail(Dr,Mr,$r,wn,zr),this._renderAnchor(Dr,zr),this._renderPointer(Dr,Mr,$r,wn,zr,Gr,Wr,jr,ln)},Be.prototype._renderTicks=function(Dr,Mr,$r,Br,zr,Vr,jr,Gr,Wr){for(var Kr=this.group,Zr=zr.cx,Jr=zr.cy,rn=zr.r,nn=+Dr.get("min"),ln=+Dr.get("max"),cn=Dr.getModel("splitLine"),hn=Dr.getModel("axisTick"),mn=Dr.getModel("axisLabel"),bn=Dr.get("splitNumber"),An=hn.get("splitNumber"),vn=parsePercent(cn.get("length"),rn),dn=parsePercent(hn.get("length"),rn),wn=Vr,xn=(jr-Vr)/bn,Mn=xn/An,In=cn.getModel("lineStyle").getLineStyle(),Hn=hn.getModel("lineStyle").getLineStyle(),$n=cn.get("distance"),jn,Bn,Gn=0;Gn<=bn;Gn++){if(jn=Math.cos(wn),Bn=Math.sin(wn),cn.get("show")){var ei=$n?$n+Wr:Wr,ri=new Line$3({shape:{x1:jn*(rn-ei)+Zr,y1:Bn*(rn-ei)+Jr,x2:jn*(rn-vn-ei)+Zr,y2:Bn*(rn-vn-ei)+Jr},style:In,silent:!0});In.stroke==="auto"&&ri.setStyle({stroke:Br(Gn/bn)}),Kr.add(ri)}if(mn.get("show")){var ei=mn.get("distance")+$n,vi=formatLabel(round$3(Gn/bn*(ln-nn)+nn),mn.get("formatter")),wi=Br(Gn/bn),Ni=jn*(rn-vn-ei)+Zr,Yn=Bn*(rn-vn-ei)+Jr,Vn=mn.get("rotate"),si=0;Vn==="radial"?(si=-wn+2*Math.PI,si>Math.PI/2&&(si+=Math.PI)):Vn==="tangential"?si=-wn-Math.PI/2:isNumber(Vn)&&(si=Vn*Math.PI/180),si===0?Kr.add(new ZRText$1({style:createTextStyle$1(mn,{text:vi,x:Ni,y:Yn,verticalAlign:Bn<-.8?"top":Bn>.8?"bottom":"middle",align:jn<-.4?"left":jn>.4?"right":"center"},{inheritColor:wi}),silent:!0})):Kr.add(new ZRText$1({style:createTextStyle$1(mn,{text:vi,x:Ni,y:Yn,verticalAlign:"middle",align:"center"},{inheritColor:wi}),silent:!0,originX:Ni,originY:Yn,rotation:si}))}if(hn.get("show")&&Gn!==bn){var ei=hn.get("distance");ei=ei?ei+Wr:Wr;for(var Ri=0;Ri<=An;Ri++){jn=Math.cos(wn),Bn=Math.sin(wn);var Pi=new Line$3({shape:{x1:jn*(rn-ei)+Zr,y1:Bn*(rn-ei)+Jr,x2:jn*(rn-dn-ei)+Zr,y2:Bn*(rn-dn-ei)+Jr},silent:!0,style:Hn});Hn.stroke==="auto"&&Pi.setStyle({stroke:Br((Gn+Ri/An)/bn)}),Kr.add(Pi),wn+=Mn}wn-=Mn}else wn+=xn}},Be.prototype._renderPointer=function(Dr,Mr,$r,Br,zr,Vr,jr,Gr,Wr){var Kr=this.group,Zr=this._data,Jr=this._progressEls,rn=[],nn=Dr.get(["pointer","show"]),ln=Dr.getModel("progress"),cn=ln.get("show"),hn=Dr.getData(),mn=hn.mapDimension("value"),bn=+Dr.get("min"),An=+Dr.get("max"),vn=[bn,An],dn=[Vr,jr];function wn(Mn,In){var Hn=hn.getItemModel(Mn),$n=Hn.getModel("pointer"),jn=parsePercent($n.get("width"),zr.r),Bn=parsePercent($n.get("length"),zr.r),Gn=Dr.get(["pointer","icon"]),ei=$n.get("offsetCenter"),ri=parsePercent(ei[0],zr.r),vi=parsePercent(ei[1],zr.r),wi=$n.get("keepAspect"),Ni;return Gn?Ni=createSymbol$1(Gn,ri-jn/2,vi-Bn,jn,Bn,null,wi):Ni=new PointerPath$1({shape:{angle:-Math.PI/2,width:jn,r:Bn,x:ri,y:vi}}),Ni.rotation=-(In+Math.PI/2),Ni.x=zr.cx,Ni.y=zr.cy,Ni}function xn(Mn,In){var Hn=ln.get("roundCap"),$n=Hn?Sausage:Sector$1,jn=ln.get("overlap"),Bn=jn?ln.get("width"):Wr/hn.count(),Gn=jn?zr.r-Bn:zr.r-(Mn+1)*Bn,ei=jn?zr.r:zr.r-Mn*Bn,ri=new $n({shape:{startAngle:Vr,endAngle:In,cx:zr.cx,cy:zr.cy,clockwise:Gr,r0:Gn,r:ei}});return jn&&(ri.z2=An-hn.get(mn,Mn)%An),ri}(cn||nn)&&(hn.diff(Zr).add(function(Mn){var In=hn.get(mn,Mn);if(nn){var Hn=wn(Mn,Vr);initProps(Hn,{rotation:-((isNaN(+In)?dn[0]:linearMap$2(In,vn,dn,!0))+Math.PI/2)},Dr),Kr.add(Hn),hn.setItemGraphicEl(Mn,Hn)}if(cn){var $n=xn(Mn,Vr),jn=ln.get("clip");initProps($n,{shape:{endAngle:linearMap$2(In,vn,dn,jn)}},Dr),Kr.add($n),setCommonECData(Dr.seriesIndex,hn.dataType,Mn,$n),rn[Mn]=$n}}).update(function(Mn,In){var Hn=hn.get(mn,Mn);if(nn){var $n=Zr.getItemGraphicEl(In),jn=$n?$n.rotation:Vr,Bn=wn(Mn,jn);Bn.rotation=jn,updateProps$1(Bn,{rotation:-((isNaN(+Hn)?dn[0]:linearMap$2(Hn,vn,dn,!0))+Math.PI/2)},Dr),Kr.add(Bn),hn.setItemGraphicEl(Mn,Bn)}if(cn){var Gn=Jr[In],ei=Gn?Gn.shape.endAngle:Vr,ri=xn(Mn,ei),vi=ln.get("clip");updateProps$1(ri,{shape:{endAngle:linearMap$2(Hn,vn,dn,vi)}},Dr),Kr.add(ri),setCommonECData(Dr.seriesIndex,hn.dataType,Mn,ri),rn[Mn]=ri}}).execute(),hn.each(function(Mn){var In=hn.getItemModel(Mn),Hn=In.getModel("emphasis"),$n=Hn.get("focus"),jn=Hn.get("blurScope"),Bn=Hn.get("disabled");if(nn){var Gn=hn.getItemGraphicEl(Mn),ei=hn.getItemVisual(Mn,"style"),ri=ei.fill;if(Gn instanceof ZRImage$1){var vi=Gn.style;Gn.useStyle(extend$1({image:vi.image,x:vi.x,y:vi.y,width:vi.width,height:vi.height},ei))}else Gn.useStyle(ei),Gn.type!=="pointer"&&Gn.setColor(ri);Gn.setStyle(In.getModel(["pointer","itemStyle"]).getItemStyle()),Gn.style.fill==="auto"&&Gn.setStyle("fill",Br(linearMap$2(hn.get(mn,Mn),vn,[0,1],!0))),Gn.z2EmphasisLift=0,setStatesStylesFromModel(Gn,In),toggleHoverEmphasis(Gn,$n,jn,Bn)}if(cn){var wi=rn[Mn];wi.useStyle(hn.getItemVisual(Mn,"style")),wi.setStyle(In.getModel(["progress","itemStyle"]).getItemStyle()),wi.z2EmphasisLift=0,setStatesStylesFromModel(wi,In),toggleHoverEmphasis(wi,$n,jn,Bn)}}),this._progressEls=rn)},Be.prototype._renderAnchor=function(Dr,Mr){var $r=Dr.getModel("anchor"),Br=$r.get("show");if(Br){var zr=$r.get("size"),Vr=$r.get("icon"),jr=$r.get("offsetCenter"),Gr=$r.get("keepAspect"),Wr=createSymbol$1(Vr,Mr.cx-zr/2+parsePercent(jr[0],Mr.r),Mr.cy-zr/2+parsePercent(jr[1],Mr.r),zr,zr,null,Gr);Wr.z2=$r.get("showAbove")?1:0,Wr.setStyle($r.getModel("itemStyle").getItemStyle()),this.group.add(Wr)}},Be.prototype._renderTitleAndDetail=function(Dr,Mr,$r,Br,zr){var Vr=this,jr=Dr.getData(),Gr=jr.mapDimension("value"),Wr=+Dr.get("min"),Kr=+Dr.get("max"),Zr=new Group$4,Jr=[],rn=[],nn=Dr.isAnimationEnabled(),ln=Dr.get(["pointer","showAbove"]);jr.diff(this._data).add(function(cn){Jr[cn]=new ZRText$1({silent:!0}),rn[cn]=new ZRText$1({silent:!0})}).update(function(cn,hn){Jr[cn]=Vr._titleEls[hn],rn[cn]=Vr._detailEls[hn]}).execute(),jr.each(function(cn){var hn=jr.getItemModel(cn),mn=jr.get(Gr,cn),bn=new Group$4,An=Br(linearMap$2(mn,[Wr,Kr],[0,1],!0)),vn=hn.getModel("title");if(vn.get("show")){var dn=vn.get("offsetCenter"),wn=zr.cx+parsePercent(dn[0],zr.r),xn=zr.cy+parsePercent(dn[1],zr.r),Mn=Jr[cn];Mn.attr({z2:ln?0:2,style:createTextStyle$1(vn,{x:wn,y:xn,text:jr.getName(cn),align:"center",verticalAlign:"middle"},{inheritColor:An})}),bn.add(Mn)}var In=hn.getModel("detail");if(In.get("show")){var Hn=In.get("offsetCenter"),$n=zr.cx+parsePercent(Hn[0],zr.r),jn=zr.cy+parsePercent(Hn[1],zr.r),Bn=parsePercent(In.get("width"),zr.r),Gn=parsePercent(In.get("height"),zr.r),ei=Dr.get(["progress","show"])?jr.getItemVisual(cn,"style").fill:An,Mn=rn[cn],ri=In.get("formatter");Mn.attr({z2:ln?0:2,style:createTextStyle$1(In,{x:$n,y:jn,text:formatLabel(mn,ri),width:isNaN(Bn)?null:Bn,height:isNaN(Gn)?null:Gn,align:"center",verticalAlign:"middle"},{inheritColor:ei})}),setLabelValueAnimation(Mn,{normal:In},mn,function(wi){return formatLabel(wi,ri)}),nn&&animateLabelValue(Mn,cn,jr,Dr,{getFormattedLabel:function(wi,Ni,Yn,Vn,si,Ri){return formatLabel(Ri?Ri.interpolatedValue:mn,ri)}}),bn.add(Mn)}Zr.add(bn)}),this.group.add(Zr),this._titleEls=Jr,this._detailEls=rn},Be.type="gauge",Be}(ChartView$1);const GaugeView$1=GaugeView;var GaugeSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.visualStyleAccessPath="itemStyle",Dr}return Be.prototype.getInitialData=function(Dr,Mr){return createSeriesDataSimply(this,["value"])},Be.type="series.gauge",Be.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},Be}(SeriesModel$1);const GaugeSeriesModel$1=GaugeSeriesModel;function install$E(_r){_r.registerChartView(GaugeView$1),_r.registerSeriesModel(GaugeSeriesModel$1)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(_r){__extends(Be,_r);function Be(Dr,Mr){var $r=_r.call(this)||this,Br=$r,zr=new Polyline$3,Vr=new ZRText$1;return Br.setTextContent(Vr),$r.setTextGuideLine(zr),$r.updateData(Dr,Mr,!0),$r}return Be.prototype.updateData=function(Dr,Mr,$r){var Br=this,zr=Dr.hostModel,Vr=Dr.getItemModel(Mr),jr=Dr.getItemLayout(Mr),Gr=Vr.getModel("emphasis"),Wr=Vr.get(opacityAccessPath$1);Wr=Wr??1,$r||saveOldStyle(Br),Br.useStyle(Dr.getItemVisual(Mr,"style")),Br.style.lineJoin="round",$r?(Br.setShape({points:jr.points}),Br.style.opacity=0,initProps(Br,{style:{opacity:Wr}},zr,Mr)):updateProps$1(Br,{style:{opacity:Wr},shape:{points:jr.points}},zr,Mr),setStatesStylesFromModel(Br,Vr),this._updateLabel(Dr,Mr),toggleHoverEmphasis(this,Gr.get("focus"),Gr.get("blurScope"),Gr.get("disabled"))},Be.prototype._updateLabel=function(Dr,Mr){var $r=this,Br=this.getTextGuideLine(),zr=$r.getTextContent(),Vr=Dr.hostModel,jr=Dr.getItemModel(Mr),Gr=Dr.getItemLayout(Mr),Wr=Gr.label,Kr=Dr.getItemVisual(Mr,"style"),Zr=Kr.fill;setLabelStyle(zr,getLabelStatesModels(jr),{labelFetcher:Dr.hostModel,labelDataIndex:Mr,defaultOpacity:Kr.opacity,defaultText:Dr.getName(Mr)},{normal:{align:Wr.textAlign,verticalAlign:Wr.verticalAlign}}),$r.setTextConfig({local:!0,inside:!!Wr.inside,insideStroke:Zr,outsideFill:Zr});var Jr=Wr.linePoints;Br.setShape({points:Jr}),$r.textGuideLineConfig={anchor:Jr?new Point$1(Jr[0][0],Jr[0][1]):null},updateProps$1(zr,{style:{x:Wr.x,y:Wr.y}},Vr,Mr),zr.attr({rotation:Wr.rotation,originX:Wr.x,originY:Wr.y,z2:10}),setLabelLineStyle($r,getLabelLineStatesModels(jr),{stroke:Zr})},Be}(Polygon$1),FunnelView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.ignoreLabelLineUpdate=!0,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=Dr.getData(),zr=this._data,Vr=this.group;Br.diff(zr).add(function(jr){var Gr=new FunnelPiece(Br,jr);Br.setItemGraphicEl(jr,Gr),Vr.add(Gr)}).update(function(jr,Gr){var Wr=zr.getItemGraphicEl(Gr);Wr.updateData(Br,jr),Vr.add(Wr),Br.setItemGraphicEl(jr,Wr)}).remove(function(jr){var Gr=zr.getItemGraphicEl(jr);removeElementWithFadeOut(Gr,Dr,jr)}).execute(),this._data=Br},Be.prototype.remove=function(){this.group.removeAll(),this._data=null},Be.prototype.dispose=function(){},Be.type="funnel",Be}(ChartView$1);const FunnelView$1=FunnelView;var FunnelSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(Dr){_r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(Dr)},Be.prototype.getInitialData=function(Dr,Mr){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},Be.prototype._defaultLabelLine=function(Dr){defaultEmphasis(Dr,"labelLine",["show"]);var Mr=Dr.labelLine,$r=Dr.emphasis.labelLine;Mr.show=Mr.show&&Dr.label.show,$r.show=$r.show&&Dr.emphasis.label.show},Be.prototype.getDataParams=function(Dr){var Mr=this.getData(),$r=_r.prototype.getDataParams.call(this,Dr),Br=Mr.mapDimension("value"),zr=Mr.getSum(Br);return $r.percent=zr?+(Mr.get(Br,Dr)/zr*100).toFixed(2):0,$r.$vars.push("percent"),$r},Be.type="series.funnel",Be.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},Be}(SeriesModel$1);const FunnelSeriesModel$1=FunnelSeriesModel;function getViewRect$2(_r,Be){return getLayoutRect(_r.getBoxLayoutParams(),{width:Be.getWidth(),height:Be.getHeight()})}function getSortedIndices(_r,Be){for(var Dr=_r.mapDimension("value"),Mr=_r.mapArray(Dr,function(jr){return jr}),$r=[],Br=Be==="ascending",zr=0,Vr=_r.count();zr<Vr;zr++)$r[zr]=zr;return isFunction(Be)?$r.sort(Be):Be!=="none"&&$r.sort(function(jr,Gr){return Br?Mr[jr]-Mr[Gr]:Mr[Gr]-Mr[jr]}),$r}function labelLayout(_r){var Be=_r.hostModel,Dr=Be.get("orient");_r.each(function(Mr){var $r=_r.getItemModel(Mr),Br=$r.getModel("label"),zr=Br.get("position"),Vr=$r.getModel("labelLine"),jr=_r.getItemLayout(Mr),Gr=jr.points,Wr=zr==="inner"||zr==="inside"||zr==="center"||zr==="insideLeft"||zr==="insideRight",Kr,Zr,Jr,rn;if(Wr)zr==="insideLeft"?(Zr=(Gr[0][0]+Gr[3][0])/2+5,Jr=(Gr[0][1]+Gr[3][1])/2,Kr="left"):zr==="insideRight"?(Zr=(Gr[1][0]+Gr[2][0])/2-5,Jr=(Gr[1][1]+Gr[2][1])/2,Kr="right"):(Zr=(Gr[0][0]+Gr[1][0]+Gr[2][0]+Gr[3][0])/4,Jr=(Gr[0][1]+Gr[1][1]+Gr[2][1]+Gr[3][1])/4,Kr="center"),rn=[[Zr,Jr],[Zr,Jr]];else{var nn=void 0,ln=void 0,cn=void 0,hn=void 0,mn=Vr.get("length");zr==="left"?(nn=(Gr[3][0]+Gr[0][0])/2,ln=(Gr[3][1]+Gr[0][1])/2,cn=nn-mn,Zr=cn-5,Kr="right"):zr==="right"?(nn=(Gr[1][0]+Gr[2][0])/2,ln=(Gr[1][1]+Gr[2][1])/2,cn=nn+mn,Zr=cn+5,Kr="left"):zr==="top"?(nn=(Gr[3][0]+Gr[0][0])/2,ln=(Gr[3][1]+Gr[0][1])/2,hn=ln-mn,Jr=hn-5,Kr="center"):zr==="bottom"?(nn=(Gr[1][0]+Gr[2][0])/2,ln=(Gr[1][1]+Gr[2][1])/2,hn=ln+mn,Jr=hn+5,Kr="center"):zr==="rightTop"?(nn=Dr==="horizontal"?Gr[3][0]:Gr[1][0],ln=Dr==="horizontal"?Gr[3][1]:Gr[1][1],Dr==="horizontal"?(hn=ln-mn,Jr=hn-5,Kr="center"):(cn=nn+mn,Zr=cn+5,Kr="top")):zr==="rightBottom"?(nn=Gr[2][0],ln=Gr[2][1],Dr==="horizontal"?(hn=ln+mn,Jr=hn+5,Kr="center"):(cn=nn+mn,Zr=cn+5,Kr="bottom")):zr==="leftTop"?(nn=Gr[0][0],ln=Dr==="horizontal"?Gr[0][1]:Gr[1][1],Dr==="horizontal"?(hn=ln-mn,Jr=hn-5,Kr="center"):(cn=nn-mn,Zr=cn-5,Kr="right")):zr==="leftBottom"?(nn=Dr==="horizontal"?Gr[1][0]:Gr[3][0],ln=Dr==="horizontal"?Gr[1][1]:Gr[2][1],Dr==="horizontal"?(hn=ln+mn,Jr=hn+5,Kr="center"):(cn=nn-mn,Zr=cn-5,Kr="right")):(nn=(Gr[1][0]+Gr[2][0])/2,ln=(Gr[1][1]+Gr[2][1])/2,Dr==="horizontal"?(hn=ln+mn,Jr=hn+5,Kr="center"):(cn=nn+mn,Zr=cn+5,Kr="left")),Dr==="horizontal"?(cn=nn,Zr=cn):(hn=ln,Jr=hn),rn=[[nn,ln],[cn,hn]]}jr.label={linePoints:rn,x:Zr,y:Jr,verticalAlign:"middle",textAlign:Kr,inside:Wr}})}function funnelLayout(_r,Be){_r.eachSeriesByType("funnel",function(Dr){var Mr=Dr.getData(),$r=Mr.mapDimension("value"),Br=Dr.get("sort"),zr=getViewRect$2(Dr,Be),Vr=Dr.get("orient"),jr=zr.width,Gr=zr.height,Wr=getSortedIndices(Mr,Br),Kr=zr.x,Zr=zr.y,Jr=Vr==="horizontal"?[parsePercent(Dr.get("minSize"),Gr),parsePercent(Dr.get("maxSize"),Gr)]:[parsePercent(Dr.get("minSize"),jr),parsePercent(Dr.get("maxSize"),jr)],rn=Mr.getDataExtent($r),nn=Dr.get("min"),ln=Dr.get("max");nn==null&&(nn=Math.min(rn[0],0)),ln==null&&(ln=rn[1]);var cn=Dr.get("funnelAlign"),hn=Dr.get("gap"),mn=Vr==="horizontal"?jr:Gr,bn=(mn-hn*(Mr.count()-1))/Mr.count(),An=function(jn,Bn){if(Vr==="horizontal"){var Gn=Mr.get($r,jn)||0,ei=linearMap$2(Gn,[nn,ln],Jr,!0),ri=void 0;switch(cn){case"top":ri=Zr;break;case"center":ri=Zr+(Gr-ei)/2;break;case"bottom":ri=Zr+(Gr-ei);break}return[[Bn,ri],[Bn,ri+ei]]}var vi=Mr.get($r,jn)||0,wi=linearMap$2(vi,[nn,ln],Jr,!0),Ni;switch(cn){case"left":Ni=Kr;break;case"center":Ni=Kr+(jr-wi)/2;break;case"right":Ni=Kr+jr-wi;break}return[[Ni,Bn],[Ni+wi,Bn]]};Br==="ascending"&&(bn=-bn,hn=-hn,Vr==="horizontal"?Kr+=jr:Zr+=Gr,Wr=Wr.reverse());for(var vn=0;vn<Wr.length;vn++){var dn=Wr[vn],wn=Wr[vn+1],xn=Mr.getItemModel(dn);if(Vr==="horizontal"){var Mn=xn.get(["itemStyle","width"]);Mn==null?Mn=bn:(Mn=parsePercent(Mn,jr),Br==="ascending"&&(Mn=-Mn));var In=An(dn,Kr),Hn=An(wn,Kr+Mn);Kr+=Mn+hn,Mr.setItemLayout(dn,{points:In.concat(Hn.slice().reverse())})}else{var $n=xn.get(["itemStyle","height"]);$n==null?$n=bn:($n=parsePercent($n,Gr),Br==="ascending"&&($n=-$n));var In=An(dn,Zr),Hn=An(wn,Zr+$n);Zr+=$n+hn,Mr.setItemLayout(dn,{points:In.concat(Hn.slice().reverse())})}}labelLayout(Mr)})}function install$D(_r){_r.registerChartView(FunnelView$1),_r.registerSeriesModel(FunnelSeriesModel$1),_r.registerLayout(funnelLayout),_r.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$2=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr._dataGroup=new Group$4,Dr._initialized=!1,Dr}return Be.prototype.init=function(){this.group.add(this._dataGroup)},Be.prototype.render=function(Dr,Mr,$r,Br){this._progressiveEls=null;var zr=this._dataGroup,Vr=Dr.getData(),jr=this._data,Gr=Dr.coordinateSystem,Wr=Gr.dimensions,Kr=makeSeriesScope(Dr);Vr.diff(jr).add(Zr).update(Jr).remove(rn).execute();function Zr(ln){var cn=addEl(Vr,zr,ln,Wr,Gr);updateElCommon(cn,Vr,ln,Kr)}function Jr(ln,cn){var hn=jr.getItemGraphicEl(cn),mn=createLinePoints(Vr,ln,Wr,Gr);Vr.setItemGraphicEl(ln,hn),updateProps$1(hn,{shape:{points:mn}},Dr,ln),saveOldStyle(hn),updateElCommon(hn,Vr,ln,Kr)}function rn(ln){var cn=jr.getItemGraphicEl(ln);zr.remove(cn)}if(!this._initialized){this._initialized=!0;var nn=createGridClipShape$2(Gr,Dr,function(){setTimeout(function(){zr.removeClipPath()})});zr.setClipPath(nn)}this._data=Vr},Be.prototype.incrementalPrepareRender=function(Dr,Mr,$r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},Be.prototype.incrementalRender=function(Dr,Mr,$r){for(var Br=Mr.getData(),zr=Mr.coordinateSystem,Vr=zr.dimensions,jr=makeSeriesScope(Mr),Gr=this._progressiveEls=[],Wr=Dr.start;Wr<Dr.end;Wr++){var Kr=addEl(Br,this._dataGroup,Wr,Vr,zr);Kr.incremental=!0,updateElCommon(Kr,Br,Wr,jr),Gr.push(Kr)}},Be.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},Be.type="parallel",Be}(ChartView$1);function createGridClipShape$2(_r,Be,Dr){var Mr=_r.model,$r=_r.getRect(),Br=new Rect$3({shape:{x:$r.x,y:$r.y,width:$r.width,height:$r.height}}),zr=Mr.get("layout")==="horizontal"?"width":"height";return Br.setShape(zr,0),initProps(Br,{shape:{width:$r.width,height:$r.height}},Be,Dr),Br}function createLinePoints(_r,Be,Dr,Mr){for(var $r=[],Br=0;Br<Dr.length;Br++){var zr=Dr[Br],Vr=_r.get(_r.mapDimension(zr),Be);isEmptyValue(Vr,Mr.getAxis(zr).type)||$r.push(Mr.dataToPoint(Vr,zr))}return $r}function addEl(_r,Be,Dr,Mr,$r){var Br=createLinePoints(_r,Dr,Mr,$r),zr=new Polyline$3({shape:{points:Br},z2:10});return Be.add(zr),_r.setItemGraphicEl(Dr,zr),zr}function makeSeriesScope(_r){var Be=_r.get("smooth",!0);return Be===!0&&(Be=DEFAULT_SMOOTH),Be=numericToNumber(Be),eqNaN(Be)&&(Be=0),{smooth:Be}}function updateElCommon(_r,Be,Dr,Mr){_r.useStyle(Be.getItemVisual(Dr,"style")),_r.style.fill=null,_r.setShape("smooth",Mr.smooth);var $r=Be.getItemModel(Dr),Br=$r.getModel("emphasis");setStatesStylesFromModel(_r,$r,"lineStyle"),toggleHoverEmphasis(_r,Br.get("focus"),Br.get("blurScope"),Br.get("disabled"))}function isEmptyValue(_r,Be){return Be==="category"?_r==null:_r==null||isNaN(_r)}const ParallelView$3=ParallelView$2;var ParallelSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.visualStyleAccessPath="lineStyle",Dr.visualDrawType="stroke",Dr}return Be.prototype.getInitialData=function(Dr,Mr){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},Be.prototype.getRawIndicesByActiveState=function(Dr){var Mr=this.coordinateSystem,$r=this.getData(),Br=[];return Mr.eachActiveState($r,function(zr,Vr){Dr===zr&&Br.push($r.getRawIndex(Vr))}),Br},Be.type="series.parallel",Be.dependencies=["parallel"],Be.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},Be}(SeriesModel$1);function makeDefaultEncode(_r){var Be=_r.ecModel.getComponent("parallel",_r.get("parallelIndex"));if(Be){var Dr={};return each$f(Be.dimensions,function(Mr){var $r=convertDimNameToNumber(Mr);Dr[Mr]=$r}),Dr}}function convertDimNameToNumber(_r){return+_r.replace("dim","")}const ParallelSeriesModel$1=ParallelSeriesModel;var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(_r,Be){var Dr=_r.coordinateSystem,Mr={normal:_r.get(["lineStyle","opacity"]),active:_r.get("activeOpacity"),inactive:_r.get("inactiveOpacity")};return{progress:function($r,Br){Dr.eachActiveState(Br,function(zr,Vr){var jr=Mr[zr];if(zr==="normal"&&Br.hasItemOption){var Gr=Br.getItemModel(Vr).get(opacityAccessPath,!0);Gr!=null&&(jr=Gr)}var Wr=Br.ensureUniqueItemVisual(Vr,"style");Wr.opacity=jr},$r.start,$r.end)}}}};const parallelVisual$1=parallelVisual;function parallelPreprocessor(_r){createParallelIfNeeded(_r),mergeAxisOptionFromParallel(_r)}function createParallelIfNeeded(_r){if(!_r.parallel){var Be=!1;each$f(_r.series,function(Dr){Dr&&Dr.type==="parallel"&&(Be=!0)}),Be&&(_r.parallel=[{}])}}function mergeAxisOptionFromParallel(_r){var Be=normalizeToArray(_r.parallelAxis);each$f(Be,function(Dr){if(isObject$3(Dr)){var Mr=Dr.parallelIndex||0,$r=normalizeToArray(_r.parallel)[Mr];$r&&$r.parallelAxisDefault&&merge(Dr,$r.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){this._model=Dr,this._api=$r,this._handlers||(this._handlers={},each$f(handlers$1,function(Br,zr){$r.getZr().on(zr,this._handlers[zr]=bind$1(Br,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",Dr.get("axisExpandRate"),"fixRate")},Be.prototype.dispose=function(Dr,Mr){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function($r,Br){Mr.getZr().off(Br,$r)}),this._handlers=null},Be.prototype._throttledDispatchExpand=function(Dr){this._dispatchExpand(Dr)},Be.prototype._dispatchExpand=function(Dr){Dr&&this._api.dispatchAction(extend$1({type:"parallelAxisExpand"},Dr))},Be.type="parallel",Be}(ComponentView$1),handlers$1={mousedown:function(_r){checkTrigger(this,"click")&&(this._mouseDownPoint=[_r.offsetX,_r.offsetY])},mouseup:function(_r){var Be=this._mouseDownPoint;if(checkTrigger(this,"click")&&Be){var Dr=[_r.offsetX,_r.offsetY],Mr=Math.pow(Be[0]-Dr[0],2)+Math.pow(Be[1]-Dr[1],2);if(Mr>CLICK_THRESHOLD)return;var $r=this._model.coordinateSystem.getSlidedAxisExpandWindow([_r.offsetX,_r.offsetY]);$r.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:$r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(_r){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var Be=this._model,Dr=Be.coordinateSystem.getSlidedAxisExpandWindow([_r.offsetX,_r.offsetY]),Mr=Dr.behavior;Mr==="jump"&&this._throttledDispatchExpand.debounceNextCall(Be.get("axisExpandDebounce")),this._throttledDispatchExpand(Mr==="none"?null:{axisExpandWindow:Dr.axisExpandWindow,animation:Mr==="jump"?null:{duration:0}})}}};function checkTrigger(_r,Be){var Dr=_r._model;return Dr.get("axisExpandable")&&Dr.get("axisExpandTriggerOn")===Be}const ParallelView$1=ParallelView;var ParallelModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(){_r.prototype.init.apply(this,arguments),this.mergeOption({})},Be.prototype.mergeOption=function(Dr){var Mr=this.option;Dr&&merge(Mr,Dr,!0),this._initDimensions()},Be.prototype.contains=function(Dr,Mr){var $r=Dr.get("parallelIndex");return $r!=null&&Mr.getComponent("parallel",$r)===this},Be.prototype.setAxisExpand=function(Dr){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(Mr){Dr.hasOwnProperty(Mr)&&(this.option[Mr]=Dr[Mr])},this)},Be.prototype._initDimensions=function(){var Dr=this.dimensions=[],Mr=this.parallelAxisIndex=[],$r=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(Br){return(Br.get("parallelIndex")||0)===this.componentIndex},this);each$f($r,function(Br){Dr.push("dim"+Br.get("dim")),Mr.push(Br.componentIndex)})},Be.type="parallel",Be.dependencies=["parallelAxis"],Be.layoutMode="box",Be.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},Be}(ComponentModel$1);const ParallelModel$1=ParallelModel;var ParallelAxis=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r,Br,zr){var Vr=_r.call(this,Dr,Mr,$r)||this;return Vr.type=Br||"value",Vr.axisIndex=zr,Vr}return Be.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},Be}(Axis$1);const ParallelAxis$1=ParallelAxis;function sliderMove(_r,Be,Dr,Mr,$r,Br){_r=_r||0;var zr=Dr[1]-Dr[0];if($r!=null&&($r=restrict$1($r,[0,zr])),Br!=null&&(Br=Math.max(Br,$r??0)),Mr==="all"){var Vr=Math.abs(Be[1]-Be[0]);Vr=restrict$1(Vr,[0,zr]),$r=Br=restrict$1(Vr,[$r,Br]),Mr=0}Be[0]=restrict$1(Be[0],Dr),Be[1]=restrict$1(Be[1],Dr);var jr=getSpanSign(Be,Mr);Be[Mr]+=_r;var Gr=$r||0,Wr=Dr.slice();jr.sign<0?Wr[0]+=Gr:Wr[1]-=Gr,Be[Mr]=restrict$1(Be[Mr],Wr);var Kr;return Kr=getSpanSign(Be,Mr),$r!=null&&(Kr.sign!==jr.sign||Kr.span<$r)&&(Be[1-Mr]=Be[Mr]+jr.sign*$r),Kr=getSpanSign(Be,Mr),Br!=null&&Kr.span>Br&&(Be[1-Mr]=Be[Mr]+Kr.sign*Br),Be}function getSpanSign(_r,Be){var Dr=_r[Be]-_r[1-Be];return{span:Math.abs(Dr),sign:Dr>0?-1:Dr<0?1:Be?-1:1}}function restrict$1(_r,Be){return Math.min(Be[1]!=null?Be[1]:1/0,Math.max(Be[0]!=null?Be[0]:-1/0,_r))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function _r(Be,Dr,Mr){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=Be.dimensions,this._model=Be,this._init(Be,Dr,Mr)}return _r.prototype._init=function(Be,Dr,Mr){var $r=Be.dimensions,Br=Be.parallelAxisIndex;each$a($r,function(zr,Vr){var jr=Br[Vr],Gr=Dr.getComponent("parallelAxis",jr),Wr=this._axesMap.set(zr,new ParallelAxis$1(zr,createScaleByModel$1(Gr),[0,0],Gr.get("type"),jr)),Kr=Wr.type==="category";Wr.onBand=Kr&&Gr.get("boundaryGap"),Wr.inverse=Gr.get("inverse"),Gr.axis=Wr,Wr.model=Gr,Wr.coordinateSystem=Gr.coordinateSystem=this},this)},_r.prototype.update=function(Be,Dr){this._updateAxesFromSeries(this._model,Be)},_r.prototype.containPoint=function(Be){var Dr=this._makeLayoutInfo(),Mr=Dr.axisBase,$r=Dr.layoutBase,Br=Dr.pixelDimIndex,zr=Be[1-Br],Vr=Be[Br];return zr>=Mr&&zr<=Mr+Dr.axisLength&&Vr>=$r&&Vr<=$r+Dr.layoutLength},_r.prototype.getModel=function(){return this._model},_r.prototype._updateAxesFromSeries=function(Be,Dr){Dr.eachSeries(function(Mr){if(Be.contains(Mr,Dr)){var $r=Mr.getData();each$a(this.dimensions,function(Br){var zr=this._axesMap.get(Br);zr.scale.unionExtentFromData($r,$r.mapDimension(Br)),niceScaleExtent(zr.scale,zr.model)},this)}},this)},_r.prototype.resize=function(Be,Dr){this._rect=getLayoutRect(Be.getBoxLayoutParams(),{width:Dr.getWidth(),height:Dr.getHeight()}),this._layoutAxes()},_r.prototype.getRect=function(){return this._rect},_r.prototype._makeLayoutInfo=function(){var Be=this._model,Dr=this._rect,Mr=["x","y"],$r=["width","height"],Br=Be.get("layout"),zr=Br==="horizontal"?0:1,Vr=Dr[$r[zr]],jr=[0,Vr],Gr=this.dimensions.length,Wr=restrict(Be.get("axisExpandWidth"),jr),Kr=restrict(Be.get("axisExpandCount")||0,[0,Gr]),Zr=Be.get("axisExpandable")&&Gr>3&&Gr>Kr&&Kr>1&&Wr>0&&Vr>0,Jr=Be.get("axisExpandWindow"),rn;if(Jr)rn=restrict(Jr[1]-Jr[0],jr),Jr[1]=Jr[0]+rn;else{rn=restrict(Wr*(Kr-1),jr);var nn=Be.get("axisExpandCenter")||mathFloor(Gr/2);Jr=[Wr*nn-rn/2],Jr[1]=Jr[0]+rn}var ln=(Vr-rn)/(Gr-Kr);ln<3&&(ln=0);var cn=[mathFloor(round(Jr[0]/Wr,1))+1,mathCeil(round(Jr[1]/Wr,1))-1],hn=ln/Wr*Jr[0];return{layout:Br,pixelDimIndex:zr,layoutBase:Dr[Mr[zr]],layoutLength:Vr,axisBase:Dr[Mr[1-zr]],axisLength:Dr[$r[1-zr]],axisExpandable:Zr,axisExpandWidth:Wr,axisCollapseWidth:ln,axisExpandWindow:Jr,axisCount:Gr,winInnerIndices:cn,axisExpandWindow0Pos:hn}},_r.prototype._layoutAxes=function(){var Be=this._rect,Dr=this._axesMap,Mr=this.dimensions,$r=this._makeLayoutInfo(),Br=$r.layout;Dr.each(function(zr){var Vr=[0,$r.axisLength],jr=zr.inverse?1:0;zr.setExtent(Vr[jr],Vr[1-jr])}),each$a(Mr,function(zr,Vr){var jr=($r.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(Vr,$r),Gr={horizontal:{x:jr.position,y:$r.axisLength},vertical:{x:0,y:jr.position}},Wr={horizontal:PI$1/2,vertical:0},Kr=[Gr[Br].x+Be.x,Gr[Br].y+Be.y],Zr=Wr[Br],Jr=create$1();rotate(Jr,Jr,Zr),translate(Jr,Jr,Kr),this._axesLayout[zr]={position:Kr,rotation:Zr,transform:Jr,axisNameAvailableWidth:jr.axisNameAvailableWidth,axisLabelShow:jr.axisLabelShow,nameTruncateMaxWidth:jr.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},_r.prototype.getAxis=function(Be){return this._axesMap.get(Be)},_r.prototype.dataToPoint=function(Be,Dr){return this.axisCoordToPoint(this._axesMap.get(Dr).dataToCoord(Be),Dr)},_r.prototype.eachActiveState=function(Be,Dr,Mr,$r){Mr==null&&(Mr=0),$r==null&&($r=Be.count());var Br=this._axesMap,zr=this.dimensions,Vr=[],jr=[];each$f(zr,function(ln){Vr.push(Be.mapDimension(ln)),jr.push(Br.get(ln).model)});for(var Gr=this.hasAxisBrushed(),Wr=Mr;Wr<$r;Wr++){var Kr=void 0;if(!Gr)Kr="normal";else{Kr="active";for(var Zr=Be.getValues(Vr,Wr),Jr=0,rn=zr.length;Jr<rn;Jr++){var nn=jr[Jr].getActiveState(Zr[Jr]);if(nn==="inactive"){Kr="inactive";break}}}Dr(Kr,Wr)}},_r.prototype.hasAxisBrushed=function(){for(var Be=this.dimensions,Dr=this._axesMap,Mr=!1,$r=0,Br=Be.length;$r<Br;$r++)Dr.get(Be[$r]).model.getActiveState()!=="normal"&&(Mr=!0);return Mr},_r.prototype.axisCoordToPoint=function(Be,Dr){var Mr=this._axesLayout[Dr];return applyTransform([Be,0],Mr.transform)},_r.prototype.getAxisLayout=function(Be){return clone$4(this._axesLayout[Be])},_r.prototype.getSlidedAxisExpandWindow=function(Be){var Dr=this._makeLayoutInfo(),Mr=Dr.pixelDimIndex,$r=Dr.axisExpandWindow.slice(),Br=$r[1]-$r[0],zr=[0,Dr.axisExpandWidth*(Dr.axisCount-1)];if(!this.containPoint(Be))return{behavior:"none",axisExpandWindow:$r};var Vr=Be[Mr]-Dr.layoutBase-Dr.axisExpandWindow0Pos,jr,Gr="slide",Wr=Dr.axisCollapseWidth,Kr=this._model.get("axisExpandSlideTriggerArea"),Zr=Kr[0]!=null;if(Wr)Zr&&Wr&&Vr<Br*Kr[0]?(Gr="jump",jr=Vr-Br*Kr[2]):Zr&&Wr&&Vr>Br*(1-Kr[0])?(Gr="jump",jr=Vr-Br*(1-Kr[2])):(jr=Vr-Br*Kr[1])>=0&&(jr=Vr-Br*(1-Kr[1]))<=0&&(jr=0),jr*=Dr.axisExpandWidth/Wr,jr?sliderMove(jr,$r,zr,"all"):Gr="none";else{var Jr=$r[1]-$r[0],rn=zr[1]*Vr/Jr;$r=[mathMax$2(0,rn-Jr/2)],$r[1]=mathMin$2(zr[1],$r[0]+Jr),$r[0]=$r[1]-Jr}return{axisExpandWindow:$r,behavior:Gr}},_r}();function restrict(_r,Be){return mathMin$2(mathMax$2(_r,Be[0]),Be[1])}function layoutAxisWithoutExpand(_r,Be){var Dr=Be.layoutLength/(Be.axisCount-1);return{position:Dr*_r,axisNameAvailableWidth:Dr,axisLabelShow:!0}}function layoutAxisWithExpand(_r,Be){var Dr=Be.layoutLength,Mr=Be.axisExpandWidth,$r=Be.axisCount,Br=Be.axisCollapseWidth,zr=Be.winInnerIndices,Vr,jr=Br,Gr=!1,Wr;return _r<zr[0]?(Vr=_r*Br,Wr=Br):_r<=zr[1]?(Vr=Be.axisExpandWindow0Pos+_r*Mr-Be.axisExpandWindow[0],jr=Mr,Gr=!0):(Vr=Dr-($r-1-_r)*Br,Wr=Br),{position:Vr,axisNameAvailableWidth:jr,axisLabelShow:Gr,nameTruncateMaxWidth:Wr}}const Parallel$1=Parallel;function createParallelCoordSys(_r,Be){var Dr=[];return _r.eachComponent("parallel",function(Mr,$r){var Br=new Parallel$1(Mr,_r,Be);Br.name="parallel_"+$r,Br.resize(Mr,Be),Mr.coordinateSystem=Br,Br.model=Mr,Dr.push(Br)}),_r.eachSeries(function(Mr){if(Mr.get("coordinateSystem")==="parallel"){var $r=Mr.getReferringComponents("parallel",SINGLE_REFERRING).models[0];Mr.coordinateSystem=$r.coordinateSystem}}),Dr}var parallelCoordSysCreator={create:createParallelCoordSys};const parallelCoordSysCreator$1=parallelCoordSysCreator;var ParallelAxisModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.activeIntervals=[],Dr}return Be.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},Be.prototype.setActiveIntervals=function(Dr){var Mr=this.activeIntervals=clone$4(Dr);if(Mr)for(var $r=Mr.length-1;$r>=0;$r--)asc$2(Mr[$r])},Be.prototype.getActiveState=function(Dr){var Mr=this.activeIntervals;if(!Mr.length)return"normal";if(Dr==null||isNaN(+Dr))return"inactive";if(Mr.length===1){var $r=Mr[0];if($r[0]<=Dr&&Dr<=$r[1])return"active"}else for(var Br=0,zr=Mr.length;Br<zr;Br++)if(Mr[Br][0]<=Dr&&Dr<=Mr[Br][1])return"active";return"inactive"},Be}(ComponentModel$1);mixin(ParallelAxisModel,AxisModelCommonMixin);const ParallelAxisModel$1=ParallelAxisModel;var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this)||this;return Mr._track=[],Mr._covers=[],Mr._handlers={},Mr._zr=Dr,Mr.group=new Group$4,Mr._uid="brushController_"+baseUID++,each$f(pointerHandlers,function($r,Br){this._handlers[Br]=bind$1($r,this)},Mr),Mr}return Be.prototype.enableBrush=function(Dr){return this._brushType&&this._doDisableBrush(),Dr.brushType&&this._doEnableBrush(Dr),this},Be.prototype._doEnableBrush=function(Dr){var Mr=this._zr;this._enableGlobalPan||take(Mr,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function($r,Br){Mr.on(Br,$r)}),this._brushType=Dr.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),Dr,!0)},Be.prototype._doDisableBrush=function(){var Dr=this._zr;release(Dr,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(Mr,$r){Dr.off($r,Mr)}),this._brushType=this._brushOption=null},Be.prototype.setPanels=function(Dr){if(Dr&&Dr.length){var Mr=this._panels={};each$f(Dr,function($r){Mr[$r.panelId]=clone$4($r)})}else this._panels=null;return this},Be.prototype.mount=function(Dr){Dr=Dr||{},this._enableGlobalPan=Dr.enableGlobalPan;var Mr=this.group;return this._zr.add(Mr),Mr.attr({x:Dr.x||0,y:Dr.y||0,rotation:Dr.rotation||0,scaleX:Dr.scaleX||1,scaleY:Dr.scaleY||1}),this._transform=Mr.getLocalTransform(),this},Be.prototype.updateCovers=function(Dr){Dr=map$1(Dr,function(Zr){return merge(clone$4(DEFAULT_BRUSH_OPT),Zr,!0)});var Mr="\0-brush-index-",$r=this._covers,Br=this._covers=[],zr=this,Vr=this._creatingCover;return new DataDiffer$1($r,Dr,Gr,jr).add(Wr).update(Wr).remove(Kr).execute(),this;function jr(Zr,Jr){return(Zr.id!=null?Zr.id:Mr+Jr)+"-"+Zr.brushType}function Gr(Zr,Jr){return jr(Zr.__brushOption,Jr)}function Wr(Zr,Jr){var rn=Dr[Zr];if(Jr!=null&&$r[Jr]===Vr)Br[Zr]=$r[Jr];else{var nn=Br[Zr]=Jr!=null?($r[Jr].__brushOption=rn,$r[Jr]):endCreating(zr,createCover(zr,rn));updateCoverAfterCreation(zr,nn)}}function Kr(Zr){$r[Zr]!==Vr&&zr.group.remove($r[Zr])}},Be.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},Be.prototype.dispose=function(){this.unmount(),this.off()},Be}(Eventful$1);function createCover(_r,Be){var Dr=coverRenderers[Be.brushType].createCover(_r,Be);return Dr.__brushOption=Be,updateZ$1(Dr,Be),_r.group.add(Dr),Dr}function endCreating(_r,Be){var Dr=getCoverRenderer(Be);return Dr.endCreating&&(Dr.endCreating(_r,Be),updateZ$1(Be,Be.__brushOption)),Be}function updateCoverShape(_r,Be){var Dr=Be.__brushOption;getCoverRenderer(Be).updateCoverShape(_r,Be,Dr.range,Dr)}function updateZ$1(_r,Be){var Dr=Be.z;Dr==null&&(Dr=COVER_Z),_r.traverse(function(Mr){Mr.z=Dr,Mr.z2=Dr})}function updateCoverAfterCreation(_r,Be){getCoverRenderer(Be).updateCommon(_r,Be),updateCoverShape(_r,Be)}function getCoverRenderer(_r){return coverRenderers[_r.__brushOption.brushType]}function getPanelByPoint(_r,Be,Dr){var Mr=_r._panels;if(!Mr)return BRUSH_PANEL_GLOBAL;var $r,Br=_r._transform;return each$f(Mr,function(zr){zr.isTargetByCursor(Be,Dr,Br)&&($r=zr)}),$r}function getPanelByCover(_r,Be){var Dr=_r._panels;if(!Dr)return BRUSH_PANEL_GLOBAL;var Mr=Be.__brushOption.panelId;return Mr!=null?Dr[Mr]:BRUSH_PANEL_GLOBAL}function clearCovers(_r){var Be=_r._covers,Dr=Be.length;return each$f(Be,function(Mr){_r.group.remove(Mr)},_r),Be.length=0,!!Dr}function trigger(_r,Be){var Dr=map$1(_r._covers,function(Mr){var $r=Mr.__brushOption,Br=clone$4($r.range);return{brushType:$r.brushType,panelId:$r.panelId,range:Br}});_r.trigger("brush",{areas:Dr,isEnd:!!Be.isEnd,removeOnClick:!!Be.removeOnClick})}function shouldShowCover(_r){var Be=_r._track;if(!Be.length)return!1;var Dr=Be[Be.length-1],Mr=Be[0],$r=Dr[0]-Mr[0],Br=Dr[1]-Mr[1],zr=mathPow($r*$r+Br*Br,.5);return zr>UNSELECT_THRESHOLD}function getTrackEnds(_r){var Be=_r.length-1;return Be<0&&(Be=0),[_r[0],_r[Be]]}function createBaseRectCover(_r,Be,Dr,Mr){var $r=new Group$4;return $r.add(new Rect$3({name:"main",style:makeStyle(Dr),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,_r,Be,$r,["n","s","w","e"]),ondragend:curry$1(trigger,Be,{isEnd:!0})})),each$f(Mr,function(Br){$r.add(new Rect$3({name:Br.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,_r,Be,$r,Br),ondragend:curry$1(trigger,Be,{isEnd:!0})}))}),$r}function updateBaseRect(_r,Be,Dr,Mr){var $r=Mr.brushStyle.lineWidth||0,Br=mathMax$1($r,MIN_RESIZE_LINE_WIDTH),zr=Dr[0][0],Vr=Dr[1][0],jr=zr-$r/2,Gr=Vr-$r/2,Wr=Dr[0][1],Kr=Dr[1][1],Zr=Wr-Br+$r/2,Jr=Kr-Br+$r/2,rn=Wr-zr,nn=Kr-Vr,ln=rn+$r,cn=nn+$r;updateRectShape(_r,Be,"main",zr,Vr,rn,nn),Mr.transformable&&(updateRectShape(_r,Be,"w",jr,Gr,Br,cn),updateRectShape(_r,Be,"e",Zr,Gr,Br,cn),updateRectShape(_r,Be,"n",jr,Gr,ln,Br),updateRectShape(_r,Be,"s",jr,Jr,ln,Br),updateRectShape(_r,Be,"nw",jr,Gr,Br,Br),updateRectShape(_r,Be,"ne",Zr,Gr,Br,Br),updateRectShape(_r,Be,"sw",jr,Jr,Br,Br),updateRectShape(_r,Be,"se",Zr,Jr,Br,Br))}function updateCommon$1(_r,Be){var Dr=Be.__brushOption,Mr=Dr.transformable,$r=Be.childAt(0);$r.useStyle(makeStyle(Dr)),$r.attr({silent:!Mr,cursor:Mr?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(Br){var zr=Be.childOfName(Br.join("")),Vr=Br.length===1?getGlobalDirection1(_r,Br[0]):getGlobalDirection2(_r,Br);zr&&zr.attr({silent:!Mr,invisible:!Mr,cursor:Mr?CURSOR_MAP[Vr]+"-resize":null})})}function updateRectShape(_r,Be,Dr,Mr,$r,Br,zr){var Vr=Be.childOfName(Dr);Vr&&Vr.setShape(pointsToRect(clipByPanel(_r,Be,[[Mr,$r],[Mr+Br,$r+zr]])))}function makeStyle(_r){return defaults({strokeNoScale:!0},_r.brushStyle)}function formatRectRange(_r,Be,Dr,Mr){var $r=[mathMin$1(_r,Dr),mathMin$1(Be,Mr)],Br=[mathMax$1(_r,Dr),mathMax$1(Be,Mr)];return[[$r[0],Br[0]],[$r[1],Br[1]]]}function getTransform(_r){return getTransform$1(_r.group)}function getGlobalDirection1(_r,Be){var Dr={w:"left",e:"right",n:"top",s:"bottom"},Mr={left:"w",right:"e",top:"n",bottom:"s"},$r=transformDirection(Dr[Be],getTransform(_r));return Mr[$r]}function getGlobalDirection2(_r,Be){var Dr=[getGlobalDirection1(_r,Be[0]),getGlobalDirection1(_r,Be[1])];return(Dr[0]==="e"||Dr[0]==="w")&&Dr.reverse(),Dr.join("")}function driftRect(_r,Be,Dr,Mr,$r,Br){var zr=Dr.__brushOption,Vr=_r.toRectRange(zr.range),jr=toLocalDelta(Be,$r,Br);each$f(Mr,function(Gr){var Wr=DIRECTION_MAP[Gr];Vr[Wr[0]][Wr[1]]+=jr[Wr[0]]}),zr.range=_r.fromRectRange(formatRectRange(Vr[0][0],Vr[1][0],Vr[0][1],Vr[1][1])),updateCoverAfterCreation(Be,Dr),trigger(Be,{isEnd:!1})}function driftPolygon(_r,Be,Dr,Mr){var $r=Be.__brushOption.range,Br=toLocalDelta(_r,Dr,Mr);each$f($r,function(zr){zr[0]+=Br[0],zr[1]+=Br[1]}),updateCoverAfterCreation(_r,Be),trigger(_r,{isEnd:!1})}function toLocalDelta(_r,Be,Dr){var Mr=_r.group,$r=Mr.transformCoordToLocal(Be,Dr),Br=Mr.transformCoordToLocal(0,0);return[$r[0]-Br[0],$r[1]-Br[1]]}function clipByPanel(_r,Be,Dr){var Mr=getPanelByCover(_r,Be);return Mr&&Mr!==BRUSH_PANEL_GLOBAL?Mr.clipPath(Dr,_r._transform):clone$4(Dr)}function pointsToRect(_r){var Be=mathMin$1(_r[0][0],_r[1][0]),Dr=mathMin$1(_r[0][1],_r[1][1]),Mr=mathMax$1(_r[0][0],_r[1][0]),$r=mathMax$1(_r[0][1],_r[1][1]);return{x:Be,y:Dr,width:Mr-Be,height:$r-Dr}}function resetCursor(_r,Be,Dr){if(!(!_r._brushType||isOutsideZrArea(_r,Be.offsetX,Be.offsetY))){var Mr=_r._zr,$r=_r._covers,Br=getPanelByPoint(_r,Be,Dr);if(!_r._dragging)for(var zr=0;zr<$r.length;zr++){var Vr=$r[zr].__brushOption;if(Br&&(Br===BRUSH_PANEL_GLOBAL||Vr.panelId===Br.panelId)&&coverRenderers[Vr.brushType].contain($r[zr],Dr[0],Dr[1]))return}Br&&Mr.setCursorStyle("crosshair")}}function preventDefault(_r){var Be=_r.event;Be.preventDefault&&Be.preventDefault()}function mainShapeContain(_r,Be,Dr){return _r.childOfName("main").contain(Be,Dr)}function updateCoverByMouse(_r,Be,Dr,Mr){var $r=_r._creatingCover,Br=_r._creatingPanel,zr=_r._brushOption,Vr;if(_r._track.push(Dr.slice()),shouldShowCover(_r)||$r){if(Br&&!$r){zr.brushMode==="single"&&clearCovers(_r);var jr=clone$4(zr);jr.brushType=determineBrushType(jr.brushType,Br),jr.panelId=Br===BRUSH_PANEL_GLOBAL?null:Br.panelId,$r=_r._creatingCover=createCover(_r,jr),_r._covers.push($r)}if($r){var Gr=coverRenderers[determineBrushType(_r._brushType,Br)],Wr=$r.__brushOption;Wr.range=Gr.getCreatingRange(clipByPanel(_r,$r,_r._track)),Mr&&(endCreating(_r,$r),Gr.updateCommon(_r,$r)),updateCoverShape(_r,$r),Vr={isEnd:Mr}}}else Mr&&zr.brushMode==="single"&&zr.removeOnClick&&getPanelByPoint(_r,Be,Dr)&&clearCovers(_r)&&(Vr={isEnd:Mr,removeOnClick:!0});return Vr}function determineBrushType(_r,Be){return _r==="auto"?Be.defaultBrushType:_r}var pointerHandlers={mousedown:function(_r){if(this._dragging)handleDragEnd(this,_r);else if(!_r.target||!_r.target.draggable){preventDefault(_r);var Be=this.group.transformCoordToLocal(_r.offsetX,_r.offsetY);this._creatingCover=null;var Dr=this._creatingPanel=getPanelByPoint(this,_r,Be);Dr&&(this._dragging=!0,this._track=[Be.slice()])}},mousemove:function(_r){var Be=_r.offsetX,Dr=_r.offsetY,Mr=this.group.transformCoordToLocal(Be,Dr);if(resetCursor(this,_r,Mr),this._dragging){preventDefault(_r);var $r=updateCoverByMouse(this,_r,Mr,!1);$r&&trigger(this,$r)}},mouseup:function(_r){handleDragEnd(this,_r)}};function handleDragEnd(_r,Be){if(_r._dragging){preventDefault(Be);var Dr=Be.offsetX,Mr=Be.offsetY,$r=_r.group.transformCoordToLocal(Dr,Mr),Br=updateCoverByMouse(_r,Be,$r,!0);_r._dragging=!1,_r._track=[],_r._creatingCover=null,Br&&trigger(_r,Br)}}function isOutsideZrArea(_r,Be,Dr){var Mr=_r._zr;return Be<0||Be>Mr.getWidth()||Dr<0||Dr>Mr.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(_r,Be){function Dr(Mr){return Mr}return createBaseRectCover({toRectRange:Dr,fromRectRange:Dr},_r,Be,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(_r){var Be=getTrackEnds(_r);return formatRectRange(Be[1][0],Be[1][1],Be[0][0],Be[0][1])},updateCoverShape:function(_r,Be,Dr,Mr){updateBaseRect(_r,Be,Dr,Mr)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(_r,Be){var Dr=new Group$4;return Dr.add(new Polyline$3({name:"main",style:makeStyle(Be),silent:!0})),Dr},getCreatingRange:function(_r){return _r},endCreating:function(_r,Be){Be.remove(Be.childAt(0)),Be.add(new Polygon$1({name:"main",draggable:!0,drift:curry$1(driftPolygon,_r,Be),ondragend:curry$1(trigger,_r,{isEnd:!0})}))},updateCoverShape:function(_r,Be,Dr,Mr){Be.childAt(0).setShape({points:clipByPanel(_r,Be,Dr)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(_r){return{createCover:function(Be,Dr){return createBaseRectCover({toRectRange:function(Mr){var $r=[Mr,[0,100]];return _r&&$r.reverse(),$r},fromRectRange:function(Mr){return Mr[_r]}},Be,Dr,[[["w"],["e"]],[["n"],["s"]]][_r])},getCreatingRange:function(Be){var Dr=getTrackEnds(Be),Mr=mathMin$1(Dr[0][_r],Dr[1][_r]),$r=mathMax$1(Dr[0][_r],Dr[1][_r]);return[Mr,$r]},updateCoverShape:function(Be,Dr,Mr,$r){var Br,zr=getPanelByCover(Be,Dr);if(zr!==BRUSH_PANEL_GLOBAL&&zr.getLinearBrushOtherExtent)Br=zr.getLinearBrushOtherExtent(_r);else{var Vr=Be._zr;Br=[0,[Vr.getWidth(),Vr.getHeight()][1-_r]]}var jr=[Mr,Br];_r&&jr.reverse(),updateBaseRect(Be,Dr,jr,$r)},updateCommon:updateCommon$1,contain:mainShapeContain}}const BrushController$1=BrushController;function makeRectPanelClipPath(_r){return _r=normalizeRect(_r),function(Be){return clipPointsByRect(Be,_r)}}function makeLinearBrushOtherExtent(_r,Be){return _r=normalizeRect(_r),function(Dr){var Mr=Be??Dr,$r=Mr?_r.width:_r.height,Br=Mr?_r.x:_r.y;return[Br,Br+($r||0)]}}function makeRectIsTargetByCursor(_r,Be,Dr){var Mr=normalizeRect(_r);return function($r,Br){return Mr.contain(Br[0],Br[1])&&!onIrrelevantElement($r,Be,Dr)}}function normalizeRect(_r){return BoundingRect$1.create(_r)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(Dr,Mr){_r.prototype.init.apply(this,arguments),(this._brushController=new BrushController$1(Mr.getZr())).on("brush",bind$1(this._onBrush,this))},Be.prototype.render=function(Dr,Mr,$r,Br){if(!fromAxisAreaSelect(Dr,Mr,Br)){this.axisModel=Dr,this.api=$r,this.group.removeAll();var zr=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!Dr.get("show")){var Vr=getCoordSysModel(Dr,Mr),jr=Vr.coordinateSystem,Gr=Dr.getAreaSelectStyle(),Wr=Gr.width,Kr=Dr.axis.dim,Zr=jr.getAxisLayout(Kr),Jr=extend$1({strokeContainThreshold:Wr},Zr),rn=new AxisBuilder$1(Dr,Jr);each$f(elementList$1,rn.add,rn),this._axisGroup.add(rn.getGroup()),this._refreshBrushController(Jr,Gr,Dr,Vr,Wr,$r),groupTransition(zr,this._axisGroup,Dr)}}},Be.prototype._refreshBrushController=function(Dr,Mr,$r,Br,zr,Vr){var jr=$r.axis.getExtent(),Gr=jr[1]-jr[0],Wr=Math.min(30,Math.abs(Gr)*.1),Kr=BoundingRect$1.create({x:jr[0],y:-zr/2,width:Gr,height:zr});Kr.x-=Wr,Kr.width+=2*Wr,this._brushController.mount({enableGlobalPan:!0,rotation:Dr.rotation,x:Dr.position[0],y:Dr.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(Kr),isTargetByCursor:makeRectIsTargetByCursor(Kr,Vr,Br),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(Kr,0)}]).enableBrush({brushType:"lineX",brushStyle:Mr,removeOnClick:!0}).updateCovers(getCoverInfoList($r))},Be.prototype._onBrush=function(Dr){var Mr=Dr.areas,$r=this.axisModel,Br=$r.axis,zr=map$1(Mr,function(Vr){return[Br.coordToData(Vr.range[0],!0),Br.coordToData(Vr.range[1],!0)]});(!$r.option.realtime===Dr.isEnd||Dr.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:$r.id,intervals:zr})},Be.prototype.dispose=function(){this._brushController.dispose()},Be.type="parallelAxis",Be}(ComponentView$1);function fromAxisAreaSelect(_r,Be,Dr){return Dr&&Dr.type==="axisAreaSelect"&&Be.findComponents({mainType:"parallelAxis",query:Dr})[0]===_r}function getCoverInfoList(_r){var Be=_r.axis;return map$1(_r.activeIntervals,function(Dr){return{brushType:"lineX",panelId:"pl",range:[Be.dataToCoord(Dr[0],!0),Be.dataToCoord(Dr[1],!0)]}})}function getCoordSysModel(_r,Be){return Be.getComponent("parallel",_r.get("parallelIndex"))}const ParallelAxisView$1=ParallelAxisView;var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(_r){_r.registerAction(actionInfo,function(Be,Dr){Dr.eachComponent({mainType:"parallelAxis",query:Be},function(Mr){Mr.axis.model.setActiveIntervals(Be.intervals)})}),_r.registerAction("parallelAxisExpand",function(Be,Dr){Dr.eachComponent({mainType:"parallel",query:Be},function(Mr){Mr.setAxisExpand(Be)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(_r){_r.registerComponentView(ParallelView$1),_r.registerComponentModel(ParallelModel$1),_r.registerCoordinateSystem("parallel",parallelCoordSysCreator$1),_r.registerPreprocessor(parallelPreprocessor),_r.registerComponentModel(ParallelAxisModel$1),_r.registerComponentView(ParallelAxisView$1),axisModelCreator(_r,"parallel",ParallelAxisModel$1,defaultAxisOption),installParallelActions(_r)}function install$B(_r){use(install$C),_r.registerChartView(ParallelView$3),_r.registerSeriesModel(ParallelSeriesModel$1),_r.registerVisual(_r.PRIORITY.VISUAL.BRUSH,parallelVisual$1)}var SankeyPathShape=function(){function _r(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return _r}(),SankeyPath=function(_r){__extends(Be,_r);function Be(Dr){return _r.call(this,Dr)||this}return Be.prototype.getDefaultShape=function(){return new SankeyPathShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.extent;Dr.moveTo(Mr.x1,Mr.y1),Dr.bezierCurveTo(Mr.cpx1,Mr.cpy1,Mr.cpx2,Mr.cpy2,Mr.x2,Mr.y2),Mr.orient==="vertical"?(Dr.lineTo(Mr.x2+$r,Mr.y2),Dr.bezierCurveTo(Mr.cpx2+$r,Mr.cpy2,Mr.cpx1+$r,Mr.cpy1,Mr.x1+$r,Mr.y1)):(Dr.lineTo(Mr.x2,Mr.y2+$r),Dr.bezierCurveTo(Mr.cpx2,Mr.cpy2+$r,Mr.cpx1,Mr.cpy1+$r,Mr.x1,Mr.y1+$r)),Dr.closePath()},Be.prototype.highlight=function(){enterEmphasis(this)},Be.prototype.downplay=function(){leaveEmphasis(this)},Be}(Path$1),SankeyView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr._focusAdjacencyDisabled=!1,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=this,zr=Dr.getGraph(),Vr=this.group,jr=Dr.layoutInfo,Gr=jr.width,Wr=jr.height,Kr=Dr.getData(),Zr=Dr.getData("edge"),Jr=Dr.get("orient");this._model=Dr,Vr.removeAll(),Vr.x=jr.x,Vr.y=jr.y,zr.eachEdge(function(rn){var nn=new SankeyPath,ln=getECData(nn);ln.dataIndex=rn.dataIndex,ln.seriesIndex=Dr.seriesIndex,ln.dataType="edge";var cn=rn.getModel(),hn=cn.getModel("lineStyle"),mn=hn.get("curveness"),bn=rn.node1.getLayout(),An=rn.node1.getModel(),vn=An.get("localX"),dn=An.get("localY"),wn=rn.node2.getLayout(),xn=rn.node2.getModel(),Mn=xn.get("localX"),In=xn.get("localY"),Hn=rn.getLayout(),$n,jn,Bn,Gn,ei,ri,vi,wi;nn.shape.extent=Math.max(1,Hn.dy),nn.shape.orient=Jr,Jr==="vertical"?($n=(vn!=null?vn*Gr:bn.x)+Hn.sy,jn=(dn!=null?dn*Wr:bn.y)+bn.dy,Bn=(Mn!=null?Mn*Gr:wn.x)+Hn.ty,Gn=In!=null?In*Wr:wn.y,ei=$n,ri=jn*(1-mn)+Gn*mn,vi=Bn,wi=jn*mn+Gn*(1-mn)):($n=(vn!=null?vn*Gr:bn.x)+bn.dx,jn=(dn!=null?dn*Wr:bn.y)+Hn.sy,Bn=Mn!=null?Mn*Gr:wn.x,Gn=(In!=null?In*Wr:wn.y)+Hn.ty,ei=$n*(1-mn)+Bn*mn,ri=jn,vi=$n*mn+Bn*(1-mn),wi=Gn),nn.setShape({x1:$n,y1:jn,x2:Bn,y2:Gn,cpx1:ei,cpy1:ri,cpx2:vi,cpy2:wi}),nn.useStyle(hn.getItemStyle()),applyCurveStyle(nn.style,Jr,rn);var Ni=""+cn.get("value"),Yn=getLabelStatesModels(cn,"edgeLabel");setLabelStyle(nn,Yn,{labelFetcher:{getFormattedLabel:function(Ri,Pi,Fi,zi,oo,lo){return Dr.getFormattedLabel(Ri,Pi,"edge",zi,retrieve3(oo,Yn.normal&&Yn.normal.get("formatter"),Ni),lo)}},labelDataIndex:rn.dataIndex,defaultText:Ni}),nn.setTextConfig({position:"inside"});var Vn=cn.getModel("emphasis");setStatesStylesFromModel(nn,cn,"lineStyle",function(Ri){var Pi=Ri.getItemStyle();return applyCurveStyle(Pi,Jr,rn),Pi}),Vr.add(nn),Zr.setItemGraphicEl(rn.dataIndex,nn);var si=Vn.get("focus");toggleHoverEmphasis(nn,si==="adjacency"?rn.getAdjacentDataIndices():si==="trajectory"?rn.getTrajectoryDataIndices():si,Vn.get("blurScope"),Vn.get("disabled"))}),zr.eachNode(function(rn){var nn=rn.getLayout(),ln=rn.getModel(),cn=ln.get("localX"),hn=ln.get("localY"),mn=ln.getModel("emphasis"),bn=new Rect$3({shape:{x:cn!=null?cn*Gr:nn.x,y:hn!=null?hn*Wr:nn.y,width:nn.dx,height:nn.dy},style:ln.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(bn,getLabelStatesModels(ln),{labelFetcher:{getFormattedLabel:function(vn,dn){return Dr.getFormattedLabel(vn,dn,"node")}},labelDataIndex:rn.dataIndex,defaultText:rn.id}),bn.disableLabelAnimation=!0,bn.setStyle("fill",rn.getVisual("color")),bn.setStyle("decal",rn.getVisual("style").decal),setStatesStylesFromModel(bn,ln),Vr.add(bn),Kr.setItemGraphicEl(rn.dataIndex,bn),getECData(bn).dataType="node";var An=mn.get("focus");toggleHoverEmphasis(bn,An==="adjacency"?rn.getAdjacentDataIndices():An==="trajectory"?rn.getTrajectoryDataIndices():An,mn.get("blurScope"),mn.get("disabled"))}),Kr.eachItemGraphicEl(function(rn,nn){var ln=Kr.getItemModel(nn);ln.get("draggable")&&(rn.drift=function(cn,hn){Br._focusAdjacencyDisabled=!0,this.shape.x+=cn,this.shape.y+=hn,this.dirty(),$r.dispatchAction({type:"dragNode",seriesId:Dr.id,dataIndex:Kr.getRawIndex(nn),localX:this.shape.x/Gr,localY:this.shape.y/Wr})},rn.ondragend=function(){Br._focusAdjacencyDisabled=!1},rn.draggable=!0,rn.cursor="move")}),!this._data&&Dr.isAnimationEnabled()&&Vr.setClipPath(createGridClipShape$1(Vr.getBoundingRect(),Dr,function(){Vr.removeClipPath()})),this._data=Dr.getData()},Be.prototype.dispose=function(){},Be.type="sankey",Be}(ChartView$1);function applyCurveStyle(_r,Be,Dr){switch(_r.fill){case"source":_r.fill=Dr.node1.getVisual("color"),_r.decal=Dr.node1.getVisual("style").decal;break;case"target":_r.fill=Dr.node2.getVisual("color"),_r.decal=Dr.node2.getVisual("style").decal;break;case"gradient":var Mr=Dr.node1.getVisual("color"),$r=Dr.node2.getVisual("color");isString(Mr)&&isString($r)&&(_r.fill=new LinearGradient$1(0,0,+(Be==="horizontal"),+(Be==="vertical"),[{color:Mr,offset:0},{color:$r,offset:1}]))}}function createGridClipShape$1(_r,Be,Dr){var Mr=new Rect$3({shape:{x:_r.x-10,y:_r.y-10,width:0,height:_r.height+20}});return initProps(Mr,{shape:{width:_r.width+20}},Be,Dr),Mr}const SankeyView$1=SankeyView;var SankeySeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.getInitialData=function(Dr,Mr){var $r=Dr.edges||Dr.links,Br=Dr.data||Dr.nodes,zr=Dr.levels;this.levelModels=[];for(var Vr=this.levelModels,jr=0;jr<zr.length;jr++)zr[jr].depth!=null&&zr[jr].depth>=0&&(Vr[zr[jr].depth]=new Model$1(zr[jr],this,Mr));if(Br&&$r){var Gr=createGraphFromNodeEdge(Br,$r,this,!0,Wr);return Gr.data}function Wr(Kr,Zr){Kr.wrapMethod("getItemModel",function(Jr,rn){var nn=Jr.parentModel,ln=nn.getData().getItemLayout(rn);if(ln){var cn=ln.depth,hn=nn.levelModels[cn];hn&&(Jr.parentModel=hn)}return Jr}),Zr.wrapMethod("getItemModel",function(Jr,rn){var nn=Jr.parentModel,ln=nn.getGraph().getEdgeByIndex(rn),cn=ln.node1.getLayout();if(cn){var hn=cn.depth,mn=nn.levelModels[hn];mn&&(Jr.parentModel=mn)}return Jr})}},Be.prototype.setNodePosition=function(Dr,Mr){var $r=this.option.data||this.option.nodes,Br=$r[Dr];Br.localX=Mr[0],Br.localY=Mr[1]},Be.prototype.getGraph=function(){return this.getData().graph},Be.prototype.getEdgeData=function(){return this.getGraph().edgeData},Be.prototype.formatTooltip=function(Dr,Mr,$r){function Br(Jr){return isNaN(Jr)||Jr==null}if($r==="edge"){var zr=this.getDataParams(Dr,$r),Vr=zr.data,jr=zr.value,Gr=Vr.source+" -- "+Vr.target;return createTooltipMarkup("nameValue",{name:Gr,value:jr,noValue:Br(jr)})}else{var Wr=this.getGraph().getNodeByIndex(Dr),Kr=Wr.getLayout().value,Zr=this.getDataParams(Dr,$r).data.name;return createTooltipMarkup("nameValue",{name:Zr!=null?Zr+"":null,value:Kr,noValue:Br(Kr)})}},Be.prototype.optionUpdated=function(){},Be.prototype.getDataParams=function(Dr,Mr){var $r=_r.prototype.getDataParams.call(this,Dr,Mr);if($r.value==null&&Mr==="node"){var Br=this.getGraph().getNodeByIndex(Dr),zr=Br.getLayout().value;$r.value=zr}return $r},Be.type="series.sankey",Be.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},Be}(SeriesModel$1);const SankeySeriesModel$1=SankeySeriesModel;function sankeyLayout(_r,Be){_r.eachSeriesByType("sankey",function(Dr){var Mr=Dr.get("nodeWidth"),$r=Dr.get("nodeGap"),Br=getViewRect$1(Dr,Be);Dr.layoutInfo=Br;var zr=Br.width,Vr=Br.height,jr=Dr.getGraph(),Gr=jr.nodes,Wr=jr.edges;computeNodeValues(Gr);var Kr=filter(Gr,function(nn){return nn.getLayout().value===0}),Zr=Kr.length!==0?0:Dr.get("layoutIterations"),Jr=Dr.get("orient"),rn=Dr.get("nodeAlign");layoutSankey(Gr,Wr,Mr,$r,zr,Vr,Zr,Jr,rn)})}function getViewRect$1(_r,Be){return getLayoutRect(_r.getBoxLayoutParams(),{width:Be.getWidth(),height:Be.getHeight()})}function layoutSankey(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr){computeNodeBreadths(_r,Be,Dr,$r,Br,Vr,jr),computeNodeDepths(_r,Be,Br,$r,Mr,zr,Vr),computeEdgeDepths(_r,Vr)}function computeNodeValues(_r){each$f(_r,function(Be){var Dr=sum(Be.outEdges,getEdgeValue),Mr=sum(Be.inEdges,getEdgeValue),$r=Be.getValue()||0,Br=Math.max(Dr,Mr,$r);Be.setLayout({value:Br},!0)})}function computeNodeBreadths(_r,Be,Dr,Mr,$r,Br,zr){for(var Vr=[],jr=[],Gr=[],Wr=[],Kr=0,Zr=0;Zr<Be.length;Zr++)Vr[Zr]=1;for(var Zr=0;Zr<_r.length;Zr++)jr[Zr]=_r[Zr].inEdges.length,jr[Zr]===0&&Gr.push(_r[Zr]);for(var Jr=-1;Gr.length;){for(var rn=0;rn<Gr.length;rn++){var nn=Gr[rn],ln=nn.hostGraph.data.getRawDataItem(nn.dataIndex),cn=ln.depth!=null&&ln.depth>=0;cn&&ln.depth>Jr&&(Jr=ln.depth),nn.setLayout({depth:cn?ln.depth:Kr},!0),Br==="vertical"?nn.setLayout({dy:Dr},!0):nn.setLayout({dx:Dr},!0);for(var hn=0;hn<nn.outEdges.length;hn++){var mn=nn.outEdges[hn],bn=Be.indexOf(mn);Vr[bn]=0;var An=mn.node2,vn=_r.indexOf(An);--jr[vn]===0&&Wr.indexOf(An)<0&&Wr.push(An)}}++Kr,Gr=Wr,Wr=[]}for(var Zr=0;Zr<Vr.length;Zr++)if(Vr[Zr]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var dn=Jr>Kr-1?Jr:Kr-1;zr&&zr!=="left"&&adjustNodeWithNodeAlign(_r,zr,Br,dn);var wn=Br==="vertical"?($r-Dr)/dn:(Mr-Dr)/dn;scaleNodeBreadths(_r,wn,Br)}function isNodeDepth(_r){var Be=_r.hostGraph.data.getRawDataItem(_r.dataIndex);return Be.depth!=null&&Be.depth>=0}function adjustNodeWithNodeAlign(_r,Be,Dr,Mr){if(Be==="right"){for(var $r=[],Br=_r,zr=0;Br.length;){for(var Vr=0;Vr<Br.length;Vr++){var jr=Br[Vr];jr.setLayout({skNodeHeight:zr},!0);for(var Gr=0;Gr<jr.inEdges.length;Gr++){var Wr=jr.inEdges[Gr];$r.indexOf(Wr.node1)<0&&$r.push(Wr.node1)}}Br=$r,$r=[],++zr}each$f(_r,function(Kr){isNodeDepth(Kr)||Kr.setLayout({depth:Math.max(0,Mr-Kr.getLayout().skNodeHeight)},!0)})}else Be==="justify"&&moveSinksRight(_r,Mr)}function moveSinksRight(_r,Be){each$f(_r,function(Dr){!isNodeDepth(Dr)&&!Dr.outEdges.length&&Dr.setLayout({depth:Be},!0)})}function scaleNodeBreadths(_r,Be,Dr){each$f(_r,function(Mr){var $r=Mr.getLayout().depth*Be;Dr==="vertical"?Mr.setLayout({y:$r},!0):Mr.setLayout({x:$r},!0)})}function computeNodeDepths(_r,Be,Dr,Mr,$r,Br,zr){var Vr=prepareNodesByBreadth(_r,zr);initializeNodeDepth(Vr,Be,Dr,Mr,$r,zr),resolveCollisions(Vr,$r,Dr,Mr,zr);for(var jr=1;Br>0;Br--)jr*=.99,relaxRightToLeft(Vr,jr,zr),resolveCollisions(Vr,$r,Dr,Mr,zr),relaxLeftToRight(Vr,jr,zr),resolveCollisions(Vr,$r,Dr,Mr,zr)}function prepareNodesByBreadth(_r,Be){var Dr=[],Mr=Be==="vertical"?"y":"x",$r=groupData(_r,function(Br){return Br.getLayout()[Mr]});return $r.keys.sort(function(Br,zr){return Br-zr}),each$f($r.keys,function(Br){Dr.push($r.buckets.get(Br))}),Dr}function initializeNodeDepth(_r,Be,Dr,Mr,$r,Br){var zr=1/0;each$f(_r,function(Vr){var jr=Vr.length,Gr=0;each$f(Vr,function(Kr){Gr+=Kr.getLayout().value});var Wr=Br==="vertical"?(Mr-(jr-1)*$r)/Gr:(Dr-(jr-1)*$r)/Gr;Wr<zr&&(zr=Wr)}),each$f(_r,function(Vr){each$f(Vr,function(jr,Gr){var Wr=jr.getLayout().value*zr;Br==="vertical"?(jr.setLayout({x:Gr},!0),jr.setLayout({dx:Wr},!0)):(jr.setLayout({y:Gr},!0),jr.setLayout({dy:Wr},!0))})}),each$f(Be,function(Vr){var jr=+Vr.getValue()*zr;Vr.setLayout({dy:jr},!0)})}function resolveCollisions(_r,Be,Dr,Mr,$r){var Br=$r==="vertical"?"x":"y";each$f(_r,function(zr){zr.sort(function(nn,ln){return nn.getLayout()[Br]-ln.getLayout()[Br]});for(var Vr,jr,Gr,Wr=0,Kr=zr.length,Zr=$r==="vertical"?"dx":"dy",Jr=0;Jr<Kr;Jr++)jr=zr[Jr],Gr=Wr-jr.getLayout()[Br],Gr>0&&(Vr=jr.getLayout()[Br]+Gr,$r==="vertical"?jr.setLayout({x:Vr},!0):jr.setLayout({y:Vr},!0)),Wr=jr.getLayout()[Br]+jr.getLayout()[Zr]+Be;var rn=$r==="vertical"?Mr:Dr;if(Gr=Wr-Be-rn,Gr>0){Vr=jr.getLayout()[Br]-Gr,$r==="vertical"?jr.setLayout({x:Vr},!0):jr.setLayout({y:Vr},!0),Wr=Vr;for(var Jr=Kr-2;Jr>=0;--Jr)jr=zr[Jr],Gr=jr.getLayout()[Br]+jr.getLayout()[Zr]+Be-Wr,Gr>0&&(Vr=jr.getLayout()[Br]-Gr,$r==="vertical"?jr.setLayout({x:Vr},!0):jr.setLayout({y:Vr},!0)),Wr=jr.getLayout()[Br]}})}function relaxRightToLeft(_r,Be,Dr){each$f(_r.slice().reverse(),function(Mr){each$f(Mr,function($r){if($r.outEdges.length){var Br=sum($r.outEdges,weightedTarget,Dr)/sum($r.outEdges,getEdgeValue);if(isNaN(Br)){var zr=$r.outEdges.length;Br=zr?sum($r.outEdges,centerTarget,Dr)/zr:0}if(Dr==="vertical"){var Vr=$r.getLayout().x+(Br-center($r,Dr))*Be;$r.setLayout({x:Vr},!0)}else{var jr=$r.getLayout().y+(Br-center($r,Dr))*Be;$r.setLayout({y:jr},!0)}}})})}function weightedTarget(_r,Be){return center(_r.node2,Be)*_r.getValue()}function centerTarget(_r,Be){return center(_r.node2,Be)}function weightedSource(_r,Be){return center(_r.node1,Be)*_r.getValue()}function centerSource(_r,Be){return center(_r.node1,Be)}function center(_r,Be){return Be==="vertical"?_r.getLayout().x+_r.getLayout().dx/2:_r.getLayout().y+_r.getLayout().dy/2}function getEdgeValue(_r){return _r.getValue()}function sum(_r,Be,Dr){for(var Mr=0,$r=_r.length,Br=-1;++Br<$r;){var zr=+Be(_r[Br],Dr);isNaN(zr)||(Mr+=zr)}return Mr}function relaxLeftToRight(_r,Be,Dr){each$f(_r,function(Mr){each$f(Mr,function($r){if($r.inEdges.length){var Br=sum($r.inEdges,weightedSource,Dr)/sum($r.inEdges,getEdgeValue);if(isNaN(Br)){var zr=$r.inEdges.length;Br=zr?sum($r.inEdges,centerSource,Dr)/zr:0}if(Dr==="vertical"){var Vr=$r.getLayout().x+(Br-center($r,Dr))*Be;$r.setLayout({x:Vr},!0)}else{var jr=$r.getLayout().y+(Br-center($r,Dr))*Be;$r.setLayout({y:jr},!0)}}})})}function computeEdgeDepths(_r,Be){var Dr=Be==="vertical"?"x":"y";each$f(_r,function(Mr){Mr.outEdges.sort(function($r,Br){return $r.node2.getLayout()[Dr]-Br.node2.getLayout()[Dr]}),Mr.inEdges.sort(function($r,Br){return $r.node1.getLayout()[Dr]-Br.node1.getLayout()[Dr]})}),each$f(_r,function(Mr){var $r=0,Br=0;each$f(Mr.outEdges,function(zr){zr.setLayout({sy:$r},!0),$r+=zr.getLayout().dy}),each$f(Mr.inEdges,function(zr){zr.setLayout({ty:Br},!0),Br+=zr.getLayout().dy})})}function sankeyVisual(_r){_r.eachSeriesByType("sankey",function(Be){var Dr=Be.getGraph(),Mr=Dr.nodes,$r=Dr.edges;if(Mr.length){var Br=1/0,zr=-1/0;each$f(Mr,function(Vr){var jr=Vr.getLayout().value;jr<Br&&(Br=jr),jr>zr&&(zr=jr)}),each$f(Mr,function(Vr){var jr=new VisualMapping$1({type:"color",mappingMethod:"linear",dataExtent:[Br,zr],visual:Be.get("color")}),Gr=jr.mapValueToVisual(Vr.getLayout().value),Wr=Vr.getModel().get(["itemStyle","color"]);Wr!=null?(Vr.setVisual("color",Wr),Vr.setVisual("style",{fill:Wr})):(Vr.setVisual("color",Gr),Vr.setVisual("style",{fill:Gr}))})}$r.length&&each$f($r,function(Vr){var jr=Vr.getModel().get("lineStyle");Vr.setVisual("style",jr)})})}function install$A(_r){_r.registerChartView(SankeyView$1),_r.registerSeriesModel(SankeySeriesModel$1),_r.registerLayout(sankeyLayout),_r.registerVisual(sankeyVisual),_r.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(Be,Dr){Dr.eachComponent({mainType:"series",subType:"sankey",query:Be},function(Mr){Mr.setNodePosition(Be.dataIndex,[Be.localX,Be.localY])})})}var WhiskerBoxCommonMixin=function(){function _r(){}return _r.prototype.getInitialData=function(Be,Dr){var Mr,$r=Dr.getComponent("xAxis",this.get("xAxisIndex")),Br=Dr.getComponent("yAxis",this.get("yAxisIndex")),zr=$r.get("type"),Vr=Br.get("type"),jr;zr==="category"?(Be.layout="horizontal",Mr=$r.getOrdinalMeta(),jr=!0):Vr==="category"?(Be.layout="vertical",Mr=Br.getOrdinalMeta(),jr=!0):Be.layout=Be.layout||"horizontal";var Gr=["x","y"],Wr=Be.layout==="horizontal"?0:1,Kr=this._baseAxisDim=Gr[Wr],Zr=Gr[1-Wr],Jr=[$r,Br],rn=Jr[Wr].get("type"),nn=Jr[1-Wr].get("type"),ln=Be.data;if(ln&&jr){var cn=[];each$f(ln,function(bn,An){var vn;isArray$1(bn)?(vn=bn.slice(),bn.unshift(An)):isArray$1(bn.value)?(vn=extend$1({},bn),vn.value=vn.value.slice(),bn.value.unshift(An)):vn=bn,cn.push(vn)}),Be.data=cn}var hn=this.defaultValueDimensions,mn=[{name:Kr,type:getDimensionTypeByAxis(rn),ordinalMeta:Mr,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:Zr,type:getDimensionTypeByAxis(nn),dimsDef:hn.slice()}];return createSeriesDataSimply(this,{coordDimensions:mn,dimensionsCount:hn.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,mn,this)})},_r.prototype.getBaseAxis=function(){var Be=this._baseAxisDim;return this.ecModel.getComponent(Be+"Axis",this.get(Be+"AxisIndex")).axis},_r}(),BoxplotSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],Dr.visualDrawType="stroke",Dr}return Be.type="series.boxplot",Be.dependencies=["xAxis","yAxis","grid"],Be.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},Be}(SeriesModel$1);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);const BoxplotSeriesModel$1=BoxplotSeriesModel;var BoxplotView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=Dr.getData(),zr=this.group,Vr=this._data;this._data||zr.removeAll();var jr=Dr.get("layout")==="horizontal"?1:0;Br.diff(Vr).add(function(Gr){if(Br.hasValue(Gr)){var Wr=Br.getItemLayout(Gr),Kr=createNormalBox$1(Wr,Br,Gr,jr,!0);Br.setItemGraphicEl(Gr,Kr),zr.add(Kr)}}).update(function(Gr,Wr){var Kr=Vr.getItemGraphicEl(Wr);if(!Br.hasValue(Gr)){zr.remove(Kr);return}var Zr=Br.getItemLayout(Gr);Kr?(saveOldStyle(Kr),updateNormalBoxData(Zr,Kr,Br,Gr)):Kr=createNormalBox$1(Zr,Br,Gr,jr),zr.add(Kr),Br.setItemGraphicEl(Gr,Kr)}).remove(function(Gr){var Wr=Vr.getItemGraphicEl(Gr);Wr&&zr.remove(Wr)}).execute(),this._data=Br},Be.prototype.remove=function(Dr){var Mr=this.group,$r=this._data;this._data=null,$r&&$r.eachItemGraphicEl(function(Br){Br&&Mr.remove(Br)})},Be.type="boxplot",Be}(ChartView$1),BoxPathShape=function(){function _r(){}return _r}(),BoxPath=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="boxplotBoxPath",Mr}return Be.prototype.getDefaultShape=function(){return new BoxPathShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.points,Br=0;for(Dr.moveTo($r[Br][0],$r[Br][1]),Br++;Br<4;Br++)Dr.lineTo($r[Br][0],$r[Br][1]);for(Dr.closePath();Br<$r.length;Br++)Dr.moveTo($r[Br][0],$r[Br][1]),Br++,Dr.lineTo($r[Br][0],$r[Br][1])},Be}(Path$1);function createNormalBox$1(_r,Be,Dr,Mr,$r){var Br=_r.ends,zr=new BoxPath({shape:{points:$r?transInit$1(Br,Mr,_r):Br}});return updateNormalBoxData(_r,zr,Be,Dr,$r),zr}function updateNormalBoxData(_r,Be,Dr,Mr,$r){var Br=Dr.hostModel,zr=graphic$1[$r?"initProps":"updateProps"];zr(Be,{shape:{points:_r.ends}},Br,Mr),Be.useStyle(Dr.getItemVisual(Mr,"style")),Be.style.strokeNoScale=!0,Be.z2=100;var Vr=Dr.getItemModel(Mr),jr=Vr.getModel("emphasis");setStatesStylesFromModel(Be,Vr),toggleHoverEmphasis(Be,jr.get("focus"),jr.get("blurScope"),jr.get("disabled"))}function transInit$1(_r,Be,Dr){return map$1(_r,function(Mr){return Mr=Mr.slice(),Mr[Be]=Dr.initBaseline,Mr})}const BoxplotView$1=BoxplotView;var each$9=each$f;function boxplotLayout(_r){var Be=groupSeriesByAxis(_r);each$9(Be,function(Dr){var Mr=Dr.seriesModels;Mr.length&&(calculateBase(Dr),each$9(Mr,function($r,Br){layoutSingleSeries($r,Dr.boxOffsetList[Br],Dr.boxWidthList[Br])}))})}function groupSeriesByAxis(_r){var Be=[],Dr=[];return _r.eachSeriesByType("boxplot",function(Mr){var $r=Mr.getBaseAxis(),Br=indexOf(Dr,$r);Br<0&&(Br=Dr.length,Dr[Br]=$r,Be[Br]={axis:$r,seriesModels:[]}),Be[Br].seriesModels.push(Mr)}),Be}function calculateBase(_r){var Be=_r.axis,Dr=_r.seriesModels,Mr=Dr.length,$r=_r.boxWidthList=[],Br=_r.boxOffsetList=[],zr=[],Vr;if(Be.type==="category")Vr=Be.getBandWidth();else{var jr=0;each$9(Dr,function(rn){jr=Math.max(jr,rn.getData().count())});var Gr=Be.getExtent();Vr=Math.abs(Gr[1]-Gr[0])/jr}each$9(Dr,function(rn){var nn=rn.get("boxWidth");isArray$1(nn)||(nn=[nn,nn]),zr.push([parsePercent(nn[0],Vr)||0,parsePercent(nn[1],Vr)||0])});var Wr=Vr*.8-2,Kr=Wr/Mr*.3,Zr=(Wr-Kr*(Mr-1))/Mr,Jr=Zr/2-Wr/2;each$9(Dr,function(rn,nn){Br.push(Jr),Jr+=Kr+Zr,$r.push(Math.min(Math.max(Zr,zr[nn][0]),zr[nn][1]))})}function layoutSingleSeries(_r,Be,Dr){var Mr=_r.coordinateSystem,$r=_r.getData(),Br=Dr/2,zr=_r.get("layout")==="horizontal"?0:1,Vr=1-zr,jr=["x","y"],Gr=$r.mapDimension(jr[zr]),Wr=$r.mapDimensionsAll(jr[Vr]);if(Gr==null||Wr.length<5)return;for(var Kr=0;Kr<$r.count();Kr++){var Zr=$r.get(Gr,Kr),Jr=mn(Zr,Wr[2],Kr),rn=mn(Zr,Wr[0],Kr),nn=mn(Zr,Wr[1],Kr),ln=mn(Zr,Wr[3],Kr),cn=mn(Zr,Wr[4],Kr),hn=[];bn(hn,nn,!1),bn(hn,ln,!0),hn.push(rn,nn,cn,ln),An(hn,rn),An(hn,cn),An(hn,Jr),$r.setItemLayout(Kr,{initBaseline:Jr[Vr],ends:hn})}function mn(vn,dn,wn){var xn=$r.get(dn,wn),Mn=[];Mn[zr]=vn,Mn[Vr]=xn;var In;return isNaN(vn)||isNaN(xn)?In=[NaN,NaN]:(In=Mr.dataToPoint(Mn),In[zr]+=Be),In}function bn(vn,dn,wn){var xn=dn.slice(),Mn=dn.slice();xn[zr]+=Br,Mn[zr]-=Br,wn?vn.push(xn,Mn):vn.push(Mn,xn)}function An(vn,dn){var wn=dn.slice(),xn=dn.slice();wn[zr]-=Br,xn[zr]+=Br,vn.push(wn,xn)}}function prepareBoxplotData(_r,Be){Be=Be||{};for(var Dr=[],Mr=[],$r=Be.boundIQR,Br=$r==="none"||$r===0,zr=0;zr<_r.length;zr++){var Vr=asc$2(_r[zr].slice()),jr=quantile(Vr,.25),Gr=quantile(Vr,.5),Wr=quantile(Vr,.75),Kr=Vr[0],Zr=Vr[Vr.length-1],Jr=($r??1.5)*(Wr-jr),rn=Br?Kr:Math.max(Kr,jr-Jr),nn=Br?Zr:Math.min(Zr,Wr+Jr),ln=Be.itemNameFormatter,cn=isFunction(ln)?ln({value:zr}):isString(ln)?ln.replace("{value}",zr+""):zr+"";Dr.push([cn,rn,jr,Gr,Wr,nn]);for(var hn=0;hn<Vr.length;hn++){var mn=Vr[hn];if(mn<rn||mn>nn){var bn=[cn,mn];Mr.push(bn)}}}return{boxData:Dr,outliers:Mr}}var boxplotTransform={type:"echarts:boxplot",transform:function(Be){var Dr=Be.upstream;if(Dr.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var Mr="";throwError(Mr)}var $r=prepareBoxplotData(Dr.getRawData(),Be.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:$r.boxData},{data:$r.outliers}]}};function install$z(_r){_r.registerSeriesModel(BoxplotSeriesModel$1),_r.registerChartView(BoxplotView$1),_r.registerLayout(boxplotLayout),_r.registerTransform(boxplotTransform)}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(Dr),this._isLargeDraw?this._renderLarge(Dr):this._renderNormal(Dr)},Be.prototype.incrementalPrepareRender=function(Dr,Mr,$r){this._clear(),this._updateDrawMode(Dr)},Be.prototype.incrementalRender=function(Dr,Mr,$r,Br){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(Dr,Mr):this._incrementalRenderNormal(Dr,Mr)},Be.prototype.eachRendered=function(Dr){traverseElements(this._progressiveEls||this.group,Dr)},Be.prototype._updateDrawMode=function(Dr){var Mr=Dr.pipelineContext.large;(this._isLargeDraw==null||Mr!==this._isLargeDraw)&&(this._isLargeDraw=Mr,this._clear())},Be.prototype._renderNormal=function(Dr){var Mr=Dr.getData(),$r=this._data,Br=this.group,zr=Mr.getLayout("isSimpleBox"),Vr=Dr.get("clip",!0),jr=Dr.coordinateSystem,Gr=jr.getArea&&jr.getArea();this._data||Br.removeAll(),Mr.diff($r).add(function(Wr){if(Mr.hasValue(Wr)){var Kr=Mr.getItemLayout(Wr);if(Vr&&isNormalBoxClipped(Gr,Kr))return;var Zr=createNormalBox(Kr,Wr,!0);initProps(Zr,{shape:{points:Kr.ends}},Dr,Wr),setBoxCommon(Zr,Mr,Wr,zr),Br.add(Zr),Mr.setItemGraphicEl(Wr,Zr)}}).update(function(Wr,Kr){var Zr=$r.getItemGraphicEl(Kr);if(!Mr.hasValue(Wr)){Br.remove(Zr);return}var Jr=Mr.getItemLayout(Wr);if(Vr&&isNormalBoxClipped(Gr,Jr)){Br.remove(Zr);return}Zr?(updateProps$1(Zr,{shape:{points:Jr.ends}},Dr,Wr),saveOldStyle(Zr)):Zr=createNormalBox(Jr),setBoxCommon(Zr,Mr,Wr,zr),Br.add(Zr),Mr.setItemGraphicEl(Wr,Zr)}).remove(function(Wr){var Kr=$r.getItemGraphicEl(Wr);Kr&&Br.remove(Kr)}).execute(),this._data=Mr},Be.prototype._renderLarge=function(Dr){this._clear(),createLarge(Dr,this.group);var Mr=Dr.get("clip",!0)?createClipPath(Dr.coordinateSystem,!1,Dr):null;Mr?this.group.setClipPath(Mr):this.group.removeClipPath()},Be.prototype._incrementalRenderNormal=function(Dr,Mr){for(var $r=Mr.getData(),Br=$r.getLayout("isSimpleBox"),zr;(zr=Dr.next())!=null;){var Vr=$r.getItemLayout(zr),jr=createNormalBox(Vr);setBoxCommon(jr,$r,zr,Br),jr.incremental=!0,this.group.add(jr),this._progressiveEls.push(jr)}},Be.prototype._incrementalRenderLarge=function(Dr,Mr){createLarge(Mr,this.group,this._progressiveEls,!0)},Be.prototype.remove=function(Dr){this._clear()},Be.prototype._clear=function(){this.group.removeAll(),this._data=null},Be.type="candlestick",Be}(ChartView$1),NormalBoxPathShape=function(){function _r(){}return _r}(),NormalBoxPath=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="normalCandlestickBox",Mr}return Be.prototype.getDefaultShape=function(){return new NormalBoxPathShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.points;this.__simpleBox?(Dr.moveTo($r[4][0],$r[4][1]),Dr.lineTo($r[6][0],$r[6][1])):(Dr.moveTo($r[0][0],$r[0][1]),Dr.lineTo($r[1][0],$r[1][1]),Dr.lineTo($r[2][0],$r[2][1]),Dr.lineTo($r[3][0],$r[3][1]),Dr.closePath(),Dr.moveTo($r[4][0],$r[4][1]),Dr.lineTo($r[5][0],$r[5][1]),Dr.moveTo($r[6][0],$r[6][1]),Dr.lineTo($r[7][0],$r[7][1]))},Be}(Path$1);function createNormalBox(_r,Be,Dr){var Mr=_r.ends;return new NormalBoxPath({shape:{points:Dr?transInit(Mr,_r):Mr},z2:100})}function isNormalBoxClipped(_r,Be){for(var Dr=!0,Mr=0;Mr<Be.ends.length;Mr++)if(_r.contain(Be.ends[Mr][0],Be.ends[Mr][1])){Dr=!1;break}return Dr}function setBoxCommon(_r,Be,Dr,Mr){var $r=Be.getItemModel(Dr);_r.useStyle(Be.getItemVisual(Dr,"style")),_r.style.strokeNoScale=!0,_r.__simpleBox=Mr,setStatesStylesFromModel(_r,$r)}function transInit(_r,Be){return map$1(_r,function(Dr){return Dr=Dr.slice(),Dr[1]=Be.initBaseline,Dr})}var LargeBoxPathShape=function(){function _r(){}return _r}(),LargeBoxPath=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr.type="largeCandlestickBox",Mr}return Be.prototype.getDefaultShape=function(){return new LargeBoxPathShape},Be.prototype.buildPath=function(Dr,Mr){for(var $r=Mr.points,Br=0;Br<$r.length;)if(this.__sign===$r[Br++]){var zr=$r[Br++];Dr.moveTo(zr,$r[Br++]),Dr.lineTo(zr,$r[Br++])}else Br+=3},Be}(Path$1);function createLarge(_r,Be,Dr,Mr){var $r=_r.getData(),Br=$r.getLayout("largePoints"),zr=new LargeBoxPath({shape:{points:Br},__sign:1,ignoreCoarsePointer:!0});Be.add(zr);var Vr=new LargeBoxPath({shape:{points:Br},__sign:-1,ignoreCoarsePointer:!0});Be.add(Vr);var jr=new LargeBoxPath({shape:{points:Br},__sign:0,ignoreCoarsePointer:!0});Be.add(jr),setLargeStyle(1,zr,_r),setLargeStyle(-1,Vr,_r),setLargeStyle(0,jr,_r),Mr&&(zr.incremental=!0,Vr.incremental=!0),Dr&&Dr.push(zr,Vr)}function setLargeStyle(_r,Be,Dr,Mr){var $r=Dr.get(["itemStyle",_r>0?"borderColor":"borderColor0"])||Dr.get(["itemStyle",_r>0?"color":"color0"]);_r===0&&($r=Dr.get(["itemStyle","borderColorDoji"]));var Br=Dr.getModel("itemStyle").getItemStyle(SKIP_PROPS);Be.useStyle(Br),Be.style.fill=null,Be.style.stroke=$r}const CandlestickView$1=CandlestickView;var CandlestickSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],Dr}return Be.prototype.getShadowDim=function(){return"open"},Be.prototype.brushSelector=function(Dr,Mr,$r){var Br=Mr.getItemLayout(Dr);return Br&&$r.rect(Br.brushRect)},Be.type="series.candlestick",Be.dependencies=["xAxis","yAxis","grid"],Be.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},Be}(SeriesModel$1);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);const CandlestickSeriesModel$1=CandlestickSeriesModel;function candlestickPreprocessor(_r){!_r||!isArray$1(_r.series)||each$f(_r.series,function(Be){isObject$3(Be)&&Be.type==="k"&&(Be.type="candlestick")})}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(_r,Be){function Dr(Br,zr){return zr.get(Br>0?positiveColorQuery:negativeColorQuery)}function Mr(Br,zr){return zr.get(Br===0?dojiBorderColorQuery:Br>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!Be.isSeriesFiltered(_r)){var $r=_r.pipelineContext.large;return!$r&&{progress:function(Br,zr){for(var Vr;(Vr=Br.next())!=null;){var jr=zr.getItemModel(Vr),Gr=zr.getItemLayout(Vr).sign,Wr=jr.getItemStyle();Wr.fill=Dr(Gr,jr),Wr.stroke=Mr(Gr,jr)||Wr.fill;var Kr=zr.ensureUniqueItemVisual(Vr,"style");extend$1(Kr,Wr)}}}}}};const candlestickVisual$1=candlestickVisual;var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(_r){var Be=_r.coordinateSystem,Dr=_r.getData(),Mr=calculateCandleWidth(_r,Dr),$r=0,Br=1,zr=["x","y"],Vr=Dr.getDimensionIndex(Dr.mapDimension(zr[$r])),jr=map$1(Dr.mapDimensionsAll(zr[Br]),Dr.getDimensionIndex,Dr),Gr=jr[0],Wr=jr[1],Kr=jr[2],Zr=jr[3];if(Dr.setLayout({candleWidth:Mr,isSimpleBox:Mr<=1.3}),Vr<0||jr.length<4)return;return{progress:_r.pipelineContext.large?rn:Jr};function Jr(nn,ln){for(var cn,hn=ln.getStore();(cn=nn.next())!=null;){var mn=hn.get(Vr,cn),bn=hn.get(Gr,cn),An=hn.get(Wr,cn),vn=hn.get(Kr,cn),dn=hn.get(Zr,cn),wn=Math.min(bn,An),xn=Math.max(bn,An),Mn=ei(wn,mn),In=ei(xn,mn),Hn=ei(vn,mn),$n=ei(dn,mn),jn=[];ri(jn,In,0),ri(jn,Mn,1),jn.push(wi($n),wi(In),wi(Hn),wi(Mn));var Bn=ln.getItemModel(cn),Gn=!!Bn.get(["itemStyle","borderColorDoji"]);ln.setItemLayout(cn,{sign:getSign(hn,cn,bn,An,Wr,Gn),initBaseline:bn>An?In[Br]:Mn[Br],ends:jn,brushRect:vi(vn,dn,mn)})}function ei(Ni,Yn){var Vn=[];return Vn[$r]=Yn,Vn[Br]=Ni,isNaN(Yn)||isNaN(Ni)?[NaN,NaN]:Be.dataToPoint(Vn)}function ri(Ni,Yn,Vn){var si=Yn.slice(),Ri=Yn.slice();si[$r]=subPixelOptimize(si[$r]+Mr/2,1,!1),Ri[$r]=subPixelOptimize(Ri[$r]-Mr/2,1,!0),Vn?Ni.push(si,Ri):Ni.push(Ri,si)}function vi(Ni,Yn,Vn){var si=ei(Ni,Vn),Ri=ei(Yn,Vn);return si[$r]-=Mr/2,Ri[$r]-=Mr/2,{x:si[0],y:si[1],width:Mr,height:Ri[1]-si[1]}}function wi(Ni){return Ni[$r]=subPixelOptimize(Ni[$r],1),Ni}}function rn(nn,ln){for(var cn=createFloat32Array(nn.count*4),hn=0,mn,bn=[],An=[],vn,dn=ln.getStore(),wn=!!_r.get(["itemStyle","borderColorDoji"]);(vn=nn.next())!=null;){var xn=dn.get(Vr,vn),Mn=dn.get(Gr,vn),In=dn.get(Wr,vn),Hn=dn.get(Kr,vn),$n=dn.get(Zr,vn);if(isNaN(xn)||isNaN(Hn)||isNaN($n)){cn[hn++]=NaN,hn+=3;continue}cn[hn++]=getSign(dn,vn,Mn,In,Wr,wn),bn[$r]=xn,bn[Br]=Hn,mn=Be.dataToPoint(bn,null,An),cn[hn++]=mn?mn[0]:NaN,cn[hn++]=mn?mn[1]:NaN,bn[Br]=$n,mn=Be.dataToPoint(bn,null,An),cn[hn++]=mn?mn[1]:NaN}ln.setLayout("largePoints",cn)}}};function getSign(_r,Be,Dr,Mr,$r,Br){var zr;return Dr>Mr?zr=-1:Dr<Mr?zr=1:zr=Br?0:Be>0?_r.get($r,Be-1)<=Mr?1:-1:1,zr}function calculateCandleWidth(_r,Be){var Dr=_r.getBaseAxis(),Mr,$r=Dr.type==="category"?Dr.getBandWidth():(Mr=Dr.getExtent(),Math.abs(Mr[1]-Mr[0])/Be.count()),Br=parsePercent(retrieve2(_r.get("barMaxWidth"),$r),$r),zr=parsePercent(retrieve2(_r.get("barMinWidth"),1),$r),Vr=_r.get("barWidth");return Vr!=null?parsePercent(Vr,$r):Math.max(Math.min($r/2,Br),zr)}const candlestickLayout$1=candlestickLayout;function install$y(_r){_r.registerChartView(CandlestickView$1),_r.registerSeriesModel(CandlestickSeriesModel$1),_r.registerPreprocessor(candlestickPreprocessor),_r.registerVisual(candlestickVisual$1),_r.registerLayout(candlestickLayout$1)}function updateRipplePath(_r,Be){var Dr=Be.rippleEffectColor||Be.color;_r.eachChild(function(Mr){Mr.attr({z:Be.z,zlevel:Be.zlevel,style:{stroke:Be.brushType==="stroke"?Dr:null,fill:Be.brushType==="fill"?Dr:null}})})}var EffectSymbol=function(_r){__extends(Be,_r);function Be(Dr,Mr){var $r=_r.call(this)||this,Br=new SymbolClz(Dr,Mr),zr=new Group$4;return $r.add(Br),$r.add(zr),$r.updateData(Dr,Mr),$r}return Be.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},Be.prototype.startEffectAnimation=function(Dr){for(var Mr=Dr.symbolType,$r=Dr.color,Br=Dr.rippleNumber,zr=this.childAt(1),Vr=0;Vr<Br;Vr++){var jr=createSymbol$1(Mr,-1,-1,2,2,$r);jr.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var Gr=-Vr/Br*Dr.period+Dr.effectOffset;jr.animate("",!0).when(Dr.period,{scaleX:Dr.rippleScale/2,scaleY:Dr.rippleScale/2}).delay(Gr).start(),jr.animateStyle(!0).when(Dr.period,{opacity:0}).delay(Gr).start(),zr.add(jr)}updateRipplePath(zr,Dr)},Be.prototype.updateEffectAnimation=function(Dr){for(var Mr=this._effectCfg,$r=this.childAt(1),Br=["symbolType","period","rippleScale","rippleNumber"],zr=0;zr<Br.length;zr++){var Vr=Br[zr];if(Mr[Vr]!==Dr[Vr]){this.stopEffectAnimation(),this.startEffectAnimation(Dr);return}}updateRipplePath($r,Dr)},Be.prototype.highlight=function(){enterEmphasis(this)},Be.prototype.downplay=function(){leaveEmphasis(this)},Be.prototype.getSymbolType=function(){var Dr=this.childAt(0);return Dr&&Dr.getSymbolType()},Be.prototype.updateData=function(Dr,Mr){var $r=this,Br=Dr.hostModel;this.childAt(0).updateData(Dr,Mr);var zr=this.childAt(1),Vr=Dr.getItemModel(Mr),jr=Dr.getItemVisual(Mr,"symbol"),Gr=normalizeSymbolSize(Dr.getItemVisual(Mr,"symbolSize")),Wr=Dr.getItemVisual(Mr,"style"),Kr=Wr&&Wr.fill,Zr=Vr.getModel("emphasis");zr.setScale(Gr),zr.traverse(function(ln){ln.setStyle("fill",Kr)});var Jr=normalizeSymbolOffset(Dr.getItemVisual(Mr,"symbolOffset"),Gr);Jr&&(zr.x=Jr[0],zr.y=Jr[1]);var rn=Dr.getItemVisual(Mr,"symbolRotate");zr.rotation=(rn||0)*Math.PI/180||0;var nn={};nn.showEffectOn=Br.get("showEffectOn"),nn.rippleScale=Vr.get(["rippleEffect","scale"]),nn.brushType=Vr.get(["rippleEffect","brushType"]),nn.period=Vr.get(["rippleEffect","period"])*1e3,nn.effectOffset=Mr/Dr.count(),nn.z=Br.getShallow("z")||0,nn.zlevel=Br.getShallow("zlevel")||0,nn.symbolType=jr,nn.color=Kr,nn.rippleEffectColor=Vr.get(["rippleEffect","color"]),nn.rippleNumber=Vr.get(["rippleEffect","number"]),nn.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(nn):this.startEffectAnimation(nn),this._effectCfg=nn):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(ln){ln==="emphasis"?nn.showEffectOn!=="render"&&$r.startEffectAnimation(nn):ln==="normal"&&nn.showEffectOn!=="render"&&$r.stopEffectAnimation()}),this._effectCfg=nn,toggleHoverEmphasis(this,Zr.get("focus"),Zr.get("blurScope"),Zr.get("disabled"))},Be.prototype.fadeOut=function(Dr){Dr&&Dr()},Be}(Group$4);const EffectSymbol$1=EffectSymbol;var EffectScatterView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(){this._symbolDraw=new SymbolDraw$1(EffectSymbol$1)},Be.prototype.render=function(Dr,Mr,$r){var Br=Dr.getData(),zr=this._symbolDraw;zr.updateData(Br,{clipShape:this._getClipShape(Dr)}),this.group.add(zr.group)},Be.prototype._getClipShape=function(Dr){var Mr=Dr.coordinateSystem,$r=Mr&&Mr.getArea&&Mr.getArea();return Dr.get("clip",!0)?$r:null},Be.prototype.updateTransform=function(Dr,Mr,$r){var Br=Dr.getData();this.group.dirty();var zr=pointsLayout("").reset(Dr,Mr,$r);zr.progress&&zr.progress({start:0,end:Br.count(),count:Br.count()},Br),this._symbolDraw.updateLayout()},Be.prototype._updateGroupTransform=function(Dr){var Mr=Dr.coordinateSystem;Mr&&Mr.getRoamTransform&&(this.group.transform=clone$2(Mr.getRoamTransform()),this.group.decomposeTransform())},Be.prototype.remove=function(Dr,Mr){this._symbolDraw&&this._symbolDraw.remove(!0)},Be.type="effectScatter",Be}(ChartView$1);const EffectScatterView$1=EffectScatterView;var EffectScatterSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.hasSymbolVisual=!0,Dr}return Be.prototype.getInitialData=function(Dr,Mr){return createSeriesData(null,this,{useEncodeDefaulter:!0})},Be.prototype.brushSelector=function(Dr,Mr,$r){return $r.point(Mr.getItemLayout(Dr))},Be.type="series.effectScatter",Be.dependencies=["grid","polar"],Be.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},Be}(SeriesModel$1);const EffectScatterSeriesModel$1=EffectScatterSeriesModel;function install$x(_r){_r.registerChartView(EffectScatterView$1),_r.registerSeriesModel(EffectScatterSeriesModel$1),_r.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this)||this;return Br.add(Br.createLine(Dr,Mr,$r)),Br._updateEffectSymbol(Dr,Mr),Br}return Be.prototype.createLine=function(Dr,Mr,$r){return new Line$1(Dr,Mr,$r)},Be.prototype._updateEffectSymbol=function(Dr,Mr){var $r=Dr.getItemModel(Mr),Br=$r.getModel("effect"),zr=Br.get("symbolSize"),Vr=Br.get("symbol");isArray$1(zr)||(zr=[zr,zr]);var jr=Dr.getItemVisual(Mr,"style"),Gr=Br.get("color")||jr&&jr.stroke,Wr=this.childAt(1);this._symbolType!==Vr&&(this.remove(Wr),Wr=createSymbol$1(Vr,-.5,-.5,1,1,Gr),Wr.z2=100,Wr.culling=!0,this.add(Wr)),Wr&&(Wr.setStyle("shadowColor",Gr),Wr.setStyle(Br.getItemStyle(["color"])),Wr.scaleX=zr[0],Wr.scaleY=zr[1],Wr.setColor(Gr),this._symbolType=Vr,this._symbolScale=zr,this._updateEffectAnimation(Dr,Br,Mr))},Be.prototype._updateEffectAnimation=function(Dr,Mr,$r){var Br=this.childAt(1);if(Br){var zr=Dr.getItemLayout($r),Vr=Mr.get("period")*1e3,jr=Mr.get("loop"),Gr=Mr.get("roundTrip"),Wr=Mr.get("constantSpeed"),Kr=retrieve(Mr.get("delay"),function(Jr){return Jr/Dr.count()*Vr/3});if(Br.ignore=!0,this._updateAnimationPoints(Br,zr),Wr>0&&(Vr=this._getLineLength(Br)/Wr*1e3),Vr!==this._period||jr!==this._loop||Gr!==this._roundTrip){Br.stopAnimation();var Zr=void 0;isFunction(Kr)?Zr=Kr($r):Zr=Kr,Br.__t>0&&(Zr=-Vr*Br.__t),this._animateSymbol(Br,Vr,Zr,jr,Gr)}this._period=Vr,this._loop=jr,this._roundTrip=Gr}},Be.prototype._animateSymbol=function(Dr,Mr,$r,Br,zr){if(Mr>0){Dr.__t=0;var Vr=this,jr=Dr.animate("",Br).when(zr?Mr*2:Mr,{__t:zr?2:1}).delay($r).during(function(){Vr._updateSymbolPosition(Dr)});Br||jr.done(function(){Vr.remove(Dr)}),jr.start()}},Be.prototype._getLineLength=function(Dr){return dist$1(Dr.__p1,Dr.__cp1)+dist$1(Dr.__cp1,Dr.__p2)},Be.prototype._updateAnimationPoints=function(Dr,Mr){Dr.__p1=Mr[0],Dr.__p2=Mr[1],Dr.__cp1=Mr[2]||[(Mr[0][0]+Mr[1][0])/2,(Mr[0][1]+Mr[1][1])/2]},Be.prototype.updateData=function(Dr,Mr,$r){this.childAt(0).updateData(Dr,Mr,$r),this._updateEffectSymbol(Dr,Mr)},Be.prototype._updateSymbolPosition=function(Dr){var Mr=Dr.__p1,$r=Dr.__p2,Br=Dr.__cp1,zr=Dr.__t<1?Dr.__t:2-Dr.__t,Vr=[Dr.x,Dr.y],jr=Vr.slice(),Gr=quadraticAt$1,Wr=quadraticDerivativeAt;Vr[0]=Gr(Mr[0],Br[0],$r[0],zr),Vr[1]=Gr(Mr[1],Br[1],$r[1],zr);var Kr=Dr.__t<1?Wr(Mr[0],Br[0],$r[0],zr):Wr($r[0],Br[0],Mr[0],1-zr),Zr=Dr.__t<1?Wr(Mr[1],Br[1],$r[1],zr):Wr($r[1],Br[1],Mr[1],1-zr);Dr.rotation=-Math.atan2(Zr,Kr)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(Dr.__lastT!==void 0&&Dr.__lastT<Dr.__t?(Dr.scaleY=dist$1(jr,Vr)*1.05,zr===1&&(Vr[0]=jr[0]+(Vr[0]-jr[0])/2,Vr[1]=jr[1]+(Vr[1]-jr[1])/2)):Dr.__lastT===1?Dr.scaleY=2*dist$1(Mr,Vr):Dr.scaleY=this._symbolScale[1]),Dr.__lastT=Dr.__t,Dr.ignore=!1,Dr.x=Vr[0],Dr.y=Vr[1]},Be.prototype.updateLayout=function(Dr,Mr){this.childAt(0).updateLayout(Dr,Mr);var $r=Dr.getItemModel(Mr).getModel("effect");this._updateEffectAnimation(Dr,$r,Mr)},Be}(Group$4);const EffectLine$1=EffectLine;var Polyline=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r){var Br=_r.call(this)||this;return Br._createPolyline(Dr,Mr,$r),Br}return Be.prototype._createPolyline=function(Dr,Mr,$r){var Br=Dr.getItemLayout(Mr),zr=new Polyline$3({shape:{points:Br}});this.add(zr),this._updateCommonStl(Dr,Mr,$r)},Be.prototype.updateData=function(Dr,Mr,$r){var Br=Dr.hostModel,zr=this.childAt(0),Vr={shape:{points:Dr.getItemLayout(Mr)}};updateProps$1(zr,Vr,Br,Mr),this._updateCommonStl(Dr,Mr,$r)},Be.prototype._updateCommonStl=function(Dr,Mr,$r){var Br=this.childAt(0),zr=Dr.getItemModel(Mr),Vr=$r&&$r.emphasisLineStyle,jr=$r&&$r.focus,Gr=$r&&$r.blurScope,Wr=$r&&$r.emphasisDisabled;if(!$r||Dr.hasItemOption){var Kr=zr.getModel("emphasis");Vr=Kr.getModel("lineStyle").getLineStyle(),Wr=Kr.get("disabled"),jr=Kr.get("focus"),Gr=Kr.get("blurScope")}Br.useStyle(Dr.getItemVisual(Mr,"style")),Br.style.fill=null,Br.style.strokeNoScale=!0;var Zr=Br.ensureState("emphasis");Zr.style=Vr,toggleHoverEmphasis(this,jr,Gr,Wr)},Be.prototype.updateLayout=function(Dr,Mr){var $r=this.childAt(0);$r.setShape("points",Dr.getItemLayout(Mr))},Be}(Group$4);const Polyline$1=Polyline;var EffectPolyline=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr._lastFrame=0,Dr._lastFramePercent=0,Dr}return Be.prototype.createLine=function(Dr,Mr,$r){return new Polyline$1(Dr,Mr,$r)},Be.prototype._updateAnimationPoints=function(Dr,Mr){this._points=Mr;for(var $r=[0],Br=0,zr=1;zr<Mr.length;zr++){var Vr=Mr[zr-1],jr=Mr[zr];Br+=dist$1(Vr,jr),$r.push(Br)}if(Br===0){this._length=0;return}for(var zr=0;zr<$r.length;zr++)$r[zr]/=Br;this._offsets=$r,this._length=Br},Be.prototype._getLineLength=function(){return this._length},Be.prototype._updateSymbolPosition=function(Dr){var Mr=Dr.__t<1?Dr.__t:2-Dr.__t,$r=this._points,Br=this._offsets,zr=$r.length;if(Br){var Vr=this._lastFrame,jr;if(Mr<this._lastFramePercent){var Gr=Math.min(Vr+1,zr-1);for(jr=Gr;jr>=0&&!(Br[jr]<=Mr);jr--);jr=Math.min(jr,zr-2)}else{for(jr=Vr;jr<zr&&!(Br[jr]>Mr);jr++);jr=Math.min(jr-1,zr-2)}var Wr=(Mr-Br[jr])/(Br[jr+1]-Br[jr]),Kr=$r[jr],Zr=$r[jr+1];Dr.x=Kr[0]*(1-Wr)+Wr*Zr[0],Dr.y=Kr[1]*(1-Wr)+Wr*Zr[1];var Jr=Dr.__t<1?Zr[0]-Kr[0]:Kr[0]-Zr[0],rn=Dr.__t<1?Zr[1]-Kr[1]:Kr[1]-Zr[1];Dr.rotation=-Math.atan2(rn,Jr)-Math.PI/2,this._lastFrame=jr,this._lastFramePercent=Mr,Dr.ignore=!1}},Be}(EffectLine$1);const EffectPolyline$1=EffectPolyline;var LargeLinesPathShape=function(){function _r(){this.polyline=!1,this.curveness=0,this.segs=[]}return _r}(),LargeLinesPath=function(_r){__extends(Be,_r);function Be(Dr){var Mr=_r.call(this,Dr)||this;return Mr._off=0,Mr.hoverDataIdx=-1,Mr}return Be.prototype.reset=function(){this.notClear=!1,this._off=0},Be.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},Be.prototype.getDefaultShape=function(){return new LargeLinesPathShape},Be.prototype.buildPath=function(Dr,Mr){var $r=Mr.segs,Br=Mr.curveness,zr;if(Mr.polyline)for(zr=this._off;zr<$r.length;){var Vr=$r[zr++];if(Vr>0){Dr.moveTo($r[zr++],$r[zr++]);for(var jr=1;jr<Vr;jr++)Dr.lineTo($r[zr++],$r[zr++])}}else for(zr=this._off;zr<$r.length;){var Gr=$r[zr++],Wr=$r[zr++],Kr=$r[zr++],Zr=$r[zr++];if(Dr.moveTo(Gr,Wr),Br>0){var Jr=(Gr+Kr)/2-(Wr-Zr)*Br,rn=(Wr+Zr)/2-(Kr-Gr)*Br;Dr.quadraticCurveTo(Jr,rn,Kr,Zr)}else Dr.lineTo(Kr,Zr)}this.incremental&&(this._off=zr,this.notClear=!0)},Be.prototype.findDataIndex=function(Dr,Mr){var $r=this.shape,Br=$r.segs,zr=$r.curveness,Vr=this.style.lineWidth;if($r.polyline)for(var jr=0,Gr=0;Gr<Br.length;){var Wr=Br[Gr++];if(Wr>0)for(var Kr=Br[Gr++],Zr=Br[Gr++],Jr=1;Jr<Wr;Jr++){var rn=Br[Gr++],nn=Br[Gr++];if(containStroke$4(Kr,Zr,rn,nn,Vr,Dr,Mr))return jr}jr++}else for(var jr=0,Gr=0;Gr<Br.length;){var Kr=Br[Gr++],Zr=Br[Gr++],rn=Br[Gr++],nn=Br[Gr++];if(zr>0){var ln=(Kr+rn)/2-(Zr-nn)*zr,cn=(Zr+nn)/2-(rn-Kr)*zr;if(containStroke$2(Kr,Zr,ln,cn,rn,nn,Vr,Dr,Mr))return jr}else if(containStroke$4(Kr,Zr,rn,nn,Vr,Dr,Mr))return jr;jr++}return-1},Be.prototype.contain=function(Dr,Mr){var $r=this.transformCoordToLocal(Dr,Mr),Br=this.getBoundingRect();if(Dr=$r[0],Mr=$r[1],Br.contain(Dr,Mr)){var zr=this.hoverDataIdx=this.findDataIndex(Dr,Mr);return zr>=0}return this.hoverDataIdx=-1,!1},Be.prototype.getBoundingRect=function(){var Dr=this._rect;if(!Dr){for(var Mr=this.shape,$r=Mr.segs,Br=1/0,zr=1/0,Vr=-1/0,jr=-1/0,Gr=0;Gr<$r.length;){var Wr=$r[Gr++],Kr=$r[Gr++];Br=Math.min(Wr,Br),Vr=Math.max(Wr,Vr),zr=Math.min(Kr,zr),jr=Math.max(Kr,jr)}Dr=this._rect=new BoundingRect$1(Br,zr,Vr,jr)}return Dr},Be}(Path$1),LargeLineDraw=function(){function _r(){this.group=new Group$4}return _r.prototype.updateData=function(Be){this._clear();var Dr=this._create();Dr.setShape({segs:Be.getLayout("linesPoints")}),this._setCommon(Dr,Be)},_r.prototype.incrementalPrepareUpdate=function(Be){this.group.removeAll(),this._clear()},_r.prototype.incrementalUpdate=function(Be,Dr){var Mr=this._newAdded[0],$r=Dr.getLayout("linesPoints"),Br=Mr&&Mr.shape.segs;if(Br&&Br.length<2e4){var zr=Br.length,Vr=new Float32Array(zr+$r.length);Vr.set(Br),Vr.set($r,zr),Mr.setShape({segs:Vr})}else{this._newAdded=[];var jr=this._create();jr.incremental=!0,jr.setShape({segs:$r}),this._setCommon(jr,Dr),jr.__startIndex=Be.start}},_r.prototype.remove=function(){this._clear()},_r.prototype.eachRendered=function(Be){this._newAdded[0]&&Be(this._newAdded[0])},_r.prototype._create=function(){var Be=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(Be),this.group.add(Be),Be},_r.prototype._setCommon=function(Be,Dr,Mr){var $r=Dr.hostModel;Be.setShape({polyline:$r.get("polyline"),curveness:$r.get(["lineStyle","curveness"])}),Be.useStyle($r.getModel("lineStyle").getLineStyle()),Be.style.strokeNoScale=!0;var Br=Dr.getVisual("style");Br&&Br.stroke&&Be.setStyle("stroke",Br.stroke),Be.setStyle("fill",null);var zr=getECData(Be);zr.seriesIndex=$r.seriesIndex,Be.on("mousemove",function(Vr){zr.dataIndex=null;var jr=Be.hoverDataIdx;jr>0&&(zr.dataIndex=jr+Be.__startIndex)})},_r.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},_r}();const LargeLineDraw$1=LargeLineDraw;var linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(_r){var Be=_r.coordinateSystem;if(Be){var Dr=_r.get("polyline"),Mr=_r.pipelineContext.large;return{progress:function($r,Br){var zr=[];if(Mr){var Vr=void 0,jr=$r.end-$r.start;if(Dr){for(var Gr=0,Wr=$r.start;Wr<$r.end;Wr++)Gr+=_r.getLineCoordsCount(Wr);Vr=new Float32Array(jr+Gr*2)}else Vr=new Float32Array(jr*4);for(var Kr=0,Zr=[],Wr=$r.start;Wr<$r.end;Wr++){var Jr=_r.getLineCoords(Wr,zr);Dr&&(Vr[Kr++]=Jr);for(var rn=0;rn<Jr;rn++)Zr=Be.dataToPoint(zr[rn],!1,Zr),Vr[Kr++]=Zr[0],Vr[Kr++]=Zr[1]}Br.setLayout("linesPoints",Vr)}else for(var Wr=$r.start;Wr<$r.end;Wr++){var nn=Br.getItemModel(Wr),Jr=_r.getLineCoords(Wr,zr),ln=[];if(Dr)for(var cn=0;cn<Jr;cn++)ln.push(Be.dataToPoint(zr[cn]));else{ln[0]=Be.dataToPoint(zr[0]),ln[1]=Be.dataToPoint(zr[1]);var hn=nn.get(["lineStyle","curveness"]);+hn&&(ln[2]=[(ln[0][0]+ln[1][0])/2-(ln[0][1]-ln[1][1])*hn,(ln[0][1]+ln[1][1])/2-(ln[1][0]-ln[0][0])*hn])}Br.setItemLayout(Wr,ln)}}}}}};const linesLayout$1=linesLayout;var LinesView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=Dr.getData(),zr=this._updateLineDraw(Br,Dr),Vr=Dr.get("zlevel"),jr=Dr.get(["effect","trailLength"]),Gr=$r.getZr(),Wr=Gr.painter.getType()==="svg";Wr||Gr.painter.getLayer(Vr).clear(!0),this._lastZlevel!=null&&!Wr&&Gr.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(Dr)&&jr>0&&(Wr||Gr.configLayer(Vr,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(jr/10+.9,1),0)})),zr.updateData(Br);var Kr=Dr.get("clip",!0)&&createClipPath(Dr.coordinateSystem,!1,Dr);Kr?this.group.setClipPath(Kr):this.group.removeClipPath(),this._lastZlevel=Vr,this._finished=!0},Be.prototype.incrementalPrepareRender=function(Dr,Mr,$r){var Br=Dr.getData(),zr=this._updateLineDraw(Br,Dr);zr.incrementalPrepareUpdate(Br),this._clearLayer($r),this._finished=!1},Be.prototype.incrementalRender=function(Dr,Mr,$r){this._lineDraw.incrementalUpdate(Dr,Mr.getData()),this._finished=Dr.end===Mr.getData().count()},Be.prototype.eachRendered=function(Dr){this._lineDraw&&this._lineDraw.eachRendered(Dr)},Be.prototype.updateTransform=function(Dr,Mr,$r){var Br=Dr.getData(),zr=Dr.pipelineContext;if(!this._finished||zr.large||zr.progressiveRender)return{update:!0};var Vr=linesLayout$1.reset(Dr,Mr,$r);Vr.progress&&Vr.progress({start:0,end:Br.count(),count:Br.count()},Br),this._lineDraw.updateLayout(),this._clearLayer($r)},Be.prototype._updateLineDraw=function(Dr,Mr){var $r=this._lineDraw,Br=this._showEffect(Mr),zr=!!Mr.get("polyline"),Vr=Mr.pipelineContext,jr=Vr.large;return(!$r||Br!==this._hasEffet||zr!==this._isPolyline||jr!==this._isLargeDraw)&&($r&&$r.remove(),$r=this._lineDraw=jr?new LargeLineDraw$1:new LineDraw$1(zr?Br?EffectPolyline$1:Polyline$1:Br?EffectLine$1:Line$1),this._hasEffet=Br,this._isPolyline=zr,this._isLargeDraw=jr),this.group.add($r.group),$r},Be.prototype._showEffect=function(Dr){return!!Dr.get(["effect","show"])},Be.prototype._clearLayer=function(Dr){var Mr=Dr.getZr(),$r=Mr.painter.getType()==="svg";!$r&&this._lastZlevel!=null&&Mr.painter.getLayer(this._lastZlevel).clear(!0)},Be.prototype.remove=function(Dr,Mr){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(Mr)},Be.prototype.dispose=function(Dr,Mr){this.remove(Dr,Mr)},Be.type="lines",Be}(ChartView$1);const LinesView$1=LinesView;var Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(_r){var Be=_r.data;Be&&Be[0]&&Be[0][0]&&Be[0][0].coord&&(_r.data=map$1(Be,function(Dr){var Mr=[Dr[0].coord,Dr[1].coord],$r={coords:Mr};return Dr[0].name&&($r.fromName=Dr[0].name),Dr[1].name&&($r.toName=Dr[1].name),mergeAll([$r,Dr[0],Dr[1]])}))}var LinesSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.visualStyleAccessPath="lineStyle",Dr.visualDrawType="stroke",Dr}return Be.prototype.init=function(Dr){Dr.data=Dr.data||[],compatEc2(Dr);var Mr=this._processFlatCoordsArray(Dr.data);this._flatCoords=Mr.flatCoords,this._flatCoordsOffset=Mr.flatCoordsOffset,Mr.flatCoords&&(Dr.data=new Float32Array(Mr.count)),_r.prototype.init.apply(this,arguments)},Be.prototype.mergeOption=function(Dr){if(compatEc2(Dr),Dr.data){var Mr=this._processFlatCoordsArray(Dr.data);this._flatCoords=Mr.flatCoords,this._flatCoordsOffset=Mr.flatCoordsOffset,Mr.flatCoords&&(Dr.data=new Float32Array(Mr.count))}_r.prototype.mergeOption.apply(this,arguments)},Be.prototype.appendData=function(Dr){var Mr=this._processFlatCoordsArray(Dr.data);Mr.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,Mr.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,Mr.flatCoordsOffset)):(this._flatCoords=Mr.flatCoords,this._flatCoordsOffset=Mr.flatCoordsOffset),Dr.data=new Float32Array(Mr.count)),this.getRawData().appendData(Dr.data)},Be.prototype._getCoordsFromItemModel=function(Dr){var Mr=this.getData().getItemModel(Dr),$r=Mr.option instanceof Array?Mr.option:Mr.getShallow("coords");return $r},Be.prototype.getLineCoordsCount=function(Dr){return this._flatCoordsOffset?this._flatCoordsOffset[Dr*2+1]:this._getCoordsFromItemModel(Dr).length},Be.prototype.getLineCoords=function(Dr,Mr){if(this._flatCoordsOffset){for(var $r=this._flatCoordsOffset[Dr*2],Br=this._flatCoordsOffset[Dr*2+1],zr=0;zr<Br;zr++)Mr[zr]=Mr[zr]||[],Mr[zr][0]=this._flatCoords[$r+zr*2],Mr[zr][1]=this._flatCoords[$r+zr*2+1];return Br}else{for(var Vr=this._getCoordsFromItemModel(Dr),zr=0;zr<Vr.length;zr++)Mr[zr]=Mr[zr]||[],Mr[zr][0]=Vr[zr][0],Mr[zr][1]=Vr[zr][1];return Vr.length}},Be.prototype._processFlatCoordsArray=function(Dr){var Mr=0;if(this._flatCoords&&(Mr=this._flatCoords.length),isNumber(Dr[0])){for(var $r=Dr.length,Br=new Uint32Arr($r),zr=new Float64Arr($r),Vr=0,jr=0,Gr=0,Wr=0;Wr<$r;){Gr++;var Kr=Dr[Wr++];Br[jr++]=Vr+Mr,Br[jr++]=Kr;for(var Zr=0;Zr<Kr;Zr++){var Jr=Dr[Wr++],rn=Dr[Wr++];zr[Vr++]=Jr,zr[Vr++]=rn}}return{flatCoordsOffset:new Uint32Array(Br.buffer,0,jr),flatCoords:zr,count:Gr}}return{flatCoordsOffset:null,flatCoords:null,count:Dr.length}},Be.prototype.getInitialData=function(Dr,Mr){var $r=new SeriesData$1(["value"],this);return $r.hasItemOption=!1,$r.initData(Dr.data,[],function(Br,zr,Vr,jr){if(Br instanceof Array)return NaN;$r.hasItemOption=!0;var Gr=Br.value;if(Gr!=null)return Gr instanceof Array?Gr[jr]:Gr}),$r},Be.prototype.formatTooltip=function(Dr,Mr,$r){var Br=this.getData(),zr=Br.getItemModel(Dr),Vr=zr.get("name");if(Vr)return Vr;var jr=zr.get("fromName"),Gr=zr.get("toName"),Wr=[];return jr!=null&&Wr.push(jr),Gr!=null&&Wr.push(Gr),createTooltipMarkup("nameValue",{name:Wr.join(" > ")})},Be.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},Be.prototype.getProgressive=function(){var Dr=this.option.progressive;return Dr??(this.option.large?1e4:this.get("progressive"))},Be.prototype.getProgressiveThreshold=function(){var Dr=this.option.progressiveThreshold;return Dr??(this.option.large?2e4:this.get("progressiveThreshold"))},Be.prototype.getZLevelKey=function(){var Dr=this.getModel("effect"),Mr=Dr.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:Dr.get("show")&&Mr>0?Mr+"":""},Be.type="series.lines",Be.dependencies=["grid","polar","geo","calendar"],Be.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},Be}(SeriesModel$1);const LinesSeriesModel$1=LinesSeriesModel;function normalize(_r){return _r instanceof Array||(_r=[_r,_r]),_r}var linesVisual={seriesType:"lines",reset:function(_r){var Be=normalize(_r.get("symbol")),Dr=normalize(_r.get("symbolSize")),Mr=_r.getData();Mr.setVisual("fromSymbol",Be&&Be[0]),Mr.setVisual("toSymbol",Be&&Be[1]),Mr.setVisual("fromSymbolSize",Dr&&Dr[0]),Mr.setVisual("toSymbolSize",Dr&&Dr[1]);function $r(Br,zr){var Vr=Br.getItemModel(zr),jr=normalize(Vr.getShallow("symbol",!0)),Gr=normalize(Vr.getShallow("symbolSize",!0));jr[0]&&Br.setItemVisual(zr,"fromSymbol",jr[0]),jr[1]&&Br.setItemVisual(zr,"toSymbol",jr[1]),Gr[0]&&Br.setItemVisual(zr,"fromSymbolSize",Gr[0]),Gr[1]&&Br.setItemVisual(zr,"toSymbolSize",Gr[1])}return{dataEach:Mr.hasItemOption?$r:null}}};const linesVisual$1=linesVisual;function install$w(_r){_r.registerChartView(LinesView$1),_r.registerSeriesModel(LinesSeriesModel$1),_r.registerLayout(linesLayout$1),_r.registerVisual(linesVisual$1)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function _r(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var Be=platformApi.createCanvas();this.canvas=Be}return _r.prototype.update=function(Be,Dr,Mr,$r,Br,zr){var Vr=this._getBrush(),jr=this._getGradient(Br,"inRange"),Gr=this._getGradient(Br,"outOfRange"),Wr=this.pointSize+this.blurSize,Kr=this.canvas,Zr=Kr.getContext("2d"),Jr=Be.length;Kr.width=Dr,Kr.height=Mr;for(var rn=0;rn<Jr;++rn){var nn=Be[rn],ln=nn[0],cn=nn[1],hn=nn[2],mn=$r(hn);Zr.globalAlpha=mn,Zr.drawImage(Vr,ln-Wr,cn-Wr)}if(!Kr.width||!Kr.height)return Kr;for(var bn=Zr.getImageData(0,0,Kr.width,Kr.height),An=bn.data,vn=0,dn=An.length,wn=this.minOpacity,xn=this.maxOpacity,Mn=xn-wn;vn<dn;){var mn=An[vn+3]/256,In=Math.floor(mn*(GRADIENT_LEVELS-1))*4;if(mn>0){var Hn=zr(mn)?jr:Gr;mn>0&&(mn=mn*Mn+wn),An[vn++]=Hn[In],An[vn++]=Hn[In+1],An[vn++]=Hn[In+2],An[vn++]=Hn[In+3]*mn*256}else vn+=4}return Zr.putImageData(bn,0,0),Kr},_r.prototype._getBrush=function(){var Be=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),Dr=this.pointSize+this.blurSize,Mr=Dr*2;Be.width=Mr,Be.height=Mr;var $r=Be.getContext("2d");return $r.clearRect(0,0,Mr,Mr),$r.shadowOffsetX=Mr,$r.shadowBlur=this.blurSize,$r.shadowColor="#000",$r.beginPath(),$r.arc(-Dr,Dr,this.pointSize,0,Math.PI*2,!0),$r.closePath(),$r.fill(),Be},_r.prototype._getGradient=function(Be,Dr){for(var Mr=this._gradientPixels,$r=Mr[Dr]||(Mr[Dr]=new Uint8ClampedArray(256*4)),Br=[0,0,0,0],zr=0,Vr=0;Vr<256;Vr++)Be[Dr](Vr/255,!0,Br),$r[zr++]=Br[0],$r[zr++]=Br[1],$r[zr++]=Br[2],$r[zr++]=Br[3];return $r},_r}();const HeatmapLayer$1=HeatmapLayer;function getIsInPiecewiseRange(_r,Be,Dr){var Mr=_r[1]-_r[0];Be=map$1(Be,function(zr){return{interval:[(zr.interval[0]-_r[0])/Mr,(zr.interval[1]-_r[0])/Mr]}});var $r=Be.length,Br=0;return function(zr){var Vr;for(Vr=Br;Vr<$r;Vr++){var jr=Be[Vr].interval;if(jr[0]<=zr&&zr<=jr[1]){Br=Vr;break}}if(Vr===$r)for(Vr=Br-1;Vr>=0;Vr--){var jr=Be[Vr].interval;if(jr[0]<=zr&&zr<=jr[1]){Br=Vr;break}}return Vr>=0&&Vr<$r&&Dr[Vr]}}function getIsInContinuousRange(_r,Be){var Dr=_r[1]-_r[0];return Be=[(Be[0]-_r[0])/Dr,(Be[1]-_r[0])/Dr],function(Mr){return Mr>=Be[0]&&Mr<=Be[1]}}function isGeoCoordSys(_r){var Be=_r.dimensions;return Be[0]==="lng"&&Be[1]==="lat"}var HeatmapView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br;Mr.eachComponent("visualMap",function(Vr){Vr.eachTargetSeries(function(jr){jr===Dr&&(Br=Vr)})}),this._progressiveEls=null,this.group.removeAll();var zr=Dr.coordinateSystem;zr.type==="cartesian2d"||zr.type==="calendar"?this._renderOnCartesianAndCalendar(Dr,$r,0,Dr.getData().count()):isGeoCoordSys(zr)&&this._renderOnGeo(zr,Dr,Br,$r)},Be.prototype.incrementalPrepareRender=function(Dr,Mr,$r){this.group.removeAll()},Be.prototype.incrementalRender=function(Dr,Mr,$r,Br){var zr=Mr.coordinateSystem;zr&&(isGeoCoordSys(zr)?this.render(Mr,$r,Br):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(Mr,Br,Dr.start,Dr.end,!0)))},Be.prototype.eachRendered=function(Dr){traverseElements(this._progressiveEls||this.group,Dr)},Be.prototype._renderOnCartesianAndCalendar=function(Dr,Mr,$r,Br,zr){var Vr=Dr.coordinateSystem,jr=isCoordinateSystemType(Vr,"cartesian2d"),Gr,Wr,Kr,Zr;if(jr){var Jr=Vr.getAxis("x"),rn=Vr.getAxis("y");Gr=Jr.getBandWidth()+.5,Wr=rn.getBandWidth()+.5,Kr=Jr.scale.getExtent(),Zr=rn.scale.getExtent()}for(var nn=this.group,ln=Dr.getData(),cn=Dr.getModel(["emphasis","itemStyle"]).getItemStyle(),hn=Dr.getModel(["blur","itemStyle"]).getItemStyle(),mn=Dr.getModel(["select","itemStyle"]).getItemStyle(),bn=Dr.get(["itemStyle","borderRadius"]),An=getLabelStatesModels(Dr),vn=Dr.getModel("emphasis"),dn=vn.get("focus"),wn=vn.get("blurScope"),xn=vn.get("disabled"),Mn=jr?[ln.mapDimension("x"),ln.mapDimension("y"),ln.mapDimension("value")]:[ln.mapDimension("time"),ln.mapDimension("value")],In=$r;In<Br;In++){var Hn=void 0,$n=ln.getItemVisual(In,"style");if(jr){var jn=ln.get(Mn[0],In),Bn=ln.get(Mn[1],In);if(isNaN(ln.get(Mn[2],In))||isNaN(jn)||isNaN(Bn)||jn<Kr[0]||jn>Kr[1]||Bn<Zr[0]||Bn>Zr[1])continue;var Gn=Vr.dataToPoint([jn,Bn]);Hn=new Rect$3({shape:{x:Gn[0]-Gr/2,y:Gn[1]-Wr/2,width:Gr,height:Wr},style:$n})}else{if(isNaN(ln.get(Mn[1],In)))continue;Hn=new Rect$3({z2:1,shape:Vr.dataToRect([ln.get(Mn[0],In)]).contentShape,style:$n})}if(ln.hasItemOption){var ei=ln.getItemModel(In),ri=ei.getModel("emphasis");cn=ri.getModel("itemStyle").getItemStyle(),hn=ei.getModel(["blur","itemStyle"]).getItemStyle(),mn=ei.getModel(["select","itemStyle"]).getItemStyle(),bn=ei.get(["itemStyle","borderRadius"]),dn=ri.get("focus"),wn=ri.get("blurScope"),xn=ri.get("disabled"),An=getLabelStatesModels(ei)}Hn.shape.r=bn;var vi=Dr.getRawValue(In),wi="-";vi&&vi[2]!=null&&(wi=vi[2]+""),setLabelStyle(Hn,An,{labelFetcher:Dr,labelDataIndex:In,defaultOpacity:$n.opacity,defaultText:wi}),Hn.ensureState("emphasis").style=cn,Hn.ensureState("blur").style=hn,Hn.ensureState("select").style=mn,toggleHoverEmphasis(Hn,dn,wn,xn),Hn.incremental=zr,zr&&(Hn.states.emphasis.hoverLayer=!0),nn.add(Hn),ln.setItemGraphicEl(In,Hn),this._progressiveEls&&this._progressiveEls.push(Hn)}},Be.prototype._renderOnGeo=function(Dr,Mr,$r,Br){var zr=$r.targetVisuals.inRange,Vr=$r.targetVisuals.outOfRange,jr=Mr.getData(),Gr=this._hmLayer||this._hmLayer||new HeatmapLayer$1;Gr.blurSize=Mr.get("blurSize"),Gr.pointSize=Mr.get("pointSize"),Gr.minOpacity=Mr.get("minOpacity"),Gr.maxOpacity=Mr.get("maxOpacity");var Wr=Dr.getViewRect().clone(),Kr=Dr.getRoamTransform();Wr.applyTransform(Kr);var Zr=Math.max(Wr.x,0),Jr=Math.max(Wr.y,0),rn=Math.min(Wr.width+Wr.x,Br.getWidth()),nn=Math.min(Wr.height+Wr.y,Br.getHeight()),ln=rn-Zr,cn=nn-Jr,hn=[jr.mapDimension("lng"),jr.mapDimension("lat"),jr.mapDimension("value")],mn=jr.mapArray(hn,function(dn,wn,xn){var Mn=Dr.dataToPoint([dn,wn]);return Mn[0]-=Zr,Mn[1]-=Jr,Mn.push(xn),Mn}),bn=$r.getExtent(),An=$r.type==="visualMap.continuous"?getIsInContinuousRange(bn,$r.option.range):getIsInPiecewiseRange(bn,$r.getPieceList(),$r.option.selected);Gr.update(mn,ln,cn,zr.color.getNormalizer(),{inRange:zr.color.getColorMapper(),outOfRange:Vr.color.getColorMapper()},An);var vn=new ZRImage$1({style:{width:ln,height:cn,x:Zr,y:Jr,image:Gr.canvas},silent:!0});this.group.add(vn)},Be.type="heatmap",Be}(ChartView$1);const HeatmapView$1=HeatmapView;var HeatmapSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.getInitialData=function(Dr,Mr){return createSeriesData(null,this,{generateCoord:"value"})},Be.prototype.preventIncremental=function(){var Dr=CoordinateSystem.get(this.get("coordinateSystem"));if(Dr&&Dr.dimensions)return Dr.dimensions[0]==="lng"&&Dr.dimensions[1]==="lat"},Be.type="series.heatmap",Be.dependencies=["grid","geo","calendar"],Be.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},Be}(SeriesModel$1);const HeatmapSeriesModel$1=HeatmapSeriesModel;function install$v(_r){_r.registerChartView(HeatmapView$1),_r.registerSeriesModel(HeatmapSeriesModel$1)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle$1,PictorialBarView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=this.group,zr=Dr.getData(),Vr=this._data,jr=Dr.coordinateSystem,Gr=jr.getBaseAxis(),Wr=Gr.isHorizontal(),Kr=jr.master.getRect(),Zr={ecSize:{width:$r.getWidth(),height:$r.getHeight()},seriesModel:Dr,coordSys:jr,coordSysExtent:[[Kr.x,Kr.x+Kr.width],[Kr.y,Kr.y+Kr.height]],isHorizontal:Wr,valueDim:LAYOUT_ATTRS[+Wr],categoryDim:LAYOUT_ATTRS[1-+Wr]};return zr.diff(Vr).add(function(Jr){if(zr.hasValue(Jr)){var rn=getItemModel(zr,Jr),nn=getSymbolMeta(zr,Jr,rn,Zr),ln=createBar(zr,Zr,nn);zr.setItemGraphicEl(Jr,ln),Br.add(ln),updateCommon(ln,Zr,nn)}}).update(function(Jr,rn){var nn=Vr.getItemGraphicEl(rn);if(!zr.hasValue(Jr)){Br.remove(nn);return}var ln=getItemModel(zr,Jr),cn=getSymbolMeta(zr,Jr,ln,Zr),hn=getShapeStr(zr,cn);nn&&hn!==nn.__pictorialShapeStr&&(Br.remove(nn),zr.setItemGraphicEl(Jr,null),nn=null),nn?updateBar(nn,Zr,cn):nn=createBar(zr,Zr,cn,!0),zr.setItemGraphicEl(Jr,nn),nn.__pictorialSymbolMeta=cn,Br.add(nn),updateCommon(nn,Zr,cn)}).remove(function(Jr){var rn=Vr.getItemGraphicEl(Jr);rn&&removeBar(Vr,Jr,rn.__pictorialSymbolMeta.animationModel,rn)}).execute(),this._data=zr,this.group},Be.prototype.remove=function(Dr,Mr){var $r=this.group,Br=this._data;Dr.get("animation")?Br&&Br.eachItemGraphicEl(function(zr){removeBar(Br,getECData(zr).dataIndex,Dr,zr)}):$r.removeAll()},Be.type="pictorialBar",Be}(ChartView$1);function getSymbolMeta(_r,Be,Dr,Mr){var $r=_r.getItemLayout(Be),Br=Dr.get("symbolRepeat"),zr=Dr.get("symbolClip"),Vr=Dr.get("symbolPosition")||"start",jr=Dr.get("symbolRotate"),Gr=(jr||0)*Math.PI/180||0,Wr=Dr.get("symbolPatternSize")||2,Kr=Dr.isAnimationEnabled(),Zr={dataIndex:Be,layout:$r,itemModel:Dr,symbolType:_r.getItemVisual(Be,"symbol")||"circle",style:_r.getItemVisual(Be,"style"),symbolClip:zr,symbolRepeat:Br,symbolRepeatDirection:Dr.get("symbolRepeatDirection"),symbolPatternSize:Wr,rotation:Gr,animationModel:Kr?Dr:null,hoverScale:Kr&&Dr.get(["emphasis","scale"]),z2:Dr.getShallow("z",!0)||0};prepareBarLength(Dr,Br,$r,Mr,Zr),prepareSymbolSize(_r,Be,$r,Br,zr,Zr.boundingLength,Zr.pxSign,Wr,Mr,Zr),prepareLineWidth(Dr,Zr.symbolScale,Gr,Mr,Zr);var Jr=Zr.symbolSize,rn=normalizeSymbolOffset(Dr.get("symbolOffset"),Jr);return prepareLayoutInfo(Dr,Jr,$r,Br,zr,rn,Vr,Zr.valueLineWidth,Zr.boundingLength,Zr.repeatCutLength,Mr,Zr),Zr}function prepareBarLength(_r,Be,Dr,Mr,$r){var Br=Mr.valueDim,zr=_r.get("symbolBoundingData"),Vr=Mr.coordSys.getOtherAxis(Mr.coordSys.getBaseAxis()),jr=Vr.toGlobalCoord(Vr.dataToCoord(0)),Gr=1-+(Dr[Br.wh]<=0),Wr;if(isArray$1(zr)){var Kr=[convertToCoordOnAxis(Vr,zr[0])-jr,convertToCoordOnAxis(Vr,zr[1])-jr];Kr[1]<Kr[0]&&Kr.reverse(),Wr=Kr[Gr]}else zr!=null?Wr=convertToCoordOnAxis(Vr,zr)-jr:Be?Wr=Mr.coordSysExtent[Br.index][Gr]-jr:Wr=Dr[Br.wh];$r.boundingLength=Wr,Be&&($r.repeatCutLength=Dr[Br.wh]),$r.pxSign=Wr>0?1:-1}function convertToCoordOnAxis(_r,Be){return _r.toGlobalCoord(_r.dataToCoord(_r.scale.parse(Be)))}function prepareSymbolSize(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr){var Wr=jr.valueDim,Kr=jr.categoryDim,Zr=Math.abs(Dr[Kr.wh]),Jr=_r.getItemVisual(Be,"symbolSize"),rn;isArray$1(Jr)?rn=Jr.slice():Jr==null?rn=["100%","100%"]:rn=[Jr,Jr],rn[Kr.index]=parsePercent(rn[Kr.index],Zr),rn[Wr.index]=parsePercent(rn[Wr.index],Mr?Zr:Math.abs(Br)),Gr.symbolSize=rn;var nn=Gr.symbolScale=[rn[0]/Vr,rn[1]/Vr];nn[Wr.index]*=(jr.isHorizontal?-1:1)*zr}function prepareLineWidth(_r,Be,Dr,Mr,$r){var Br=_r.get(BAR_BORDER_WIDTH_QUERY)||0;Br&&(pathForLineWidth.attr({scaleX:Be[0],scaleY:Be[1],rotation:Dr}),pathForLineWidth.updateTransform(),Br/=pathForLineWidth.getLineScale(),Br*=Be[Mr.valueDim.index]),$r.valueLineWidth=Br||0}function prepareLayoutInfo(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr,Wr,Kr){var Zr=Wr.categoryDim,Jr=Wr.valueDim,rn=Kr.pxSign,nn=Math.max(Be[Jr.index]+Vr,0),ln=nn;if(Mr){var cn=Math.abs(jr),hn=retrieve(_r.get("symbolMargin"),"15%")+"",mn=!1;hn.lastIndexOf("!")===hn.length-1&&(mn=!0,hn=hn.slice(0,hn.length-1));var bn=parsePercent(hn,Be[Jr.index]),An=Math.max(nn+bn*2,0),vn=mn?0:bn*2,dn=isNumeric(Mr),wn=dn?Mr:toIntTimes((cn+vn)/An),xn=cn-wn*nn;bn=xn/2/(mn?wn:Math.max(wn-1,1)),An=nn+bn*2,vn=mn?0:bn*2,!dn&&Mr!=="fixed"&&(wn=Gr?toIntTimes((Math.abs(Gr)+vn)/An):0),ln=wn*An-vn,Kr.repeatTimes=wn,Kr.symbolMargin=bn}var Mn=rn*(ln/2),In=Kr.pathPosition=[];In[Zr.index]=Dr[Zr.wh]/2,In[Jr.index]=zr==="start"?Mn:zr==="end"?jr-Mn:jr/2,Br&&(In[0]+=Br[0],In[1]+=Br[1]);var Hn=Kr.bundlePosition=[];Hn[Zr.index]=Dr[Zr.xy],Hn[Jr.index]=Dr[Jr.xy];var $n=Kr.barRectShape=extend$1({},Dr);$n[Jr.wh]=rn*Math.max(Math.abs(Dr[Jr.wh]),Math.abs(In[Jr.index]+Mn)),$n[Zr.wh]=Dr[Zr.wh];var jn=Kr.clipShape={};jn[Zr.xy]=-Dr[Zr.xy],jn[Zr.wh]=Wr.ecSize[Zr.wh],jn[Jr.xy]=0,jn[Jr.wh]=Dr[Jr.wh]}function createPath(_r){var Be=_r.symbolPatternSize,Dr=createSymbol$1(_r.symbolType,-Be/2,-Be/2,Be,Be);return Dr.attr({culling:!0}),Dr.type!=="image"&&Dr.setStyle({strokeNoScale:!0}),Dr}function createOrUpdateRepeatSymbols(_r,Be,Dr,Mr){var $r=_r.__pictorialBundle,Br=Dr.symbolSize,zr=Dr.valueLineWidth,Vr=Dr.pathPosition,jr=Be.valueDim,Gr=Dr.repeatTimes||0,Wr=0,Kr=Br[Be.valueDim.index]+zr+Dr.symbolMargin*2;for(eachPath(_r,function(nn){nn.__pictorialAnimationIndex=Wr,nn.__pictorialRepeatTimes=Gr,Wr<Gr?updateAttr(nn,null,rn(Wr),Dr,Mr):updateAttr(nn,null,{scaleX:0,scaleY:0},Dr,Mr,function(){$r.remove(nn)}),Wr++});Wr<Gr;Wr++){var Zr=createPath(Dr);Zr.__pictorialAnimationIndex=Wr,Zr.__pictorialRepeatTimes=Gr,$r.add(Zr);var Jr=rn(Wr);updateAttr(Zr,{x:Jr.x,y:Jr.y,scaleX:0,scaleY:0},{scaleX:Jr.scaleX,scaleY:Jr.scaleY,rotation:Jr.rotation},Dr,Mr)}function rn(nn){var ln=Vr.slice(),cn=Dr.pxSign,hn=nn;return(Dr.symbolRepeatDirection==="start"?cn>0:cn<0)&&(hn=Gr-1-nn),ln[jr.index]=Kr*(hn-Gr/2+.5)+Vr[jr.index],{x:ln[0],y:ln[1],scaleX:Dr.symbolScale[0],scaleY:Dr.symbolScale[1],rotation:Dr.rotation}}}function createOrUpdateSingleSymbol(_r,Be,Dr,Mr){var $r=_r.__pictorialBundle,Br=_r.__pictorialMainPath;Br?updateAttr(Br,null,{x:Dr.pathPosition[0],y:Dr.pathPosition[1],scaleX:Dr.symbolScale[0],scaleY:Dr.symbolScale[1],rotation:Dr.rotation},Dr,Mr):(Br=_r.__pictorialMainPath=createPath(Dr),$r.add(Br),updateAttr(Br,{x:Dr.pathPosition[0],y:Dr.pathPosition[1],scaleX:0,scaleY:0,rotation:Dr.rotation},{scaleX:Dr.symbolScale[0],scaleY:Dr.symbolScale[1]},Dr,Mr))}function createOrUpdateBarRect(_r,Be,Dr){var Mr=extend$1({},Be.barRectShape),$r=_r.__pictorialBarRect;$r?updateAttr($r,null,{shape:Mr},Be,Dr):($r=_r.__pictorialBarRect=new Rect$3({z2:2,shape:Mr,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),$r.disableMorphing=!0,_r.add($r))}function createOrUpdateClip(_r,Be,Dr,Mr){if(Dr.symbolClip){var $r=_r.__pictorialClipPath,Br=extend$1({},Dr.clipShape),zr=Be.valueDim,Vr=Dr.animationModel,jr=Dr.dataIndex;if($r)updateProps$1($r,{shape:Br},Vr,jr);else{Br[zr.wh]=0,$r=new Rect$3({shape:Br}),_r.__pictorialBundle.setClipPath($r),_r.__pictorialClipPath=$r;var Gr={};Gr[zr.wh]=Dr.clipShape[zr.wh],graphic$1[Mr?"updateProps":"initProps"]($r,{shape:Gr},Vr,jr)}}}function getItemModel(_r,Be){var Dr=_r.getItemModel(Be);return Dr.getAnimationDelayParams=getAnimationDelayParams,Dr.isAnimationEnabled=isAnimationEnabled,Dr}function getAnimationDelayParams(_r){return{index:_r.__pictorialAnimationIndex,count:_r.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(_r,Be,Dr,Mr){var $r=new Group$4,Br=new Group$4;return $r.add(Br),$r.__pictorialBundle=Br,Br.x=Dr.bundlePosition[0],Br.y=Dr.bundlePosition[1],Dr.symbolRepeat?createOrUpdateRepeatSymbols($r,Be,Dr):createOrUpdateSingleSymbol($r,Be,Dr),createOrUpdateBarRect($r,Dr,Mr),createOrUpdateClip($r,Be,Dr,Mr),$r.__pictorialShapeStr=getShapeStr(_r,Dr),$r.__pictorialSymbolMeta=Dr,$r}function updateBar(_r,Be,Dr){var Mr=Dr.animationModel,$r=Dr.dataIndex,Br=_r.__pictorialBundle;updateProps$1(Br,{x:Dr.bundlePosition[0],y:Dr.bundlePosition[1]},Mr,$r),Dr.symbolRepeat?createOrUpdateRepeatSymbols(_r,Be,Dr,!0):createOrUpdateSingleSymbol(_r,Be,Dr,!0),createOrUpdateBarRect(_r,Dr,!0),createOrUpdateClip(_r,Be,Dr,!0)}function removeBar(_r,Be,Dr,Mr){var $r=Mr.__pictorialBarRect;$r&&$r.removeTextContent();var Br=[];eachPath(Mr,function(zr){Br.push(zr)}),Mr.__pictorialMainPath&&Br.push(Mr.__pictorialMainPath),Mr.__pictorialClipPath&&(Dr=null),each$f(Br,function(zr){removeElement(zr,{scaleX:0,scaleY:0},Dr,Be,function(){Mr.parent&&Mr.parent.remove(Mr)})}),_r.setItemGraphicEl(Be,null)}function getShapeStr(_r,Be){return[_r.getItemVisual(Be.dataIndex,"symbol")||"none",!!Be.symbolRepeat,!!Be.symbolClip].join(":")}function eachPath(_r,Be,Dr){each$f(_r.__pictorialBundle.children(),function(Mr){Mr!==_r.__pictorialBarRect&&Be.call(Dr,Mr)})}function updateAttr(_r,Be,Dr,Mr,$r,Br){Be&&_r.attr(Be),Mr.symbolClip&&!$r?Dr&&_r.attr(Dr):Dr&&graphic$1[$r?"updateProps":"initProps"](_r,Dr,Mr.animationModel,Mr.dataIndex,Br)}function updateCommon(_r,Be,Dr){var Mr=Dr.dataIndex,$r=Dr.itemModel,Br=$r.getModel("emphasis"),zr=Br.getModel("itemStyle").getItemStyle(),Vr=$r.getModel(["blur","itemStyle"]).getItemStyle(),jr=$r.getModel(["select","itemStyle"]).getItemStyle(),Gr=$r.getShallow("cursor"),Wr=Br.get("focus"),Kr=Br.get("blurScope"),Zr=Br.get("scale");eachPath(_r,function(nn){if(nn instanceof ZRImage$1){var ln=nn.style;nn.useStyle(extend$1({image:ln.image,x:ln.x,y:ln.y,width:ln.width,height:ln.height},Dr.style))}else nn.useStyle(Dr.style);var cn=nn.ensureState("emphasis");cn.style=zr,Zr&&(cn.scaleX=nn.scaleX*1.1,cn.scaleY=nn.scaleY*1.1),nn.ensureState("blur").style=Vr,nn.ensureState("select").style=jr,Gr&&(nn.cursor=Gr),nn.z2=Dr.z2});var Jr=Be.valueDim.posDesc[+(Dr.boundingLength>0)],rn=_r.__pictorialBarRect;setLabelStyle(rn,getLabelStatesModels($r),{labelFetcher:Be.seriesModel,labelDataIndex:Mr,defaultText:getDefaultLabel(Be.seriesModel.getData(),Mr),inheritColor:Dr.style.fill,defaultOpacity:Dr.style.opacity,defaultOutsidePosition:Jr}),toggleHoverEmphasis(_r,Wr,Kr,Br.get("disabled"))}function toIntTimes(_r){var Be=Math.round(_r);return Math.abs(_r-Be)<1e-4?Be:Math.ceil(_r)}const PictorialBarView$1=PictorialBarView;var PictorialBarSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.hasSymbolVisual=!0,Dr.defaultSymbol="roundRect",Dr}return Be.prototype.getInitialData=function(Dr){return Dr.stack=null,_r.prototype.getInitialData.apply(this,arguments)},Be.type="series.pictorialBar",Be.dependencies=["grid"],Be.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),Be}(BaseBarSeriesModel$1);const PictorialBarSeriesModel$1=PictorialBarSeriesModel;function install$u(_r){_r.registerChartView(PictorialBarView$1),_r.registerSeriesModel(PictorialBarSeriesModel$1),_r.registerLayout(_r.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),_r.registerLayout(_r.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr._layers=[],Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=Dr.getData(),zr=this,Vr=this.group,jr=Dr.getLayerSeries(),Gr=Br.getLayout("layoutInfo"),Wr=Gr.rect,Kr=Gr.boundaryGap;Vr.x=0,Vr.y=Wr.y+Kr[0];function Zr(ln){return ln.name}var Jr=new DataDiffer$1(this._layersSeries||[],jr,Zr,Zr),rn=[];Jr.add(bind$1(nn,this,"add")).update(bind$1(nn,this,"update")).remove(bind$1(nn,this,"remove")).execute();function nn(ln,cn,hn){var mn=zr._layers;if(ln==="remove"){Vr.remove(mn[cn]);return}for(var bn=[],An=[],vn,dn=jr[cn].indices,wn=0;wn<dn.length;wn++){var xn=Br.getItemLayout(dn[wn]),Mn=xn.x,In=xn.y0,Hn=xn.y;bn.push(Mn,In),An.push(Mn,In+Hn),vn=Br.getItemVisual(dn[wn],"style")}var $n,jn=Br.getItemLayout(dn[0]),Bn=Dr.getModel("label"),Gn=Bn.get("margin"),ei=Dr.getModel("emphasis");if(ln==="add"){var ri=rn[cn]=new Group$4;$n=new ECPolygon({shape:{points:bn,stackedOnPoints:An,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ri.add($n),Vr.add(ri),Dr.isAnimationEnabled()&&$n.setClipPath(createGridClipShape($n.getBoundingRect(),Dr,function(){$n.removeClipPath()}))}else{var ri=mn[hn];$n=ri.childAt(0),Vr.add(ri),rn[cn]=ri,updateProps$1($n,{shape:{points:bn,stackedOnPoints:An}},Dr),saveOldStyle($n)}setLabelStyle($n,getLabelStatesModels(Dr),{labelDataIndex:dn[wn-1],defaultText:Br.getName(dn[wn-1]),inheritColor:vn.fill},{normal:{verticalAlign:"middle"}}),$n.setTextConfig({position:null,local:!0});var vi=$n.getTextContent();vi&&(vi.x=jn.x-Gn,vi.y=jn.y0+jn.y/2),$n.useStyle(vn),Br.setItemGraphicEl(cn,$n),setStatesStylesFromModel($n,Dr),toggleHoverEmphasis($n,ei.get("focus"),ei.get("blurScope"),ei.get("disabled"))}this._layersSeries=jr,this._layers=rn},Be.type="themeRiver",Be}(ChartView$1);function createGridClipShape(_r,Be,Dr){var Mr=new Rect$3({shape:{x:_r.x-10,y:_r.y-10,width:0,height:_r.height+20}});return initProps(Mr,{shape:{x:_r.x-50,width:_r.width+100,height:_r.height+20}},Be,Dr),Mr}const ThemeRiverView$1=ThemeRiverView;var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(Dr){_r.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},Be.prototype.fixData=function(Dr){var Mr=Dr.length,$r={},Br=groupData(Dr,function(Zr){return $r.hasOwnProperty(Zr[0]+"")||($r[Zr[0]+""]=-1),Zr[2]}),zr=[];Br.buckets.each(function(Zr,Jr){zr.push({name:Jr,dataList:Zr})});for(var Vr=zr.length,jr=0;jr<Vr;++jr){for(var Gr=zr[jr].name,Wr=0;Wr<zr[jr].dataList.length;++Wr){var Kr=zr[jr].dataList[Wr][0]+"";$r[Kr]=jr}for(var Kr in $r)$r.hasOwnProperty(Kr)&&$r[Kr]!==jr&&($r[Kr]=jr,Dr[Mr]=[Kr,0,Gr],Mr++)}return Dr},Be.prototype.getInitialData=function(Dr,Mr){for(var $r=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],Br=$r.get("type"),zr=filter(Dr.data,function(rn){return rn[2]!==void 0}),Vr=this.fixData(zr||[]),jr=[],Gr=this.nameMap=createHashMap(),Wr=0,Kr=0;Kr<Vr.length;++Kr)jr.push(Vr[Kr][DATA_NAME_INDEX]),Gr.get(Vr[Kr][DATA_NAME_INDEX])||(Gr.set(Vr[Kr][DATA_NAME_INDEX],Wr),Wr++);var Zr=prepareSeriesDataSchema(Vr,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(Br)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,Jr=new SeriesData$1(Zr,this);return Jr.initData(Vr),Jr},Be.prototype.getLayerSeries=function(){for(var Dr=this.getData(),Mr=Dr.count(),$r=[],Br=0;Br<Mr;++Br)$r[Br]=Br;var zr=Dr.mapDimension("single"),Vr=groupData($r,function(Gr){return Dr.get("name",Gr)}),jr=[];return Vr.buckets.each(function(Gr,Wr){Gr.sort(function(Kr,Zr){return Dr.get(zr,Kr)-Dr.get(zr,Zr)}),jr.push({name:Wr,indices:Gr})}),jr},Be.prototype.getAxisTooltipData=function(Dr,Mr,$r){isArray$1(Dr)||(Dr=Dr?[Dr]:[]);for(var Br=this.getData(),zr=this.getLayerSeries(),Vr=[],jr=zr.length,Gr,Wr=0;Wr<jr;++Wr){for(var Kr=Number.MAX_VALUE,Zr=-1,Jr=zr[Wr].indices.length,rn=0;rn<Jr;++rn){var nn=Br.get(Dr[0],zr[Wr].indices[rn]),ln=Math.abs(nn-Mr);ln<=Kr&&(Gr=nn,Kr=ln,Zr=zr[Wr].indices[rn])}Vr.push(Zr)}return{dataIndices:Vr,nestestValue:Gr}},Be.prototype.formatTooltip=function(Dr,Mr,$r){var Br=this.getData(),zr=Br.getName(Dr),Vr=Br.get(Br.mapDimension("value"),Dr);return createTooltipMarkup("nameValue",{name:zr,value:Vr})},Be.type="series.themeRiver",Be.dependencies=["singleAxis"],Be.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},Be}(SeriesModel$1);const ThemeRiverSeriesModel$1=ThemeRiverSeriesModel;function themeRiverLayout(_r,Be){_r.eachSeriesByType("themeRiver",function(Dr){var Mr=Dr.getData(),$r=Dr.coordinateSystem,Br={},zr=$r.getRect();Br.rect=zr;var Vr=Dr.get("boundaryGap"),jr=$r.getAxis();if(Br.boundaryGap=Vr,jr.orient==="horizontal"){Vr[0]=parsePercent(Vr[0],zr.height),Vr[1]=parsePercent(Vr[1],zr.height);var Gr=zr.height-Vr[0]-Vr[1];doThemeRiverLayout(Mr,Dr,Gr)}else{Vr[0]=parsePercent(Vr[0],zr.width),Vr[1]=parsePercent(Vr[1],zr.width);var Wr=zr.width-Vr[0]-Vr[1];doThemeRiverLayout(Mr,Dr,Wr)}Mr.setLayout("layoutInfo",Br)})}function doThemeRiverLayout(_r,Be,Dr){if(_r.count())for(var Mr=Be.coordinateSystem,$r=Be.getLayerSeries(),Br=_r.mapDimension("single"),zr=_r.mapDimension("value"),Vr=map$1($r,function(ln){return map$1(ln.indices,function(cn){var hn=Mr.dataToPoint(_r.get(Br,cn));return hn[1]=_r.get(zr,cn),hn})}),jr=computeBaseline(Vr),Gr=jr.y0,Wr=Dr/jr.max,Kr=$r.length,Zr=$r[0].indices.length,Jr,rn=0;rn<Zr;++rn){Jr=Gr[rn]*Wr,_r.setItemLayout($r[0].indices[rn],{layerIndex:0,x:Vr[0][rn][0],y0:Jr,y:Vr[0][rn][1]*Wr});for(var nn=1;nn<Kr;++nn)Jr+=Vr[nn-1][rn][1]*Wr,_r.setItemLayout($r[nn].indices[rn],{layerIndex:nn,x:Vr[nn][rn][0],y0:Jr,y:Vr[nn][rn][1]*Wr})}}function computeBaseline(_r){for(var Be=_r.length,Dr=_r[0].length,Mr=[],$r=[],Br=0,zr=0;zr<Dr;++zr){for(var Vr=0,jr=0;jr<Be;++jr)Vr+=_r[jr][zr][1];Vr>Br&&(Br=Vr),Mr.push(Vr)}for(var Gr=0;Gr<Dr;++Gr)$r[Gr]=(Br-Mr[Gr])/2;Br=0;for(var Wr=0;Wr<Dr;++Wr){var Kr=Mr[Wr]+$r[Wr];Kr>Br&&(Br=Kr)}return{y0:$r,max:Br}}function install$t(_r){_r.registerChartView(ThemeRiverView$1),_r.registerSeriesModel(ThemeRiverSeriesModel$1),_r.registerLayout(themeRiverLayout),_r.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r,Br){var zr=_r.call(this)||this;zr.z2=DEFAULT_SECTOR_Z,zr.textConfig={inside:!0},getECData(zr).seriesIndex=Mr.seriesIndex;var Vr=new ZRText$1({z2:DEFAULT_TEXT_Z,silent:Dr.getModel().get(["label","silent"])});return zr.setTextContent(Vr),zr.updateData(!0,Dr,Mr,$r,Br),zr}return Be.prototype.updateData=function(Dr,Mr,$r,Br,zr){this.node=Mr,Mr.piece=this,$r=$r||this._seriesModel,Br=Br||this._ecModel;var Vr=this;getECData(Vr).dataIndex=Mr.dataIndex;var jr=Mr.getModel(),Gr=jr.getModel("emphasis"),Wr=Mr.getLayout(),Kr=extend$1({},Wr);Kr.label=null;var Zr=Mr.getVisual("style");Zr.lineJoin="bevel";var Jr=Mr.getVisual("decal");Jr&&(Zr.decal=createOrUpdatePatternFromDecal(Jr,zr));var rn=getSectorCornerRadius(jr.getModel("itemStyle"),Kr,!0);extend$1(Kr,rn),each$f(SPECIAL_STATES,function(hn){var mn=Vr.ensureState(hn),bn=jr.getModel([hn,"itemStyle"]);mn.style=bn.getItemStyle();var An=getSectorCornerRadius(bn,Kr);An&&(mn.shape=An)}),Dr?(Vr.setShape(Kr),Vr.shape.r=Wr.r0,initProps(Vr,{shape:{r:Wr.r}},$r,Mr.dataIndex)):(updateProps$1(Vr,{shape:Kr},$r),saveOldStyle(Vr)),Vr.useStyle(Zr),this._updateLabel($r);var nn=jr.getShallow("cursor");nn&&Vr.attr("cursor",nn),this._seriesModel=$r||this._seriesModel,this._ecModel=Br||this._ecModel;var ln=Gr.get("focus"),cn=ln==="ancestor"?Mr.getAncestorsIndices():ln==="descendant"?Mr.getDescendantIndices():ln;toggleHoverEmphasis(this,cn,Gr.get("blurScope"),Gr.get("disabled"))},Be.prototype._updateLabel=function(Dr){var Mr=this,$r=this.node.getModel(),Br=$r.getModel("label"),zr=this.node.getLayout(),Vr=zr.endAngle-zr.startAngle,jr=(zr.startAngle+zr.endAngle)/2,Gr=Math.cos(jr),Wr=Math.sin(jr),Kr=this,Zr=Kr.getTextContent(),Jr=this.node.dataIndex,rn=Br.get("minAngle")/180*Math.PI,nn=Br.get("show")&&!(rn!=null&&Math.abs(Vr)<rn);Zr.ignore=!nn,each$f(DISPLAY_STATES,function(cn){var hn=cn==="normal"?$r.getModel("label"):$r.getModel([cn,"label"]),mn=cn==="normal",bn=mn?Zr:Zr.ensureState(cn),An=Dr.getFormattedLabel(Jr,cn);mn&&(An=An||Mr.node.name),bn.style=createTextStyle$1(hn,{},null,cn!=="normal",!0),An&&(bn.style.text=An);var vn=hn.get("show");vn!=null&&!mn&&(bn.ignore=!vn);var dn=ln(hn,"position"),wn=mn?Kr:Kr.states[cn],xn=wn.style.fill;wn.textConfig={outsideFill:hn.get("color")==="inherit"?xn:null,inside:dn!=="outside"};var Mn,In=ln(hn,"distance")||0,Hn=ln(hn,"align");dn==="outside"?(Mn=zr.r+In,Hn=jr>Math.PI/2?"right":"left"):!Hn||Hn==="center"?(Vr===2*Math.PI&&zr.r0===0?Mn=0:Mn=(zr.r+zr.r0)/2,Hn="center"):Hn==="left"?(Mn=zr.r0+In,jr>Math.PI/2&&(Hn="right")):Hn==="right"&&(Mn=zr.r-In,jr>Math.PI/2&&(Hn="left")),bn.style.align=Hn,bn.style.verticalAlign=ln(hn,"verticalAlign")||"middle",bn.x=Mn*Gr+zr.cx,bn.y=Mn*Wr+zr.cy;var $n=ln(hn,"rotate"),jn=0;$n==="radial"?(jn=normalizeRadian(-jr),jn>Math.PI/2&&jn<Math.PI*1.5&&(jn+=Math.PI)):$n==="tangential"?(jn=Math.PI/2-jr,jn>Math.PI/2?jn-=Math.PI:jn<-Math.PI/2&&(jn+=Math.PI)):isNumber($n)&&(jn=$n*Math.PI/180),bn.rotation=normalizeRadian(jn)});function ln(cn,hn){var mn=cn.get(hn);return mn??Br.get(hn)}Zr.dirtyStyle()},Be}(Sector$1);const SunburstPiece$1=SunburstPiece;var ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(_r){_r.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(Be,Dr){Dr.eachComponent({mainType:"series",subType:"sunburst",query:Be},Mr);function Mr($r,Br){var zr=retrieveTargetInfo(Be,[ROOT_TO_NODE_ACTION],$r);if(zr){var Vr=$r.getViewRoot();Vr&&(Be.direction=aboveViewRoot(Vr,zr.node)?"rollUp":"drillDown"),$r.resetViewRoot(zr.node)}}}),_r.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(Be,Dr,Mr){Be=extend$1({},Be),Dr.eachComponent({mainType:"series",subType:"sunburst",query:Be},$r);function $r(Br){var zr=retrieveTargetInfo(Be,[HIGHLIGHT_ACTION],Br);zr&&(Be.dataIndex=zr.node.dataIndex)}Mr.dispatchAction(extend$1(Be,{type:"highlight"}))}),_r.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(Be,Dr,Mr){Be=extend$1({},Be),Mr.dispatchAction(extend$1(Be,{type:"downplay"}))})}var SunburstView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){var zr=this;this.seriesModel=Dr,this.api=$r,this.ecModel=Mr;var Vr=Dr.getData(),jr=Vr.tree.root,Gr=Dr.getViewRoot(),Wr=this.group,Kr=Dr.get("renderLabelForZeroData"),Zr=[];Gr.eachNode(function(hn){Zr.push(hn)});var Jr=this._oldChildren||[];rn(Zr,Jr),cn(jr,Gr),this._initEvents(),this._oldChildren=Zr;function rn(hn,mn){if(hn.length===0&&mn.length===0)return;new DataDiffer$1(mn,hn,bn,bn).add(An).update(An).remove(curry$1(An,null)).execute();function bn(vn){return vn.getId()}function An(vn,dn){var wn=vn==null?null:hn[vn],xn=dn==null?null:mn[dn];nn(wn,xn)}}function nn(hn,mn){if(!Kr&&hn&&!hn.getValue()&&(hn=null),hn!==jr&&mn!==jr){if(mn&&mn.piece)hn?(mn.piece.updateData(!1,hn,Dr,Mr,$r),Vr.setItemGraphicEl(hn.dataIndex,mn.piece)):ln(mn);else if(hn){var bn=new SunburstPiece$1(hn,Dr,Mr,$r);Wr.add(bn),Vr.setItemGraphicEl(hn.dataIndex,bn)}}}function ln(hn){hn&&hn.piece&&(Wr.remove(hn.piece),hn.piece=null)}function cn(hn,mn){mn.depth>0?(zr.virtualPiece?zr.virtualPiece.updateData(!1,hn,Dr,Mr,$r):(zr.virtualPiece=new SunburstPiece$1(hn,Dr,Mr,$r),Wr.add(zr.virtualPiece)),mn.piece.off("click"),zr.virtualPiece.on("click",function(bn){zr._rootToNode(mn.parentNode)})):zr.virtualPiece&&(Wr.remove(zr.virtualPiece),zr.virtualPiece=null)}},Be.prototype._initEvents=function(){var Dr=this;this.group.off("click"),this.group.on("click",function(Mr){var $r=!1,Br=Dr.seriesModel.getViewRoot();Br.eachNode(function(zr){if(!$r&&zr.piece&&zr.piece===Mr.target){var Vr=zr.getModel().get("nodeClick");if(Vr==="rootToNode")Dr._rootToNode(zr);else if(Vr==="link"){var jr=zr.getModel(),Gr=jr.get("link");if(Gr){var Wr=jr.get("target",!0)||"_blank";windowOpen(Gr,Wr)}}$r=!0}})})},Be.prototype._rootToNode=function(Dr){Dr!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:Dr})},Be.prototype.containPoint=function(Dr,Mr){var $r=Mr.getData(),Br=$r.getItemLayout(0);if(Br){var zr=Dr[0]-Br.cx,Vr=Dr[1]-Br.cy,jr=Math.sqrt(zr*zr+Vr*Vr);return jr<=Br.r&&jr>=Br.r0}},Be.type="sunburst",Be}(ChartView$1);const SunburstView$1=SunburstView;var SunburstSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.ignoreStyleOnData=!0,Dr}return Be.prototype.getInitialData=function(Dr,Mr){var $r={name:Dr.name,children:Dr.data};completeTreeValue($r);var Br=this._levelModels=map$1(Dr.levels||[],function(jr){return new Model$1(jr,this,Mr)},this),zr=Tree$1.createTree($r,this,Vr);function Vr(jr){jr.wrapMethod("getItemModel",function(Gr,Wr){var Kr=zr.getNodeByDataIndex(Wr),Zr=Br[Kr.depth];return Zr&&(Gr.parentModel=Zr),Gr})}return zr.data},Be.prototype.optionUpdated=function(){this.resetViewRoot()},Be.prototype.getDataParams=function(Dr){var Mr=_r.prototype.getDataParams.apply(this,arguments),$r=this.getData().tree.getNodeByDataIndex(Dr);return Mr.treePathInfo=wrapTreePathInfo($r,this),Mr},Be.prototype.getLevelModel=function(Dr){return this._levelModels&&this._levelModels[Dr.depth]},Be.prototype.getViewRoot=function(){return this._viewRoot},Be.prototype.resetViewRoot=function(Dr){Dr?this._viewRoot=Dr:Dr=this._viewRoot;var Mr=this.getRawData().tree.root;(!Dr||Dr!==Mr&&!Mr.contains(Dr))&&(this._viewRoot=Mr)},Be.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},Be.type="series.sunburst",Be.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},Be}(SeriesModel$1);function completeTreeValue(_r){var Be=0;each$f(_r.children,function(Mr){completeTreeValue(Mr);var $r=Mr.value;isArray$1($r)&&($r=$r[0]),Be+=$r});var Dr=_r.value;isArray$1(Dr)&&(Dr=Dr[0]),(Dr==null||isNaN(Dr))&&(Dr=Be),Dr<0&&(Dr=0),isArray$1(_r.value)?_r.value[0]=Dr:_r.value=Dr}const SunburstSeriesModel$1=SunburstSeriesModel;var RADIAN=Math.PI/180;function sunburstLayout(_r,Be,Dr){Be.eachSeriesByType(_r,function(Mr){var $r=Mr.get("center"),Br=Mr.get("radius");isArray$1(Br)||(Br=[0,Br]),isArray$1($r)||($r=[$r,$r]);var zr=Dr.getWidth(),Vr=Dr.getHeight(),jr=Math.min(zr,Vr),Gr=parsePercent($r[0],zr),Wr=parsePercent($r[1],Vr),Kr=parsePercent(Br[0],jr/2),Zr=parsePercent(Br[1],jr/2),Jr=-Mr.get("startAngle")*RADIAN,rn=Mr.get("minAngle")*RADIAN,nn=Mr.getData().tree.root,ln=Mr.getViewRoot(),cn=ln.depth,hn=Mr.get("sort");hn!=null&&initChildren(ln,hn);var mn=0;each$f(ln.children,function(Gn){!isNaN(Gn.getValue())&&mn++});var bn=ln.getValue(),An=Math.PI/(bn||mn)*2,vn=ln.depth>0,dn=ln.height-(vn?-1:1),wn=(Zr-Kr)/(dn||1),xn=Mr.get("clockwise"),Mn=Mr.get("stillShowZeroSum"),In=xn?1:-1,Hn=function(Gn,ei){if(Gn){var ri=ei;if(Gn!==nn){var vi=Gn.getValue(),wi=bn===0&&Mn?An:vi*An;wi<rn&&(wi=rn),ri=ei+In*wi;var Ni=Gn.depth-cn-(vn?-1:1),Yn=Kr+wn*Ni,Vn=Kr+wn*(Ni+1),si=Mr.getLevelModel(Gn);if(si){var Ri=si.get("r0",!0),Pi=si.get("r",!0),Fi=si.get("radius",!0);Fi!=null&&(Ri=Fi[0],Pi=Fi[1]),Ri!=null&&(Yn=parsePercent(Ri,jr/2)),Pi!=null&&(Vn=parsePercent(Pi,jr/2))}Gn.setLayout({angle:wi,startAngle:ei,endAngle:ri,clockwise:xn,cx:Gr,cy:Wr,r0:Yn,r:Vn})}if(Gn.children&&Gn.children.length){var zi=0;each$f(Gn.children,function(oo){zi+=Hn(oo,ei+zi)})}return ri-ei}};if(vn){var $n=Kr,jn=Kr+wn,Bn=Math.PI*2;nn.setLayout({angle:Bn,startAngle:Jr,endAngle:Jr+Bn,clockwise:xn,cx:Gr,cy:Wr,r0:$n,r:jn})}Hn(ln,Jr)})}function initChildren(_r,Be){var Dr=_r.children||[];_r.children=sort(Dr,Be),Dr.length&&each$f(_r.children,function(Mr){initChildren(Mr,Be)})}function sort(_r,Be){if(isFunction(Be)){var Dr=map$1(_r,function($r,Br){var zr=$r.getValue();return{params:{depth:$r.depth,height:$r.height,dataIndex:$r.dataIndex,getValue:function(){return zr}},index:Br}});return Dr.sort(function($r,Br){return Be($r.params,Br.params)}),map$1(Dr,function($r){return _r[$r.index]})}else{var Mr=Be==="asc";return _r.sort(function($r,Br){var zr=($r.getValue()-Br.getValue())*(Mr?1:-1);return zr===0?($r.dataIndex-Br.dataIndex)*(Mr?-1:1):zr})}}function sunburstVisual(_r){var Be={};function Dr(Mr,$r,Br){for(var zr=Mr;zr&&zr.depth>1;)zr=zr.parentNode;var Vr=$r.getColorFromPalette(zr.name||zr.dataIndex+"",Be);return Mr.depth>1&&isString(Vr)&&(Vr=lift(Vr,(Mr.depth-1)/(Br-1)*.5)),Vr}_r.eachSeriesByType("sunburst",function(Mr){var $r=Mr.getData(),Br=$r.tree;Br.eachNode(function(zr){var Vr=zr.getModel(),jr=Vr.getModel("itemStyle").getItemStyle();jr.fill||(jr.fill=Dr(zr,Mr,Br.root.height));var Gr=$r.ensureUniqueItemVisual(zr.dataIndex,"style");extend$1(Gr,jr)})})}function install$s(_r){_r.registerChartView(SunburstView$1),_r.registerSeriesModel(SunburstSeriesModel$1),_r.registerLayout(curry$1(sunburstLayout,"sunburst")),_r.registerProcessor(curry$1(dataFilter$1,"sunburst")),_r.registerVisual(sunburstVisual),installSunburstAction(_r)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},Be.prototype.getInitialData=function(Dr,Mr){return createSeriesData(null,this)},Be.prototype.getDataParams=function(Dr,Mr,$r){var Br=_r.prototype.getDataParams.call(this,Dr,Mr);return $r&&(Br.info=customInnerStore($r).info),Br},Be.type="series.custom",Be.dependencies=["grid","polar","geo","singleAxis","calendar"],Be.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},Be}(SeriesModel$1);const CustomSeriesModel$1=CustomSeriesModel;function dataToCoordSize$3(_r,Be){return Be=Be||[0,0],map$1(["x","y"],function(Dr,Mr){var $r=this.getAxis(Dr),Br=Be[Mr],zr=_r[Mr]/2;return $r.type==="category"?$r.getBandWidth():Math.abs($r.dataToCoord(Br-zr)-$r.dataToCoord(Br+zr))},this)}function cartesianPrepareCustom(_r){var Be=_r.master.getRect();return{coordSys:{type:"cartesian2d",x:Be.x,y:Be.y,width:Be.width,height:Be.height},api:{coord:function(Dr){return _r.dataToPoint(Dr)},size:bind$1(dataToCoordSize$3,_r)}}}function dataToCoordSize$2(_r,Be){return Be=Be||[0,0],map$1([0,1],function(Dr){var Mr=Be[Dr],$r=_r[Dr]/2,Br=[],zr=[];return Br[Dr]=Mr-$r,zr[Dr]=Mr+$r,Br[1-Dr]=zr[1-Dr]=Be[1-Dr],Math.abs(this.dataToPoint(Br)[Dr]-this.dataToPoint(zr)[Dr])},this)}function geoPrepareCustom(_r){var Be=_r.getBoundingRect();return{coordSys:{type:"geo",x:Be.x,y:Be.y,width:Be.width,height:Be.height,zoom:_r.getZoom()},api:{coord:function(Dr){return _r.dataToPoint(Dr)},size:bind$1(dataToCoordSize$2,_r)}}}function dataToCoordSize$1(_r,Be){var Dr=this.getAxis(),Mr=Be instanceof Array?Be[0]:Be,$r=(_r instanceof Array?_r[0]:_r)/2;return Dr.type==="category"?Dr.getBandWidth():Math.abs(Dr.dataToCoord(Mr-$r)-Dr.dataToCoord(Mr+$r))}function singlePrepareCustom(_r){var Be=_r.getRect();return{coordSys:{type:"singleAxis",x:Be.x,y:Be.y,width:Be.width,height:Be.height},api:{coord:function(Dr){return _r.dataToPoint(Dr)},size:bind$1(dataToCoordSize$1,_r)}}}function dataToCoordSize(_r,Be){return Be=Be||[0,0],map$1(["Radius","Angle"],function(Dr,Mr){var $r="get"+Dr+"Axis",Br=this[$r](),zr=Be[Mr],Vr=_r[Mr]/2,jr=Br.type==="category"?Br.getBandWidth():Math.abs(Br.dataToCoord(zr-Vr)-Br.dataToCoord(zr+Vr));return Dr==="Angle"&&(jr=jr*Math.PI/180),jr},this)}function polarPrepareCustom(_r){var Be=_r.getRadiusAxis(),Dr=_r.getAngleAxis(),Mr=Be.getExtent();return Mr[0]>Mr[1]&&Mr.reverse(),{coordSys:{type:"polar",cx:_r.cx,cy:_r.cy,r:Mr[1],r0:Mr[0]},api:{coord:function($r){var Br=Be.dataToRadius($r[0]),zr=Dr.dataToAngle($r[1]),Vr=_r.coordToPoint([Br,zr]);return Vr.push(Br,zr*Math.PI/180),Vr},size:bind$1(dataToCoordSize,_r)}}}function calendarPrepareCustom(_r){var Be=_r.getRect(),Dr=_r.getRangeInfo();return{coordSys:{type:"calendar",x:Be.x,y:Be.y,width:Be.width,height:Be.height,cellWidth:_r.getCellWidth(),cellHeight:_r.getCellHeight(),rangeInfo:{start:Dr.start,end:Dr.end,weeks:Dr.weeks,dayCount:Dr.allDay}},api:{coord:function(Mr,$r){return _r.dataToPoint(Mr,$r)}}}}function isEC4CompatibleStyle(_r,Be,Dr,Mr){return _r&&(_r.legacy||_r.legacy!==!1&&!Dr&&!Mr&&Be!=="tspan"&&(Be==="text"||hasOwn(_r,"text")))}function convertFromEC4CompatibleStyle(_r,Be,Dr){var Mr=_r,$r,Br,zr;if(Be==="text")zr=Mr;else{zr={},hasOwn(Mr,"text")&&(zr.text=Mr.text),hasOwn(Mr,"rich")&&(zr.rich=Mr.rich),hasOwn(Mr,"textFill")&&(zr.fill=Mr.textFill),hasOwn(Mr,"textStroke")&&(zr.stroke=Mr.textStroke),hasOwn(Mr,"fontFamily")&&(zr.fontFamily=Mr.fontFamily),hasOwn(Mr,"fontSize")&&(zr.fontSize=Mr.fontSize),hasOwn(Mr,"fontStyle")&&(zr.fontStyle=Mr.fontStyle),hasOwn(Mr,"fontWeight")&&(zr.fontWeight=Mr.fontWeight),Br={type:"text",style:zr,silent:!0},$r={};var Vr=hasOwn(Mr,"textPosition");Dr?$r.position=Vr?Mr.textPosition:"inside":Vr&&($r.position=Mr.textPosition),hasOwn(Mr,"textPosition")&&($r.position=Mr.textPosition),hasOwn(Mr,"textOffset")&&($r.offset=Mr.textOffset),hasOwn(Mr,"textRotation")&&($r.rotation=Mr.textRotation),hasOwn(Mr,"textDistance")&&($r.distance=Mr.textDistance)}return convertEC4CompatibleRichItem(zr,_r),each$f(zr.rich,function(jr){convertEC4CompatibleRichItem(jr,jr)}),{textConfig:$r,textContent:Br}}function convertEC4CompatibleRichItem(_r,Be){Be&&(Be.font=Be.textFont||Be.font,hasOwn(Be,"textStrokeWidth")&&(_r.lineWidth=Be.textStrokeWidth),hasOwn(Be,"textAlign")&&(_r.align=Be.textAlign),hasOwn(Be,"textVerticalAlign")&&(_r.verticalAlign=Be.textVerticalAlign),hasOwn(Be,"textLineHeight")&&(_r.lineHeight=Be.textLineHeight),hasOwn(Be,"textWidth")&&(_r.width=Be.textWidth),hasOwn(Be,"textHeight")&&(_r.height=Be.textHeight),hasOwn(Be,"textBackgroundColor")&&(_r.backgroundColor=Be.textBackgroundColor),hasOwn(Be,"textPadding")&&(_r.padding=Be.textPadding),hasOwn(Be,"textBorderColor")&&(_r.borderColor=Be.textBorderColor),hasOwn(Be,"textBorderWidth")&&(_r.borderWidth=Be.textBorderWidth),hasOwn(Be,"textBorderRadius")&&(_r.borderRadius=Be.textBorderRadius),hasOwn(Be,"textBoxShadowColor")&&(_r.shadowColor=Be.textBoxShadowColor),hasOwn(Be,"textBoxShadowBlur")&&(_r.shadowBlur=Be.textBoxShadowBlur),hasOwn(Be,"textBoxShadowOffsetX")&&(_r.shadowOffsetX=Be.textBoxShadowOffsetX),hasOwn(Be,"textBoxShadowOffsetY")&&(_r.shadowOffsetY=Be.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(_r,Be,Dr){var Mr=_r;Mr.textPosition=Mr.textPosition||Dr.position||"inside",Dr.offset!=null&&(Mr.textOffset=Dr.offset),Dr.rotation!=null&&(Mr.textRotation=Dr.rotation),Dr.distance!=null&&(Mr.textDistance=Dr.distance);var $r=Mr.textPosition.indexOf("inside")>=0,Br=_r.fill||"#000";convertToEC4RichItem(Mr,Be);var zr=Mr.textFill==null;return $r?zr&&(Mr.textFill=Dr.insideFill||"#fff",!Mr.textStroke&&Dr.insideStroke&&(Mr.textStroke=Dr.insideStroke),!Mr.textStroke&&(Mr.textStroke=Br),Mr.textStrokeWidth==null&&(Mr.textStrokeWidth=2)):(zr&&(Mr.textFill=_r.fill||Dr.outsideFill||"#000"),!Mr.textStroke&&Dr.outsideStroke&&(Mr.textStroke=Dr.outsideStroke)),Mr.text=Be.text,Mr.rich=Be.rich,each$f(Be.rich,function(Vr){convertToEC4RichItem(Vr,Vr)}),Mr}function convertToEC4RichItem(_r,Be){Be&&(hasOwn(Be,"fill")&&(_r.textFill=Be.fill),hasOwn(Be,"stroke")&&(_r.textStroke=Be.fill),hasOwn(Be,"lineWidth")&&(_r.textStrokeWidth=Be.lineWidth),hasOwn(Be,"font")&&(_r.font=Be.font),hasOwn(Be,"fontStyle")&&(_r.fontStyle=Be.fontStyle),hasOwn(Be,"fontWeight")&&(_r.fontWeight=Be.fontWeight),hasOwn(Be,"fontSize")&&(_r.fontSize=Be.fontSize),hasOwn(Be,"fontFamily")&&(_r.fontFamily=Be.fontFamily),hasOwn(Be,"align")&&(_r.textAlign=Be.align),hasOwn(Be,"verticalAlign")&&(_r.textVerticalAlign=Be.verticalAlign),hasOwn(Be,"lineHeight")&&(_r.textLineHeight=Be.lineHeight),hasOwn(Be,"width")&&(_r.textWidth=Be.width),hasOwn(Be,"height")&&(_r.textHeight=Be.height),hasOwn(Be,"backgroundColor")&&(_r.textBackgroundColor=Be.backgroundColor),hasOwn(Be,"padding")&&(_r.textPadding=Be.padding),hasOwn(Be,"borderColor")&&(_r.textBorderColor=Be.borderColor),hasOwn(Be,"borderWidth")&&(_r.textBorderWidth=Be.borderWidth),hasOwn(Be,"borderRadius")&&(_r.textBorderRadius=Be.borderRadius),hasOwn(Be,"shadowColor")&&(_r.textBoxShadowColor=Be.shadowColor),hasOwn(Be,"shadowBlur")&&(_r.textBoxShadowBlur=Be.shadowBlur),hasOwn(Be,"shadowOffsetX")&&(_r.textBoxShadowOffsetX=Be.shadowOffsetX),hasOwn(Be,"shadowOffsetY")&&(_r.textBoxShadowOffsetY=Be.shadowOffsetY),hasOwn(Be,"textShadowColor")&&(_r.textShadowColor=Be.textShadowColor),hasOwn(Be,"textShadowBlur")&&(_r.textShadowBlur=Be.textShadowBlur),hasOwn(Be,"textShadowOffsetX")&&(_r.textShadowOffsetX=Be.textShadowOffsetX),hasOwn(Be,"textShadowOffsetY")&&(_r.textShadowOffsetY=Be.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(_r,Be){return _r[Be]=1,_r},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(_r,Be,Dr,Mr,$r){var Br=_r+"Animation",zr=getAnimationConfig(_r,Mr,$r)||{},Vr=transitionInnerStore(Be).userDuring;return zr.duration>0&&(zr.during=Vr?bind$1(duringCall,{el:Be,userDuring:Vr}):null,zr.setToFinal=!0,zr.scope=_r),extend$1(zr,Dr[Br]),zr}function applyUpdateTransition(_r,Be,Dr,Mr){Mr=Mr||{};var $r=Mr.dataIndex,Br=Mr.isInit,zr=Mr.clearStyle,Vr=Dr.isAnimationEnabled(),jr=transitionInnerStore(_r),Gr=Be.style;jr.userDuring=Be.during;var Wr={},Kr={};if(prepareTransformAllPropsFinal(_r,Be,Kr),prepareShapeOrExtraAllPropsFinal("shape",Be,Kr),prepareShapeOrExtraAllPropsFinal("extra",Be,Kr),!Br&&Vr&&(prepareTransformTransitionFrom(_r,Be,Wr),prepareShapeOrExtraTransitionFrom("shape",_r,Be,Wr),prepareShapeOrExtraTransitionFrom("extra",_r,Be,Wr),prepareStyleTransitionFrom(_r,Be,Gr,Wr)),Kr.style=Gr,applyPropsDirectly(_r,Kr,zr),applyMiscProps(_r,Be),Vr)if(Br){var Zr={};each$f(ELEMENT_ANIMATABLE_PROPS,function(rn){var nn=rn?Be[rn]:Be;nn&&nn.enterFrom&&(rn&&(Zr[rn]=Zr[rn]||{}),extend$1(rn?Zr[rn]:Zr,nn.enterFrom))});var Jr=getElementAnimationConfig("enter",_r,Be,Dr,$r);Jr.duration>0&&_r.animateFrom(Zr,Jr)}else applyPropsTransition(_r,Be,$r||0,Dr,Wr);updateLeaveTo(_r,Be),Gr?_r.dirty():_r.markRedraw()}function updateLeaveTo(_r,Be){for(var Dr=transitionInnerStore(_r).leaveToProps,Mr=0;Mr<ELEMENT_ANIMATABLE_PROPS.length;Mr++){var $r=ELEMENT_ANIMATABLE_PROPS[Mr],Br=$r?Be[$r]:Be;Br&&Br.leaveTo&&(Dr||(Dr=transitionInnerStore(_r).leaveToProps={}),$r&&(Dr[$r]=Dr[$r]||{}),extend$1($r?Dr[$r]:Dr,Br.leaveTo))}}function applyLeaveTransition(_r,Be,Dr,Mr){if(_r){var $r=_r.parent,Br=transitionInnerStore(_r).leaveToProps;if(Br){var zr=getElementAnimationConfig("update",_r,Be,Dr,0);zr.done=function(){$r.remove(_r),Mr&&Mr()},_r.animateTo(Br,zr)}else $r.remove(_r),Mr&&Mr()}}function isTransitionAll(_r){return _r==="all"}function applyPropsDirectly(_r,Be,Dr){var Mr=Be.style;if(!_r.isGroup&&Mr){if(Dr){_r.useStyle({});for(var $r=_r.animators,Br=0;Br<$r.length;Br++){var zr=$r[Br];zr.targetName==="style"&&zr.changeTarget(_r.style)}}_r.setStyle(Mr)}Be&&(Be.style=null,Be&&_r.attr(Be),Be.style=Mr)}function applyPropsTransition(_r,Be,Dr,Mr,$r){if($r){var Br=getElementAnimationConfig("update",_r,Be,Mr,Dr);Br.duration>0&&_r.animateFrom($r,Br)}}function applyMiscProps(_r,Be){hasOwn(Be,"silent")&&(_r.silent=Be.silent),hasOwn(Be,"ignore")&&(_r.ignore=Be.ignore),_r instanceof Displayable$1&&hasOwn(Be,"invisible")&&(_r.invisible=Be.invisible),_r instanceof Path$1&&hasOwn(Be,"autoBatch")&&(_r.autoBatch=Be.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(_r,Be){return tmpDuringScope.el[_r]=Be,this},getTransform:function(_r){return tmpDuringScope.el[_r]},setShape:function(_r,Be){var Dr=tmpDuringScope.el,Mr=Dr.shape||(Dr.shape={});return Mr[_r]=Be,Dr.dirtyShape&&Dr.dirtyShape(),this},getShape:function(_r){var Be=tmpDuringScope.el.shape;if(Be)return Be[_r]},setStyle:function(_r,Be){var Dr=tmpDuringScope.el,Mr=Dr.style;return Mr&&(Mr[_r]=Be,Dr.dirtyStyle&&Dr.dirtyStyle()),this},getStyle:function(_r){var Be=tmpDuringScope.el.style;if(Be)return Be[_r]},setExtra:function(_r,Be){var Dr=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return Dr[_r]=Be,this},getExtra:function(_r){var Be=tmpDuringScope.el.extra;if(Be)return Be[_r]}};function duringCall(){var _r=this,Be=_r.el;if(Be){var Dr=transitionInnerStore(Be).userDuring,Mr=_r.userDuring;if(Dr!==Mr){_r.el=_r.userDuring=null;return}tmpDuringScope.el=Be,Mr(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(_r,Be,Dr,Mr){var $r=Dr[_r];if($r){var Br=Be[_r],zr;if(Br){var Vr=Dr.transition,jr=$r.transition;if(jr)if(!zr&&(zr=Mr[_r]={}),isTransitionAll(jr))extend$1(zr,Br);else for(var Gr=normalizeToArray(jr),Wr=0;Wr<Gr.length;Wr++){var Kr=Gr[Wr],Zr=Br[Kr];zr[Kr]=Zr}else if(isTransitionAll(Vr)||indexOf(Vr,_r)>=0){!zr&&(zr=Mr[_r]={});for(var Jr=keys(Br),Wr=0;Wr<Jr.length;Wr++){var Kr=Jr[Wr],Zr=Br[Kr];isNonStyleTransitionEnabled($r[Kr],Zr)&&(zr[Kr]=Zr)}}}}}function prepareShapeOrExtraAllPropsFinal(_r,Be,Dr){var Mr=Be[_r];if(Mr)for(var $r=Dr[_r]={},Br=keys(Mr),zr=0;zr<Br.length;zr++){var Vr=Br[zr];$r[Vr]=cloneValue(Mr[Vr])}}function prepareTransformTransitionFrom(_r,Be,Dr){for(var Mr=Be.transition,$r=isTransitionAll(Mr)?TRANSFORMABLE_PROPS:normalizeToArray(Mr||[]),Br=0;Br<$r.length;Br++){var zr=$r[Br];if(!(zr==="style"||zr==="shape"||zr==="extra")){var Vr=_r[zr];Dr[zr]=Vr}}}function prepareTransformAllPropsFinal(_r,Be,Dr){for(var Mr=0;Mr<LEGACY_TRANSFORM_PROPS.length;Mr++){var $r=LEGACY_TRANSFORM_PROPS[Mr],Br=LEGACY_TRANSFORM_PROPS_MAP[$r],zr=Be[$r];zr&&(Dr[Br[0]]=zr[0],Dr[Br[1]]=zr[1])}for(var Mr=0;Mr<TRANSFORMABLE_PROPS.length;Mr++){var Vr=TRANSFORMABLE_PROPS[Mr];Be[Vr]!=null&&(Dr[Vr]=Be[Vr])}}function prepareStyleTransitionFrom(_r,Be,Dr,Mr){if(Dr){var $r=_r.style,Br;if($r){var zr=Dr.transition,Vr=Be.transition;if(zr&&!isTransitionAll(zr)){var jr=normalizeToArray(zr);!Br&&(Br=Mr.style={});for(var Gr=0;Gr<jr.length;Gr++){var Wr=jr[Gr],Kr=$r[Wr];Br[Wr]=Kr}}else if(_r.getAnimationStyleProps&&(isTransitionAll(Vr)||isTransitionAll(zr)||indexOf(Vr,"style")>=0)){var Zr=_r.getAnimationStyleProps(),Jr=Zr?Zr.style:null;if(Jr){!Br&&(Br=Mr.style={});for(var rn=keys(Dr),Gr=0;Gr<rn.length;Gr++){var Wr=rn[Gr];if(Jr[Wr]){var Kr=$r[Wr];Br[Wr]=Kr}}}}}}}function isNonStyleTransitionEnabled(_r,Be){return isArrayLike(_r)?_r!==Be:_r!=null&&isFinite(_r)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(_r){_r.stopAnimation("keyframe"),_r.attr(getStateToRestore(_r))}function applyKeyframeAnimation(_r,Be,Dr){if(!(!Dr.isAnimationEnabled()||!Be)){if(isArray$1(Be)){each$f(Be,function(Vr){applyKeyframeAnimation(_r,Vr,Dr)});return}var Mr=Be.keyframes,$r=Be.duration;if(Dr&&$r==null){var Br=getAnimationConfig("enter",Dr,0);$r=Br&&Br.duration}if(!(!Mr||!$r)){var zr=getStateToRestore(_r);each$f(ELEMENT_ANIMATABLE_PROPS,function(Vr){if(!(Vr&&!_r[Vr])){var jr;Mr.sort(function(Gr,Wr){return Gr.percent-Wr.percent}),each$f(Mr,function(Gr){var Wr=_r.animators,Kr=Vr?Gr[Vr]:Gr;if(Kr){var Zr=keys(Kr);if(Vr||(Zr=filter(Zr,function(nn){return indexOf(KEYFRAME_EXCLUDE_KEYS,nn)<0})),!!Zr.length){jr||(jr=_r.animate(Vr,Be.loop,!0),jr.scope="keyframe");for(var Jr=0;Jr<Wr.length;Jr++)Wr[Jr]!==jr&&Wr[Jr].targetName===jr.targetName&&Wr[Jr].stopTracks(Zr);Vr&&(zr[Vr]=zr[Vr]||{});var rn=Vr?zr[Vr]:zr;each$f(Zr,function(nn){rn[nn]=((Vr?_r[Vr]:_r)||{})[nn]}),jr.whenWithKeys($r*Gr.percent,Kr,Zr,Gr.easing)}}}),jr&&jr.delay(Be.delay||0).duration($r).start(Be.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(_r){return _r instanceof Path$1}function isDisplayable(_r){return _r instanceof Displayable$1}function copyElement(_r,Be){Be.copyTransform(_r),isDisplayable(Be)&&isDisplayable(_r)&&(Be.setStyle(_r.style),Be.z=_r.z,Be.z2=_r.z2,Be.zlevel=_r.zlevel,Be.invisible=_r.invisible,Be.ignore=_r.ignore,isPath(Be)&&isPath(_r)&&Be.setShape(_r.shape))}var CustomChartView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){this._progressiveEls=null;var zr=this._data,Vr=Dr.getData(),jr=this.group,Gr=makeRenderItem(Dr,Vr,Mr,$r);zr||jr.removeAll(),Vr.diff(zr).add(function(Kr){createOrUpdateItem($r,null,Kr,Gr(Kr,Br),Dr,jr,Vr)}).remove(function(Kr){var Zr=zr.getItemGraphicEl(Kr);Zr&&applyLeaveTransition(Zr,customInnerStore(Zr).option,Dr)}).update(function(Kr,Zr){var Jr=zr.getItemGraphicEl(Zr);createOrUpdateItem($r,Jr,Kr,Gr(Kr,Br),Dr,jr,Vr)}).execute();var Wr=Dr.get("clip",!0)?createClipPath(Dr.coordinateSystem,!1,Dr):null;Wr?jr.setClipPath(Wr):jr.removeClipPath(),this._data=Vr},Be.prototype.incrementalPrepareRender=function(Dr,Mr,$r){this.group.removeAll(),this._data=null},Be.prototype.incrementalRender=function(Dr,Mr,$r,Br,zr){var Vr=Mr.getData(),jr=makeRenderItem(Mr,Vr,$r,Br),Gr=this._progressiveEls=[];function Wr(Jr){Jr.isGroup||(Jr.incremental=!0,Jr.ensureState("emphasis").hoverLayer=!0)}for(var Kr=Dr.start;Kr<Dr.end;Kr++){var Zr=createOrUpdateItem(null,null,Kr,jr(Kr,zr),Mr,this.group,Vr);Zr&&(Zr.traverse(Wr),Gr.push(Zr))}},Be.prototype.eachRendered=function(Dr){traverseElements(this._progressiveEls||this.group,Dr)},Be.prototype.filterForExposedEvent=function(Dr,Mr,$r,Br){var zr=Mr.element;if(zr==null||$r.name===zr)return!0;for(;($r=$r.__hostTarget||$r.parent)&&$r!==this.group;)if($r.name===zr)return!0;return!1},Be.type="custom",Be}(ChartView$1);const CustomChartView$1=CustomChartView;function createEl$1(_r){var Be=_r.type,Dr;if(Be==="path"){var Mr=_r.shape,$r=Mr.width!=null&&Mr.height!=null?{x:Mr.x||0,y:Mr.y||0,width:Mr.width,height:Mr.height}:null,Br=getPathData(Mr);Dr=makePath(Br,null,$r,Mr.layout||"center"),customInnerStore(Dr).customPathData=Br}else if(Be==="image")Dr=new ZRImage$1({}),customInnerStore(Dr).customImagePath=_r.style.image;else if(Be==="text")Dr=new ZRText$1({});else if(Be==="group")Dr=new Group$4;else{if(Be==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var zr=getShapeClass(Be);if(!zr){var Vr="";throwError(Vr)}Dr=new zr}return customInnerStore(Dr).customGraphicType=Be,Dr.name=_r.name,Dr.z2EmphasisLift=1,Dr.z2SelectLift=1,Dr}function updateElNormal(_r,Be,Dr,Mr,$r,Br,zr){stopPreviousKeyframeAnimationAndRestore(Be);var Vr=$r&&$r.normal.cfg;Vr&&Be.setTextConfig(Vr),Mr&&Mr.transition==null&&(Mr.transition=DEFAULT_TRANSITION);var jr=Mr&&Mr.style;if(jr){if(Be.type==="text"){var Gr=jr;hasOwn(Gr,"textFill")&&(Gr.fill=Gr.textFill),hasOwn(Gr,"textStroke")&&(Gr.stroke=Gr.textStroke)}var Wr=void 0,Kr=isPath(Be)?jr.decal:null;_r&&Kr&&(Kr.dirty=!0,Wr=createOrUpdatePatternFromDecal(Kr,_r)),jr.__decalPattern=Wr}if(isDisplayable(Be)&&jr){var Wr=jr.__decalPattern;Wr&&(jr.decal=Wr)}applyUpdateTransition(Be,Mr,Br,{dataIndex:Dr,isInit:zr,clearStyle:!0}),applyKeyframeAnimation(Be,Mr.keyframeAnimation,Br)}function updateElOnState(_r,Be,Dr,Mr,$r){var Br=Be.isGroup?null:Be,zr=$r&&$r[_r].cfg;if(Br){var Vr=Br.ensureState(_r);if(Mr===!1){var jr=Br.getState(_r);jr&&(jr.style=null)}else Vr.style=Mr||null;zr&&(Vr.textConfig=zr),setDefaultStateProxy(Br)}}function updateZ(_r,Be,Dr){if(!_r.isGroup){var Mr=_r,$r=Dr.currentZ,Br=Dr.currentZLevel;Mr.z=$r,Mr.zlevel=Br;var zr=Be.z2;zr!=null&&(Mr.z2=zr||0);for(var Vr=0;Vr<STATES.length;Vr++)updateZForEachState(Mr,Be,STATES[Vr])}}function updateZForEachState(_r,Be,Dr){var Mr=Dr===NORMAL,$r=Mr?Be:retrieveStateOption(Be,Dr),Br=$r?$r.z2:null,zr;Br!=null&&(zr=Mr?_r:_r.ensureState(Dr),zr.z2=Br||0)}function makeRenderItem(_r,Be,Dr,Mr){var $r=_r.get("renderItem"),Br=_r.coordinateSystem,zr={};Br&&(zr=Br.prepareCustoms?Br.prepareCustoms(Br):prepareCustoms[Br.type](Br));for(var Vr=defaults({getWidth:Mr.getWidth,getHeight:Mr.getHeight,getZr:Mr.getZr,getDevicePixelRatio:Mr.getDevicePixelRatio,value:bn,style:vn,ordinalRawValue:An,styleEmphasis:dn,visual:Mn,barLayout:In,currentSeriesIndices:Hn,font:$n},zr.api||{}),jr={context:{},seriesId:_r.id,seriesName:_r.name,seriesIndex:_r.seriesIndex,coordSys:zr.coordSys,dataInsideLength:Be.count(),encode:wrapEncodeDef(_r.getData())},Gr,Wr,Kr={},Zr={},Jr={},rn={},nn=0;nn<STATES.length;nn++){var ln=STATES[nn];Jr[ln]=_r.getModel(PATH_ITEM_STYLE[ln]),rn[ln]=_r.getModel(PATH_LABEL[ln])}function cn(jn){return jn===Gr?Wr||(Wr=Be.getItemModel(jn)):Be.getItemModel(jn)}function hn(jn,Bn){return Be.hasItemOption?jn===Gr?Kr[Bn]||(Kr[Bn]=cn(jn).getModel(PATH_ITEM_STYLE[Bn])):cn(jn).getModel(PATH_ITEM_STYLE[Bn]):Jr[Bn]}function mn(jn,Bn){return Be.hasItemOption?jn===Gr?Zr[Bn]||(Zr[Bn]=cn(jn).getModel(PATH_LABEL[Bn])):cn(jn).getModel(PATH_LABEL[Bn]):rn[Bn]}return function(jn,Bn){return Gr=jn,Wr=null,Kr={},Zr={},$r&&$r(defaults({dataIndexInside:jn,dataIndex:Be.getRawIndex(jn),actionType:Bn?Bn.type:null},jr),Vr)};function bn(jn,Bn){return Bn==null&&(Bn=Gr),Be.getStore().get(Be.getDimensionIndex(jn||0),Bn)}function An(jn,Bn){Bn==null&&(Bn=Gr),jn=jn||0;var Gn=Be.getDimensionInfo(jn);if(!Gn){var ei=Be.getDimensionIndex(jn);return ei>=0?Be.getStore().get(ei,Bn):void 0}var ri=Be.get(Gn.name,Bn),vi=Gn&&Gn.ordinalMeta;return vi?vi.categories[ri]:ri}function vn(jn,Bn){Bn==null&&(Bn=Gr);var Gn=Be.getItemVisual(Bn,"style"),ei=Gn&&Gn.fill,ri=Gn&&Gn.opacity,vi=hn(Bn,NORMAL).getItemStyle();ei!=null&&(vi.fill=ei),ri!=null&&(vi.opacity=ri);var wi={inheritColor:isString(ei)?ei:"#000"},Ni=mn(Bn,NORMAL),Yn=createTextStyle$1(Ni,null,wi,!1,!0);Yn.text=Ni.getShallow("show")?retrieve2(_r.getFormattedLabel(Bn,NORMAL),getDefaultLabel(Be,Bn)):null;var Vn=createTextConfig(Ni,wi,!1);return xn(jn,vi),vi=convertToEC4StyleForCustomSerise(vi,Yn,Vn),jn&&wn(vi,jn),vi.legacy=!0,vi}function dn(jn,Bn){Bn==null&&(Bn=Gr);var Gn=hn(Bn,EMPHASIS).getItemStyle(),ei=mn(Bn,EMPHASIS),ri=createTextStyle$1(ei,null,null,!0,!0);ri.text=ei.getShallow("show")?retrieve3(_r.getFormattedLabel(Bn,EMPHASIS),_r.getFormattedLabel(Bn,NORMAL),getDefaultLabel(Be,Bn)):null;var vi=createTextConfig(ei,null,!0);return xn(jn,Gn),Gn=convertToEC4StyleForCustomSerise(Gn,ri,vi),jn&&wn(Gn,jn),Gn.legacy=!0,Gn}function wn(jn,Bn){for(var Gn in Bn)hasOwn(Bn,Gn)&&(jn[Gn]=Bn[Gn])}function xn(jn,Bn){jn&&(jn.textFill&&(Bn.textFill=jn.textFill),jn.textPosition&&(Bn.textPosition=jn.textPosition))}function Mn(jn,Bn){if(Bn==null&&(Bn=Gr),hasOwn(STYLE_VISUAL_TYPE,jn)){var Gn=Be.getItemVisual(Bn,"style");return Gn?Gn[STYLE_VISUAL_TYPE[jn]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,jn))return Be.getItemVisual(Bn,jn)}function In(jn){if(Br.type==="cartesian2d"){var Bn=Br.getBaseAxis();return getLayoutOnAxis(defaults({axis:Bn},jn))}}function Hn(){return Dr.getCurrentSeriesIndices()}function $n(jn){return getFont(jn,Dr)}}function wrapEncodeDef(_r){var Be={};return each$f(_r.dimensions,function(Dr){var Mr=_r.getDimensionInfo(Dr);if(!Mr.isExtraCoord){var $r=Mr.coordDim,Br=Be[$r]=Be[$r]||[];Br[Mr.coordDimIndex]=_r.getDimensionIndex(Dr)}}),Be}function createOrUpdateItem(_r,Be,Dr,Mr,$r,Br,zr){if(!Mr){Br.remove(Be);return}var Vr=doCreateOrUpdateEl(_r,Be,Dr,Mr,$r,Br);return Vr&&zr.setItemGraphicEl(Dr,Vr),Vr&&toggleHoverEmphasis(Vr,Mr.focus,Mr.blurScope,Mr.emphasisDisabled),Vr}function doCreateOrUpdateEl(_r,Be,Dr,Mr,$r,Br){var zr=-1,Vr=Be;Be&&doesElNeedRecreate(Be,Mr,$r)&&(zr=indexOf(Br.childrenRef(),Be),Be=null);var jr=!Be,Gr=Be;Gr?Gr.clearStates():(Gr=createEl$1(Mr),Vr&&copyElement(Vr,Gr)),Mr.morph===!1?Gr.disableMorphing=!0:Gr.disableMorphing&&(Gr.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(Gr,Dr,Mr,$r,jr,attachedTxInfoTmp),doCreateOrUpdateClipPath(Gr,Dr,Mr,$r,jr),updateElNormal(_r,Gr,Dr,Mr,attachedTxInfoTmp,$r,jr),hasOwn(Mr,"info")&&(customInnerStore(Gr).info=Mr.info);for(var Wr=0;Wr<STATES.length;Wr++){var Kr=STATES[Wr];if(Kr!==NORMAL){var Zr=retrieveStateOption(Mr,Kr),Jr=retrieveStyleOptionOnState(Mr,Zr,Kr);updateElOnState(Kr,Gr,Zr,Jr,attachedTxInfoTmp)}}return updateZ(Gr,Mr,$r),Mr.type==="group"&&mergeChildren(_r,Gr,Dr,Mr,$r),zr>=0?Br.replaceAt(Gr,zr):Br.add(Gr),Gr}function doesElNeedRecreate(_r,Be,Dr){var Mr=customInnerStore(_r),$r=Be.type,Br=Be.shape,zr=Be.style;return Dr.isUniversalTransitionEnabled()||$r!=null&&$r!==Mr.customGraphicType||$r==="path"&&hasOwnPathData(Br)&&getPathData(Br)!==Mr.customPathData||$r==="image"&&hasOwn(zr,"image")&&zr.image!==Mr.customImagePath}function doCreateOrUpdateClipPath(_r,Be,Dr,Mr,$r){var Br=Dr.clipPath;if(Br===!1)_r&&_r.getClipPath()&&_r.removeClipPath();else if(Br){var zr=_r.getClipPath();zr&&doesElNeedRecreate(zr,Br,Mr)&&(zr=null),zr||(zr=createEl$1(Br),_r.setClipPath(zr)),updateElNormal(null,zr,Be,Br,null,Mr,$r)}}function doCreateOrUpdateAttachedTx(_r,Be,Dr,Mr,$r,Br){if(!_r.isGroup){processTxInfo(Dr,null,Br),processTxInfo(Dr,EMPHASIS,Br);var zr=Br.normal.conOpt,Vr=Br.emphasis.conOpt,jr=Br.blur.conOpt,Gr=Br.select.conOpt;if(zr!=null||Vr!=null||Gr!=null||jr!=null){var Wr=_r.getTextContent();if(zr===!1)Wr&&_r.removeTextContent();else{zr=Br.normal.conOpt=zr||{type:"text"},Wr?Wr.clearStates():(Wr=createEl$1(zr),_r.setTextContent(Wr)),updateElNormal(null,Wr,Be,zr,null,Mr,$r);for(var Kr=zr&&zr.style,Zr=0;Zr<STATES.length;Zr++){var Jr=STATES[Zr];if(Jr!==NORMAL){var rn=Br[Jr].conOpt;updateElOnState(Jr,Wr,rn,retrieveStyleOptionOnState(zr,rn,Jr),null)}}Kr?Wr.dirty():Wr.markRedraw()}}}}function processTxInfo(_r,Be,Dr){var Mr=Be?retrieveStateOption(_r,Be):_r,$r=Be?retrieveStyleOptionOnState(_r,Mr,EMPHASIS):_r.style,Br=_r.type,zr=Mr?Mr.textConfig:null,Vr=_r.textContent,jr=Vr?Be?retrieveStateOption(Vr,Be):Vr:null;if($r&&(Dr.isLegacy||isEC4CompatibleStyle($r,Br,!!zr,!!jr))){Dr.isLegacy=!0;var Gr=convertFromEC4CompatibleStyle($r,Br,!Be);!zr&&Gr.textConfig&&(zr=Gr.textConfig),!jr&&Gr.textContent&&(jr=Gr.textContent)}if(!Be&&jr){var Wr=jr;!Wr.type&&(Wr.type="text")}var Kr=Be?Dr[Be]:Dr.normal;Kr.cfg=zr,Kr.conOpt=jr}function retrieveStateOption(_r,Be){return Be?_r?_r[Be]:null:_r}function retrieveStyleOptionOnState(_r,Be,Dr){var Mr=Be&&Be.style;return Mr==null&&Dr===EMPHASIS&&_r&&(Mr=_r.styleEmphasis),Mr}function mergeChildren(_r,Be,Dr,Mr,$r){var Br=Mr.children,zr=Br?Br.length:0,Vr=Mr.$mergeChildren,jr=Vr==="byName"||Mr.diffChildrenByName,Gr=Vr===!1;if(!(!zr&&!jr&&!Gr)){if(jr){diffGroupChildren({api:_r,oldChildren:Be.children()||[],newChildren:Br||[],dataIndex:Dr,seriesModel:$r,group:Be});return}Gr&&Be.removeAll();for(var Wr=0;Wr<zr;Wr++){var Kr=Br[Wr],Zr=Be.childAt(Wr);Kr?(Kr.ignore==null&&(Kr.ignore=!1),doCreateOrUpdateEl(_r,Zr,Dr,Kr,$r,Be)):Zr.ignore=!0}for(var Jr=Be.childCount()-1;Jr>=Wr;Jr--){var rn=Be.childAt(Jr);removeChildFromGroup(Be,rn,$r)}}}function removeChildFromGroup(_r,Be,Dr){Be&&applyLeaveTransition(Be,customInnerStore(_r).option,Dr)}function diffGroupChildren(_r){new DataDiffer$1(_r.oldChildren,_r.newChildren,getKey,getKey,_r).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(_r,Be){var Dr=_r&&_r.name;return Dr??GROUP_DIFF_PREFIX+Be}function processAddUpdate(_r,Be){var Dr=this.context,Mr=_r!=null?Dr.newChildren[_r]:null,$r=Be!=null?Dr.oldChildren[Be]:null;doCreateOrUpdateEl(Dr.api,$r,Dr.dataIndex,Mr,Dr.seriesModel,Dr.group)}function processRemove(_r){var Be=this.context,Dr=Be.oldChildren[_r];Dr&&applyLeaveTransition(Dr,customInnerStore(Dr).option,Be.seriesModel)}function getPathData(_r){return _r&&(_r.pathData||_r.d)}function hasOwnPathData(_r){return _r&&(hasOwn(_r,"pathData")||hasOwn(_r,"d"))}function install$r(_r){_r.registerChartView(CustomChartView$1),_r.registerSeriesModel(CustomSeriesModel$1)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function _r(){this._dragging=!1,this.animationThreshold=15}return _r.prototype.render=function(Be,Dr,Mr,$r){var Br=Dr.get("value"),zr=Dr.get("status");if(this._axisModel=Be,this._axisPointerModel=Dr,this._api=Mr,!(!$r&&this._lastValue===Br&&this._lastStatus===zr)){this._lastValue=Br,this._lastStatus=zr;var Vr=this._group,jr=this._handle;if(!zr||zr==="hide"){Vr&&Vr.hide(),jr&&jr.hide();return}Vr&&Vr.show(),jr&&jr.show();var Gr={};this.makeElOption(Gr,Br,Be,Dr,Mr);var Wr=Gr.graphicKey;Wr!==this._lastGraphicKey&&this.clear(Mr),this._lastGraphicKey=Wr;var Kr=this._moveAnimation=this.determineAnimation(Be,Dr);if(!Vr)Vr=this._group=new Group$4,this.createPointerEl(Vr,Gr,Be,Dr),this.createLabelEl(Vr,Gr,Be,Dr),Mr.getZr().add(Vr);else{var Zr=curry$1(updateProps,Dr,Kr);this.updatePointerEl(Vr,Gr,Zr),this.updateLabelEl(Vr,Gr,Zr,Dr)}updateMandatoryProps(Vr,Dr,!0),this._renderHandle(Br)}},_r.prototype.remove=function(Be){this.clear(Be)},_r.prototype.dispose=function(Be){this.clear(Be)},_r.prototype.determineAnimation=function(Be,Dr){var Mr=Dr.get("animation"),$r=Be.axis,Br=$r.type==="category",zr=Dr.get("snap");if(!zr&&!Br)return!1;if(Mr==="auto"||Mr==null){var Vr=this.animationThreshold;if(Br&&$r.getBandWidth()>Vr)return!0;if(zr){var jr=getAxisInfo$1(Be).seriesDataCount,Gr=$r.getExtent();return Math.abs(Gr[0]-Gr[1])/jr>Vr}return!1}return Mr===!0},_r.prototype.makeElOption=function(Be,Dr,Mr,$r,Br){},_r.prototype.createPointerEl=function(Be,Dr,Mr,$r){var Br=Dr.pointer;if(Br){var zr=inner$b(Be).pointerEl=new graphic$1[Br.type](clone$1(Dr.pointer));Be.add(zr)}},_r.prototype.createLabelEl=function(Be,Dr,Mr,$r){if(Dr.label){var Br=inner$b(Be).labelEl=new ZRText$1(clone$1(Dr.label));Be.add(Br),updateLabelShowHide(Br,$r)}},_r.prototype.updatePointerEl=function(Be,Dr,Mr){var $r=inner$b(Be).pointerEl;$r&&Dr.pointer&&($r.setStyle(Dr.pointer.style),Mr($r,{shape:Dr.pointer.shape}))},_r.prototype.updateLabelEl=function(Be,Dr,Mr,$r){var Br=inner$b(Be).labelEl;Br&&(Br.setStyle(Dr.label.style),Mr(Br,{x:Dr.label.x,y:Dr.label.y}),updateLabelShowHide(Br,$r))},_r.prototype._renderHandle=function(Be){if(!(this._dragging||!this.updateHandleTransform)){var Dr=this._axisPointerModel,Mr=this._api.getZr(),$r=this._handle,Br=Dr.getModel("handle"),zr=Dr.get("status");if(!Br.get("show")||!zr||zr==="hide"){$r&&Mr.remove($r),this._handle=null;return}var Vr;this._handle||(Vr=!0,$r=this._handle=createIcon(Br.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(Gr){stop(Gr.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),Mr.add($r)),updateMandatoryProps($r,Dr,!1),$r.setStyle(Br.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var jr=Br.get("size");isArray$1(jr)||(jr=[jr,jr]),$r.scaleX=jr[0]/2,$r.scaleY=jr[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",Br.get("throttle")||0,"fixRate"),this._moveHandleToValue(Be,Vr)}},_r.prototype._moveHandleToValue=function(Be,Dr){updateProps(this._axisPointerModel,!Dr&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(Be,this._axisModel,this._axisPointerModel)))},_r.prototype._onHandleDragMove=function(Be,Dr){var Mr=this._handle;if(Mr){this._dragging=!0;var $r=this.updateHandleTransform(getHandleTransProps(Mr),[Be,Dr],this._axisModel,this._axisPointerModel);this._payloadInfo=$r,Mr.stopAnimation(),Mr.attr(getHandleTransProps($r)),inner$b(Mr).lastProp=null,this._doDispatchAxisPointer()}},_r.prototype._doDispatchAxisPointer=function(){var Be=this._handle;if(Be){var Dr=this._payloadInfo,Mr=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:Dr.cursorPoint[0],y:Dr.cursorPoint[1],tooltipOption:Dr.tooltipOption,axesInfo:[{axisDim:Mr.axis.dim,axisIndex:Mr.componentIndex}]})}},_r.prototype._onHandleDragEnd=function(){this._dragging=!1;var Be=this._handle;if(Be){var Dr=this._axisPointerModel.get("value");this._moveHandleToValue(Dr),this._api.dispatchAction({type:"hideTip"})}},_r.prototype.clear=function(Be){this._lastValue=null,this._lastStatus=null;var Dr=Be.getZr(),Mr=this._group,$r=this._handle;Dr&&Mr&&(this._lastGraphicKey=null,Mr&&Dr.remove(Mr),$r&&Dr.remove($r),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},_r.prototype.doClear=function(){},_r.prototype.buildLabel=function(Be,Dr,Mr){return Mr=Mr||0,{x:Be[Mr],y:Be[1-Mr],width:Dr[Mr],height:Dr[1-Mr]}},_r}();function updateProps(_r,Be,Dr,Mr){propsEqual(inner$b(Dr).lastProp,Mr)||(inner$b(Dr).lastProp=Mr,Be?updateProps$1(Dr,Mr,_r):(Dr.stopAnimation(),Dr.attr(Mr)))}function propsEqual(_r,Be){if(isObject$3(_r)&&isObject$3(Be)){var Dr=!0;return each$f(Be,function(Mr,$r){Dr=Dr&&propsEqual(_r[$r],Mr)}),!!Dr}else return _r===Be}function updateLabelShowHide(_r,Be){_r[Be.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(_r){return{x:_r.x||0,y:_r.y||0,rotation:_r.rotation||0}}function updateMandatoryProps(_r,Be,Dr){var Mr=Be.get("z"),$r=Be.get("zlevel");_r&&_r.traverse(function(Br){Br.type!=="group"&&(Mr!=null&&(Br.z=Mr),$r!=null&&(Br.zlevel=$r),Br.silent=Dr)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(_r){var Be=_r.get("type"),Dr=_r.getModel(Be+"Style"),Mr;return Be==="line"?(Mr=Dr.getLineStyle(),Mr.fill=null):Be==="shadow"&&(Mr=Dr.getAreaStyle(),Mr.stroke=null),Mr}function buildLabelElOption(_r,Be,Dr,Mr,$r){var Br=Dr.get("value"),zr=getValueLabel(Br,Be.axis,Be.ecModel,Dr.get("seriesDataIndices"),{precision:Dr.get(["label","precision"]),formatter:Dr.get(["label","formatter"])}),Vr=Dr.getModel("label"),jr=normalizeCssArray(Vr.get("padding")||0),Gr=Vr.getFont(),Wr=getBoundingRect(zr,Gr),Kr=$r.position,Zr=Wr.width+jr[1]+jr[3],Jr=Wr.height+jr[0]+jr[2],rn=$r.align;rn==="right"&&(Kr[0]-=Zr),rn==="center"&&(Kr[0]-=Zr/2);var nn=$r.verticalAlign;nn==="bottom"&&(Kr[1]-=Jr),nn==="middle"&&(Kr[1]-=Jr/2),confineInContainer(Kr,Zr,Jr,Mr);var ln=Vr.get("backgroundColor");(!ln||ln==="auto")&&(ln=Be.get(["axisLine","lineStyle","color"])),_r.label={x:Kr[0],y:Kr[1],style:createTextStyle$1(Vr,{text:zr,font:Gr,fill:Vr.getTextColor(),padding:jr,backgroundColor:ln}),z2:10}}function confineInContainer(_r,Be,Dr,Mr){var $r=Mr.getWidth(),Br=Mr.getHeight();_r[0]=Math.min(_r[0]+Be,$r)-Be,_r[1]=Math.min(_r[1]+Dr,Br)-Dr,_r[0]=Math.max(_r[0],0),_r[1]=Math.max(_r[1],0)}function getValueLabel(_r,Be,Dr,Mr,$r){_r=Be.scale.parse(_r);var Br=Be.scale.getLabel({value:_r},{precision:$r.precision}),zr=$r.formatter;if(zr){var Vr={value:getAxisRawValue(Be,{value:_r}),axisDimension:Be.dim,axisIndex:Be.index,seriesData:[]};each$f(Mr,function(jr){var Gr=Dr.getSeriesByIndex(jr.seriesIndex),Wr=jr.dataIndexInside,Kr=Gr&&Gr.getDataParams(Wr);Kr&&Vr.seriesData.push(Kr)}),isString(zr)?Br=zr.replace("{value}",Br):isFunction(zr)&&(Br=zr(Vr))}return Br}function getTransformedPosition(_r,Be,Dr){var Mr=create$1();return rotate(Mr,Mr,Dr.rotation),translate(Mr,Mr,Dr.position),applyTransform([_r.dataToCoord(Be),(Dr.labelOffset||0)+(Dr.labelDirection||1)*(Dr.labelMargin||0)],Mr)}function buildCartesianSingleLabelElOption(_r,Be,Dr,Mr,$r,Br){var zr=AxisBuilder$1.innerTextLayout(Dr.rotation,0,Dr.labelDirection);Dr.labelMargin=$r.get(["label","margin"]),buildLabelElOption(Be,Mr,$r,Br,{position:getTransformedPosition(Mr.axis,_r,Dr),align:zr.textAlign,verticalAlign:zr.textVerticalAlign})}function makeLineShape(_r,Be,Dr){return Dr=Dr||0,{x1:_r[Dr],y1:_r[1-Dr],x2:Be[Dr],y2:Be[1-Dr]}}function makeRectShape(_r,Be,Dr){return Dr=Dr||0,{x:_r[Dr],y:_r[1-Dr],width:Be[Dr],height:Be[1-Dr]}}function makeSectorShape(_r,Be,Dr,Mr,$r,Br){return{cx:_r,cy:Be,r0:Dr,r:Mr,startAngle:$r,endAngle:Br,clockwise:!0}}var CartesianAxisPointer=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.makeElOption=function(Dr,Mr,$r,Br,zr){var Vr=$r.axis,jr=Vr.grid,Gr=Br.get("type"),Wr=getCartesian(jr,Vr).getOtherAxis(Vr).getGlobalExtent(),Kr=Vr.toGlobalCoord(Vr.dataToCoord(Mr,!0));if(Gr&&Gr!=="none"){var Zr=buildElStyle(Br),Jr=pointerShapeBuilder$2[Gr](Vr,Kr,Wr);Jr.style=Zr,Dr.graphicKey=Jr.type,Dr.pointer=Jr}var rn=layout$2(jr.model,$r);buildCartesianSingleLabelElOption(Mr,Dr,rn,$r,Br,zr)},Be.prototype.getHandleTransform=function(Dr,Mr,$r){var Br=layout$2(Mr.axis.grid.model,Mr,{labelInside:!1});Br.labelMargin=$r.get(["handle","margin"]);var zr=getTransformedPosition(Mr.axis,Dr,Br);return{x:zr[0],y:zr[1],rotation:Br.rotation+(Br.labelDirection<0?Math.PI:0)}},Be.prototype.updateHandleTransform=function(Dr,Mr,$r,Br){var zr=$r.axis,Vr=zr.grid,jr=zr.getGlobalExtent(!0),Gr=getCartesian(Vr,zr).getOtherAxis(zr).getGlobalExtent(),Wr=zr.dim==="x"?0:1,Kr=[Dr.x,Dr.y];Kr[Wr]+=Mr[Wr],Kr[Wr]=Math.min(jr[1],Kr[Wr]),Kr[Wr]=Math.max(jr[0],Kr[Wr]);var Zr=(Gr[1]+Gr[0])/2,Jr=[Zr,Zr];Jr[Wr]=Kr[Wr];var rn=[{verticalAlign:"middle"},{align:"center"}];return{x:Kr[0],y:Kr[1],rotation:Dr.rotation,cursorPoint:Jr,tooltipOption:rn[Wr]}},Be}(BaseAxisPointer$1);function getCartesian(_r,Be){var Dr={};return Dr[Be.dim+"AxisIndex"]=Be.index,_r.getCartesian(Dr)}var pointerShapeBuilder$2={line:function(_r,Be,Dr){var Mr=makeLineShape([Be,Dr[0]],[Be,Dr[1]],getAxisDimIndex(_r));return{type:"Line",subPixelOptimize:!0,shape:Mr}},shadow:function(_r,Be,Dr){var Mr=Math.max(1,_r.getBandWidth()),$r=Dr[1]-Dr[0];return{type:"Rect",shape:makeRectShape([Be-Mr/2,Dr[0]],[Mr,$r],getAxisDimIndex(_r))}}};function getAxisDimIndex(_r){return _r.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="axisPointer",Be.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},Be}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$a=makeInner(),each$8=each$f;function register(_r,Be,Dr){if(!env$1.node){var Mr=Be.getZr();inner$a(Mr).records||(inner$a(Mr).records={}),initGlobalListeners(Mr,Be);var $r=inner$a(Mr).records[_r]||(inner$a(Mr).records[_r]={});$r.handler=Dr}}function initGlobalListeners(_r,Be){if(inner$a(_r).initialized)return;inner$a(_r).initialized=!0,Dr("click",curry$1(doEnter,"click")),Dr("mousemove",curry$1(doEnter,"mousemove")),Dr("globalout",onLeave);function Dr(Mr,$r){_r.on(Mr,function(Br){var zr=makeDispatchAction$1(Be);each$8(inner$a(_r).records,function(Vr){Vr&&$r(Vr,Br,zr.dispatchAction)}),dispatchTooltipFinally(zr.pendings,Be)})}}function dispatchTooltipFinally(_r,Be){var Dr=_r.showTip.length,Mr=_r.hideTip.length,$r;Dr?$r=_r.showTip[Dr-1]:Mr&&($r=_r.hideTip[Mr-1]),$r&&($r.dispatchAction=null,Be.dispatchAction($r))}function onLeave(_r,Be,Dr){_r.handler("leave",null,Dr)}function doEnter(_r,Be,Dr,Mr){Be.handler(_r,Dr,Mr)}function makeDispatchAction$1(_r){var Be={showTip:[],hideTip:[]},Dr=function(Mr){var $r=Be[Mr.type];$r?$r.push(Mr):(Mr.dispatchAction=Dr,_r.dispatchAction(Mr))};return{dispatchAction:Dr,pendings:Be}}function unregister(_r,Be){if(!env$1.node){var Dr=Be.getZr(),Mr=(inner$a(Dr).records||{})[_r];Mr&&(inner$a(Dr).records[_r]=null)}}var AxisPointerView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=Mr.getComponent("tooltip"),zr=Dr.get("triggerOn")||Br&&Br.get("triggerOn")||"mousemove|click";register("axisPointer",$r,function(Vr,jr,Gr){zr!=="none"&&(Vr==="leave"||zr.indexOf(Vr)>=0)&&Gr({type:"updateAxisPointer",currTrigger:Vr,x:jr&&jr.offsetX,y:jr&&jr.offsetY})})},Be.prototype.remove=function(Dr,Mr){unregister("axisPointer",Mr)},Be.prototype.dispose=function(Dr,Mr){unregister("axisPointer",Mr)},Be.type="axisPointer",Be}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(_r,Be){var Dr=[],Mr=_r.seriesIndex,$r;if(Mr==null||!($r=Be.getSeriesByIndex(Mr)))return{point:[]};var Br=$r.getData(),zr=queryDataIndex(Br,_r);if(zr==null||zr<0||isArray$1(zr))return{point:[]};var Vr=Br.getItemGraphicEl(zr),jr=$r.coordinateSystem;if($r.getTooltipPosition)Dr=$r.getTooltipPosition(zr)||[];else if(jr&&jr.dataToPoint)if(_r.isStacked){var Gr=jr.getBaseAxis(),Wr=jr.getOtherAxis(Gr),Kr=Wr.dim,Zr=Gr.dim,Jr=Kr==="x"||Kr==="radius"?1:0,rn=Br.mapDimension(Zr),nn=[];nn[Jr]=Br.get(rn,zr),nn[1-Jr]=Br.get(Br.getCalculationInfo("stackResultDimension"),zr),Dr=jr.dataToPoint(nn)||[]}else Dr=jr.dataToPoint(Br.getValues(map$1(jr.dimensions,function(cn){return Br.mapDimension(cn)}),zr))||[];else if(Vr){var ln=Vr.getBoundingRect().clone();ln.applyTransform(Vr.transform),Dr=[ln.x+ln.width/2,ln.y+ln.height/2]}return{point:Dr,el:Vr}}var inner$9=makeInner();function axisTrigger(_r,Be,Dr){var Mr=_r.currTrigger,$r=[_r.x,_r.y],Br=_r,zr=_r.dispatchAction||bind$1(Dr.dispatchAction,Dr),Vr=Be.getComponent("axisPointer").coordSysAxesInfo;if(Vr){illegalPoint($r)&&($r=findPointFromSeries({seriesIndex:Br.seriesIndex,dataIndex:Br.dataIndex},Be).point);var jr=illegalPoint($r),Gr=Br.axesInfo,Wr=Vr.axesInfo,Kr=Mr==="leave"||illegalPoint($r),Zr={},Jr={},rn={list:[],map:{}},nn={showPointer:curry$1(showPointer,Jr),showTooltip:curry$1(showTooltip,rn)};each$f(Vr.coordSysMap,function(cn,hn){var mn=jr||cn.containPoint($r);each$f(Vr.coordSysAxesInfo[hn],function(bn,An){var vn=bn.axis,dn=findInputAxisInfo(Gr,bn);if(!Kr&&mn&&(!Gr||dn)){var wn=dn&&dn.value;wn==null&&!jr&&(wn=vn.pointToData($r)),wn!=null&&processOnAxis(bn,wn,nn,!1,Zr)}})});var ln={};return each$f(Wr,function(cn,hn){var mn=cn.linkGroup;mn&&!Jr[hn]&&each$f(mn.axesInfo,function(bn,An){var vn=Jr[An];if(bn!==cn&&vn){var dn=vn.value;mn.mapper&&(dn=cn.axis.scale.parse(mn.mapper(dn,makeMapperParam(bn),makeMapperParam(cn)))),ln[cn.key]=dn}})}),each$f(ln,function(cn,hn){processOnAxis(Wr[hn],cn,nn,!0,Zr)}),updateModelActually(Jr,Wr,Zr),dispatchTooltipActually(rn,$r,_r,zr),dispatchHighDownActually(Wr,zr,Dr),Zr}}function processOnAxis(_r,Be,Dr,Mr,$r){var Br=_r.axis;if(!(Br.scale.isBlank()||!Br.containData(Be))){if(!_r.involveSeries){Dr.showPointer(_r,Be);return}var zr=buildPayloadsBySeries(Be,_r),Vr=zr.payloadBatch,jr=zr.snapToValue;Vr[0]&&$r.seriesIndex==null&&extend$1($r,Vr[0]),!Mr&&_r.snap&&Br.containData(jr)&&jr!=null&&(Be=jr),Dr.showPointer(_r,Be,Vr),Dr.showTooltip(_r,zr,jr)}}function buildPayloadsBySeries(_r,Be){var Dr=Be.axis,Mr=Dr.dim,$r=_r,Br=[],zr=Number.MAX_VALUE,Vr=-1;return each$f(Be.seriesModels,function(jr,Gr){var Wr=jr.getData().mapDimensionsAll(Mr),Kr,Zr;if(jr.getAxisTooltipData){var Jr=jr.getAxisTooltipData(Wr,_r,Dr);Zr=Jr.dataIndices,Kr=Jr.nestestValue}else{if(Zr=jr.getData().indicesOfNearest(Wr[0],_r,Dr.type==="category"?.5:null),!Zr.length)return;Kr=jr.getData().get(Wr[0],Zr[0])}if(!(Kr==null||!isFinite(Kr))){var rn=_r-Kr,nn=Math.abs(rn);nn<=zr&&((nn<zr||rn>=0&&Vr<0)&&(zr=nn,Vr=rn,$r=Kr,Br.length=0),each$f(Zr,function(ln){Br.push({seriesIndex:jr.seriesIndex,dataIndexInside:ln,dataIndex:jr.getData().getRawIndex(ln)})}))}}),{payloadBatch:Br,snapToValue:$r}}function showPointer(_r,Be,Dr,Mr){_r[Be.key]={value:Dr,payloadBatch:Mr}}function showTooltip(_r,Be,Dr,Mr){var $r=Dr.payloadBatch,Br=Be.axis,zr=Br.model,Vr=Be.axisPointerModel;if(!(!Be.triggerTooltip||!$r.length)){var jr=Be.coordSys.model,Gr=makeKey(jr),Wr=_r.map[Gr];Wr||(Wr=_r.map[Gr]={coordSysId:jr.id,coordSysIndex:jr.componentIndex,coordSysType:jr.type,coordSysMainType:jr.mainType,dataByAxis:[]},_r.list.push(Wr)),Wr.dataByAxis.push({axisDim:Br.dim,axisIndex:zr.componentIndex,axisType:zr.type,axisId:zr.id,value:Mr,valueLabelOpt:{precision:Vr.get(["label","precision"]),formatter:Vr.get(["label","formatter"])},seriesDataIndices:$r.slice()})}}function updateModelActually(_r,Be,Dr){var Mr=Dr.axesInfo=[];each$f(Be,function($r,Br){var zr=$r.axisPointerModel.option,Vr=_r[Br];Vr?(!$r.useHandle&&(zr.status="show"),zr.value=Vr.value,zr.seriesDataIndices=(Vr.payloadBatch||[]).slice()):!$r.useHandle&&(zr.status="hide"),zr.status==="show"&&Mr.push({axisDim:$r.axis.dim,axisIndex:$r.axis.model.componentIndex,value:zr.value})})}function dispatchTooltipActually(_r,Be,Dr,Mr){if(illegalPoint(Be)||!_r.list.length){Mr({type:"hideTip"});return}var $r=((_r.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};Mr({type:"showTip",escapeConnect:!0,x:Be[0],y:Be[1],tooltipOption:Dr.tooltipOption,position:Dr.position,dataIndexInside:$r.dataIndexInside,dataIndex:$r.dataIndex,seriesIndex:$r.seriesIndex,dataByCoordSys:_r.list})}function dispatchHighDownActually(_r,Be,Dr){var Mr=Dr.getZr(),$r="axisPointerLastHighlights",Br=inner$9(Mr)[$r]||{},zr=inner$9(Mr)[$r]={};each$f(_r,function(Gr,Wr){var Kr=Gr.axisPointerModel.option;Kr.status==="show"&&Gr.triggerEmphasis&&each$f(Kr.seriesDataIndices,function(Zr){var Jr=Zr.seriesIndex+" | "+Zr.dataIndex;zr[Jr]=Zr})});var Vr=[],jr=[];each$f(Br,function(Gr,Wr){!zr[Wr]&&jr.push(Gr)}),each$f(zr,function(Gr,Wr){!Br[Wr]&&Vr.push(Gr)}),jr.length&&Dr.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:jr}),Vr.length&&Dr.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:Vr})}function findInputAxisInfo(_r,Be){for(var Dr=0;Dr<(_r||[]).length;Dr++){var Mr=_r[Dr];if(Be.axis.dim===Mr.axisDim&&Be.axis.model.componentIndex===Mr.axisIndex)return Mr}}function makeMapperParam(_r){var Be=_r.axis.model,Dr={},Mr=Dr.axisDim=_r.axis.dim;return Dr.axisIndex=Dr[Mr+"AxisIndex"]=Be.componentIndex,Dr.axisName=Dr[Mr+"AxisName"]=Be.name,Dr.axisId=Dr[Mr+"AxisId"]=Be.id,Dr}function illegalPoint(_r){return!_r||_r[0]==null||isNaN(_r[0])||_r[1]==null||isNaN(_r[1])}function install$q(_r){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),_r.registerComponentModel(AxisPointerModel$1),_r.registerComponentView(AxisPointerView$1),_r.registerPreprocessor(function(Be){if(Be){(!Be.axisPointer||Be.axisPointer.length===0)&&(Be.axisPointer={});var Dr=Be.axisPointer.link;Dr&&!isArray$1(Dr)&&(Be.axisPointer.link=[Dr])}}),_r.registerProcessor(_r.PRIORITY.PROCESSOR.STATISTIC,function(Be,Dr){Be.getComponent("axisPointer").coordSysAxesInfo=collect(Be,Dr)}),_r.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(_r){use(install$N),use(install$q)}var PolarAxisPointer=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.makeElOption=function(Dr,Mr,$r,Br,zr){var Vr=$r.axis;Vr.dim==="angle"&&(this.animationThreshold=Math.PI/18);var jr=Vr.polar,Gr=jr.getOtherAxis(Vr),Wr=Gr.getExtent(),Kr=Vr.dataToCoord(Mr),Zr=Br.get("type");if(Zr&&Zr!=="none"){var Jr=buildElStyle(Br),rn=pointerShapeBuilder$1[Zr](Vr,jr,Kr,Wr);rn.style=Jr,Dr.graphicKey=rn.type,Dr.pointer=rn}var nn=Br.get(["label","margin"]),ln=getLabelPosition(Mr,$r,Br,jr,nn);buildLabelElOption(Dr,$r,Br,zr,ln)},Be}(BaseAxisPointer$1);function getLabelPosition(_r,Be,Dr,Mr,$r){var Br=Be.axis,zr=Br.dataToCoord(_r),Vr=Mr.getAngleAxis().getExtent()[0];Vr=Vr/180*Math.PI;var jr=Mr.getRadiusAxis().getExtent(),Gr,Wr,Kr;if(Br.dim==="radius"){var Zr=create$1();rotate(Zr,Zr,Vr),translate(Zr,Zr,[Mr.cx,Mr.cy]),Gr=applyTransform([zr,-$r],Zr);var Jr=Be.getModel("axisLabel").get("rotate")||0,rn=AxisBuilder$1.innerTextLayout(Vr,Jr*Math.PI/180,-1);Wr=rn.textAlign,Kr=rn.textVerticalAlign}else{var nn=jr[1];Gr=Mr.coordToPoint([nn+$r,zr]);var ln=Mr.cx,cn=Mr.cy;Wr=Math.abs(Gr[0]-ln)/nn<.3?"center":Gr[0]>ln?"left":"right",Kr=Math.abs(Gr[1]-cn)/nn<.3?"middle":Gr[1]>cn?"top":"bottom"}return{position:Gr,align:Wr,verticalAlign:Kr}}var pointerShapeBuilder$1={line:function(_r,Be,Dr,Mr){return _r.dim==="angle"?{type:"Line",shape:makeLineShape(Be.coordToPoint([Mr[0],Dr]),Be.coordToPoint([Mr[1],Dr]))}:{type:"Circle",shape:{cx:Be.cx,cy:Be.cy,r:Dr}}},shadow:function(_r,Be,Dr,Mr){var $r=Math.max(1,_r.getBandWidth()),Br=Math.PI/180;return _r.dim==="angle"?{type:"Sector",shape:makeSectorShape(Be.cx,Be.cy,Mr[0],Mr[1],(-Dr-$r/2)*Br,(-Dr+$r/2)*Br)}:{type:"Sector",shape:makeSectorShape(Be.cx,Be.cy,Dr-$r/2,Dr+$r/2,0,Math.PI*2)}}};const PolarAxisPointer$1=PolarAxisPointer;var PolarModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.findAxisModel=function(Dr){var Mr,$r=this.ecModel;return $r.eachComponent(Dr,function(Br){Br.getCoordSysModel()===this&&(Mr=Br)},this),Mr},Be.type="polar",Be.dependencies=["radiusAxis","angleAxis"],Be.defaultOption={z:0,center:["50%","50%"],radius:"80%"},Be}(ComponentModel$1);const PolarModel$1=PolarModel;var PolarAxisModel=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},Be.type="polarAxis",Be}(ComponentModel$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="angleAxis",Be}(PolarAxisModel),RadiusAxisModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="radiusAxis",Be}(PolarAxisModel),RadiusAxis=function(_r){__extends(Be,_r);function Be(Dr,Mr){return _r.call(this,"radius",Dr,Mr)||this}return Be.prototype.pointToData=function(Dr,Mr){return this.polar.pointToData(Dr,Mr)[this.dim==="radius"?0:1]},Be}(Axis$1);RadiusAxis.prototype.dataToRadius=Axis$1.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis$1.prototype.coordToData;const RadiusAxis$1=RadiusAxis;var inner$8=makeInner(),AngleAxis=function(_r){__extends(Be,_r);function Be(Dr,Mr){return _r.call(this,"angle",Dr,Mr||[0,360])||this}return Be.prototype.pointToData=function(Dr,Mr){return this.polar.pointToData(Dr,Mr)[this.dim==="radius"?0:1]},Be.prototype.calculateCategoryInterval=function(){var Dr=this,Mr=Dr.getLabelModel(),$r=Dr.scale,Br=$r.getExtent(),zr=$r.count();if(Br[1]-Br[0]<1)return 0;var Vr=Br[0],jr=Dr.dataToCoord(Vr+1)-Dr.dataToCoord(Vr),Gr=Math.abs(jr),Wr=getBoundingRect(Vr==null?"":Vr+"",Mr.getFont(),"center","top"),Kr=Math.max(Wr.height,7),Zr=Kr/Gr;isNaN(Zr)&&(Zr=1/0);var Jr=Math.max(0,Math.floor(Zr)),rn=inner$8(Dr.model),nn=rn.lastAutoInterval,ln=rn.lastTickCount;return nn!=null&&ln!=null&&Math.abs(nn-Jr)<=1&&Math.abs(ln-zr)<=1&&nn>Jr?Jr=nn:(rn.lastTickCount=zr,rn.lastAutoInterval=Jr),Jr},Be}(Axis$1);AngleAxis.prototype.dataToAngle=Axis$1.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis$1.prototype.coordToData;const AngleAxis$1=AngleAxis;var polarDimensions=["radius","angle"],Polar=function(){function _r(Be){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$1,this._angleAxis=new AngleAxis$1,this.axisPointerEnabled=!0,this.name=Be||"",this._radiusAxis.polar=this._angleAxis.polar=this}return _r.prototype.containPoint=function(Be){var Dr=this.pointToCoord(Be);return this._radiusAxis.contain(Dr[0])&&this._angleAxis.contain(Dr[1])},_r.prototype.containData=function(Be){return this._radiusAxis.containData(Be[0])&&this._angleAxis.containData(Be[1])},_r.prototype.getAxis=function(Be){var Dr="_"+Be+"Axis";return this[Dr]},_r.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},_r.prototype.getAxesByScale=function(Be){var Dr=[],Mr=this._angleAxis,$r=this._radiusAxis;return Mr.scale.type===Be&&Dr.push(Mr),$r.scale.type===Be&&Dr.push($r),Dr},_r.prototype.getAngleAxis=function(){return this._angleAxis},_r.prototype.getRadiusAxis=function(){return this._radiusAxis},_r.prototype.getOtherAxis=function(Be){var Dr=this._angleAxis;return Be===Dr?this._radiusAxis:Dr},_r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},_r.prototype.getTooltipAxes=function(Be){var Dr=Be!=null&&Be!=="auto"?this.getAxis(Be):this.getBaseAxis();return{baseAxes:[Dr],otherAxes:[this.getOtherAxis(Dr)]}},_r.prototype.dataToPoint=function(Be,Dr){return this.coordToPoint([this._radiusAxis.dataToRadius(Be[0],Dr),this._angleAxis.dataToAngle(Be[1],Dr)])},_r.prototype.pointToData=function(Be,Dr){var Mr=this.pointToCoord(Be);return[this._radiusAxis.radiusToData(Mr[0],Dr),this._angleAxis.angleToData(Mr[1],Dr)]},_r.prototype.pointToCoord=function(Be){var Dr=Be[0]-this.cx,Mr=Be[1]-this.cy,$r=this.getAngleAxis(),Br=$r.getExtent(),zr=Math.min(Br[0],Br[1]),Vr=Math.max(Br[0],Br[1]);$r.inverse?zr=Vr-360:Vr=zr+360;var jr=Math.sqrt(Dr*Dr+Mr*Mr);Dr/=jr,Mr/=jr;for(var Gr=Math.atan2(-Mr,Dr)/Math.PI*180,Wr=Gr<zr?1:-1;Gr<zr||Gr>Vr;)Gr+=Wr*360;return[jr,Gr]},_r.prototype.coordToPoint=function(Be){var Dr=Be[0],Mr=Be[1]/180*Math.PI,$r=Math.cos(Mr)*Dr+this.cx,Br=-Math.sin(Mr)*Dr+this.cy;return[$r,Br]},_r.prototype.getArea=function(){var Be=this.getAngleAxis(),Dr=this.getRadiusAxis(),Mr=Dr.getExtent().slice();Mr[0]>Mr[1]&&Mr.reverse();var $r=Be.getExtent(),Br=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:Mr[0],r:Mr[1],startAngle:-$r[0]*Br,endAngle:-$r[1]*Br,clockwise:Be.inverse,contain:function(zr,Vr){var jr=zr-this.cx,Gr=Vr-this.cy,Wr=jr*jr+Gr*Gr-1e-4,Kr=this.r,Zr=this.r0;return Wr<=Kr*Kr&&Wr>=Zr*Zr}}},_r.prototype.convertToPixel=function(Be,Dr,Mr){var $r=getCoordSys$2(Dr);return $r===this?this.dataToPoint(Mr):null},_r.prototype.convertFromPixel=function(Be,Dr,Mr){var $r=getCoordSys$2(Dr);return $r===this?this.pointToData(Mr):null},_r}();function getCoordSys$2(_r){var Be=_r.seriesModel,Dr=_r.polarModel;return Dr&&Dr.coordinateSystem||Be&&Be.coordinateSystem}const Polar$1=Polar;function resizePolar(_r,Be,Dr){var Mr=Be.get("center"),$r=Dr.getWidth(),Br=Dr.getHeight();_r.cx=parsePercent(Mr[0],$r),_r.cy=parsePercent(Mr[1],Br);var zr=_r.getRadiusAxis(),Vr=Math.min($r,Br)/2,jr=Be.get("radius");jr==null?jr=[0,"100%"]:isArray$1(jr)||(jr=[0,jr]);var Gr=[parsePercent(jr[0],Vr),parsePercent(jr[1],Vr)];zr.inverse?zr.setExtent(Gr[1],Gr[0]):zr.setExtent(Gr[0],Gr[1])}function updatePolarScale(_r,Be){var Dr=this,Mr=Dr.getAngleAxis(),$r=Dr.getRadiusAxis();if(Mr.scale.setExtent(1/0,-1/0),$r.scale.setExtent(1/0,-1/0),_r.eachSeries(function(Vr){if(Vr.coordinateSystem===Dr){var jr=Vr.getData();each$f(getDataDimensionsOnAxis(jr,"radius"),function(Gr){$r.scale.unionExtentFromData(jr,Gr)}),each$f(getDataDimensionsOnAxis(jr,"angle"),function(Gr){Mr.scale.unionExtentFromData(jr,Gr)})}}),niceScaleExtent(Mr.scale,Mr.model),niceScaleExtent($r.scale,$r.model),Mr.type==="category"&&!Mr.onBand){var Br=Mr.getExtent(),zr=360/Mr.scale.count();Mr.inverse?Br[1]+=zr:Br[1]-=zr,Mr.setExtent(Br[0],Br[1])}}function isAngleAxisModel(_r){return _r.mainType==="angleAxis"}function setAxis(_r,Be){if(_r.type=Be.get("type"),_r.scale=createScaleByModel$1(Be),_r.onBand=Be.get("boundaryGap")&&_r.type==="category",_r.inverse=Be.get("inverse"),isAngleAxisModel(Be)){_r.inverse=_r.inverse!==Be.get("clockwise");var Dr=Be.get("startAngle");_r.setExtent(Dr,Dr+(_r.inverse?-360:360))}Be.axis=_r,_r.model=Be}var polarCreator={dimensions:polarDimensions,create:function(_r,Be){var Dr=[];return _r.eachComponent("polar",function(Mr,$r){var Br=new Polar$1($r+"");Br.update=updatePolarScale;var zr=Br.getRadiusAxis(),Vr=Br.getAngleAxis(),jr=Mr.findAxisModel("radiusAxis"),Gr=Mr.findAxisModel("angleAxis");setAxis(zr,jr),setAxis(Vr,Gr),resizePolar(Br,Mr,Be),Dr.push(Br),Mr.coordinateSystem=Br,Br.model=Mr}),_r.eachSeries(function(Mr){if(Mr.get("coordinateSystem")==="polar"){var $r=Mr.getReferringComponents("polar",SINGLE_REFERRING).models[0];Mr.coordinateSystem=$r.coordinateSystem}}),Dr}};const polarCreator$1=polarCreator;var elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(_r,Be,Dr){Be[1]>Be[0]&&(Be=Be.slice().reverse());var Mr=_r.coordToPoint([Be[0],Dr]),$r=_r.coordToPoint([Be[1],Dr]);return{x1:Mr[0],y1:Mr[1],x2:$r[0],y2:$r[1]}}function getRadiusIdx(_r){var Be=_r.getRadiusAxis();return Be.inverse?0:1}function fixAngleOverlap(_r){var Be=_r[0],Dr=_r[_r.length-1];Be&&Dr&&Math.abs(Math.abs(Be.coord-Dr.coord)-360)<1e-4&&_r.pop()}var AngleAxisView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.axisPointerClass="PolarAxisPointer",Dr}return Be.prototype.render=function(Dr,Mr){if(this.group.removeAll(),!!Dr.get("show")){var $r=Dr.axis,Br=$r.polar,zr=Br.getRadiusAxis().getExtent(),Vr=$r.getTicksCoords(),jr=$r.getMinorTicksCoords(),Gr=map$1($r.getViewLabels(),function(Wr){Wr=clone$4(Wr);var Kr=$r.scale,Zr=Kr.type==="ordinal"?Kr.getRawOrdinalNumber(Wr.tickValue):Wr.tickValue;return Wr.coord=$r.dataToCoord(Zr),Wr});fixAngleOverlap(Gr),fixAngleOverlap(Vr),each$f(elementList,function(Wr){Dr.get([Wr,"show"])&&(!$r.scale.isBlank()||Wr==="axisLine")&&angelAxisElementsBuilders[Wr](this.group,Dr,Br,Vr,jr,zr,Gr)},this)}},Be.type="angleAxis",Be}(AxisView$1),angelAxisElementsBuilders={axisLine:function(_r,Be,Dr,Mr,$r,Br){var zr=Be.getModel(["axisLine","lineStyle"]),Vr=getRadiusIdx(Dr),jr=Vr?0:1,Gr;Br[jr]===0?Gr=new Circle$1({shape:{cx:Dr.cx,cy:Dr.cy,r:Br[Vr]},style:zr.getLineStyle(),z2:1,silent:!0}):Gr=new Ring$1({shape:{cx:Dr.cx,cy:Dr.cy,r:Br[Vr],r0:Br[jr]},style:zr.getLineStyle(),z2:1,silent:!0}),Gr.style.fill=null,_r.add(Gr)},axisTick:function(_r,Be,Dr,Mr,$r,Br){var zr=Be.getModel("axisTick"),Vr=(zr.get("inside")?-1:1)*zr.get("length"),jr=Br[getRadiusIdx(Dr)],Gr=map$1(Mr,function(Wr){return new Line$3({shape:getAxisLineShape(Dr,[jr,jr+Vr],Wr.coord)})});_r.add(mergePath(Gr,{style:defaults(zr.getModel("lineStyle").getLineStyle(),{stroke:Be.get(["axisLine","lineStyle","color"])})}))},minorTick:function(_r,Be,Dr,Mr,$r,Br){if($r.length){for(var zr=Be.getModel("axisTick"),Vr=Be.getModel("minorTick"),jr=(zr.get("inside")?-1:1)*Vr.get("length"),Gr=Br[getRadiusIdx(Dr)],Wr=[],Kr=0;Kr<$r.length;Kr++)for(var Zr=0;Zr<$r[Kr].length;Zr++)Wr.push(new Line$3({shape:getAxisLineShape(Dr,[Gr,Gr+jr],$r[Kr][Zr].coord)}));_r.add(mergePath(Wr,{style:defaults(Vr.getModel("lineStyle").getLineStyle(),defaults(zr.getLineStyle(),{stroke:Be.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(_r,Be,Dr,Mr,$r,Br,zr){var Vr=Be.getCategories(!0),jr=Be.getModel("axisLabel"),Gr=jr.get("margin"),Wr=Be.get("triggerEvent");each$f(zr,function(Kr,Zr){var Jr=jr,rn=Kr.tickValue,nn=Br[getRadiusIdx(Dr)],ln=Dr.coordToPoint([nn+Gr,Kr.coord]),cn=Dr.cx,hn=Dr.cy,mn=Math.abs(ln[0]-cn)/nn<.3?"center":ln[0]>cn?"left":"right",bn=Math.abs(ln[1]-hn)/nn<.3?"middle":ln[1]>hn?"top":"bottom";if(Vr&&Vr[rn]){var An=Vr[rn];isObject$3(An)&&An.textStyle&&(Jr=new Model$1(An.textStyle,jr,jr.ecModel))}var vn=new ZRText$1({silent:AxisBuilder$1.isLabelSilent(Be),style:createTextStyle$1(Jr,{x:ln[0],y:ln[1],fill:Jr.getTextColor()||Be.get(["axisLine","lineStyle","color"]),text:Kr.formattedLabel,align:mn,verticalAlign:bn})});if(_r.add(vn),Wr){var dn=AxisBuilder$1.makeAxisEventDataBase(Be);dn.targetType="axisLabel",dn.value=Kr.rawLabel,getECData(vn).eventData=dn}},this)},splitLine:function(_r,Be,Dr,Mr,$r,Br){var zr=Be.getModel("splitLine"),Vr=zr.getModel("lineStyle"),jr=Vr.get("color"),Gr=0;jr=jr instanceof Array?jr:[jr];for(var Wr=[],Kr=0;Kr<Mr.length;Kr++){var Zr=Gr++%jr.length;Wr[Zr]=Wr[Zr]||[],Wr[Zr].push(new Line$3({shape:getAxisLineShape(Dr,Br,Mr[Kr].coord)}))}for(var Kr=0;Kr<Wr.length;Kr++)_r.add(mergePath(Wr[Kr],{style:defaults({stroke:jr[Kr%jr.length]},Vr.getLineStyle()),silent:!0,z:Be.get("z")}))},minorSplitLine:function(_r,Be,Dr,Mr,$r,Br){if($r.length){for(var zr=Be.getModel("minorSplitLine"),Vr=zr.getModel("lineStyle"),jr=[],Gr=0;Gr<$r.length;Gr++)for(var Wr=0;Wr<$r[Gr].length;Wr++)jr.push(new Line$3({shape:getAxisLineShape(Dr,Br,$r[Gr][Wr].coord)}));_r.add(mergePath(jr,{style:Vr.getLineStyle(),silent:!0,z:Be.get("z")}))}},splitArea:function(_r,Be,Dr,Mr,$r,Br){if(Mr.length){var zr=Be.getModel("splitArea"),Vr=zr.getModel("areaStyle"),jr=Vr.get("color"),Gr=0;jr=jr instanceof Array?jr:[jr];for(var Wr=[],Kr=Math.PI/180,Zr=-Mr[0].coord*Kr,Jr=Math.min(Br[0],Br[1]),rn=Math.max(Br[0],Br[1]),nn=Be.get("clockwise"),ln=1,cn=Mr.length;ln<=cn;ln++){var hn=ln===cn?Mr[0].coord:Mr[ln].coord,mn=Gr++%jr.length;Wr[mn]=Wr[mn]||[],Wr[mn].push(new Sector$1({shape:{cx:Dr.cx,cy:Dr.cy,r0:Jr,r:rn,startAngle:Zr,endAngle:-hn*Kr,clockwise:nn},silent:!0})),Zr=-hn*Kr}for(var ln=0;ln<Wr.length;ln++)_r.add(mergePath(Wr[ln],{style:defaults({fill:jr[ln%jr.length]},Vr.getAreaStyle()),silent:!0}))}}};const AngleAxisView$1=AngleAxisView;var axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.axisPointerClass="PolarAxisPointer",Dr}return Be.prototype.render=function(Dr,Mr){if(this.group.removeAll(),!!Dr.get("show")){var $r=this._axisGroup,Br=this._axisGroup=new Group$4;this.group.add(Br);var zr=Dr.axis,Vr=zr.polar,jr=Vr.getAngleAxis(),Gr=zr.getTicksCoords(),Wr=zr.getMinorTicksCoords(),Kr=jr.getExtent()[0],Zr=zr.getExtent(),Jr=layoutAxis(Vr,Dr,Kr),rn=new AxisBuilder$1(Dr,Jr);each$f(axisBuilderAttrs$1,rn.add,rn),Br.add(rn.getGroup()),groupTransition($r,Br,Dr),each$f(selfBuilderAttrs$1,function(nn){Dr.get([nn,"show"])&&!zr.scale.isBlank()&&axisElementBuilders$1[nn](this.group,Dr,Vr,Kr,Zr,Gr,Wr)},this)}},Be.type="radiusAxis",Be}(AxisView$1),axisElementBuilders$1={splitLine:function(_r,Be,Dr,Mr,$r,Br){var zr=Be.getModel("splitLine"),Vr=zr.getModel("lineStyle"),jr=Vr.get("color"),Gr=0;jr=jr instanceof Array?jr:[jr];for(var Wr=[],Kr=0;Kr<Br.length;Kr++){var Zr=Gr++%jr.length;Wr[Zr]=Wr[Zr]||[],Wr[Zr].push(new Circle$1({shape:{cx:Dr.cx,cy:Dr.cy,r:Math.max(Br[Kr].coord,0)}}))}for(var Kr=0;Kr<Wr.length;Kr++)_r.add(mergePath(Wr[Kr],{style:defaults({stroke:jr[Kr%jr.length],fill:null},Vr.getLineStyle()),silent:!0}))},minorSplitLine:function(_r,Be,Dr,Mr,$r,Br,zr){if(zr.length){for(var Vr=Be.getModel("minorSplitLine"),jr=Vr.getModel("lineStyle"),Gr=[],Wr=0;Wr<zr.length;Wr++)for(var Kr=0;Kr<zr[Wr].length;Kr++)Gr.push(new Circle$1({shape:{cx:Dr.cx,cy:Dr.cy,r:zr[Wr][Kr].coord}}));_r.add(mergePath(Gr,{style:defaults({fill:null},jr.getLineStyle()),silent:!0}))}},splitArea:function(_r,Be,Dr,Mr,$r,Br){if(Br.length){var zr=Be.getModel("splitArea"),Vr=zr.getModel("areaStyle"),jr=Vr.get("color"),Gr=0;jr=jr instanceof Array?jr:[jr];for(var Wr=[],Kr=Br[0].coord,Zr=1;Zr<Br.length;Zr++){var Jr=Gr++%jr.length;Wr[Jr]=Wr[Jr]||[],Wr[Jr].push(new Sector$1({shape:{cx:Dr.cx,cy:Dr.cy,r0:Kr,r:Br[Zr].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),Kr=Br[Zr].coord}for(var Zr=0;Zr<Wr.length;Zr++)_r.add(mergePath(Wr[Zr],{style:defaults({fill:jr[Zr%jr.length]},Vr.getAreaStyle()),silent:!0}))}}};function layoutAxis(_r,Be,Dr){return{position:[_r.cx,_r.cy],rotation:Dr/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:Be.getModel("axisLabel").get("rotate"),z2:1}}const RadiusAxisView$1=RadiusAxisView;function getSeriesStackId(_r){return _r.get("stack")||"__ec_stack_"+_r.seriesIndex}function getAxisKey(_r,Be){return Be.dim+_r.model.componentIndex}function barLayoutPolar(_r,Be,Dr){var Mr={},$r=calRadialBar(filter(Be.getSeriesByType(_r),function(Br){return!Be.isSeriesFiltered(Br)&&Br.coordinateSystem&&Br.coordinateSystem.type==="polar"}));Be.eachSeriesByType(_r,function(Br){if(Br.coordinateSystem.type==="polar"){var zr=Br.getData(),Vr=Br.coordinateSystem,jr=Vr.getBaseAxis(),Gr=getAxisKey(Vr,jr),Wr=getSeriesStackId(Br),Kr=$r[Gr][Wr],Zr=Kr.offset,Jr=Kr.width,rn=Vr.getOtherAxis(jr),nn=Br.coordinateSystem.cx,ln=Br.coordinateSystem.cy,cn=Br.get("barMinHeight")||0,hn=Br.get("barMinAngle")||0;Mr[Wr]=Mr[Wr]||[];for(var mn=zr.mapDimension(rn.dim),bn=zr.mapDimension(jr.dim),An=isDimensionStacked(zr,mn),vn=jr.dim!=="radius"||!Br.get("roundCap",!0),dn=rn.dataToCoord(0),wn=0,xn=zr.count();wn<xn;wn++){var Mn=zr.get(mn,wn),In=zr.get(bn,wn),Hn=Mn>=0?"p":"n",$n=dn;An&&(Mr[Wr][In]||(Mr[Wr][In]={p:dn,n:dn}),$n=Mr[Wr][In][Hn]);var jn=void 0,Bn=void 0,Gn=void 0,ei=void 0;if(rn.dim==="radius"){var ri=rn.dataToCoord(Mn)-dn,vi=jr.dataToCoord(In);Math.abs(ri)<cn&&(ri=(ri<0?-1:1)*cn),jn=$n,Bn=$n+ri,Gn=vi-Zr,ei=Gn-Jr,An&&(Mr[Wr][In][Hn]=Bn)}else{var wi=rn.dataToCoord(Mn,vn)-dn,Ni=jr.dataToCoord(In);Math.abs(wi)<hn&&(wi=(wi<0?-1:1)*hn),jn=Ni+Zr,Bn=jn+Jr,Gn=$n,ei=$n+wi,An&&(Mr[Wr][In][Hn]=ei)}zr.setItemLayout(wn,{cx:nn,cy:ln,r0:jn,r:Bn,startAngle:-Gn*Math.PI/180,endAngle:-ei*Math.PI/180,clockwise:Gn>=ei})}}})}function calRadialBar(_r){var Be={};each$f(_r,function(Mr,$r){var Br=Mr.getData(),zr=Mr.coordinateSystem,Vr=zr.getBaseAxis(),jr=getAxisKey(zr,Vr),Gr=Vr.getExtent(),Wr=Vr.type==="category"?Vr.getBandWidth():Math.abs(Gr[1]-Gr[0])/Br.count(),Kr=Be[jr]||{bandWidth:Wr,remainedWidth:Wr,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},Zr=Kr.stacks;Be[jr]=Kr;var Jr=getSeriesStackId(Mr);Zr[Jr]||Kr.autoWidthCount++,Zr[Jr]=Zr[Jr]||{width:0,maxWidth:0};var rn=parsePercent(Mr.get("barWidth"),Wr),nn=parsePercent(Mr.get("barMaxWidth"),Wr),ln=Mr.get("barGap"),cn=Mr.get("barCategoryGap");rn&&!Zr[Jr].width&&(rn=Math.min(Kr.remainedWidth,rn),Zr[Jr].width=rn,Kr.remainedWidth-=rn),nn&&(Zr[Jr].maxWidth=nn),ln!=null&&(Kr.gap=ln),cn!=null&&(Kr.categoryGap=cn)});var Dr={};return each$f(Be,function(Mr,$r){Dr[$r]={};var Br=Mr.stacks,zr=Mr.bandWidth,Vr=parsePercent(Mr.categoryGap,zr),jr=parsePercent(Mr.gap,1),Gr=Mr.remainedWidth,Wr=Mr.autoWidthCount,Kr=(Gr-Vr)/(Wr+(Wr-1)*jr);Kr=Math.max(Kr,0),each$f(Br,function(nn,ln){var cn=nn.maxWidth;cn&&cn<Kr&&(cn=Math.min(cn,Gr),nn.width&&(cn=Math.min(cn,nn.width)),Gr-=cn,nn.width=cn,Wr--)}),Kr=(Gr-Vr)/(Wr+(Wr-1)*jr),Kr=Math.max(Kr,0);var Zr=0,Jr;each$f(Br,function(nn,ln){nn.width||(nn.width=Kr),Jr=nn,Zr+=nn.width*(1+jr)}),Jr&&(Zr-=Jr.width*jr);var rn=-Zr/2;each$f(Br,function(nn,ln){Dr[$r][ln]=Dr[$r][ln]||{offset:rn,width:nn.width},rn+=nn.width*(1+jr)})}),Dr}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="polar",Be}(ComponentView$1);function install$o(_r){use(install$q),AxisView$1.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$1),_r.registerCoordinateSystem("polar",polarCreator$1),_r.registerComponentModel(PolarModel$1),_r.registerComponentView(PolarView),axisModelCreator(_r,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(_r,"radius",RadiusAxisModel,radiusAxisExtraOption),_r.registerComponentView(AngleAxisView$1),_r.registerComponentView(RadiusAxisView$1),_r.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(_r,Be){Be=Be||{};var Dr=_r.coordinateSystem,Mr=_r.axis,$r={},Br=Mr.position,zr=Mr.orient,Vr=Dr.getRect(),jr=[Vr.x,Vr.x+Vr.width,Vr.y,Vr.y+Vr.height],Gr={horizontal:{top:jr[2],bottom:jr[3]},vertical:{left:jr[0],right:jr[1]}};$r.position=[zr==="vertical"?Gr.vertical[Br]:jr[0],zr==="horizontal"?Gr.horizontal[Br]:jr[3]];var Wr={horizontal:0,vertical:1};$r.rotation=Math.PI/2*Wr[zr];var Kr={top:-1,bottom:1,right:1,left:-1};$r.labelDirection=$r.tickDirection=$r.nameDirection=Kr[Br],_r.get(["axisTick","inside"])&&($r.tickDirection=-$r.tickDirection),retrieve(Be.labelInside,_r.get(["axisLabel","inside"]))&&($r.labelDirection=-$r.labelDirection);var Zr=Be.rotate;return Zr==null&&(Zr=_r.get(["axisLabel","rotate"])),$r.labelRotation=Br==="top"?-Zr:Zr,$r.z2=1,$r}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.axisPointerClass="SingleAxisPointer",Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){var zr=this.group;zr.removeAll();var Vr=this._axisGroup;this._axisGroup=new Group$4;var jr=layout$1(Dr),Gr=new AxisBuilder$1(Dr,jr);each$f(axisBuilderAttrs,Gr.add,Gr),zr.add(this._axisGroup),zr.add(Gr.getGroup()),each$f(selfBuilderAttrs,function(Wr){Dr.get([Wr,"show"])&&axisElementBuilders[Wr](this,this.group,this._axisGroup,Dr)},this),groupTransition(Vr,this._axisGroup,Dr),_r.prototype.render.call(this,Dr,Mr,$r,Br)},Be.prototype.remove=function(){rectCoordAxisHandleRemove(this)},Be.type="singleAxis",Be}(AxisView$1),axisElementBuilders={splitLine:function(_r,Be,Dr,Mr){var $r=Mr.axis;if(!$r.scale.isBlank()){var Br=Mr.getModel("splitLine"),zr=Br.getModel("lineStyle"),Vr=zr.get("color");Vr=Vr instanceof Array?Vr:[Vr];for(var jr=zr.get("width"),Gr=Mr.coordinateSystem.getRect(),Wr=$r.isHorizontal(),Kr=[],Zr=0,Jr=$r.getTicksCoords({tickModel:Br}),rn=[],nn=[],ln=0;ln<Jr.length;++ln){var cn=$r.toGlobalCoord(Jr[ln].coord);Wr?(rn[0]=cn,rn[1]=Gr.y,nn[0]=cn,nn[1]=Gr.y+Gr.height):(rn[0]=Gr.x,rn[1]=cn,nn[0]=Gr.x+Gr.width,nn[1]=cn);var hn=new Line$3({shape:{x1:rn[0],y1:rn[1],x2:nn[0],y2:nn[1]},silent:!0});subPixelOptimizeLine(hn.shape,jr);var mn=Zr++%Vr.length;Kr[mn]=Kr[mn]||[],Kr[mn].push(hn)}for(var bn=zr.getLineStyle(["color"]),ln=0;ln<Kr.length;++ln)Be.add(mergePath(Kr[ln],{style:defaults({stroke:Vr[ln%Vr.length]},bn),silent:!0}))}},splitArea:function(_r,Be,Dr,Mr){rectCoordAxisBuildSplitArea(_r,Dr,Mr,Mr)}};const SingleAxisView$1=SingleAxisView;var SingleAxisModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.getCoordSysModel=function(){return this},Be.type="singleAxis",Be.layoutMode="box",Be.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},Be}(ComponentModel$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);const SingleAxisModel$1=SingleAxisModel;var SingleAxis=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r,Br,zr){var Vr=_r.call(this,Dr,Mr,$r)||this;return Vr.type=Br||"value",Vr.position=zr||"bottom",Vr}return Be.prototype.isHorizontal=function(){var Dr=this.position;return Dr==="top"||Dr==="bottom"},Be.prototype.pointToData=function(Dr,Mr){return this.coordinateSystem.pointToData(Dr)[0]},Be}(Axis$1);const SingleAxis$1=SingleAxis;var singleDimensions=["single"],Single=function(){function _r(Be,Dr,Mr){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=Be,this._init(Be,Dr,Mr)}return _r.prototype._init=function(Be,Dr,Mr){var $r=this.dimension,Br=new SingleAxis$1($r,createScaleByModel$1(Be),[0,0],Be.get("type"),Be.get("position")),zr=Br.type==="category";Br.onBand=zr&&Be.get("boundaryGap"),Br.inverse=Be.get("inverse"),Br.orient=Be.get("orient"),Be.axis=Br,Br.model=Be,Br.coordinateSystem=this,this._axis=Br},_r.prototype.update=function(Be,Dr){Be.eachSeries(function(Mr){if(Mr.coordinateSystem===this){var $r=Mr.getData();each$f($r.mapDimensionsAll(this.dimension),function(Br){this._axis.scale.unionExtentFromData($r,Br)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},_r.prototype.resize=function(Be,Dr){this._rect=getLayoutRect({left:Be.get("left"),top:Be.get("top"),right:Be.get("right"),bottom:Be.get("bottom"),width:Be.get("width"),height:Be.get("height")},{width:Dr.getWidth(),height:Dr.getHeight()}),this._adjustAxis()},_r.prototype.getRect=function(){return this._rect},_r.prototype._adjustAxis=function(){var Be=this._rect,Dr=this._axis,Mr=Dr.isHorizontal(),$r=Mr?[0,Be.width]:[0,Be.height],Br=Dr.inverse?1:0;Dr.setExtent($r[Br],$r[1-Br]),this._updateAxisTransform(Dr,Mr?Be.x:Be.y)},_r.prototype._updateAxisTransform=function(Be,Dr){var Mr=Be.getExtent(),$r=Mr[0]+Mr[1],Br=Be.isHorizontal();Be.toGlobalCoord=Br?function(zr){return zr+Dr}:function(zr){return $r-zr+Dr},Be.toLocalCoord=Br?function(zr){return zr-Dr}:function(zr){return $r-zr+Dr}},_r.prototype.getAxis=function(){return this._axis},_r.prototype.getBaseAxis=function(){return this._axis},_r.prototype.getAxes=function(){return[this._axis]},_r.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},_r.prototype.containPoint=function(Be){var Dr=this.getRect(),Mr=this.getAxis(),$r=Mr.orient;return $r==="horizontal"?Mr.contain(Mr.toLocalCoord(Be[0]))&&Be[1]>=Dr.y&&Be[1]<=Dr.y+Dr.height:Mr.contain(Mr.toLocalCoord(Be[1]))&&Be[0]>=Dr.y&&Be[0]<=Dr.y+Dr.height},_r.prototype.pointToData=function(Be){var Dr=this.getAxis();return[Dr.coordToData(Dr.toLocalCoord(Be[Dr.orient==="horizontal"?0:1]))]},_r.prototype.dataToPoint=function(Be){var Dr=this.getAxis(),Mr=this.getRect(),$r=[],Br=Dr.orient==="horizontal"?0:1;return Be instanceof Array&&(Be=Be[0]),$r[Br]=Dr.toGlobalCoord(Dr.dataToCoord(+Be)),$r[1-Br]=Br===0?Mr.y+Mr.height/2:Mr.x+Mr.width/2,$r},_r.prototype.convertToPixel=function(Be,Dr,Mr){var $r=getCoordSys$1(Dr);return $r===this?this.dataToPoint(Mr):null},_r.prototype.convertFromPixel=function(Be,Dr,Mr){var $r=getCoordSys$1(Dr);return $r===this?this.pointToData(Mr):null},_r}();function getCoordSys$1(_r){var Be=_r.seriesModel,Dr=_r.singleAxisModel;return Dr&&Dr.coordinateSystem||Be&&Be.coordinateSystem}function create(_r,Be){var Dr=[];return _r.eachComponent("singleAxis",function(Mr,$r){var Br=new Single(Mr,_r,Be);Br.name="single_"+$r,Br.resize(Mr,Be),Mr.coordinateSystem=Br,Dr.push(Br)}),_r.eachSeries(function(Mr){if(Mr.get("coordinateSystem")==="singleAxis"){var $r=Mr.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];Mr.coordinateSystem=$r&&$r.coordinateSystem}}),Dr}var singleCreator={create,dimensions:singleDimensions};const singleCreator$1=singleCreator;var XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.makeElOption=function(Dr,Mr,$r,Br,zr){var Vr=$r.axis,jr=Vr.coordinateSystem,Gr=getGlobalExtent(jr,1-getPointDimIndex(Vr)),Wr=jr.dataToPoint(Mr)[0],Kr=Br.get("type");if(Kr&&Kr!=="none"){var Zr=buildElStyle(Br),Jr=pointerShapeBuilder[Kr](Vr,Wr,Gr);Jr.style=Zr,Dr.graphicKey=Jr.type,Dr.pointer=Jr}var rn=layout$1($r);buildCartesianSingleLabelElOption(Mr,Dr,rn,$r,Br,zr)},Be.prototype.getHandleTransform=function(Dr,Mr,$r){var Br=layout$1(Mr,{labelInside:!1});Br.labelMargin=$r.get(["handle","margin"]);var zr=getTransformedPosition(Mr.axis,Dr,Br);return{x:zr[0],y:zr[1],rotation:Br.rotation+(Br.labelDirection<0?Math.PI:0)}},Be.prototype.updateHandleTransform=function(Dr,Mr,$r,Br){var zr=$r.axis,Vr=zr.coordinateSystem,jr=getPointDimIndex(zr),Gr=getGlobalExtent(Vr,jr),Wr=[Dr.x,Dr.y];Wr[jr]+=Mr[jr],Wr[jr]=Math.min(Gr[1],Wr[jr]),Wr[jr]=Math.max(Gr[0],Wr[jr]);var Kr=getGlobalExtent(Vr,1-jr),Zr=(Kr[1]+Kr[0])/2,Jr=[Zr,Zr];return Jr[jr]=Wr[jr],{x:Wr[0],y:Wr[1],rotation:Dr.rotation,cursorPoint:Jr,tooltipOption:{verticalAlign:"middle"}}},Be}(BaseAxisPointer$1),pointerShapeBuilder={line:function(_r,Be,Dr){var Mr=makeLineShape([Be,Dr[0]],[Be,Dr[1]],getPointDimIndex(_r));return{type:"Line",subPixelOptimize:!0,shape:Mr}},shadow:function(_r,Be,Dr){var Mr=_r.getBandWidth(),$r=Dr[1]-Dr[0];return{type:"Rect",shape:makeRectShape([Be-Mr/2,Dr[0]],[Mr,$r],getPointDimIndex(_r))}}};function getPointDimIndex(_r){return _r.isHorizontal()?0:1}function getGlobalExtent(_r,Be){var Dr=_r.getRect();return[Dr[XY$1[Be]],Dr[XY$1[Be]]+Dr[WH$1[Be]]]}const SingleAxisPointer$1=SingleAxisPointer;var SingleView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="single",Be}(ComponentView$1);function install$n(_r){use(install$q),AxisView$1.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$1),_r.registerComponentView(SingleView),_r.registerComponentView(SingleAxisView$1),_r.registerComponentModel(SingleAxisModel$1),axisModelCreator(_r,"single",SingleAxisModel$1,SingleAxisModel$1.defaultOption),_r.registerCoordinateSystem("single",singleCreator$1)}var CalendarModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(Dr,Mr,$r){var Br=getLayoutParams(Dr);_r.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(Dr,Br)},Be.prototype.mergeOption=function(Dr){_r.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,Dr)},Be.prototype.getCellSize=function(){return this.option.cellSize},Be.type="calendar",Be.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},Be}(ComponentModel$1);function mergeAndNormalizeLayoutParams$1(_r,Be){var Dr=_r.cellSize,Mr;isArray$1(Dr)?Mr=Dr:Mr=_r.cellSize=[Dr,Dr],Mr.length===1&&(Mr[1]=Mr[0]);var $r=map$1([0,1],function(Br){return sizeCalculable(Be,Br)&&(Mr[Br]="auto"),Mr[Br]!=null&&Mr[Br]!=="auto"});mergeLayoutParam(_r,Be,{type:"box",ignoreSize:$r})}const CalendarModel$1=CalendarModel;var CalendarView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){var Br=this.group;Br.removeAll();var zr=Dr.coordinateSystem,Vr=zr.getRangeInfo(),jr=zr.getOrient(),Gr=Mr.getLocaleModel();this._renderDayRect(Dr,Vr,Br),this._renderLines(Dr,Vr,jr,Br),this._renderYearText(Dr,Vr,jr,Br),this._renderMonthText(Dr,Gr,jr,Br),this._renderWeekText(Dr,Gr,Vr,jr,Br)},Be.prototype._renderDayRect=function(Dr,Mr,$r){for(var Br=Dr.coordinateSystem,zr=Dr.getModel("itemStyle").getItemStyle(),Vr=Br.getCellWidth(),jr=Br.getCellHeight(),Gr=Mr.start.time;Gr<=Mr.end.time;Gr=Br.getNextNDay(Gr,1).time){var Wr=Br.dataToRect([Gr],!1).tl,Kr=new Rect$3({shape:{x:Wr[0],y:Wr[1],width:Vr,height:jr},cursor:"default",style:zr});$r.add(Kr)}},Be.prototype._renderLines=function(Dr,Mr,$r,Br){var zr=this,Vr=Dr.coordinateSystem,jr=Dr.getModel(["splitLine","lineStyle"]).getLineStyle(),Gr=Dr.get(["splitLine","show"]),Wr=jr.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var Kr=Mr.start,Zr=0;Kr.time<=Mr.end.time;Zr++){rn(Kr.formatedDate),Zr===0&&(Kr=Vr.getDateInfo(Mr.start.y+"-"+Mr.start.m));var Jr=Kr.date;Jr.setMonth(Jr.getMonth()+1),Kr=Vr.getDateInfo(Jr)}rn(Vr.getNextNDay(Mr.end.time,1).formatedDate);function rn(nn){zr._firstDayOfMonth.push(Vr.getDateInfo(nn)),zr._firstDayPoints.push(Vr.dataToRect([nn],!1).tl);var ln=zr._getLinePointsOfOneWeek(Dr,nn,$r);zr._tlpoints.push(ln[0]),zr._blpoints.push(ln[ln.length-1]),Gr&&zr._drawSplitline(ln,jr,Br)}Gr&&this._drawSplitline(zr._getEdgesPoints(zr._tlpoints,Wr,$r),jr,Br),Gr&&this._drawSplitline(zr._getEdgesPoints(zr._blpoints,Wr,$r),jr,Br)},Be.prototype._getEdgesPoints=function(Dr,Mr,$r){var Br=[Dr[0].slice(),Dr[Dr.length-1].slice()],zr=$r==="horizontal"?0:1;return Br[0][zr]=Br[0][zr]-Mr/2,Br[1][zr]=Br[1][zr]+Mr/2,Br},Be.prototype._drawSplitline=function(Dr,Mr,$r){var Br=new Polyline$3({z2:20,shape:{points:Dr},style:Mr});$r.add(Br)},Be.prototype._getLinePointsOfOneWeek=function(Dr,Mr,$r){for(var Br=Dr.coordinateSystem,zr=Br.getDateInfo(Mr),Vr=[],jr=0;jr<7;jr++){var Gr=Br.getNextNDay(zr.time,jr),Wr=Br.dataToRect([Gr.time],!1);Vr[2*Gr.day]=Wr.tl,Vr[2*Gr.day+1]=Wr[$r==="horizontal"?"bl":"tr"]}return Vr},Be.prototype._formatterLabel=function(Dr,Mr){return isString(Dr)&&Dr?formatTplSimple(Dr,Mr):isFunction(Dr)?Dr(Mr):Mr.nameMap},Be.prototype._yearTextPositionControl=function(Dr,Mr,$r,Br,zr){var Vr=Mr[0],jr=Mr[1],Gr=["center","bottom"];Br==="bottom"?(jr+=zr,Gr=["center","top"]):Br==="left"?Vr-=zr:Br==="right"?(Vr+=zr,Gr=["center","top"]):jr-=zr;var Wr=0;return(Br==="left"||Br==="right")&&(Wr=Math.PI/2),{rotation:Wr,x:Vr,y:jr,style:{align:Gr[0],verticalAlign:Gr[1]}}},Be.prototype._renderYearText=function(Dr,Mr,$r,Br){var zr=Dr.getModel("yearLabel");if(zr.get("show")){var Vr=zr.get("margin"),jr=zr.get("position");jr||(jr=$r!=="horizontal"?"top":"left");var Gr=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],Wr=(Gr[0][0]+Gr[1][0])/2,Kr=(Gr[0][1]+Gr[1][1])/2,Zr=$r==="horizontal"?0:1,Jr={top:[Wr,Gr[Zr][1]],bottom:[Wr,Gr[1-Zr][1]],left:[Gr[1-Zr][0],Kr],right:[Gr[Zr][0],Kr]},rn=Mr.start.y;+Mr.end.y>+Mr.start.y&&(rn=rn+"-"+Mr.end.y);var nn=zr.get("formatter"),ln={start:Mr.start.y,end:Mr.end.y,nameMap:rn},cn=this._formatterLabel(nn,ln),hn=new ZRText$1({z2:30,style:createTextStyle$1(zr,{text:cn})});hn.attr(this._yearTextPositionControl(hn,Jr[jr],$r,jr,Vr)),Br.add(hn)}},Be.prototype._monthTextPositionControl=function(Dr,Mr,$r,Br,zr){var Vr="left",jr="top",Gr=Dr[0],Wr=Dr[1];return $r==="horizontal"?(Wr=Wr+zr,Mr&&(Vr="center"),Br==="start"&&(jr="bottom")):(Gr=Gr+zr,Mr&&(jr="middle"),Br==="start"&&(Vr="right")),{x:Gr,y:Wr,align:Vr,verticalAlign:jr}},Be.prototype._renderMonthText=function(Dr,Mr,$r,Br){var zr=Dr.getModel("monthLabel");if(zr.get("show")){var Vr=zr.get("nameMap"),jr=zr.get("margin"),Gr=zr.get("position"),Wr=zr.get("align"),Kr=[this._tlpoints,this._blpoints];(!Vr||isString(Vr))&&(Vr&&(Mr=getLocaleModel(Vr)||Mr),Vr=Mr.get(["time","monthAbbr"])||[]);var Zr=Gr==="start"?0:1,Jr=$r==="horizontal"?0:1;jr=Gr==="start"?-jr:jr;for(var rn=Wr==="center",nn=0;nn<Kr[Zr].length-1;nn++){var ln=Kr[Zr][nn].slice(),cn=this._firstDayOfMonth[nn];if(rn){var hn=this._firstDayPoints[nn];ln[Jr]=(hn[Jr]+Kr[0][nn+1][Jr])/2}var mn=zr.get("formatter"),bn=Vr[+cn.m-1],An={yyyy:cn.y,yy:(cn.y+"").slice(2),MM:cn.m,M:+cn.m,nameMap:bn},vn=this._formatterLabel(mn,An),dn=new ZRText$1({z2:30,style:extend$1(createTextStyle$1(zr,{text:vn}),this._monthTextPositionControl(ln,rn,$r,Gr,jr))});Br.add(dn)}}},Be.prototype._weekTextPositionControl=function(Dr,Mr,$r,Br,zr){var Vr="center",jr="middle",Gr=Dr[0],Wr=Dr[1],Kr=$r==="start";return Mr==="horizontal"?(Gr=Gr+Br+(Kr?1:-1)*zr[0]/2,Vr=Kr?"right":"left"):(Wr=Wr+Br+(Kr?1:-1)*zr[1]/2,jr=Kr?"bottom":"top"),{x:Gr,y:Wr,align:Vr,verticalAlign:jr}},Be.prototype._renderWeekText=function(Dr,Mr,$r,Br,zr){var Vr=Dr.getModel("dayLabel");if(Vr.get("show")){var jr=Dr.coordinateSystem,Gr=Vr.get("position"),Wr=Vr.get("nameMap"),Kr=Vr.get("margin"),Zr=jr.getFirstDayOfWeek();if(!Wr||isString(Wr)){Wr&&(Mr=getLocaleModel(Wr)||Mr);var Jr=Mr.get(["time","dayOfWeekShort"]);Wr=Jr||map$1(Mr.get(["time","dayOfWeekAbbr"]),function(An){return An[0]})}var rn=jr.getNextNDay($r.end.time,7-$r.lweek).time,nn=[jr.getCellWidth(),jr.getCellHeight()];Kr=parsePercent(Kr,Math.min(nn[1],nn[0])),Gr==="start"&&(rn=jr.getNextNDay($r.start.time,-(7+$r.fweek)).time,Kr=-Kr);for(var ln=0;ln<7;ln++){var cn=jr.getNextNDay(rn,ln),hn=jr.dataToRect([cn.time],!1).center,mn=ln;mn=Math.abs((ln+Zr)%7);var bn=new ZRText$1({z2:30,style:extend$1(createTextStyle$1(Vr,{text:Wr[mn]}),this._weekTextPositionControl(hn,Br,Gr,Kr,nn))});zr.add(bn)}}},Be.type="calendar",Be}(ComponentView$1);const CalendarView$1=CalendarView;var PROXIMATE_ONE_DAY=864e5,Calendar=function(){function _r(Be,Dr,Mr){this.type="calendar",this.dimensions=_r.dimensions,this.getDimensionsInfo=_r.getDimensionsInfo,this._model=Be}return _r.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},_r.prototype.getRangeInfo=function(){return this._rangeInfo},_r.prototype.getModel=function(){return this._model},_r.prototype.getRect=function(){return this._rect},_r.prototype.getCellWidth=function(){return this._sw},_r.prototype.getCellHeight=function(){return this._sh},_r.prototype.getOrient=function(){return this._orient},_r.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},_r.prototype.getDateInfo=function(Be){Be=parseDate(Be);var Dr=Be.getFullYear(),Mr=Be.getMonth()+1,$r=Mr<10?"0"+Mr:""+Mr,Br=Be.getDate(),zr=Br<10?"0"+Br:""+Br,Vr=Be.getDay();return Vr=Math.abs((Vr+7-this.getFirstDayOfWeek())%7),{y:Dr+"",m:$r,d:zr,day:Vr,time:Be.getTime(),formatedDate:Dr+"-"+$r+"-"+zr,date:Be}},_r.prototype.getNextNDay=function(Be,Dr){return Dr=Dr||0,Dr===0?this.getDateInfo(Be):(Be=new Date(this.getDateInfo(Be).time),Be.setDate(Be.getDate()+Dr),this.getDateInfo(Be))},_r.prototype.update=function(Be,Dr){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var Mr=this._rangeInfo.weeks||1,$r=["width","height"],Br=this._model.getCellSize().slice(),zr=this._model.getBoxLayoutParams(),Vr=this._orient==="horizontal"?[Mr,7]:[7,Mr];each$f([0,1],function(Kr){Wr(Br,Kr)&&(zr[$r[Kr]]=Br[Kr]*Vr[Kr])});var jr={width:Dr.getWidth(),height:Dr.getHeight()},Gr=this._rect=getLayoutRect(zr,jr);each$f([0,1],function(Kr){Wr(Br,Kr)||(Br[Kr]=Gr[$r[Kr]]/Vr[Kr])});function Wr(Kr,Zr){return Kr[Zr]!=null&&Kr[Zr]!=="auto"}this._sw=Br[0],this._sh=Br[1]},_r.prototype.dataToPoint=function(Be,Dr){isArray$1(Be)&&(Be=Be[0]),Dr==null&&(Dr=!0);var Mr=this.getDateInfo(Be),$r=this._rangeInfo,Br=Mr.formatedDate;if(Dr&&!(Mr.time>=$r.start.time&&Mr.time<$r.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var zr=Mr.day,Vr=this._getRangeInfo([$r.start.time,Br]).nthWeek;return this._orient==="vertical"?[this._rect.x+zr*this._sw+this._sw/2,this._rect.y+Vr*this._sh+this._sh/2]:[this._rect.x+Vr*this._sw+this._sw/2,this._rect.y+zr*this._sh+this._sh/2]},_r.prototype.pointToData=function(Be){var Dr=this.pointToDate(Be);return Dr&&Dr.time},_r.prototype.dataToRect=function(Be,Dr){var Mr=this.dataToPoint(Be,Dr);return{contentShape:{x:Mr[0]-(this._sw-this._lineWidth)/2,y:Mr[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:Mr,tl:[Mr[0]-this._sw/2,Mr[1]-this._sh/2],tr:[Mr[0]+this._sw/2,Mr[1]-this._sh/2],br:[Mr[0]+this._sw/2,Mr[1]+this._sh/2],bl:[Mr[0]-this._sw/2,Mr[1]+this._sh/2]}},_r.prototype.pointToDate=function(Be){var Dr=Math.floor((Be[0]-this._rect.x)/this._sw)+1,Mr=Math.floor((Be[1]-this._rect.y)/this._sh)+1,$r=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(Mr,Dr-1,$r):this._getDateByWeeksAndDay(Dr,Mr-1,$r)},_r.prototype.convertToPixel=function(Be,Dr,Mr){var $r=getCoordSys(Dr);return $r===this?$r.dataToPoint(Mr):null},_r.prototype.convertFromPixel=function(Be,Dr,Mr){var $r=getCoordSys(Dr);return $r===this?$r.pointToData(Mr):null},_r.prototype.containPoint=function(Be){return console.warn("Not implemented."),!1},_r.prototype._initRangeOption=function(){var Be=this._model.get("range"),Dr;if(isArray$1(Be)&&Be.length===1&&(Be=Be[0]),isArray$1(Be))Dr=Be;else{var Mr=Be.toString();if(/^\d{4}$/.test(Mr)&&(Dr=[Mr+"-01-01",Mr+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(Mr)){var $r=this.getDateInfo(Mr),Br=$r.date;Br.setMonth(Br.getMonth()+1);var zr=this.getNextNDay(Br,-1);Dr=[$r.formatedDate,zr.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(Mr)&&(Dr=[Mr,Mr])}if(!Dr)return Be;var Vr=this._getRangeInfo(Dr);return Vr.start.time>Vr.end.time&&Dr.reverse(),Dr},_r.prototype._getRangeInfo=function(Be){var Dr=[this.getDateInfo(Be[0]),this.getDateInfo(Be[1])],Mr;Dr[0].time>Dr[1].time&&(Mr=!0,Dr.reverse());var $r=Math.floor(Dr[1].time/PROXIMATE_ONE_DAY)-Math.floor(Dr[0].time/PROXIMATE_ONE_DAY)+1,Br=new Date(Dr[0].time),zr=Br.getDate(),Vr=Dr[1].date.getDate();Br.setDate(zr+$r-1);var jr=Br.getDate();if(jr!==Vr)for(var Gr=Br.getTime()-Dr[1].time>0?1:-1;(jr=Br.getDate())!==Vr&&(Br.getTime()-Dr[1].time)*Gr>0;)$r-=Gr,Br.setDate(jr-Gr);var Wr=Math.floor(($r+Dr[0].day+6)/7),Kr=Mr?-Wr+1:Wr-1;return Mr&&Dr.reverse(),{range:[Dr[0].formatedDate,Dr[1].formatedDate],start:Dr[0],end:Dr[1],allDay:$r,weeks:Wr,nthWeek:Kr,fweek:Dr[0].day,lweek:Dr[1].day}},_r.prototype._getDateByWeeksAndDay=function(Be,Dr,Mr){var $r=this._getRangeInfo(Mr);if(Be>$r.weeks||Be===0&&Dr<$r.fweek||Be===$r.weeks&&Dr>$r.lweek)return null;var Br=(Be-1)*7-$r.fweek+Dr,zr=new Date($r.start.time);return zr.setDate(+$r.start.d+Br),this.getDateInfo(zr)},_r.create=function(Be,Dr){var Mr=[];return Be.eachComponent("calendar",function($r){var Br=new _r($r);Mr.push(Br),$r.coordinateSystem=Br}),Be.eachSeries(function($r){$r.get("coordinateSystem")==="calendar"&&($r.coordinateSystem=Mr[$r.get("calendarIndex")||0])}),Mr},_r.dimensions=["time","value"],_r}();function getCoordSys(_r){var Be=_r.calendarModel,Dr=_r.seriesModel,Mr=Be?Be.coordinateSystem:Dr?Dr.coordinateSystem:null;return Mr}const Calendar$1=Calendar;function install$m(_r){_r.registerComponentModel(CalendarModel$1),_r.registerComponentView(CalendarView$1),_r.registerCoordinateSystem("calendar",Calendar$1)}function setKeyInfoToNewElOption(_r,Be){var Dr=_r.existing;if(Be.id=_r.keyInfo.id,!Be.type&&Dr&&(Be.type=Dr.type),Be.parentId==null){var Mr=Be.parentOption;Mr?Be.parentId=Mr.id:Dr&&(Be.parentId=Dr.parentId)}Be.parentOption=null}function isSetLoc(_r,Be){var Dr;return each$f(Be,function(Mr){_r[Mr]!=null&&_r[Mr]!=="auto"&&(Dr=!0)}),Dr}function mergeNewElOptionToExist(_r,Be,Dr){var Mr=extend$1({},Dr),$r=_r[Be],Br=Dr.$action||"merge";Br==="merge"?$r?(merge($r,Mr,!0),mergeLayoutParam($r,Mr,{ignoreSize:!0}),copyLayoutParams(Dr,$r),copyTransitionInfo(Dr,$r),copyTransitionInfo(Dr,$r,"shape"),copyTransitionInfo(Dr,$r,"style"),copyTransitionInfo(Dr,$r,"extra"),Dr.clipPath=$r.clipPath):_r[Be]=Mr:Br==="replace"?_r[Be]=Mr:Br==="remove"&&$r&&(_r[Be]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(_r,Be,Dr){if(Dr&&(!_r[Dr]&&Be[Dr]&&(_r[Dr]={}),_r=_r[Dr],Be=Be[Dr]),!(!_r||!Be))for(var Mr=Dr?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,$r=0;$r<Mr.length;$r++){var Br=Mr[$r];_r[Br]==null&&Be[Br]!=null&&(_r[Br]=Be[Br])}}function setLayoutInfoToExist(_r,Be){if(_r&&(_r.hv=Be.hv=[isSetLoc(Be,["left","right"]),isSetLoc(Be,["top","bottom"])],_r.type==="group")){var Dr=_r,Mr=Be;Dr.width==null&&(Dr.width=Mr.width=0),Dr.height==null&&(Dr.height=Mr.height=0)}}var GraphicComponentModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.preventAutoZ=!0,Dr}return Be.prototype.mergeOption=function(Dr,Mr){var $r=this.option.elements;this.option.elements=null,_r.prototype.mergeOption.call(this,Dr,Mr),this.option.elements=$r},Be.prototype.optionUpdated=function(Dr,Mr){var $r=this.option,Br=(Mr?$r:Dr).elements,zr=$r.elements=Mr?[]:$r.elements,Vr=[];this._flatten(Br,Vr,null);var jr=mappingToExists(zr,Vr,"normalMerge"),Gr=this._elOptionsToUpdate=[];each$f(jr,function(Wr,Kr){var Zr=Wr.newOption;Zr&&(Gr.push(Zr),setKeyInfoToNewElOption(Wr,Zr),mergeNewElOptionToExist(zr,Kr,Zr),setLayoutInfoToExist(zr[Kr],Zr))},this),$r.elements=filter(zr,function(Wr){return Wr&&delete Wr.$action,Wr!=null})},Be.prototype._flatten=function(Dr,Mr,$r){each$f(Dr,function(Br){if(Br){$r&&(Br.parentOption=$r),Mr.push(Br);var zr=Br.children;zr&&zr.length&&this._flatten(zr,Mr,Br),delete Br.children}},this)},Be.prototype.useElOptionsToUpdate=function(){var Dr=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,Dr},Be.type="graphic",Be.defaultOption={elements:[]},Be}(ComponentModel$1),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$4,image:ZRImage$1,text:ZRText$1},inner$7=makeInner(),GraphicComponentView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(){this._elMap=createHashMap()},Be.prototype.render=function(Dr,Mr,$r){Dr!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=Dr,this._updateElements(Dr),this._relocate(Dr,$r)},Be.prototype._updateElements=function(Dr){var Mr=Dr.useElOptionsToUpdate();if(Mr){var $r=this._elMap,Br=this.group,zr=Dr.get("z"),Vr=Dr.get("zlevel");each$f(Mr,function(jr){var Gr=convertOptionIdName(jr.id,null),Wr=Gr!=null?$r.get(Gr):null,Kr=convertOptionIdName(jr.parentId,null),Zr=Kr!=null?$r.get(Kr):Br,Jr=jr.type,rn=jr.style;Jr==="text"&&rn&&jr.hv&&jr.hv[1]&&(rn.textVerticalAlign=rn.textBaseline=rn.verticalAlign=rn.align=null);var nn=jr.textContent,ln=jr.textConfig;if(rn&&isEC4CompatibleStyle(rn,Jr,!!ln,!!nn)){var cn=convertFromEC4CompatibleStyle(rn,Jr,!0);!ln&&cn.textConfig&&(ln=jr.textConfig=cn.textConfig),!nn&&cn.textContent&&(nn=cn.textContent)}var hn=getCleanedElOption(jr),mn=jr.$action||"merge",bn=mn==="merge",An=mn==="replace";if(bn){var vn=!Wr,dn=Wr;vn?dn=createEl(Gr,Zr,jr.type,$r):(dn&&(inner$7(dn).isNew=!1),stopPreviousKeyframeAnimationAndRestore(dn)),dn&&(applyUpdateTransition(dn,hn,Dr,{isInit:vn}),updateCommonAttrs(dn,jr,zr,Vr))}else if(An){removeEl$1(Wr,jr,$r,Dr);var wn=createEl(Gr,Zr,jr.type,$r);wn&&(applyUpdateTransition(wn,hn,Dr,{isInit:!0}),updateCommonAttrs(wn,jr,zr,Vr))}else mn==="remove"&&(updateLeaveTo(Wr,jr),removeEl$1(Wr,jr,$r,Dr));var xn=$r.get(Gr);if(xn&&nn)if(bn){var Mn=xn.getTextContent();Mn?Mn.attr(nn):xn.setTextContent(new ZRText$1(nn))}else An&&xn.setTextContent(new ZRText$1(nn));if(xn){var In=jr.clipPath;if(In){var Hn=In.type,$n=void 0,vn=!1;if(bn){var jn=xn.getClipPath();vn=!jn||inner$7(jn).type!==Hn,$n=vn?newEl(Hn):jn}else An&&(vn=!0,$n=newEl(Hn));xn.setClipPath($n),applyUpdateTransition($n,In,Dr,{isInit:vn}),applyKeyframeAnimation($n,In.keyframeAnimation,Dr)}var Bn=inner$7(xn);xn.setTextConfig(ln),Bn.option=jr,setEventData(xn,Dr,jr),setTooltipConfig({el:xn,componentModel:Dr,itemName:xn.name,itemTooltipOption:jr.tooltip}),applyKeyframeAnimation(xn,jr.keyframeAnimation,Dr)}})}},Be.prototype._relocate=function(Dr,Mr){for(var $r=Dr.option.elements,Br=this.group,zr=this._elMap,Vr=Mr.getWidth(),jr=Mr.getHeight(),Gr=["x","y"],Wr=0;Wr<$r.length;Wr++){var Kr=$r[Wr],Zr=convertOptionIdName(Kr.id,null),Jr=Zr!=null?zr.get(Zr):null;if(!(!Jr||!Jr.isGroup)){var rn=Jr.parent,nn=rn===Br,ln=inner$7(Jr),cn=inner$7(rn);ln.width=parsePercent(ln.option.width,nn?Vr:cn.width)||0,ln.height=parsePercent(ln.option.height,nn?jr:cn.height)||0}}for(var Wr=$r.length-1;Wr>=0;Wr--){var Kr=$r[Wr],Zr=convertOptionIdName(Kr.id,null),Jr=Zr!=null?zr.get(Zr):null;if(Jr){var rn=Jr.parent,cn=inner$7(rn),hn=rn===Br?{width:Vr,height:jr}:{width:cn.width,height:cn.height},mn={},bn=positionElement(Jr,Kr,hn,null,{hv:Kr.hv,boundingMode:Kr.bounding},mn);if(!inner$7(Jr).isNew&&bn){for(var An=Kr.transition,vn={},dn=0;dn<Gr.length;dn++){var wn=Gr[dn],xn=mn[wn];An&&(isTransitionAll(An)||indexOf(An,wn)>=0)?vn[wn]=xn:Jr[wn]=xn}updateProps$1(Jr,vn,Dr,0)}else Jr.attr(mn)}}},Be.prototype._clear=function(){var Dr=this,Mr=this._elMap;Mr.each(function($r){removeEl$1($r,inner$7($r).option,Mr,Dr._lastGraphicModel)}),this._elMap=createHashMap()},Be.prototype.dispose=function(){this._clear()},Be.type="graphic",Be}(ComponentView$1);function newEl(_r){var Be=hasOwn(nonShapeGraphicElements,_r)?nonShapeGraphicElements[_r]:getShapeClass(_r),Dr=new Be({});return inner$7(Dr).type=_r,Dr}function createEl(_r,Be,Dr,Mr){var $r=newEl(Dr);return Be.add($r),Mr.set(_r,$r),inner$7($r).id=_r,inner$7($r).isNew=!0,$r}function removeEl$1(_r,Be,Dr,Mr){var $r=_r&&_r.parent;$r&&(_r.type==="group"&&_r.traverse(function(Br){removeEl$1(Br,Be,Dr,Mr)}),applyLeaveTransition(_r,Be,Mr),Dr.removeKey(inner$7(_r).id))}function updateCommonAttrs(_r,Be,Dr,Mr){_r.isGroup||each$f([["cursor",Displayable$1.prototype.cursor],["zlevel",Mr||0],["z",Dr||0],["z2",0]],function($r){var Br=$r[0];hasOwn(Be,Br)?_r[Br]=retrieve2(Be[Br],$r[1]):_r[Br]==null&&(_r[Br]=$r[1])}),each$f(keys(Be),function($r){if($r.indexOf("on")===0){var Br=Be[$r];_r[$r]=isFunction(Br)?Br:null}}),hasOwn(Be,"draggable")&&(_r.draggable=Be.draggable),Be.name!=null&&(_r.name=Be.name),Be.id!=null&&(_r.id=Be.id)}function getCleanedElOption(_r){return _r=extend$1({},_r),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(Be){delete _r[Be]}),_r}function setEventData(_r,Be,Dr){var Mr=getECData(_r).eventData;!_r.silent&&!_r.ignore&&!Mr&&(Mr=getECData(_r).eventData={componentType:"graphic",componentIndex:Be.componentIndex,name:_r.name}),Mr&&(Mr.info=Dr.info)}function install$l(_r){_r.registerComponentModel(GraphicComponentModel),_r.registerComponentView(GraphicComponentView),_r.registerPreprocessor(function(Be){var Dr=Be.graphic;isArray$1(Dr)?!Dr[0]||!Dr[0].elements?Be.graphic=[{elements:Dr}]:Be.graphic=[Be.graphic[0]]:Dr&&!Dr.elements&&(Be.graphic=[{elements:[Dr]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(_r){var Be=_r.get("coordinateSystem");return indexOf(SERIES_COORDS,Be)>=0}function getAxisMainType(_r){return _r+"Axis"}function findEffectedDataZooms(_r,Be){var Dr=createHashMap(),Mr=[],$r=createHashMap();_r.eachComponent({mainType:"dataZoom",query:Be},function(Wr){$r.get(Wr.uid)||Vr(Wr)});var Br;do Br=!1,_r.eachComponent("dataZoom",zr);while(Br);function zr(Wr){!$r.get(Wr.uid)&&jr(Wr)&&(Vr(Wr),Br=!0)}function Vr(Wr){$r.set(Wr.uid,!0),Mr.push(Wr),Gr(Wr)}function jr(Wr){var Kr=!1;return Wr.eachTargetAxis(function(Zr,Jr){var rn=Dr.get(Zr);rn&&rn[Jr]&&(Kr=!0)}),Kr}function Gr(Wr){Wr.eachTargetAxis(function(Kr,Zr){(Dr.get(Kr)||Dr.set(Kr,[]))[Zr]=!0})}return Mr}function collectReferCoordSysModelInfo(_r){var Be=_r.ecModel,Dr={infoList:[],infoMap:createHashMap()};return _r.eachTargetAxis(function(Mr,$r){var Br=Be.getComponent(getAxisMainType(Mr),$r);if(Br){var zr=Br.getCoordSysModel();if(zr){var Vr=zr.uid,jr=Dr.infoMap.get(Vr);jr||(jr={model:zr,axisModels:[]},Dr.infoList.push(jr),Dr.infoMap.set(Vr,jr)),jr.axisModels.push(Br)}}}),Dr}var DataZoomAxisInfo=function(){function _r(){this.indexList=[],this.indexMap=[]}return _r.prototype.add=function(Be){this.indexMap[Be]||(this.indexList.push(Be),this.indexMap[Be]=!0)},_r}(),DataZoomModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr._autoThrottle=!0,Dr._noTarget=!0,Dr._rangePropMode=["percent","percent"],Dr}return Be.prototype.init=function(Dr,Mr,$r){var Br=retrieveRawOption(Dr);this.settledOption=Br,this.mergeDefaultAndTheme(Dr,$r),this._doInit(Br)},Be.prototype.mergeOption=function(Dr){var Mr=retrieveRawOption(Dr);merge(this.option,Dr,!0),merge(this.settledOption,Mr,!0),this._doInit(Mr)},Be.prototype._doInit=function(Dr){var Mr=this.option;this._setDefaultThrottle(Dr),this._updateRangeUse(Dr);var $r=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(Br,zr){this._rangePropMode[zr]==="value"&&(Mr[Br[0]]=$r[Br[0]]=null)},this),this._resetTarget()},Be.prototype._resetTarget=function(){var Dr=this.get("orient",!0),Mr=this._targetAxisInfoMap=createHashMap(),$r=this._fillSpecifiedTargetAxis(Mr);$r?this._orient=Dr||this._makeAutoOrientByTargetAxis():(this._orient=Dr||"horizontal",this._fillAutoTargetAxisByOrient(Mr,this._orient)),this._noTarget=!0,Mr.each(function(Br){Br.indexList.length&&(this._noTarget=!1)},this)},Be.prototype._fillSpecifiedTargetAxis=function(Dr){var Mr=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function($r){var Br=this.getReferringComponents(getAxisMainType($r),MULTIPLE_REFERRING);if(Br.specified){Mr=!0;var zr=new DataZoomAxisInfo;each$f(Br.models,function(Vr){zr.add(Vr.componentIndex)}),Dr.set($r,zr)}},this),Mr},Be.prototype._fillAutoTargetAxisByOrient=function(Dr,Mr){var $r=this.ecModel,Br=!0;if(Br){var zr=Mr==="vertical"?"y":"x",Vr=$r.findComponents({mainType:zr+"Axis"});jr(Vr,zr)}if(Br){var Vr=$r.findComponents({mainType:"singleAxis",filter:function(Wr){return Wr.get("orient",!0)===Mr}});jr(Vr,"single")}function jr(Gr,Wr){var Kr=Gr[0];if(Kr){var Zr=new DataZoomAxisInfo;if(Zr.add(Kr.componentIndex),Dr.set(Wr,Zr),Br=!1,Wr==="x"||Wr==="y"){var Jr=Kr.getReferringComponents("grid",SINGLE_REFERRING).models[0];Jr&&each$f(Gr,function(rn){Kr.componentIndex!==rn.componentIndex&&Jr===rn.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&Zr.add(rn.componentIndex)})}}}Br&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(Gr){if(Br){var Wr=$r.findComponents({mainType:getAxisMainType(Gr),filter:function(Zr){return Zr.get("type",!0)==="category"}});if(Wr[0]){var Kr=new DataZoomAxisInfo;Kr.add(Wr[0].componentIndex),Dr.set(Gr,Kr),Br=!1}}},this)},Be.prototype._makeAutoOrientByTargetAxis=function(){var Dr;return this.eachTargetAxis(function(Mr){!Dr&&(Dr=Mr)},this),Dr==="y"?"vertical":"horizontal"},Be.prototype._setDefaultThrottle=function(Dr){if(Dr.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var Mr=this.ecModel.option;this.option.throttle=Mr.animation&&Mr.animationDurationUpdate>0?100:20}},Be.prototype._updateRangeUse=function(Dr){var Mr=this._rangePropMode,$r=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(Br,zr){var Vr=Dr[Br[0]]!=null,jr=Dr[Br[1]]!=null;Vr&&!jr?Mr[zr]="percent":!Vr&&jr?Mr[zr]="value":$r?Mr[zr]=$r[zr]:Vr&&(Mr[zr]="percent")})},Be.prototype.noTarget=function(){return this._noTarget},Be.prototype.getFirstTargetAxisModel=function(){var Dr;return this.eachTargetAxis(function(Mr,$r){Dr==null&&(Dr=this.ecModel.getComponent(getAxisMainType(Mr),$r))},this),Dr},Be.prototype.eachTargetAxis=function(Dr,Mr){this._targetAxisInfoMap.each(function($r,Br){each$f($r.indexList,function(zr){Dr.call(Mr,Br,zr)})})},Be.prototype.getAxisProxy=function(Dr,Mr){var $r=this.getAxisModel(Dr,Mr);if($r)return $r.__dzAxisProxy},Be.prototype.getAxisModel=function(Dr,Mr){var $r=this._targetAxisInfoMap.get(Dr);if($r&&$r.indexMap[Mr])return this.ecModel.getComponent(getAxisMainType(Dr),Mr)},Be.prototype.setRawRange=function(Dr){var Mr=this.option,$r=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(Br){(Dr[Br[0]]!=null||Dr[Br[1]]!=null)&&(Mr[Br[0]]=$r[Br[0]]=Dr[Br[0]],Mr[Br[1]]=$r[Br[1]]=Dr[Br[1]])},this),this._updateRangeUse(Dr)},Be.prototype.setCalculatedRange=function(Dr){var Mr=this.option;each$f(["start","startValue","end","endValue"],function($r){Mr[$r]=Dr[$r]})},Be.prototype.getPercentRange=function(){var Dr=this.findRepresentativeAxisProxy();if(Dr)return Dr.getDataPercentWindow()},Be.prototype.getValueRange=function(Dr,Mr){if(Dr==null&&Mr==null){var $r=this.findRepresentativeAxisProxy();if($r)return $r.getDataValueWindow()}else return this.getAxisProxy(Dr,Mr).getDataValueWindow()},Be.prototype.findRepresentativeAxisProxy=function(Dr){if(Dr)return Dr.__dzAxisProxy;for(var Mr,$r=this._targetAxisInfoMap.keys(),Br=0;Br<$r.length;Br++)for(var zr=$r[Br],Vr=this._targetAxisInfoMap.get(zr),jr=0;jr<Vr.indexList.length;jr++){var Gr=this.getAxisProxy(zr,Vr.indexList[jr]);if(Gr.hostedBy(this))return Gr;Mr||(Mr=Gr)}return Mr},Be.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},Be.prototype.getOrient=function(){return this._orient},Be.type="dataZoom",Be.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],Be.defaultOption={z:4,filterMode:"filter",start:0,end:100},Be}(ComponentModel$1);function retrieveRawOption(_r){var Be={};return each$f(["start","end","startValue","endValue","throttle"],function(Dr){_r.hasOwnProperty(Dr)&&(Be[Dr]=_r[Dr])}),Be}const DataZoomModel$1=DataZoomModel;var SelectDataZoomModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="dataZoom.select",Be}(DataZoomModel$1);const SelectZoomModel=SelectDataZoomModel;var DataZoomView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r,Br){this.dataZoomModel=Dr,this.ecModel=Mr,this.api=$r},Be.type="dataZoom",Be}(ComponentView$1);const DataZoomView$1=DataZoomView;var SelectDataZoomView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="dataZoom.select",Be}(DataZoomView$1);const SelectZoomView=SelectDataZoomView;var each$7=each$f,asc$1=asc$2,AxisProxy=function(){function _r(Be,Dr,Mr,$r){this._dimName=Be,this._axisIndex=Dr,this.ecModel=$r,this._dataZoomModel=Mr}return _r.prototype.hostedBy=function(Be){return this._dataZoomModel===Be},_r.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},_r.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},_r.prototype.getTargetSeriesModels=function(){var Be=[];return this.ecModel.eachSeries(function(Dr){if(isCoordSupported(Dr)){var Mr=getAxisMainType(this._dimName),$r=Dr.getReferringComponents(Mr,SINGLE_REFERRING).models[0];$r&&this._axisIndex===$r.componentIndex&&Be.push(Dr)}},this),Be},_r.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},_r.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},_r.prototype.calculateDataWindow=function(Be){var Dr=this._dataExtent,Mr=this.getAxisModel(),$r=Mr.axis.scale,Br=this._dataZoomModel.getRangePropMode(),zr=[0,100],Vr=[],jr=[],Gr;each$7(["start","end"],function(Zr,Jr){var rn=Be[Zr],nn=Be[Zr+"Value"];Br[Jr]==="percent"?(rn==null&&(rn=zr[Jr]),nn=$r.parse(linearMap$2(rn,zr,Dr))):(Gr=!0,nn=nn==null?Dr[Jr]:$r.parse(nn),rn=linearMap$2(nn,Dr,zr)),jr[Jr]=nn==null||isNaN(nn)?Dr[Jr]:nn,Vr[Jr]=rn==null||isNaN(rn)?zr[Jr]:rn}),asc$1(jr),asc$1(Vr);var Wr=this._minMaxSpan;Gr?Kr(jr,Vr,Dr,zr,!1):Kr(Vr,jr,zr,Dr,!0);function Kr(Zr,Jr,rn,nn,ln){var cn=ln?"Span":"ValueSpan";sliderMove(0,Zr,rn,"all",Wr["min"+cn],Wr["max"+cn]);for(var hn=0;hn<2;hn++)Jr[hn]=linearMap$2(Zr[hn],rn,nn,!0),ln&&(Jr[hn]=$r.parse(Jr[hn]))}return{valueWindow:jr,percentWindow:Vr}},_r.prototype.reset=function(Be){if(Be===this._dataZoomModel){var Dr=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,Dr),this._updateMinMaxSpan();var Mr=this.calculateDataWindow(Be.settledOption);this._valueWindow=Mr.valueWindow,this._percentWindow=Mr.percentWindow,this._setAxisModel()}},_r.prototype.filterData=function(Be,Dr){if(Be!==this._dataZoomModel)return;var Mr=this._dimName,$r=this.getTargetSeriesModels(),Br=Be.get("filterMode"),zr=this._valueWindow;if(Br==="none")return;each$7($r,function(jr){var Gr=jr.getData(),Wr=Gr.mapDimensionsAll(Mr);if(Wr.length){if(Br==="weakFilter"){var Kr=Gr.getStore(),Zr=map$1(Wr,function(Jr){return Gr.getDimensionIndex(Jr)},Gr);Gr.filterSelf(function(Jr){for(var rn,nn,ln,cn=0;cn<Wr.length;cn++){var hn=Kr.get(Zr[cn],Jr),mn=!isNaN(hn),bn=hn<zr[0],An=hn>zr[1];if(mn&&!bn&&!An)return!0;mn&&(ln=!0),bn&&(rn=!0),An&&(nn=!0)}return ln&&rn&&nn})}else each$7(Wr,function(Jr){if(Br==="empty")jr.setData(Gr=Gr.map(Jr,function(nn){return Vr(nn)?nn:NaN}));else{var rn={};rn[Jr]=zr,Gr.selectRange(rn)}});each$7(Wr,function(Jr){Gr.setApproximateExtent(zr,Jr)})}});function Vr(jr){return jr>=zr[0]&&jr<=zr[1]}},_r.prototype._updateMinMaxSpan=function(){var Be=this._minMaxSpan={},Dr=this._dataZoomModel,Mr=this._dataExtent;each$7(["min","max"],function($r){var Br=Dr.get($r+"Span"),zr=Dr.get($r+"ValueSpan");zr!=null&&(zr=this.getAxisModel().axis.scale.parse(zr)),zr!=null?Br=linearMap$2(Mr[0]+zr,Mr,[0,100],!0):Br!=null&&(zr=linearMap$2(Br,[0,100],Mr,!0)-Mr[0]),Be[$r+"Span"]=Br,Be[$r+"ValueSpan"]=zr},this)},_r.prototype._setAxisModel=function(){var Be=this.getAxisModel(),Dr=this._percentWindow,Mr=this._valueWindow;if(Dr){var $r=getPixelPrecision(Mr,[0,500]);$r=Math.min($r,20);var Br=Be.axis.scale.rawExtentInfo;Dr[0]!==0&&Br.setDeterminedMinMax("min",+Mr[0].toFixed($r)),Dr[1]!==100&&Br.setDeterminedMinMax("max",+Mr[1].toFixed($r)),Br.freeze()}},_r}();function calculateDataExtent(_r,Be,Dr){var Mr=[1/0,-1/0];each$7(Dr,function(zr){unionAxisExtentFromData(Mr,zr.getData(),Be)});var $r=_r.getAxisModel(),Br=ensureScaleRawExtentInfo($r.axis.scale,$r,Mr).calculate();return[Br.min,Br.max]}const AxisProxy$1=AxisProxy;var dataZoomProcessor={getTargetSeries:function(_r){function Be($r){_r.eachComponent("dataZoom",function(Br){Br.eachTargetAxis(function(zr,Vr){var jr=_r.getComponent(getAxisMainType(zr),Vr);$r(zr,Vr,jr,Br)})})}Be(function($r,Br,zr,Vr){zr.__dzAxisProxy=null});var Dr=[];Be(function($r,Br,zr,Vr){zr.__dzAxisProxy||(zr.__dzAxisProxy=new AxisProxy$1($r,Br,Vr,_r),Dr.push(zr.__dzAxisProxy))});var Mr=createHashMap();return each$f(Dr,function($r){each$f($r.getTargetSeriesModels(),function(Br){Mr.set(Br.uid,Br)})}),Mr},overallReset:function(_r,Be){_r.eachComponent("dataZoom",function(Dr){Dr.eachTargetAxis(function(Mr,$r){Dr.getAxisProxy(Mr,$r).reset(Dr)}),Dr.eachTargetAxis(function(Mr,$r){Dr.getAxisProxy(Mr,$r).filterData(Dr,Be)})}),_r.eachComponent("dataZoom",function(Dr){var Mr=Dr.findRepresentativeAxisProxy();if(Mr){var $r=Mr.getDataPercentWindow(),Br=Mr.getDataValueWindow();Dr.setCalculatedRange({start:$r[0],end:$r[1],startValue:Br[0],endValue:Br[1]})}})}};const dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction(_r){_r.registerAction("dataZoom",function(Be,Dr){var Mr=findEffectedDataZooms(Dr,Be);each$f(Mr,function($r){$r.setRawRange({start:Be.start,end:Be.end,startValue:Be.startValue,endValue:Be.endValue})})})}var installed$1=!1;function installCommon$1(_r){installed$1||(installed$1=!0,_r.registerProcessor(_r.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction(_r),_r.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(_r){_r.registerComponentModel(SelectZoomModel),_r.registerComponentView(SelectZoomView),installCommon$1(_r)}var ToolboxFeature=function(){function _r(){}return _r}(),features={};function registerFeature(_r,Be){features[_r]=Be}function getFeature(_r){return features[_r]}var ToolboxModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.optionUpdated=function(){_r.prototype.optionUpdated.apply(this,arguments);var Dr=this.ecModel;each$f(this.option.feature,function(Mr,$r){var Br=getFeature($r);Br&&(Br.getDefaultOption&&(Br.defaultOption=Br.getDefaultOption(Dr)),merge(Mr,Br.defaultOption))})},Be.type="toolbox",Be.layoutMode={type:"box",ignoreSize:!0},Be.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},Be}(ComponentModel$1);const ToolboxModel$1=ToolboxModel;function layout(_r,Be,Dr){var Mr=Be.getBoxLayoutParams(),$r=Be.get("padding"),Br={width:Dr.getWidth(),height:Dr.getHeight()},zr=getLayoutRect(Mr,Br,$r);box(Be.get("orient"),_r,Be.get("itemGap"),zr.width,zr.height),positionElement(_r,Mr,Br,$r)}function makeBackground(_r,Be){var Dr=normalizeCssArray(Be.get("padding")),Mr=Be.getItemStyle(["color","opacity"]);return Mr.fill=Be.get("backgroundColor"),_r=new Rect$3({shape:{x:_r.x-Dr[3],y:_r.y-Dr[0],width:_r.width+Dr[1]+Dr[3],height:_r.height+Dr[0]+Dr[2],r:Be.get("borderRadius")},style:Mr,silent:!0,z2:-1}),_r}var ToolboxView=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.render=function(Dr,Mr,$r,Br){var zr=this.group;if(zr.removeAll(),!Dr.get("show"))return;var Vr=+Dr.get("itemSize"),jr=Dr.get("orient")==="vertical",Gr=Dr.get("feature")||{},Wr=this._features||(this._features={}),Kr=[];each$f(Gr,function(rn,nn){Kr.push(nn)}),new DataDiffer$1(this._featureNames||[],Kr).add(Zr).update(Zr).remove(curry$1(Zr,null)).execute(),this._featureNames=Kr;function Zr(rn,nn){var ln=Kr[rn],cn=Kr[nn],hn=Gr[ln],mn=new Model$1(hn,Dr,Dr.ecModel),bn;if(Br&&Br.newTitle!=null&&Br.featureName===ln&&(hn.title=Br.newTitle),ln&&!cn){if(isUserFeatureName(ln))bn={onclick:mn.option.onclick,featureName:ln};else{var An=getFeature(ln);if(!An)return;bn=new An}Wr[ln]=bn}else if(bn=Wr[cn],!bn)return;bn.uid=getUID("toolbox-feature"),bn.model=mn,bn.ecModel=Mr,bn.api=$r;var vn=bn instanceof ToolboxFeature;if(!ln&&cn){vn&&bn.dispose&&bn.dispose(Mr,$r);return}if(!mn.get("show")||vn&&bn.unusable){vn&&bn.remove&&bn.remove(Mr,$r);return}Jr(mn,bn,ln),mn.setIconStatus=function(dn,wn){var xn=this.option,Mn=this.iconPaths;xn.iconStatus=xn.iconStatus||{},xn.iconStatus[dn]=wn,Mn[dn]&&(wn==="emphasis"?enterEmphasis:leaveEmphasis)(Mn[dn])},bn instanceof ToolboxFeature&&bn.render&&bn.render(mn,Mr,$r,Br)}function Jr(rn,nn,ln){var cn=rn.getModel("iconStyle"),hn=rn.getModel(["emphasis","iconStyle"]),mn=nn instanceof ToolboxFeature&&nn.getIcons?nn.getIcons():rn.get("icon"),bn=rn.get("title")||{},An,vn;isString(mn)?(An={},An[ln]=mn):An=mn,isString(bn)?(vn={},vn[ln]=bn):vn=bn;var dn=rn.iconPaths={};each$f(An,function(wn,xn){var Mn=createIcon(wn,{},{x:-Vr/2,y:-Vr/2,width:Vr,height:Vr});Mn.setStyle(cn.getItemStyle());var In=Mn.ensureState("emphasis");In.style=hn.getItemStyle();var Hn=new ZRText$1({style:{text:vn[xn],align:hn.get("textAlign"),borderRadius:hn.get("textBorderRadius"),padding:hn.get("textPadding"),fill:null},ignore:!0});Mn.setTextContent(Hn),setTooltipConfig({el:Mn,componentModel:Dr,itemName:xn,formatterParamsExtra:{title:vn[xn]}}),Mn.__title=vn[xn],Mn.on("mouseover",function(){var $n=hn.getItemStyle(),jn=jr?Dr.get("right")==null&&Dr.get("left")!=="right"?"right":"left":Dr.get("bottom")==null&&Dr.get("top")!=="bottom"?"bottom":"top";Hn.setStyle({fill:hn.get("textFill")||$n.fill||$n.stroke||"#000",backgroundColor:hn.get("textBackgroundColor")}),Mn.setTextConfig({position:hn.get("textPosition")||jn}),Hn.ignore=!Dr.get("showTitle"),$r.enterEmphasis(this)}).on("mouseout",function(){rn.get(["iconStatus",xn])!=="emphasis"&&$r.leaveEmphasis(this),Hn.hide()}),(rn.get(["iconStatus",xn])==="emphasis"?enterEmphasis:leaveEmphasis)(Mn),zr.add(Mn),Mn.on("click",bind$1(nn.onclick,nn,Mr,$r,xn)),dn[xn]=Mn})}layout(zr,Dr,$r),zr.add(makeBackground(zr.getBoundingRect(),Dr)),jr||zr.eachChild(function(rn){var nn=rn.__title,ln=rn.ensureState("emphasis"),cn=ln.textConfig||(ln.textConfig={}),hn=rn.getTextContent(),mn=hn&&hn.ensureState("emphasis");if(mn&&!isFunction(mn)&&nn){var bn=mn.style||(mn.style={}),An=getBoundingRect(nn,ZRText$1.makeFont(bn)),vn=rn.x+zr.x,dn=rn.y+zr.y+Vr,wn=!1;dn+An.height>$r.getHeight()&&(cn.position="top",wn=!0);var xn=wn?-5-An.height:Vr+10;vn+An.width/2>$r.getWidth()?(cn.position=["100%",xn],bn.align="right"):vn-An.width/2<0&&(cn.position=[0,xn],bn.align="left")}})},Be.prototype.updateView=function(Dr,Mr,$r,Br){each$f(this._features,function(zr){zr instanceof ToolboxFeature&&zr.updateView&&zr.updateView(zr.model,Mr,$r,Br)})},Be.prototype.remove=function(Dr,Mr){each$f(this._features,function($r){$r instanceof ToolboxFeature&&$r.remove&&$r.remove(Dr,Mr)}),this.group.removeAll()},Be.prototype.dispose=function(Dr,Mr){each$f(this._features,function($r){$r instanceof ToolboxFeature&&$r.dispose&&$r.dispose(Dr,Mr)})},Be.type="toolbox",Be}(ComponentView$1);function isUserFeatureName(_r){return _r.indexOf("my")===0}const ToolboxView$1=ToolboxView;var SaveAsImage=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.onclick=function(Dr,Mr){var $r=this.model,Br=$r.get("name")||Dr.get("title.0.text")||"echarts",zr=Mr.getZr().painter.getType()==="svg",Vr=zr?"svg":$r.get("type",!0)||"png",jr=Mr.getConnectedDataURL({type:Vr,backgroundColor:$r.get("backgroundColor",!0)||Dr.get("backgroundColor")||"#fff",connectedBackgroundColor:$r.get("connectedBackgroundColor"),excludeComponents:$r.get("excludeComponents"),pixelRatio:$r.get("pixelRatio")}),Gr=env$1.browser;if(isFunction(MouseEvent)&&(Gr.newEdge||!Gr.ie&&!Gr.edge)){var Wr=document.createElement("a");Wr.download=Br+"."+Vr,Wr.target="_blank",Wr.href=jr;var Kr=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});Wr.dispatchEvent(Kr)}else if(window.navigator.msSaveOrOpenBlob||zr){var Zr=jr.split(","),Jr=Zr[0].indexOf("base64")>-1,rn=zr?decodeURIComponent(Zr[1]):Zr[1];Jr&&(rn=window.atob(rn));var nn=Br+"."+Vr;if(window.navigator.msSaveOrOpenBlob){for(var ln=rn.length,cn=new Uint8Array(ln);ln--;)cn[ln]=rn.charCodeAt(ln);var hn=new Blob([cn]);window.navigator.msSaveOrOpenBlob(hn,nn)}else{var mn=document.createElement("iframe");document.body.appendChild(mn);var bn=mn.contentWindow,An=bn.document;An.open("image/svg+xml","replace"),An.write(rn),An.close(),bn.focus(),An.execCommand("SaveAs",!0,nn),document.body.removeChild(mn)}}else{var vn=$r.get("lang"),dn='<body style="margin:0;"><img src="'+jr+'" style="max-width:100%;" title="'+(vn&&vn[0]||"")+'" /></body>',wn=window.open();wn.document.write(dn),wn.document.title=Br}},Be.getDefaultOption=function(Dr){var Mr={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Dr.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:Dr.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return Mr},Be}(ToolboxFeature);const SaveAsImage$1=SaveAsImage;var INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.getIcons=function(){var Dr=this.model,Mr=Dr.get("icon"),$r={};return each$f(Dr.get("type"),function(Br){Mr[Br]&&($r[Br]=Mr[Br])}),$r},Be.getDefaultOption=function(Dr){var Mr={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:Dr.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return Mr},Be.prototype.onclick=function(Dr,Mr,$r){var Br=this.model,zr=Br.get(["seriesIndex",$r]);if(seriesOptGenreator[$r]){var Vr={series:[]},jr=function(Kr){var Zr=Kr.subType,Jr=Kr.id,rn=seriesOptGenreator[$r](Zr,Jr,Kr,Br);rn&&(defaults(rn,Kr.option),Vr.series.push(rn));var nn=Kr.coordinateSystem;if(nn&&nn.type==="cartesian2d"&&($r==="line"||$r==="bar")){var ln=nn.getAxesByScale("ordinal")[0];if(ln){var cn=ln.dim,hn=cn+"Axis",mn=Kr.getReferringComponents(hn,SINGLE_REFERRING).models[0],bn=mn.componentIndex;Vr[hn]=Vr[hn]||[];for(var An=0;An<=bn;An++)Vr[hn][bn]=Vr[hn][bn]||{};Vr[hn][bn].boundaryGap=$r==="bar"}}};each$f(radioTypes,function(Kr){indexOf(Kr,$r)>=0&&each$f(Kr,function(Zr){Br.setIconStatus(Zr,"normal")})}),Br.setIconStatus($r,"emphasis"),Dr.eachComponent({mainType:"series",query:zr==null?null:{seriesIndex:zr}},jr);var Gr,Wr=$r;$r==="stack"&&(Gr=merge({stack:Br.option.title.tiled,tiled:Br.option.title.stack},Br.option.title),Br.get(["iconStatus",$r])!=="emphasis"&&(Wr="tiled")),Mr.dispatchAction({type:"changeMagicType",currentType:Wr,newOption:Vr,newTitle:Gr,featureName:"magicType"})}},Be}(ToolboxFeature),seriesOptGenreator={line:function(_r,Be,Dr,Mr){if(_r==="bar")return merge({id:Be,type:"line",data:Dr.get("data"),stack:Dr.get("stack"),markPoint:Dr.get("markPoint"),markLine:Dr.get("markLine")},Mr.get(["option","line"])||{},!0)},bar:function(_r,Be,Dr,Mr){if(_r==="line")return merge({id:Be,type:"bar",data:Dr.get("data"),stack:Dr.get("stack"),markPoint:Dr.get("markPoint"),markLine:Dr.get("markLine")},Mr.get(["option","bar"])||{},!0)},stack:function(_r,Be,Dr,Mr){var $r=Dr.get("stack")===INNER_STACK_KEYWORD;if(_r==="line"||_r==="bar")return Mr.setIconStatus("stack",$r?"normal":"emphasis"),merge({id:Be,stack:$r?"":INNER_STACK_KEYWORD},Mr.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(_r,Be){Be.mergeOption(_r.newOption)});const MagicType$1=MagicType;var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(_r){var Be={},Dr=[],Mr=[];return _r.eachRawSeries(function($r){var Br=$r.coordinateSystem;if(Br&&(Br.type==="cartesian2d"||Br.type==="polar")){var zr=Br.getBaseAxis();if(zr.type==="category"){var Vr=zr.dim+"_"+zr.index;Be[Vr]||(Be[Vr]={categoryAxis:zr,valueAxis:Br.getOtherAxis(zr),series:[]},Mr.push({axisDim:zr.dim,axisIndex:zr.index})),Be[Vr].series.push($r)}else Dr.push($r)}else Dr.push($r)}),{seriesGroupByCategoryAxis:Be,other:Dr,meta:Mr}}function assembleSeriesWithCategoryAxis(_r){var Be=[];return each$f(_r,function(Dr,Mr){var $r=Dr.categoryAxis,Br=Dr.valueAxis,zr=Br.dim,Vr=[" "].concat(map$1(Dr.series,function(Jr){return Jr.name})),jr=[$r.model.getCategories()];each$f(Dr.series,function(Jr){var rn=Jr.getRawData();jr.push(Jr.getRawData().mapArray(rn.mapDimension(zr),function(nn){return nn}))});for(var Gr=[Vr.join(ITEM_SPLITER)],Wr=0;Wr<jr[0].length;Wr++){for(var Kr=[],Zr=0;Zr<jr.length;Zr++)Kr.push(jr[Zr][Wr]);Gr.push(Kr.join(ITEM_SPLITER))}Be.push(Gr.join(`
`))}),Be.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(_r){return map$1(_r,function(Be){var Dr=Be.getRawData(),Mr=[Be.name],$r=[];return Dr.each(Dr.dimensions,function(){for(var Br=arguments.length,zr=arguments[Br-1],Vr=Dr.getName(zr),jr=0;jr<Br-1;jr++)$r[jr]=arguments[jr];Mr.push((Vr?Vr+ITEM_SPLITER:"")+$r.join(ITEM_SPLITER))}),Mr.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(_r){var Be=groupSeries(_r);return{value:filter([assembleSeriesWithCategoryAxis(Be.seriesGroupByCategoryAxis),assembleOtherSeries(Be.other)],function(Dr){return!!Dr.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:Be.meta}}function trim(_r){return _r.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(_r){var Be=_r.slice(0,_r.indexOf(`
`));if(Be.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(_r){for(var Be=_r.split(/\n+/g),Dr=trim(Be.shift()).split(itemSplitRegex),Mr=[],$r=map$1(Dr,function(jr){return{name:jr,data:[]}}),Br=0;Br<Be.length;Br++){var zr=trim(Be[Br]).split(itemSplitRegex);Mr.push(zr.shift());for(var Vr=0;Vr<zr.length;Vr++)$r[Vr]&&($r[Vr].data[Br]=zr[Vr])}return{series:$r,categories:Mr}}function parseListContents(_r){for(var Be=_r.split(/\n+/g),Dr=trim(Be.shift()),Mr=[],$r=0;$r<Be.length;$r++){var Br=trim(Be[$r]);if(Br){var zr=Br.split(itemSplitRegex),Vr="",jr=void 0,Gr=!1;isNaN(zr[0])?(Gr=!0,Vr=zr[0],zr=zr.slice(1),Mr[$r]={name:Vr,value:[]},jr=Mr[$r].value):jr=Mr[$r]=[];for(var Wr=0;Wr<zr.length;Wr++)jr.push(+zr[Wr]);jr.length===1&&(Gr?Mr[$r].value=jr[0]:Mr[$r]=jr[0])}}return{name:Dr,data:Mr}}function parseContents(_r,Be){var Dr=_r.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),Mr={series:[]};return each$f(Dr,function($r,Br){if(isTSVFormat($r)){var zr=parseTSVContents($r),Vr=Be[Br],jr=Vr.axisDim+"Axis";Vr&&(Mr[jr]=Mr[jr]||[],Mr[jr][Vr.axisIndex]={data:zr.categories},Mr.series=Mr.series.concat(zr.series))}else{var zr=parseListContents($r);Mr.series.push(zr)}}),Mr}var DataView=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.onclick=function(Dr,Mr){setTimeout(function(){Mr.dispatchAction({type:"hideTip"})});var $r=Mr.getDom(),Br=this.model;this._dom&&$r.removeChild(this._dom);var zr=document.createElement("div");zr.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",zr.style.backgroundColor=Br.get("backgroundColor")||"#fff";var Vr=document.createElement("h4"),jr=Br.get("lang")||[];Vr.innerHTML=jr[0]||Br.get("title"),Vr.style.cssText="margin:10px 20px",Vr.style.color=Br.get("textColor");var Gr=document.createElement("div"),Wr=document.createElement("textarea");Gr.style.cssText="overflow:auto";var Kr=Br.get("optionToContent"),Zr=Br.get("contentToOption"),Jr=getContentFromModel(Dr);if(isFunction(Kr)){var rn=Kr(Mr.getOption());isString(rn)?Gr.innerHTML=rn:isDom(rn)&&Gr.appendChild(rn)}else{Wr.readOnly=Br.get("readOnly");var nn=Wr.style;nn.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",nn.color=Br.get("textColor"),nn.borderColor=Br.get("textareaBorderColor"),nn.backgroundColor=Br.get("textareaColor"),Wr.value=Jr.value,Gr.appendChild(Wr)}var ln=Jr.meta,cn=document.createElement("div");cn.style.cssText="position:absolute;bottom:5px;left:0;right:0";var hn="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",mn=document.createElement("div"),bn=document.createElement("div");hn+=";background-color:"+Br.get("buttonColor"),hn+=";color:"+Br.get("buttonTextColor");var An=this;function vn(){$r.removeChild(zr),An._dom=null}addEventListener(mn,"click",vn),addEventListener(bn,"click",function(){if(Zr==null&&Kr!=null||Zr!=null&&Kr==null){vn();return}var dn;try{isFunction(Zr)?dn=Zr(Gr,Mr.getOption()):dn=parseContents(Wr.value,ln)}catch(wn){throw vn(),new Error("Data view format error "+wn)}dn&&Mr.dispatchAction({type:"changeDataView",newOption:dn}),vn()}),mn.innerHTML=jr[1],bn.innerHTML=jr[2],bn.style.cssText=mn.style.cssText=hn,!Br.get("readOnly")&&cn.appendChild(bn),cn.appendChild(mn),zr.appendChild(Vr),zr.appendChild(Gr),zr.appendChild(cn),Gr.style.height=$r.clientHeight-80+"px",$r.appendChild(zr),this._dom=zr},Be.prototype.remove=function(Dr,Mr){this._dom&&Mr.getDom().removeChild(this._dom)},Be.prototype.dispose=function(Dr,Mr){this.remove(Dr,Mr)},Be.getDefaultOption=function(Dr){var Mr={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:Dr.getLocaleModel().get(["toolbox","dataView","title"]),lang:Dr.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return Mr},Be}(ToolboxFeature);function tryMergeDataOption(_r,Be){return map$1(_r,function(Dr,Mr){var $r=Be&&Be[Mr];if(isObject$3($r)&&!isArray$1($r)){var Br=isObject$3(Dr)&&!isArray$1(Dr);Br||(Dr={value:Dr});var zr=$r.name!=null&&Dr.name==null;return Dr=defaults(Dr,$r),zr&&delete Dr.name,Dr}else return Dr})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(_r,Be){var Dr=[];each$f(_r.newOption.series,function(Mr){var $r=Be.getSeriesByName(Mr.name)[0];if(!$r)Dr.push(extend$1({type:"scatter"},Mr));else{var Br=$r.get("data");Dr.push({name:Mr.name,data:tryMergeDataOption(Mr.data,Br)})}}),Be.mergeOption(defaults({series:Dr},_r.newOption))});const DataView$1=DataView;var each$6=each$f,inner$6=makeInner();function push(_r,Be){var Dr=getStoreSnapshots(_r);each$6(Be,function(Mr,$r){for(var Br=Dr.length-1;Br>=0;Br--){var zr=Dr[Br];if(zr[$r])break}if(Br<0){var Vr=_r.queryComponents({mainType:"dataZoom",subType:"select",id:$r})[0];if(Vr){var jr=Vr.getPercentRange();Dr[0][$r]={dataZoomId:$r,start:jr[0],end:jr[1]}}}}),Dr.push(Be)}function pop(_r){var Be=getStoreSnapshots(_r),Dr=Be[Be.length-1];Be.length>1&&Be.pop();var Mr={};return each$6(Dr,function($r,Br){for(var zr=Be.length-1;zr>=0;zr--)if($r=Be[zr][Br],$r){Mr[Br]=$r;break}}),Mr}function clear(_r){inner$6(_r).snapshots=null}function count(_r){return getStoreSnapshots(_r).length}function getStoreSnapshots(_r){var Be=inner$6(_r);return Be.snapshots||(Be.snapshots=[{}]),Be.snapshots}var RestoreOption=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.onclick=function(Dr,Mr){clear(Dr),Mr.dispatchAction({type:"restore",from:this.uid})},Be.getDefaultOption=function(Dr){var Mr={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Dr.getLocaleModel().get(["toolbox","restore","title"])};return Mr},Be}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(_r,Be){Be.resetOption("recreate")});const Restore=RestoreOption;var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function _r(Be,Dr,Mr){var $r=this;this._targetInfoList=[];var Br=parseFinder(Dr,Be);each$f(targetInfoBuilders,function(zr,Vr){(!Mr||!Mr.include||indexOf(Mr.include,Vr)>=0)&&zr(Br,$r._targetInfoList)})}return _r.prototype.setOutputRanges=function(Be,Dr){return this.matchOutputRanges(Be,Dr,function(Mr,$r,Br){if((Mr.coordRanges||(Mr.coordRanges=[])).push($r),!Mr.coordRange){Mr.coordRange=$r;var zr=coordConvert[Mr.brushType](0,Br,$r);Mr.__rangeOffset={offset:diffProcessor[Mr.brushType](zr.values,Mr.range,[1,1]),xyMinMax:zr.xyMinMax}}}),Be},_r.prototype.matchOutputRanges=function(Be,Dr,Mr){each$f(Be,function($r){var Br=this.findTargetInfo($r,Dr);Br&&Br!==!0&&each$f(Br.coordSyses,function(zr){var Vr=coordConvert[$r.brushType](1,zr,$r.range,!0);Mr($r,Vr.values,zr,Dr)})},this)},_r.prototype.setInputRanges=function(Be,Dr){each$f(Be,function(Mr){var $r=this.findTargetInfo(Mr,Dr);if(Mr.range=Mr.range||[],$r&&$r!==!0){Mr.panelId=$r.panelId;var Br=coordConvert[Mr.brushType](0,$r.coordSys,Mr.coordRange),zr=Mr.__rangeOffset;Mr.range=zr?diffProcessor[Mr.brushType](Br.values,zr.offset,getScales(Br.xyMinMax,zr.xyMinMax)):Br.values}},this)},_r.prototype.makePanelOpts=function(Be,Dr){return map$1(this._targetInfoList,function(Mr){var $r=Mr.getPanelRect();return{panelId:Mr.panelId,defaultBrushType:Dr?Dr(Mr):null,clipPath:makeRectPanelClipPath($r),isTargetByCursor:makeRectIsTargetByCursor($r,Be,Mr.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent($r)}})},_r.prototype.controlSeries=function(Be,Dr,Mr){var $r=this.findTargetInfo(Be,Mr);return $r===!0||$r&&indexOf($r.coordSyses,Dr.coordinateSystem)>=0},_r.prototype.findTargetInfo=function(Be,Dr){for(var Mr=this._targetInfoList,$r=parseFinder(Dr,Be),Br=0;Br<Mr.length;Br++){var zr=Mr[Br],Vr=Be.panelId;if(Vr){if(zr.panelId===Vr)return zr}else for(var jr=0;jr<targetInfoMatchers.length;jr++)if(targetInfoMatchers[jr]($r,zr))return zr}return!0},_r}();function formatMinMax(_r){return _r[0]>_r[1]&&_r.reverse(),_r}function parseFinder(_r,Be){return parseFinder$1(_r,Be,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(_r,Be){var Dr=_r.xAxisModels,Mr=_r.yAxisModels,$r=_r.gridModels,Br=createHashMap(),zr={},Vr={};!Dr&&!Mr&&!$r||(each$f(Dr,function(jr){var Gr=jr.axis.grid.model;Br.set(Gr.id,Gr),zr[Gr.id]=!0}),each$f(Mr,function(jr){var Gr=jr.axis.grid.model;Br.set(Gr.id,Gr),Vr[Gr.id]=!0}),each$f($r,function(jr){Br.set(jr.id,jr),zr[jr.id]=!0,Vr[jr.id]=!0}),Br.each(function(jr){var Gr=jr.coordinateSystem,Wr=[];each$f(Gr.getCartesians(),function(Kr,Zr){(indexOf(Dr,Kr.getAxis("x").model)>=0||indexOf(Mr,Kr.getAxis("y").model)>=0)&&Wr.push(Kr)}),Be.push({panelId:"grid--"+jr.id,gridModel:jr,coordSysModel:jr,coordSys:Wr[0],coordSyses:Wr,getPanelRect:panelRectBuilders.grid,xAxisDeclared:zr[jr.id],yAxisDeclared:Vr[jr.id]})}))},geo:function(_r,Be){each$f(_r.geoModels,function(Dr){var Mr=Dr.coordinateSystem;Be.push({panelId:"geo--"+Dr.id,geoModel:Dr,coordSysModel:Dr,coordSys:Mr,coordSyses:[Mr],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(_r,Be){var Dr=_r.xAxisModel,Mr=_r.yAxisModel,$r=_r.gridModel;return!$r&&Dr&&($r=Dr.axis.grid.model),!$r&&Mr&&($r=Mr.axis.grid.model),$r&&$r===Be.gridModel},function(_r,Be){var Dr=_r.geoModel;return Dr&&Dr===Be.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var _r=this.coordSys,Be=_r.getBoundingRect().clone();return Be.applyTransform(getTransform$1(_r)),Be}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(_r,Be,Dr,Mr){var $r=_r?Be.pointToData([Dr[0][0],Dr[1][0]],Mr):Be.dataToPoint([Dr[0][0],Dr[1][0]],Mr),Br=_r?Be.pointToData([Dr[0][1],Dr[1][1]],Mr):Be.dataToPoint([Dr[0][1],Dr[1][1]],Mr),zr=[formatMinMax([$r[0],Br[0]]),formatMinMax([$r[1],Br[1]])];return{values:zr,xyMinMax:zr}},polygon:function(_r,Be,Dr,Mr){var $r=[[1/0,-1/0],[1/0,-1/0]],Br=map$1(Dr,function(zr){var Vr=_r?Be.pointToData(zr,Mr):Be.dataToPoint(zr,Mr);return $r[0][0]=Math.min($r[0][0],Vr[0]),$r[1][0]=Math.min($r[1][0],Vr[1]),$r[0][1]=Math.max($r[0][1],Vr[0]),$r[1][1]=Math.max($r[1][1],Vr[1]),Vr});return{values:Br,xyMinMax:$r}}};function axisConvert(_r,Be,Dr,Mr){var $r=Dr.getAxis(["x","y"][_r]),Br=formatMinMax(map$1([0,1],function(Vr){return Be?$r.coordToData($r.toLocalCoord(Mr[Vr]),!0):$r.toGlobalCoord($r.dataToCoord(Mr[Vr]))})),zr=[];return zr[_r]=Br,zr[1-_r]=[NaN,NaN],{values:Br,xyMinMax:zr}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(_r,Be,Dr){return[[_r[0][0]-Dr[0]*Be[0][0],_r[0][1]-Dr[0]*Be[0][1]],[_r[1][0]-Dr[1]*Be[1][0],_r[1][1]-Dr[1]*Be[1][1]]]},polygon:function(_r,Be,Dr){return map$1(_r,function(Mr,$r){return[Mr[0]-Dr[0]*Be[$r][0],Mr[1]-Dr[1]*Be[$r][1]]})}};function axisDiffProcessor(_r,Be,Dr,Mr){return[Be[0]-Mr[_r]*Dr[0],Be[1]-Mr[_r]*Dr[1]]}function getScales(_r,Be){var Dr=getSize(_r),Mr=getSize(Be),$r=[Dr[0]/Mr[0],Dr[1]/Mr[1]];return isNaN($r[0])&&($r[0]=1),isNaN($r[1])&&($r[1]=1),$r}function getSize(_r){return _r?[_r[0][1]-_r[0][0],_r[1][1]-_r[1][0]]:[NaN,NaN]}const BrushTargetManager$1=BrushTargetManager;var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.render=function(Dr,Mr,$r,Br){this._brushController||(this._brushController=new BrushController$1($r.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(Dr,Mr,this,Br,$r),updateBackBtnStatus(Dr,Mr)},Be.prototype.onclick=function(Dr,Mr,$r){handlers[$r].call(this)},Be.prototype.remove=function(Dr,Mr){this._brushController&&this._brushController.unmount()},Be.prototype.dispose=function(Dr,Mr){this._brushController&&this._brushController.dispose()},Be.prototype._onBrush=function(Dr){var Mr=Dr.areas;if(!Dr.isEnd||!Mr.length)return;var $r={},Br=this.ecModel;this._brushController.updateCovers([]);var zr=new BrushTargetManager$1(makeAxisFinder(this.model),Br,{include:["grid"]});zr.matchOutputRanges(Mr,Br,function(Gr,Wr,Kr){if(Kr.type==="cartesian2d"){var Zr=Gr.brushType;Zr==="rect"?(Vr("x",Kr,Wr[0]),Vr("y",Kr,Wr[1])):Vr({lineX:"x",lineY:"y"}[Zr],Kr,Wr)}}),push(Br,$r),this._dispatchZoomAction($r);function Vr(Gr,Wr,Kr){var Zr=Wr.getAxis(Gr),Jr=Zr.model,rn=jr(Gr,Jr,Br),nn=rn.findRepresentativeAxisProxy(Jr).getMinMaxSpan();(nn.minValueSpan!=null||nn.maxValueSpan!=null)&&(Kr=sliderMove(0,Kr.slice(),Zr.scale.getExtent(),0,nn.minValueSpan,nn.maxValueSpan)),rn&&($r[rn.id]={dataZoomId:rn.id,startValue:Kr[0],endValue:Kr[1]})}function jr(Gr,Wr,Kr){var Zr;return Kr.eachComponent({mainType:"dataZoom",subType:"select"},function(Jr){var rn=Jr.getAxisModel(Gr,Wr.componentIndex);rn&&(Zr=Jr)}),Zr}},Be.prototype._dispatchZoomAction=function(Dr){var Mr=[];each$5(Dr,function($r,Br){Mr.push(clone$4($r))}),Mr.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:Mr})},Be.getDefaultOption=function(Dr){var Mr={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:Dr.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return Mr},Be}(ToolboxFeature),handlers={zoom:function(){var _r=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:_r})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(_r){var Be={xAxisIndex:_r.get("xAxisIndex",!0),yAxisIndex:_r.get("yAxisIndex",!0),xAxisId:_r.get("xAxisId",!0),yAxisId:_r.get("yAxisId",!0)};return Be.xAxisIndex==null&&Be.xAxisId==null&&(Be.xAxisIndex="all"),Be.yAxisIndex==null&&Be.yAxisId==null&&(Be.yAxisIndex="all"),Be}function updateBackBtnStatus(_r,Be){_r.setIconStatus("back",count(Be)>1?"emphasis":"normal")}function updateZoomBtnStatus(_r,Be,Dr,Mr,$r){var Br=Dr._isZoomActive;Mr&&Mr.type==="takeGlobalCursor"&&(Br=Mr.key==="dataZoomSelect"?Mr.dataZoomSelectActive:!1),Dr._isZoomActive=Br,_r.setIconStatus("zoom",Br?"emphasis":"normal");var zr=new BrushTargetManager$1(makeAxisFinder(_r),Be,{include:["grid"]}),Vr=zr.makePanelOpts($r,function(jr){return jr.xAxisDeclared&&!jr.yAxisDeclared?"lineX":!jr.xAxisDeclared&&jr.yAxisDeclared?"lineY":"rect"});Dr._brushController.setPanels(Vr).enableBrush(Br&&Vr.length?{brushType:"auto",brushStyle:_r.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(_r){var Be=_r.getComponent("toolbox",0),Dr=["feature","dataZoom"];if(!Be||Be.get(Dr)==null)return;var Mr=Be.getModel(Dr),$r=[],Br=makeAxisFinder(Mr),zr=parseFinder$1(_r,Br);each$5(zr.xAxisModels,function(jr){return Vr(jr,"xAxis","xAxisIndex")}),each$5(zr.yAxisModels,function(jr){return Vr(jr,"yAxis","yAxisIndex")});function Vr(jr,Gr,Wr){var Kr=jr.componentIndex,Zr={type:"select",$fromToolbox:!0,filterMode:Mr.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+Gr+Kr};Zr[Wr]=Kr,$r.push(Zr)}return $r});const DataZoom=DataZoomFeature;function install$j(_r){_r.registerComponentModel(ToolboxModel$1),_r.registerComponentView(ToolboxView$1),registerFeature("saveAsImage",SaveAsImage$1),registerFeature("magicType",MagicType$1),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(install$k)}var TooltipModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="tooltip",Be.dependencies=["axisPointer"],Be.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},Be}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(_r){var Be=_r.get("confine");return Be!=null?!!Be:_r.get("renderMode")==="richText"}function testStyle(_r){if(env$1.domSupported){for(var Be=document.documentElement.style,Dr=0,Mr=_r.length;Dr<Mr;Dr++)if(_r[Dr]in Be)return _r[Dr]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(_r,Be){if(!_r)return Be;Be=toCamelCase(Be,!0);var Dr=_r.indexOf(Be);return _r=Dr===-1?Be:"-"+_r.slice(0,Dr)+"-"+Be,_r.toLowerCase()}function getComputedStyle$1(_r,Be){var Dr=_r.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(_r);return Dr?Be?Dr[Be]:Dr:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(_r){return _r=_r==="left"?"right":_r==="right"?"left":_r==="top"?"bottom":"top",_r}function assembleArrow(_r,Be,Dr){if(!isString(Dr)||Dr==="inside")return"";var Mr=_r.get("backgroundColor"),$r=_r.get("borderWidth");Be=convertToColorString(Be);var Br=mirrorPos(Dr),zr=Math.max(Math.round($r)*1.5,6),Vr="",jr=CSS_TRANSFORM_VENDOR+":",Gr;indexOf(["left","right"],Br)>-1?(Vr+="top:50%",jr+="translateY(-50%) rotate("+(Gr=Br==="left"?-225:-45)+"deg)"):(Vr+="left:50%",jr+="translateX(-50%) rotate("+(Gr=Br==="top"?225:45)+"deg)");var Wr=Gr*Math.PI/180,Kr=zr+$r,Zr=Kr*Math.abs(Math.cos(Wr))+Kr*Math.abs(Math.sin(Wr)),Jr=Math.round(((Zr-Math.SQRT2*$r)/2+Math.SQRT2*$r-(Zr-Kr)/2)*100)/100;Vr+=";"+Br+":-"+Jr+"px";var rn=Be+" solid "+$r+"px;",nn=["position:absolute;width:"+zr+"px;height:"+zr+"px;z-index:-1;",Vr+";"+jr+";","border-bottom:"+rn,"border-right:"+rn,"background-color:"+Mr+";"];return'<div style="'+nn.join("")+'"></div>'}function assembleTransition(_r,Be){var Dr="cubic-bezier(0.23,1,0.32,1)",Mr=" "+_r/2+"s "+Dr,$r="opacity"+Mr+",visibility"+Mr;return Be||(Mr=" "+_r+"s "+Dr,$r+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+Mr:",left"+Mr+",top"+Mr),CSS_TRANSITION_VENDOR+":"+$r}function assembleTransform(_r,Be,Dr){var Mr=_r.toFixed(0)+"px",$r=Be.toFixed(0)+"px";if(!env$1.transformSupported)return Dr?"top:"+$r+";left:"+Mr+";":[["top",$r],["left",Mr]];var Br=env$1.transform3dSupported,zr="translate"+(Br?"3d":"")+"("+Mr+","+$r+(Br?",0":"")+")";return Dr?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+zr+";":[["top",0],["left",0],[TRANSFORM_VENDOR,zr]]}function assembleFont(_r){var Be=[],Dr=_r.get("fontSize"),Mr=_r.getTextColor();Mr&&Be.push("color:"+Mr),Be.push("font:"+_r.getFont()),Dr&&Be.push("line-height:"+Math.round(Dr*3/2)+"px");var $r=_r.get("textShadowColor"),Br=_r.get("textShadowBlur")||0,zr=_r.get("textShadowOffsetX")||0,Vr=_r.get("textShadowOffsetY")||0;return $r&&Br&&Be.push("text-shadow:"+zr+"px "+Vr+"px "+Br+"px "+$r),each$f(["decoration","align"],function(jr){var Gr=_r.get(jr);Gr&&Be.push("text-"+jr+":"+Gr)}),Be.join(";")}function assembleCssText(_r,Be,Dr){var Mr=[],$r=_r.get("transitionDuration"),Br=_r.get("backgroundColor"),zr=_r.get("shadowBlur"),Vr=_r.get("shadowColor"),jr=_r.get("shadowOffsetX"),Gr=_r.get("shadowOffsetY"),Wr=_r.getModel("textStyle"),Kr=getPaddingFromTooltipModel(_r,"html"),Zr=jr+"px "+Gr+"px "+zr+"px "+Vr;return Mr.push("box-shadow:"+Zr),Be&&$r&&Mr.push(assembleTransition($r,Dr)),Br&&Mr.push("background-color:"+Br),each$f(["width","color","radius"],function(Jr){var rn="border-"+Jr,nn=toCamelCase(rn),ln=_r.get(nn);ln!=null&&Mr.push(rn+":"+ln+(Jr==="color"?"":"px"))}),Mr.push(assembleFont(Wr)),Kr!=null&&Mr.push("padding:"+normalizeCssArray(Kr).join("px ")+"px"),Mr.join(";")+";"}function makeStyleCoord$1(_r,Be,Dr,Mr,$r){var Br=Be&&Be.painter;if(Dr){var zr=Br&&Br.getViewportRoot();zr&&transformLocalCoord(_r,zr,document.body,Mr,$r)}else{_r[0]=Mr,_r[1]=$r;var Vr=Br&&Br.getViewportRootOffset();Vr&&(_r[0]+=Vr.offsetLeft,_r[1]+=Vr.offsetTop)}_r[2]=_r[0]/Be.getWidth(),_r[3]=_r[1]/Be.getHeight()}var TooltipHTMLContent=function(){function _r(Be,Dr,Mr){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var $r=document.createElement("div");$r.domBelongToZr=!0,this.el=$r;var Br=this._zr=Dr.getZr(),zr=this._appendToBody=Mr&&Mr.appendToBody;makeStyleCoord$1(this._styleCoord,Br,zr,Dr.getWidth()/2,Dr.getHeight()/2),zr?document.body.appendChild($r):Be.appendChild($r),this._container=Be;var Vr=this;$r.onmouseenter=function(){Vr._enterable&&(clearTimeout(Vr._hideTimeout),Vr._show=!0),Vr._inContent=!0},$r.onmousemove=function(jr){if(jr=jr||window.event,!Vr._enterable){var Gr=Br.handler,Wr=Br.painter.getViewportRoot();normalizeEvent(Wr,jr,!0),Gr.dispatch("mousemove",jr)}},$r.onmouseleave=function(){Vr._inContent=!1,Vr._enterable&&Vr._show&&Vr.hideLater(Vr._hideDelay)}}return _r.prototype.update=function(Be){var Dr=this._container,Mr=getComputedStyle$1(Dr,"position"),$r=Dr.style;$r.position!=="absolute"&&Mr!=="absolute"&&($r.position="relative");var Br=Be.get("alwaysShowContent");Br&&this._moveIfResized(),this._alwaysShowContent=Br,this.el.className=Be.get("className")||""},_r.prototype.show=function(Be,Dr){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var Mr=this.el,$r=Mr.style,Br=this._styleCoord;Mr.innerHTML?$r.cssText=gCssText+assembleCssText(Be,!this._firstShow,this._longHide)+assembleTransform(Br[0],Br[1],!0)+("border-color:"+convertToColorString(Dr)+";")+(Be.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):$r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},_r.prototype.setContent=function(Be,Dr,Mr,$r,Br){var zr=this.el;if(Be==null){zr.innerHTML="";return}var Vr="";if(isString(Br)&&Mr.get("trigger")==="item"&&!shouldTooltipConfine(Mr)&&(Vr=assembleArrow(Mr,$r,Br)),isString(Be))zr.innerHTML=Be+Vr;else if(Be){zr.innerHTML="",isArray$1(Be)||(Be=[Be]);for(var jr=0;jr<Be.length;jr++)isDom(Be[jr])&&Be[jr].parentNode!==zr&&zr.appendChild(Be[jr]);if(Vr&&zr.childNodes.length){var Gr=document.createElement("div");Gr.innerHTML=Vr,zr.appendChild(Gr)}}},_r.prototype.setEnterable=function(Be){this._enterable=Be},_r.prototype.getSize=function(){var Be=this.el;return[Be.offsetWidth,Be.offsetHeight]},_r.prototype.moveTo=function(Be,Dr){var Mr=this._styleCoord;if(makeStyleCoord$1(Mr,this._zr,this._appendToBody,Be,Dr),Mr[0]!=null&&Mr[1]!=null){var $r=this.el.style,Br=assembleTransform(Mr[0],Mr[1]);each$f(Br,function(zr){$r[zr[0]]=zr[1]})}},_r.prototype._moveIfResized=function(){var Be=this._styleCoord[2],Dr=this._styleCoord[3];this.moveTo(Be*this._zr.getWidth(),Dr*this._zr.getHeight())},_r.prototype.hide=function(){var Be=this,Dr=this.el.style;Dr.visibility="hidden",Dr.opacity="0",env$1.transform3dSupported&&(Dr.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return Be._longHide=!0},500)},_r.prototype.hideLater=function(Be){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(Be?(this._hideDelay=Be,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),Be)):this.hide())},_r.prototype.isShow=function(){return this._show},_r.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},_r}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function _r(Be){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=Be.getZr(),makeStyleCoord(this._styleCoord,this._zr,Be.getWidth()/2,Be.getHeight()/2)}return _r.prototype.update=function(Be){var Dr=Be.get("alwaysShowContent");Dr&&this._moveIfResized(),this._alwaysShowContent=Dr},_r.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},_r.prototype.setContent=function(Be,Dr,Mr,$r,Br){var zr=this;isObject$3(Be)&&throwError(""),this.el&&this._zr.remove(this.el);var Vr=Mr.getModel("textStyle");this.el=new ZRText$1({style:{rich:Dr.richTextStyles,text:Be,lineHeight:22,borderWidth:1,borderColor:$r,textShadowColor:Vr.get("textShadowColor"),fill:Mr.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(Mr,"richText"),verticalAlign:"top",align:"left"},z:Mr.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(Gr){zr.el.style[Gr]=Mr.get(Gr)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(Gr){zr.el.style[Gr]=Vr.get(Gr)||0}),this._zr.add(this.el);var jr=this;this.el.on("mouseover",function(){jr._enterable&&(clearTimeout(jr._hideTimeout),jr._show=!0),jr._inContent=!0}),this.el.on("mouseout",function(){jr._enterable&&jr._show&&jr.hideLater(jr._hideDelay),jr._inContent=!1})},_r.prototype.setEnterable=function(Be){this._enterable=Be},_r.prototype.getSize=function(){var Be=this.el,Dr=this.el.getBoundingRect(),Mr=calcShadowOuterSize(Be.style);return[Dr.width+Mr.left+Mr.right,Dr.height+Mr.top+Mr.bottom]},_r.prototype.moveTo=function(Be,Dr){var Mr=this.el;if(Mr){var $r=this._styleCoord;makeStyleCoord($r,this._zr,Be,Dr),Be=$r[0],Dr=$r[1];var Br=Mr.style,zr=mathMaxWith0(Br.borderWidth||0),Vr=calcShadowOuterSize(Br);Mr.x=Be+zr+Vr.left,Mr.y=Dr+zr+Vr.top,Mr.markRedraw()}},_r.prototype._moveIfResized=function(){var Be=this._styleCoord[2],Dr=this._styleCoord[3];this.moveTo(Be*this._zr.getWidth(),Dr*this._zr.getHeight())},_r.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},_r.prototype.hideLater=function(Be){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(Be?(this._hideDelay=Be,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),Be)):this.hide())},_r.prototype.isShow=function(){return this._show},_r.prototype.dispose=function(){this._zr.remove(this.el)},_r}();function mathMaxWith0(_r){return Math.max(0,_r)}function calcShadowOuterSize(_r){var Be=mathMaxWith0(_r.shadowBlur||0),Dr=mathMaxWith0(_r.shadowOffsetX||0),Mr=mathMaxWith0(_r.shadowOffsetY||0);return{left:mathMaxWith0(Be-Dr),right:mathMaxWith0(Be+Dr),top:mathMaxWith0(Be-Mr),bottom:mathMaxWith0(Be+Mr)}}function makeStyleCoord(_r,Be,Dr,Mr){_r[0]=Dr,_r[1]=Mr,_r[2]=_r[0]/Be.getWidth(),_r[3]=_r[1]/Be.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$3({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(Dr,Mr){if(!(env$1.node||!Mr.getDom())){var $r=Dr.getComponent("tooltip"),Br=this._renderMode=getTooltipRenderMode($r.get("renderMode"));this._tooltipContent=Br==="richText"?new TooltipRichContent$1(Mr):new TooltipHTMLContent$1(Mr.getDom(),Mr,{appendToBody:$r.get("appendToBody",!0)})}},Be.prototype.render=function(Dr,Mr,$r){if(!(env$1.node||!$r.getDom())){this.group.removeAll(),this._tooltipModel=Dr,this._ecModel=Mr,this._api=$r;var Br=this._tooltipContent;Br.update(Dr),Br.setEnterable(Dr.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&Dr.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},Be.prototype._initGlobalListener=function(){var Dr=this._tooltipModel,Mr=Dr.get("triggerOn");register("itemTooltip",this._api,bind$1(function($r,Br,zr){Mr!=="none"&&(Mr.indexOf($r)>=0?this._tryShow(Br,zr):$r==="leave"&&this._hide(zr))},this))},Be.prototype._keepShow=function(){var Dr=this._tooltipModel,Mr=this._ecModel,$r=this._api,Br=Dr.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&Br!=="none"&&Br!=="click"){var zr=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!$r.isDisposed()&&zr.manuallyShowTip(Dr,Mr,$r,{x:zr._lastX,y:zr._lastY,dataByCoordSys:zr._lastDataByCoordSys})})}},Be.prototype.manuallyShowTip=function(Dr,Mr,$r,Br){if(!(Br.from===this.uid||env$1.node||!$r.getDom())){var zr=makeDispatchAction(Br,$r);this._ticket="";var Vr=Br.dataByCoordSys,jr=findComponentReference(Br,Mr,$r);if(jr){var Gr=jr.el.getBoundingRect().clone();Gr.applyTransform(jr.el.transform),this._tryShow({offsetX:Gr.x+Gr.width/2,offsetY:Gr.y+Gr.height/2,target:jr.el,position:Br.position,positionDefault:"bottom"},zr)}else if(Br.tooltip&&Br.x!=null&&Br.y!=null){var Wr=proxyRect;Wr.x=Br.x,Wr.y=Br.y,Wr.update(),getECData(Wr).tooltipConfig={name:null,option:Br.tooltip},this._tryShow({offsetX:Br.x,offsetY:Br.y,target:Wr},zr)}else if(Vr)this._tryShow({offsetX:Br.x,offsetY:Br.y,position:Br.position,dataByCoordSys:Vr,tooltipOption:Br.tooltipOption},zr);else if(Br.seriesIndex!=null){if(this._manuallyAxisShowTip(Dr,Mr,$r,Br))return;var Kr=findPointFromSeries(Br,Mr),Zr=Kr.point[0],Jr=Kr.point[1];Zr!=null&&Jr!=null&&this._tryShow({offsetX:Zr,offsetY:Jr,target:Kr.el,position:Br.position,positionDefault:"bottom"},zr)}else Br.x!=null&&Br.y!=null&&($r.dispatchAction({type:"updateAxisPointer",x:Br.x,y:Br.y}),this._tryShow({offsetX:Br.x,offsetY:Br.y,position:Br.position,target:$r.getZr().findHover(Br.x,Br.y).target},zr))}},Be.prototype.manuallyHideTip=function(Dr,Mr,$r,Br){var zr=this._tooltipContent;this._tooltipModel&&zr.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,Br.from!==this.uid&&this._hide(makeDispatchAction(Br,$r))},Be.prototype._manuallyAxisShowTip=function(Dr,Mr,$r,Br){var zr=Br.seriesIndex,Vr=Br.dataIndex,jr=Mr.getComponent("axisPointer").coordSysAxesInfo;if(!(zr==null||Vr==null||jr==null)){var Gr=Mr.getSeriesByIndex(zr);if(Gr){var Wr=Gr.getData(),Kr=buildTooltipModel([Wr.getItemModel(Vr),Gr,(Gr.coordinateSystem||{}).model],this._tooltipModel);if(Kr.get("trigger")==="axis")return $r.dispatchAction({type:"updateAxisPointer",seriesIndex:zr,dataIndex:Vr,position:Br.position}),!0}}},Be.prototype._tryShow=function(Dr,Mr){var $r=Dr.target,Br=this._tooltipModel;if(Br){this._lastX=Dr.offsetX,this._lastY=Dr.offsetY;var zr=Dr.dataByCoordSys;if(zr&&zr.length)this._showAxisTooltip(zr,Dr);else if($r){this._lastDataByCoordSys=null;var Vr,jr;findEventDispatcher($r,function(Gr){if(getECData(Gr).dataIndex!=null)return Vr=Gr,!0;if(getECData(Gr).tooltipConfig!=null)return jr=Gr,!0},!0),Vr?this._showSeriesItemTooltip(Dr,Vr,Mr):jr?this._showComponentItemTooltip(Dr,jr,Mr):this._hide(Mr)}else this._lastDataByCoordSys=null,this._hide(Mr)}},Be.prototype._showOrMove=function(Dr,Mr){var $r=Dr.get("showDelay");Mr=bind$1(Mr,this),clearTimeout(this._showTimout),$r>0?this._showTimout=setTimeout(Mr,$r):Mr()},Be.prototype._showAxisTooltip=function(Dr,Mr){var $r=this._ecModel,Br=this._tooltipModel,zr=[Mr.offsetX,Mr.offsetY],Vr=buildTooltipModel([Mr.tooltipOption],Br),jr=this._renderMode,Gr=[],Wr=createTooltipMarkup("section",{blocks:[],noHeader:!0}),Kr=[],Zr=new TooltipMarkupStyleCreator;each$f(Dr,function(hn){each$f(hn.dataByAxis,function(mn){var bn=$r.getComponent(mn.axisDim+"Axis",mn.axisIndex),An=mn.value;if(!(!bn||An==null)){var vn=getValueLabel(An,bn.axis,$r,mn.seriesDataIndices,mn.valueLabelOpt),dn=createTooltipMarkup("section",{header:vn,noHeader:!trim$1(vn),sortBlocks:!0,blocks:[]});Wr.blocks.push(dn),each$f(mn.seriesDataIndices,function(wn){var xn=$r.getSeriesByIndex(wn.seriesIndex),Mn=wn.dataIndexInside,In=xn.getDataParams(Mn);if(!(In.dataIndex<0)){In.axisDim=mn.axisDim,In.axisIndex=mn.axisIndex,In.axisType=mn.axisType,In.axisId=mn.axisId,In.axisValue=getAxisRawValue(bn.axis,{value:An}),In.axisValueLabel=vn,In.marker=Zr.makeTooltipMarker("item",convertToColorString(In.color),jr);var Hn=normalizeTooltipFormatResult(xn.formatTooltip(Mn,!0,null)),$n=Hn.frag;if($n){var jn=buildTooltipModel([xn],Br).get("valueFormatter");dn.blocks.push(jn?extend$1({valueFormatter:jn},$n):$n)}Hn.text&&Kr.push(Hn.text),Gr.push(In)}})}})}),Wr.blocks.reverse(),Kr.reverse();var Jr=Mr.position,rn=Vr.get("order"),nn=buildTooltipMarkup(Wr,Zr,jr,rn,$r.get("useUTC"),Vr.get("textStyle"));nn&&Kr.unshift(nn);var ln=jr==="richText"?`

`:"<br/>",cn=Kr.join(ln);this._showOrMove(Vr,function(){this._updateContentNotChangedOnAxis(Dr,Gr)?this._updatePosition(Vr,Jr,zr[0],zr[1],this._tooltipContent,Gr):this._showTooltipContent(Vr,cn,Gr,Math.random()+"",zr[0],zr[1],Jr,null,Zr)})},Be.prototype._showSeriesItemTooltip=function(Dr,Mr,$r){var Br=this._ecModel,zr=getECData(Mr),Vr=zr.seriesIndex,jr=Br.getSeriesByIndex(Vr),Gr=zr.dataModel||jr,Wr=zr.dataIndex,Kr=zr.dataType,Zr=Gr.getData(Kr),Jr=this._renderMode,rn=Dr.positionDefault,nn=buildTooltipModel([Zr.getItemModel(Wr),Gr,jr&&(jr.coordinateSystem||{}).model],this._tooltipModel,rn?{position:rn}:null),ln=nn.get("trigger");if(!(ln!=null&&ln!=="item")){var cn=Gr.getDataParams(Wr,Kr),hn=new TooltipMarkupStyleCreator;cn.marker=hn.makeTooltipMarker("item",convertToColorString(cn.color),Jr);var mn=normalizeTooltipFormatResult(Gr.formatTooltip(Wr,!1,Kr)),bn=nn.get("order"),An=nn.get("valueFormatter"),vn=mn.frag,dn=vn?buildTooltipMarkup(An?extend$1({valueFormatter:An},vn):vn,hn,Jr,bn,Br.get("useUTC"),nn.get("textStyle")):mn.text,wn="item_"+Gr.name+"_"+Wr;this._showOrMove(nn,function(){this._showTooltipContent(nn,dn,cn,wn,Dr.offsetX,Dr.offsetY,Dr.position,Dr.target,hn)}),$r({type:"showTip",dataIndexInside:Wr,dataIndex:Zr.getRawIndex(Wr),seriesIndex:Vr,from:this.uid})}},Be.prototype._showComponentItemTooltip=function(Dr,Mr,$r){var Br=getECData(Mr),zr=Br.tooltipConfig,Vr=zr.option||{};if(isString(Vr)){var jr=Vr;Vr={content:jr,formatter:jr}}var Gr=[Vr],Wr=this._ecModel.getComponent(Br.componentMainType,Br.componentIndex);Wr&&Gr.push(Wr),Gr.push({formatter:Vr.content});var Kr=Dr.positionDefault,Zr=buildTooltipModel(Gr,this._tooltipModel,Kr?{position:Kr}:null),Jr=Zr.get("content"),rn=Math.random()+"",nn=new TooltipMarkupStyleCreator;this._showOrMove(Zr,function(){var ln=clone$4(Zr.get("formatterParams")||{});this._showTooltipContent(Zr,Jr,ln,rn,Dr.offsetX,Dr.offsetY,Dr.position,Mr,nn)}),$r({type:"showTip",from:this.uid})},Be.prototype._showTooltipContent=function(Dr,Mr,$r,Br,zr,Vr,jr,Gr,Wr){if(this._ticket="",!(!Dr.get("showContent")||!Dr.get("show"))){var Kr=this._tooltipContent;Kr.setEnterable(Dr.get("enterable"));var Zr=Dr.get("formatter");jr=jr||Dr.get("position");var Jr=Mr,rn=this._getNearestPoint([zr,Vr],$r,Dr.get("trigger"),Dr.get("borderColor")),nn=rn.color;if(Zr)if(isString(Zr)){var ln=Dr.ecModel.get("useUTC"),cn=isArray$1($r)?$r[0]:$r,hn=cn&&cn.axisType&&cn.axisType.indexOf("time")>=0;Jr=Zr,hn&&(Jr=format$1(cn.axisValue,Jr,ln)),Jr=formatTpl(Jr,$r,!0)}else if(isFunction(Zr)){var mn=bind$1(function(bn,An){bn===this._ticket&&(Kr.setContent(An,Wr,Dr,nn,jr),this._updatePosition(Dr,jr,zr,Vr,Kr,$r,Gr))},this);this._ticket=Br,Jr=Zr($r,Br,mn)}else Jr=Zr;Kr.setContent(Jr,Wr,Dr,nn,jr),Kr.show(Dr,nn),this._updatePosition(Dr,jr,zr,Vr,Kr,$r,Gr)}},Be.prototype._getNearestPoint=function(Dr,Mr,$r,Br){if($r==="axis"||isArray$1(Mr))return{color:Br||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(Mr))return{color:Br||Mr.color||Mr.borderColor}},Be.prototype._updatePosition=function(Dr,Mr,$r,Br,zr,Vr,jr){var Gr=this._api.getWidth(),Wr=this._api.getHeight();Mr=Mr||Dr.get("position");var Kr=zr.getSize(),Zr=Dr.get("align"),Jr=Dr.get("verticalAlign"),rn=jr&&jr.getBoundingRect().clone();if(jr&&rn.applyTransform(jr.transform),isFunction(Mr)&&(Mr=Mr([$r,Br],Vr,zr.el,rn,{viewSize:[Gr,Wr],contentSize:Kr.slice()})),isArray$1(Mr))$r=parsePercent(Mr[0],Gr),Br=parsePercent(Mr[1],Wr);else if(isObject$3(Mr)){var nn=Mr;nn.width=Kr[0],nn.height=Kr[1];var ln=getLayoutRect(nn,{width:Gr,height:Wr});$r=ln.x,Br=ln.y,Zr=null,Jr=null}else if(isString(Mr)&&jr){var cn=calcTooltipPosition(Mr,rn,Kr,Dr.get("borderWidth"));$r=cn[0],Br=cn[1]}else{var cn=refixTooltipPosition($r,Br,zr,Gr,Wr,Zr?null:20,Jr?null:20);$r=cn[0],Br=cn[1]}if(Zr&&($r-=isCenterAlign(Zr)?Kr[0]/2:Zr==="right"?Kr[0]:0),Jr&&(Br-=isCenterAlign(Jr)?Kr[1]/2:Jr==="bottom"?Kr[1]:0),shouldTooltipConfine(Dr)){var cn=confineTooltipPosition($r,Br,zr,Gr,Wr);$r=cn[0],Br=cn[1]}zr.moveTo($r,Br)},Be.prototype._updateContentNotChangedOnAxis=function(Dr,Mr){var $r=this._lastDataByCoordSys,Br=this._cbParamsList,zr=!!$r&&$r.length===Dr.length;return zr&&each$f($r,function(Vr,jr){var Gr=Vr.dataByAxis||[],Wr=Dr[jr]||{},Kr=Wr.dataByAxis||[];zr=zr&&Gr.length===Kr.length,zr&&each$f(Gr,function(Zr,Jr){var rn=Kr[Jr]||{},nn=Zr.seriesDataIndices||[],ln=rn.seriesDataIndices||[];zr=zr&&Zr.value===rn.value&&Zr.axisType===rn.axisType&&Zr.axisId===rn.axisId&&nn.length===ln.length,zr&&each$f(nn,function(cn,hn){var mn=ln[hn];zr=zr&&cn.seriesIndex===mn.seriesIndex&&cn.dataIndex===mn.dataIndex}),Br&&each$f(Zr.seriesDataIndices,function(cn){var hn=cn.seriesIndex,mn=Mr[hn],bn=Br[hn];mn&&bn&&bn.data!==mn.data&&(zr=!1)})})}),this._lastDataByCoordSys=Dr,this._cbParamsList=Mr,!!zr},Be.prototype._hide=function(Dr){this._lastDataByCoordSys=null,Dr({type:"hideTip",from:this.uid})},Be.prototype.dispose=function(Dr,Mr){env$1.node||!Mr.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",Mr))},Be.type="tooltip",Be}(ComponentView$1);function buildTooltipModel(_r,Be,Dr){var Mr=Be.ecModel,$r;Dr?($r=new Model$1(Dr,Mr,Mr),$r=new Model$1(Be.option,$r,Mr)):$r=Be;for(var Br=_r.length-1;Br>=0;Br--){var zr=_r[Br];zr&&(zr instanceof Model$1&&(zr=zr.get("tooltip",!0)),isString(zr)&&(zr={formatter:zr}),zr&&($r=new Model$1(zr,$r,Mr)))}return $r}function makeDispatchAction(_r,Be){return _r.dispatchAction||bind$1(Be.dispatchAction,Be)}function refixTooltipPosition(_r,Be,Dr,Mr,$r,Br,zr){var Vr=Dr.getSize(),jr=Vr[0],Gr=Vr[1];return Br!=null&&(_r+jr+Br+2>Mr?_r-=jr+Br:_r+=Br),zr!=null&&(Be+Gr+zr>$r?Be-=Gr+zr:Be+=zr),[_r,Be]}function confineTooltipPosition(_r,Be,Dr,Mr,$r){var Br=Dr.getSize(),zr=Br[0],Vr=Br[1];return _r=Math.min(_r+zr,Mr)-zr,Be=Math.min(Be+Vr,$r)-Vr,_r=Math.max(_r,0),Be=Math.max(Be,0),[_r,Be]}function calcTooltipPosition(_r,Be,Dr,Mr){var $r=Dr[0],Br=Dr[1],zr=Math.ceil(Math.SQRT2*Mr)+8,Vr=0,jr=0,Gr=Be.width,Wr=Be.height;switch(_r){case"inside":Vr=Be.x+Gr/2-$r/2,jr=Be.y+Wr/2-Br/2;break;case"top":Vr=Be.x+Gr/2-$r/2,jr=Be.y-Br-zr;break;case"bottom":Vr=Be.x+Gr/2-$r/2,jr=Be.y+Wr+zr;break;case"left":Vr=Be.x-$r-zr,jr=Be.y+Wr/2-Br/2;break;case"right":Vr=Be.x+Gr+zr,jr=Be.y+Wr/2-Br/2}return[Vr,jr]}function isCenterAlign(_r){return _r==="center"||_r==="middle"}function findComponentReference(_r,Be,Dr){var Mr=preParseFinder(_r).queryOptionMap,$r=Mr.keys()[0];if(!(!$r||$r==="series")){var Br=queryReferringComponents(Be,$r,Mr.get($r),{useDefault:!1,enableAll:!1,enableNone:!1}),zr=Br.models[0];if(zr){var Vr=Dr.getViewOfComponentModel(zr),jr;if(Vr.group.traverse(function(Gr){var Wr=getECData(Gr).tooltipConfig;if(Wr&&Wr.name===_r.name)return jr=Gr,!0}),jr)return{componentMainType:$r,componentIndex:zr.componentIndex,el:jr}}}}const TooltipView$1=TooltipView;function install$i(_r){use(install$q),_r.registerComponentModel(TooltipModel$1),_r.registerComponentView(TooltipView$1),_r.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),_r.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(_r,Be){var Dr=normalizeToArray(_r?_r.brush:[]);if(Dr.length){var Mr=[];each$f(Dr,function(jr){var Gr=jr.hasOwnProperty("toolbox")?jr.toolbox:[];Gr instanceof Array&&(Mr=Mr.concat(Gr))});var $r=_r&&_r.toolbox;isArray$1($r)&&($r=$r[0]),$r||($r={feature:{}},_r.toolbox=[$r]);var Br=$r.feature||($r.feature={}),zr=Br.brush||(Br.brush={}),Vr=zr.type||(zr.type=[]);Vr.push.apply(Vr,Mr),removeDuplicate(Vr),Be&&!Vr.length&&Vr.push.apply(Vr,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(_r){var Be={};each$f(_r,function(Dr){Be[Dr]=1}),_r.length=0,each$f(Be,function(Dr,Mr){_r.push(Mr)})}var each$4=each$f;function hasKeys(_r){if(_r){for(var Be in _r)if(_r.hasOwnProperty(Be))return!0}}function createVisualMappings(_r,Be,Dr){var Mr={};return each$4(Be,function(Br){var zr=Mr[Br]=$r();each$4(_r[Br],function(Vr,jr){if(VisualMapping$1.isValidType(jr)){var Gr={type:jr,visual:Vr};Dr&&Dr(Gr,Br),zr[jr]=new VisualMapping$1(Gr),jr==="opacity"&&(Gr=clone$4(Gr),Gr.type="colorAlpha",zr.__hidden.__alphaForOpacity=new VisualMapping$1(Gr))}})}),Mr;function $r(){var Br=function(){};Br.prototype.__hidden=Br.prototype;var zr=new Br;return zr}}function replaceVisualOption(_r,Be,Dr){var Mr;each$f(Dr,function($r){Be.hasOwnProperty($r)&&hasKeys(Be[$r])&&(Mr=!0)}),Mr&&each$f(Dr,function($r){Be.hasOwnProperty($r)&&hasKeys(Be[$r])?_r[$r]=clone$4(Be[$r]):delete _r[$r]})}function applyVisual(_r,Be,Dr,Mr,$r,Br){var zr={};each$f(_r,function(Kr){var Zr=VisualMapping$1.prepareVisualTypes(Be[Kr]);zr[Kr]=Zr});var Vr;function jr(Kr){return getItemVisualFromData(Dr,Vr,Kr)}function Gr(Kr,Zr){setItemVisualFromData(Dr,Vr,Kr,Zr)}Br==null?Dr.each(Wr):Dr.each([Br],Wr);function Wr(Kr,Zr){Vr=Br==null?Kr:Zr;var Jr=Dr.getRawDataItem(Vr);if(!(Jr&&Jr.visualMap===!1))for(var rn=Mr.call($r,Kr),nn=Be[rn],ln=zr[rn],cn=0,hn=ln.length;cn<hn;cn++){var mn=ln[cn];nn[mn]&&nn[mn].applyVisual(Kr,jr,Gr)}}}function incrementalApplyVisual(_r,Be,Dr,Mr){var $r={};return each$f(_r,function(Br){var zr=VisualMapping$1.prepareVisualTypes(Be[Br]);$r[Br]=zr}),{progress:function(zr,Vr){var jr;Mr!=null&&(jr=Vr.getDimensionIndex(Mr));function Gr(An){return getItemVisualFromData(Vr,Kr,An)}function Wr(An,vn){setItemVisualFromData(Vr,Kr,An,vn)}for(var Kr,Zr=Vr.getStore();(Kr=zr.next())!=null;){var Jr=Vr.getRawDataItem(Kr);if(!(Jr&&Jr.visualMap===!1))for(var rn=Mr!=null?Zr.get(jr,Kr):Kr,nn=Dr(rn),ln=Be[nn],cn=$r[nn],hn=0,mn=cn.length;hn<mn;hn++){var bn=cn[hn];ln[bn]&&ln[bn].applyVisual(rn,Gr,Wr)}}}}}function makeBrushCommonSelectorForSeries(_r){var Be=_r.brushType,Dr={point:function(Mr){return selector[Be].point(Mr,Dr,_r)},rect:function(Mr){return selector[Be].rect(Mr,Dr,_r)}};return Dr}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(_r,Be,Dr){return _r&&Dr.boundingRect.contain(_r[0],_r[1])},rect:function(_r,Be,Dr){return _r&&Dr.boundingRect.intersect(_r)}},polygon:{point:function(_r,Be,Dr){return _r&&Dr.boundingRect.contain(_r[0],_r[1])&&contain(Dr.range,_r[0],_r[1])},rect:function(_r,Be,Dr){var Mr=Dr.range;if(!_r||Mr.length<=1)return!1;var $r=_r.x,Br=_r.y,zr=_r.width,Vr=_r.height,jr=Mr[0];if(contain(Mr,$r,Br)||contain(Mr,$r+zr,Br)||contain(Mr,$r,Br+Vr)||contain(Mr,$r+zr,Br+Vr)||BoundingRect$1.create(_r).contain(jr[0],jr[1])||linePolygonIntersect($r,Br,$r+zr,Br,Mr)||linePolygonIntersect($r,Br,$r,Br+Vr,Mr)||linePolygonIntersect($r+zr,Br,$r+zr,Br+Vr,Mr)||linePolygonIntersect($r,Br+Vr,$r+zr,Br+Vr,Mr))return!0}}};function getLineSelectors(_r){var Be=["x","y"],Dr=["width","height"];return{point:function(Mr,$r,Br){if(Mr){var zr=Br.range,Vr=Mr[_r];return inLineRange(Vr,zr)}},rect:function(Mr,$r,Br){if(Mr){var zr=Br.range,Vr=[Mr[Be[_r]],Mr[Be[_r]]+Mr[Dr[_r]]];return Vr[1]<Vr[0]&&Vr.reverse(),inLineRange(Vr[0],zr)||inLineRange(Vr[1],zr)||inLineRange(zr[0],Vr)||inLineRange(zr[1],Vr)}}}}function inLineRange(_r,Be){return Be[0]<=_r&&_r<=Be[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(_r){_r.eachComponent({mainType:"brush"},function(Be){var Dr=Be.brushTargetManager=new BrushTargetManager$1(Be.option,_r);Dr.setInputRanges(Be.areas,_r)})}function brushVisual(_r,Be,Dr){var Mr=[],$r,Br;_r.eachComponent({mainType:"brush"},function(zr){Dr&&Dr.type==="takeGlobalCursor"&&zr.setBrushOption(Dr.key==="brush"?Dr.brushOption:{brushType:!1})}),layoutCovers(_r),_r.eachComponent({mainType:"brush"},function(zr,Vr){var jr={brushId:zr.id,brushIndex:Vr,brushName:zr.name,areas:clone$4(zr.areas),selected:[]};Mr.push(jr);var Gr=zr.option,Wr=Gr.brushLink,Kr=[],Zr=[],Jr=[],rn=!1;Vr||($r=Gr.throttleType,Br=Gr.throttleDelay);var nn=map$1(zr.areas,function(An){var vn=boundingRectBuilders[An.brushType],dn=defaults({boundingRect:vn?vn(An):void 0},An);return dn.selectors=makeBrushCommonSelectorForSeries(dn),dn}),ln=createVisualMappings(zr.option,STATE_LIST,function(An){An.mappingMethod="fixed"});isArray$1(Wr)&&each$f(Wr,function(An){Kr[An]=1});function cn(An){return Wr==="all"||!!Kr[An]}function hn(An){return!!An.length}_r.eachSeries(function(An,vn){var dn=Jr[vn]=[];An.subType==="parallel"?mn(An,vn):bn(An,vn,dn)});function mn(An,vn){var dn=An.coordinateSystem;rn=rn||dn.hasAxisBrushed(),cn(vn)&&dn.eachActiveState(An.getData(),function(wn,xn){wn==="active"&&(Zr[xn]=1)})}function bn(An,vn,dn){if(!(!An.brushSelector||brushModelNotControll(zr,vn))&&(each$f(nn,function(xn){zr.brushTargetManager.controlSeries(xn,An,_r)&&dn.push(xn),rn=rn||hn(dn)}),cn(vn)&&hn(dn))){var wn=An.getData();wn.each(function(xn){checkInRange(An,dn,wn,xn)&&(Zr[xn]=1)})}}_r.eachSeries(function(An,vn){var dn={seriesId:An.id,seriesIndex:vn,seriesName:An.name,dataIndex:[]};jr.selected.push(dn);var wn=Jr[vn],xn=An.getData(),Mn=cn(vn)?function(In){return Zr[In]?(dn.dataIndex.push(xn.getRawIndex(In)),"inBrush"):"outOfBrush"}:function(In){return checkInRange(An,wn,xn,In)?(dn.dataIndex.push(xn.getRawIndex(In)),"inBrush"):"outOfBrush"};(cn(vn)?rn:hn(wn))&&applyVisual(STATE_LIST,ln,xn,Mn)})}),dispatchAction$1(Be,$r,Br,Mr,Dr)}function dispatchAction$1(_r,Be,Dr,Mr,$r){if($r){var Br=_r.getZr();if(!Br[DISPATCH_FLAG]){Br[DISPATCH_METHOD]||(Br[DISPATCH_METHOD]=doDispatch);var zr=createOrUpdate(Br,DISPATCH_METHOD,Dr,Be);zr(_r,Mr)}}}function doDispatch(_r,Be){if(!_r.isDisposed()){var Dr=_r.getZr();Dr[DISPATCH_FLAG]=!0,_r.dispatchAction({type:"brushSelect",batch:Be}),Dr[DISPATCH_FLAG]=!1}}function checkInRange(_r,Be,Dr,Mr){for(var $r=0,Br=Be.length;$r<Br;$r++){var zr=Be[$r];if(_r.brushSelector(Mr,Dr,zr.selectors,zr))return!0}}function brushModelNotControll(_r,Be){var Dr=_r.option.seriesIndex;return Dr!=null&&Dr!=="all"&&(isArray$1(Dr)?indexOf(Dr,Be)<0:Be!==Dr)}var boundingRectBuilders={rect:function(_r){return getBoundingRectFromMinMax(_r.range)},polygon:function(_r){for(var Be,Dr=_r.range,Mr=0,$r=Dr.length;Mr<$r;Mr++){Be=Be||[[1/0,-1/0],[1/0,-1/0]];var Br=Dr[Mr];Br[0]<Be[0][0]&&(Be[0][0]=Br[0]),Br[0]>Be[0][1]&&(Be[0][1]=Br[0]),Br[1]<Be[1][0]&&(Be[1][0]=Br[1]),Br[1]>Be[1][1]&&(Be[1][1]=Br[1])}return Be&&getBoundingRectFromMinMax(Be)}};function getBoundingRectFromMinMax(_r){return new BoundingRect$1(_r[0][0],_r[1][0],_r[0][1]-_r[0][0],_r[1][1]-_r[1][0])}var BrushView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(Dr,Mr){this.ecModel=Dr,this.api=Mr,this.model,(this._brushController=new BrushController$1(Mr.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},Be.prototype.render=function(Dr,Mr,$r,Br){this.model=Dr,this._updateController(Dr,Mr,$r,Br)},Be.prototype.updateTransform=function(Dr,Mr,$r,Br){layoutCovers(Mr),this._updateController(Dr,Mr,$r,Br)},Be.prototype.updateVisual=function(Dr,Mr,$r,Br){this.updateTransform(Dr,Mr,$r,Br)},Be.prototype.updateView=function(Dr,Mr,$r,Br){this._updateController(Dr,Mr,$r,Br)},Be.prototype._updateController=function(Dr,Mr,$r,Br){(!Br||Br.$from!==Dr.id)&&this._brushController.setPanels(Dr.brushTargetManager.makePanelOpts($r)).enableBrush(Dr.brushOption).updateCovers(Dr.areas.slice())},Be.prototype.dispose=function(){this._brushController.dispose()},Be.prototype._onBrush=function(Dr){var Mr=this.model.id,$r=this.model.brushTargetManager.setOutputRanges(Dr.areas,this.ecModel);(!Dr.isEnd||Dr.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:Mr,areas:clone$4($r),$from:Mr}),Dr.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:Mr,areas:clone$4($r),$from:Mr})},Be.type="brush",Be}(ComponentView$1);const BrushView$1=BrushView;var DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.areas=[],Dr.brushOption={},Dr}return Be.prototype.optionUpdated=function(Dr,Mr){var $r=this.option;!Mr&&replaceVisualOption($r,Dr,["inBrush","outOfBrush"]);var Br=$r.inBrush=$r.inBrush||{};$r.outOfBrush=$r.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},Br.hasOwnProperty("liftZ")||(Br.liftZ=5)},Be.prototype.setAreas=function(Dr){Dr&&(this.areas=map$1(Dr,function(Mr){return generateBrushOption(this.option,Mr)},this))},Be.prototype.setBrushOption=function(Dr){this.brushOption=generateBrushOption(this.option,Dr),this.brushType=this.brushOption.brushType},Be.type="brush",Be.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],Be.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},Be}(ComponentModel$1);function generateBrushOption(_r,Be){return merge({brushType:_r.brushType,brushMode:_r.brushMode,transformable:_r.transformable,brushStyle:new Model$1(_r.brushStyle).getItemStyle(),removeOnClick:_r.removeOnClick,z:_r.z},Be,!0)}const BrushModel$1=BrushModel;var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(_r){__extends(Be,_r);function Be(){return _r!==null&&_r.apply(this,arguments)||this}return Be.prototype.render=function(Dr,Mr,$r){var Br,zr,Vr;Mr.eachComponent({mainType:"brush"},function(jr){Br=jr.brushType,zr=jr.brushOption.brushMode||"single",Vr=Vr||!!jr.areas.length}),this._brushType=Br,this._brushMode=zr,each$f(Dr.get("type",!0),function(jr){Dr.setIconStatus(jr,(jr==="keep"?zr==="multiple":jr==="clear"?Vr:jr===Br)?"emphasis":"normal")})},Be.prototype.updateView=function(Dr,Mr,$r){this.render(Dr,Mr,$r)},Be.prototype.getIcons=function(){var Dr=this.model,Mr=Dr.get("icon",!0),$r={};return each$f(Dr.get("type",!0),function(Br){Mr[Br]&&($r[Br]=Mr[Br])}),$r},Be.prototype.onclick=function(Dr,Mr,$r){var Br=this._brushType,zr=this._brushMode;$r==="clear"?(Mr.dispatchAction({type:"axisAreaSelect",intervals:[]}),Mr.dispatchAction({type:"brush",command:"clear",areas:[]})):Mr.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:$r==="keep"?Br:Br===$r?!1:$r,brushMode:$r==="keep"?zr==="multiple"?"single":"multiple":zr}})},Be.getDefaultOption=function(Dr){var Mr={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:Dr.getLocaleModel().get(["toolbox","brush","title"])};return Mr},Be}(ToolboxFeature);const BrushFeature$1=BrushFeature;function install$h(_r){_r.registerComponentView(BrushView$1),_r.registerComponentModel(BrushModel$1),_r.registerPreprocessor(brushPreprocessor),_r.registerVisual(_r.PRIORITY.VISUAL.BRUSH,brushVisual),_r.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(Be,Dr){Dr.eachComponent({mainType:"brush",query:Be},function(Mr){Mr.setAreas(Be.areas)})}),_r.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),_r.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature$1)}var TitleModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.layoutMode={type:"box",ignoreSize:!0},Dr}return Be.type="title",Be.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},Be}(ComponentModel$1),TitleView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.render=function(Dr,Mr,$r){if(this.group.removeAll(),!!Dr.get("show")){var Br=this.group,zr=Dr.getModel("textStyle"),Vr=Dr.getModel("subtextStyle"),jr=Dr.get("textAlign"),Gr=retrieve2(Dr.get("textBaseline"),Dr.get("textVerticalAlign")),Wr=new ZRText$1({style:createTextStyle$1(zr,{text:Dr.get("text"),fill:zr.getTextColor()},{disableBox:!0}),z2:10}),Kr=Wr.getBoundingRect(),Zr=Dr.get("subtext"),Jr=new ZRText$1({style:createTextStyle$1(Vr,{text:Zr,fill:Vr.getTextColor(),y:Kr.height+Dr.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),rn=Dr.get("link"),nn=Dr.get("sublink"),ln=Dr.get("triggerEvent",!0);Wr.silent=!rn&&!ln,Jr.silent=!nn&&!ln,rn&&Wr.on("click",function(){windowOpen(rn,"_"+Dr.get("target"))}),nn&&Jr.on("click",function(){windowOpen(nn,"_"+Dr.get("subtarget"))}),getECData(Wr).eventData=getECData(Jr).eventData=ln?{componentType:"title",componentIndex:Dr.componentIndex}:null,Br.add(Wr),Zr&&Br.add(Jr);var cn=Br.getBoundingRect(),hn=Dr.getBoxLayoutParams();hn.width=cn.width,hn.height=cn.height;var mn=getLayoutRect(hn,{width:$r.getWidth(),height:$r.getHeight()},Dr.get("padding"));jr||(jr=Dr.get("left")||Dr.get("right"),jr==="middle"&&(jr="center"),jr==="right"?mn.x+=mn.width:jr==="center"&&(mn.x+=mn.width/2)),Gr||(Gr=Dr.get("top")||Dr.get("bottom"),Gr==="center"&&(Gr="middle"),Gr==="bottom"?mn.y+=mn.height:Gr==="middle"&&(mn.y+=mn.height/2),Gr=Gr||"top"),Br.x=mn.x,Br.y=mn.y,Br.markRedraw();var bn={align:jr,verticalAlign:Gr};Wr.setStyle(bn),Jr.setStyle(bn),cn=Br.getBoundingRect();var An=mn.margin,vn=Dr.getItemStyle(["color","opacity"]);vn.fill=Dr.get("backgroundColor");var dn=new Rect$3({shape:{x:cn.x-An[3],y:cn.y-An[0],width:cn.width+An[1]+An[3],height:cn.height+An[0]+An[2],r:Dr.get("borderRadius")},style:vn,subPixelOptimize:!0,silent:!0});Br.add(dn)}},Be.type="title",Be}(ComponentView$1);function install$g(_r){_r.registerComponentModel(TitleModel),_r.registerComponentView(TitleView)}var TimelineModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.layoutMode="box",Dr}return Be.prototype.init=function(Dr,Mr,$r){this.mergeDefaultAndTheme(Dr,$r),this._initData()},Be.prototype.mergeOption=function(Dr){_r.prototype.mergeOption.apply(this,arguments),this._initData()},Be.prototype.setCurrentIndex=function(Dr){Dr==null&&(Dr=this.option.currentIndex);var Mr=this._data.count();this.option.loop?Dr=(Dr%Mr+Mr)%Mr:(Dr>=Mr&&(Dr=Mr-1),Dr<0&&(Dr=0)),this.option.currentIndex=Dr},Be.prototype.getCurrentIndex=function(){return this.option.currentIndex},Be.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},Be.prototype.setPlayState=function(Dr){this.option.autoPlay=!!Dr},Be.prototype.getPlayState=function(){return!!this.option.autoPlay},Be.prototype._initData=function(){var Dr=this.option,Mr=Dr.data||[],$r=Dr.axisType,Br=this._names=[],zr;$r==="category"?(zr=[],each$f(Mr,function(Gr,Wr){var Kr=convertOptionIdName(getDataItemValue(Gr),""),Zr;isObject$3(Gr)?(Zr=clone$4(Gr),Zr.value=Wr):Zr=Wr,zr.push(Zr),Br.push(Kr)})):zr=Mr;var Vr={category:"ordinal",time:"time",value:"number"}[$r]||"number",jr=this._data=new SeriesData$1([{name:"value",type:Vr}],this);jr.initData(zr,Br)},Be.prototype.getData=function(){return this._data},Be.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},Be.type="timeline",Be.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},Be}(ComponentModel$1);const TimelineModel$1=TimelineModel;var SliderTimelineModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="timeline.slider",Be.defaultOption=inheritDefaultOption(TimelineModel$1.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),Be}(TimelineModel$1);mixin(SliderTimelineModel,DataFormatMixin.prototype);const SliderTimelineModel$1=SliderTimelineModel;var TimelineView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="timeline",Be}(ComponentView$1);const TimelineView$1=TimelineView;var TimelineAxis=function(_r){__extends(Be,_r);function Be(Dr,Mr,$r,Br){var zr=_r.call(this,Dr,Mr,$r)||this;return zr.type=Br||"value",zr}return Be.prototype.getLabelModel=function(){return this.model.getModel("label")},Be.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},Be}(Axis$1);const TimelineAxis$1=TimelineAxis;var PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(Dr,Mr){this.api=Mr},Be.prototype.render=function(Dr,Mr,$r){if(this.model=Dr,this.api=$r,this.ecModel=Mr,this.group.removeAll(),Dr.get("show",!0)){var Br=this._layout(Dr,$r),zr=this._createGroup("_mainGroup"),Vr=this._createGroup("_labelGroup"),jr=this._axis=this._createAxis(Br,Dr);Dr.formatTooltip=function(Gr){var Wr=jr.scale.getLabel({value:Gr});return createTooltipMarkup("nameValue",{noName:!0,value:Wr})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(Gr){this["_render"+Gr](Br,zr,jr,Dr)},this),this._renderAxisLabel(Br,Vr,jr,Dr),this._position(Br,Dr)}this._doPlayStop(),this._updateTicksStatus()},Be.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},Be.prototype.dispose=function(){this._clearTimer()},Be.prototype._layout=function(Dr,Mr){var $r=Dr.get(["label","position"]),Br=Dr.get("orient"),zr=getViewRect(Dr,Mr),Vr;$r==null||$r==="auto"?Vr=Br==="horizontal"?zr.y+zr.height/2<Mr.getHeight()/2?"-":"+":zr.x+zr.width/2<Mr.getWidth()/2?"+":"-":isString($r)?Vr={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[Br][$r]:Vr=$r;var jr={horizontal:"center",vertical:Vr>=0||Vr==="+"?"left":"right"},Gr={horizontal:Vr>=0||Vr==="+"?"top":"bottom",vertical:"middle"},Wr={horizontal:0,vertical:PI/2},Kr=Br==="vertical"?zr.height:zr.width,Zr=Dr.getModel("controlStyle"),Jr=Zr.get("show",!0),rn=Jr?Zr.get("itemSize"):0,nn=Jr?Zr.get("itemGap"):0,ln=rn+nn,cn=Dr.get(["label","rotate"])||0;cn=cn*PI/180;var hn,mn,bn,An=Zr.get("position",!0),vn=Jr&&Zr.get("showPlayBtn",!0),dn=Jr&&Zr.get("showPrevBtn",!0),wn=Jr&&Zr.get("showNextBtn",!0),xn=0,Mn=Kr;An==="left"||An==="bottom"?(vn&&(hn=[0,0],xn+=ln),dn&&(mn=[xn,0],xn+=ln),wn&&(bn=[Mn-rn,0],Mn-=ln)):(vn&&(hn=[Mn-rn,0],Mn-=ln),dn&&(mn=[0,0],xn+=ln),wn&&(bn=[Mn-rn,0],Mn-=ln));var In=[xn,Mn];return Dr.get("inverse")&&In.reverse(),{viewRect:zr,mainLength:Kr,orient:Br,rotation:Wr[Br],labelRotation:cn,labelPosOpt:Vr,labelAlign:Dr.get(["label","align"])||jr[Br],labelBaseline:Dr.get(["label","verticalAlign"])||Dr.get(["label","baseline"])||Gr[Br],playPosition:hn,prevBtnPosition:mn,nextBtnPosition:bn,axisExtent:In,controlSize:rn,controlGap:nn}},Be.prototype._position=function(Dr,Mr){var $r=this._mainGroup,Br=this._labelGroup,zr=Dr.viewRect;if(Dr.orient==="vertical"){var Vr=create$1(),jr=zr.x,Gr=zr.y+zr.height;translate(Vr,Vr,[-jr,-Gr]),rotate(Vr,Vr,-PI/2),translate(Vr,Vr,[jr,Gr]),zr=zr.clone(),zr.applyTransform(Vr)}var Wr=hn(zr),Kr=hn($r.getBoundingRect()),Zr=hn(Br.getBoundingRect()),Jr=[$r.x,$r.y],rn=[Br.x,Br.y];rn[0]=Jr[0]=Wr[0][0];var nn=Dr.labelPosOpt;if(nn==null||isString(nn)){var ln=nn==="+"?0:1;mn(Jr,Kr,Wr,1,ln),mn(rn,Zr,Wr,1,1-ln)}else{var ln=nn>=0?0:1;mn(Jr,Kr,Wr,1,ln),rn[1]=Jr[1]+nn}$r.setPosition(Jr),Br.setPosition(rn),$r.rotation=Br.rotation=Dr.rotation,cn($r),cn(Br);function cn(bn){bn.originX=Wr[0][0]-bn.x,bn.originY=Wr[1][0]-bn.y}function hn(bn){return[[bn.x,bn.x+bn.width],[bn.y,bn.y+bn.height]]}function mn(bn,An,vn,dn,wn){bn[dn]+=vn[dn][wn]-An[dn][wn]}},Be.prototype._createAxis=function(Dr,Mr){var $r=Mr.getData(),Br=Mr.get("axisType"),zr=createScaleByModel(Mr,Br);zr.getTicks=function(){return $r.mapArray(["value"],function(Gr){return{value:Gr}})};var Vr=$r.getDataExtent("value");zr.setExtent(Vr[0],Vr[1]),zr.calcNiceTicks();var jr=new TimelineAxis$1("value",zr,Dr.axisExtent,Br);return jr.model=Mr,jr},Be.prototype._createGroup=function(Dr){var Mr=this[Dr]=new Group$4;return this.group.add(Mr),Mr},Be.prototype._renderAxisLine=function(Dr,Mr,$r,Br){var zr=$r.getExtent();if(Br.get(["lineStyle","show"])){var Vr=new Line$3({shape:{x1:zr[0],y1:0,x2:zr[1],y2:0},style:extend$1({lineCap:"round"},Br.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});Mr.add(Vr);var jr=this._progressLine=new Line$3({shape:{x1:zr[0],x2:this._currentPointer?this._currentPointer.x:zr[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:Vr.style.lineWidth},Br.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});Mr.add(jr)}},Be.prototype._renderAxisTick=function(Dr,Mr,$r,Br){var zr=this,Vr=Br.getData(),jr=$r.scale.getTicks();this._tickSymbols=[],each$f(jr,function(Gr){var Wr=$r.dataToCoord(Gr.value),Kr=Vr.getItemModel(Gr.value),Zr=Kr.getModel("itemStyle"),Jr=Kr.getModel(["emphasis","itemStyle"]),rn=Kr.getModel(["progress","itemStyle"]),nn={x:Wr,y:0,onclick:bind$1(zr._changeTimeline,zr,Gr.value)},ln=giveSymbol(Kr,Zr,Mr,nn);ln.ensureState("emphasis").style=Jr.getItemStyle(),ln.ensureState("progress").style=rn.getItemStyle(),enableHoverEmphasis(ln);var cn=getECData(ln);Kr.get("tooltip")?(cn.dataIndex=Gr.value,cn.dataModel=Br):cn.dataIndex=cn.dataModel=null,zr._tickSymbols.push(ln)})},Be.prototype._renderAxisLabel=function(Dr,Mr,$r,Br){var zr=this,Vr=$r.getLabelModel();if(Vr.get("show")){var jr=Br.getData(),Gr=$r.getViewLabels();this._tickLabels=[],each$f(Gr,function(Wr){var Kr=Wr.tickValue,Zr=jr.getItemModel(Kr),Jr=Zr.getModel("label"),rn=Zr.getModel(["emphasis","label"]),nn=Zr.getModel(["progress","label"]),ln=$r.dataToCoord(Wr.tickValue),cn=new ZRText$1({x:ln,y:0,rotation:Dr.labelRotation-Dr.rotation,onclick:bind$1(zr._changeTimeline,zr,Kr),silent:!1,style:createTextStyle$1(Jr,{text:Wr.formattedLabel,align:Dr.labelAlign,verticalAlign:Dr.labelBaseline})});cn.ensureState("emphasis").style=createTextStyle$1(rn),cn.ensureState("progress").style=createTextStyle$1(nn),Mr.add(cn),enableHoverEmphasis(cn),labelDataIndexStore(cn).dataIndex=Kr,zr._tickLabels.push(cn)})}},Be.prototype._renderControl=function(Dr,Mr,$r,Br){var zr=Dr.controlSize,Vr=Dr.rotation,jr=Br.getModel("controlStyle").getItemStyle(),Gr=Br.getModel(["emphasis","controlStyle"]).getItemStyle(),Wr=Br.getPlayState(),Kr=Br.get("inverse",!0);Zr(Dr.nextBtnPosition,"next",bind$1(this._changeTimeline,this,Kr?"-":"+")),Zr(Dr.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,Kr?"+":"-")),Zr(Dr.playPosition,Wr?"stop":"play",bind$1(this._handlePlayClick,this,!Wr),!0);function Zr(Jr,rn,nn,ln){if(Jr){var cn=parsePercent$1(retrieve2(Br.get(["controlStyle",rn+"BtnSize"]),zr),zr),hn=[0,-cn/2,cn,cn],mn=makeControlIcon(Br,rn+"Icon",hn,{x:Jr[0],y:Jr[1],originX:zr/2,originY:0,rotation:ln?-Vr:0,rectHover:!0,style:jr,onclick:nn});mn.ensureState("emphasis").style=Gr,Mr.add(mn),enableHoverEmphasis(mn)}}},Be.prototype._renderCurrentPointer=function(Dr,Mr,$r,Br){var zr=Br.getData(),Vr=Br.getCurrentIndex(),jr=zr.getItemModel(Vr).getModel("checkpointStyle"),Gr=this,Wr={onCreate:function(Kr){Kr.draggable=!0,Kr.drift=bind$1(Gr._handlePointerDrag,Gr),Kr.ondragend=bind$1(Gr._handlePointerDragend,Gr),pointerMoveTo(Kr,Gr._progressLine,Vr,$r,Br,!0)},onUpdate:function(Kr){pointerMoveTo(Kr,Gr._progressLine,Vr,$r,Br)}};this._currentPointer=giveSymbol(jr,jr,this._mainGroup,{},this._currentPointer,Wr)},Be.prototype._handlePlayClick=function(Dr){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:Dr,from:this.uid})},Be.prototype._handlePointerDrag=function(Dr,Mr,$r){this._clearTimer(),this._pointerChangeTimeline([$r.offsetX,$r.offsetY])},Be.prototype._handlePointerDragend=function(Dr){this._pointerChangeTimeline([Dr.offsetX,Dr.offsetY],!0)},Be.prototype._pointerChangeTimeline=function(Dr,Mr){var $r=this._toAxisCoord(Dr)[0],Br=this._axis,zr=asc$2(Br.getExtent().slice());$r>zr[1]&&($r=zr[1]),$r<zr[0]&&($r=zr[0]),this._currentPointer.x=$r,this._currentPointer.markRedraw();var Vr=this._progressLine;Vr&&(Vr.shape.x2=$r,Vr.dirty());var jr=this._findNearestTick($r),Gr=this.model;(Mr||jr!==Gr.getCurrentIndex()&&Gr.get("realtime"))&&this._changeTimeline(jr)},Be.prototype._doPlayStop=function(){var Dr=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var Mr=Dr.model;Dr._changeTimeline(Mr.getCurrentIndex()+(Mr.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},Be.prototype._toAxisCoord=function(Dr){var Mr=this._mainGroup.getLocalTransform();return applyTransform(Dr,Mr,!0)},Be.prototype._findNearestTick=function(Dr){var Mr=this.model.getData(),$r=1/0,Br,zr=this._axis;return Mr.each(["value"],function(Vr,jr){var Gr=zr.dataToCoord(Vr),Wr=Math.abs(Gr-Dr);Wr<$r&&($r=Wr,Br=jr)}),Br},Be.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},Be.prototype._changeTimeline=function(Dr){var Mr=this.model.getCurrentIndex();Dr==="+"?Dr=Mr+1:Dr==="-"&&(Dr=Mr-1),this.api.dispatchAction({type:"timelineChange",currentIndex:Dr,from:this.uid})},Be.prototype._updateTicksStatus=function(){var Dr=this.model.getCurrentIndex(),Mr=this._tickSymbols,$r=this._tickLabels;if(Mr)for(var Br=0;Br<Mr.length;Br++)Mr&&Mr[Br]&&Mr[Br].toggleState("progress",Br<Dr);if($r)for(var Br=0;Br<$r.length;Br++)$r&&$r[Br]&&$r[Br].toggleState("progress",labelDataIndexStore($r[Br]).dataIndex<=Dr)},Be.type="timeline.slider",Be}(TimelineView$1);function createScaleByModel(_r,Be){if(Be=Be||_r.get("type"),Be)switch(Be){case"category":return new OrdinalScale$1({ordinalMeta:_r.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:_r.ecModel.getLocaleModel(),useUTC:_r.ecModel.get("useUTC")});default:return new IntervalScale$1}}function getViewRect(_r,Be){return getLayoutRect(_r.getBoxLayoutParams(),{width:Be.getWidth(),height:Be.getHeight()},_r.get("padding"))}function makeControlIcon(_r,Be,Dr,Mr){var $r=Mr.style,Br=createIcon(_r.get(["controlStyle",Be]),Mr||{},new BoundingRect$1(Dr[0],Dr[1],Dr[2],Dr[3]));return $r&&Br.setStyle($r),Br}function giveSymbol(_r,Be,Dr,Mr,$r,Br){var zr=Be.get("color");if($r)$r.setColor(zr),Dr.add($r),Br&&Br.onUpdate($r);else{var Vr=_r.get("symbol");$r=createSymbol$1(Vr,-1,-1,2,2,zr),$r.setStyle("strokeNoScale",!0),Dr.add($r),Br&&Br.onCreate($r)}var jr=Be.getItemStyle(["color"]);$r.setStyle(jr),Mr=merge({rectHover:!0,z2:100},Mr,!0);var Gr=normalizeSymbolSize(_r.get("symbolSize"));Mr.scaleX=Gr[0]/2,Mr.scaleY=Gr[1]/2;var Wr=normalizeSymbolOffset(_r.get("symbolOffset"),Gr);Wr&&(Mr.x=(Mr.x||0)+Wr[0],Mr.y=(Mr.y||0)+Wr[1]);var Kr=_r.get("symbolRotate");return Mr.rotation=(Kr||0)*Math.PI/180||0,$r.attr(Mr),$r.updateTransform(),$r}function pointerMoveTo(_r,Be,Dr,Mr,$r,Br){if(!_r.dragging){var zr=$r.getModel("checkpointStyle"),Vr=Mr.dataToCoord($r.getData().get("value",Dr));if(Br||!zr.get("animation",!0))_r.attr({x:Vr,y:0}),Be&&Be.attr({shape:{x2:Vr}});else{var jr={duration:zr.get("animationDuration",!0),easing:zr.get("animationEasing",!0)};_r.stopAnimation(null,!0),_r.animateTo({x:Vr,y:0},jr),Be&&Be.animateTo({shape:{x2:Vr}},jr)}}}const SliderTimelineView$1=SliderTimelineView;function installTimelineAction(_r){_r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(Be,Dr,Mr){var $r=Dr.getComponent("timeline");return $r&&Be.currentIndex!=null&&($r.setCurrentIndex(Be.currentIndex),!$r.get("loop",!0)&&$r.isIndexMax()&&$r.getPlayState()&&($r.setPlayState(!1),Mr.dispatchAction({type:"timelinePlayChange",playState:!1,from:Be.from}))),Dr.resetOption("timeline",{replaceMerge:$r.get("replaceMerge",!0)}),defaults({currentIndex:$r.option.currentIndex},Be)}),_r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(Be,Dr){var Mr=Dr.getComponent("timeline");Mr&&Be.playState!=null&&Mr.setPlayState(Be.playState)})}function timelinePreprocessor(_r){var Be=_r&&_r.timeline;isArray$1(Be)||(Be=Be?[Be]:[]),each$f(Be,function(Dr){Dr&&compatibleEC2(Dr)})}function compatibleEC2(_r){var Be=_r.type,Dr={number:"value",time:"time"};if(Dr[Be]&&(_r.axisType=Dr[Be],delete _r.type),transferItem(_r),has$1(_r,"controlPosition")){var Mr=_r.controlStyle||(_r.controlStyle={});has$1(Mr,"position")||(Mr.position=_r.controlPosition),Mr.position==="none"&&!has$1(Mr,"show")&&(Mr.show=!1,delete Mr.position),delete _r.controlPosition}each$f(_r.data||[],function($r){isObject$3($r)&&!isArray$1($r)&&(!has$1($r,"value")&&has$1($r,"name")&&($r.value=$r.name),transferItem($r))})}function transferItem(_r){var Be=_r.itemStyle||(_r.itemStyle={}),Dr=Be.emphasis||(Be.emphasis={}),Mr=_r.label||_r.label||{},$r=Mr.normal||(Mr.normal={}),Br={normal:1,emphasis:1};each$f(Mr,function(zr,Vr){!Br[Vr]&&!has$1($r,Vr)&&($r[Vr]=zr)}),Dr.label&&!has$1(Mr,"emphasis")&&(Mr.emphasis=Dr.label,delete Dr.label)}function has$1(_r,Be){return _r.hasOwnProperty(Be)}function install$f(_r){_r.registerComponentModel(SliderTimelineModel$1),_r.registerComponentView(SliderTimelineView$1),_r.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(_r),_r.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(_r,Be){if(!_r)return!1;for(var Dr=isArray$1(_r)?_r:[_r],Mr=0;Mr<Dr.length;Mr++)if(Dr[Mr]&&Dr[Mr][Be])return!0;return!1}function fillLabel(_r){defaultEmphasis(_r,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.createdBySelf=!1,Dr}return Be.prototype.init=function(Dr,Mr,$r){this.mergeDefaultAndTheme(Dr,$r),this._mergeOption(Dr,$r,!1,!0)},Be.prototype.isAnimationEnabled=function(){if(env$1.node)return!1;var Dr=this.__hostSeries;return this.getShallow("animation")&&Dr&&Dr.isAnimationEnabled()},Be.prototype.mergeOption=function(Dr,Mr){this._mergeOption(Dr,Mr,!1,!1)},Be.prototype._mergeOption=function(Dr,Mr,$r,Br){var zr=this.mainType;$r||Mr.eachSeries(function(Vr){var jr=Vr.get(this.mainType,!0),Gr=inner$5(Vr)[zr];if(!jr||!jr.data){inner$5(Vr)[zr]=null;return}Gr?Gr._mergeOption(jr,Mr,!0):(Br&&fillLabel(jr),each$f(jr.data,function(Wr){Wr instanceof Array?(fillLabel(Wr[0]),fillLabel(Wr[1])):fillLabel(Wr)}),Gr=this.createMarkerModelFromSeries(jr,this,Mr),extend$1(Gr,{mainType:this.mainType,seriesIndex:Vr.seriesIndex,name:Vr.name,createdBySelf:!0}),Gr.__hostSeries=Vr),inner$5(Vr)[zr]=Gr},this)},Be.prototype.formatTooltip=function(Dr,Mr,$r){var Br=this.getData(),zr=this.getRawValue(Dr),Vr=Br.getName(Dr);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:Vr,value:zr,noName:!Vr,noValue:zr==null})]})},Be.prototype.getData=function(){return this._data},Be.prototype.setData=function(Dr){this._data=Dr},Be.getMarkerModelFromSeries=function(Dr,Mr){return inner$5(Dr)[Mr]},Be.type="marker",Be.dependencies=["series","grid","polar","geo"],Be}(ComponentModel$1);mixin(MarkerModel,DataFormatMixin.prototype);const MarkerModel$1=MarkerModel;var MarkPointModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.createMarkerModelFromSeries=function(Dr,Mr,$r){return new Be(Dr,Mr,$r)},Be.type="markPoint",Be.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},Be}(MarkerModel$1);const MarkPointModel$1=MarkPointModel;function hasXOrY(_r){return!(isNaN(parseFloat(_r.x))&&isNaN(parseFloat(_r.y)))}function hasXAndY(_r){return!isNaN(parseFloat(_r.x))&&!isNaN(parseFloat(_r.y))}function markerTypeCalculatorWithExtent(_r,Be,Dr,Mr,$r,Br){var zr=[],Vr=isDimensionStacked(Be,Mr),jr=Vr?Be.getCalculationInfo("stackResultDimension"):Mr,Gr=numCalculate(Be,jr,_r),Wr=Be.indicesOfNearest(jr,Gr)[0];zr[$r]=Be.get(Dr,Wr),zr[Br]=Be.get(jr,Wr);var Kr=Be.get(Mr,Wr),Zr=getPrecision(Be.get(Mr,Wr));return Zr=Math.min(Zr,20),Zr>=0&&(zr[Br]=+zr[Br].toFixed(Zr)),[zr,Kr]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(_r,Be){if(Be){var Dr=_r.getData(),Mr=_r.coordinateSystem,$r=Mr&&Mr.dimensions;if(!hasXAndY(Be)&&!isArray$1(Be.coord)&&isArray$1($r)){var Br=getAxisInfo(Be,Dr,Mr,_r);if(Be=clone$4(Be),Be.type&&markerTypeCalculator[Be.type]&&Br.baseAxis&&Br.valueAxis){var zr=indexOf($r,Br.baseAxis.dim),Vr=indexOf($r,Br.valueAxis.dim),jr=markerTypeCalculator[Be.type](Dr,Br.baseDataDim,Br.valueDataDim,zr,Vr);Be.coord=jr[0],Be.value=jr[1]}else Be.coord=[Be.xAxis!=null?Be.xAxis:Be.radiusAxis,Be.yAxis!=null?Be.yAxis:Be.angleAxis]}if(Be.coord==null||!isArray$1($r))Be.coord=[];else for(var Gr=Be.coord,Wr=0;Wr<2;Wr++)markerTypeCalculator[Gr[Wr]]&&(Gr[Wr]=numCalculate(Dr,Dr.mapDimension($r[Wr]),Gr[Wr]));return Be}}function getAxisInfo(_r,Be,Dr,Mr){var $r={};return _r.valueIndex!=null||_r.valueDim!=null?($r.valueDataDim=_r.valueIndex!=null?Be.getDimension(_r.valueIndex):_r.valueDim,$r.valueAxis=Dr.getAxis(dataDimToCoordDim(Mr,$r.valueDataDim)),$r.baseAxis=Dr.getOtherAxis($r.valueAxis),$r.baseDataDim=Be.mapDimension($r.baseAxis.dim)):($r.baseAxis=Mr.getBaseAxis(),$r.valueAxis=Dr.getOtherAxis($r.baseAxis),$r.baseDataDim=Be.mapDimension($r.baseAxis.dim),$r.valueDataDim=Be.mapDimension($r.valueAxis.dim)),$r}function dataDimToCoordDim(_r,Be){var Dr=_r.getData().getDimensionInfo(Be);return Dr&&Dr.coordDim}function dataFilter(_r,Be){return _r&&_r.containData&&Be.coord&&!hasXOrY(Be)?_r.containData(Be.coord):!0}function zoneFilter(_r,Be,Dr){return _r&&_r.containZone&&Be.coord&&Dr.coord&&!hasXOrY(Be)&&!hasXOrY(Dr)?_r.containZone(Be.coord,Dr.coord):!0}function createMarkerDimValueGetter(_r,Be){return _r?function(Dr,Mr,$r,Br){var zr=Br<2?Dr.coord&&Dr.coord[Br]:Dr.value;return parseDataValue(zr,Be[Br])}:function(Dr,Mr,$r,Br){return parseDataValue(Dr.value,Be[Br])}}function numCalculate(_r,Be,Dr){if(Dr==="average"){var Mr=0,$r=0;return _r.each(Be,function(Br,zr){isNaN(Br)||(Mr+=Br,$r++)}),Mr/$r}else return Dr==="median"?_r.getMedian(Be):_r.getDataExtent(Be)[Dr==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.init=function(){this.markerGroupMap=createHashMap()},Be.prototype.render=function(Dr,Mr,$r){var Br=this,zr=this.markerGroupMap;zr.each(function(Vr){inner$4(Vr).keep=!1}),Mr.eachSeries(function(Vr){var jr=MarkerModel$1.getMarkerModelFromSeries(Vr,Br.type);jr&&Br.renderSeries(Vr,jr,Mr,$r)}),zr.each(function(Vr){!inner$4(Vr).keep&&Br.group.remove(Vr.group)})},Be.prototype.markKeep=function(Dr){inner$4(Dr).keep=!0},Be.prototype.toggleBlurSeries=function(Dr,Mr){var $r=this;each$f(Dr,function(Br){var zr=MarkerModel$1.getMarkerModelFromSeries(Br,$r.type);if(zr){var Vr=zr.getData();Vr.eachItemGraphicEl(function(jr){jr&&(Mr?enterBlur(jr):leaveBlur(jr))})}})},Be.type="marker",Be}(ComponentView$1);const MarkerView$1=MarkerView;function updateMarkerLayout(_r,Be,Dr){var Mr=Be.coordinateSystem;_r.each(function($r){var Br=_r.getItemModel($r),zr,Vr=parsePercent(Br.get("x"),Dr.getWidth()),jr=parsePercent(Br.get("y"),Dr.getHeight());if(!isNaN(Vr)&&!isNaN(jr))zr=[Vr,jr];else if(Be.getMarkerPosition)zr=Be.getMarkerPosition(_r.getValues(_r.dimensions,$r));else if(Mr){var Gr=_r.get(Mr.dimensions[0],$r),Wr=_r.get(Mr.dimensions[1],$r);zr=Mr.dataToPoint([Gr,Wr])}isNaN(Vr)||(zr[0]=Vr),isNaN(jr)||(zr[1]=jr),_r.setItemLayout($r,zr)})}var MarkPointView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.updateTransform=function(Dr,Mr,$r){Mr.eachSeries(function(Br){var zr=MarkerModel$1.getMarkerModelFromSeries(Br,"markPoint");zr&&(updateMarkerLayout(zr.getData(),Br,$r),this.markerGroupMap.get(Br.id).updateLayout())},this)},Be.prototype.renderSeries=function(Dr,Mr,$r,Br){var zr=Dr.coordinateSystem,Vr=Dr.id,jr=Dr.getData(),Gr=this.markerGroupMap,Wr=Gr.get(Vr)||Gr.set(Vr,new SymbolDraw$1),Kr=createData(zr,Dr,Mr);Mr.setData(Kr),updateMarkerLayout(Mr.getData(),Dr,Br),Kr.each(function(Zr){var Jr=Kr.getItemModel(Zr),rn=Jr.getShallow("symbol"),nn=Jr.getShallow("symbolSize"),ln=Jr.getShallow("symbolRotate"),cn=Jr.getShallow("symbolOffset"),hn=Jr.getShallow("symbolKeepAspect");if(isFunction(rn)||isFunction(nn)||isFunction(ln)||isFunction(cn)){var mn=Mr.getRawValue(Zr),bn=Mr.getDataParams(Zr);isFunction(rn)&&(rn=rn(mn,bn)),isFunction(nn)&&(nn=nn(mn,bn)),isFunction(ln)&&(ln=ln(mn,bn)),isFunction(cn)&&(cn=cn(mn,bn))}var An=Jr.getModel("itemStyle").getItemStyle(),vn=getVisualFromData(jr,"color");An.fill||(An.fill=vn),Kr.setItemVisual(Zr,{symbol:rn,symbolSize:nn,symbolRotate:ln,symbolOffset:cn,symbolKeepAspect:hn,style:An})}),Wr.updateData(Kr),this.group.add(Wr.group),Kr.eachItemGraphicEl(function(Zr){Zr.traverse(function(Jr){getECData(Jr).dataModel=Mr})}),this.markKeep(Wr),Wr.group.silent=Mr.get("silent")||Dr.get("silent")},Be.type="markPoint",Be}(MarkerView$1);function createData(_r,Be,Dr){var Mr;_r?Mr=map$1(_r&&_r.dimensions,function(Vr){var jr=Be.getData().getDimensionInfo(Be.getData().mapDimension(Vr))||{};return extend$1(extend$1({},jr),{name:Vr,ordinalMeta:null})}):Mr=[{name:"value",type:"float"}];var $r=new SeriesData$1(Mr,Dr),Br=map$1(Dr.get("data"),curry$1(dataTransform,Be));_r&&(Br=filter(Br,curry$1(dataFilter,_r)));var zr=createMarkerDimValueGetter(!!_r,Mr);return $r.initData(Br,null,zr),$r}const MarkPointView$1=MarkPointView;function install$e(_r){_r.registerComponentModel(MarkPointModel$1),_r.registerComponentView(MarkPointView$1),_r.registerPreprocessor(function(Be){checkMarkerInSeries(Be.series,"markPoint")&&(Be.markPoint=Be.markPoint||{})})}var MarkLineModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.createMarkerModelFromSeries=function(Dr,Mr,$r){return new Be(Dr,Mr,$r)},Be.type="markLine",Be.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},Be}(MarkerModel$1);const MarkLineModel$1=MarkLineModel;var inner$3=makeInner(),markLineTransform=function(_r,Be,Dr,Mr){var $r=_r.getData(),Br;if(isArray$1(Mr))Br=Mr;else{var zr=Mr.type;if(zr==="min"||zr==="max"||zr==="average"||zr==="median"||Mr.xAxis!=null||Mr.yAxis!=null){var Vr=void 0,jr=void 0;if(Mr.yAxis!=null||Mr.xAxis!=null)Vr=Be.getAxis(Mr.yAxis!=null?"y":"x"),jr=retrieve(Mr.yAxis,Mr.xAxis);else{var Gr=getAxisInfo(Mr,$r,Be,_r);Vr=Gr.valueAxis;var Wr=getStackedDimension($r,Gr.valueDataDim);jr=numCalculate($r,Wr,zr)}var Kr=Vr.dim==="x"?0:1,Zr=1-Kr,Jr=clone$4(Mr),rn={coord:[]};Jr.type=null,Jr.coord=[],Jr.coord[Zr]=-1/0,rn.coord[Zr]=1/0;var nn=Dr.get("precision");nn>=0&&isNumber(jr)&&(jr=+jr.toFixed(Math.min(nn,20))),Jr.coord[Kr]=rn.coord[Kr]=jr,Br=[Jr,rn,{type:zr,valueIndex:Mr.valueIndex,value:jr}]}else Br=[]}var ln=[dataTransform(_r,Br[0]),dataTransform(_r,Br[1]),extend$1({},Br[2])];return ln[2].type=ln[2].type||null,merge(ln[2],ln[0]),merge(ln[2],ln[1]),ln};function isInfinity$1(_r){return!isNaN(_r)&&!isFinite(_r)}function ifMarkLineHasOnlyDim(_r,Be,Dr,Mr){var $r=1-_r,Br=Mr.dimensions[_r];return isInfinity$1(Be[$r])&&isInfinity$1(Dr[$r])&&Be[_r]===Dr[_r]&&Mr.getAxis(Br).containData(Be[_r])}function markLineFilter(_r,Be){if(_r.type==="cartesian2d"){var Dr=Be[0].coord,Mr=Be[1].coord;if(Dr&&Mr&&(ifMarkLineHasOnlyDim(1,Dr,Mr,_r)||ifMarkLineHasOnlyDim(0,Dr,Mr,_r)))return!0}return dataFilter(_r,Be[0])&&dataFilter(_r,Be[1])}function updateSingleMarkerEndLayout(_r,Be,Dr,Mr,$r){var Br=Mr.coordinateSystem,zr=_r.getItemModel(Be),Vr,jr=parsePercent(zr.get("x"),$r.getWidth()),Gr=parsePercent(zr.get("y"),$r.getHeight());if(!isNaN(jr)&&!isNaN(Gr))Vr=[jr,Gr];else{if(Mr.getMarkerPosition)Vr=Mr.getMarkerPosition(_r.getValues(_r.dimensions,Be));else{var Wr=Br.dimensions,Kr=_r.get(Wr[0],Be),Zr=_r.get(Wr[1],Be);Vr=Br.dataToPoint([Kr,Zr])}if(isCoordinateSystemType(Br,"cartesian2d")){var Jr=Br.getAxis("x"),rn=Br.getAxis("y"),Wr=Br.dimensions;isInfinity$1(_r.get(Wr[0],Be))?Vr[0]=Jr.toGlobalCoord(Jr.getExtent()[Dr?0:1]):isInfinity$1(_r.get(Wr[1],Be))&&(Vr[1]=rn.toGlobalCoord(rn.getExtent()[Dr?0:1]))}isNaN(jr)||(Vr[0]=jr),isNaN(Gr)||(Vr[1]=Gr)}_r.setItemLayout(Be,Vr)}var MarkLineView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.updateTransform=function(Dr,Mr,$r){Mr.eachSeries(function(Br){var zr=MarkerModel$1.getMarkerModelFromSeries(Br,"markLine");if(zr){var Vr=zr.getData(),jr=inner$3(zr).from,Gr=inner$3(zr).to;jr.each(function(Wr){updateSingleMarkerEndLayout(jr,Wr,!0,Br,$r),updateSingleMarkerEndLayout(Gr,Wr,!1,Br,$r)}),Vr.each(function(Wr){Vr.setItemLayout(Wr,[jr.getItemLayout(Wr),Gr.getItemLayout(Wr)])}),this.markerGroupMap.get(Br.id).updateLayout()}},this)},Be.prototype.renderSeries=function(Dr,Mr,$r,Br){var zr=Dr.coordinateSystem,Vr=Dr.id,jr=Dr.getData(),Gr=this.markerGroupMap,Wr=Gr.get(Vr)||Gr.set(Vr,new LineDraw$1);this.group.add(Wr.group);var Kr=createList$1(zr,Dr,Mr),Zr=Kr.from,Jr=Kr.to,rn=Kr.line;inner$3(Mr).from=Zr,inner$3(Mr).to=Jr,Mr.setData(rn);var nn=Mr.get("symbol"),ln=Mr.get("symbolSize"),cn=Mr.get("symbolRotate"),hn=Mr.get("symbolOffset");isArray$1(nn)||(nn=[nn,nn]),isArray$1(ln)||(ln=[ln,ln]),isArray$1(cn)||(cn=[cn,cn]),isArray$1(hn)||(hn=[hn,hn]),Kr.from.each(function(bn){mn(Zr,bn,!0),mn(Jr,bn,!1)}),rn.each(function(bn){var An=rn.getItemModel(bn).getModel("lineStyle").getLineStyle();rn.setItemLayout(bn,[Zr.getItemLayout(bn),Jr.getItemLayout(bn)]),An.stroke==null&&(An.stroke=Zr.getItemVisual(bn,"style").fill),rn.setItemVisual(bn,{fromSymbolKeepAspect:Zr.getItemVisual(bn,"symbolKeepAspect"),fromSymbolOffset:Zr.getItemVisual(bn,"symbolOffset"),fromSymbolRotate:Zr.getItemVisual(bn,"symbolRotate"),fromSymbolSize:Zr.getItemVisual(bn,"symbolSize"),fromSymbol:Zr.getItemVisual(bn,"symbol"),toSymbolKeepAspect:Jr.getItemVisual(bn,"symbolKeepAspect"),toSymbolOffset:Jr.getItemVisual(bn,"symbolOffset"),toSymbolRotate:Jr.getItemVisual(bn,"symbolRotate"),toSymbolSize:Jr.getItemVisual(bn,"symbolSize"),toSymbol:Jr.getItemVisual(bn,"symbol"),style:An})}),Wr.updateData(rn),Kr.line.eachItemGraphicEl(function(bn){getECData(bn).dataModel=Mr,bn.traverse(function(An){getECData(An).dataModel=Mr})});function mn(bn,An,vn){var dn=bn.getItemModel(An);updateSingleMarkerEndLayout(bn,An,vn,Dr,Br);var wn=dn.getModel("itemStyle").getItemStyle();wn.fill==null&&(wn.fill=getVisualFromData(jr,"color")),bn.setItemVisual(An,{symbolKeepAspect:dn.get("symbolKeepAspect"),symbolOffset:retrieve2(dn.get("symbolOffset",!0),hn[vn?0:1]),symbolRotate:retrieve2(dn.get("symbolRotate",!0),cn[vn?0:1]),symbolSize:retrieve2(dn.get("symbolSize"),ln[vn?0:1]),symbol:retrieve2(dn.get("symbol",!0),nn[vn?0:1]),style:wn})}this.markKeep(Wr),Wr.group.silent=Mr.get("silent")||Dr.get("silent")},Be.type="markLine",Be}(MarkerView$1);function createList$1(_r,Be,Dr){var Mr;_r?Mr=map$1(_r&&_r.dimensions,function(Gr){var Wr=Be.getData().getDimensionInfo(Be.getData().mapDimension(Gr))||{};return extend$1(extend$1({},Wr),{name:Gr,ordinalMeta:null})}):Mr=[{name:"value",type:"float"}];var $r=new SeriesData$1(Mr,Dr),Br=new SeriesData$1(Mr,Dr),zr=new SeriesData$1([],Dr),Vr=map$1(Dr.get("data"),curry$1(markLineTransform,Be,_r,Dr));_r&&(Vr=filter(Vr,curry$1(markLineFilter,_r)));var jr=createMarkerDimValueGetter(!!_r,Mr);return $r.initData(map$1(Vr,function(Gr){return Gr[0]}),null,jr),Br.initData(map$1(Vr,function(Gr){return Gr[1]}),null,jr),zr.initData(map$1(Vr,function(Gr){return Gr[2]})),zr.hasItemOption=!0,{from:$r,to:Br,line:zr}}const MarkLineView$1=MarkLineView;function install$d(_r){_r.registerComponentModel(MarkLineModel$1),_r.registerComponentView(MarkLineView$1),_r.registerPreprocessor(function(Be){checkMarkerInSeries(Be.series,"markLine")&&(Be.markLine=Be.markLine||{})})}var MarkAreaModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.createMarkerModelFromSeries=function(Dr,Mr,$r){return new Be(Dr,Mr,$r)},Be.type="markArea",Be.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},Be}(MarkerModel$1);const MarkAreaModel$1=MarkAreaModel;var inner$2=makeInner(),markAreaTransform=function(_r,Be,Dr,Mr){var $r=Mr[0],Br=Mr[1];if(!(!$r||!Br)){var zr=dataTransform(_r,$r),Vr=dataTransform(_r,Br),jr=zr.coord,Gr=Vr.coord;jr[0]=retrieve(jr[0],-1/0),jr[1]=retrieve(jr[1],-1/0),Gr[0]=retrieve(Gr[0],1/0),Gr[1]=retrieve(Gr[1],1/0);var Wr=mergeAll([{},zr,Vr]);return Wr.coord=[zr.coord,Vr.coord],Wr.x0=zr.x,Wr.y0=zr.y,Wr.x1=Vr.x,Wr.y1=Vr.y,Wr}};function isInfinity(_r){return!isNaN(_r)&&!isFinite(_r)}function ifMarkAreaHasOnlyDim(_r,Be,Dr,Mr){var $r=1-_r;return isInfinity(Be[$r])&&isInfinity(Dr[$r])}function markAreaFilter(_r,Be){var Dr=Be.coord[0],Mr=Be.coord[1],$r={coord:Dr,x:Be.x0,y:Be.y0},Br={coord:Mr,x:Be.x1,y:Be.y1};return isCoordinateSystemType(_r,"cartesian2d")?Dr&&Mr&&(ifMarkAreaHasOnlyDim(1,Dr,Mr)||ifMarkAreaHasOnlyDim(0,Dr,Mr))?!0:zoneFilter(_r,$r,Br):dataFilter(_r,$r)||dataFilter(_r,Br)}function getSingleMarkerEndPoint(_r,Be,Dr,Mr,$r){var Br=Mr.coordinateSystem,zr=_r.getItemModel(Be),Vr,jr=parsePercent(zr.get(Dr[0]),$r.getWidth()),Gr=parsePercent(zr.get(Dr[1]),$r.getHeight());if(!isNaN(jr)&&!isNaN(Gr))Vr=[jr,Gr];else{if(Mr.getMarkerPosition){var Wr=_r.getValues(["x0","y0"],Be),Kr=_r.getValues(["x1","y1"],Be),Zr=Br.clampData(Wr),Jr=Br.clampData(Kr),rn=[];Dr[0]==="x0"?rn[0]=Zr[0]>Jr[0]?Kr[0]:Wr[0]:rn[0]=Zr[0]>Jr[0]?Wr[0]:Kr[0],Dr[1]==="y0"?rn[1]=Zr[1]>Jr[1]?Kr[1]:Wr[1]:rn[1]=Zr[1]>Jr[1]?Wr[1]:Kr[1],Vr=Mr.getMarkerPosition(rn,Dr,!0)}else{var nn=_r.get(Dr[0],Be),ln=_r.get(Dr[1],Be),cn=[nn,ln];Br.clampData&&Br.clampData(cn,cn),Vr=Br.dataToPoint(cn,!0)}if(isCoordinateSystemType(Br,"cartesian2d")){var hn=Br.getAxis("x"),mn=Br.getAxis("y"),nn=_r.get(Dr[0],Be),ln=_r.get(Dr[1],Be);isInfinity(nn)?Vr[0]=hn.toGlobalCoord(hn.getExtent()[Dr[0]==="x0"?0:1]):isInfinity(ln)&&(Vr[1]=mn.toGlobalCoord(mn.getExtent()[Dr[1]==="y0"?0:1]))}isNaN(jr)||(Vr[0]=jr),isNaN(Gr)||(Vr[1]=Gr)}return Vr}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.updateTransform=function(Dr,Mr,$r){Mr.eachSeries(function(Br){var zr=MarkerModel$1.getMarkerModelFromSeries(Br,"markArea");if(zr){var Vr=zr.getData();Vr.each(function(jr){var Gr=map$1(dimPermutations,function(Kr){return getSingleMarkerEndPoint(Vr,jr,Kr,Br,$r)});Vr.setItemLayout(jr,Gr);var Wr=Vr.getItemGraphicEl(jr);Wr.setShape("points",Gr)})}},this)},Be.prototype.renderSeries=function(Dr,Mr,$r,Br){var zr=Dr.coordinateSystem,Vr=Dr.id,jr=Dr.getData(),Gr=this.markerGroupMap,Wr=Gr.get(Vr)||Gr.set(Vr,{group:new Group$4});this.group.add(Wr.group),this.markKeep(Wr);var Kr=createList(zr,Dr,Mr);Mr.setData(Kr),Kr.each(function(Zr){var Jr=map$1(dimPermutations,function(wn){return getSingleMarkerEndPoint(Kr,Zr,wn,Dr,Br)}),rn=zr.getAxis("x").scale,nn=zr.getAxis("y").scale,ln=rn.getExtent(),cn=nn.getExtent(),hn=[rn.parse(Kr.get("x0",Zr)),rn.parse(Kr.get("x1",Zr))],mn=[nn.parse(Kr.get("y0",Zr)),nn.parse(Kr.get("y1",Zr))];asc$2(hn),asc$2(mn);var bn=!(ln[0]>hn[1]||ln[1]<hn[0]||cn[0]>mn[1]||cn[1]<mn[0]),An=!bn;Kr.setItemLayout(Zr,{points:Jr,allClipped:An});var vn=Kr.getItemModel(Zr).getModel("itemStyle").getItemStyle(),dn=getVisualFromData(jr,"color");vn.fill||(vn.fill=dn,isString(vn.fill)&&(vn.fill=modifyAlpha(vn.fill,.4))),vn.stroke||(vn.stroke=dn),Kr.setItemVisual(Zr,"style",vn)}),Kr.diff(inner$2(Wr).data).add(function(Zr){var Jr=Kr.getItemLayout(Zr);if(!Jr.allClipped){var rn=new Polygon$1({shape:{points:Jr.points}});Kr.setItemGraphicEl(Zr,rn),Wr.group.add(rn)}}).update(function(Zr,Jr){var rn=inner$2(Wr).data.getItemGraphicEl(Jr),nn=Kr.getItemLayout(Zr);nn.allClipped?rn&&Wr.group.remove(rn):(rn?updateProps$1(rn,{shape:{points:nn.points}},Mr,Zr):rn=new Polygon$1({shape:{points:nn.points}}),Kr.setItemGraphicEl(Zr,rn),Wr.group.add(rn))}).remove(function(Zr){var Jr=inner$2(Wr).data.getItemGraphicEl(Zr);Wr.group.remove(Jr)}).execute(),Kr.eachItemGraphicEl(function(Zr,Jr){var rn=Kr.getItemModel(Jr),nn=Kr.getItemVisual(Jr,"style");Zr.useStyle(Kr.getItemVisual(Jr,"style")),setLabelStyle(Zr,getLabelStatesModels(rn),{labelFetcher:Mr,labelDataIndex:Jr,defaultText:Kr.getName(Jr)||"",inheritColor:isString(nn.fill)?modifyAlpha(nn.fill,1):"#000"}),setStatesStylesFromModel(Zr,rn),toggleHoverEmphasis(Zr,null,null,rn.get(["emphasis","disabled"])),getECData(Zr).dataModel=Mr}),inner$2(Wr).data=Kr,Wr.group.silent=Mr.get("silent")||Dr.get("silent")},Be.type="markArea",Be}(MarkerView$1);function createList(_r,Be,Dr){var Mr,$r,Br=["x0","y0","x1","y1"];if(_r){var zr=map$1(_r&&_r.dimensions,function(Gr){var Wr=Be.getData(),Kr=Wr.getDimensionInfo(Wr.mapDimension(Gr))||{};return extend$1(extend$1({},Kr),{name:Gr,ordinalMeta:null})});$r=map$1(Br,function(Gr,Wr){return{name:Gr,type:zr[Wr%2].type}}),Mr=new SeriesData$1($r,Dr)}else $r=[{name:"value",type:"float"}],Mr=new SeriesData$1($r,Dr);var Vr=map$1(Dr.get("data"),curry$1(markAreaTransform,Be,_r,Dr));_r&&(Vr=filter(Vr,curry$1(markAreaFilter,_r)));var jr=_r?function(Gr,Wr,Kr,Zr){var Jr=Gr.coord[Math.floor(Zr/2)][Zr%2];return parseDataValue(Jr,$r[Zr])}:function(Gr,Wr,Kr,Zr){return parseDataValue(Gr.value,$r[Zr])};return Mr.initData(Vr,null,jr),Mr.hasItemOption=!0,Mr}const MarkAreaView$1=MarkAreaView;function install$c(_r){_r.registerComponentModel(MarkAreaModel$1),_r.registerComponentView(MarkAreaView$1),_r.registerPreprocessor(function(Be){checkMarkerInSeries(Be.series,"markArea")&&(Be.markArea=Be.markArea||{})})}var getDefaultSelectorOptions=function(_r,Be){if(Be==="all")return{type:"all",title:_r.getLocaleModel().get(["legend","selector","all"])};if(Be==="inverse")return{type:"inverse",title:_r.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.layoutMode={type:"box",ignoreSize:!0},Dr}return Be.prototype.init=function(Dr,Mr,$r){this.mergeDefaultAndTheme(Dr,$r),Dr.selected=Dr.selected||{},this._updateSelector(Dr)},Be.prototype.mergeOption=function(Dr,Mr){_r.prototype.mergeOption.call(this,Dr,Mr),this._updateSelector(Dr)},Be.prototype._updateSelector=function(Dr){var Mr=Dr.selector,$r=this.ecModel;Mr===!0&&(Mr=Dr.selector=["all","inverse"]),isArray$1(Mr)&&each$f(Mr,function(Br,zr){isString(Br)&&(Br={type:Br}),Mr[zr]=merge(Br,getDefaultSelectorOptions($r,Br.type))})},Be.prototype.optionUpdated=function(){this._updateData(this.ecModel);var Dr=this._data;if(Dr[0]&&this.get("selectedMode")==="single"){for(var Mr=!1,$r=0;$r<Dr.length;$r++){var Br=Dr[$r].get("name");if(this.isSelected(Br)){this.select(Br),Mr=!0;break}}!Mr&&this.select(Dr[0].get("name"))}},Be.prototype._updateData=function(Dr){var Mr=[],$r=[];Dr.eachRawSeries(function(jr){var Gr=jr.name;$r.push(Gr);var Wr;if(jr.legendVisualProvider){var Kr=jr.legendVisualProvider,Zr=Kr.getAllNames();Dr.isSeriesFiltered(jr)||($r=$r.concat(Zr)),Zr.length?Mr=Mr.concat(Zr):Wr=!0}else Wr=!0;Wr&&isNameSpecified(jr)&&Mr.push(jr.name)}),this._availableNames=$r;var Br=this.get("data")||Mr,zr=createHashMap(),Vr=map$1(Br,function(jr){return(isString(jr)||isNumber(jr))&&(jr={name:jr}),zr.get(jr.name)?null:(zr.set(jr.name,!0),new Model$1(jr,this,this.ecModel))},this);this._data=filter(Vr,function(jr){return!!jr})},Be.prototype.getData=function(){return this._data},Be.prototype.select=function(Dr){var Mr=this.option.selected,$r=this.get("selectedMode");if($r==="single"){var Br=this._data;each$f(Br,function(zr){Mr[zr.get("name")]=!1})}Mr[Dr]=!0},Be.prototype.unSelect=function(Dr){this.get("selectedMode")!=="single"&&(this.option.selected[Dr]=!1)},Be.prototype.toggleSelected=function(Dr){var Mr=this.option.selected;Mr.hasOwnProperty(Dr)||(Mr[Dr]=!0),this[Mr[Dr]?"unSelect":"select"](Dr)},Be.prototype.allSelect=function(){var Dr=this._data,Mr=this.option.selected;each$f(Dr,function($r){Mr[$r.get("name",!0)]=!0})},Be.prototype.inverseSelect=function(){var Dr=this._data,Mr=this.option.selected;each$f(Dr,function($r){var Br=$r.get("name",!0);Mr.hasOwnProperty(Br)||(Mr[Br]=!0),Mr[Br]=!Mr[Br]})},Be.prototype.isSelected=function(Dr){var Mr=this.option.selected;return!(Mr.hasOwnProperty(Dr)&&!Mr[Dr])&&indexOf(this._availableNames,Dr)>=0},Be.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},Be.type="legend.plain",Be.dependencies=["series"],Be.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},Be}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each$3=each$f,Group$1=Group$4,LegendView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.newlineDisabled=!1,Dr}return Be.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},Be.prototype.getContentGroup=function(){return this._contentGroup},Be.prototype.getSelectorGroup=function(){return this._selectorGroup},Be.prototype.render=function(Dr,Mr,$r){var Br=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!Dr.get("show",!0)){var zr=Dr.get("align"),Vr=Dr.get("orient");(!zr||zr==="auto")&&(zr=Dr.get("left")==="right"&&Vr==="vertical"?"right":"left");var jr=Dr.get("selector",!0),Gr=Dr.get("selectorPosition",!0);jr&&(!Gr||Gr==="auto")&&(Gr=Vr==="horizontal"?"end":"start"),this.renderInner(zr,Dr,Mr,$r,jr,Vr,Gr);var Wr=Dr.getBoxLayoutParams(),Kr={width:$r.getWidth(),height:$r.getHeight()},Zr=Dr.get("padding"),Jr=getLayoutRect(Wr,Kr,Zr),rn=this.layoutInner(Dr,zr,Jr,Br,jr,Gr),nn=getLayoutRect(defaults({width:rn.width,height:rn.height},Wr),Kr,Zr);this.group.x=nn.x-rn.x,this.group.y=nn.y-rn.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(rn,Dr))}},Be.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},Be.prototype.renderInner=function(Dr,Mr,$r,Br,zr,Vr,jr){var Gr=this.getContentGroup(),Wr=createHashMap(),Kr=Mr.get("selectedMode"),Zr=[];$r.eachRawSeries(function(Jr){!Jr.get("legendHoverLink")&&Zr.push(Jr.id)}),each$3(Mr.getData(),function(Jr,rn){var nn=Jr.get("name");if(!this.newlineDisabled&&(nn===""||nn===`
`)){var ln=new Group$1;ln.newline=!0,Gr.add(ln);return}var cn=$r.getSeriesByName(nn)[0];if(!Wr.get(nn))if(cn){var hn=cn.getData(),mn=hn.getVisual("legendLineStyle")||{},bn=hn.getVisual("legendIcon"),An=hn.getVisual("style"),vn=this._createItem(cn,nn,rn,Jr,Mr,Dr,mn,An,bn,Kr,Br);vn.on("click",curry(dispatchSelectAction,nn,null,Br,Zr)).on("mouseover",curry(dispatchHighlightAction,cn.name,null,Br,Zr)).on("mouseout",curry(dispatchDownplayAction,cn.name,null,Br,Zr)),Wr.set(nn,!0)}else $r.eachRawSeries(function(dn){if(!Wr.get(nn)&&dn.legendVisualProvider){var wn=dn.legendVisualProvider;if(!wn.containName(nn))return;var xn=wn.indexOfName(nn),Mn=wn.getItemVisual(xn,"style"),In=wn.getItemVisual(xn,"legendIcon"),Hn=parse(Mn.fill);Hn&&Hn[3]===0&&(Hn[3]=.2,Mn=extend$1(extend$1({},Mn),{fill:stringify(Hn,"rgba")}));var $n=this._createItem(dn,nn,rn,Jr,Mr,Dr,{},Mn,In,Kr,Br);$n.on("click",curry(dispatchSelectAction,null,nn,Br,Zr)).on("mouseover",curry(dispatchHighlightAction,null,nn,Br,Zr)).on("mouseout",curry(dispatchDownplayAction,null,nn,Br,Zr)),Wr.set(nn,!0)}},this)},this),zr&&this._createSelector(zr,Mr,Br,Vr,jr)},Be.prototype._createSelector=function(Dr,Mr,$r,Br,zr){var Vr=this.getSelectorGroup();each$3(Dr,function(Gr){var Wr=Gr.type,Kr=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){$r.dispatchAction({type:Wr==="all"?"legendAllSelect":"legendInverseSelect"})}});Vr.add(Kr);var Zr=Mr.getModel("selectorLabel"),Jr=Mr.getModel(["emphasis","selectorLabel"]);setLabelStyle(Kr,{normal:Zr,emphasis:Jr},{defaultText:Gr.title}),enableHoverEmphasis(Kr)})},Be.prototype._createItem=function(Dr,Mr,$r,Br,zr,Vr,jr,Gr,Wr,Kr,Zr){var Jr=Dr.visualDrawType,rn=zr.get("itemWidth"),nn=zr.get("itemHeight"),ln=zr.isSelected(Mr),cn=Br.get("symbolRotate"),hn=Br.get("symbolKeepAspect"),mn=Br.get("icon");Wr=mn||Wr||"roundRect";var bn=getLegendStyle(Wr,Br,jr,Gr,Jr,ln,Zr),An=new Group$1,vn=Br.getModel("textStyle");if(isFunction(Dr.getLegendIcon)&&(!mn||mn==="inherit"))An.add(Dr.getLegendIcon({itemWidth:rn,itemHeight:nn,icon:Wr,iconRotate:cn,itemStyle:bn.itemStyle,lineStyle:bn.lineStyle,symbolKeepAspect:hn}));else{var dn=mn==="inherit"&&Dr.getData().getVisual("symbol")?cn==="inherit"?Dr.getData().getVisual("symbolRotate"):cn:0;An.add(getDefaultLegendIcon({itemWidth:rn,itemHeight:nn,icon:Wr,iconRotate:dn,itemStyle:bn.itemStyle,lineStyle:bn.lineStyle,symbolKeepAspect:hn}))}var wn=Vr==="left"?rn+5:-5,xn=Vr,Mn=zr.get("formatter"),In=Mr;isString(Mn)&&Mn?In=Mn.replace("{name}",Mr??""):isFunction(Mn)&&(In=Mn(Mr));var Hn=ln?vn.getTextColor():Br.get("inactiveColor");An.add(new ZRText$1({style:createTextStyle$1(vn,{text:In,x:wn,y:nn/2,fill:Hn,align:xn,verticalAlign:"middle"},{inheritColor:Hn})}));var $n=new Rect$3({shape:An.getBoundingRect(),invisible:!0}),jn=Br.getModel("tooltip");return jn.get("show")&&setTooltipConfig({el:$n,componentModel:zr,itemName:Mr,itemTooltipOption:jn.option}),An.add($n),An.eachChild(function(Bn){Bn.silent=!0}),$n.silent=!Kr,this.getContentGroup().add(An),enableHoverEmphasis(An),An.__legendDataIndex=$r,An},Be.prototype.layoutInner=function(Dr,Mr,$r,Br,zr,Vr){var jr=this.getContentGroup(),Gr=this.getSelectorGroup();box(Dr.get("orient"),jr,Dr.get("itemGap"),$r.width,$r.height);var Wr=jr.getBoundingRect(),Kr=[-Wr.x,-Wr.y];if(Gr.markRedraw(),jr.markRedraw(),zr){box("horizontal",Gr,Dr.get("selectorItemGap",!0));var Zr=Gr.getBoundingRect(),Jr=[-Zr.x,-Zr.y],rn=Dr.get("selectorButtonGap",!0),nn=Dr.getOrient().index,ln=nn===0?"width":"height",cn=nn===0?"height":"width",hn=nn===0?"y":"x";Vr==="end"?Jr[nn]+=Wr[ln]+rn:Kr[nn]+=Zr[ln]+rn,Jr[1-nn]+=Wr[cn]/2-Zr[cn]/2,Gr.x=Jr[0],Gr.y=Jr[1],jr.x=Kr[0],jr.y=Kr[1];var mn={x:0,y:0};return mn[ln]=Wr[ln]+rn+Zr[ln],mn[cn]=Math.max(Wr[cn],Zr[cn]),mn[hn]=Math.min(0,Zr[hn]+Jr[1-nn]),mn}else return jr.x=Kr[0],jr.y=Kr[1],this.group.getBoundingRect()},Be.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},Be.type="legend.plain",Be}(ComponentView$1);function getLegendStyle(_r,Be,Dr,Mr,$r,Br,zr){function Vr(ln,cn){ln.lineWidth==="auto"&&(ln.lineWidth=cn.lineWidth>0?2:0),each$3(ln,function(hn,mn){ln[mn]==="inherit"&&(ln[mn]=cn[mn])})}var jr=Be.getModel("itemStyle"),Gr=jr.getItemStyle(),Wr=_r.lastIndexOf("empty",0)===0?"fill":"stroke",Kr=jr.getShallow("decal");Gr.decal=!Kr||Kr==="inherit"?Mr.decal:createOrUpdatePatternFromDecal(Kr,zr),Gr.fill==="inherit"&&(Gr.fill=Mr[$r]),Gr.stroke==="inherit"&&(Gr.stroke=Mr[Wr]),Gr.opacity==="inherit"&&(Gr.opacity=($r==="fill"?Mr:Dr).opacity),Vr(Gr,Mr);var Zr=Be.getModel("lineStyle"),Jr=Zr.getLineStyle();if(Vr(Jr,Dr),Gr.fill==="auto"&&(Gr.fill=Mr.fill),Gr.stroke==="auto"&&(Gr.stroke=Mr.fill),Jr.stroke==="auto"&&(Jr.stroke=Mr.fill),!Br){var rn=Be.get("inactiveBorderWidth"),nn=Gr[Wr];Gr.lineWidth=rn==="auto"?Mr.lineWidth>0&&nn?2:0:Gr.lineWidth,Gr.fill=Be.get("inactiveColor"),Gr.stroke=Be.get("inactiveBorderColor"),Jr.stroke=Zr.get("inactiveColor"),Jr.lineWidth=Zr.get("inactiveWidth")}return{itemStyle:Gr,lineStyle:Jr}}function getDefaultLegendIcon(_r){var Be=_r.icon||"roundRect",Dr=createSymbol$1(Be,0,0,_r.itemWidth,_r.itemHeight,_r.itemStyle.fill,_r.symbolKeepAspect);return Dr.setStyle(_r.itemStyle),Dr.rotation=(_r.iconRotate||0)*Math.PI/180,Dr.setOrigin([_r.itemWidth/2,_r.itemHeight/2]),Be.indexOf("empty")>-1&&(Dr.style.stroke=Dr.style.fill,Dr.style.fill="#fff",Dr.style.lineWidth=2),Dr}function dispatchSelectAction(_r,Be,Dr,Mr){dispatchDownplayAction(_r,Be,Dr,Mr),Dr.dispatchAction({type:"legendToggleSelect",name:_r??Be}),dispatchHighlightAction(_r,Be,Dr,Mr)}function isUseHoverLayer(_r){for(var Be=_r.getZr().storage.getDisplayList(),Dr,Mr=0,$r=Be.length;Mr<$r&&!(Dr=Be[Mr].states.emphasis);)Mr++;return Dr&&Dr.hoverLayer}function dispatchHighlightAction(_r,Be,Dr,Mr){isUseHoverLayer(Dr)||Dr.dispatchAction({type:"highlight",seriesName:_r,name:Be,excludeSeriesId:Mr})}function dispatchDownplayAction(_r,Be,Dr,Mr){isUseHoverLayer(Dr)||Dr.dispatchAction({type:"downplay",seriesName:_r,name:Be,excludeSeriesId:Mr})}const LegendView$1=LegendView;function legendFilter(_r){var Be=_r.findComponents({mainType:"legend"});Be&&Be.length&&_r.filterSeries(function(Dr){for(var Mr=0;Mr<Be.length;Mr++)if(!Be[Mr].isSelected(Dr.name))return!1;return!0})}function legendSelectActionHandler(_r,Be,Dr){var Mr={},$r=_r==="toggleSelected",Br;return Dr.eachComponent("legend",function(zr){$r&&Br!=null?zr[Br?"select":"unSelect"](Be.name):_r==="allSelect"||_r==="inverseSelect"?zr[_r]():(zr[_r](Be.name),Br=zr.isSelected(Be.name));var Vr=zr.getData();each$f(Vr,function(jr){var Gr=jr.get("name");if(!(Gr===`
`||Gr==="")){var Wr=zr.isSelected(Gr);Mr.hasOwnProperty(Gr)?Mr[Gr]=Mr[Gr]&&Wr:Mr[Gr]=Wr}})}),_r==="allSelect"||_r==="inverseSelect"?{selected:Mr}:{name:Be.name,selected:Mr}}function installLegendAction(_r){_r.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),_r.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),_r.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),_r.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),_r.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(_r){_r.registerComponentModel(LegendModel$1),_r.registerComponentView(LegendView$1),_r.registerProcessor(_r.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),_r.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(_r)}var ScrollableLegendModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.setScrollDataIndex=function(Dr){this.option.scrollDataIndex=Dr},Be.prototype.init=function(Dr,Mr,$r){var Br=getLayoutParams(Dr);_r.prototype.init.call(this,Dr,Mr,$r),mergeAndNormalizeLayoutParams(this,Dr,Br)},Be.prototype.mergeOption=function(Dr,Mr){_r.prototype.mergeOption.call(this,Dr,Mr),mergeAndNormalizeLayoutParams(this,this.option,Dr)},Be.type="legend.scroll",Be.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),Be}(LegendModel$1);function mergeAndNormalizeLayoutParams(_r,Be,Dr){var Mr=_r.getOrient(),$r=[1,1];$r[Mr.index]=0,mergeLayoutParam(Be,Dr,{type:"box",ignoreSize:!!$r})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$4,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.newlineDisabled=!0,Dr._currentIndex=0,Dr}return Be.prototype.init=function(){_r.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},Be.prototype.resetInner=function(){_r.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},Be.prototype.renderInner=function(Dr,Mr,$r,Br,zr,Vr,jr){var Gr=this;_r.prototype.renderInner.call(this,Dr,Mr,$r,Br,zr,Vr,jr);var Wr=this._controllerGroup,Kr=Mr.get("pageIconSize",!0),Zr=isArray$1(Kr)?Kr:[Kr,Kr];rn("pagePrev",0);var Jr=Mr.getModel("pageTextStyle");Wr.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:Jr.getTextColor(),font:Jr.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),rn("pageNext",1);function rn(nn,ln){var cn=nn+"DataIndex",hn=createIcon(Mr.get("pageIcons",!0)[Mr.getOrient().name][ln],{onclick:bind$1(Gr._pageGo,Gr,cn,Mr,Br)},{x:-Zr[0]/2,y:-Zr[1]/2,width:Zr[0],height:Zr[1]});hn.name=nn,Wr.add(hn)}},Be.prototype.layoutInner=function(Dr,Mr,$r,Br,zr,Vr){var jr=this.getSelectorGroup(),Gr=Dr.getOrient().index,Wr=WH[Gr],Kr=XY[Gr],Zr=WH[1-Gr],Jr=XY[1-Gr];zr&&box("horizontal",jr,Dr.get("selectorItemGap",!0));var rn=Dr.get("selectorButtonGap",!0),nn=jr.getBoundingRect(),ln=[-nn.x,-nn.y],cn=clone$4($r);zr&&(cn[Wr]=$r[Wr]-nn[Wr]-rn);var hn=this._layoutContentAndController(Dr,Br,cn,Gr,Wr,Zr,Jr,Kr);if(zr){if(Vr==="end")ln[Gr]+=hn[Wr]+rn;else{var mn=nn[Wr]+rn;ln[Gr]-=mn,hn[Kr]-=mn}hn[Wr]+=nn[Wr]+rn,ln[1-Gr]+=hn[Jr]+hn[Zr]/2-nn[Zr]/2,hn[Zr]=Math.max(hn[Zr],nn[Zr]),hn[Jr]=Math.min(hn[Jr],nn[Jr]+ln[1-Gr]),jr.x=ln[0],jr.y=ln[1],jr.markRedraw()}return hn},Be.prototype._layoutContentAndController=function(Dr,Mr,$r,Br,zr,Vr,jr,Gr){var Wr=this.getContentGroup(),Kr=this._containerGroup,Zr=this._controllerGroup;box(Dr.get("orient"),Wr,Dr.get("itemGap"),Br?$r.width:null,Br?null:$r.height),box("horizontal",Zr,Dr.get("pageButtonItemGap",!0));var Jr=Wr.getBoundingRect(),rn=Zr.getBoundingRect(),nn=this._showController=Jr[zr]>$r[zr],ln=[-Jr.x,-Jr.y];Mr||(ln[Br]=Wr[Gr]);var cn=[0,0],hn=[-rn.x,-rn.y],mn=retrieve2(Dr.get("pageButtonGap",!0),Dr.get("itemGap",!0));if(nn){var bn=Dr.get("pageButtonPosition",!0);bn==="end"?hn[Br]+=$r[zr]-rn[zr]:cn[Br]+=rn[zr]+mn}hn[1-Br]+=Jr[Vr]/2-rn[Vr]/2,Wr.setPosition(ln),Kr.setPosition(cn),Zr.setPosition(hn);var An={x:0,y:0};if(An[zr]=nn?$r[zr]:Jr[zr],An[Vr]=Math.max(Jr[Vr],rn[Vr]),An[jr]=Math.min(0,rn[jr]+hn[1-Br]),Kr.__rectSize=$r[zr],nn){var vn={x:0,y:0};vn[zr]=Math.max($r[zr]-rn[zr]-mn,0),vn[Vr]=An[Vr],Kr.setClipPath(new Rect$3({shape:vn})),Kr.__rectSize=vn[zr]}else Zr.eachChild(function(wn){wn.attr({invisible:!0,silent:!0})});var dn=this._getPageInfo(Dr);return dn.pageIndex!=null&&updateProps$1(Wr,{x:dn.contentPosition[0],y:dn.contentPosition[1]},nn?Dr:null),this._updatePageInfoView(Dr,dn),An},Be.prototype._pageGo=function(Dr,Mr,$r){var Br=this._getPageInfo(Mr)[Dr];Br!=null&&$r.dispatchAction({type:"legendScroll",scrollDataIndex:Br,legendId:Mr.id})},Be.prototype._updatePageInfoView=function(Dr,Mr){var $r=this._controllerGroup;each$f(["pagePrev","pageNext"],function(Wr){var Kr=Wr+"DataIndex",Zr=Mr[Kr]!=null,Jr=$r.childOfName(Wr);Jr&&(Jr.setStyle("fill",Zr?Dr.get("pageIconColor",!0):Dr.get("pageIconInactiveColor",!0)),Jr.cursor=Zr?"pointer":"default")});var Br=$r.childOfName("pageText"),zr=Dr.get("pageFormatter"),Vr=Mr.pageIndex,jr=Vr!=null?Vr+1:0,Gr=Mr.pageCount;Br&&zr&&Br.setStyle("text",isString(zr)?zr.replace("{current}",jr==null?"":jr+"").replace("{total}",Gr==null?"":Gr+""):zr({current:jr,total:Gr}))},Be.prototype._getPageInfo=function(Dr){var Mr=Dr.get("scrollDataIndex",!0),$r=this.getContentGroup(),Br=this._containerGroup.__rectSize,zr=Dr.getOrient().index,Vr=WH[zr],jr=XY[zr],Gr=this._findTargetItemIndex(Mr),Wr=$r.children(),Kr=Wr[Gr],Zr=Wr.length,Jr=Zr?1:0,rn={contentPosition:[$r.x,$r.y],pageCount:Jr,pageIndex:Jr-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!Kr)return rn;var nn=bn(Kr);rn.contentPosition[zr]=-nn.s;for(var ln=Gr+1,cn=nn,hn=nn,mn=null;ln<=Zr;++ln)mn=bn(Wr[ln]),(!mn&&hn.e>cn.s+Br||mn&&!An(mn,cn.s))&&(hn.i>cn.i?cn=hn:cn=mn,cn&&(rn.pageNextDataIndex==null&&(rn.pageNextDataIndex=cn.i),++rn.pageCount)),hn=mn;for(var ln=Gr-1,cn=nn,hn=nn,mn=null;ln>=-1;--ln)mn=bn(Wr[ln]),(!mn||!An(hn,mn.s))&&cn.i<hn.i&&(hn=cn,rn.pagePrevDataIndex==null&&(rn.pagePrevDataIndex=cn.i),++rn.pageCount,++rn.pageIndex),cn=mn;return rn;function bn(vn){if(vn){var dn=vn.getBoundingRect(),wn=dn[jr]+vn[jr];return{s:wn,e:wn+dn[Vr],i:vn.__legendDataIndex}}}function An(vn,dn){return vn.e>=dn&&vn.s<=dn+Br}},Be.prototype._findTargetItemIndex=function(Dr){if(!this._showController)return 0;var Mr,$r=this.getContentGroup(),Br;return $r.eachChild(function(zr,Vr){var jr=zr.__legendDataIndex;Br==null&&jr!=null&&(Br=Vr),jr===Dr&&(Mr=Vr)}),Mr??Br},Be.type="legend.scroll",Be}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(_r){_r.registerAction("legendScroll","legendscroll",function(Be,Dr){var Mr=Be.scrollDataIndex;Mr!=null&&Dr.eachComponent({mainType:"legend",subType:"scroll",query:Be},function($r){$r.setScrollDataIndex(Mr)})})}function install$a(_r){use(install$b),_r.registerComponentModel(ScrollableLegendModel$1),_r.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(_r)}function install$9(_r){use(install$b),use(install$a)}var InsideZoomModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="dataZoom.inside",Be.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),Be}(DataZoomModel$1);const InsideZoomModel$1=InsideZoomModel;var inner$1=makeInner();function setViewInfoToCoordSysRecord(_r,Be,Dr){inner$1(_r).coordSysRecordMap.each(function(Mr){var $r=Mr.dataZoomInfoMap.get(Be.uid);$r&&($r.getRange=Dr)})}function disposeCoordSysRecordIfNeeded(_r,Be){for(var Dr=inner$1(_r).coordSysRecordMap,Mr=Dr.keys(),$r=0;$r<Mr.length;$r++){var Br=Mr[$r],zr=Dr.get(Br),Vr=zr.dataZoomInfoMap;if(Vr){var jr=Be.uid,Gr=Vr.get(jr);Gr&&(Vr.removeKey(jr),Vr.keys().length||disposeCoordSysRecord(Dr,zr))}}}function disposeCoordSysRecord(_r,Be){if(Be){_r.removeKey(Be.model.uid);var Dr=Be.controller;Dr&&Dr.dispose()}}function createCoordSysRecord(_r,Be){var Dr={model:Be,containsPoint:curry$1(containsPoint,Be),dispatchAction:curry$1(dispatchAction,_r),dataZoomInfoMap:null,controller:null},Mr=Dr.controller=new RoamController$1(_r.getZr());return each$f(["pan","zoom","scrollMove"],function($r){Mr.on($r,function(Br){var zr=[];Dr.dataZoomInfoMap.each(function(Vr){if(Br.isAvailableBehavior(Vr.model.option)){var jr=(Vr.getRange||{})[$r],Gr=jr&&jr(Vr.dzReferCoordSysInfo,Dr.model.mainType,Dr.controller,Br);!Vr.model.get("disabled",!0)&&Gr&&zr.push({dataZoomId:Vr.model.id,start:Gr[0],end:Gr[1]})}}),zr.length&&Dr.dispatchAction(zr)})}),Dr}function dispatchAction(_r,Be){_r.isDisposed()||_r.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:Be})}function containsPoint(_r,Be,Dr,Mr){return _r.coordinateSystem.containPoint([Dr,Mr])}function mergeControllerParams(_r){var Be,Dr="type_",Mr={type_true:2,type_move:1,type_false:0,type_undefined:-1},$r=!0;return _r.each(function(Br){var zr=Br.model,Vr=zr.get("disabled",!0)?!1:zr.get("zoomLock",!0)?"move":!0;Mr[Dr+Vr]>Mr[Dr+Be]&&(Be=Vr),$r=$r&&zr.get("preventDefaultMouseMove",!0)}),{controlType:Be,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!$r}}}function installDataZoomRoamProcessor(_r){_r.registerProcessor(_r.PRIORITY.PROCESSOR.FILTER,function(Be,Dr){var Mr=inner$1(Dr),$r=Mr.coordSysRecordMap||(Mr.coordSysRecordMap=createHashMap());$r.each(function(Br){Br.dataZoomInfoMap=null}),Be.eachComponent({mainType:"dataZoom",subType:"inside"},function(Br){var zr=collectReferCoordSysModelInfo(Br);each$f(zr.infoList,function(Vr){var jr=Vr.model.uid,Gr=$r.get(jr)||$r.set(jr,createCoordSysRecord(Dr,Vr.model)),Wr=Gr.dataZoomInfoMap||(Gr.dataZoomInfoMap=createHashMap());Wr.set(Br.uid,{dzReferCoordSysInfo:Vr,model:Br,getRange:null})})}),$r.each(function(Br){var zr=Br.controller,Vr,jr=Br.dataZoomInfoMap;if(jr){var Gr=jr.keys()[0];Gr!=null&&(Vr=jr.get(Gr))}if(!Vr){disposeCoordSysRecord($r,Br);return}var Wr=mergeControllerParams(jr);zr.enable(Wr.controlType,Wr.opt),zr.setPointerChecker(Br.containsPoint),createOrUpdate(Br,"dispatchAction",Vr.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type="dataZoom.inside",Dr}return Be.prototype.render=function(Dr,Mr,$r){if(_r.prototype.render.apply(this,arguments),Dr.noTarget()){this._clear();return}this.range=Dr.getPercentRange(),setViewInfoToCoordSysRecord($r,Dr,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},Be.prototype.dispose=function(){this._clear(),_r.prototype.dispose.apply(this,arguments)},Be.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},Be.type="dataZoom.inside",Be}(DataZoomView$1),getRangeHandlers={zoom:function(_r,Be,Dr,Mr){var $r=this.range,Br=$r.slice(),zr=_r.axisModels[0];if(zr){var Vr=getDirectionInfo[Be](null,[Mr.originX,Mr.originY],zr,Dr,_r),jr=(Vr.signal>0?Vr.pixelStart+Vr.pixelLength-Vr.pixel:Vr.pixel-Vr.pixelStart)/Vr.pixelLength*(Br[1]-Br[0])+Br[0],Gr=Math.max(1/Mr.scale,0);Br[0]=(Br[0]-jr)*Gr+jr,Br[1]=(Br[1]-jr)*Gr+jr;var Wr=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,Br,[0,100],0,Wr.minSpan,Wr.maxSpan),this.range=Br,$r[0]!==Br[0]||$r[1]!==Br[1])return Br}},pan:makeMover(function(_r,Be,Dr,Mr,$r,Br){var zr=getDirectionInfo[Mr]([Br.oldX,Br.oldY],[Br.newX,Br.newY],Be,$r,Dr);return zr.signal*(_r[1]-_r[0])*zr.pixel/zr.pixelLength}),scrollMove:makeMover(function(_r,Be,Dr,Mr,$r,Br){var zr=getDirectionInfo[Mr]([0,0],[Br.scrollDelta,Br.scrollDelta],Be,$r,Dr);return zr.signal*(_r[1]-_r[0])*Br.scrollDelta})};function makeMover(_r){return function(Be,Dr,Mr,$r){var Br=this.range,zr=Br.slice(),Vr=Be.axisModels[0];if(Vr){var jr=_r(zr,Vr,Be,Dr,Mr,$r);if(sliderMove(jr,zr,[0,100],"all"),this.range=zr,Br[0]!==zr[0]||Br[1]!==zr[1])return zr}}}var getDirectionInfo={grid:function(_r,Be,Dr,Mr,$r){var Br=Dr.axis,zr={},Vr=$r.model.coordinateSystem.getRect();return _r=_r||[0,0],Br.dim==="x"?(zr.pixel=Be[0]-_r[0],zr.pixelLength=Vr.width,zr.pixelStart=Vr.x,zr.signal=Br.inverse?1:-1):(zr.pixel=Be[1]-_r[1],zr.pixelLength=Vr.height,zr.pixelStart=Vr.y,zr.signal=Br.inverse?-1:1),zr},polar:function(_r,Be,Dr,Mr,$r){var Br=Dr.axis,zr={},Vr=$r.model.coordinateSystem,jr=Vr.getRadiusAxis().getExtent(),Gr=Vr.getAngleAxis().getExtent();return _r=_r?Vr.pointToCoord(_r):[0,0],Be=Vr.pointToCoord(Be),Dr.mainType==="radiusAxis"?(zr.pixel=Be[0]-_r[0],zr.pixelLength=jr[1]-jr[0],zr.pixelStart=jr[0],zr.signal=Br.inverse?1:-1):(zr.pixel=Be[1]-_r[1],zr.pixelLength=Gr[1]-Gr[0],zr.pixelStart=Gr[0],zr.signal=Br.inverse?-1:1),zr},singleAxis:function(_r,Be,Dr,Mr,$r){var Br=Dr.axis,zr=$r.model.coordinateSystem.getRect(),Vr={};return _r=_r||[0,0],Br.orient==="horizontal"?(Vr.pixel=Be[0]-_r[0],Vr.pixelLength=zr.width,Vr.pixelStart=zr.x,Vr.signal=Br.inverse?1:-1):(Vr.pixel=Be[1]-_r[1],Vr.pixelLength=zr.height,Vr.pixelStart=zr.y,Vr.signal=Br.inverse?-1:1),Vr}};const InsideZoomView$1=InsideZoomView;function install$8(_r){installCommon$1(_r),_r.registerComponentModel(InsideZoomModel$1),_r.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor(_r)}var SliderZoomModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.type="dataZoom.slider",Be.layoutMode="box",Be.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),Be}(DataZoomModel$1);const SliderZoomModel$1=SliderZoomModel;var Rect=Rect$3,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr._displayables={},Dr}return Be.prototype.init=function(Dr,Mr){this.api=Mr,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},Be.prototype.render=function(Dr,Mr,$r,Br){if(_r.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",Dr.get("throttle"),"fixRate"),this._orient=Dr.getOrient(),Dr.get("show")===!1){this.group.removeAll();return}if(Dr.noTarget()){this._clear(),this.group.removeAll();return}(!Br||Br.type!=="dataZoom"||Br.from!==this.uid)&&this._buildView(),this._updateView()},Be.prototype.dispose=function(){this._clear(),_r.prototype.dispose.apply(this,arguments)},Be.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var Dr=this.api.getZr();Dr.off("mousemove",this._onBrush),Dr.off("mouseup",this._onBrushEnd)},Be.prototype._buildView=function(){var Dr=this.group;Dr.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var Mr=this._displayables.sliderGroup=new Group$4;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),Dr.add(Mr),this._positionGroup()},Be.prototype._resetLocation=function(){var Dr=this.dataZoomModel,Mr=this.api,$r=Dr.get("brushSelect"),Br=$r?DEFAULT_MOVE_HANDLE_SIZE:0,zr=this._findCoordRect(),Vr={width:Mr.getWidth(),height:Mr.getHeight()},jr=this._orient===HORIZONTAL?{right:Vr.width-zr.x-zr.width,top:Vr.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-Br,width:zr.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:zr.y,width:DEFAULT_FILLER_SIZE,height:zr.height},Gr=getLayoutParams(Dr.option);each$f(["right","top","width","height"],function(Kr){Gr[Kr]==="ph"&&(Gr[Kr]=jr[Kr])});var Wr=getLayoutRect(Gr,Vr);this._location={x:Wr.x,y:Wr.y},this._size=[Wr.width,Wr.height],this._orient===VERTICAL&&this._size.reverse()},Be.prototype._positionGroup=function(){var Dr=this.group,Mr=this._location,$r=this._orient,Br=this.dataZoomModel.getFirstTargetAxisModel(),zr=Br&&Br.get("inverse"),Vr=this._displayables.sliderGroup,jr=(this._dataShadowInfo||{}).otherAxisInverse;Vr.attr($r===HORIZONTAL&&!zr?{scaleY:jr?1:-1,scaleX:1}:$r===HORIZONTAL&&zr?{scaleY:jr?1:-1,scaleX:-1}:$r===VERTICAL&&!zr?{scaleY:jr?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:jr?-1:1,scaleX:-1,rotation:Math.PI/2});var Gr=Dr.getBoundingRect([Vr]);Dr.x=Mr.x-Gr.x,Dr.y=Mr.y-Gr.y,Dr.markRedraw()},Be.prototype._getViewExtent=function(){return[0,this._size[0]]},Be.prototype._renderBackground=function(){var Dr=this.dataZoomModel,Mr=this._size,$r=this._displayables.sliderGroup,Br=Dr.get("brushSelect");$r.add(new Rect({silent:!0,shape:{x:0,y:0,width:Mr[0],height:Mr[1]},style:{fill:Dr.get("backgroundColor")},z2:-40}));var zr=new Rect({shape:{x:0,y:0,width:Mr[0],height:Mr[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),Vr=this.api.getZr();Br?(zr.on("mousedown",this._onBrushStart,this),zr.cursor="crosshair",Vr.on("mousemove",this._onBrush),Vr.on("mouseup",this._onBrushEnd)):(Vr.off("mousemove",this._onBrush),Vr.off("mouseup",this._onBrushEnd)),$r.add(zr)},Be.prototype._renderDataShadow=function(){var Dr=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!Dr)return;var Mr=this._size,$r=this._shadowSize||[],Br=Dr.series,zr=Br.getRawData(),Vr=Br.getShadowDim&&Br.getShadowDim(),jr=Vr&&zr.getDimensionInfo(Vr)?Br.getShadowDim():Dr.otherDim;if(jr==null)return;var Gr=this._shadowPolygonPts,Wr=this._shadowPolylinePts;if(zr!==this._shadowData||jr!==this._shadowDim||Mr[0]!==$r[0]||Mr[1]!==$r[1]){var Kr=zr.getDataExtent(jr),Zr=(Kr[1]-Kr[0])*.3;Kr=[Kr[0]-Zr,Kr[1]+Zr];var Jr=[0,Mr[1]],rn=[0,Mr[0]],nn=[[Mr[0],0],[0,0]],ln=[],cn=rn[1]/(zr.count()-1),hn=0,mn=Math.round(zr.count()/Mr[0]),bn;zr.each([jr],function(xn,Mn){if(mn>0&&Mn%mn){hn+=cn;return}var In=xn==null||isNaN(xn)||xn==="",Hn=In?0:linearMap$2(xn,Kr,Jr,!0);In&&!bn&&Mn?(nn.push([nn[nn.length-1][0],0]),ln.push([ln[ln.length-1][0],0])):!In&&bn&&(nn.push([hn,0]),ln.push([hn,0])),nn.push([hn,Hn]),ln.push([hn,Hn]),hn+=cn,bn=In}),Gr=this._shadowPolygonPts=nn,Wr=this._shadowPolylinePts=ln}this._shadowData=zr,this._shadowDim=jr,this._shadowSize=[Mr[0],Mr[1]];var An=this.dataZoomModel;function vn(xn){var Mn=An.getModel(xn?"selectedDataBackground":"dataBackground"),In=new Group$4,Hn=new Polygon$1({shape:{points:Gr},segmentIgnoreThreshold:1,style:Mn.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),$n=new Polyline$3({shape:{points:Wr},segmentIgnoreThreshold:1,style:Mn.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return In.add(Hn),In.add($n),In}for(var dn=0;dn<3;dn++){var wn=vn(dn===1);this._displayables.sliderGroup.add(wn),this._displayables.dataShadowSegs.push(wn)}},Be.prototype._prepareDataShadowInfo=function(){var Dr=this.dataZoomModel,Mr=Dr.get("showDataShadow");if(Mr!==!1){var $r,Br=this.ecModel;return Dr.eachTargetAxis(function(zr,Vr){var jr=Dr.getAxisProxy(zr,Vr).getTargetSeriesModels();each$f(jr,function(Gr){if(!$r&&!(Mr!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,Gr.get("type"))<0)){var Wr=Br.getComponent(getAxisMainType(zr),Vr).axis,Kr=getOtherDim(zr),Zr,Jr=Gr.coordinateSystem;Kr!=null&&Jr.getOtherAxis&&(Zr=Jr.getOtherAxis(Wr).inverse),Kr=Gr.getData().mapDimension(Kr),$r={thisAxis:Wr,series:Gr,thisDim:zr,otherDim:Kr,otherAxisInverse:Zr}}},this)},this),$r}},Be.prototype._renderHandle=function(){var Dr=this.group,Mr=this._displayables,$r=Mr.handles=[null,null],Br=Mr.handleLabels=[null,null],zr=this._displayables.sliderGroup,Vr=this._size,jr=this.dataZoomModel,Gr=this.api,Wr=jr.get("borderRadius")||0,Kr=jr.get("brushSelect"),Zr=Mr.filler=new Rect({silent:Kr,style:{fill:jr.get("fillerColor")},textConfig:{position:"inside"}});zr.add(Zr),zr.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:Vr[0],height:Vr[1],r:Wr},style:{stroke:jr.get("dataBackgroundColor")||jr.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(mn){var bn=jr.get("handleIcon");!symbolBuildProxies[bn]&&bn.indexOf("path://")<0&&bn.indexOf("image://")<0&&(bn="path://"+bn);var An=createSymbol$1(bn,-1,0,2,2,null,!0);An.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,mn),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var vn=An.getBoundingRect(),dn=jr.get("handleSize");this._handleHeight=parsePercent(dn,this._size[1]),this._handleWidth=vn.width/vn.height*this._handleHeight,An.setStyle(jr.getModel("handleStyle").getItemStyle()),An.style.strokeNoScale=!0,An.rectHover=!0,An.ensureState("emphasis").style=jr.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(An);var wn=jr.get("handleColor");wn!=null&&(An.style.fill=wn),zr.add($r[mn]=An);var xn=jr.getModel("textStyle");Dr.add(Br[mn]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle$1(xn,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:xn.getTextColor(),font:xn.getFont()}),z2:10}))},this);var Jr=Zr;if(Kr){var rn=parsePercent(jr.get("moveHandleSize"),Vr[1]),nn=Mr.moveHandle=new Rect$3({style:jr.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:Vr[1]-.5,height:rn}}),ln=rn*.8,cn=Mr.moveHandleIcon=createSymbol$1(jr.get("moveHandleIcon"),-ln/2,-ln/2,ln,ln,"#fff",!0);cn.silent=!0,cn.y=Vr[1]+rn/2-.5,nn.ensureState("emphasis").style=jr.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var hn=Math.min(Vr[1]/2,Math.max(rn,10));Jr=Mr.moveZone=new Rect$3({invisible:!0,shape:{y:Vr[1]-hn,height:rn+hn}}),Jr.on("mouseover",function(){Gr.enterEmphasis(nn)}).on("mouseout",function(){Gr.leaveEmphasis(nn)}),zr.add(nn),zr.add(cn),zr.add(Jr)}Jr.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},Be.prototype._resetInterval=function(){var Dr=this._range=this.dataZoomModel.getPercentRange(),Mr=this._getViewExtent();this._handleEnds=[linearMap$2(Dr[0],[0,100],Mr,!0),linearMap$2(Dr[1],[0,100],Mr,!0)]},Be.prototype._updateInterval=function(Dr,Mr){var $r=this.dataZoomModel,Br=this._handleEnds,zr=this._getViewExtent(),Vr=$r.findRepresentativeAxisProxy().getMinMaxSpan(),jr=[0,100];sliderMove(Mr,Br,zr,$r.get("zoomLock")?"all":Dr,Vr.minSpan!=null?linearMap$2(Vr.minSpan,jr,zr,!0):null,Vr.maxSpan!=null?linearMap$2(Vr.maxSpan,jr,zr,!0):null);var Gr=this._range,Wr=this._range=asc$2([linearMap$2(Br[0],zr,jr,!0),linearMap$2(Br[1],zr,jr,!0)]);return!Gr||Gr[0]!==Wr[0]||Gr[1]!==Wr[1]},Be.prototype._updateView=function(Dr){var Mr=this._displayables,$r=this._handleEnds,Br=asc$2($r.slice()),zr=this._size;each$f([0,1],function(Jr){var rn=Mr.handles[Jr],nn=this._handleHeight;rn.attr({scaleX:nn/2,scaleY:nn/2,x:$r[Jr]+(Jr?-1:1),y:zr[1]/2-nn/2})},this),Mr.filler.setShape({x:Br[0],y:0,width:Br[1]-Br[0],height:zr[1]});var Vr={x:Br[0],width:Br[1]-Br[0]};Mr.moveHandle&&(Mr.moveHandle.setShape(Vr),Mr.moveZone.setShape(Vr),Mr.moveZone.getBoundingRect(),Mr.moveHandleIcon&&Mr.moveHandleIcon.attr("x",Vr.x+Vr.width/2));for(var jr=Mr.dataShadowSegs,Gr=[0,Br[0],Br[1],zr[0]],Wr=0;Wr<jr.length;Wr++){var Kr=jr[Wr],Zr=Kr.getClipPath();Zr||(Zr=new Rect$3,Kr.setClipPath(Zr)),Zr.setShape({x:Gr[Wr],y:0,width:Gr[Wr+1]-Gr[Wr],height:zr[1]})}this._updateDataInfo(Dr)},Be.prototype._updateDataInfo=function(Dr){var Mr=this.dataZoomModel,$r=this._displayables,Br=$r.handleLabels,zr=this._orient,Vr=["",""];if(Mr.get("showDetail")){var jr=Mr.findRepresentativeAxisProxy();if(jr){var Gr=jr.getAxisModel().axis,Wr=this._range,Kr=Dr?jr.calculateDataWindow({start:Wr[0],end:Wr[1]}).valueWindow:jr.getDataValueWindow();Vr=[this._formatLabel(Kr[0],Gr),this._formatLabel(Kr[1],Gr)]}}var Zr=asc$2(this._handleEnds.slice());Jr.call(this,0),Jr.call(this,1);function Jr(rn){var nn=getTransform$1($r.handles[rn].parent,this.group),ln=transformDirection(rn===0?"right":"left",nn),cn=this._handleWidth/2+LABEL_GAP,hn=applyTransform([Zr[rn]+(rn===0?-cn:cn),this._size[1]/2],nn);Br[rn].setStyle({x:hn[0],y:hn[1],verticalAlign:zr===HORIZONTAL?"middle":ln,align:zr===HORIZONTAL?ln:"center",text:Vr[rn]})}},Be.prototype._formatLabel=function(Dr,Mr){var $r=this.dataZoomModel,Br=$r.get("labelFormatter"),zr=$r.get("labelPrecision");(zr==null||zr==="auto")&&(zr=Mr.getPixelPrecision());var Vr=Dr==null||isNaN(Dr)?"":Mr.type==="category"||Mr.type==="time"?Mr.scale.getLabel({value:Math.round(Dr)}):Dr.toFixed(Math.min(zr,20));return isFunction(Br)?Br(Dr,Vr):isString(Br)?Br.replace("{value}",Vr):Vr},Be.prototype._showDataInfo=function(Dr){Dr=this._dragging||Dr;var Mr=this._displayables,$r=Mr.handleLabels;$r[0].attr("invisible",!Dr),$r[1].attr("invisible",!Dr),Mr.moveHandle&&this.api[Dr?"enterEmphasis":"leaveEmphasis"](Mr.moveHandle,1)},Be.prototype._onDragMove=function(Dr,Mr,$r,Br){this._dragging=!0,stop(Br.event);var zr=this._displayables.sliderGroup.getLocalTransform(),Vr=applyTransform([Mr,$r],zr,!0),jr=this._updateInterval(Dr,Vr[0]),Gr=this.dataZoomModel.get("realtime");this._updateView(!Gr),jr&&Gr&&this._dispatchZoomAction(!0)},Be.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var Dr=this.dataZoomModel.get("realtime");!Dr&&this._dispatchZoomAction(!1)},Be.prototype._onClickPanel=function(Dr){var Mr=this._size,$r=this._displayables.sliderGroup.transformCoordToLocal(Dr.offsetX,Dr.offsetY);if(!($r[0]<0||$r[0]>Mr[0]||$r[1]<0||$r[1]>Mr[1])){var Br=this._handleEnds,zr=(Br[0]+Br[1])/2,Vr=this._updateInterval("all",$r[0]-zr);this._updateView(),Vr&&this._dispatchZoomAction(!1)}},Be.prototype._onBrushStart=function(Dr){var Mr=Dr.offsetX,$r=Dr.offsetY;this._brushStart=new Point$1(Mr,$r),this._brushing=!0,this._brushStartTime=+new Date},Be.prototype._onBrushEnd=function(Dr){if(this._brushing){var Mr=this._displayables.brushRect;if(this._brushing=!1,!!Mr){Mr.attr("ignore",!0);var $r=Mr.shape,Br=+new Date;if(!(Br-this._brushStartTime<200&&Math.abs($r.width)<5)){var zr=this._getViewExtent(),Vr=[0,100];this._range=asc$2([linearMap$2($r.x,zr,Vr,!0),linearMap$2($r.x+$r.width,zr,Vr,!0)]),this._handleEnds=[$r.x,$r.x+$r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},Be.prototype._onBrush=function(Dr){this._brushing&&(stop(Dr.event),this._updateBrushRect(Dr.offsetX,Dr.offsetY))},Be.prototype._updateBrushRect=function(Dr,Mr){var $r=this._displayables,Br=this.dataZoomModel,zr=$r.brushRect;zr||(zr=$r.brushRect=new Rect({silent:!0,style:Br.getModel("brushStyle").getItemStyle()}),$r.sliderGroup.add(zr)),zr.attr("ignore",!1);var Vr=this._brushStart,jr=this._displayables.sliderGroup,Gr=jr.transformCoordToLocal(Dr,Mr),Wr=jr.transformCoordToLocal(Vr.x,Vr.y),Kr=this._size;Gr[0]=Math.max(Math.min(Kr[0],Gr[0]),0),zr.setShape({x:Wr[0],y:0,width:Gr[0]-Wr[0],height:Kr[1]})},Be.prototype._dispatchZoomAction=function(Dr){var Mr=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:Dr?REALTIME_ANIMATION_CONFIG:null,start:Mr[0],end:Mr[1]})},Be.prototype._findCoordRect=function(){var Dr,Mr=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!Dr&&Mr.length){var $r=Mr[0].model.coordinateSystem;Dr=$r.getRect&&$r.getRect()}if(!Dr){var Br=this.api.getWidth(),zr=this.api.getHeight();Dr={x:Br*.2,y:zr*.2,width:Br*.6,height:zr*.6}}return Dr},Be.type="dataZoom.slider",Be}(DataZoomView$1);function getOtherDim(_r){var Be={x:"y",y:"x",radius:"angle",angle:"radius"};return Be[_r]}function getCursor$1(_r){return _r==="vertical"?"ns-resize":"ew-resize"}const SliderZoomView$1=SliderZoomView;function install$7(_r){_r.registerComponentModel(SliderZoomModel$1),_r.registerComponentView(SliderZoomView$1),installCommon$1(_r)}function install$6(_r){use(install$8),use(install$7)}var visualDefault={get:function(_r,Be,Dr){var Mr=clone$4((defaultOption[_r]||{})[Be]);return Dr&&isArray$1(Mr)?Mr[Mr.length-1]:Mr}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const visualDefault$1=visualDefault;var mapVisual=VisualMapping$1.mapVisual,eachVisual=VisualMapping$1.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.stateList=["inRange","outOfRange"],Dr.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],Dr.layoutMode={type:"box",ignoreSize:!0},Dr.dataBound=[-1/0,1/0],Dr.targetVisuals={},Dr.controllerVisuals={},Dr}return Be.prototype.init=function(Dr,Mr,$r){this.mergeDefaultAndTheme(Dr,$r)},Be.prototype.optionUpdated=function(Dr,Mr){var $r=this.option;!Mr&&replaceVisualOption($r,Dr,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},Be.prototype.resetVisual=function(Dr){var Mr=this.stateList;Dr=bind$1(Dr,this),this.controllerVisuals=createVisualMappings(this.option.controller,Mr,Dr),this.targetVisuals=createVisualMappings(this.option.target,Mr,Dr)},Be.prototype.getItemSymbol=function(){return null},Be.prototype.getTargetSeriesIndices=function(){var Dr=this.option.seriesIndex,Mr=[];return Dr==null||Dr==="all"?this.ecModel.eachSeries(function($r,Br){Mr.push(Br)}):Mr=normalizeToArray(Dr),Mr},Be.prototype.eachTargetSeries=function(Dr,Mr){each$f(this.getTargetSeriesIndices(),function($r){var Br=this.ecModel.getSeriesByIndex($r);Br&&Dr.call(Mr,Br)},this)},Be.prototype.isTargetSeries=function(Dr){var Mr=!1;return this.eachTargetSeries(function($r){$r===Dr&&(Mr=!0)}),Mr},Be.prototype.formatValueText=function(Dr,Mr,$r){var Br=this.option,zr=Br.precision,Vr=this.dataBound,jr=Br.formatter,Gr;$r=$r||["<",">"],isArray$1(Dr)&&(Dr=Dr.slice(),Gr=!0);var Wr=Mr?Dr:Gr?[Kr(Dr[0]),Kr(Dr[1])]:Kr(Dr);if(isString(jr))return jr.replace("{value}",Gr?Wr[0]:Wr).replace("{value2}",Gr?Wr[1]:Wr);if(isFunction(jr))return Gr?jr(Dr[0],Dr[1]):jr(Dr);if(Gr)return Dr[0]===Vr[0]?$r[0]+" "+Wr[1]:Dr[1]===Vr[1]?$r[1]+" "+Wr[0]:Wr[0]+" - "+Wr[1];return Wr;function Kr(Zr){return Zr===Vr[0]?"min":Zr===Vr[1]?"max":(+Zr).toFixed(Math.min(zr,20))}},Be.prototype.resetExtent=function(){var Dr=this.option,Mr=asc([Dr.min,Dr.max]);this._dataExtent=Mr},Be.prototype.getDataDimensionIndex=function(Dr){var Mr=this.option.dimension;if(Mr!=null)return Dr.getDimensionIndex(Mr);for(var $r=Dr.dimensions,Br=$r.length-1;Br>=0;Br--){var zr=$r[Br],Vr=Dr.getDimensionInfo(zr);if(!Vr.isCalculationCoord)return Vr.storeDimIndex}},Be.prototype.getExtent=function(){return this._dataExtent.slice()},Be.prototype.completeVisualOption=function(){var Dr=this.ecModel,Mr=this.option,$r={inRange:Mr.inRange,outOfRange:Mr.outOfRange},Br=Mr.target||(Mr.target={}),zr=Mr.controller||(Mr.controller={});merge(Br,$r),merge(zr,$r);var Vr=this.isCategory();jr.call(this,Br),jr.call(this,zr),Gr.call(this,Br,"inRange","outOfRange"),Wr.call(this,zr);function jr(Kr){isArray(Mr.color)&&!Kr.inRange&&(Kr.inRange={color:Mr.color.slice().reverse()}),Kr.inRange=Kr.inRange||{color:Dr.get("gradientColor")}}function Gr(Kr,Zr,Jr){var rn=Kr[Zr],nn=Kr[Jr];rn&&!nn&&(nn=Kr[Jr]={},each$2(rn,function(ln,cn){if(VisualMapping$1.isValidType(cn)){var hn=visualDefault$1.get(cn,"inactive",Vr);hn!=null&&(nn[cn]=hn,cn==="color"&&!nn.hasOwnProperty("opacity")&&!nn.hasOwnProperty("colorAlpha")&&(nn.opacity=[0,0]))}}))}function Wr(Kr){var Zr=(Kr.inRange||{}).symbol||(Kr.outOfRange||{}).symbol,Jr=(Kr.inRange||{}).symbolSize||(Kr.outOfRange||{}).symbolSize,rn=this.get("inactiveColor"),nn=this.getItemSymbol(),ln=nn||"roundRect";each$2(this.stateList,function(cn){var hn=this.itemSize,mn=Kr[cn];mn||(mn=Kr[cn]={color:Vr?rn:[rn]}),mn.symbol==null&&(mn.symbol=Zr&&clone$4(Zr)||(Vr?ln:[ln])),mn.symbolSize==null&&(mn.symbolSize=Jr&&clone$4(Jr)||(Vr?hn[0]:[hn[0],hn[0]])),mn.symbol=mapVisual(mn.symbol,function(vn){return vn==="none"?ln:vn});var bn=mn.symbolSize;if(bn!=null){var An=-1/0;eachVisual(bn,function(vn){vn>An&&(An=vn)}),mn.symbolSize=mapVisual(bn,function(vn){return linearMap$1(vn,[0,An],[0,hn[0]],!0)})}},this)}},Be.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},Be.prototype.isCategory=function(){return!!this.option.categories},Be.prototype.setSelected=function(Dr){},Be.prototype.getSelected=function(){return null},Be.prototype.getValueState=function(Dr){return null},Be.prototype.getVisualMeta=function(Dr){return null},Be.type="visualMap",Be.dependencies=["series"],Be.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},Be}(ComponentModel$1);const VisualMapModel$1=VisualMapModel;var DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.optionUpdated=function(Dr,Mr){_r.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function($r){$r.mappingMethod="linear",$r.dataExtent=this.getExtent()}),this._resetRange()},Be.prototype.resetItemSize=function(){_r.prototype.resetItemSize.apply(this,arguments);var Dr=this.itemSize;(Dr[0]==null||isNaN(Dr[0]))&&(Dr[0]=DEFAULT_BAR_BOUND[0]),(Dr[1]==null||isNaN(Dr[1]))&&(Dr[1]=DEFAULT_BAR_BOUND[1])},Be.prototype._resetRange=function(){var Dr=this.getExtent(),Mr=this.option.range;!Mr||Mr.auto?(Dr.auto=1,this.option.range=Dr):isArray$1(Mr)&&(Mr[0]>Mr[1]&&Mr.reverse(),Mr[0]=Math.max(Mr[0],Dr[0]),Mr[1]=Math.min(Mr[1],Dr[1]))},Be.prototype.completeVisualOption=function(){_r.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(Dr){var Mr=this.option.controller[Dr].symbolSize;Mr&&Mr[0]!==Mr[1]&&(Mr[0]=Mr[1]/3)},this)},Be.prototype.setSelected=function(Dr){this.option.range=Dr.slice(),this._resetRange()},Be.prototype.getSelected=function(){var Dr=this.getExtent(),Mr=asc$2((this.get("range")||[]).slice());return Mr[0]>Dr[1]&&(Mr[0]=Dr[1]),Mr[1]>Dr[1]&&(Mr[1]=Dr[1]),Mr[0]<Dr[0]&&(Mr[0]=Dr[0]),Mr[1]<Dr[0]&&(Mr[1]=Dr[0]),Mr},Be.prototype.getValueState=function(Dr){var Mr=this.option.range,$r=this.getExtent();return(Mr[0]<=$r[0]||Mr[0]<=Dr)&&(Mr[1]>=$r[1]||Dr<=Mr[1])?"inRange":"outOfRange"},Be.prototype.findTargetDataIndices=function(Dr){var Mr=[];return this.eachTargetSeries(function($r){var Br=[],zr=$r.getData();zr.each(this.getDataDimensionIndex(zr),function(Vr,jr){Dr[0]<=Vr&&Vr<=Dr[1]&&Br.push(jr)},this),Mr.push({seriesId:$r.id,dataIndex:Br})},this),Mr},Be.prototype.getVisualMeta=function(Dr){var Mr=getColorStopValues(this,"outOfRange",this.getExtent()),$r=getColorStopValues(this,"inRange",this.option.range.slice()),Br=[];function zr(Jr,rn){Br.push({value:Jr,color:Dr(Jr,rn)})}for(var Vr=0,jr=0,Gr=$r.length,Wr=Mr.length;jr<Wr&&(!$r.length||Mr[jr]<=$r[0]);jr++)Mr[jr]<$r[Vr]&&zr(Mr[jr],"outOfRange");for(var Kr=1;Vr<Gr;Vr++,Kr=0)Kr&&Br.length&&zr($r[Vr],"outOfRange"),zr($r[Vr],"inRange");for(var Kr=1;jr<Wr;jr++)(!$r.length||$r[$r.length-1]<Mr[jr])&&(Kr&&(Br.length&&zr(Br[Br.length-1].value,"outOfRange"),Kr=0),zr(Mr[jr],"outOfRange"));var Zr=Br.length;return{stops:Br,outerColors:[Zr?Br[0].color:"transparent",Zr?Br[Zr-1].color:"transparent"]}},Be.type="visualMap.continuous",Be.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),Be}(VisualMapModel$1);function getColorStopValues(_r,Be,Dr){if(Dr[0]===Dr[1])return Dr.slice();for(var Mr=200,$r=(Dr[1]-Dr[0])/Mr,Br=Dr[0],zr=[],Vr=0;Vr<=Mr&&Br<Dr[1];Vr++)zr.push(Br),Br+=$r;return zr.push(Dr[1]),zr}const ContinuousModel$1=ContinuousModel;var VisualMapView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr.autoPositionValues={left:1,right:1,top:1,bottom:1},Dr}return Be.prototype.init=function(Dr,Mr){this.ecModel=Dr,this.api=Mr},Be.prototype.render=function(Dr,Mr,$r,Br){if(this.visualMapModel=Dr,Dr.get("show")===!1){this.group.removeAll();return}this.doRender(Dr,Mr,$r,Br)},Be.prototype.renderBackground=function(Dr){var Mr=this.visualMapModel,$r=normalizeCssArray(Mr.get("padding")||0),Br=Dr.getBoundingRect();Dr.add(new Rect$3({z2:-1,silent:!0,shape:{x:Br.x-$r[3],y:Br.y-$r[0],width:Br.width+$r[3]+$r[1],height:Br.height+$r[0]+$r[2]},style:{fill:Mr.get("backgroundColor"),stroke:Mr.get("borderColor"),lineWidth:Mr.get("borderWidth")}}))},Be.prototype.getControllerVisual=function(Dr,Mr,$r){$r=$r||{};var Br=$r.forceState,zr=this.visualMapModel,Vr={};if(Mr==="color"){var jr=zr.get("contentColor");Vr.color=jr}function Gr(Jr){return Vr[Jr]}function Wr(Jr,rn){Vr[Jr]=rn}var Kr=zr.controllerVisuals[Br||zr.getValueState(Dr)],Zr=VisualMapping$1.prepareVisualTypes(Kr);return each$f(Zr,function(Jr){var rn=Kr[Jr];$r.convertOpacityToAlpha&&Jr==="opacity"&&(Jr="colorAlpha",rn=Kr.__alphaForOpacity),VisualMapping$1.dependsOn(Jr,Mr)&&rn&&rn.applyVisual(Dr,Gr,Wr)}),Vr[Mr]},Be.prototype.positionGroup=function(Dr){var Mr=this.visualMapModel,$r=this.api;positionElement(Dr,Mr.getBoxLayoutParams(),{width:$r.getWidth(),height:$r.getHeight()})},Be.prototype.doRender=function(Dr,Mr,$r,Br){},Be.type="visualMap",Be}(ComponentView$1);const VisualMapView$1=VisualMapView;var paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(_r,Be,Dr){var Mr=_r.option,$r=Mr.align;if($r!=null&&$r!=="auto")return $r;for(var Br={width:Be.getWidth(),height:Be.getHeight()},zr=Mr.orient==="horizontal"?1:0,Vr=paramsSet[zr],jr=[0,null,10],Gr={},Wr=0;Wr<3;Wr++)Gr[paramsSet[1-zr][Wr]]=jr[Wr],Gr[Vr[Wr]]=Wr===2?Dr[0]:Mr[Vr[Wr]];var Kr=[["x","width",3],["y","height",0]][zr],Zr=getLayoutRect(Gr,Br,Mr.padding);return Vr[(Zr.margin[Kr[2]]||0)+Zr[Kr[0]]+Zr[Kr[1]]*.5<Br[Kr[1]]*.5?0:1]}function makeHighDownBatch(_r,Be){return each$f(_r||[],function(Dr){Dr.dataIndex!=null&&(Dr.dataIndexInside=Dr.dataIndex,Dr.dataIndex=null),Dr.highlightKey="visualMap"+(Be?Be.componentIndex:"")}),_r}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr._shapes={},Dr._dataInterval=[],Dr._handleEnds=[],Dr._hoverLinkDataIndices=[],Dr}return Be.prototype.doRender=function(Dr,Mr,$r,Br){this._api=$r,(!Br||Br.type!=="selectDataRange"||Br.from!==this.uid)&&this._buildView()},Be.prototype._buildView=function(){this.group.removeAll();var Dr=this.visualMapModel,Mr=this.group;this._orient=Dr.get("orient"),this._useHandle=Dr.get("calculable"),this._resetInterval(),this._renderBar(Mr);var $r=Dr.get("text");this._renderEndsText(Mr,$r,0),this._renderEndsText(Mr,$r,1),this._updateView(!0),this.renderBackground(Mr),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(Mr)},Be.prototype._renderEndsText=function(Dr,Mr,$r){if(Mr){var Br=Mr[1-$r];Br=Br!=null?Br+"":"";var zr=this.visualMapModel,Vr=zr.get("textGap"),jr=zr.itemSize,Gr=this._shapes.mainGroup,Wr=this._applyTransform([jr[0]/2,$r===0?-Vr:jr[1]+Vr],Gr),Kr=this._applyTransform($r===0?"bottom":"top",Gr),Zr=this._orient,Jr=this.visualMapModel.textStyleModel;this.group.add(new ZRText$1({style:createTextStyle$1(Jr,{x:Wr[0],y:Wr[1],verticalAlign:Zr==="horizontal"?"middle":Kr,align:Zr==="horizontal"?Kr:"center",text:Br})}))}},Be.prototype._renderBar=function(Dr){var Mr=this.visualMapModel,$r=this._shapes,Br=Mr.itemSize,zr=this._orient,Vr=this._useHandle,jr=getItemAlign(Mr,this.api,Br),Gr=$r.mainGroup=this._createBarGroup(jr),Wr=new Group$4;Gr.add(Wr),Wr.add($r.outOfRange=createPolygon()),Wr.add($r.inRange=createPolygon(null,Vr?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),Wr.setClipPath(new Rect$3({shape:{x:0,y:0,width:Br[0],height:Br[1],r:3}}));var Kr=Mr.textStyleModel.getTextRect("å½"),Zr=mathMax(Kr.width,Kr.height);Vr&&($r.handleThumbs=[],$r.handleLabels=[],$r.handleLabelPoints=[],this._createHandle(Mr,Gr,0,Br,Zr,zr),this._createHandle(Mr,Gr,1,Br,Zr,zr)),this._createIndicator(Mr,Gr,Br,Zr,zr),Dr.add(Gr)},Be.prototype._createHandle=function(Dr,Mr,$r,Br,zr,Vr){var jr=bind$1(this._dragHandle,this,$r,!1),Gr=bind$1(this._dragHandle,this,$r,!0),Wr=parsePercent$1(Dr.get("handleSize"),Br[0]),Kr=createSymbol$1(Dr.get("handleIcon"),-Wr/2,-Wr/2,Wr,Wr,null,!0),Zr=getCursor(this._orient);Kr.attr({cursor:Zr,draggable:!0,drift:jr,ondragend:Gr,onmousemove:function(cn){stop(cn.event)}}),Kr.x=Br[0]/2,Kr.useStyle(Dr.getModel("handleStyle").getItemStyle()),Kr.setStyle({strokeNoScale:!0,strokeFirst:!0}),Kr.style.lineWidth*=2,Kr.ensureState("emphasis").style=Dr.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(Kr,!0),Mr.add(Kr);var Jr=this.visualMapModel.textStyleModel,rn=new ZRText$1({cursor:Zr,draggable:!0,drift:jr,onmousemove:function(cn){stop(cn.event)},ondragend:Gr,style:createTextStyle$1(Jr,{x:0,y:0,text:""})});rn.ensureState("blur").style={opacity:.1},rn.stateTransition={duration:200},this.group.add(rn);var nn=[Wr,0],ln=this._shapes;ln.handleThumbs[$r]=Kr,ln.handleLabelPoints[$r]=nn,ln.handleLabels[$r]=rn},Be.prototype._createIndicator=function(Dr,Mr,$r,Br,zr){var Vr=parsePercent$1(Dr.get("indicatorSize"),$r[0]),jr=createSymbol$1(Dr.get("indicatorIcon"),-Vr/2,-Vr/2,Vr,Vr,null,!0);jr.attr({cursor:"move",invisible:!0,silent:!0,x:$r[0]/2});var Gr=Dr.getModel("indicatorStyle").getItemStyle();if(jr instanceof ZRImage$1){var Wr=jr.style;jr.useStyle(extend$1({image:Wr.image,x:Wr.x,y:Wr.y,width:Wr.width,height:Wr.height},Gr))}else jr.useStyle(Gr);Mr.add(jr);var Kr=this.visualMapModel.textStyleModel,Zr=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle$1(Kr,{x:0,y:0,text:""})});this.group.add(Zr);var Jr=[(zr==="horizontal"?Br/2:HOVER_LINK_OUT)+$r[0]/2,0],rn=this._shapes;rn.indicator=jr,rn.indicatorLabel=Zr,rn.indicatorLabelPoint=Jr,this._firstShowIndicator=!0},Be.prototype._dragHandle=function(Dr,Mr,$r,Br){if(this._useHandle){if(this._dragging=!Mr,!Mr){var zr=this._applyTransform([$r,Br],this._shapes.mainGroup,!0);this._updateInterval(Dr,zr[1]),this._hideIndicator(),this._updateView()}Mr===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),Mr?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[Dr],!1)}},Be.prototype._resetInterval=function(){var Dr=this.visualMapModel,Mr=this._dataInterval=Dr.getSelected(),$r=Dr.getExtent(),Br=[0,Dr.itemSize[1]];this._handleEnds=[linearMap(Mr[0],$r,Br,!0),linearMap(Mr[1],$r,Br,!0)]},Be.prototype._updateInterval=function(Dr,Mr){Mr=Mr||0;var $r=this.visualMapModel,Br=this._handleEnds,zr=[0,$r.itemSize[1]];sliderMove(Mr,Br,zr,Dr,0);var Vr=$r.getExtent();this._dataInterval=[linearMap(Br[0],zr,Vr,!0),linearMap(Br[1],zr,Vr,!0)]},Be.prototype._updateView=function(Dr){var Mr=this.visualMapModel,$r=Mr.getExtent(),Br=this._shapes,zr=[0,Mr.itemSize[1]],Vr=Dr?zr:this._handleEnds,jr=this._createBarVisual(this._dataInterval,$r,Vr,"inRange"),Gr=this._createBarVisual($r,$r,zr,"outOfRange");Br.inRange.setStyle({fill:jr.barColor}).setShape("points",jr.barPoints),Br.outOfRange.setStyle({fill:Gr.barColor}).setShape("points",Gr.barPoints),this._updateHandle(Vr,jr)},Be.prototype._createBarVisual=function(Dr,Mr,$r,Br){var zr={forceState:Br,convertOpacityToAlpha:!0},Vr=this._makeColorGradient(Dr,zr),jr=[this.getControllerVisual(Dr[0],"symbolSize",zr),this.getControllerVisual(Dr[1],"symbolSize",zr)],Gr=this._createBarPoints($r,jr);return{barColor:new LinearGradient$1(0,0,0,1,Vr),barPoints:Gr,handlesColor:[Vr[0].color,Vr[Vr.length-1].color]}},Be.prototype._makeColorGradient=function(Dr,Mr){var $r=100,Br=[],zr=(Dr[1]-Dr[0])/$r;Br.push({color:this.getControllerVisual(Dr[0],"color",Mr),offset:0});for(var Vr=1;Vr<$r;Vr++){var jr=Dr[0]+zr*Vr;if(jr>Dr[1])break;Br.push({color:this.getControllerVisual(jr,"color",Mr),offset:Vr/$r})}return Br.push({color:this.getControllerVisual(Dr[1],"color",Mr),offset:1}),Br},Be.prototype._createBarPoints=function(Dr,Mr){var $r=this.visualMapModel.itemSize;return[[$r[0]-Mr[0],Dr[0]],[$r[0],Dr[0]],[$r[0],Dr[1]],[$r[0]-Mr[1],Dr[1]]]},Be.prototype._createBarGroup=function(Dr){var Mr=this._orient,$r=this.visualMapModel.get("inverse");return new Group$4(Mr==="horizontal"&&!$r?{scaleX:Dr==="bottom"?1:-1,rotation:Math.PI/2}:Mr==="horizontal"&&$r?{scaleX:Dr==="bottom"?-1:1,rotation:-Math.PI/2}:Mr==="vertical"&&!$r?{scaleX:Dr==="left"?1:-1,scaleY:-1}:{scaleX:Dr==="left"?1:-1})},Be.prototype._updateHandle=function(Dr,Mr){if(this._useHandle){var $r=this._shapes,Br=this.visualMapModel,zr=$r.handleThumbs,Vr=$r.handleLabels,jr=Br.itemSize,Gr=Br.getExtent();each$1([0,1],function(Wr){var Kr=zr[Wr];Kr.setStyle("fill",Mr.handlesColor[Wr]),Kr.y=Dr[Wr];var Zr=linearMap(Dr[Wr],[0,jr[1]],Gr,!0),Jr=this.getControllerVisual(Zr,"symbolSize");Kr.scaleX=Kr.scaleY=Jr/jr[0],Kr.x=jr[0]-Jr/2;var rn=applyTransform($r.handleLabelPoints[Wr],getTransform$1(Kr,this.group));Vr[Wr].setStyle({x:rn[0],y:rn[1],text:Br.formatValueText(this._dataInterval[Wr]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",$r.mainGroup):"center"})},this)}},Be.prototype._showIndicator=function(Dr,Mr,$r,Br){var zr=this.visualMapModel,Vr=zr.getExtent(),jr=zr.itemSize,Gr=[0,jr[1]],Wr=this._shapes,Kr=Wr.indicator;if(Kr){Kr.attr("invisible",!1);var Zr={convertOpacityToAlpha:!0},Jr=this.getControllerVisual(Dr,"color",Zr),rn=this.getControllerVisual(Dr,"symbolSize"),nn=linearMap(Dr,Vr,Gr,!0),ln=jr[0]-rn/2,cn={x:Kr.x,y:Kr.y};Kr.y=nn,Kr.x=ln;var hn=applyTransform(Wr.indicatorLabelPoint,getTransform$1(Kr,this.group)),mn=Wr.indicatorLabel;mn.attr("invisible",!1);var bn=this._applyTransform("left",Wr.mainGroup),An=this._orient,vn=An==="horizontal";mn.setStyle({text:($r||"")+zr.formatValueText(Mr),verticalAlign:vn?bn:"middle",align:vn?"center":bn});var dn={x:ln,y:nn,style:{fill:Jr}},wn={style:{x:hn[0],y:hn[1]}};if(zr.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var xn={duration:100,easing:"cubicInOut",additive:!0};Kr.x=cn.x,Kr.y=cn.y,Kr.animateTo(dn,xn),mn.animateTo(wn,xn)}else Kr.attr(dn),mn.attr(wn);this._firstShowIndicator=!1;var Mn=this._shapes.handleLabels;if(Mn)for(var In=0;In<Mn.length;In++)this._api.enterBlur(Mn[In])}},Be.prototype._enableHoverLinkToSeries=function(){var Dr=this;this._shapes.mainGroup.on("mousemove",function(Mr){if(Dr._hovering=!0,!Dr._dragging){var $r=Dr.visualMapModel.itemSize,Br=Dr._applyTransform([Mr.offsetX,Mr.offsetY],Dr._shapes.mainGroup,!0,!0);Br[1]=mathMin(mathMax(0,Br[1]),$r[1]),Dr._doHoverLinkToSeries(Br[1],0<=Br[0]&&Br[0]<=$r[0])}}).on("mouseout",function(){Dr._hovering=!1,!Dr._dragging&&Dr._clearHoverLinkToSeries()})},Be.prototype._enableHoverLinkFromSeries=function(){var Dr=this.api.getZr();this.visualMapModel.option.hoverLink?(Dr.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),Dr.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},Be.prototype._doHoverLinkToSeries=function(Dr,Mr){var $r=this.visualMapModel,Br=$r.itemSize;if($r.option.hoverLink){var zr=[0,Br[1]],Vr=$r.getExtent();Dr=mathMin(mathMax(zr[0],Dr),zr[1]);var jr=getHalfHoverLinkSize($r,Vr,zr),Gr=[Dr-jr,Dr+jr],Wr=linearMap(Dr,zr,Vr,!0),Kr=[linearMap(Gr[0],zr,Vr,!0),linearMap(Gr[1],zr,Vr,!0)];Gr[0]<zr[0]&&(Kr[0]=-1/0),Gr[1]>zr[1]&&(Kr[1]=1/0),Mr&&(Kr[0]===-1/0?this._showIndicator(Wr,Kr[1],"< ",jr):Kr[1]===1/0?this._showIndicator(Wr,Kr[0],"> ",jr):this._showIndicator(Wr,Wr,"â ",jr));var Zr=this._hoverLinkDataIndices,Jr=[];(Mr||useHoverLinkOnHandle($r))&&(Jr=this._hoverLinkDataIndices=$r.findTargetDataIndices(Kr));var rn=compressBatches(Zr,Jr);this._dispatchHighDown("downplay",makeHighDownBatch(rn[0],$r)),this._dispatchHighDown("highlight",makeHighDownBatch(rn[1],$r))}},Be.prototype._hoverLinkFromSeriesMouseOver=function(Dr){var Mr;if(findEventDispatcher(Dr.target,function(jr){var Gr=getECData(jr);if(Gr.dataIndex!=null)return Mr=Gr,!0},!0),!!Mr){var $r=this.ecModel.getSeriesByIndex(Mr.seriesIndex),Br=this.visualMapModel;if(Br.isTargetSeries($r)){var zr=$r.getData(Mr.dataType),Vr=zr.getStore().get(Br.getDataDimensionIndex(zr),Mr.dataIndex);isNaN(Vr)||this._showIndicator(Vr,Vr)}}},Be.prototype._hideIndicator=function(){var Dr=this._shapes;Dr.indicator&&Dr.indicator.attr("invisible",!0),Dr.indicatorLabel&&Dr.indicatorLabel.attr("invisible",!0);var Mr=this._shapes.handleLabels;if(Mr)for(var $r=0;$r<Mr.length;$r++)this._api.leaveBlur(Mr[$r])},Be.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var Dr=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(Dr,this.visualMapModel)),Dr.length=0},Be.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var Dr=this.api.getZr();Dr.off("mouseover",this._hoverLinkFromSeriesMouseOver),Dr.off("mouseout",this._hideIndicator)},Be.prototype._applyTransform=function(Dr,Mr,$r,Br){var zr=getTransform$1(Mr,Br?null:this.group);return isArray$1(Dr)?applyTransform(Dr,zr,$r):transformDirection(Dr,zr,$r)},Be.prototype._dispatchHighDown=function(Dr,Mr){Mr&&Mr.length&&this.api.dispatchAction({type:Dr,batch:Mr})},Be.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},Be.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},Be.type="visualMap.continuous",Be}(VisualMapView$1);function createPolygon(_r,Be,Dr,Mr){return new Polygon$1({shape:{points:_r},draggable:!!Dr,cursor:Be,drift:Dr,onmousemove:function($r){stop($r.event)},ondragend:Mr})}function getHalfHoverLinkSize(_r,Be,Dr){var Mr=HOVER_LINK_SIZE/2,$r=_r.get("hoverLinkDataSize");return $r&&(Mr=linearMap($r,Be,Dr,!0)/2),Mr}function useHoverLinkOnHandle(_r){var Be=_r.get("hoverLinkOnHandle");return!!(Be??_r.get("realtime"))}function getCursor(_r){return _r==="vertical"?"ns-resize":"ew-resize"}const ContinuousView$1=ContinuousView;var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(_r,Be){Be.eachComponent({mainType:"visualMap",query:_r},function(Dr){Dr.setSelected(_r.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(_r,Be){var Dr=[];return Be.eachComponent("visualMap",function(Mr){var $r=_r.pipelineContext;!Mr.isTargetSeries(_r)||$r&&$r.large||Dr.push(incrementalApplyVisual(Mr.stateList,Mr.targetVisuals,bind$1(Mr.getValueState,Mr),Mr.getDataDimensionIndex(_r.getData())))}),Dr}},{createOnAllSeries:!0,reset:function(_r,Be){var Dr=_r.getData(),Mr=[];Be.eachComponent("visualMap",function($r){if($r.isTargetSeries(_r)){var Br=$r.getVisualMeta(bind$1(getColorVisual,null,_r,$r))||{stops:[],outerColors:[]},zr=$r.getDataDimensionIndex(Dr);zr>=0&&(Br.dimension=zr,Mr.push(Br))}}),_r.getData().setVisual("visualMeta",Mr)}}];function getColorVisual(_r,Be,Dr,Mr){for(var $r=Be.targetVisuals[Mr],Br=VisualMapping$1.prepareVisualTypes($r),zr={color:getVisualFromData(_r.getData(),"color")},Vr=0,jr=Br.length;Vr<jr;Vr++){var Gr=Br[Vr],Wr=$r[Gr==="opacity"?"__alphaForOpacity":Gr];Wr&&Wr.applyVisual(Dr,Kr,Zr)}return zr.color;function Kr(Jr){return zr[Jr]}function Zr(Jr,rn){zr[Jr]=rn}}var each=each$f;function visualMapPreprocessor(_r){var Be=_r&&_r.visualMap;isArray$1(Be)||(Be=Be?[Be]:[]),each(Be,function(Dr){if(Dr){has(Dr,"splitList")&&!has(Dr,"pieces")&&(Dr.pieces=Dr.splitList,delete Dr.splitList);var Mr=Dr.pieces;Mr&&isArray$1(Mr)&&each(Mr,function($r){isObject$3($r)&&(has($r,"start")&&!has($r,"min")&&($r.min=$r.start),has($r,"end")&&!has($r,"max")&&($r.max=$r.end))})}})}function has(_r,Be){return _r&&_r.hasOwnProperty&&_r.hasOwnProperty(Be)}var installed=!1;function installCommon(_r){installed||(installed=!0,_r.registerSubTypeDefaulter("visualMap",function(Be){return!Be.categories&&(!(Be.pieces?Be.pieces.length>0:Be.splitNumber>0)||Be.calculable)?"continuous":"piecewise"}),_r.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(Be){_r.registerVisual(_r.PRIORITY.VISUAL.COMPONENT,Be)}),_r.registerPreprocessor(visualMapPreprocessor))}function install$5(_r){_r.registerComponentModel(ContinuousModel$1),_r.registerComponentView(ContinuousView$1),installCommon(_r)}var PiecewiseModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr._pieceList=[],Dr}return Be.prototype.optionUpdated=function(Dr,Mr){_r.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var $r=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(Dr,Mr);var Br=this.option.categories;this.resetVisual(function(zr,Vr){$r==="categories"?(zr.mappingMethod="category",zr.categories=clone$4(Br)):(zr.dataExtent=this.getExtent(),zr.mappingMethod="piecewise",zr.pieceList=map$1(this._pieceList,function(jr){return jr=clone$4(jr),Vr!=="inRange"&&(jr.visual=null),jr}))})},Be.prototype.completeVisualOption=function(){var Dr=this.option,Mr={},$r=VisualMapping$1.listVisualTypes(),Br=this.isCategory();each$f(Dr.pieces,function(Vr){each$f($r,function(jr){Vr.hasOwnProperty(jr)&&(Mr[jr]=1)})}),each$f(Mr,function(Vr,jr){var Gr=!1;each$f(this.stateList,function(Wr){Gr=Gr||zr(Dr,Wr,jr)||zr(Dr.target,Wr,jr)},this),!Gr&&each$f(this.stateList,function(Wr){(Dr[Wr]||(Dr[Wr]={}))[jr]=visualDefault$1.get(jr,Wr==="inRange"?"active":"inactive",Br)})},this);function zr(Vr,jr,Gr){return Vr&&Vr[jr]&&Vr[jr].hasOwnProperty(Gr)}_r.prototype.completeVisualOption.apply(this,arguments)},Be.prototype._resetSelected=function(Dr,Mr){var $r=this.option,Br=this._pieceList,zr=(Mr?$r:Dr).selected||{};if($r.selected=zr,each$f(Br,function(jr,Gr){var Wr=this.getSelectedMapKey(jr);zr.hasOwnProperty(Wr)||(zr[Wr]=!0)},this),$r.selectedMode==="single"){var Vr=!1;each$f(Br,function(jr,Gr){var Wr=this.getSelectedMapKey(jr);zr[Wr]&&(Vr?zr[Wr]=!1:Vr=!0)},this)}},Be.prototype.getItemSymbol=function(){return this.get("itemSymbol")},Be.prototype.getSelectedMapKey=function(Dr){return this._mode==="categories"?Dr.value+"":Dr.index+""},Be.prototype.getPieceList=function(){return this._pieceList},Be.prototype._determineMode=function(){var Dr=this.option;return Dr.pieces&&Dr.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},Be.prototype.setSelected=function(Dr){this.option.selected=clone$4(Dr)},Be.prototype.getValueState=function(Dr){var Mr=VisualMapping$1.findPieceIndex(Dr,this._pieceList);return Mr!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[Mr])]?"inRange":"outOfRange"},Be.prototype.findTargetDataIndices=function(Dr){var Mr=[],$r=this._pieceList;return this.eachTargetSeries(function(Br){var zr=[],Vr=Br.getData();Vr.each(this.getDataDimensionIndex(Vr),function(jr,Gr){var Wr=VisualMapping$1.findPieceIndex(jr,$r);Wr===Dr&&zr.push(Gr)},this),Mr.push({seriesId:Br.id,dataIndex:zr})},this),Mr},Be.prototype.getRepresentValue=function(Dr){var Mr;if(this.isCategory())Mr=Dr.value;else if(Dr.value!=null)Mr=Dr.value;else{var $r=Dr.interval||[];Mr=$r[0]===-1/0&&$r[1]===1/0?0:($r[0]+$r[1])/2}return Mr},Be.prototype.getVisualMeta=function(Dr){if(this.isCategory())return;var Mr=[],$r=["",""],Br=this;function zr(Wr,Kr){var Zr=Br.getRepresentValue({interval:Wr});Kr||(Kr=Br.getValueState(Zr));var Jr=Dr(Zr,Kr);Wr[0]===-1/0?$r[0]=Jr:Wr[1]===1/0?$r[1]=Jr:Mr.push({value:Wr[0],color:Jr},{value:Wr[1],color:Jr})}var Vr=this._pieceList.slice();if(!Vr.length)Vr.push({interval:[-1/0,1/0]});else{var jr=Vr[0].interval[0];jr!==-1/0&&Vr.unshift({interval:[-1/0,jr]}),jr=Vr[Vr.length-1].interval[1],jr!==1/0&&Vr.push({interval:[jr,1/0]})}var Gr=-1/0;return each$f(Vr,function(Wr){var Kr=Wr.interval;Kr&&(Kr[0]>Gr&&zr([Gr,Kr[0]],"outOfRange"),zr(Kr.slice()),Gr=Kr[1])},this),{stops:Mr,outerColors:$r}},Be.type="visualMap.piecewise",Be.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),Be}(VisualMapModel$1),resetMethods={splitNumber:function(_r){var Be=this.option,Dr=Math.min(Be.precision,20),Mr=this.getExtent(),$r=Be.splitNumber;$r=Math.max(parseInt($r,10),1),Be.splitNumber=$r;for(var Br=(Mr[1]-Mr[0])/$r;+Br.toFixed(Dr)!==Br&&Dr<5;)Dr++;Be.precision=Dr,Br=+Br.toFixed(Dr),Be.minOpen&&_r.push({interval:[-1/0,Mr[0]],close:[0,0]});for(var zr=0,Vr=Mr[0];zr<$r;Vr+=Br,zr++){var jr=zr===$r-1?Mr[1]:Vr+Br;_r.push({interval:[Vr,jr],close:[1,1]})}Be.maxOpen&&_r.push({interval:[Mr[1],1/0],close:[0,0]}),reformIntervals(_r),each$f(_r,function(Gr,Wr){Gr.index=Wr,Gr.text=this.formatValueText(Gr.interval)},this)},categories:function(_r){var Be=this.option;each$f(Be.categories,function(Dr){_r.push({text:this.formatValueText(Dr,!0),value:Dr})},this),normalizeReverse(Be,_r)},pieces:function(_r){var Be=this.option;each$f(Be.pieces,function(Dr,Mr){isObject$3(Dr)||(Dr={value:Dr});var $r={text:"",index:Mr};if(Dr.label!=null&&($r.text=Dr.label),Dr.hasOwnProperty("value")){var Br=$r.value=Dr.value;$r.interval=[Br,Br],$r.close=[1,1]}else{for(var zr=$r.interval=[],Vr=$r.close=[0,0],jr=[1,0,1],Gr=[-1/0,1/0],Wr=[],Kr=0;Kr<2;Kr++){for(var Zr=[["gte","gt","min"],["lte","lt","max"]][Kr],Jr=0;Jr<3&&zr[Kr]==null;Jr++)zr[Kr]=Dr[Zr[Jr]],Vr[Kr]=jr[Jr],Wr[Kr]=Jr===2;zr[Kr]==null&&(zr[Kr]=Gr[Kr])}Wr[0]&&zr[1]===1/0&&(Vr[0]=0),Wr[1]&&zr[0]===-1/0&&(Vr[1]=0),zr[0]===zr[1]&&Vr[0]&&Vr[1]&&($r.value=zr[0])}$r.visual=VisualMapping$1.retrieveVisuals(Dr),_r.push($r)},this),normalizeReverse(Be,_r),reformIntervals(_r),each$f(_r,function(Dr){var Mr=Dr.close,$r=[["<","â¤"][Mr[1]],[">","â¥"][Mr[0]]];Dr.text=Dr.text||this.formatValueText(Dr.value!=null?Dr.value:Dr.interval,!1,$r)},this)}};function normalizeReverse(_r,Be){var Dr=_r.inverse;(_r.orient==="vertical"?!Dr:Dr)&&Be.reverse()}const PiecewiseModel$1=PiecewiseModel;var PiecewiseVisualMapView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type=Be.type,Dr}return Be.prototype.doRender=function(){var Dr=this.group;Dr.removeAll();var Mr=this.visualMapModel,$r=Mr.get("textGap"),Br=Mr.textStyleModel,zr=Br.getFont(),Vr=Br.getTextColor(),jr=this._getItemAlign(),Gr=Mr.itemSize,Wr=this._getViewData(),Kr=Wr.endsText,Zr=retrieve(Mr.get("showLabel",!0),!Kr);Kr&&this._renderEndsText(Dr,Kr[0],Gr,Zr,jr),each$f(Wr.viewPieceList,function(Jr){var rn=Jr.piece,nn=new Group$4;nn.onclick=bind$1(this._onItemClick,this,rn),this._enableHoverLink(nn,Jr.indexInModelPieceList);var ln=Mr.getRepresentValue(rn);if(this._createItemSymbol(nn,ln,[0,0,Gr[0],Gr[1]]),Zr){var cn=this.visualMapModel.getValueState(ln);nn.add(new ZRText$1({style:{x:jr==="right"?-$r:Gr[0]+$r,y:Gr[1]/2,text:rn.text,verticalAlign:"middle",align:jr,font:zr,fill:Vr,opacity:cn==="outOfRange"?.5:1}}))}Dr.add(nn)},this),Kr&&this._renderEndsText(Dr,Kr[1],Gr,Zr,jr),box(Mr.get("orient"),Dr,Mr.get("itemGap")),this.renderBackground(Dr),this.positionGroup(Dr)},Be.prototype._enableHoverLink=function(Dr,Mr){var $r=this;Dr.on("mouseover",function(){return Br("highlight")}).on("mouseout",function(){return Br("downplay")});var Br=function(zr){var Vr=$r.visualMapModel;Vr.option.hoverLink&&$r.api.dispatchAction({type:zr,batch:makeHighDownBatch(Vr.findTargetDataIndices(Mr),Vr)})}},Be.prototype._getItemAlign=function(){var Dr=this.visualMapModel,Mr=Dr.option;if(Mr.orient==="vertical")return getItemAlign(Dr,this.api,Dr.itemSize);var $r=Mr.align;return(!$r||$r==="auto")&&($r="left"),$r},Be.prototype._renderEndsText=function(Dr,Mr,$r,Br,zr){if(Mr){var Vr=new Group$4,jr=this.visualMapModel.textStyleModel;Vr.add(new ZRText$1({style:createTextStyle$1(jr,{x:Br?zr==="right"?$r[0]:0:$r[0]/2,y:$r[1]/2,verticalAlign:"middle",align:Br?zr:"center",text:Mr})})),Dr.add(Vr)}},Be.prototype._getViewData=function(){var Dr=this.visualMapModel,Mr=map$1(Dr.getPieceList(),function(Vr,jr){return{piece:Vr,indexInModelPieceList:jr}}),$r=Dr.get("text"),Br=Dr.get("orient"),zr=Dr.get("inverse");return(Br==="horizontal"?zr:!zr)?Mr.reverse():$r&&($r=$r.slice().reverse()),{viewPieceList:Mr,endsText:$r}},Be.prototype._createItemSymbol=function(Dr,Mr,$r){Dr.add(createSymbol$1(this.getControllerVisual(Mr,"symbol"),$r[0],$r[1],$r[2],$r[3],this.getControllerVisual(Mr,"color")))},Be.prototype._onItemClick=function(Dr){var Mr=this.visualMapModel,$r=Mr.option,Br=$r.selectedMode;if(Br){var zr=clone$4($r.selected),Vr=Mr.getSelectedMapKey(Dr);Br==="single"||Br===!0?(zr[Vr]=!0,each$f(zr,function(jr,Gr){zr[Gr]=Gr===Vr})):zr[Vr]=!zr[Vr],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:zr})}},Be.type="visualMap.piecewise",Be}(VisualMapView$1);const PiecewiseView=PiecewiseVisualMapView;function install$4(_r){_r.registerComponentModel(PiecewiseModel$1),_r.registerComponentView(PiecewiseView),installCommon(_r)}function install$3(_r){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(_r,Be){var Dr=_r.getModel("aria");if(!Dr.get("enabled"))return;var Mr=clone$4(DEFAULT_OPTION);merge(Mr.label,_r.getLocaleModel().get("aria"),!1),merge(Dr.option,Mr,!1),$r(),Br();function $r(){var Gr=Dr.getModel("decal"),Wr=Gr.get("show");if(Wr){var Kr=createHashMap();_r.eachSeries(function(Zr){if(!Zr.isColorBySeries()){var Jr=Kr.get(Zr.type);Jr||(Jr={},Kr.set(Zr.type,Jr)),inner(Zr).scope=Jr}}),_r.eachRawSeries(function(Zr){if(_r.isSeriesFiltered(Zr))return;if(isFunction(Zr.enableAriaDecal)){Zr.enableAriaDecal();return}var Jr=Zr.getData();if(Zr.isColorBySeries()){var hn=getDecalFromPalette(Zr.ecModel,Zr.name,decalPaletteScope,_r.getSeriesCount()),mn=Jr.getVisual("decal");Jr.setVisual("decal",bn(mn,hn))}else{var rn=Zr.getRawData(),nn={},ln=inner(Zr).scope;Jr.each(function(An){var vn=Jr.getRawIndex(An);nn[vn]=An});var cn=rn.count();rn.each(function(An){var vn=nn[An],dn=rn.getName(An)||An+"",wn=getDecalFromPalette(Zr.ecModel,dn,ln,cn),xn=Jr.getItemVisual(vn,"decal");Jr.setItemVisual(vn,"decal",bn(xn,wn))})}function bn(An,vn){var dn=An?extend$1(extend$1({},vn),An):vn;return dn.dirty=!0,dn}})}}function Br(){var Gr=_r.getLocaleModel().get("aria"),Wr=Dr.getModel("label");if(Wr.option=defaults(Wr.option,Gr),!!Wr.get("enabled")){var Kr=Be.getZr().dom;if(Wr.get("description")){Kr.setAttribute("aria-label",Wr.get("description"));return}var Zr=_r.getSeriesCount(),Jr=Wr.get(["data","maxCount"])||10,rn=Wr.get(["series","maxCount"])||10,nn=Math.min(Zr,rn),ln;if(!(Zr<1)){var cn=Vr();if(cn){var hn=Wr.get(["general","withTitle"]);ln=zr(hn,{title:cn})}else ln=Wr.get(["general","withoutTitle"]);var mn=[],bn=Zr>1?Wr.get(["series","multiple","prefix"]):Wr.get(["series","single","prefix"]);ln+=zr(bn,{seriesCount:Zr}),_r.eachSeries(function(wn,xn){if(xn<nn){var Mn=void 0,In=wn.get("name"),Hn=In?"withName":"withoutName";Mn=Zr>1?Wr.get(["series","multiple",Hn]):Wr.get(["series","single",Hn]),Mn=zr(Mn,{seriesId:wn.seriesIndex,seriesName:wn.get("name"),seriesType:jr(wn.subType)});var $n=wn.getData();if($n.count()>Jr){var jn=Wr.get(["data","partialData"]);Mn+=zr(jn,{displayCnt:Jr})}else Mn+=Wr.get(["data","allData"]);for(var Bn=Wr.get(["data","separator","middle"]),Gn=Wr.get(["data","separator","end"]),ei=[],ri=0;ri<$n.count();ri++)if(ri<Jr){var vi=$n.getName(ri),wi=$n.getValues(ri),Ni=Wr.get(["data",vi?"withName":"withoutName"]);ei.push(zr(Ni,{name:vi,value:wi.join(Bn)}))}Mn+=ei.join(Bn)+Gn,mn.push(Mn)}});var An=Wr.getModel(["series","multiple","separator"]),vn=An.get("middle"),dn=An.get("end");ln+=mn.join(vn)+dn,Kr.setAttribute("aria-label",ln)}}}function zr(Gr,Wr){if(!isString(Gr))return Gr;var Kr=Gr;return each$f(Wr,function(Zr,Jr){Kr=Kr.replace(new RegExp("\\{\\s*"+Jr+"\\s*\\}","g"),Zr)}),Kr}function Vr(){var Gr=_r.get("title");return Gr&&Gr.length&&(Gr=Gr[0]),Gr&&Gr.text}function jr(Gr){return _r.getLocaleModel().get(["series","typeNames"])[Gr]||"èªå®ä¹å¾"}}function ariaPreprocessor(_r){if(!(!_r||!_r.aria)){var Be=_r.aria;Be.show!=null&&(Be.enabled=Be.show),Be.label=Be.label||{},each$f(["description","general","series","data"],function(Dr){Be[Dr]!=null&&(Be.label[Dr]=Be[Dr])})}}function install$2(_r){_r.registerPreprocessor(ariaPreprocessor),_r.registerVisual(_r.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function _r(Be){var Dr=this._condVal=isString(Be)?new RegExp(Be):isRegExp(Be)?Be:null;if(Dr==null){var Mr="";throwError(Mr)}}return _r.prototype.evaluate=function(Be){var Dr=typeof Be;return isString(Dr)?this._condVal.test(Be):isNumber(Dr)?this._condVal.test(Be+""):!1},_r}(),ConstConditionInternal=function(){function _r(){}return _r.prototype.evaluate=function(){return this.value},_r}(),AndConditionInternal=function(){function _r(){}return _r.prototype.evaluate=function(){for(var Be=this.children,Dr=0;Dr<Be.length;Dr++)if(!Be[Dr].evaluate())return!1;return!0},_r}(),OrConditionInternal=function(){function _r(){}return _r.prototype.evaluate=function(){for(var Be=this.children,Dr=0;Dr<Be.length;Dr++)if(Be[Dr].evaluate())return!0;return!1},_r}(),NotConditionInternal=function(){function _r(){}return _r.prototype.evaluate=function(){return!this.child.evaluate()},_r}(),RelationalConditionInternal=function(){function _r(){}return _r.prototype.evaluate=function(){for(var Be=!!this.valueParser,Dr=this.getValue,Mr=Dr(this.valueGetterParam),$r=Be?this.valueParser(Mr):null,Br=0;Br<this.subCondList.length;Br++)if(!this.subCondList[Br].evaluate(Be?$r:Mr))return!1;return!0},_r}();function parseOption(_r,Be){if(_r===!0||_r===!1){var Dr=new ConstConditionInternal;return Dr.value=_r,Dr}var Mr="";return isObjectNotArray(_r)||throwError(Mr),_r.and?parseAndOrOption("and",_r,Be):_r.or?parseAndOrOption("or",_r,Be):_r.not?parseNotOption(_r,Be):parseRelationalOption(_r,Be)}function parseAndOrOption(_r,Be,Dr){var Mr=Be[_r],$r="";isArray$1(Mr)||throwError($r),Mr.length||throwError($r);var Br=_r==="and"?new AndConditionInternal:new OrConditionInternal;return Br.children=map$1(Mr,function(zr){return parseOption(zr,Dr)}),Br.children.length||throwError($r),Br}function parseNotOption(_r,Be){var Dr=_r.not,Mr="";isObjectNotArray(Dr)||throwError(Mr);var $r=new NotConditionInternal;return $r.child=parseOption(Dr,Be),$r.child||throwError(Mr),$r}function parseRelationalOption(_r,Be){for(var Dr="",Mr=Be.prepareGetValue(_r),$r=[],Br=keys(_r),zr=_r.parser,Vr=zr?getRawValueParser(zr):null,jr=0;jr<Br.length;jr++){var Gr=Br[jr];if(!(Gr==="parser"||Be.valueGetterAttrMap.get(Gr))){var Wr=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,Gr)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[Gr]:Gr,Kr=_r[Gr],Zr=Vr?Vr(Kr):Kr,Jr=createFilterComparator(Wr,Zr)||Wr==="reg"&&new RegExpEvaluator(Zr);Jr||throwError(Dr),$r.push(Jr)}}$r.length||throwError(Dr);var rn=new RelationalConditionInternal;return rn.valueGetterParam=Mr,rn.valueParser=Vr,rn.getValue=Be.getValue,rn.subCondList=$r,rn}function isObjectNotArray(_r){return isObject$3(_r)&&!isArrayLike(_r)}var ConditionalExpressionParsed=function(){function _r(Be,Dr){this._cond=parseOption(Be,Dr)}return _r.prototype.evaluate=function(){return this._cond.evaluate()},_r}();function parseConditionalExpression(_r,Be){return new ConditionalExpressionParsed(_r,Be)}var filterTransform={type:"echarts:filter",transform:function(_r){for(var Be=_r.upstream,Dr,Mr=parseConditionalExpression(_r.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(Vr){var jr="",Gr=Vr.dimension;hasOwn(Vr,"dimension")||throwError(jr);var Wr=Be.getDimensionInfo(Gr);return Wr||throwError(jr),{dimIdx:Wr.index}},getValue:function(Vr){return Be.retrieveValueFromItem(Dr,Vr.dimIdx)}}),$r=[],Br=0,zr=Be.count();Br<zr;Br++)Dr=Be.getRawDataItem(Br),Mr.evaluate()&&$r.push(Dr);return{data:$r}}},sortTransform={type:"echarts:sort",transform:function(_r){var Be=_r.upstream,Dr=_r.config,Mr="",$r=normalizeToArray(Dr);$r.length||throwError(Mr);var Br=[];each$f($r,function(Wr){var Kr=Wr.dimension,Zr=Wr.order,Jr=Wr.parser,rn=Wr.incomparable;if(Kr==null&&throwError(Mr),Zr!=="asc"&&Zr!=="desc"&&throwError(Mr),rn&&rn!=="min"&&rn!=="max"){var nn="";throwError(nn)}if(Zr!=="asc"&&Zr!=="desc"){var ln="";throwError(ln)}var cn=Be.getDimensionInfo(Kr);cn||throwError(Mr);var hn=Jr?getRawValueParser(Jr):null;Jr&&!hn&&throwError(Mr),Br.push({dimIdx:cn.index,parser:hn,comparator:new SortOrderComparator(Zr,rn)})});var zr=Be.sourceFormat;zr!==SOURCE_FORMAT_ARRAY_ROWS&&zr!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(Mr);for(var Vr=[],jr=0,Gr=Be.count();jr<Gr;jr++)Vr.push(Be.getRawDataItem(jr));return Vr.sort(function(Wr,Kr){for(var Zr=0;Zr<Br.length;Zr++){var Jr=Br[Zr],rn=Be.retrieveValueFromItem(Wr,Jr.dimIdx),nn=Be.retrieveValueFromItem(Kr,Jr.dimIdx);Jr.parser&&(rn=Jr.parser(rn),nn=Jr.parser(nn));var ln=Jr.comparator.evaluate(rn,nn);if(ln!==0)return ln}return 0}),{data:Vr}}};function install$1(_r){_r.registerTransform(filterTransform),_r.registerTransform(sortTransform)}var DatasetModel=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type="dataset",Dr}return Be.prototype.init=function(Dr,Mr,$r){_r.prototype.init.call(this,Dr,Mr,$r),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},Be.prototype.mergeOption=function(Dr,Mr){_r.prototype.mergeOption.call(this,Dr,Mr),disableTransformOptionMerge(this)},Be.prototype.optionUpdated=function(){this._sourceManager.dirty()},Be.prototype.getSourceManager=function(){return this._sourceManager},Be.type="dataset",Be.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},Be}(ComponentModel$1),DatasetView=function(_r){__extends(Be,_r);function Be(){var Dr=_r!==null&&_r.apply(this,arguments)||this;return Dr.type="dataset",Dr}return Be.type="dataset",Be}(ComponentView$1);function install(_r){_r.registerComponentModel(DatasetModel),_r.registerComponentView(DatasetView)}var CMD=PathProxy$1.CMD;function aroundEqual(_r,Be){return Math.abs(_r-Be)<1e-5}function pathToBezierCurves(_r){var Be=_r.data,Dr=_r.len(),Mr=[],$r,Br=0,zr=0,Vr=0,jr=0;function Gr($n,jn){$r&&$r.length>2&&Mr.push($r),$r=[$n,jn]}function Wr($n,jn,Bn,Gn){aroundEqual($n,Bn)&&aroundEqual(jn,Gn)||$r.push($n,jn,Bn,Gn,Bn,Gn)}function Kr($n,jn,Bn,Gn,ei,ri){var vi=Math.abs(jn-$n),wi=Math.tan(vi/4)*4/3,Ni=jn<$n?-1:1,Yn=Math.cos($n),Vn=Math.sin($n),si=Math.cos(jn),Ri=Math.sin(jn),Pi=Yn*ei+Bn,Fi=Vn*ri+Gn,zi=si*ei+Bn,oo=Ri*ri+Gn,lo=ei*wi*Ni,io=ri*wi*Ni;$r.push(Pi-lo*Vn,Fi+io*Yn,zi+lo*Ri,oo-io*si,zi,oo)}for(var Zr,Jr,rn,nn,ln=0;ln<Dr;){var cn=Be[ln++],hn=ln===1;switch(hn&&(Br=Be[ln],zr=Be[ln+1],Vr=Br,jr=zr,(cn===CMD.L||cn===CMD.C||cn===CMD.Q)&&($r=[Vr,jr])),cn){case CMD.M:Br=Vr=Be[ln++],zr=jr=Be[ln++],Gr(Vr,jr);break;case CMD.L:Zr=Be[ln++],Jr=Be[ln++],Wr(Br,zr,Zr,Jr),Br=Zr,zr=Jr;break;case CMD.C:$r.push(Be[ln++],Be[ln++],Be[ln++],Be[ln++],Br=Be[ln++],zr=Be[ln++]);break;case CMD.Q:Zr=Be[ln++],Jr=Be[ln++],rn=Be[ln++],nn=Be[ln++],$r.push(Br+2/3*(Zr-Br),zr+2/3*(Jr-zr),rn+2/3*(Zr-rn),nn+2/3*(Jr-nn),rn,nn),Br=rn,zr=nn;break;case CMD.A:var mn=Be[ln++],bn=Be[ln++],An=Be[ln++],vn=Be[ln++],dn=Be[ln++],wn=Be[ln++]+dn;ln+=1;var xn=!Be[ln++];Zr=Math.cos(dn)*An+mn,Jr=Math.sin(dn)*vn+bn,hn?(Vr=Zr,jr=Jr,Gr(Vr,jr)):Wr(Br,zr,Zr,Jr),Br=Math.cos(wn)*An+mn,zr=Math.sin(wn)*vn+bn;for(var Mn=(xn?-1:1)*Math.PI/2,In=dn;xn?In>wn:In<wn;In+=Mn){var Hn=xn?Math.max(In+Mn,wn):Math.min(In+Mn,wn);Kr(In,Hn,mn,bn,An,vn)}break;case CMD.R:Vr=Br=Be[ln++],jr=zr=Be[ln++],Zr=Vr+Be[ln++],Jr=jr+Be[ln++],Gr(Zr,jr),Wr(Zr,jr,Zr,Jr),Wr(Zr,Jr,Vr,Jr),Wr(Vr,Jr,Vr,jr),Wr(Vr,jr,Zr,jr);break;case CMD.Z:$r&&Wr(Br,zr,Vr,jr),Br=Vr,zr=jr;break}}return $r&&$r.length>2&&Mr.push($r),Mr}function adpativeBezier(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr){if(aroundEqual(_r,Dr)&&aroundEqual(Be,Mr)&&aroundEqual($r,zr)&&aroundEqual(Br,Vr)){jr.push(zr,Vr);return}var Wr=2/Gr,Kr=Wr*Wr,Zr=zr-_r,Jr=Vr-Be,rn=Math.sqrt(Zr*Zr+Jr*Jr);Zr/=rn,Jr/=rn;var nn=Dr-_r,ln=Mr-Be,cn=$r-zr,hn=Br-Vr,mn=nn*nn+ln*ln,bn=cn*cn+hn*hn;if(mn<Kr&&bn<Kr){jr.push(zr,Vr);return}var An=Zr*nn+Jr*ln,vn=-Zr*cn-Jr*hn,dn=mn-An*An,wn=bn-vn*vn;if(dn<Kr&&An>=0&&wn<Kr&&vn>=0){jr.push(zr,Vr);return}var xn=[],Mn=[];cubicSubdivide(_r,Dr,$r,zr,.5,xn),cubicSubdivide(Be,Mr,Br,Vr,.5,Mn),adpativeBezier(xn[0],Mn[0],xn[1],Mn[1],xn[2],Mn[2],xn[3],Mn[3],jr,Gr),adpativeBezier(xn[4],Mn[4],xn[5],Mn[5],xn[6],Mn[6],xn[7],Mn[7],jr,Gr)}function pathToPolygons(_r,Be){var Dr=pathToBezierCurves(_r),Mr=[];Be=Be||1;for(var $r=0;$r<Dr.length;$r++){var Br=Dr[$r],zr=[],Vr=Br[0],jr=Br[1];zr.push(Vr,jr);for(var Gr=2;Gr<Br.length;){var Wr=Br[Gr++],Kr=Br[Gr++],Zr=Br[Gr++],Jr=Br[Gr++],rn=Br[Gr++],nn=Br[Gr++];adpativeBezier(Vr,jr,Wr,Kr,Zr,Jr,rn,nn,zr,Be),Vr=rn,jr=nn}Mr.push(zr)}return Mr}function getDividingGrids(_r,Be,Dr){var Mr=_r[Be],$r=_r[1-Be],Br=Math.abs(Mr/$r),zr=Math.ceil(Math.sqrt(Br*Dr)),Vr=Math.floor(Dr/zr);Vr===0&&(Vr=1,zr=Dr);for(var jr=[],Gr=0;Gr<zr;Gr++)jr.push(Vr);var Wr=zr*Vr,Kr=Dr-Wr;if(Kr>0)for(var Gr=0;Gr<Kr;Gr++)jr[Gr%zr]+=1;return jr}function divideSector(_r,Be,Dr){for(var Mr=_r.r0,$r=_r.r,Br=_r.startAngle,zr=_r.endAngle,Vr=Math.abs(zr-Br),jr=Vr*$r,Gr=$r-Mr,Wr=jr>Math.abs(Gr),Kr=getDividingGrids([jr,Gr],Wr?0:1,Be),Zr=(Wr?Vr:Gr)/Kr.length,Jr=0;Jr<Kr.length;Jr++)for(var rn=(Wr?Gr:Vr)/Kr[Jr],nn=0;nn<Kr[Jr];nn++){var ln={};Wr?(ln.startAngle=Br+Zr*Jr,ln.endAngle=Br+Zr*(Jr+1),ln.r0=Mr+rn*nn,ln.r=Mr+rn*(nn+1)):(ln.startAngle=Br+rn*nn,ln.endAngle=Br+rn*(nn+1),ln.r0=Mr+Zr*Jr,ln.r=Mr+Zr*(Jr+1)),ln.clockwise=_r.clockwise,ln.cx=_r.cx,ln.cy=_r.cy,Dr.push(ln)}}function divideRect(_r,Be,Dr){for(var Mr=_r.width,$r=_r.height,Br=Mr>$r,zr=getDividingGrids([Mr,$r],Br?0:1,Be),Vr=Br?"width":"height",jr=Br?"height":"width",Gr=Br?"x":"y",Wr=Br?"y":"x",Kr=_r[Vr]/zr.length,Zr=0;Zr<zr.length;Zr++)for(var Jr=_r[jr]/zr[Zr],rn=0;rn<zr[Zr];rn++){var nn={};nn[Gr]=Zr*Kr,nn[Wr]=rn*Jr,nn[Vr]=Kr,nn[jr]=Jr,nn.x+=_r.x,nn.y+=_r.y,Dr.push(nn)}}function crossProduct2d(_r,Be,Dr,Mr){return _r*Mr-Dr*Be}function lineLineIntersect(_r,Be,Dr,Mr,$r,Br,zr,Vr){var jr=Dr-_r,Gr=Mr-Be,Wr=zr-$r,Kr=Vr-Br,Zr=crossProduct2d(Wr,Kr,jr,Gr);if(Math.abs(Zr)<1e-6)return null;var Jr=_r-$r,rn=Be-Br,nn=crossProduct2d(Jr,rn,Wr,Kr)/Zr;return nn<0||nn>1?null:new Point$1(nn*jr+_r,nn*Gr+Be)}function projPtOnLine(_r,Be,Dr){var Mr=new Point$1;Point$1.sub(Mr,Dr,Be),Mr.normalize();var $r=new Point$1;Point$1.sub($r,_r,Be);var Br=$r.dot(Mr);return Br}function addToPoly(_r,Be){var Dr=_r[_r.length-1];Dr&&Dr[0]===Be[0]&&Dr[1]===Be[1]||_r.push(Be)}function splitPolygonByLine(_r,Be,Dr){for(var Mr=_r.length,$r=[],Br=0;Br<Mr;Br++){var zr=_r[Br],Vr=_r[(Br+1)%Mr],jr=lineLineIntersect(zr[0],zr[1],Vr[0],Vr[1],Be.x,Be.y,Dr.x,Dr.y);jr&&$r.push({projPt:projPtOnLine(jr,Be,Dr),pt:jr,idx:Br})}if($r.length<2)return[{points:_r},{points:_r}];$r.sort(function(ln,cn){return ln.projPt-cn.projPt});var Gr=$r[0],Wr=$r[$r.length-1];if(Wr.idx<Gr.idx){var Kr=Gr;Gr=Wr,Wr=Kr}for(var Zr=[Gr.pt.x,Gr.pt.y],Jr=[Wr.pt.x,Wr.pt.y],rn=[Zr],nn=[Jr],Br=Gr.idx+1;Br<=Wr.idx;Br++)addToPoly(rn,_r[Br].slice());addToPoly(rn,Jr),addToPoly(rn,Zr);for(var Br=Wr.idx+1;Br<=Gr.idx+Mr;Br++)addToPoly(nn,_r[Br%Mr].slice());return addToPoly(nn,Zr),addToPoly(nn,Jr),[{points:rn},{points:nn}]}function binaryDividePolygon(_r){var Be=_r.points,Dr=[],Mr=[];fromPoints(Be,Dr,Mr);var $r=new BoundingRect$1(Dr[0],Dr[1],Mr[0]-Dr[0],Mr[1]-Dr[1]),Br=$r.width,zr=$r.height,Vr=$r.x,jr=$r.y,Gr=new Point$1,Wr=new Point$1;return Br>zr?(Gr.x=Wr.x=Vr+Br/2,Gr.y=jr,Wr.y=jr+zr):(Gr.y=Wr.y=jr+zr/2,Gr.x=Vr,Wr.x=Vr+Br),splitPolygonByLine(Be,Gr,Wr)}function binaryDivideRecursive(_r,Be,Dr,Mr){if(Dr===1)Mr.push(Be);else{var $r=Math.floor(Dr/2),Br=_r(Be);binaryDivideRecursive(_r,Br[0],$r,Mr),binaryDivideRecursive(_r,Br[1],Dr-$r,Mr)}return Mr}function clone(_r,Be){for(var Dr=[],Mr=0;Mr<Be;Mr++)Dr.push(clonePath(_r));return Dr}function copyPathProps(_r,Be){Be.setStyle(_r.style),Be.z=_r.z,Be.z2=_r.z2,Be.zlevel=_r.zlevel}function polygonConvert(_r){for(var Be=[],Dr=0;Dr<_r.length;)Be.push([_r[Dr++],_r[Dr++]]);return Be}function split(_r,Be){var Dr=[],Mr=_r.shape,$r;switch(_r.type){case"rect":divideRect(Mr,Be,Dr),$r=Rect$3;break;case"sector":divideSector(Mr,Be,Dr),$r=Sector$1;break;case"circle":divideSector({r0:0,r:Mr.r,startAngle:0,endAngle:Math.PI*2,cx:Mr.cx,cy:Mr.cy},Be,Dr),$r=Sector$1;break;default:var Br=_r.getComputedTransform(),zr=Br?Math.sqrt(Math.max(Br[0]*Br[0]+Br[1]*Br[1],Br[2]*Br[2]+Br[3]*Br[3])):1,Vr=map$1(pathToPolygons(_r.getUpdatedPathProxy(),zr),function(cn){return polygonConvert(cn)}),jr=Vr.length;if(jr===0)binaryDivideRecursive(binaryDividePolygon,{points:Vr[0]},Be,Dr);else if(jr===Be)for(var Gr=0;Gr<jr;Gr++)Dr.push({points:Vr[Gr]});else{var Wr=0,Kr=map$1(Vr,function(cn){var hn=[],mn=[];fromPoints(cn,hn,mn);var bn=(mn[1]-hn[1])*(mn[0]-hn[0]);return Wr+=bn,{poly:cn,area:bn}});Kr.sort(function(cn,hn){return hn.area-cn.area});for(var Zr=Be,Gr=0;Gr<jr;Gr++){var Jr=Kr[Gr];if(Zr<=0)break;var rn=Gr===jr-1?Zr:Math.ceil(Jr.area/Wr*Be);rn<0||(binaryDivideRecursive(binaryDividePolygon,{points:Jr.poly},rn,Dr),Zr-=rn)}}$r=Polygon$1;break}if(!$r)return clone(_r,Be);for(var nn=[],Gr=0;Gr<Dr.length;Gr++){var ln=new $r;ln.setShape(Dr[Gr]),copyPathProps(_r,ln),nn.push(ln)}return nn}function alignSubpath(_r,Be){var Dr=_r.length,Mr=Be.length;if(Dr===Mr)return[_r,Be];for(var $r=[],Br=[],zr=Dr<Mr?_r:Be,Vr=Math.min(Dr,Mr),jr=Math.abs(Mr-Dr)/6,Gr=(Vr-2)/6,Wr=Math.ceil(jr/Gr)+1,Kr=[zr[0],zr[1]],Zr=jr,Jr=2;Jr<Vr;){var rn=zr[Jr-2],nn=zr[Jr-1],ln=zr[Jr++],cn=zr[Jr++],hn=zr[Jr++],mn=zr[Jr++],bn=zr[Jr++],An=zr[Jr++];if(Zr<=0){Kr.push(ln,cn,hn,mn,bn,An);continue}for(var vn=Math.min(Zr,Wr-1)+1,dn=1;dn<=vn;dn++){var wn=dn/vn;cubicSubdivide(rn,ln,hn,bn,wn,$r),cubicSubdivide(nn,cn,mn,An,wn,Br),rn=$r[3],nn=Br[3],Kr.push($r[1],Br[1],$r[2],Br[2],rn,nn),ln=$r[5],cn=Br[5],hn=$r[6],mn=Br[6]}Zr-=vn-1}return zr===_r?[Kr,Be]:[_r,Kr]}function createSubpath(_r,Be){for(var Dr=_r.length,Mr=_r[Dr-2],$r=_r[Dr-1],Br=[],zr=0;zr<Be.length;)Br[zr++]=Mr,Br[zr++]=$r;return Br}function alignBezierCurves(_r,Be){for(var Dr,Mr,$r,Br=[],zr=[],Vr=0;Vr<Math.max(_r.length,Be.length);Vr++){var jr=_r[Vr],Gr=Be[Vr],Wr=void 0,Kr=void 0;jr?Gr?(Dr=alignSubpath(jr,Gr),Wr=Dr[0],Kr=Dr[1],Mr=Wr,$r=Kr):(Kr=createSubpath($r||jr,jr),Wr=jr):(Wr=createSubpath(Mr||Gr,Gr),Kr=Gr),Br.push(Wr),zr.push(Kr)}return[Br,zr]}function centroid(_r){for(var Be=0,Dr=0,Mr=0,$r=_r.length,Br=0,zr=$r-2;Br<$r;zr=Br,Br+=2){var Vr=_r[zr],jr=_r[zr+1],Gr=_r[Br],Wr=_r[Br+1],Kr=Vr*Wr-Gr*jr;Be+=Kr,Dr+=(Vr+Gr)*Kr,Mr+=(jr+Wr)*Kr}return Be===0?[_r[0]||0,_r[1]||0]:[Dr/Be/3,Mr/Be/3,Be]}function findBestRingOffset(_r,Be,Dr,Mr){for(var $r=(_r.length-2)/6,Br=1/0,zr=0,Vr=_r.length,jr=Vr-2,Gr=0;Gr<$r;Gr++){for(var Wr=Gr*6,Kr=0,Zr=0;Zr<Vr;Zr+=2){var Jr=Zr===0?Wr:(Wr+Zr-2)%jr+2,rn=_r[Jr]-Dr[0],nn=_r[Jr+1]-Dr[1],ln=Be[Zr]-Mr[0],cn=Be[Zr+1]-Mr[1],hn=ln-rn,mn=cn-nn;Kr+=hn*hn+mn*mn}Kr<Br&&(Br=Kr,zr=Gr)}return zr}function reverse(_r){for(var Be=[],Dr=_r.length,Mr=0;Mr<Dr;Mr+=2)Be[Mr]=_r[Dr-Mr-2],Be[Mr+1]=_r[Dr-Mr-1];return Be}function findBestMorphingRotation(_r,Be,Dr,Mr){for(var $r=[],Br,zr=0;zr<_r.length;zr++){var Vr=_r[zr],jr=Be[zr],Gr=centroid(Vr),Wr=centroid(jr);Br==null&&(Br=Gr[2]<0!=Wr[2]<0);var Kr=[],Zr=[],Jr=0,rn=1/0,nn=[],ln=Vr.length;Br&&(Vr=reverse(Vr));for(var cn=findBestRingOffset(Vr,jr,Gr,Wr)*6,hn=ln-2,mn=0;mn<hn;mn+=2){var bn=(cn+mn)%hn+2;Kr[mn+2]=Vr[bn]-Gr[0],Kr[mn+3]=Vr[bn+1]-Gr[1]}if(Kr[0]=Vr[cn]-Gr[0],Kr[1]=Vr[cn+1]-Gr[1],Dr>0)for(var An=Mr/Dr,vn=-Mr/2;vn<=Mr/2;vn+=An){for(var dn=Math.sin(vn),wn=Math.cos(vn),xn=0,mn=0;mn<Vr.length;mn+=2){var Mn=Kr[mn],In=Kr[mn+1],Hn=jr[mn]-Wr[0],$n=jr[mn+1]-Wr[1],jn=Hn*wn-$n*dn,Bn=Hn*dn+$n*wn;nn[mn]=jn,nn[mn+1]=Bn;var Gn=jn-Mn,ei=Bn-In;xn+=Gn*Gn+ei*ei}if(xn<rn){rn=xn,Jr=vn;for(var ri=0;ri<nn.length;ri++)Zr[ri]=nn[ri]}}else for(var vi=0;vi<ln;vi+=2)Zr[vi]=jr[vi]-Wr[0],Zr[vi+1]=jr[vi+1]-Wr[1];$r.push({from:Kr,to:Zr,fromCp:Gr,toCp:Wr,rotation:-Jr})}return $r}function isCombineMorphing(_r){return _r.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(_r,Be,Dr){var Mr=SAVED_METHOD_PREFIX+Be,$r=_r[Mr]||_r[Be];_r[Mr]||(_r[Mr]=_r[Be]);var Br=Dr.replace,zr=Dr.after,Vr=Dr.before;_r[Be]=function(){var jr=arguments,Gr;return Vr&&Vr.apply(this,jr),Br?Gr=Br.apply(this,jr):Gr=$r.apply(this,jr),zr&&zr.apply(this,jr),Gr}}function restoreMethod(_r,Be){var Dr=SAVED_METHOD_PREFIX+Be;_r[Dr]&&(_r[Be]=_r[Dr],_r[Dr]=null)}function applyTransformOnBeziers(_r,Be){for(var Dr=0;Dr<_r.length;Dr++)for(var Mr=_r[Dr],$r=0;$r<Mr.length;){var Br=Mr[$r],zr=Mr[$r+1];Mr[$r++]=Be[0]*Br+Be[2]*zr+Be[4],Mr[$r++]=Be[1]*Br+Be[3]*zr+Be[5]}}function prepareMorphPath(_r,Be){var Dr=_r.getUpdatedPathProxy(),Mr=Be.getUpdatedPathProxy(),$r=alignBezierCurves(pathToBezierCurves(Dr),pathToBezierCurves(Mr)),Br=$r[0],zr=$r[1],Vr=_r.getComputedTransform(),jr=Be.getComputedTransform();function Gr(){this.transform=null}Vr&&applyTransformOnBeziers(Br,Vr),jr&&applyTransformOnBeziers(zr,jr),saveAndModifyMethod(Be,"updateTransform",{replace:Gr}),Be.transform=null;var Wr=findBestMorphingRotation(Br,zr,10,Math.PI),Kr=[];saveAndModifyMethod(Be,"buildPath",{replace:function(Zr){for(var Jr=Be.__morphT,rn=1-Jr,nn=[],ln=0;ln<Wr.length;ln++){var cn=Wr[ln],hn=cn.from,mn=cn.to,bn=cn.rotation*Jr,An=cn.fromCp,vn=cn.toCp,dn=Math.sin(bn),wn=Math.cos(bn);lerp$1(nn,An,vn,Jr);for(var xn=0;xn<hn.length;xn+=2){var Mn=hn[xn],In=hn[xn+1],Hn=mn[xn],$n=mn[xn+1],jn=Mn*rn+Hn*Jr,Bn=In*rn+$n*Jr;Kr[xn]=jn*wn-Bn*dn+nn[0],Kr[xn+1]=jn*dn+Bn*wn+nn[1]}var Gn=Kr[0],ei=Kr[1];Zr.moveTo(Gn,ei);for(var xn=2;xn<hn.length;){var Hn=Kr[xn++],$n=Kr[xn++],ri=Kr[xn++],vi=Kr[xn++],wi=Kr[xn++],Ni=Kr[xn++];Gn===Hn&&ei===$n&&ri===wi&&vi===Ni?Zr.lineTo(wi,Ni):Zr.bezierCurveTo(Hn,$n,ri,vi,wi,Ni),Gn=wi,ei=Ni}}}})}function morphPath(_r,Be,Dr){if(!_r||!Be)return Be;var Mr=Dr.done,$r=Dr.during;prepareMorphPath(_r,Be),Be.__morphT=0;function Br(){restoreMethod(Be,"buildPath"),restoreMethod(Be,"updateTransform"),Be.__morphT=-1,Be.createPathProxy(),Be.dirtyShape()}return Be.animateTo({__morphT:1},defaults({during:function(zr){Be.dirtyShape(),$r&&$r(zr)},done:function(){Br(),Mr&&Mr()}},Dr)),Be}function hilbert(_r,Be,Dr,Mr,$r,Br){var zr=16;_r=$r===Dr?0:Math.round(32767*(_r-Dr)/($r-Dr)),Be=Br===Mr?0:Math.round(32767*(Be-Mr)/(Br-Mr));for(var Vr=0,jr,Gr=(1<<zr)/2;Gr>0;Gr/=2){var Wr=0,Kr=0;(_r&Gr)>0&&(Wr=1),(Be&Gr)>0&&(Kr=1),Vr+=Gr*Gr*(3*Wr^Kr),Kr===0&&(Wr===1&&(_r=Gr-1-_r,Be=Gr-1-Be),jr=_r,_r=Be,Be=jr)}return Vr}function sortPaths(_r){var Be=1/0,Dr=1/0,Mr=-1/0,$r=-1/0,Br=map$1(_r,function(Vr){var jr=Vr.getBoundingRect(),Gr=Vr.getComputedTransform(),Wr=jr.x+jr.width/2+(Gr?Gr[4]:0),Kr=jr.y+jr.height/2+(Gr?Gr[5]:0);return Be=Math.min(Wr,Be),Dr=Math.min(Kr,Dr),Mr=Math.max(Wr,Mr),$r=Math.max(Kr,$r),[Wr,Kr]}),zr=map$1(Br,function(Vr,jr){return{cp:Vr,z:hilbert(Vr[0],Vr[1],Be,Dr,Mr,$r),path:_r[jr]}});return zr.sort(function(Vr,jr){return Vr.z-jr.z}).map(function(Vr){return Vr.path})}function defaultDividePath(_r){return split(_r.path,_r.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(_r,Be,Dr){var Mr=[];function $r(An){for(var vn=0;vn<An.length;vn++){var dn=An[vn];isCombineMorphing(dn)?$r(dn.childrenRef()):dn instanceof Path$1&&Mr.push(dn)}}$r(_r);var Br=Mr.length;if(!Br)return createEmptyReturn();var zr=Dr.dividePath||defaultDividePath,Vr=zr({path:Be,count:Br});if(Vr.length!==Br)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();Mr=sortPaths(Mr),Vr=sortPaths(Vr);for(var jr=Dr.done,Gr=Dr.during,Wr=Dr.individualDelay,Kr=new Transformable$1,Zr=0;Zr<Br;Zr++){var Jr=Mr[Zr],rn=Vr[Zr];rn.parent=Be,rn.copyTransform(Kr),Wr||prepareMorphPath(Jr,rn)}Be.__isCombineMorphing=!0,Be.childrenRef=function(){return Vr};function nn(An){for(var vn=0;vn<Vr.length;vn++)Vr[vn].addSelfToZr(An)}saveAndModifyMethod(Be,"addSelfToZr",{after:function(An){nn(An)}}),saveAndModifyMethod(Be,"removeSelfFromZr",{after:function(An){for(var vn=0;vn<Vr.length;vn++)Vr[vn].removeSelfFromZr(An)}});function ln(){Be.__isCombineMorphing=!1,Be.__morphT=-1,Be.childrenRef=null,restoreMethod(Be,"addSelfToZr"),restoreMethod(Be,"removeSelfFromZr")}var cn=Vr.length;if(Wr)for(var hn=cn,mn=function(){hn--,hn===0&&(ln(),jr&&jr())},Zr=0;Zr<cn;Zr++){var bn=Wr?defaults({delay:(Dr.delay||0)+Wr(Zr,cn,Mr[Zr],Vr[Zr]),done:mn},Dr):Dr;morphPath(Mr[Zr],Vr[Zr],bn)}else Be.__morphT=0,Be.animateTo({__morphT:1},defaults({during:function(An){for(var vn=0;vn<cn;vn++){var dn=Vr[vn];dn.__morphT=Be.__morphT,dn.dirtyShape()}Gr&&Gr(An)},done:function(){ln();for(var An=0;An<_r.length;An++)restoreMethod(_r[An],"updateTransform");jr&&jr()}},Dr));return Be.__zr&&nn(Be.__zr),{fromIndividuals:Mr,toIndividuals:Vr,count:cn}}function separateMorph(_r,Be,Dr){var Mr=Be.length,$r=[],Br=Dr.dividePath||defaultDividePath;function zr(Jr){for(var rn=0;rn<Jr.length;rn++){var nn=Jr[rn];isCombineMorphing(nn)?zr(nn.childrenRef()):nn instanceof Path$1&&$r.push(nn)}}if(isCombineMorphing(_r)){zr(_r.childrenRef());var Vr=$r.length;if(Vr<Mr)for(var jr=0,Gr=Vr;Gr<Mr;Gr++)$r.push(clonePath($r[jr++%Vr]));$r.length=Mr}else{$r=Br({path:_r,count:Mr});for(var Wr=_r.getComputedTransform(),Gr=0;Gr<$r.length;Gr++)$r[Gr].setLocalTransform(Wr);if($r.length!==Mr)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}$r=sortPaths($r),Be=sortPaths(Be);for(var Kr=Dr.individualDelay,Gr=0;Gr<Mr;Gr++){var Zr=Kr?defaults({delay:(Dr.delay||0)+Kr(Gr,Mr,$r[Gr],Be[Gr])},Dr):Dr;morphPath($r[Gr],Be[Gr],Zr)}return{fromIndividuals:$r,toIndividuals:Be,count:Be.length}}function isMultiple(_r){return isArray$1(_r[0])}function prepareMorphBatches(_r,Be){for(var Dr=[],Mr=_r.length,$r=0;$r<Mr;$r++)Dr.push({one:_r[$r],many:[]});for(var $r=0;$r<Be.length;$r++){var Br=Be[$r].length,zr=void 0;for(zr=0;zr<Br;zr++)Dr[zr%Mr].many.push(Be[$r][zr])}for(var Vr=0,$r=Mr-1;$r>=0;$r--)if(!Dr[$r].many.length){var jr=Dr[Vr].many;if(jr.length<=1)if(Vr)Vr=0;else return Dr;var Br=jr.length,Gr=Math.ceil(Br/2);Dr[$r].many=jr.slice(Gr,Br),Dr[Vr].many=jr.slice(0,Gr),Vr++}return Dr}var pathDividers={clone:function(_r){for(var Be=[],Dr=1-Math.pow(1-_r.path.style.opacity,1/_r.count),Mr=0;Mr<_r.count;Mr++){var $r=clonePath(_r.path);$r.setStyle("opacity",Dr),Be.push($r)}return Be},split:null};function applyMorphAnimation(_r,Be,Dr,Mr,$r,Br){if(!_r.length||!Be.length)return;var zr=getAnimationConfig("update",Mr,$r);if(!(zr&&zr.duration>0))return;var Vr=Mr.getModel("universalTransition").get("delay"),jr=Object.assign({setToFinal:!0},zr),Gr,Wr;isMultiple(_r)&&(Gr=_r,Wr=Be),isMultiple(Be)&&(Gr=Be,Wr=_r);function Kr(cn,hn,mn,bn,An){var vn=cn.many,dn=cn.one;if(vn.length===1&&!An){var wn=hn?vn[0]:dn,xn=hn?dn:vn[0];if(isCombineMorphing(wn))Kr({many:[wn],one:xn},!0,mn,bn,!0);else{var Mn=Vr?defaults({delay:Vr(mn,bn)},jr):jr;morphPath(wn,xn,Mn),Br(wn,xn,wn,xn,Mn)}}else for(var In=defaults({dividePath:pathDividers[Dr],individualDelay:Vr&&function(ei,ri,vi,wi){return Vr(ei+mn,bn)}},jr),Hn=hn?combineMorph(vn,dn,In):separateMorph(dn,vn,In),$n=Hn.fromIndividuals,jn=Hn.toIndividuals,Bn=$n.length,Gn=0;Gn<Bn;Gn++){var Mn=Vr?defaults({delay:Vr(Gn,Bn)},jr):jr;Br($n[Gn],jn[Gn],hn?vn[Gn]:cn.one,hn?cn.one:vn[Gn],Mn)}}for(var Zr=Gr?Gr===_r:_r.length>Be.length,Jr=Gr?prepareMorphBatches(Wr,Gr):prepareMorphBatches(Zr?Be:_r,[Zr?_r:Be]),rn=0,nn=0;nn<Jr.length;nn++)rn+=Jr[nn].many.length;for(var ln=0,nn=0;nn<Jr.length;nn++)Kr(Jr[nn],Zr,ln,rn),ln+=Jr[nn].many.length}function getPathList(_r){if(!_r)return[];if(isArray$1(_r)){for(var Be=[],Dr=0;Dr<_r.length;Dr++)Be.push(getPathList(_r[Dr]));return Be}var Mr=[];return _r.traverse(function($r){$r instanceof Path$1&&!$r.disableMorphing&&!$r.invisible&&!$r.ignore&&Mr.push($r)}),Mr}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(_r){for(var Be=_r.dimensions,Dr=0;Dr<Be.length;Dr++){var Mr=_r.getDimensionInfo(Be[Dr]);if(Mr&&Mr.otherDims.itemGroupId===0)return Be[Dr]}}function flattenDataDiffItems(_r){var Be=[];return each$f(_r,function(Dr){var Mr=Dr.data;if(!(Mr.count()>DATA_COUNT_THRESHOLD))for(var $r=Mr.getIndices(),Br=getGroupIdDimension(Mr),zr=0;zr<$r.length;zr++)Be.push({dataGroupId:Dr.dataGroupId,data:Mr,dim:Dr.dim||Br,divide:Dr.divide,dataIndex:zr})}),Be}function fadeInElement(_r,Be,Dr){_r.traverse(function(Mr){Mr instanceof Path$1&&initProps(Mr,{style:{opacity:0}},Be,{dataIndex:Dr,isFrom:!0})})}function removeEl(_r){if(_r.parent){var Be=_r.getComputedTransform();_r.setLocalTransform(Be),_r.parent.remove(_r)}}function stopAnimation(_r){_r.stopAnimation(),_r.isGroup&&_r.traverse(function(Be){Be.stopAnimation()})}function animateElementStyles(_r,Be,Dr){var Mr=getAnimationConfig("update",Dr,Be);Mr&&_r.traverse(function($r){if($r instanceof Displayable$1){var Br=getOldStyle($r);Br&&$r.animateFrom({style:Br},Mr)}})}function isAllIdSame(_r,Be){var Dr=_r.length;if(Dr!==Be.length)return!1;for(var Mr=0;Mr<Dr;Mr++){var $r=_r[Mr],Br=Be[Mr];if($r.data.getId($r.dataIndex)!==Br.data.getId(Br.dataIndex))return!1}return!0}function transitionBetween(_r,Be,Dr){var Mr=flattenDataDiffItems(_r),$r=flattenDataDiffItems(Be);function Br(cn,hn,mn,bn,An){(mn||cn)&&hn.animateFrom({style:mn&&mn!==cn?extend$1(extend$1({},mn.style),cn.style):cn.style},An)}function zr(cn){for(var hn=0;hn<cn.length;hn++)if(cn[hn].dim)return cn[hn].dim}var Vr=zr(Mr),jr=zr($r),Gr=!1;function Wr(cn,hn){return function(mn){var bn=mn.data,An=mn.dataIndex;if(hn)return bn.getId(An);var vn=mn.dataGroupId,dn=cn?Vr||jr:jr||Vr,wn=dn&&bn.getDimensionInfo(dn),xn=wn&&wn.ordinalMeta;if(wn){var Mn=bn.get(wn.name,An);return xn&&xn.categories[Mn]||Mn+""}var In=bn.getRawDataItem(An);return In&&In.groupId?In.groupId+"":vn||bn.getId(An)}}var Kr=isAllIdSame(Mr,$r),Zr={};if(!Kr)for(var Jr=0;Jr<$r.length;Jr++){var rn=$r[Jr],nn=rn.data.getItemGraphicEl(rn.dataIndex);nn&&(Zr[nn.id]=!0)}function ln(cn,hn){var mn=Mr[hn],bn=$r[cn],An=bn.data.hostModel,vn=mn.data.getItemGraphicEl(mn.dataIndex),dn=bn.data.getItemGraphicEl(bn.dataIndex);if(vn===dn){dn&&animateElementStyles(dn,bn.dataIndex,An);return}vn&&Zr[vn.id]||dn&&(stopAnimation(dn),vn?(stopAnimation(vn),removeEl(vn),Gr=!0,applyMorphAnimation(getPathList(vn),getPathList(dn),bn.divide,An,cn,Br)):fadeInElement(dn,An,cn))}new DataDiffer$1(Mr,$r,Wr(!0,Kr),Wr(!1,Kr),null,"multiple").update(ln).updateManyToOne(function(cn,hn){var mn=$r[cn],bn=mn.data,An=bn.hostModel,vn=bn.getItemGraphicEl(mn.dataIndex),dn=filter(map$1(hn,function(wn){return Mr[wn].data.getItemGraphicEl(Mr[wn].dataIndex)}),function(wn){return wn&&wn!==vn&&!Zr[wn.id]});vn&&(stopAnimation(vn),dn.length?(each$f(dn,function(wn){stopAnimation(wn),removeEl(wn)}),Gr=!0,applyMorphAnimation(getPathList(dn),getPathList(vn),mn.divide,An,cn,Br)):fadeInElement(vn,An,mn.dataIndex))}).updateOneToMany(function(cn,hn){var mn=Mr[hn],bn=mn.data.getItemGraphicEl(mn.dataIndex);if(!(bn&&Zr[bn.id])){var An=filter(map$1(cn,function(dn){return $r[dn].data.getItemGraphicEl($r[dn].dataIndex)}),function(dn){return dn&&dn!==bn}),vn=$r[cn[0]].data.hostModel;An.length&&(each$f(An,function(dn){return stopAnimation(dn)}),bn?(stopAnimation(bn),removeEl(bn),Gr=!0,applyMorphAnimation(getPathList(bn),getPathList(An),mn.divide,vn,cn[0],Br)):each$f(An,function(dn){return fadeInElement(dn,vn,cn[0])}))}}).updateManyToMany(function(cn,hn){new DataDiffer$1(hn,cn,function(mn){return Mr[mn].data.getId(Mr[mn].dataIndex)},function(mn){return $r[mn].data.getId($r[mn].dataIndex)}).update(function(mn,bn){ln(cn[mn],hn[bn])}).execute()}).execute(),Gr&&each$f(Be,function(cn){var hn=cn.data,mn=hn.hostModel,bn=mn&&Dr.getViewOfSeriesModel(mn),An=getAnimationConfig("update",mn,0);bn&&mn.isAnimationEnabled()&&An&&An.duration>0&&bn.group.traverse(function(vn){vn instanceof Path$1&&!vn.animators.length&&vn.animateFrom({style:{opacity:0}},An)})})}function getSeriesTransitionKey(_r){var Be=_r.getModel("universalTransition").get("seriesKey");return Be||_r.id}function convertArraySeriesKeyToString(_r){return isArray$1(_r)?_r.sort().join(","):_r}function getDivideShapeFromData(_r){if(_r.hostModel)return _r.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(_r,Be){var Dr=createHashMap(),Mr=createHashMap(),$r=createHashMap();return each$f(_r.oldSeries,function(Br,zr){var Vr=_r.oldDataGroupIds[zr],jr=_r.oldData[zr],Gr=getSeriesTransitionKey(Br),Wr=convertArraySeriesKeyToString(Gr);Mr.set(Wr,{dataGroupId:Vr,data:jr}),isArray$1(Gr)&&each$f(Gr,function(Kr){$r.set(Kr,{key:Wr,dataGroupId:Vr,data:jr})})}),each$f(Be.updatedSeries,function(Br){if(Br.isUniversalTransitionEnabled()&&Br.isAnimationEnabled()){var zr=Br.get("dataGroupId"),Vr=Br.getData(),jr=getSeriesTransitionKey(Br),Gr=convertArraySeriesKeyToString(jr),Wr=Mr.get(Gr);if(Wr)Dr.set(Gr,{oldSeries:[{dataGroupId:Wr.dataGroupId,divide:getDivideShapeFromData(Wr.data),data:Wr.data}],newSeries:[{dataGroupId:zr,divide:getDivideShapeFromData(Vr),data:Vr}]});else if(isArray$1(jr)){var Kr=[];each$f(jr,function(rn){var nn=Mr.get(rn);nn.data&&Kr.push({dataGroupId:nn.dataGroupId,divide:getDivideShapeFromData(nn.data),data:nn.data})}),Kr.length&&Dr.set(Gr,{oldSeries:Kr,newSeries:[{dataGroupId:zr,data:Vr,divide:getDivideShapeFromData(Vr)}]})}else{var Zr=$r.get(jr);if(Zr){var Jr=Dr.get(Zr.key);Jr||(Jr={oldSeries:[{dataGroupId:Zr.dataGroupId,data:Zr.data,divide:getDivideShapeFromData(Zr.data)}],newSeries:[]},Dr.set(Zr.key,Jr)),Jr.newSeries.push({dataGroupId:zr,data:Vr,divide:getDivideShapeFromData(Vr)})}}}}),Dr}function querySeries(_r,Be){for(var Dr=0;Dr<_r.length;Dr++){var Mr=Be.seriesIndex!=null&&Be.seriesIndex===_r[Dr].seriesIndex||Be.seriesId!=null&&Be.seriesId===_r[Dr].id;if(Mr)return Dr}}function transitionSeriesFromOpt(_r,Be,Dr,Mr){var $r=[],Br=[];each$f(normalizeToArray(_r.from),function(zr){var Vr=querySeries(Be.oldSeries,zr);Vr>=0&&$r.push({dataGroupId:Be.oldDataGroupIds[Vr],data:Be.oldData[Vr],divide:getDivideShapeFromData(Be.oldData[Vr]),dim:zr.dimension})}),each$f(normalizeToArray(_r.to),function(zr){var Vr=querySeries(Dr.updatedSeries,zr);if(Vr>=0){var jr=Dr.updatedSeries[Vr].getData();Br.push({dataGroupId:Be.oldDataGroupIds[Vr],data:jr,divide:getDivideShapeFromData(jr),dim:zr.dimension})}}),$r.length>0&&Br.length>0&&transitionBetween($r,Br,Mr)}function installUniversalTransition(_r){_r.registerUpdateLifecycle("series:beforeupdate",function(Be,Dr,Mr){each$f(normalizeToArray(Mr.seriesTransition),function($r){each$f(normalizeToArray($r.to),function(Br){for(var zr=Mr.updatedSeries,Vr=0;Vr<zr.length;Vr++)(Br.seriesIndex!=null&&Br.seriesIndex===zr[Vr].seriesIndex||Br.seriesId!=null&&Br.seriesId===zr[Vr].id)&&(zr[Vr][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),_r.registerUpdateLifecycle("series:transition",function(Be,Dr,Mr){var $r=getUniversalTransitionGlobalStore(Dr);if($r.oldSeries&&Mr.updatedSeries&&Mr.optionChanged){var Br=Mr.seriesTransition;if(Br)each$f(normalizeToArray(Br),function(Jr){transitionSeriesFromOpt(Jr,$r,Mr,Dr)});else{var zr=findTransitionSeriesBatches($r,Mr);each$f(zr.keys(),function(Jr){var rn=zr.get(Jr);transitionBetween(rn.oldSeries,rn.newSeries,Dr)})}each$f(Mr.updatedSeries,function(Jr){Jr[SERIES_UNIVERSAL_TRANSITION_PROP]&&(Jr[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var Vr=Be.getSeries(),jr=$r.oldSeries=[],Gr=$r.oldDataGroupIds=[],Wr=$r.oldData=[],Kr=0;Kr<Vr.length;Kr++){var Zr=Vr[Kr].getData();Zr.count()<DATA_COUNT_THRESHOLD&&(jr.push(Vr[Kr]),Gr.push(Vr[Kr].get("dataGroupId")),Wr.push(Zr))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);const echarts=Object.freeze(Object.defineProperty({__proto__:null,Axis:Axis$1,ChartView:ChartView$1,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,List:SeriesData$1,Model:Model$1,PRIORITY,SeriesModel:SeriesModel$1,color,connect,dataTool,dependencies,disConnect,disconnect,dispose,env:env$1,extendChartView,extendComponentModel,extendComponentView,extendSeriesModel,format,getCoordinateSystemDimensions,getInstanceByDom,getInstanceById,getMap,graphic,helper,init:init$1,innerDrawElementOnCanvas:brushSingle,matrix,number,parseGeoJSON,parseGeoJson:parseGeoJSON,registerAction,registerCoordinateSystem,registerLayout,registerLoading,registerLocale,registerMap:registerMap$1,registerPostInit,registerPostUpdate,registerPreprocessor,registerProcessor,registerTheme,registerTransform,registerUpdateLifecycle,registerVisual,setCanvasCreator,setPlatformAPI,throttle,time,use,util,vector,version,zrUtil:util$1,zrender},Symbol.toStringTag,{value:"Module"}));var objectExtend=extend;function extend(){var _r=[].slice.call(arguments),Be=!1;typeof _r[0]=="boolean"&&(Be=_r.shift());var Dr=_r[0];if(isUnextendable(Dr))throw new Error("extendee must be an object");for(var Mr=_r.slice(1),$r=Mr.length,Br=0;Br<$r;Br++){var zr=Mr[Br];for(var Vr in zr)if(Object.prototype.hasOwnProperty.call(zr,Vr)){var jr=zr[Vr];if(Be&&isCloneable(jr)){var Gr=Array.isArray(jr)?[]:{};Dr[Vr]=extend(!0,Object.prototype.hasOwnProperty.call(Dr,Vr)&&!isUnextendable(Dr[Vr])?Dr[Vr]:Gr,jr)}else Dr[Vr]=jr}}return Dr}function isCloneable(_r){return Array.isArray(_r)||{}.toString.call(_r)=="[object Object]"}function isUnextendable(_r){return!_r||typeof _r!="object"&&typeof _r!="function"}function $parcel$interopDefault(_r){return _r&&_r.__esModule?_r.default:_r}class $4040acfd8584338d$export$2e2bcd8739ae039{on(Be,Dr){return this._callbacks=this._callbacks||{},this._callbacks[Be]||(this._callbacks[Be]=[]),this._callbacks[Be].push(Dr),this}emit(Be,...Dr){this._callbacks=this._callbacks||{};let Mr=this._callbacks[Be];if(Mr)for(let $r of Mr)$r.apply(this,Dr);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+Be,{args:Dr})),this}makeEvent(Be,Dr){let Mr={bubbles:!0,cancelable:!0,detail:Dr};if(typeof window.CustomEvent=="function")return new CustomEvent(Be,Mr);var $r=document.createEvent("CustomEvent");return $r.initCustomEvent(Be,Mr.bubbles,Mr.cancelable,Mr.detail),$r}off(Be,Dr){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let Mr=this._callbacks[Be];if(!Mr)return this;if(arguments.length===1)return delete this._callbacks[Be],this;for(let $r=0;$r<Mr.length;$r++)if(Mr[$r]===Dr){Mr.splice($r,1);break}return this}}var $fd6031f88dce2e32$exports={};$fd6031f88dce2e32$exports=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let $4ca367182776f80b$var$defaultOptions={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(_r,Be,Dr){if(Dr)return{dzuuid:Dr.file.upload.uuid,dzchunkindex:Dr.index,dztotalfilesize:Dr.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:Dr.file.upload.totalChunkCount,dzchunkbyteoffset:Dr.index*this.options.chunkSize}},accept(_r,Be){return Be()},chunksUploaded:function(_r,Be){Be()},binaryBody:!1,fallback(){let _r;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let Dr of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(Dr.className)){_r=Dr,Dr.className="dz-message";break}_r||(_r=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(_r));let Be=_r.getElementsByTagName("span")[0];return Be&&(Be.textContent!=null?Be.textContent=this.options.dictFallbackMessage:Be.innerText!=null&&(Be.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(_r,Be,Dr,Mr){let $r={srcX:0,srcY:0,srcWidth:_r.width,srcHeight:_r.height},Br=_r.width/_r.height;Be==null&&Dr==null?(Be=$r.srcWidth,Dr=$r.srcHeight):Be==null?Be=Dr*Br:Dr==null&&(Dr=Be/Br),Be=Math.min(Be,$r.srcWidth),Dr=Math.min(Dr,$r.srcHeight);let zr=Be/Dr;if($r.srcWidth>Be||$r.srcHeight>Dr)if(Mr==="crop")Br>zr?($r.srcHeight=_r.height,$r.srcWidth=$r.srcHeight*zr):($r.srcWidth=_r.width,$r.srcHeight=$r.srcWidth/zr);else if(Mr==="contain")Br>zr?Dr=Be/Br:Be=Dr*Br;else throw new Error(`Unknown resizeMethod '${Mr}'`);return $r.srcX=(_r.width-$r.srcWidth)/2,$r.srcY=(_r.height-$r.srcHeight)/2,$r.trgWidth=Be,$r.trgHeight=Dr,$r},transformFile(_r,Be){return(this.options.resizeWidth||this.options.resizeHeight)&&_r.type.match(/image.*/)?this.resizeImage(_r,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,Be):Be(_r)},previewTemplate:$parcel$interopDefault($fd6031f88dce2e32$exports),drop(_r){return this.element.classList.remove("dz-drag-hover")},dragstart(_r){},dragend(_r){return this.element.classList.remove("dz-drag-hover")},dragenter(_r){return this.element.classList.add("dz-drag-hover")},dragover(_r){return this.element.classList.add("dz-drag-hover")},dragleave(_r){return this.element.classList.remove("dz-drag-hover")},paste(_r){},reset(){return this.element.classList.remove("dz-started")},addedfile(_r){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){_r.previewElement=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(this.options.previewTemplate.trim()),_r.previewTemplate=_r.previewElement,this.previewsContainer.appendChild(_r.previewElement);for(var Be of _r.previewElement.querySelectorAll("[data-dz-name]"))Be.textContent=_r.name;for(Be of _r.previewElement.querySelectorAll("[data-dz-size]"))Be.innerHTML=this.filesize(_r.size);this.options.addRemoveLinks&&(_r._removeLink=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),_r.previewElement.appendChild(_r._removeLink));let Dr=Mr=>(Mr.preventDefault(),Mr.stopPropagation(),_r.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING?$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(_r)):this.options.dictRemoveFileConfirmation?$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(_r)):this.removeFile(_r));for(let Mr of _r.previewElement.querySelectorAll("[data-dz-remove]"))Mr.addEventListener("click",Dr)}},removedfile(_r){return _r.previewElement!=null&&_r.previewElement.parentNode!=null&&_r.previewElement.parentNode.removeChild(_r.previewElement),this._updateMaxFilesReachedClass()},thumbnail(_r,Be){if(_r.previewElement){_r.previewElement.classList.remove("dz-file-preview");for(let Dr of _r.previewElement.querySelectorAll("[data-dz-thumbnail]"))Dr.alt=_r.name,Dr.src=Be;return setTimeout(()=>_r.previewElement.classList.add("dz-image-preview"),1)}},error(_r,Be){if(_r.previewElement){_r.previewElement.classList.add("dz-error"),typeof Be!="string"&&Be.error&&(Be=Be.error);for(let Dr of _r.previewElement.querySelectorAll("[data-dz-errormessage]"))Dr.textContent=Be}},errormultiple(){},processing(_r){if(_r.previewElement&&(_r.previewElement.classList.add("dz-processing"),_r._removeLink))return _r._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(_r,Be,Dr){if(_r.previewElement)for(let Mr of _r.previewElement.querySelectorAll("[data-dz-uploadprogress]"))Mr.nodeName==="PROGRESS"?Mr.value=Be:Mr.style.width=`${Be}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(_r){if(_r.previewElement)return _r.previewElement.classList.add("dz-success")},successmultiple(){},canceled(_r){return this.emit("error",_r,this.options.dictUploadCanceled)},canceledmultiple(){},complete(_r){if(_r._removeLink&&(_r._removeLink.innerHTML=this.options.dictRemoveFile),_r.previewElement)return _r.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var $4ca367182776f80b$export$2e2bcd8739ae039=$4ca367182776f80b$var$defaultOptions;class $3ed269f2f0fb224b$export$2e2bcd8739ae039 extends $4040acfd8584338d$export$2e2bcd8739ae039{static initClass(){this.prototype.Emitter=$4040acfd8584338d$export$2e2bcd8739ae039,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(Be=>Be.accepted).map(Be=>Be)}getRejectedFiles(){return this.files.filter(Be=>!Be.accepted).map(Be=>Be)}getFilesWithStatus(Be){return this.files.filter(Dr=>Dr.status===Be).map(Dr=>Dr)}getQueuedFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus($3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED)}getActiveFiles(){return this.files.filter(Be=>Be.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING||Be.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED).map(Be=>Be)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild($3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let Mr=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:$r}=this.hiddenFileInput;if($r.length)for(let Br of $r)this.addFile(Br);this.emit("addedfiles",$r),Mr()})};Mr()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let Mr of this.events)this.on(Mr,this.options[Mr]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",Mr=>this.emit("complete",Mr)),this.on("complete",Mr=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const Be=function(Mr){if(Mr.dataTransfer.types){for(var $r=0;$r<Mr.dataTransfer.types.length;$r++)if(Mr.dataTransfer.types[$r]==="Files")return!0}return!1};let Dr=function(Mr){if(Be(Mr))return Mr.stopPropagation(),Mr.preventDefault?Mr.preventDefault():Mr.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:Mr=>this.emit("dragstart",Mr),dragenter:Mr=>(Dr(Mr),this.emit("dragenter",Mr)),dragover:Mr=>{let $r;try{$r=Mr.dataTransfer.effectAllowed}catch{}return Mr.dataTransfer.dropEffect=$r==="move"||$r==="linkMove"?"move":"copy",Dr(Mr),this.emit("dragover",Mr)},dragleave:Mr=>this.emit("dragleave",Mr),drop:Mr=>(Dr(Mr),this.drop(Mr)),dragend:Mr=>this.emit("dragend",Mr)}}],this.clickableElements.forEach(Mr=>this.listeners.push({element:Mr,events:{click:$r=>((Mr!==this.element||$r.target===this.element||$3ed269f2f0fb224b$export$2e2bcd8739ae039.elementInside($r.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.splice($3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.indexOf(this),1)}updateTotalUploadProgress(){let Be,Dr=0,Mr=0;if(this.getActiveFiles().length){for(let Br of this.getActiveFiles())Dr+=Br.upload.bytesSent,Mr+=Br.upload.total;Be=100*Dr/Mr}else Be=100;return this.emit("totaluploadprogress",Be,Mr,Dr)}_getParamName(Be){return typeof this.options.paramName=="function"?this.options.paramName(Be):`${this.options.paramName}${this.options.uploadMultiple?`[${Be}]`:""}`}_renameFile(Be){return typeof this.options.renameFile!="function"?Be.name:this.options.renameFile(Be)}getFallbackForm(){let Be,Dr;if(Be=this.getExistingFallback())return Be;let Mr='<div class="dz-fallback">';this.options.dictFallbackText&&(Mr+=`<p>${this.options.dictFallbackText}</p>`),Mr+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let $r=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(Mr);return this.element.tagName!=="FORM"?(Dr=$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),Dr.appendChild($r)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),Dr??$r}getExistingFallback(){let Be=function(Mr){for(let $r of Mr)if(/(^| )fallback($| )/.test($r.className))return $r};for(let Mr of["div","form"]){var Dr;if(Dr=Be(this.element.getElementsByTagName(Mr)))return Dr}}setupEventListeners(){return this.listeners.map(Be=>(()=>{let Dr=[];for(let Mr in Be.events){let $r=Be.events[Mr];Dr.push(Be.element.addEventListener(Mr,$r,!1))}return Dr})())}removeEventListeners(){return this.listeners.map(Be=>(()=>{let Dr=[];for(let Mr in Be.events){let $r=Be.events[Mr];Dr.push(Be.element.removeEventListener(Mr,$r,!1))}return Dr})())}disable(){return this.clickableElements.forEach(Be=>Be.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(Be=>this.cancelUpload(Be))}enable(){return delete this.disabled,this.clickableElements.forEach(Be=>Be.classList.add("dz-clickable")),this.setupEventListeners()}filesize(Be){let Dr=0,Mr="b";if(Be>0){let $r=["tb","gb","mb","kb","b"];for(let Br=0;Br<$r.length;Br++){let zr=$r[Br],Vr=Math.pow(this.options.filesizeBase,4-Br)/10;if(Be>=Vr){Dr=Be/Math.pow(this.options.filesizeBase,4-Br),Mr=zr;break}}Dr=Math.round(10*Dr)/10}return`<strong>${Dr}</strong> ${this.options.dictFileSizeUnits[Mr]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(Be){if(!Be.dataTransfer)return;this.emit("drop",Be);let Dr=[];for(let Mr=0;Mr<Be.dataTransfer.files.length;Mr++)Dr[Mr]=Be.dataTransfer.files[Mr];if(Dr.length){let{items:Mr}=Be.dataTransfer;Mr&&Mr.length&&Mr[0].webkitGetAsEntry!=null?this._addFilesFromItems(Mr):this.handleFiles(Dr)}this.emit("addedfiles",Dr)}paste(Be){if($3ed269f2f0fb224b$var$__guard__(Be!=null?Be.clipboardData:void 0,Mr=>Mr.items)==null)return;this.emit("paste",Be);let{items:Dr}=Be.clipboardData;if(Dr.length)return this._addFilesFromItems(Dr)}handleFiles(Be){for(let Dr of Be)this.addFile(Dr)}_addFilesFromItems(Be){return(()=>{let Dr=[];for(let $r of Be){var Mr;$r.webkitGetAsEntry!=null&&(Mr=$r.webkitGetAsEntry())?Mr.isFile?Dr.push(this.addFile($r.getAsFile())):Mr.isDirectory?Dr.push(this._addFilesFromDirectory(Mr,Mr.name)):Dr.push(void 0):$r.getAsFile!=null&&($r.kind==null||$r.kind==="file")?Dr.push(this.addFile($r.getAsFile())):Dr.push(void 0)}return Dr})()}_addFilesFromDirectory(Be,Dr){let Mr=Be.createReader(),$r=zr=>$3ed269f2f0fb224b$var$__guardMethod__(console,"log",Vr=>Vr.log(zr));var Br=()=>Mr.readEntries(zr=>{if(zr.length>0){for(let Vr of zr)Vr.isFile?Vr.file(jr=>{if(!(this.options.ignoreHiddenFiles&&jr.name.substring(0,1)==="."))return jr.fullPath=`${Dr}/${jr.name}`,this.addFile(jr)}):Vr.isDirectory&&this._addFilesFromDirectory(Vr,`${Dr}/${Vr.name}`);Br()}return null},$r);return Br()}accept(Be,Dr){this.options.maxFilesize&&Be.size>this.options.maxFilesize*1048576?Dr(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(Be.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):$3ed269f2f0fb224b$export$2e2bcd8739ae039.isValidFile(Be,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(Dr(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",Be)):this.options.accept.call(this,Be,Dr):Dr(this.options.dictInvalidFileType)}addFile(Be){Be.upload={uuid:$3ed269f2f0fb224b$export$2e2bcd8739ae039.uuidv4(),progress:0,total:Be.size,bytesSent:0,filename:this._renameFile(Be)},this.files.push(Be),Be.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED,this.emit("addedfile",Be),this._enqueueThumbnail(Be),this.accept(Be,Dr=>{Dr?(Be.accepted=!1,this._errorProcessing([Be],Dr)):(Be.accepted=!0,this.options.autoQueue&&this.enqueueFile(Be)),this._updateMaxFilesReachedClass()})}enqueueFiles(Be){for(let Dr of Be)this.enqueueFile(Dr);return null}enqueueFile(Be){if(Be.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED&&Be.accepted===!0){if(Be.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(Be){if(this.options.createImageThumbnails&&Be.type.match(/image.*/)&&Be.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(Be),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let Be=this._thumbnailQueue.shift();return this.createThumbnail(Be,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,Dr=>(this.emit("thumbnail",Be,Dr),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(Be){if(Be.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING&&this.cancelUpload(Be),this.files=$3ed269f2f0fb224b$var$without(this.files,Be),this.emit("removedfile",Be),this.files.length===0)return this.emit("reset")}removeAllFiles(Be){Be==null&&(Be=!1);for(let Dr of this.files.slice())(Dr.status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING||Be)&&this.removeFile(Dr);return null}resizeImage(Be,Dr,Mr,$r,Br){return this.createThumbnail(Be,Dr,Mr,$r,!0,(zr,Vr)=>{if(Vr==null)return Br(Be);{let{resizeMimeType:jr}=this.options;jr==null&&(jr=Be.type);let Gr=Vr.toDataURL(jr,this.options.resizeQuality);return(jr==="image/jpeg"||jr==="image/jpg")&&(Gr=$3ed269f2f0fb224b$var$ExifRestore.restore(Be.dataURL,Gr)),Br($3ed269f2f0fb224b$export$2e2bcd8739ae039.dataURItoBlob(Gr))}})}createThumbnail(Be,Dr,Mr,$r,Br,zr){let Vr=new FileReader;Vr.onload=()=>{if(Be.dataURL=Vr.result,Be.type==="image/svg+xml"){zr!=null&&zr(Vr.result);return}this.createThumbnailFromUrl(Be,Dr,Mr,$r,Br,zr)},Vr.readAsDataURL(Be)}displayExistingFile(Be,Dr,Mr,$r,Br=!0){if(this.emit("addedfile",Be),this.emit("complete",Be),!Br)this.emit("thumbnail",Be,Dr),Mr&&Mr();else{let zr=Vr=>{this.emit("thumbnail",Be,Vr),Mr&&Mr()};Be.dataURL=Dr,this.createThumbnailFromUrl(Be,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,zr,$r)}}createThumbnailFromUrl(Be,Dr,Mr,$r,Br,zr,Vr){let jr=document.createElement("img");return Vr&&(jr.crossOrigin=Vr),Br=getComputedStyle(document.body).imageOrientation=="from-image"?!1:Br,jr.onload=()=>{let Gr=Wr=>Wr(1);return typeof EXIF<"u"&&EXIF!==null&&Br&&(Gr=Wr=>EXIF.getData(jr,function(){return Wr(EXIF.getTag(this,"Orientation"))})),Gr(Wr=>{Be.width=jr.width,Be.height=jr.height;let Kr=this.options.resize.call(this,Be,Dr,Mr,$r),Zr=document.createElement("canvas"),Jr=Zr.getContext("2d");switch(Zr.width=Kr.trgWidth,Zr.height=Kr.trgHeight,Wr>4&&(Zr.width=Kr.trgHeight,Zr.height=Kr.trgWidth),Wr){case 2:Jr.translate(Zr.width,0),Jr.scale(-1,1);break;case 3:Jr.translate(Zr.width,Zr.height),Jr.rotate(Math.PI);break;case 4:Jr.translate(0,Zr.height),Jr.scale(1,-1);break;case 5:Jr.rotate(.5*Math.PI),Jr.scale(1,-1);break;case 6:Jr.rotate(.5*Math.PI),Jr.translate(0,-Zr.width);break;case 7:Jr.rotate(.5*Math.PI),Jr.translate(Zr.height,-Zr.width),Jr.scale(-1,1);break;case 8:Jr.rotate(-.5*Math.PI),Jr.translate(-Zr.height,0);break}$3ed269f2f0fb224b$var$drawImageIOSFix(Jr,jr,Kr.srcX!=null?Kr.srcX:0,Kr.srcY!=null?Kr.srcY:0,Kr.srcWidth,Kr.srcHeight,Kr.trgX!=null?Kr.trgX:0,Kr.trgY!=null?Kr.trgY:0,Kr.trgWidth,Kr.trgHeight);let rn=Zr.toDataURL("image/png");if(zr!=null)return zr(rn,Zr)})},zr!=null&&(jr.onerror=zr),jr.src=Be.dataURL}processQueue(){let{parallelUploads:Be}=this.options,Dr=this.getUploadingFiles().length,Mr=Dr;if(Dr>=Be)return;let $r=this.getQueuedFiles();if($r.length>0){if(this.options.uploadMultiple)return this.processFiles($r.slice(0,Be-Dr));for(;Mr<Be;){if(!$r.length)return;this.processFile($r.shift()),Mr++}}}processFile(Be){return this.processFiles([Be])}processFiles(Be){for(let Dr of Be)Dr.processing=!0,Dr.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING,this.emit("processing",Dr);return this.options.uploadMultiple&&this.emit("processingmultiple",Be),this.uploadFiles(Be)}_getFilesWithXhr(Be){return this.files.filter(Dr=>Dr.xhr===Be).map(Dr=>Dr)}cancelUpload(Be){if(Be.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING){let Dr=this._getFilesWithXhr(Be.xhr);for(let Mr of Dr)Mr.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED;typeof Be.xhr<"u"&&Be.xhr.abort();for(let Mr of Dr)this.emit("canceled",Mr);this.options.uploadMultiple&&this.emit("canceledmultiple",Dr)}else(Be.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED||Be.status===$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED)&&(Be.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED,this.emit("canceled",Be),this.options.uploadMultiple&&this.emit("canceledmultiple",[Be]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(Be,...Dr){return typeof Be=="function"?Be.apply(this,Dr):Be}uploadFile(Be){return this.uploadFiles([Be])}uploadFiles(Be){this._transformFiles(Be,Dr=>{if(this.options.chunking){let Mr=Dr[0];Be[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||Mr.size>this.options.chunkSize),Be[0].upload.totalChunkCount=Math.ceil(Mr.size/this.options.chunkSize)}if(Be[0].upload.chunked){let Mr=Be[0],$r=Dr[0];Mr.upload.chunks=[];let Br=()=>{let zr=0;for(;Mr.upload.chunks[zr]!==void 0;)zr++;if(zr>=Mr.upload.totalChunkCount)return;let Vr=zr*this.options.chunkSize,jr=Math.min(Vr+this.options.chunkSize,$r.size),Gr={name:this._getParamName(0),data:$r.webkitSlice?$r.webkitSlice(Vr,jr):$r.slice(Vr,jr),filename:Mr.upload.filename,chunkIndex:zr};Mr.upload.chunks[zr]={file:Mr,index:zr,dataBlock:Gr,status:$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING,progress:0,retries:0},this._uploadData(Be,[Gr])};if(Mr.upload.finishedChunkUpload=(zr,Vr)=>{let jr=!0;zr.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS,zr.dataBlock=null,zr.response=zr.xhr.responseText,zr.responseHeaders=zr.xhr.getAllResponseHeaders(),zr.xhr=null;for(let Gr=0;Gr<Mr.upload.totalChunkCount;Gr++){if(Mr.upload.chunks[Gr]===void 0)return Br();Mr.upload.chunks[Gr].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS&&(jr=!1)}jr&&this.options.chunksUploaded(Mr,()=>{this._finished(Be,Vr,null)})},this.options.parallelChunkUploads)for(let zr=0;zr<Mr.upload.totalChunkCount;zr++)Br();else Br()}else{let Mr=[];for(let $r=0;$r<Be.length;$r++)Mr[$r]={name:this._getParamName($r),data:Dr[$r],filename:Be[$r].upload.filename};this._uploadData(Be,Mr)}})}_getChunk(Be,Dr){for(let Mr=0;Mr<Be.upload.totalChunkCount;Mr++)if(Be.upload.chunks[Mr]!==void 0&&Be.upload.chunks[Mr].xhr===Dr)return Be.upload.chunks[Mr]}_uploadData(Be,Dr){let Mr=new XMLHttpRequest;for(let Gr of Be)Gr.xhr=Mr;Be[0].upload.chunked&&(Be[0].upload.chunks[Dr[0].chunkIndex].xhr=Mr);let $r=this.resolveOption(this.options.method,Be,Dr),Br=this.resolveOption(this.options.url,Be,Dr);Mr.open($r,Br,!0),this.resolveOption(this.options.timeout,Be)&&(Mr.timeout=this.resolveOption(this.options.timeout,Be)),Mr.withCredentials=!!this.options.withCredentials,Mr.onload=Gr=>{this._finishedUploading(Be,Mr,Gr)},Mr.ontimeout=()=>{this._handleUploadError(Be,Mr,`Request timedout after ${this.options.timeout/1e3} seconds`)},Mr.onerror=()=>{this._handleUploadError(Be,Mr)};let Vr=Mr.upload!=null?Mr.upload:Mr;Vr.onprogress=Gr=>this._updateFilesUploadProgress(Be,Mr,Gr);let jr=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(jr["Content-Type"]=Be[0].type),this.options.headers&&objectExtend(jr,this.options.headers);for(let Gr in jr){let Wr=jr[Gr];Wr&&Mr.setRequestHeader(Gr,Wr)}if(this.options.binaryBody){for(let Gr of Be)this.emit("sending",Gr,Mr);this.options.uploadMultiple&&this.emit("sendingmultiple",Be,Mr),this.submitRequest(Mr,null,Be)}else{let Gr=new FormData;if(this.options.params){let Wr=this.options.params;typeof Wr=="function"&&(Wr=Wr.call(this,Be,Mr,Be[0].upload.chunked?this._getChunk(Be[0],Mr):null));for(let Kr in Wr){let Zr=Wr[Kr];if(Array.isArray(Zr))for(let Jr=0;Jr<Zr.length;Jr++)Gr.append(Kr,Zr[Jr]);else Gr.append(Kr,Zr)}}for(let Wr of Be)this.emit("sending",Wr,Mr,Gr);this.options.uploadMultiple&&this.emit("sendingmultiple",Be,Mr,Gr),this._addFormElementData(Gr);for(let Wr=0;Wr<Dr.length;Wr++){let Kr=Dr[Wr];Gr.append(Kr.name,Kr.data,Kr.filename)}this.submitRequest(Mr,Gr,Be)}}_transformFiles(Be,Dr){let Mr=[],$r=0;for(let Br=0;Br<Be.length;Br++)this.options.transformFile.call(this,Be[Br],zr=>{Mr[Br]=zr,++$r===Be.length&&Dr(Mr)})}_addFormElementData(Be){if(this.element.tagName==="FORM")for(let Dr of this.element.querySelectorAll("input, textarea, select, button")){let Mr=Dr.getAttribute("name"),$r=Dr.getAttribute("type");if($r&&($r=$r.toLowerCase()),!(typeof Mr>"u"||Mr===null))if(Dr.tagName==="SELECT"&&Dr.hasAttribute("multiple"))for(let Br of Dr.options)Br.selected&&Be.append(Mr,Br.value);else(!$r||$r!=="checkbox"&&$r!=="radio"||Dr.checked)&&Be.append(Mr,Dr.value)}}_updateFilesUploadProgress(Be,Dr,Mr){if(Be[0].upload.chunked){let $r=Be[0],Br=this._getChunk($r,Dr);Mr?(Br.progress=100*Mr.loaded/Mr.total,Br.total=Mr.total,Br.bytesSent=Mr.loaded):(Br.progress=100,Br.bytesSent=Br.total),$r.upload.progress=0,$r.upload.total=0,$r.upload.bytesSent=0;for(let zr=0;zr<$r.upload.totalChunkCount;zr++)$r.upload.chunks[zr]&&typeof $r.upload.chunks[zr].progress<"u"&&($r.upload.progress+=$r.upload.chunks[zr].progress,$r.upload.total+=$r.upload.chunks[zr].total,$r.upload.bytesSent+=$r.upload.chunks[zr].bytesSent);$r.upload.progress=$r.upload.progress/$r.upload.totalChunkCount,this.emit("uploadprogress",$r,$r.upload.progress,$r.upload.bytesSent)}else for(let $r of Be)$r.upload.total&&$r.upload.bytesSent&&$r.upload.bytesSent==$r.upload.total||(Mr?($r.upload.progress=100*Mr.loaded/Mr.total,$r.upload.total=Mr.total,$r.upload.bytesSent=Mr.loaded):($r.upload.progress=100,$r.upload.bytesSent=$r.upload.total),this.emit("uploadprogress",$r,$r.upload.progress,$r.upload.bytesSent))}_finishedUploading(Be,Dr,Mr){let $r;if(Be[0].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED&&Dr.readyState===4){if(Dr.responseType!=="arraybuffer"&&Dr.responseType!=="blob"&&($r=Dr.responseText,Dr.getResponseHeader("content-type")&&~Dr.getResponseHeader("content-type").indexOf("application/json")))try{$r=JSON.parse($r)}catch(Br){Mr=Br,$r="Invalid JSON response from server."}this._updateFilesUploadProgress(Be,Dr),200<=Dr.status&&Dr.status<300?Be[0].upload.chunked?Be[0].upload.finishedChunkUpload(this._getChunk(Be[0],Dr),$r):this._finished(Be,$r,Mr):this._handleUploadError(Be,Dr,$r)}}_handleUploadError(Be,Dr,Mr){if(Be[0].status!==$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED){if(Be[0].upload.chunked&&this.options.retryChunks){let $r=this._getChunk(Be[0],Dr);if($r.retries++<this.options.retryChunksLimit){this._uploadData(Be,[$r.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(Be,Mr||this.options.dictResponseError.replace("{{statusCode}}",Dr.status),Dr)}}submitRequest(Be,Dr,Mr){if(Be.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(Mr[0].upload.chunked){const $r=this._getChunk(Mr[0],Be);Be.send($r.dataBlock.data)}else Be.send(Mr[0]);else Be.send(Dr)}_finished(Be,Dr,Mr){for(let $r of Be)$r.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS,this.emit("success",$r,Dr,Mr),this.emit("complete",$r);if(this.options.uploadMultiple&&(this.emit("successmultiple",Be,Dr,Mr),this.emit("completemultiple",Be)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(Be,Dr,Mr){for(let $r of Be)$r.status=$3ed269f2f0fb224b$export$2e2bcd8739ae039.ERROR,this.emit("error",$r,Dr,Mr),this.emit("complete",$r);if(this.options.uploadMultiple&&(this.emit("errormultiple",Be,Dr,Mr),this.emit("completemultiple",Be)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Be){let Dr=Math.random()*16|0;return(Be==="x"?Dr:Dr&3|8).toString(16)})}constructor(Be,Dr){super();let Mr,$r;if(this.element=Be,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances.push(this),this.element.dropzone=this;let Br=($r=$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement(this.element))!=null?$r:{};if(this.options=objectExtend(!0,{},$4ca367182776f80b$export$2e2bcd8739ae039,Br,Dr??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!$3ed269f2f0fb224b$export$2e2bcd8739ae039.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=zr=>this.options.renameFilename.call(this,zr.name,zr)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(Mr=this.getExistingFallback())&&Mr.parentNode&&Mr.parentNode.removeChild(Mr),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElements(this.options.clickable,"clickable")),this.init()}}$3ed269f2f0fb224b$export$2e2bcd8739ae039.initClass();$3ed269f2f0fb224b$export$2e2bcd8739ae039.options={};$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement=function(_r){if(_r.getAttribute("id"))return $3ed269f2f0fb224b$export$2e2bcd8739ae039.options[$3ed269f2f0fb224b$var$camelize(_r.getAttribute("id"))]};$3ed269f2f0fb224b$export$2e2bcd8739ae039.instances=[];$3ed269f2f0fb224b$export$2e2bcd8739ae039.forElement=function(_r){if(typeof _r=="string"&&(_r=document.querySelector(_r)),(_r!=null?_r.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return _r.dropzone};$3ed269f2f0fb224b$export$2e2bcd8739ae039.discover=function(){let _r;if(document.querySelectorAll)_r=document.querySelectorAll(".dropzone");else{_r=[];let Be=Dr=>(()=>{let Mr=[];for(let $r of Dr)/(^| )dropzone($| )/.test($r.className)?Mr.push(_r.push($r)):Mr.push(void 0);return Mr})();Be(document.getElementsByTagName("div")),Be(document.getElementsByTagName("form"))}return(()=>{let Be=[];for(let Dr of _r)$3ed269f2f0fb224b$export$2e2bcd8739ae039.optionsForElement(Dr)!==!1?Be.push(new $3ed269f2f0fb224b$export$2e2bcd8739ae039(Dr)):Be.push(void 0);return Be})()};$3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];$3ed269f2f0fb224b$export$2e2bcd8739ae039.isBrowserSupported=function(){let _r=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))_r=!1;else{$3ed269f2f0fb224b$export$2e2bcd8739ae039.blacklistedBrowsers!==void 0&&($3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers=$3ed269f2f0fb224b$export$2e2bcd8739ae039.blacklistedBrowsers);for(let Be of $3ed269f2f0fb224b$export$2e2bcd8739ae039.blockedBrowsers)if(Be.test(navigator.userAgent)){_r=!1;continue}}else _r=!1;return _r};$3ed269f2f0fb224b$export$2e2bcd8739ae039.dataURItoBlob=function(_r){let Be=atob(_r.split(",")[1]),Dr=_r.split(",")[0].split(":")[1].split(";")[0],Mr=new ArrayBuffer(Be.length),$r=new Uint8Array(Mr);for(let Br=0,zr=Be.length,Vr=0<=zr;Vr?Br<=zr:Br>=zr;Vr?Br++:Br--)$r[Br]=Be.charCodeAt(Br);return new Blob([Mr],{type:Dr})};const $3ed269f2f0fb224b$var$without=(_r,Be)=>_r.filter(Dr=>Dr!==Be).map(Dr=>Dr),$3ed269f2f0fb224b$var$camelize=_r=>_r.replace(/[\-_](\w)/g,Be=>Be.charAt(1).toUpperCase());$3ed269f2f0fb224b$export$2e2bcd8739ae039.createElement=function(_r){let Be=document.createElement("div");return Be.innerHTML=_r,Be.childNodes[0]};$3ed269f2f0fb224b$export$2e2bcd8739ae039.elementInside=function(_r,Be){if(_r===Be)return!0;for(;_r=_r.parentNode;)if(_r===Be)return!0;return!1};$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElement=function(_r,Be){let Dr;if(typeof _r=="string"?Dr=document.querySelector(_r):_r.nodeType!=null&&(Dr=_r),Dr==null)throw new Error(`Invalid \`${Be}\` option provided. Please provide a CSS selector or a plain HTML element.`);return Dr};$3ed269f2f0fb224b$export$2e2bcd8739ae039.getElements=function(_r,Be){let Dr,Mr;if(_r instanceof Array){Mr=[];try{for(Dr of _r)Mr.push(this.getElement(Dr,Be))}catch{Mr=null}}else if(typeof _r=="string"){Mr=[];for(Dr of document.querySelectorAll(_r))Mr.push(Dr)}else _r.nodeType!=null&&(Mr=[_r]);if(Mr==null||!Mr.length)throw new Error(`Invalid \`${Be}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return Mr};$3ed269f2f0fb224b$export$2e2bcd8739ae039.confirm=function(_r,Be,Dr){if(window.confirm(_r))return Be();if(Dr!=null)return Dr()};$3ed269f2f0fb224b$export$2e2bcd8739ae039.isValidFile=function(_r,Be){if(!Be)return!0;Be=Be.split(",");let Dr=_r.type,Mr=Dr.replace(/\/.*$/,"");for(let $r of Be)if($r=$r.trim(),$r.charAt(0)==="."){if(_r.name.toLowerCase().indexOf($r.toLowerCase(),_r.name.length-$r.length)!==-1)return!0}else if(/\/\*$/.test($r)){if(Mr===$r.replace(/\/.*$/,""))return!0}else if(Dr===$r)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(_r){return this.each(function(){return new $3ed269f2f0fb224b$export$2e2bcd8739ae039(this,_r)})});$3ed269f2f0fb224b$export$2e2bcd8739ae039.ADDED="added";$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED="queued";$3ed269f2f0fb224b$export$2e2bcd8739ae039.ACCEPTED=$3ed269f2f0fb224b$export$2e2bcd8739ae039.QUEUED;$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING="uploading";$3ed269f2f0fb224b$export$2e2bcd8739ae039.PROCESSING=$3ed269f2f0fb224b$export$2e2bcd8739ae039.UPLOADING;$3ed269f2f0fb224b$export$2e2bcd8739ae039.CANCELED="canceled";$3ed269f2f0fb224b$export$2e2bcd8739ae039.ERROR="error";$3ed269f2f0fb224b$export$2e2bcd8739ae039.SUCCESS="success";let $3ed269f2f0fb224b$var$detectVerticalSquash=function(_r){_r.naturalWidth;let Be=_r.naturalHeight,Dr=document.createElement("canvas");Dr.width=1,Dr.height=Be;let Mr=Dr.getContext("2d");Mr.drawImage(_r,0,0);let{data:$r}=Mr.getImageData(1,0,1,Be),Br=0,zr=Be,Vr=Be;for(;Vr>Br;)$r[(Vr-1)*4+3]===0?zr=Vr:Br=Vr,Vr=zr+Br>>1;let jr=Vr/Be;return jr===0?1:jr};var $3ed269f2f0fb224b$var$drawImageIOSFix=function(_r,Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr){let Wr=$3ed269f2f0fb224b$var$detectVerticalSquash(Be);return _r.drawImage(Be,Dr,Mr,$r,Br,zr,Vr,jr,Gr/Wr)};class $3ed269f2f0fb224b$var$ExifRestore{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(Be){let Dr="",Mr,$r,Br="",zr,Vr,jr,Gr="",Wr=0;for(;Mr=Be[Wr++],$r=Be[Wr++],Br=Be[Wr++],zr=Mr>>2,Vr=(Mr&3)<<4|$r>>4,jr=($r&15)<<2|Br>>6,Gr=Br&63,isNaN($r)?jr=Gr=64:isNaN(Br)&&(Gr=64),Dr=Dr+this.KEY_STR.charAt(zr)+this.KEY_STR.charAt(Vr)+this.KEY_STR.charAt(jr)+this.KEY_STR.charAt(Gr),Mr=$r=Br="",zr=Vr=jr=Gr="",Wr<Be.length;);return Dr}static restore(Be,Dr){if(!Be.match("data:image/jpeg;base64,"))return Dr;let Mr=this.decode64(Be.replace("data:image/jpeg;base64,","")),$r=this.slice2Segments(Mr),Br=this.exifManipulation(Dr,$r);return`data:image/jpeg;base64,${this.encode64(Br)}`}static exifManipulation(Be,Dr){let Mr=this.getExifArray(Dr),$r=this.insertExif(Be,Mr);return new Uint8Array($r)}static getExifArray(Be){let Dr,Mr=0;for(;Mr<Be.length;){if(Dr=Be[Mr],Dr[0]===255&Dr[1]===225)return Dr;Mr++}return[]}static insertExif(Be,Dr){let Mr=Be.replace("data:image/jpeg;base64,",""),$r=this.decode64(Mr),Br=$r.indexOf(255,3),zr=$r.slice(0,Br),Vr=$r.slice(Br),jr=zr;return jr=jr.concat(Dr),jr=jr.concat(Vr),jr}static slice2Segments(Be){let Dr=0,Mr=[];for(;;){var $r;if(Be[Dr]===255&Be[Dr+1]===218)break;if(Be[Dr]===255&Be[Dr+1]===216)Dr+=2;else{$r=Be[Dr+2]*256+Be[Dr+3];let Br=Dr+$r+2,zr=Be.slice(Dr,Br);Mr.push(zr),Dr=Br}if(Dr>Be.length)break}return Mr}static decode64(Be){let Dr,Mr,$r="",Br,zr,Vr,jr="",Gr=0,Wr=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(Be)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),Be=Be.replace(/[^A-Za-z0-9\+\/\=]/g,"");Br=this.KEY_STR.indexOf(Be.charAt(Gr++)),zr=this.KEY_STR.indexOf(Be.charAt(Gr++)),Vr=this.KEY_STR.indexOf(Be.charAt(Gr++)),jr=this.KEY_STR.indexOf(Be.charAt(Gr++)),Dr=Br<<2|zr>>4,Mr=(zr&15)<<4|Vr>>2,$r=(Vr&3)<<6|jr,Wr.push(Dr),Vr!==64&&Wr.push(Mr),jr!==64&&Wr.push($r),Dr=Mr=$r="",Br=zr=Vr=jr="",Gr<Be.length;);return Wr}}$3ed269f2f0fb224b$var$ExifRestore.initClass();function $3ed269f2f0fb224b$var$__guard__(_r,Be){return typeof _r<"u"&&_r!==null?Be(_r):void 0}function $3ed269f2f0fb224b$var$__guardMethod__(_r,Be,Dr){if(typeof _r<"u"&&_r!==null&&typeof _r[Be]=="function")return Dr(_r,Be)}var htmx_min$1={exports:{}};(function(module){(function(_r,Be){module.exports?module.exports=Be():_r.htmx=_r.htmx||Be()})(typeof self<"u"?self:commonjsGlobal,function(){return function(){var Y={onLoad:t,process:Pt,on:Z,off:K,trigger:fe,ajax:wr,find:E,findAll:f,closest:v,values:function(_r,Be){var Dr=nr(_r,Be||"post");return Dr.values},remove:U,addClass:B,removeClass:n,toggleClass:V,takeClass:j,defineExtension:qr,removeExtension:Hr,logAll:X,logNone:F,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",useTemplateFragments:!1,scrollBehavior:"smooth",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get"],selfRequestsOnly:!1},parseInterval:d,_:e,createEventSource:function(_r){return new EventSource(_r,{withCredentials:!0})},createWebSocket:function(_r){var Be=new WebSocket(_r,[]);return Be.binaryType=Y.config.wsBinaryType,Be},version:"1.9.6"},r={addTriggerHandler:St,bodyContains:oe,canAccessLocalStorage:M,findThisElement:de,filterValues:lr,hasAttribute:o,getAttributeValue:ee,getClosestAttributeValue:re,getClosestMatch:c,getExpressionVars:xr,getHeaders:sr,getInputValues:nr,getInternalData:ie,getSwapSpecification:fr,getTriggerSpecs:Ze,getTarget:ge,makeFragment:l,mergeObjects:se,makeSettleInfo:T,oobSwap:ye,querySelectorExt:le,selectAndSwap:Fe,settleImmediately:Wt,shouldCancel:tt,triggerEvent:fe,triggerErrorEvent:ue,withExtensions:C},b=["get","post","put","delete","patch"],w=b.map(function(_r){return"[hx-"+_r+"], [data-hx-"+_r+"]"}).join(", ");function d(_r){if(_r!=null)return _r.slice(-2)=="ms"?parseFloat(_r.slice(0,-2))||void 0:_r.slice(-1)=="s"?parseFloat(_r.slice(0,-1))*1e3||void 0:_r.slice(-1)=="m"?parseFloat(_r.slice(0,-1))*1e3*60||void 0:parseFloat(_r)||void 0}function Q(_r,Be){return _r.getAttribute&&_r.getAttribute(Be)}function o(_r,Be){return _r.hasAttribute&&(_r.hasAttribute(Be)||_r.hasAttribute("data-"+Be))}function ee(_r,Be){return Q(_r,Be)||Q(_r,"data-"+Be)}function u(_r){return _r.parentElement}function te(){return document}function c(_r,Be){for(;_r&&!Be(_r);)_r=u(_r);return _r||null}function O(_r,Be,Dr){var Mr=ee(Be,Dr),$r=ee(Be,"hx-disinherit");return _r!==Be&&$r&&($r==="*"||$r.split(" ").indexOf(Dr)>=0)?"unset":Mr}function re(_r,Be){var Dr=null;if(c(_r,function(Mr){return Dr=O(_r,Mr,Be)}),Dr!=="unset")return Dr}function h(_r,Be){var Dr=_r.matches||_r.matchesSelector||_r.msMatchesSelector||_r.mozMatchesSelector||_r.webkitMatchesSelector||_r.oMatchesSelector;return Dr&&Dr.call(_r,Be)}function q(_r){var Be=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Dr=Be.exec(_r);return Dr?Dr[1].toLowerCase():""}function i(_r,Be){for(var Dr=new DOMParser,Mr=Dr.parseFromString(_r,"text/html"),$r=Mr.body;Be>0;)Be--,$r=$r.firstChild;return $r==null&&($r=te().createDocumentFragment()),$r}function H(_r){return _r.match(/<body/)}function l(_r){var Be=!H(_r);if(Y.config.useTemplateFragments&&Be){var Dr=i("<body><template>"+_r+"</template></body>",0);return Dr.querySelector("template").content}else{var Mr=q(_r);switch(Mr){case"thead":case"tbody":case"tfoot":case"colgroup":case"caption":return i("<table>"+_r+"</table>",1);case"col":return i("<table><colgroup>"+_r+"</colgroup></table>",2);case"tr":return i("<table><tbody>"+_r+"</tbody></table>",2);case"td":case"th":return i("<table><tbody><tr>"+_r+"</tr></tbody></table>",3);case"script":case"style":return i("<div>"+_r+"</div>",1);default:return i(_r,0)}}}function ne(_r){_r&&_r()}function L(_r,Be){return Object.prototype.toString.call(_r)==="[object "+Be+"]"}function A(_r){return L(_r,"Function")}function N(_r){return L(_r,"Object")}function ie(_r){var Be="htmx-internal-data",Dr=_r[Be];return Dr||(Dr=_r[Be]={}),Dr}function I(_r){var Be=[];if(_r)for(var Dr=0;Dr<_r.length;Dr++)Be.push(_r[Dr]);return Be}function ae(_r,Be){if(_r)for(var Dr=0;Dr<_r.length;Dr++)Be(_r[Dr])}function P(_r){var Be=_r.getBoundingClientRect(),Dr=Be.top,Mr=Be.bottom;return Dr<window.innerHeight&&Mr>=0}function oe(_r){return _r.getRootNode&&_r.getRootNode()instanceof window.ShadowRoot?te().body.contains(_r.getRootNode().host):te().body.contains(_r)}function k(_r){return _r.trim().split(/\s+/)}function se(_r,Be){for(var Dr in Be)Be.hasOwnProperty(Dr)&&(_r[Dr]=Be[Dr]);return _r}function S(_r){try{return JSON.parse(_r)}catch(Be){return y(Be),null}}function M(){var _r="htmx:localStorageTest";try{return localStorage.setItem(_r,_r),localStorage.removeItem(_r),!0}catch{return!1}}function D(_r){try{var Be=new URL(_r);return Be&&(_r=Be.pathname+Be.search),_r.match("^/$")||(_r=_r.replace(/\/+$/,"")),_r}catch{return _r}}function e(e){return gr(te().body,function(){return eval(e)})}function t(_r){var Be=Y.on("htmx:load",function(Dr){_r(Dr.detail.elt)});return Be}function X(){Y.logger=function(_r,Be,Dr){console&&console.log(Be,_r,Dr)}}function F(){Y.logger=null}function E(_r,Be){return Be?_r.querySelector(Be):E(te(),_r)}function f(_r,Be){return Be?_r.querySelectorAll(Be):f(te(),_r)}function U(_r,Be){_r=s(_r),Be?setTimeout(function(){U(_r),_r=null},Be):_r.parentElement.removeChild(_r)}function B(_r,Be,Dr){_r=s(_r),Dr?setTimeout(function(){B(_r,Be),_r=null},Dr):_r.classList&&_r.classList.add(Be)}function n(_r,Be,Dr){_r=s(_r),Dr?setTimeout(function(){n(_r,Be),_r=null},Dr):_r.classList&&(_r.classList.remove(Be),_r.classList.length===0&&_r.removeAttribute("class"))}function V(_r,Be){_r=s(_r),_r.classList.toggle(Be)}function j(_r,Be){_r=s(_r),ae(_r.parentElement.children,function(Dr){n(Dr,Be)}),B(_r,Be)}function v(_r,Be){if(_r=s(_r),_r.closest)return _r.closest(Be);do if(_r==null||h(_r,Be))return _r;while(_r=_r&&u(_r));return null}function g(_r,Be){return _r.substring(0,Be.length)===Be}function _(_r,Be){return _r.substring(_r.length-Be.length)===Be}function z(_r){var Be=_r.trim();return g(Be,"<")&&_(Be,"/>")?Be.substring(1,Be.length-2):Be}function W(_r,Be){return Be.indexOf("closest ")===0?[v(_r,z(Be.substr(8)))]:Be.indexOf("find ")===0?[E(_r,z(Be.substr(5)))]:Be.indexOf("next ")===0?[$(_r,z(Be.substr(5)))]:Be.indexOf("previous ")===0?[G(_r,z(Be.substr(9)))]:Be==="document"?[document]:Be==="window"?[window]:Be==="body"?[document.body]:te().querySelectorAll(z(Be))}var $=function(_r,Be){for(var Dr=te().querySelectorAll(Be),Mr=0;Mr<Dr.length;Mr++){var $r=Dr[Mr];if($r.compareDocumentPosition(_r)===Node.DOCUMENT_POSITION_PRECEDING)return $r}},G=function(_r,Be){for(var Dr=te().querySelectorAll(Be),Mr=Dr.length-1;Mr>=0;Mr--){var $r=Dr[Mr];if($r.compareDocumentPosition(_r)===Node.DOCUMENT_POSITION_FOLLOWING)return $r}};function le(_r,Be){return Be?W(_r,Be)[0]:W(te().body,_r)[0]}function s(_r){return L(_r,"String")?E(_r):_r}function J(_r,Be,Dr){return A(Be)?{target:te().body,event:_r,listener:Be}:{target:s(_r),event:Be,listener:Dr}}function Z(_r,Be,Dr){Nr(function(){var $r=J(_r,Be,Dr);$r.target.addEventListener($r.event,$r.listener)});var Mr=A(Be);return Mr?Be:Dr}function K(_r,Be,Dr){return Nr(function(){var Mr=J(_r,Be,Dr);Mr.target.removeEventListener(Mr.event,Mr.listener)}),A(Be)?Be:Dr}var he=te().createElement("output");function ve(_r,Be){var Dr=re(_r,Be);if(Dr){if(Dr==="this")return[de(_r,Be)];var Mr=W(_r,Dr);return Mr.length===0?(y('The selector "'+Dr+'" on '+Be+" returned no matches!"),[he]):Mr}}function de(_r,Be){return c(_r,function(Dr){return ee(Dr,Be)!=null})}function ge(_r){var Be=re(_r,"hx-target");if(Be)return Be==="this"?de(_r,"hx-target"):le(_r,Be);var Dr=ie(_r);return Dr.boosted?te().body:_r}function me(_r){for(var Be=Y.config.attributesToSettle,Dr=0;Dr<Be.length;Dr++)if(_r===Be[Dr])return!0;return!1}function pe(_r,Be){ae(_r.attributes,function(Dr){!Be.hasAttribute(Dr.name)&&me(Dr.name)&&_r.removeAttribute(Dr.name)}),ae(Be.attributes,function(Dr){me(Dr.name)&&_r.setAttribute(Dr.name,Dr.value)})}function xe(_r,Be){for(var Dr=Lr(Be),Mr=0;Mr<Dr.length;Mr++){var $r=Dr[Mr];try{if($r.isInlineSwap(_r))return!0}catch(Br){y(Br)}}return _r==="outerHTML"}function ye(_r,Be,Dr){var Mr="#"+Q(Be,"id"),$r="outerHTML";_r==="true"||(_r.indexOf(":")>0?($r=_r.substr(0,_r.indexOf(":")),Mr=_r.substr(_r.indexOf(":")+1,_r.length)):$r=_r);var Br=te().querySelectorAll(Mr);return Br?(ae(Br,function(zr){var Vr,jr=Be.cloneNode(!0);Vr=te().createDocumentFragment(),Vr.appendChild(jr),xe($r,zr)||(Vr=jr);var Gr={shouldSwap:!0,target:zr,fragment:Vr};fe(zr,"htmx:oobBeforeSwap",Gr)&&(zr=Gr.target,Gr.shouldSwap&&De($r,zr,zr,Vr,Dr),ae(Dr.elts,function(Wr){fe(Wr,"htmx:oobAfterSwap",Gr)}))}),Be.parentNode.removeChild(Be)):(Be.parentNode.removeChild(Be),ue(te().body,"htmx:oobErrorNoTarget",{content:Be})),_r}function be(_r,Be,Dr){var Mr=re(_r,"hx-select-oob");if(Mr){var $r=Mr.split(",");for(let Gr=0;Gr<$r.length;Gr++){var Br=$r[Gr].split(":",2),zr=Br[0].trim();zr.indexOf("#")===0&&(zr=zr.substring(1));var Vr=Br[1]||"true",jr=Be.querySelector("#"+zr);jr&&ye(Vr,jr,Dr)}}ae(f(Be,"[hx-swap-oob], [data-hx-swap-oob]"),function(Gr){var Wr=ee(Gr,"hx-swap-oob");Wr!=null&&ye(Wr,Gr,Dr)})}function we(_r){ae(f(_r,"[hx-preserve], [data-hx-preserve]"),function(Be){var Dr=ee(Be,"id"),Mr=te().getElementById(Dr);Mr!=null&&Be.parentNode.replaceChild(Mr,Be)})}function Se(_r,Be,Dr){ae(Be.querySelectorAll("[id]"),function(Mr){var $r=Q(Mr,"id");if($r&&$r.length>0){var Br=$r.replace("'","\\'"),zr=Mr.tagName.replace(":","\\:"),Vr=_r.querySelector(zr+"[id='"+Br+"']");if(Vr&&Vr!==_r){var jr=Mr.cloneNode();pe(Mr,Vr),Dr.tasks.push(function(){pe(Mr,jr)})}}})}function Ee(_r){return function(){n(_r,Y.config.addedClass),Pt(_r),Ct(_r),Ce(_r),fe(_r,"htmx:load")}}function Ce(_r){var Be="[autofocus]",Dr=h(_r,Be)?_r:_r.querySelector(Be);Dr!=null&&Dr.focus()}function a(_r,Be,Dr,Mr){for(Se(_r,Dr,Mr);Dr.childNodes.length>0;){var $r=Dr.firstChild;B($r,Y.config.addedClass),_r.insertBefore($r,Be),$r.nodeType!==Node.TEXT_NODE&&$r.nodeType!==Node.COMMENT_NODE&&Mr.tasks.push(Ee($r))}}function Te(_r,Be){for(var Dr=0;Dr<_r.length;)Be=(Be<<5)-Be+_r.charCodeAt(Dr++)|0;return Be}function Re(_r){var Be=0;if(_r.attributes)for(var Dr=0;Dr<_r.attributes.length;Dr++){var Mr=_r.attributes[Dr];Mr.value&&(Be=Te(Mr.name,Be),Be=Te(Mr.value,Be))}return Be}function Oe(_r){var Be=ie(_r);if(Be.onHandlers){for(let Dr=0;Dr<Be.onHandlers.length;Dr++){const Mr=Be.onHandlers[Dr];_r.removeEventListener(Mr.event,Mr.listener)}delete Be.onHandlers}}function qe(_r){var Be=ie(_r);Be.timeout&&clearTimeout(Be.timeout),Be.webSocket&&Be.webSocket.close(),Be.sseEventSource&&Be.sseEventSource.close(),Be.listenerInfos&&ae(Be.listenerInfos,function(Dr){Dr.on&&Dr.on.removeEventListener(Dr.trigger,Dr.listener)}),Be.initHash&&(Be.initHash=null),Oe(_r)}function m(_r){fe(_r,"htmx:beforeCleanupElement"),qe(_r),_r.children&&ae(_r.children,function(Be){m(Be)})}function He(_r,Be,Dr){if(_r.tagName==="BODY")return ke(_r,Be,Dr);var Mr,$r=_r.previousSibling;for(a(u(_r),_r,Be,Dr),$r==null?Mr=u(_r).firstChild:Mr=$r.nextSibling,ie(_r).replacedWith=Mr,Dr.elts=Dr.elts.filter(function(Br){return Br!=_r});Mr&&Mr!==_r;)Mr.nodeType===Node.ELEMENT_NODE&&Dr.elts.push(Mr),Mr=Mr.nextElementSibling;m(_r),u(_r).removeChild(_r)}function Le(_r,Be,Dr){return a(_r,_r.firstChild,Be,Dr)}function Ae(_r,Be,Dr){return a(u(_r),_r,Be,Dr)}function Ne(_r,Be,Dr){return a(_r,null,Be,Dr)}function Ie(_r,Be,Dr){return a(u(_r),_r.nextSibling,Be,Dr)}function Pe(_r,Be,Dr){return m(_r),u(_r).removeChild(_r)}function ke(_r,Be,Dr){var Mr=_r.firstChild;if(a(_r,Mr,Be,Dr),Mr){for(;Mr.nextSibling;)m(Mr.nextSibling),_r.removeChild(Mr.nextSibling);m(Mr),_r.removeChild(Mr)}}function Me(_r,Be,Dr){var Mr=Dr||re(_r,"hx-select");if(Mr){var $r=te().createDocumentFragment();ae(Be.querySelectorAll(Mr),function(Br){$r.appendChild(Br)}),Be=$r}return Be}function De(_r,Be,Dr,Mr,$r){switch(_r){case"none":return;case"outerHTML":He(Dr,Mr,$r);return;case"afterbegin":Le(Dr,Mr,$r);return;case"beforebegin":Ae(Dr,Mr,$r);return;case"beforeend":Ne(Dr,Mr,$r);return;case"afterend":Ie(Dr,Mr,$r);return;case"delete":Pe(Dr);return;default:for(var Br=Lr(Be),zr=0;zr<Br.length;zr++){var Vr=Br[zr];try{var jr=Vr.handleSwap(_r,Dr,Mr,$r);if(jr){if(typeof jr.length<"u")for(var Gr=0;Gr<jr.length;Gr++){var Wr=jr[Gr];Wr.nodeType!==Node.TEXT_NODE&&Wr.nodeType!==Node.COMMENT_NODE&&$r.tasks.push(Ee(Wr))}return}}catch(Kr){y(Kr)}}_r==="innerHTML"?ke(Dr,Mr,$r):De(Y.config.defaultSwapStyle,Be,Dr,Mr,$r)}}function Xe(_r){if(_r.indexOf("<title")>-1){var Be=_r.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),Dr=Be.match(/<title(\s[^>]*>|>)([\s\S]*?)<\/title>/im);if(Dr)return Dr[2]}}function Fe(_r,Be,Dr,Mr,$r,Br){$r.title=Xe(Mr);var zr=l(Mr);if(zr)return be(Dr,zr,$r),zr=Me(Dr,zr,Br),we(zr),De(_r,Dr,Be,zr,$r)}function Ue(_r,Be,Dr){var Mr=_r.getResponseHeader(Be);if(Mr.indexOf("{")===0){var $r=S(Mr);for(var Br in $r)if($r.hasOwnProperty(Br)){var zr=$r[Br];N(zr)||(zr={value:zr}),fe(Dr,Br,zr)}}else for(var Vr=Mr.split(","),jr=0;jr<Vr.length;jr++)fe(Dr,Vr[jr].trim(),[])}var p=/[\s,]/,Ve=/[_$a-zA-Z]/,je=/[_$a-zA-Z0-9]/,_e=['"',"'","/"],ze=/[^\s]/;function We(_r){for(var Be=[],Dr=0;Dr<_r.length;){if(Ve.exec(_r.charAt(Dr))){for(var Mr=Dr;je.exec(_r.charAt(Dr+1));)Dr++;Be.push(_r.substr(Mr,Dr-Mr+1))}else if(_e.indexOf(_r.charAt(Dr))!==-1){var $r=_r.charAt(Dr),Mr=Dr;for(Dr++;Dr<_r.length&&_r.charAt(Dr)!==$r;)_r.charAt(Dr)==="\\"&&Dr++,Dr++;Be.push(_r.substr(Mr,Dr-Mr+1))}else{var Br=_r.charAt(Dr);Be.push(Br)}Dr++}return Be}function $e(_r,Be,Dr){return Ve.exec(_r.charAt(0))&&_r!=="true"&&_r!=="false"&&_r!=="this"&&_r!==Dr&&Be!=="."}function Ge(_r,Be,Dr){if(Be[0]==="["){Be.shift();for(var Mr=1,$r=" return (function("+Dr+"){ return (",Br=null;Be.length>0;){var zr=Be[0];if(zr==="]"){if(Mr--,Mr===0){Br===null&&($r=$r+"true"),Be.shift(),$r+=")})";try{var Vr=gr(_r,function(){return Function($r)()},function(){return!0});return Vr.source=$r,Vr}catch(jr){return ue(te().body,"htmx:syntax:error",{error:jr,source:$r}),null}}}else zr==="["&&Mr++;$e(zr,Br,Dr)?$r+="(("+Dr+"."+zr+") ? ("+Dr+"."+zr+") : (window."+zr+"))":$r=$r+zr,Br=Be.shift()}}}function x(_r,Be){for(var Dr="";_r.length>0&&!_r[0].match(Be);)Dr+=_r.shift();return Dr}var Je="input, textarea, select";function Ze(_r){var Be=ee(_r,"hx-trigger"),Dr=[];if(Be){var Mr=We(Be);do{x(Mr,ze);var $r=Mr.length,Br=x(Mr,/[,\[\s]/);if(Br!=="")if(Br==="every"){var zr={trigger:"every"};x(Mr,ze),zr.pollInterval=d(x(Mr,/[,\[\s]/)),x(Mr,ze);var Vr=Ge(_r,Mr,"event");Vr&&(zr.eventFilter=Vr),Dr.push(zr)}else if(Br.indexOf("sse:")===0)Dr.push({trigger:"sse",sseEvent:Br.substr(4)});else{var jr={trigger:Br},Vr=Ge(_r,Mr,"event");for(Vr&&(jr.eventFilter=Vr);Mr.length>0&&Mr[0]!==",";){x(Mr,ze);var Gr=Mr.shift();if(Gr==="changed")jr.changed=!0;else if(Gr==="once")jr.once=!0;else if(Gr==="consume")jr.consume=!0;else if(Gr==="delay"&&Mr[0]===":")Mr.shift(),jr.delay=d(x(Mr,p));else if(Gr==="from"&&Mr[0]===":"){Mr.shift();var Wr=x(Mr,p);(Wr==="closest"||Wr==="find"||Wr==="next"||Wr==="previous")&&(Mr.shift(),Wr+=" "+x(Mr,p)),jr.from=Wr}else Gr==="target"&&Mr[0]===":"?(Mr.shift(),jr.target=x(Mr,p)):Gr==="throttle"&&Mr[0]===":"?(Mr.shift(),jr.throttle=d(x(Mr,p))):Gr==="queue"&&Mr[0]===":"?(Mr.shift(),jr.queue=x(Mr,p)):(Gr==="root"||Gr==="threshold")&&Mr[0]===":"?(Mr.shift(),jr[Gr]=x(Mr,p)):ue(_r,"htmx:syntax:error",{token:Mr.shift()})}Dr.push(jr)}Mr.length===$r&&ue(_r,"htmx:syntax:error",{token:Mr.shift()}),x(Mr,ze)}while(Mr[0]===","&&Mr.shift())}return Dr.length>0?Dr:h(_r,"form")?[{trigger:"submit"}]:h(_r,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:h(_r,Je)?[{trigger:"change"}]:[{trigger:"click"}]}function Ke(_r){ie(_r).cancelled=!0}function Ye(_r,Be,Dr){var Mr=ie(_r);Mr.timeout=setTimeout(function(){oe(_r)&&Mr.cancelled!==!0&&(nt(Dr,_r,Mt("hx:poll:trigger",{triggerSpec:Dr,target:_r}))||Be(_r),Ye(_r,Be,Dr))},Dr.pollInterval)}function Qe(_r){return location.hostname===_r.hostname&&Q(_r,"href")&&Q(_r,"href").indexOf("#")!==0}function et(_r,Be,Dr){if(_r.tagName==="A"&&Qe(_r)&&(_r.target===""||_r.target==="_self")||_r.tagName==="FORM"){Be.boosted=!0;var Mr,$r;if(_r.tagName==="A")Mr="get",$r=Q(_r,"href");else{var Br=Q(_r,"method");Mr=Br?Br.toLowerCase():"get",$r=Q(_r,"action")}Dr.forEach(function(zr){it(_r,function(Vr,jr){if(v(Vr,Y.config.disableSelector)){m(Vr);return}ce(Mr,$r,Vr,jr)},Be,zr,!0)})}}function tt(_r,Be){return!!((_r.type==="submit"||_r.type==="click")&&(Be.tagName==="FORM"||h(Be,'input[type="submit"], button')&&v(Be,"form")!==null||Be.tagName==="A"&&Be.href&&(Be.getAttribute("href")==="#"||Be.getAttribute("href").indexOf("#")!==0)))}function rt(_r,Be){return ie(_r).boosted&&_r.tagName==="A"&&Be.type==="click"&&(Be.ctrlKey||Be.metaKey)}function nt(_r,Be,Dr){var Mr=_r.eventFilter;if(Mr)try{return Mr.call(Be,Dr)!==!0}catch($r){return ue(te().body,"htmx:eventFilter:error",{error:$r,source:Mr.source}),!0}return!1}function it(_r,Be,Dr,Mr,$r){var Br=ie(_r),zr;Mr.from?zr=W(_r,Mr.from):zr=[_r],Mr.changed&&zr.forEach(function(Vr){var jr=ie(Vr);jr.lastValue=Vr.value}),ae(zr,function(Vr){var jr=function(Gr){if(!oe(_r)){Vr.removeEventListener(Mr.trigger,jr);return}if(!rt(_r,Gr)&&(($r||tt(Gr,_r))&&Gr.preventDefault(),!nt(Mr,_r,Gr))){var Wr=ie(Gr);if(Wr.triggerSpec=Mr,Wr.handledFor==null&&(Wr.handledFor=[]),Wr.handledFor.indexOf(_r)<0){if(Wr.handledFor.push(_r),Mr.consume&&Gr.stopPropagation(),Mr.target&&Gr.target&&!h(Gr.target,Mr.target))return;if(Mr.once){if(Br.triggeredOnce)return;Br.triggeredOnce=!0}if(Mr.changed){var Kr=ie(Vr);if(Kr.lastValue===Vr.value)return;Kr.lastValue=Vr.value}if(Br.delayed&&clearTimeout(Br.delayed),Br.throttle)return;Mr.throttle?Br.throttle||(Be(_r,Gr),Br.throttle=setTimeout(function(){Br.throttle=null},Mr.throttle)):Mr.delay?Br.delayed=setTimeout(function(){Be(_r,Gr)},Mr.delay):(fe(_r,"htmx:trigger"),Be(_r,Gr))}}};Dr.listenerInfos==null&&(Dr.listenerInfos=[]),Dr.listenerInfos.push({trigger:Mr.trigger,listener:jr,on:Vr}),Vr.addEventListener(Mr.trigger,jr)})}var at=!1,ot=null;function st(){ot||(ot=function(){at=!0},window.addEventListener("scroll",ot),setInterval(function(){at&&(at=!1,ae(te().querySelectorAll("[hx-trigger='revealed'],[data-hx-trigger='revealed']"),function(_r){lt(_r)}))},200))}function lt(_r){if(!o(_r,"data-hx-revealed")&&P(_r)){_r.setAttribute("data-hx-revealed","true");var Be=ie(_r);Be.initHash?fe(_r,"revealed"):_r.addEventListener("htmx:afterProcessNode",function(Dr){fe(_r,"revealed")},{once:!0})}}function ut(_r,Be,Dr){for(var Mr=k(Dr),$r=0;$r<Mr.length;$r++){var Br=Mr[$r].split(/:(.+)/);Br[0]==="connect"&&ft(_r,Br[1],0),Br[0]==="send"&&ht(_r)}}function ft(_r,Be,Dr){if(oe(_r)){if(Be.indexOf("/")==0){var Mr=location.hostname+(location.port?":"+location.port:"");location.protocol=="https:"?Be="wss://"+Mr+Be:location.protocol=="http:"&&(Be="ws://"+Mr+Be)}var $r=Y.createWebSocket(Be);$r.onerror=function(Br){ue(_r,"htmx:wsError",{error:Br,socket:$r}),ct(_r)},$r.onclose=function(Br){if([1006,1012,1013].indexOf(Br.code)>=0){var zr=vt(Dr);setTimeout(function(){ft(_r,Be,Dr+1)},zr)}},$r.onopen=function(Br){Dr=0},ie(_r).webSocket=$r,$r.addEventListener("message",function(Br){if(!ct(_r)){var zr=Br.data;C(_r,function(Zr){zr=Zr.transformResponse(zr,null,_r)});for(var Vr=T(_r),jr=l(zr),Gr=I(jr.children),Wr=0;Wr<Gr.length;Wr++){var Kr=Gr[Wr];ye(ee(Kr,"hx-swap-oob")||"true",Kr,Vr)}Wt(Vr.tasks)}})}}function ct(_r){if(!oe(_r))return ie(_r).webSocket.close(),!0}function ht(_r){var Be=c(_r,function(Dr){return ie(Dr).webSocket!=null});Be?_r.addEventListener(Ze(_r)[0].trigger,function(Dr){var Mr=ie(Be).webSocket,$r=sr(_r,Be),Br=nr(_r,"post"),zr=Br.errors,Vr=Br.values,jr=xr(_r),Gr=se(Vr,jr),Wr=lr(Gr,_r);if(Wr.HEADERS=$r,zr&&zr.length>0){fe(_r,"htmx:validation:halted",zr);return}Mr.send(JSON.stringify(Wr)),tt(Dr,_r)&&Dr.preventDefault()}):ue(_r,"htmx:noWebSocketSourceError")}function vt(_r){var Be=Y.config.wsReconnectDelay;if(typeof Be=="function")return Be(_r);if(Be==="full-jitter"){var Dr=Math.min(_r,6),Mr=1e3*Math.pow(2,Dr);return Mr*Math.random()}y('htmx.config.wsReconnectDelay must either be a function or the string "full-jitter"')}function dt(_r,Be,Dr){for(var Mr=k(Dr),$r=0;$r<Mr.length;$r++){var Br=Mr[$r].split(/:(.+)/);Br[0]==="connect"&&gt(_r,Br[1]),Br[0]==="swap"&&mt(_r,Br[1])}}function gt(_r,Be){var Dr=Y.createEventSource(Be);Dr.onerror=function(Mr){ue(_r,"htmx:sseError",{error:Mr,source:Dr}),xt(_r)},ie(_r).sseEventSource=Dr}function mt(_r,Be){var Dr=c(_r,yt);if(Dr){var Mr=ie(Dr).sseEventSource,$r=function(Br){if(!xt(Dr)){if(!oe(_r)){Mr.removeEventListener(Be,$r);return}var zr=Br.data;C(_r,function(Wr){zr=Wr.transformResponse(zr,null,_r)});var Vr=fr(_r),jr=ge(_r),Gr=T(_r);Fe(Vr.swapStyle,jr,_r,zr,Gr),Wt(Gr.tasks),fe(_r,"htmx:sseMessage",Br)}};ie(_r).sseListener=$r,Mr.addEventListener(Be,$r)}else ue(_r,"htmx:noSSESourceError")}function pt(_r,Be,Dr){var Mr=c(_r,yt);if(Mr){var $r=ie(Mr).sseEventSource,Br=function(){xt(Mr)||(oe(_r)?Be(_r):$r.removeEventListener(Dr,Br))};ie(_r).sseListener=Br,$r.addEventListener(Dr,Br)}else ue(_r,"htmx:noSSESourceError")}function xt(_r){if(!oe(_r))return ie(_r).sseEventSource.close(),!0}function yt(_r){return ie(_r).sseEventSource!=null}function bt(_r,Be,Dr,Mr){var $r=function(){Dr.loaded||(Dr.loaded=!0,Be(_r))};Mr?setTimeout($r,Mr):$r()}function wt(_r,Be,Dr){var Mr=!1;return ae(b,function($r){if(o(_r,"hx-"+$r)){var Br=ee(_r,"hx-"+$r);Mr=!0,Be.path=Br,Be.verb=$r,Dr.forEach(function(zr){St(_r,zr,Be,function(Vr,jr){if(v(Vr,Y.config.disableSelector)){m(Vr);return}ce($r,Br,Vr,jr)})})}}),Mr}function St(_r,Be,Dr,Mr){if(Be.sseEvent)pt(_r,Mr,Be.sseEvent);else if(Be.trigger==="revealed")st(),it(_r,Mr,Dr,Be),lt(_r);else if(Be.trigger==="intersect"){var $r={};Be.root&&($r.root=le(_r,Be.root)),Be.threshold&&($r.threshold=parseFloat(Be.threshold));var Br=new IntersectionObserver(function(zr){for(var Vr=0;Vr<zr.length;Vr++){var jr=zr[Vr];if(jr.isIntersecting){fe(_r,"intersect");break}}},$r);Br.observe(_r),it(_r,Mr,Dr,Be)}else Be.trigger==="load"?nt(Be,_r,Mt("load",{elt:_r}))||bt(_r,Mr,Dr,Be.delay):Be.pollInterval?(Dr.polling=!0,Ye(_r,Mr,Be)):it(_r,Mr,Dr,Be)}function Et(_r){if(Y.config.allowScriptTags&&(_r.type==="text/javascript"||_r.type==="module"||_r.type==="")){var Be=te().createElement("script");ae(_r.attributes,function(Mr){Be.setAttribute(Mr.name,Mr.value)}),Be.textContent=_r.textContent,Be.async=!1,Y.config.inlineScriptNonce&&(Be.nonce=Y.config.inlineScriptNonce);var Dr=_r.parentElement;try{Dr.insertBefore(Be,_r)}catch(Mr){y(Mr)}finally{_r.parentElement&&_r.parentElement.removeChild(_r)}}}function Ct(_r){h(_r,"script")&&Et(_r),ae(f(_r,"script"),function(Be){Et(Be)})}function Tt(){return document.querySelector("[hx-boost], [data-hx-boost]")}function Rt(_r){var Be=null,Dr=[];if(document.evaluate)for(var Mr=document.evaluate('//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") ]]',_r);Be=Mr.iterateNext();)Dr.push(Be);else for(var $r=document.getElementsByTagName("*"),Br=0;Br<$r.length;Br++)for(var zr=$r[Br].attributes,Vr=0;Vr<zr.length;Vr++){var jr=zr[Vr].name;(g(jr,"hx-on:")||g(jr,"data-hx-on:"))&&Dr.push($r[Br])}return Dr}function Ot(_r){if(_r.querySelectorAll){var Be=Tt()?", a":"",Dr=_r.querySelectorAll(w+Be+", form, [type='submit'], [hx-sse], [data-hx-sse], [hx-ws], [data-hx-ws], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger], [hx-on], [data-hx-on]");return Dr}else return[]}function qt(_r){var Be=s("#"+Q(_r,"form"))||v(_r,"form");if(Be){var Dr=function(Mr){var $r=v(Mr.target,"button, input[type='submit']");if($r!==null){var Br=ie(Be);Br.lastButtonClicked=$r}};_r.addEventListener("click",Dr),_r.addEventListener("focusin",Dr),_r.addEventListener("focusout",function(Mr){var $r=ie(Be);$r.lastButtonClicked=null})}}function Ht(_r){var Be=We(_r),Dr=0;for(let Mr=0;Mr<Be.length;Mr++){const $r=Be[Mr];$r==="{"?Dr++:$r==="}"&&Dr--}return Dr}function Lt(_r,Be,Dr){var Mr=ie(_r);Mr.onHandlers=[];var $r,Br=function(zr){return gr(_r,function(){$r||($r=new Function("event",Dr)),$r.call(_r,zr)})};_r.addEventListener(Be,Br),Mr.onHandlers.push({event:Be,listener:Br})}function At(_r){var Be=ee(_r,"hx-on");if(Be){for(var Dr={},Mr=Be.split(`
`),$r=null,Br=0;Mr.length>0;){var zr=Mr.shift(),Vr=zr.match(/^\s*([a-zA-Z:\-\.]+:)(.*)/);Br===0&&Vr?(zr.split(":"),$r=Vr[1].slice(0,-1),Dr[$r]=Vr[2]):Dr[$r]+=zr,Br+=Ht(zr)}for(var jr in Dr)Lt(_r,jr,Dr[jr])}}function Nt(_r){Oe(_r);for(var Be=0;Be<_r.attributes.length;Be++){var Dr=_r.attributes[Be].name,Mr=_r.attributes[Be].value;if(g(Dr,"hx-on:")||g(Dr,"data-hx-on:")){let $r=Dr.slice(Dr.indexOf(":")+1);g($r,":")&&($r="htmx"+$r),Lt(_r,$r,Mr)}}}function It(_r){if(v(_r,Y.config.disableSelector)){m(_r);return}var Be=ie(_r);if(Be.initHash!==Re(_r)){qe(_r),Be.initHash=Re(_r),At(_r),fe(_r,"htmx:beforeProcessNode"),_r.value&&(Be.lastValue=_r.value);var Dr=Ze(_r),Mr=wt(_r,Be,Dr);Mr||(re(_r,"hx-boost")==="true"?et(_r,Be,Dr):o(_r,"hx-trigger")&&Dr.forEach(function(zr){St(_r,zr,Be,function(){})})),(_r.tagName==="FORM"||Q(_r,"type")==="submit"&&o(_r,"form"))&&qt(_r);var $r=ee(_r,"hx-sse");$r&&dt(_r,Be,$r);var Br=ee(_r,"hx-ws");Br&&ut(_r,Be,Br),fe(_r,"htmx:afterProcessNode")}}function Pt(_r){if(_r=s(_r),v(_r,Y.config.disableSelector)){m(_r);return}It(_r),ae(Ot(_r),function(Be){It(Be)}),ae(Rt(_r),Nt)}function kt(_r){return _r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function Mt(_r,Be){var Dr;return window.CustomEvent&&typeof window.CustomEvent=="function"?Dr=new CustomEvent(_r,{bubbles:!0,cancelable:!0,detail:Be}):(Dr=te().createEvent("CustomEvent"),Dr.initCustomEvent(_r,!0,!0,Be)),Dr}function ue(_r,Be,Dr){fe(_r,Be,se({error:Be},Dr))}function Dt(_r){return _r==="htmx:afterProcessNode"}function C(_r,Be){ae(Lr(_r),function(Dr){try{Be(Dr)}catch(Mr){y(Mr)}})}function y(_r){console.error?console.error(_r):console.log&&console.log("ERROR: ",_r)}function fe(_r,Be,Dr){_r=s(_r),Dr==null&&(Dr={}),Dr.elt=_r;var Mr=Mt(Be,Dr);Y.logger&&!Dt(Be)&&Y.logger(_r,Be,Dr),Dr.error&&(y(Dr.error),fe(_r,"htmx:error",{errorInfo:Dr}));var $r=_r.dispatchEvent(Mr),Br=kt(Be);if($r&&Br!==Be){var zr=Mt(Br,Mr.detail);$r=$r&&_r.dispatchEvent(zr)}return C(_r,function(Vr){$r=$r&&Vr.onEvent(Be,Mr)!==!1&&!Mr.defaultPrevented}),$r}var Xt=location.pathname+location.search;function Ft(){var _r=te().querySelector("[hx-history-elt],[data-hx-history-elt]");return _r||te().body}function Ut(_r,Be,Dr,Mr){if(M()){_r=D(_r);for(var $r=S(localStorage.getItem("htmx-history-cache"))||[],Br=0;Br<$r.length;Br++)if($r[Br].url===_r){$r.splice(Br,1);break}var zr={url:_r,content:Be,title:Dr,scroll:Mr};for(fe(te().body,"htmx:historyItemCreated",{item:zr,cache:$r}),$r.push(zr);$r.length>Y.config.historyCacheSize;)$r.shift();for(;$r.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify($r));break}catch(Vr){ue(te().body,"htmx:historyCacheError",{cause:Vr,cache:$r}),$r.shift()}}}function Bt(_r){if(!M())return null;_r=D(_r);for(var Be=S(localStorage.getItem("htmx-history-cache"))||[],Dr=0;Dr<Be.length;Dr++)if(Be[Dr].url===_r)return Be[Dr];return null}function Vt(_r){var Be=Y.config.requestClass,Dr=_r.cloneNode(!0);return ae(f(Dr,"."+Be),function(Mr){n(Mr,Be)}),Dr.innerHTML}function jt(){var _r=Ft(),Be=Xt||location.pathname+location.search,Dr;try{Dr=te().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{Dr=te().querySelector('[hx-history="false"],[data-hx-history="false"]')}Dr||(fe(te().body,"htmx:beforeHistorySave",{path:Be,historyElt:_r}),Ut(Be,Vt(_r),te().title,window.scrollY)),Y.config.historyEnabled&&history.replaceState({htmx:!0},te().title,window.location.href)}function _t(_r){Y.config.getCacheBusterParam&&(_r=_r.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(_(_r,"&")||_(_r,"?"))&&(_r=_r.slice(0,-1))),Y.config.historyEnabled&&history.pushState({htmx:!0},"",_r),Xt=_r}function zt(_r){Y.config.historyEnabled&&history.replaceState({htmx:!0},"",_r),Xt=_r}function Wt(_r){ae(_r,function(Be){Be.call()})}function $t(_r){var Be=new XMLHttpRequest,Dr={path:_r,xhr:Be};fe(te().body,"htmx:historyCacheMiss",Dr),Be.open("GET",_r,!0),Be.setRequestHeader("HX-History-Restore-Request","true"),Be.onload=function(){if(this.status>=200&&this.status<400){fe(te().body,"htmx:historyCacheMissLoad",Dr);var Mr=l(this.response);Mr=Mr.querySelector("[hx-history-elt],[data-hx-history-elt]")||Mr;var $r=Ft(),Br=T($r),zr=Xe(this.response);if(zr){var Vr=E("title");Vr?Vr.innerHTML=zr:window.document.title=zr}ke($r,Mr,Br),Wt(Br.tasks),Xt=_r,fe(te().body,"htmx:historyRestore",{path:_r,cacheMiss:!0,serverResponse:this.response})}else ue(te().body,"htmx:historyCacheMissLoadError",Dr)},Be.send()}function Gt(_r){jt(),_r=_r||location.pathname+location.search;var Be=Bt(_r);if(Be){var Dr=l(Be.content),Mr=Ft(),$r=T(Mr);ke(Mr,Dr,$r),Wt($r.tasks),document.title=Be.title,setTimeout(function(){window.scrollTo(0,Be.scroll)},0),Xt=_r,fe(te().body,"htmx:historyRestore",{path:_r,item:Be})}else Y.config.refreshOnHistoryMiss?window.location.reload(!0):$t(_r)}function Jt(_r){var Be=ve(_r,"hx-indicator");return Be==null&&(Be=[_r]),ae(Be,function(Dr){var Mr=ie(Dr);Mr.requestCount=(Mr.requestCount||0)+1,Dr.classList.add.call(Dr.classList,Y.config.requestClass)}),Be}function Zt(_r){var Be=ve(_r,"hx-disabled-elt");return Be==null&&(Be=[]),ae(Be,function(Dr){var Mr=ie(Dr);Mr.requestCount=(Mr.requestCount||0)+1,Dr.setAttribute("disabled","")}),Be}function Kt(_r,Be){ae(_r,function(Dr){var Mr=ie(Dr);Mr.requestCount=(Mr.requestCount||0)-1,Mr.requestCount===0&&Dr.classList.remove.call(Dr.classList,Y.config.requestClass)}),ae(Be,function(Dr){var Mr=ie(Dr);Mr.requestCount=(Mr.requestCount||0)-1,Mr.requestCount===0&&Dr.removeAttribute("disabled")})}function Yt(_r,Be){for(var Dr=0;Dr<_r.length;Dr++){var Mr=_r[Dr];if(Mr.isSameNode(Be))return!0}return!1}function Qt(_r){return _r.name===""||_r.name==null||_r.disabled||_r.type==="button"||_r.type==="submit"||_r.tagName==="image"||_r.tagName==="reset"||_r.tagName==="file"?!1:_r.type==="checkbox"||_r.type==="radio"?_r.checked:!0}function er(_r,Be,Dr){if(_r!=null&&Be!=null){var Mr=Dr[_r];Mr===void 0?Dr[_r]=Be:Array.isArray(Mr)?Array.isArray(Be)?Dr[_r]=Mr.concat(Be):Mr.push(Be):Array.isArray(Be)?Dr[_r]=[Mr].concat(Be):Dr[_r]=[Mr,Be]}}function tr(_r,Be,Dr,Mr,$r){if(!(Mr==null||Yt(_r,Mr))){if(_r.push(Mr),Qt(Mr)){var Br=Q(Mr,"name"),zr=Mr.value;Mr.multiple&&(zr=I(Mr.querySelectorAll("option:checked")).map(function(jr){return jr.value})),Mr.files&&(zr=I(Mr.files)),er(Br,zr,Be),$r&&rr(Mr,Dr)}if(h(Mr,"form")){var Vr=Mr.elements;ae(Vr,function(jr){tr(_r,Be,Dr,jr,$r)})}}}function rr(_r,Be){_r.willValidate&&(fe(_r,"htmx:validation:validate"),_r.checkValidity()||(Be.push({elt:_r,message:_r.validationMessage,validity:_r.validity}),fe(_r,"htmx:validation:failed",{message:_r.validationMessage,validity:_r.validity})))}function nr(_r,Be){var Dr=[],Mr={},$r={},Br=[],zr=ie(_r),Vr=h(_r,"form")&&_r.noValidate!==!0||ee(_r,"hx-validate")==="true";if(zr.lastButtonClicked&&(Vr=Vr&&zr.lastButtonClicked.formNoValidate!==!0),Be!=="get"&&tr(Dr,$r,Br,v(_r,"form"),Vr),tr(Dr,Mr,Br,_r,Vr),zr.lastButtonClicked||_r.tagName==="BUTTON"||_r.tagName==="INPUT"&&Q(_r,"type")==="submit"){var jr=zr.lastButtonClicked||_r,Gr=Q(jr,"name");er(Gr,jr.value,$r)}var Wr=ve(_r,"hx-include");return ae(Wr,function(Kr){tr(Dr,Mr,Br,Kr,Vr),h(Kr,"form")||ae(Kr.querySelectorAll(Je),function(Zr){tr(Dr,Mr,Br,Zr,Vr)})}),Mr=se(Mr,$r),{errors:Br,values:Mr}}function ir(_r,Be,Dr){_r!==""&&(_r+="&"),String(Dr)==="[object Object]"&&(Dr=JSON.stringify(Dr));var Mr=encodeURIComponent(Dr);return _r+=encodeURIComponent(Be)+"="+Mr,_r}function ar(_r){var Be="";for(var Dr in _r)if(_r.hasOwnProperty(Dr)){var Mr=_r[Dr];Array.isArray(Mr)?ae(Mr,function($r){Be=ir(Be,Dr,$r)}):Be=ir(Be,Dr,Mr)}return Be}function or(_r){var Be=new FormData;for(var Dr in _r)if(_r.hasOwnProperty(Dr)){var Mr=_r[Dr];Array.isArray(Mr)?ae(Mr,function($r){Be.append(Dr,$r)}):Be.append(Dr,Mr)}return Be}function sr(_r,Be,Dr){var Mr={"HX-Request":"true","HX-Trigger":Q(_r,"id"),"HX-Trigger-Name":Q(_r,"name"),"HX-Target":ee(Be,"id"),"HX-Current-URL":te().location.href};return dr(_r,"hx-headers",!1,Mr),Dr!==void 0&&(Mr["HX-Prompt"]=Dr),ie(_r).boosted&&(Mr["HX-Boosted"]="true"),Mr}function lr(_r,Be){var Dr=re(Be,"hx-params");if(Dr){if(Dr==="none")return{};if(Dr==="*")return _r;if(Dr.indexOf("not ")===0)return ae(Dr.substr(4).split(","),function($r){$r=$r.trim(),delete _r[$r]}),_r;var Mr={};return ae(Dr.split(","),function($r){$r=$r.trim(),Mr[$r]=_r[$r]}),Mr}else return _r}function ur(_r){return Q(_r,"href")&&Q(_r,"href").indexOf("#")>=0}function fr(_r,Be){var Dr=Be||re(_r,"hx-swap"),Mr={swapStyle:ie(_r).boosted?"innerHTML":Y.config.defaultSwapStyle,swapDelay:Y.config.defaultSwapDelay,settleDelay:Y.config.defaultSettleDelay};if(ie(_r).boosted&&!ur(_r)&&(Mr.show="top"),Dr){var $r=k(Dr);if($r.length>0)for(var Br=0;Br<$r.length;Br++){var zr=$r[Br];if(zr.indexOf("swap:")===0)Mr.swapDelay=d(zr.substr(5));else if(zr.indexOf("settle:")===0)Mr.settleDelay=d(zr.substr(7));else if(zr.indexOf("transition:")===0)Mr.transition=zr.substr(11)==="true";else if(zr.indexOf("ignoreTitle:")===0)Mr.ignoreTitle=zr.substr(12)==="true";else if(zr.indexOf("scroll:")===0){var Vr=zr.substr(7),jr=Vr.split(":"),Gr=jr.pop(),Wr=jr.length>0?jr.join(":"):null;Mr.scroll=Gr,Mr.scrollTarget=Wr}else if(zr.indexOf("show:")===0){var Kr=zr.substr(5),jr=Kr.split(":"),Zr=jr.pop(),Wr=jr.length>0?jr.join(":"):null;Mr.show=Zr,Mr.showTarget=Wr}else if(zr.indexOf("focus-scroll:")===0){var Jr=zr.substr(13);Mr.focusScroll=Jr=="true"}else Br==0?Mr.swapStyle=zr:y("Unknown modifier in hx-swap: "+zr)}}return Mr}function cr(_r){return re(_r,"hx-encoding")==="multipart/form-data"||h(_r,"form")&&Q(_r,"enctype")==="multipart/form-data"}function hr(_r,Be,Dr){var Mr=null;return C(Be,function($r){Mr==null&&(Mr=$r.encodeParameters(_r,Dr,Be))}),Mr??(cr(Be)?or(Dr):ar(Dr))}function T(_r){return{tasks:[],elts:[_r]}}function vr(_r,Be){var Dr=_r[0],Mr=_r[_r.length-1];if(Be.scroll){var $r=null;Be.scrollTarget&&($r=le(Dr,Be.scrollTarget)),Be.scroll==="top"&&(Dr||$r)&&($r=$r||Dr,$r.scrollTop=0),Be.scroll==="bottom"&&(Mr||$r)&&($r=$r||Mr,$r.scrollTop=$r.scrollHeight)}if(Be.show){var $r=null;if(Be.showTarget){var Br=Be.showTarget;Be.showTarget==="window"&&(Br="body"),$r=le(Dr,Br)}Be.show==="top"&&(Dr||$r)&&($r=$r||Dr,$r.scrollIntoView({block:"start",behavior:Y.config.scrollBehavior})),Be.show==="bottom"&&(Mr||$r)&&($r=$r||Mr,$r.scrollIntoView({block:"end",behavior:Y.config.scrollBehavior}))}}function dr(_r,Be,Dr,Mr){if(Mr==null&&(Mr={}),_r==null)return Mr;var $r=ee(_r,Be);if($r){var Br=$r.trim(),zr=Dr;if(Br==="unset")return null;Br.indexOf("javascript:")===0?(Br=Br.substr(11),zr=!0):Br.indexOf("js:")===0&&(Br=Br.substr(3),zr=!0),Br.indexOf("{")!==0&&(Br="{"+Br+"}");var Vr;zr?Vr=gr(_r,function(){return Function("return ("+Br+")")()},{}):Vr=S(Br);for(var jr in Vr)Vr.hasOwnProperty(jr)&&Mr[jr]==null&&(Mr[jr]=Vr[jr])}return dr(u(_r),Be,Dr,Mr)}function gr(_r,Be,Dr){return Y.config.allowEval?Be():(ue(_r,"htmx:evalDisallowedError"),Dr)}function mr(_r,Be){return dr(_r,"hx-vars",!0,Be)}function pr(_r,Be){return dr(_r,"hx-vals",!1,Be)}function xr(_r){return se(mr(_r),pr(_r))}function yr(_r,Be,Dr){if(Dr!==null)try{_r.setRequestHeader(Be,Dr)}catch{_r.setRequestHeader(Be,encodeURIComponent(Dr)),_r.setRequestHeader(Be+"-URI-AutoEncoded","true")}}function br(_r){if(_r.responseURL&&typeof URL<"u")try{var Be=new URL(_r.responseURL);return Be.pathname+Be.search}catch{ue(te().body,"htmx:badResponseUrl",{url:_r.responseURL})}}function R(_r,Be){return _r.getAllResponseHeaders().match(Be)}function wr(_r,Be,Dr){return _r=_r.toLowerCase(),Dr?Dr instanceof Element||L(Dr,"String")?ce(_r,Be,null,null,{targetOverride:s(Dr),returnPromise:!0}):ce(_r,Be,s(Dr.source),Dr.event,{handler:Dr.handler,headers:Dr.headers,values:Dr.values,targetOverride:s(Dr.target),swapOverride:Dr.swap,returnPromise:!0}):ce(_r,Be,null,null,{returnPromise:!0})}function Sr(_r){for(var Be=[];_r;)Be.push(_r),_r=_r.parentElement;return Be}function Er(_r,Be,Dr){var Mr,$r;if(typeof URL=="function"){$r=new URL(Be,document.location.href);var Br=document.location.origin;Mr=Br===$r.origin}else $r=Be,Mr=g(Be,document.location.origin);return Y.config.selfRequestsOnly&&!Mr?!1:fe(_r,"htmx:validateUrl",se({url:$r,sameHost:Mr},Dr))}function ce(_r,Be,Dr,Mr,$r,Br){var zr=null,Vr=null;if($r=$r??{},$r.returnPromise&&typeof Promise<"u")var jr=new Promise(function(Zo,Wo){zr=Zo,Vr=Wo});Dr==null&&(Dr=te().body);var Gr=$r.handler||Tr;if(!oe(Dr))return ne(zr),jr;var Wr=$r.targetOverride||ge(Dr);if(Wr==null||Wr==he)return ue(Dr,"htmx:targetError",{target:ee(Dr,"hx-target")}),ne(Vr),jr;var Kr=ie(Dr),Zr=Kr.lastButtonClicked;if(Zr){var Jr=Q(Zr,"formaction");Jr!=null&&(Be=Jr);var rn=Q(Zr,"formmethod");rn!=null&&(_r=rn)}if(!Br){var nn=function(){return ce(_r,Be,Dr,Mr,$r,!0)},ln={target:Wr,elt:Dr,path:Be,verb:_r,triggeringEvent:Mr,etc:$r,issueRequest:nn};if(fe(Dr,"htmx:confirm",ln)===!1)return ne(zr),jr}var cn=Dr,hn=re(Dr,"hx-sync"),mn=null,bn=!1;if(hn){var An=hn.split(":"),vn=An[0].trim();if(vn==="this"?cn=de(Dr,"hx-sync"):cn=le(Dr,vn),hn=(An[1]||"drop").trim(),Kr=ie(cn),hn==="drop"&&Kr.xhr&&Kr.abortable!==!0)return ne(zr),jr;if(hn==="abort"){if(Kr.xhr)return ne(zr),jr;bn=!0}else if(hn==="replace")fe(cn,"htmx:abort");else if(hn.indexOf("queue")===0){var dn=hn.split(" ");mn=(dn[1]||"last").trim()}}if(Kr.xhr)if(Kr.abortable)fe(cn,"htmx:abort");else{if(mn==null){if(Mr){var wn=ie(Mr);wn&&wn.triggerSpec&&wn.triggerSpec.queue&&(mn=wn.triggerSpec.queue)}mn==null&&(mn="last")}return Kr.queuedRequests==null&&(Kr.queuedRequests=[]),mn==="first"&&Kr.queuedRequests.length===0?Kr.queuedRequests.push(function(){ce(_r,Be,Dr,Mr,$r)}):mn==="all"?Kr.queuedRequests.push(function(){ce(_r,Be,Dr,Mr,$r)}):mn==="last"&&(Kr.queuedRequests=[],Kr.queuedRequests.push(function(){ce(_r,Be,Dr,Mr,$r)})),ne(zr),jr}var xn=new XMLHttpRequest;Kr.xhr=xn,Kr.abortable=bn;var Mn=function(){if(Kr.xhr=null,Kr.abortable=!1,Kr.queuedRequests!=null&&Kr.queuedRequests.length>0){var Zo=Kr.queuedRequests.shift();Zo()}},In=re(Dr,"hx-prompt");if(In){var Hn=prompt(In);if(Hn===null||!fe(Dr,"htmx:prompt",{prompt:Hn,target:Wr}))return ne(zr),Mn(),jr}var $n=re(Dr,"hx-confirm");if($n&&!confirm($n))return ne(zr),Mn(),jr;var jn=sr(Dr,Wr,Hn);$r.headers&&(jn=se(jn,$r.headers));var Bn=nr(Dr,_r),Gn=Bn.errors,ei=Bn.values;$r.values&&(ei=se(ei,$r.values));var ri=xr(Dr),vi=se(ei,ri),wi=lr(vi,Dr);_r!=="get"&&!cr(Dr)&&(jn["Content-Type"]="application/x-www-form-urlencoded"),Y.config.getCacheBusterParam&&_r==="get"&&(wi["org.htmx.cache-buster"]=Q(Wr,"id")||"true"),(Be==null||Be==="")&&(Be=te().location.href);var Ni=dr(Dr,"hx-request"),Yn=ie(Dr).boosted,Vn=Y.config.methodsThatUseUrlParams.indexOf(_r)>=0,si={boosted:Yn,useUrlParams:Vn,parameters:wi,unfilteredParameters:vi,headers:jn,target:Wr,verb:_r,errors:Gn,withCredentials:$r.credentials||Ni.credentials||Y.config.withCredentials,timeout:$r.timeout||Ni.timeout||Y.config.timeout,path:Be,triggeringEvent:Mr};if(!fe(Dr,"htmx:configRequest",si))return ne(zr),Mn(),jr;if(Be=si.path,_r=si.verb,jn=si.headers,wi=si.parameters,Gn=si.errors,Vn=si.useUrlParams,Gn&&Gn.length>0)return fe(Dr,"htmx:validation:halted",si),ne(zr),Mn(),jr;var Ri=Be.split("#"),Pi=Ri[0],Fi=Ri[1],zi=Be;if(Vn){zi=Pi;var oo=Object.keys(wi).length!==0;oo&&(zi.indexOf("?")<0?zi+="?":zi+="&",zi+=ar(wi),Fi&&(zi+="#"+Fi))}if(!Er(Dr,zi,si))return ue(Dr,"htmx:invalidPath",si),ne(Vr),jr;if(xn.open(_r.toUpperCase(),zi,!0),xn.overrideMimeType("text/html"),xn.withCredentials=si.withCredentials,xn.timeout=si.timeout,!Ni.noHeaders){for(var lo in jn)if(jn.hasOwnProperty(lo)){var io=jn[lo];yr(xn,lo,io)}}var Wi={xhr:xn,target:Wr,requestConfig:si,etc:$r,boosted:Yn,pathInfo:{requestPath:Be,finalRequestPath:zi,anchor:Fi}};if(xn.onload=function(){try{var Zo=Sr(Dr);if(Wi.pathInfo.responsePath=br(xn),Gr(Dr,Wi),Kt(Bo,Mo),fe(Dr,"htmx:afterRequest",Wi),fe(Dr,"htmx:afterOnLoad",Wi),!oe(Dr)){for(var Wo=null;Zo.length>0&&Wo==null;){var Ao=Zo.shift();oe(Ao)&&(Wo=Ao)}Wo&&(fe(Wo,"htmx:afterRequest",Wi),fe(Wo,"htmx:afterOnLoad",Wi))}ne(zr),Mn()}catch(ba){throw ue(Dr,"htmx:onLoadError",se({error:ba},Wi)),ba}},xn.onerror=function(){Kt(Bo,Mo),ue(Dr,"htmx:afterRequest",Wi),ue(Dr,"htmx:sendError",Wi),ne(Vr),Mn()},xn.onabort=function(){Kt(Bo,Mo),ue(Dr,"htmx:afterRequest",Wi),ue(Dr,"htmx:sendAbort",Wi),ne(Vr),Mn()},xn.ontimeout=function(){Kt(Bo,Mo),ue(Dr,"htmx:afterRequest",Wi),ue(Dr,"htmx:timeout",Wi),ne(Vr),Mn()},!fe(Dr,"htmx:beforeRequest",Wi))return ne(zr),Mn(),jr;var Bo=Jt(Dr),Mo=Zt(Dr);ae(["loadstart","loadend","progress","abort"],function(Zo){ae([xn,xn.upload],function(Wo){Wo.addEventListener(Zo,function(Ao){fe(Dr,"htmx:xhr:"+Zo,{lengthComputable:Ao.lengthComputable,loaded:Ao.loaded,total:Ao.total})})})}),fe(Dr,"htmx:beforeSend",Wi);var Zi=Vn?null:hr(xn,Dr,wi);return xn.send(Zi),jr}function Cr(_r,Be){var Dr=Be.xhr,Mr=null,$r=null;if(R(Dr,/HX-Push:/i)?(Mr=Dr.getResponseHeader("HX-Push"),$r="push"):R(Dr,/HX-Push-Url:/i)?(Mr=Dr.getResponseHeader("HX-Push-Url"),$r="push"):R(Dr,/HX-Replace-Url:/i)&&(Mr=Dr.getResponseHeader("HX-Replace-Url"),$r="replace"),Mr)return Mr==="false"?{}:{type:$r,path:Mr};var Br=Be.pathInfo.finalRequestPath,zr=Be.pathInfo.responsePath,Vr=re(_r,"hx-push-url"),jr=re(_r,"hx-replace-url"),Gr=ie(_r).boosted,Wr=null,Kr=null;return Vr?(Wr="push",Kr=Vr):jr?(Wr="replace",Kr=jr):Gr&&(Wr="push",Kr=zr||Br),Kr?Kr==="false"?{}:(Kr==="true"&&(Kr=zr||Br),Be.pathInfo.anchor&&Kr.indexOf("#")===-1&&(Kr=Kr+"#"+Be.pathInfo.anchor),{type:Wr,path:Kr}):{}}function Tr(_r,Be){var Dr=Be.xhr,Mr=Be.target,$r=Be.etc;if(Be.requestConfig,!!fe(_r,"htmx:beforeOnLoad",Be)){if(R(Dr,/HX-Trigger:/i)&&Ue(Dr,"HX-Trigger",_r),R(Dr,/HX-Location:/i)){jt();var Br=Dr.getResponseHeader("HX-Location"),zr;Br.indexOf("{")===0&&(zr=S(Br),Br=zr.path,delete zr.path),wr("GET",Br,zr).then(function(){_t(Br)});return}var Vr=R(Dr,/HX-Refresh:/i)&&Dr.getResponseHeader("HX-Refresh")==="true";if(R(Dr,/HX-Redirect:/i)){location.href=Dr.getResponseHeader("HX-Redirect"),Vr&&location.reload();return}if(Vr){location.reload();return}R(Dr,/HX-Retarget:/i)&&(Be.target=te().querySelector(Dr.getResponseHeader("HX-Retarget")));var jr=Cr(_r,Be),Gr=Dr.status>=200&&Dr.status<400&&Dr.status!==204,Wr=Dr.response,Kr=Dr.status>=400,Zr=Y.config.ignoreTitle,Jr=se({shouldSwap:Gr,serverResponse:Wr,isError:Kr,ignoreTitle:Zr},Be);if(fe(Mr,"htmx:beforeSwap",Jr)){if(Mr=Jr.target,Wr=Jr.serverResponse,Kr=Jr.isError,Zr=Jr.ignoreTitle,Be.target=Mr,Be.failed=Kr,Be.successful=!Kr,Jr.shouldSwap){Dr.status===286&&Ke(_r),C(_r,function(vn){Wr=vn.transformResponse(Wr,Dr,_r)}),jr.type&&jt();var rn=$r.swapOverride;R(Dr,/HX-Reswap:/i)&&(rn=Dr.getResponseHeader("HX-Reswap"));var zr=fr(_r,rn);zr.hasOwnProperty("ignoreTitle")&&(Zr=zr.ignoreTitle),Mr.classList.add(Y.config.swappingClass);var nn=null,ln=null,cn=function(){try{var vn=document.activeElement,dn={};try{dn={elt:vn,start:vn?vn.selectionStart:null,end:vn?vn.selectionEnd:null}}catch{}var wn;R(Dr,/HX-Reselect:/i)&&(wn=Dr.getResponseHeader("HX-Reselect"));var xn=T(Mr);if(Fe(zr.swapStyle,Mr,_r,Wr,xn,wn),dn.elt&&!oe(dn.elt)&&Q(dn.elt,"id")){var Mn=document.getElementById(Q(dn.elt,"id")),In={preventScroll:zr.focusScroll!==void 0?!zr.focusScroll:!Y.config.defaultFocusScroll};if(Mn){if(dn.start&&Mn.setSelectionRange)try{Mn.setSelectionRange(dn.start,dn.end)}catch{}Mn.focus(In)}}if(Mr.classList.remove(Y.config.swappingClass),ae(xn.elts,function(jn){jn.classList&&jn.classList.add(Y.config.settlingClass),fe(jn,"htmx:afterSwap",Be)}),R(Dr,/HX-Trigger-After-Swap:/i)){var Hn=_r;oe(_r)||(Hn=te().body),Ue(Dr,"HX-Trigger-After-Swap",Hn)}var $n=function(){if(ae(xn.tasks,function(ei){ei.call()}),ae(xn.elts,function(ei){ei.classList&&ei.classList.remove(Y.config.settlingClass),fe(ei,"htmx:afterSettle",Be)}),jr.type&&(jr.type==="push"?(_t(jr.path),fe(te().body,"htmx:pushedIntoHistory",{path:jr.path})):(zt(jr.path),fe(te().body,"htmx:replacedInHistory",{path:jr.path}))),Be.pathInfo.anchor){var jn=E("#"+Be.pathInfo.anchor);jn&&jn.scrollIntoView({block:"start",behavior:"auto"})}if(xn.title&&!Zr){var Bn=E("title");Bn?Bn.innerHTML=xn.title:window.document.title=xn.title}if(vr(xn.elts,zr),R(Dr,/HX-Trigger-After-Settle:/i)){var Gn=_r;oe(_r)||(Gn=te().body),Ue(Dr,"HX-Trigger-After-Settle",Gn)}ne(nn)};zr.settleDelay>0?setTimeout($n,zr.settleDelay):$n()}catch(jn){throw ue(_r,"htmx:swapError",Be),ne(ln),jn}},hn=Y.config.globalViewTransitions;if(zr.hasOwnProperty("transition")&&(hn=zr.transition),hn&&fe(_r,"htmx:beforeTransition",Be)&&typeof Promise<"u"&&document.startViewTransition){var mn=new Promise(function(vn,dn){nn=vn,ln=dn}),bn=cn;cn=function(){document.startViewTransition(function(){return bn(),mn})}}zr.swapDelay>0?setTimeout(cn,zr.swapDelay):cn()}Kr&&ue(_r,"htmx:responseError",se({error:"Response Status Error Code "+Dr.status+" from "+Be.pathInfo.requestPath},Be))}}}var Rr={};function Or(){return{init:function(_r){return null},onEvent:function(_r,Be){return!0},transformResponse:function(_r,Be,Dr){return _r},isInlineSwap:function(_r){return!1},handleSwap:function(_r,Be,Dr,Mr){return!1},encodeParameters:function(_r,Be,Dr){return null}}}function qr(_r,Be){Be.init&&Be.init(r),Rr[_r]=se(Or(),Be)}function Hr(_r){delete Rr[_r]}function Lr(_r,Be,Dr){if(_r==null)return Be;Be==null&&(Be=[]),Dr==null&&(Dr=[]);var Mr=ee(_r,"hx-ext");return Mr&&ae(Mr.split(","),function($r){if($r=$r.replace(/ /g,""),$r.slice(0,7)=="ignore:"){Dr.push($r.slice(7));return}if(Dr.indexOf($r)<0){var Br=Rr[$r];Br&&Be.indexOf(Br)<0&&Be.push(Br)}}),Lr(u(_r),Be,Dr)}var Ar=!1;te().addEventListener("DOMContentLoaded",function(){Ar=!0});function Nr(_r){Ar||te().readyState==="complete"?_r():te().addEventListener("DOMContentLoaded",_r)}function Ir(){Y.config.includeIndicatorStyles!==!1&&te().head.insertAdjacentHTML("beforeend","<style>                      ."+Y.config.indicatorClass+"{opacity:0;transition: opacity 200ms ease-in;}                      ."+Y.config.requestClass+" ."+Y.config.indicatorClass+"{opacity:1}                      ."+Y.config.requestClass+"."+Y.config.indicatorClass+"{opacity:1}                    </style>")}function Pr(){var _r=te().querySelector('meta[name="htmx-config"]');return _r?S(_r.content):null}function kr(){var _r=Pr();_r&&(Y.config=se(Y.config,_r))}return Nr(function(){kr(),Ir();var _r=te().body;Pt(_r);var Be=te().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");_r.addEventListener("htmx:abort",function(Mr){var $r=Mr.target,Br=ie($r);Br&&Br.xhr&&Br.xhr.abort()});var Dr=window.onpopstate;window.onpopstate=function(Mr){Mr.state&&Mr.state.htmx?(Gt(),ae(Be,function($r){fe($r,"htmx:restored",{document:te(),triggerEvent:fe})})):Dr&&Dr(Mr)},setTimeout(function(){fe(_r,"htmx:load",{}),_r=null},0)}),Y}()})})(htmx_min$1);var htmx_minExports=htmx_min$1.exports;const htmx_min=getDefaultExportFromCjs(htmx_minExports),htmx$1=_mergeNamespaces({__proto__:null,default:htmx_min},[htmx_minExports]),intlTelInput$1="",sweetalert2="",select2="";Element.prototype.matches||(Element.prototype.matches=function(_r){for(var Be=(this.document||this.ownerDocument).querySelectorAll(_r),Dr=Be.length;--Dr>=0&&Be.item(Dr)!==this;);return Dr>-1});Element.prototype.closest||(Element.prototype.closest=function(_r){var Be=this,Dr=this;if(!document.documentElement.contains(Be))return null;do{if(Dr.matches(_r))return Dr;Dr=Dr.parentElement}while(Dr!==null);return null});/**
 * ChildNode.remove() polyfill
 * https://gomakethings.com/removing-an-element-from-the-dom-the-es6-way/
 * @author Chris Ferdinandi
 * @license MIT
 */(function(_r){for(var Be=0;Be<_r.length;Be++)!window[_r[Be]]||"remove"in window[_r[Be]].prototype||(window[_r[Be]].prototype.remove=function(){this.parentNode.removeChild(this)})})(["Element","CharacterData","DocumentType"]);(function(){for(var _r=0,Be=["webkit","moz"],Dr=0;Dr<Be.length&&!window.requestAnimationFrame;++Dr)window.requestAnimationFrame=window[Be[Dr]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[Be[Dr]+"CancelAnimationFrame"]||window[Be[Dr]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(Mr){var $r=new Date().getTime(),Br=Math.max(0,16-($r-_r)),zr=window.setTimeout(function(){Mr($r+Br)},Br);return _r=$r+Br,zr}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(Mr){clearTimeout(Mr)})})();(function(_r){_r.forEach(function(Be){Be.hasOwnProperty("prepend")||Object.defineProperty(Be,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){var Mr=Array.prototype.slice.call(arguments),$r=document.createDocumentFragment();Mr.forEach(function(Br){var zr=Br instanceof Node;$r.appendChild(zr?Br:document.createTextNode(String(Br)))}),this.insertBefore($r,this.firstChild)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);Element.prototype.getAttributeNames==null&&(Element.prototype.getAttributeNames=function(){for(var _r=this.attributes,Be=_r.length,Dr=new Array(Be),Mr=0;Mr<Be;Mr++)Dr[Mr]=_r[Mr].name;return Dr});window.KTUtilElementDataStore={};window.KTUtilElementDataStoreID=0;window.KTUtilDelegatedEventHandlers={};var KTUtil$1=function(){var _r=[],Be=function(){var Dr=function(){for(var $r=0;$r<_r.length;$r++){var Br=_r[$r];Br.call()}},Mr;window.addEventListener("resize",function(){KTUtil$1.throttle(Mr,function(){Dr()},200)})};return{init:function(Dr){Be()},addResizeHandler:function(Dr){_r.push(Dr)},removeResizeHandler:function(Dr){for(var Mr=0;Mr<_r.length;Mr++)Dr===_r[Mr]&&delete _r[Mr]},runResizeHandlers:function(){_runResizeHandlers()},resize:function(){if(typeof Event=="function")window.dispatchEvent(new Event("resize"));else{var Dr=window.document.createEvent("UIEvents");Dr.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(Dr)}},getURLParam:function(Dr){var Mr=window.location.search.substring(1),$r,Br,zr=Mr.split("&");for($r=0;$r<zr.length;$r++)if(Br=zr[$r].split("="),Br[0]==Dr)return unescape(Br[1]);return null},isMobileDevice:function(){var Dr=this.getViewPort().width<this.getBreakpoint("lg");return Dr===!1&&(Dr=navigator.userAgent.match(/iPad/i)!=null),Dr},isDesktopDevice:function(){return!KTUtil$1.isMobileDevice()},getViewPort:function(){var Dr=window,Mr="inner";return"innerWidth"in window||(Mr="client",Dr=document.documentElement||document.body),{width:Dr[Mr+"Width"],height:Dr[Mr+"Height"]}},isBreakpointUp:function(Dr){var Mr=this.getViewPort().width,$r=this.getBreakpoint(Dr);return Mr>=$r},isBreakpointDown:function(Dr){var Mr=this.getViewPort().width,$r=this.getBreakpoint(Dr);return Mr<$r},getViewportWidth:function(){return this.getViewPort().width},getUniqueId:function(Dr){return Dr+Math.floor(Math.random()*new Date().getTime())},getBreakpoint:function(Dr){var Mr=this.getCssVariableValue("--bs-"+Dr);return Mr&&(Mr=parseInt(Mr.trim())),Mr},isset:function(Dr,Mr){var $r;if(Mr=Mr||"",Mr.indexOf("[")!==-1)throw new Error("Unsupported object path notation.");Mr=Mr.split(".");do{if(Dr===void 0||($r=Mr.shift(),!Dr.hasOwnProperty($r)))return!1;Dr=Dr[$r]}while(Mr.length);return!0},getHighestZindex:function(Dr){for(var Mr,$r;Dr&&Dr!==document;){if(Mr=KTUtil$1.css(Dr,"position"),(Mr==="absolute"||Mr==="relative"||Mr==="fixed")&&($r=parseInt(KTUtil$1.css(Dr,"z-index")),!isNaN($r)&&$r!==0))return $r;Dr=Dr.parentNode}return 1},hasFixedPositionedParent:function(Dr){for(var Mr;Dr&&Dr!==document;){if(Mr=KTUtil$1.css(Dr,"position"),Mr==="fixed")return!0;Dr=Dr.parentNode}return!1},sleep:function(Dr){for(var Mr=new Date().getTime(),$r=0;$r<1e7&&!(new Date().getTime()-Mr>Dr);$r++);},getRandomInt:function(Dr,Mr){return Math.floor(Math.random()*(Mr-Dr+1))+Dr},isAngularVersion:function(){return window.Zone!==void 0},deepExtend:function(Dr){Dr=Dr||{};for(var Mr=1;Mr<arguments.length;Mr++){var $r=arguments[Mr];if($r){for(var Br in $r)if($r.hasOwnProperty(Br)){if(Object.prototype.toString.call($r[Br])==="[object Object]"){Dr[Br]=KTUtil$1.deepExtend(Dr[Br],$r[Br]);continue}Dr[Br]=$r[Br]}}}return Dr},extend:function(Dr){Dr=Dr||{};for(var Mr=1;Mr<arguments.length;Mr++)if(arguments[Mr])for(var $r in arguments[Mr])arguments[Mr].hasOwnProperty($r)&&(Dr[$r]=arguments[Mr][$r]);return Dr},getBody:function(){return document.getElementsByTagName("body")[0]},hasClasses:function(Dr,Mr){if(Dr){for(var $r=Mr.split(" "),Br=0;Br<$r.length;Br++)if(KTUtil$1.hasClass(Dr,KTUtil$1.trim($r[Br]))==!1)return!1;return!0}},hasClass:function(Dr,Mr){if(Dr)return Dr.classList?Dr.classList.contains(Mr):new RegExp("\\b"+Mr+"\\b").test(Dr.className)},addClass:function(Dr,Mr){if(!(!Dr||typeof Mr>"u")){var $r=Mr.split(" ");if(Dr.classList)for(var Br=0;Br<$r.length;Br++)$r[Br]&&$r[Br].length>0&&Dr.classList.add(KTUtil$1.trim($r[Br]));else if(!KTUtil$1.hasClass(Dr,Mr))for(var zr=0;zr<$r.length;zr++)Dr.className+=" "+KTUtil$1.trim($r[zr])}},removeClass:function(Dr,Mr){if(!(!Dr||typeof Mr>"u")){var $r=Mr.split(" ");if(Dr.classList)for(var Br=0;Br<$r.length;Br++)Dr.classList.remove(KTUtil$1.trim($r[Br]));else if(KTUtil$1.hasClass(Dr,Mr))for(var zr=0;zr<$r.length;zr++)Dr.className=Dr.className.replace(new RegExp("\\b"+KTUtil$1.trim($r[zr])+"\\b","g"),"")}},triggerCustomEvent:function(Dr,Mr,$r){var Br;window.CustomEvent?Br=new CustomEvent(Mr,{detail:$r}):(Br=document.createEvent("CustomEvent"),Br.initCustomEvent(Mr,!0,!0,$r)),Dr.dispatchEvent(Br)},triggerEvent:function(Dr,Mr){var $r;if(Dr.ownerDocument)$r=Dr.ownerDocument;else if(Dr.nodeType==9)$r=Dr;else throw new Error("Invalid node passed to fireEvent: "+Dr.id);if(Dr.dispatchEvent){var Br="";switch(Mr){case"click":case"mouseenter":case"mouseleave":case"mousedown":case"mouseup":Br="MouseEvents";break;case"focus":case"change":case"blur":case"select":Br="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+Mr+"'."}var zr=$r.createEvent(Br),Vr=Mr!="change";zr.initEvent(Mr,Vr,!0),zr.synthetic=!0,Dr.dispatchEvent(zr,!0)}else if(Dr.fireEvent){var zr=$r.createEventObject();zr.synthetic=!0,Dr.fireEvent("on"+Mr,zr)}},index:function(Dr){for(var Mr=Dr.parentNode.children,$r=0;$r<Mr.length;$r++)if(Mr[$r]==Dr)return $r},trim:function(Dr){return Dr.trim()},eventTriggered:function(Dr){return Dr.currentTarget.dataset.triggered?!0:(Dr.currentTarget.dataset.triggered=!0,!1)},remove:function(Dr){Dr&&Dr.parentNode&&Dr.parentNode.removeChild(Dr)},find:function(Dr,Mr){return Dr!==null?Dr.querySelector(Mr):null},findAll:function(Dr,Mr){return Dr!==null?Dr.querySelectorAll(Mr):null},insertAfter:function(Dr,Mr){return Mr.parentNode.insertBefore(Dr,Mr.nextSibling)},parents:function(Dr,Mr){for(var $r=[];Dr&&Dr!==document;Dr=Dr.parentNode){if(Mr){Dr.matches(Mr)&&$r.push(Dr);continue}$r.push(Dr)}return $r},children:function(Dr,Mr,$r){if(!Dr||!Dr.childNodes)return null;for(var Br=[],zr=0,Vr=Dr.childNodes.length,zr;zr<Vr;++zr)Dr.childNodes[zr].nodeType==1&&KTUtil$1.matches(Dr.childNodes[zr],Mr,$r)&&Br.push(Dr.childNodes[zr]);return Br},child:function(Dr,Mr,$r){var Br=KTUtil$1.children(Dr,Mr,$r);return Br?Br[0]:null},matches:function(Dr,Mr,$r){var Br=Element.prototype,zr=Br.matches||Br.webkitMatchesSelector||Br.mozMatchesSelector||Br.msMatchesSelector||function(Vr){return[].indexOf.call(document.querySelectorAll(Vr),this)!==-1};return Dr&&Dr.tagName?zr.call(Dr,Mr):!1},data:function(Dr){return{set:function(Mr,$r){Dr&&(Dr.customDataTag===void 0&&(window.KTUtilElementDataStoreID++,Dr.customDataTag=window.KTUtilElementDataStoreID),window.KTUtilElementDataStore[Dr.customDataTag]===void 0&&(window.KTUtilElementDataStore[Dr.customDataTag]={}),window.KTUtilElementDataStore[Dr.customDataTag][Mr]=$r)},get:function(Mr){if(Dr)return Dr.customDataTag===void 0?null:this.has(Mr)?window.KTUtilElementDataStore[Dr.customDataTag][Mr]:null},has:function(Mr){return!Dr||Dr.customDataTag===void 0?!1:!!(window.KTUtilElementDataStore[Dr.customDataTag]&&window.KTUtilElementDataStore[Dr.customDataTag][Mr])},remove:function(Mr){Dr&&this.has(Mr)&&delete window.KTUtilElementDataStore[Dr.customDataTag][Mr]}}},outerWidth:function(Dr,Mr){var $r;return Mr===!0?($r=parseFloat(Dr.offsetWidth),$r+=parseFloat(KTUtil$1.css(Dr,"margin-left"))+parseFloat(KTUtil$1.css(Dr,"margin-right")),parseFloat($r)):($r=parseFloat(Dr.offsetWidth),$r)},offset:function(Dr){var Mr,$r;if(Dr)return Dr.getClientRects().length?(Mr=Dr.getBoundingClientRect(),$r=Dr.ownerDocument.defaultView,{top:Mr.top+$r.pageYOffset,left:Mr.left+$r.pageXOffset,right:window.innerWidth-(Dr.offsetLeft+Dr.offsetWidth)}):{top:0,left:0}},height:function(Dr){return KTUtil$1.css(Dr,"height")},outerHeight:function(Dr,Mr){var $r=Dr.offsetHeight,Br;return typeof Mr<"u"&&Mr===!0&&(Br=getComputedStyle(Dr),$r+=parseInt(Br.marginTop)+parseInt(Br.marginBottom)),$r},visible:function(Dr){return!(Dr.offsetWidth===0&&Dr.offsetHeight===0)},isVisibleInContainer:function(Dr,Mr,$r=0){const Br=Dr.offsetTop,zr=Br+Dr.clientHeight+$r,Vr=Mr.scrollTop,jr=Vr+Mr.clientHeight;return Br>=Vr&&zr<=jr},getRelativeTopPosition:function(Dr,Mr){return Dr.offsetTop-Mr.offsetTop},attr:function(Dr,Mr,$r){if(Dr!=null)if($r!==void 0)Dr.setAttribute(Mr,$r);else return Dr.getAttribute(Mr)},hasAttr:function(Dr,Mr){if(Dr!=null)return!!Dr.getAttribute(Mr)},removeAttr:function(Dr,Mr){Dr!=null&&Dr.removeAttribute(Mr)},animate:function(Dr,Mr,$r,Br,Gr,Vr){var jr={},Gr;if(jr.linear=function(rn,nn,ln,cn){return ln*rn/cn+nn},Gr=jr.linear,typeof Dr!="number"||typeof Mr!="number"||typeof $r!="number"||typeof Br!="function")return;typeof Vr!="function"&&(Vr=function(){});var Wr=window.requestAnimationFrame||function(rn){window.setTimeout(rn,1e3/50)},Kr=Mr-Dr;function Zr(rn){var nn=(rn||+new Date)-Jr;nn>=0&&Br(Gr(nn,Dr,Kr,$r)),nn>=0&&nn>=$r?(Br(Mr),Vr()):Wr(Zr)}Br(Dr);var Jr=window.performance&&window.performance.now?window.performance.now():+new Date;Wr(Zr)},actualCss:function(Dr,Mr,$r){var Br="";if(Dr instanceof HTMLElement)if(!Dr.getAttribute("kt-hidden-"+Mr)||$r===!1){var zr;return Br=Dr.style.cssText,Dr.style.cssText="position: absolute; visibility: hidden; display: block;",Mr=="width"?zr=Dr.offsetWidth:Mr=="height"&&(zr=Dr.offsetHeight),Dr.style.cssText=Br,Dr.setAttribute("kt-hidden-"+Mr,zr),parseFloat(zr)}else return parseFloat(Dr.getAttribute("kt-hidden-"+Mr))},actualHeight:function(Dr,Mr){return KTUtil$1.actualCss(Dr,"height",Mr)},actualWidth:function(Dr,Mr){return KTUtil$1.actualCss(Dr,"width",Mr)},getScroll:function(Dr,Mr){return Mr="scroll"+Mr,Dr==window||Dr==document?self[Mr=="scrollTop"?"pageYOffset":"pageXOffset"]||browserSupportsBoxModel&&document.documentElement[Mr]||document.body[Mr]:Dr[Mr]},css:function(Dr,Mr,$r,Br){if(Dr)if($r!==void 0)Br===!0?Dr.style.setProperty(Mr,$r,"important"):Dr.style[Mr]=$r;else{var zr=(Dr.ownerDocument||document).defaultView;if(zr&&zr.getComputedStyle)return Mr=Mr.replace(/([A-Z])/g,"-$1").toLowerCase(),zr.getComputedStyle(Dr,null).getPropertyValue(Mr);if(Dr.currentStyle)return Mr=Mr.replace(/\-(\w)/g,function(Vr,jr){return jr.toUpperCase()}),$r=Dr.currentStyle[Mr],/^\d+(em|pt|%|ex)?$/i.test($r)?function(Vr){var jr=Dr.style.left,Gr=Dr.runtimeStyle.left;return Dr.runtimeStyle.left=Dr.currentStyle.left,Dr.style.left=Vr||0,Vr=Dr.style.pixelLeft+"px",Dr.style.left=jr,Dr.runtimeStyle.left=Gr,Vr}($r):$r}},slide:function(Dr,Mr,$r,Br,zr){if(!(!Dr||Mr=="up"&&KTUtil$1.visible(Dr)===!1||Mr=="down"&&KTUtil$1.visible(Dr)===!0)){$r=$r||600;var Vr=KTUtil$1.actualHeight(Dr),jr=!1,Gr=!1;KTUtil$1.css(Dr,"padding-top")&&KTUtil$1.data(Dr).has("slide-padding-top")!==!0&&KTUtil$1.data(Dr).set("slide-padding-top",KTUtil$1.css(Dr,"padding-top")),KTUtil$1.css(Dr,"padding-bottom")&&KTUtil$1.data(Dr).has("slide-padding-bottom")!==!0&&KTUtil$1.data(Dr).set("slide-padding-bottom",KTUtil$1.css(Dr,"padding-bottom")),KTUtil$1.data(Dr).has("slide-padding-top")&&(jr=parseInt(KTUtil$1.data(Dr).get("slide-padding-top"))),KTUtil$1.data(Dr).has("slide-padding-bottom")&&(Gr=parseInt(KTUtil$1.data(Dr).get("slide-padding-bottom"))),Mr=="up"?(Dr.style.cssText="display: block; overflow: hidden;",jr&&KTUtil$1.animate(0,jr,$r,function(Wr){Dr.style.paddingTop=jr-Wr+"px"},"linear"),Gr&&KTUtil$1.animate(0,Gr,$r,function(Wr){Dr.style.paddingBottom=Gr-Wr+"px"},"linear"),KTUtil$1.animate(0,Vr,$r,function(Wr){Dr.style.height=Vr-Wr+"px"},"linear",function(){Dr.style.height="",Dr.style.display="none",typeof Br=="function"&&Br()})):Mr=="down"&&(Dr.style.cssText="display: block; overflow: hidden;",jr&&KTUtil$1.animate(0,jr,$r,function(Wr){Dr.style.paddingTop=Wr+"px"},"linear",function(){Dr.style.paddingTop=""}),Gr&&KTUtil$1.animate(0,Gr,$r,function(Wr){Dr.style.paddingBottom=Wr+"px"},"linear",function(){Dr.style.paddingBottom=""}),KTUtil$1.animate(0,Vr,$r,function(Wr){Dr.style.height=Wr+"px"},"linear",function(){Dr.style.height="",Dr.style.display="",Dr.style.overflow="",typeof Br=="function"&&Br()}))}},slideUp:function(Dr,Mr,$r){KTUtil$1.slide(Dr,"up",Mr,$r)},slideDown:function(Dr,Mr,$r){KTUtil$1.slide(Dr,"down",Mr,$r)},show:function(Dr,Mr){typeof Dr<"u"&&(Dr.style.display=Mr||"block")},hide:function(Dr){typeof Dr<"u"&&(Dr.style.display="none")},addEvent:function(Dr,Mr,$r,Br){typeof Dr<"u"&&Dr!==null&&Dr.addEventListener(Mr,$r)},removeEvent:function(Dr,Mr,$r){Dr!==null&&Dr.removeEventListener(Mr,$r)},on:function(Dr,Mr,$r,Br){if(Dr!==null){var zr=KTUtil$1.getUniqueId("event");return window.KTUtilDelegatedEventHandlers[zr]=function(Vr){for(var jr=Dr.querySelectorAll(Mr),Gr=Vr.target;Gr&&Gr!==Dr;){for(var Wr=0,Kr=jr.length;Wr<Kr;Wr++)Gr===jr[Wr]&&Br.call(Gr,Vr);Gr=Gr.parentNode}},KTUtil$1.addEvent(Dr,$r,window.KTUtilDelegatedEventHandlers[zr]),zr}},off:function(Dr,Mr,$r){!Dr||!window.KTUtilDelegatedEventHandlers[$r]||(KTUtil$1.removeEvent(Dr,Mr,window.KTUtilDelegatedEventHandlers[$r]),delete window.KTUtilDelegatedEventHandlers[$r])},one:function(Mr,$r,Br){Mr.addEventListener($r,function zr(Vr){return Vr.target&&Vr.target.removeEventListener&&Vr.target.removeEventListener(Vr.type,zr),Mr&&Mr.removeEventListener&&Vr.currentTarget.removeEventListener(Vr.type,zr),Br(Vr)})},hash:function(Dr){var Mr=0,$r,Br;if(Dr.length===0)return Mr;for($r=0;$r<Dr.length;$r++)Br=Dr.charCodeAt($r),Mr=(Mr<<5)-Mr+Br,Mr|=0;return Mr},animateClass:function(Dr,Mr,$r){var Br,zr={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var Vr in zr)Dr.style[Vr]!==void 0&&(Br=zr[Vr]);KTUtil$1.addClass(Dr,Mr),KTUtil$1.one(Dr,Br,function(){KTUtil$1.removeClass(Dr,Mr)}),$r&&KTUtil$1.one(Dr,Br,$r)},transitionEnd:function(Dr,Mr){var $r,Br={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"msTransitionEnd"};for(var zr in Br)Dr.style[zr]!==void 0&&($r=Br[zr]);KTUtil$1.one(Dr,$r,Mr)},animationEnd:function(Dr,Mr){var $r,Br={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd",msAnimation:"msAnimationEnd"};for(var zr in Br)Dr.style[zr]!==void 0&&($r=Br[zr]);KTUtil$1.one(Dr,$r,Mr)},animateDelay:function(Dr,Mr){for(var $r=["webkit-","moz-","ms-","o-",""],Br=0;Br<$r.length;Br++)KTUtil$1.css(Dr,$r[Br]+"animation-delay",Mr)},animateDuration:function(Dr,Mr){for(var $r=["webkit-","moz-","ms-","o-",""],Br=0;Br<$r.length;Br++)KTUtil$1.css(Dr,$r[Br]+"animation-duration",Mr)},scrollTo:function(Dr,Mr,Br){var Br=Br||500,zr=Dr?KTUtil$1.offset(Dr).top:0,Vr=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,jr,Gr;Mr&&(zr=zr-Mr),jr=Vr,Gr=zr,KTUtil$1.animate(jr,Gr,Br,function(Wr){document.documentElement.scrollTop=Wr,document.body.parentNode.scrollTop=Wr,document.body.scrollTop=Wr})},scrollTop:function(Dr,Mr){KTUtil$1.scrollTo(null,Dr,Mr)},isArray:function(Dr){return Dr&&Array.isArray(Dr)},isEmpty:function(Dr){for(var Mr in Dr)if(Dr.hasOwnProperty(Mr))return!1;return!0},numberString:function(Dr){Dr+="";for(var Mr=Dr.split("."),$r=Mr[0],Br=Mr.length>1?"."+Mr[1]:"",zr=/(\d+)(\d{3})/;zr.test($r);)$r=$r.replace(zr,"$1,$2");return $r+Br},isRTL:function(){return document.querySelector("html").getAttribute("direction")==="rtl"},snakeToCamel:function(Dr){return Dr.replace(/(\-\w)/g,function(Mr){return Mr[1].toUpperCase()})},filterBoolean:function(Dr){return Dr===!0||Dr==="true"?!0:Dr===!1||Dr==="false"?!1:Dr},setHTML:function(Dr,Mr){Dr.innerHTML=Mr},getHTML:function(Dr){if(Dr)return Dr.innerHTML},getDocumentHeight:function(){var Dr=document.body,Mr=document.documentElement;return Math.max(Dr.scrollHeight,Dr.offsetHeight,Mr.clientHeight,Mr.scrollHeight,Mr.offsetHeight)},getScrollTop:function(){return(document.scrollingElement||document.documentElement).scrollTop},colorLighten:function(Dr,Mr){const $r=function(Br,zr){let Vr=parseInt(Br,16)+zr,jr=Vr>255?255:Vr;return jr=jr.toString(16).length>1?jr.toString(16):`0${jr.toString(16)}`,jr};return Dr=Dr.indexOf("#")>=0?Dr.substring(1,Dr.length):Dr,Mr=parseInt(255*Mr/100),Dr=`#${$r(Dr.substring(0,2),Mr)}${$r(Dr.substring(2,4),Mr)}${$r(Dr.substring(4,6),Mr)}`},colorDarken:function(Dr,Mr){const $r=function(Br,zr){let Vr=parseInt(Br,16)-zr,jr=Vr<0?0:Vr;return jr=jr.toString(16).length>1?jr.toString(16):`0${jr.toString(16)}`,jr};return Dr=Dr.indexOf("#")>=0?Dr.substring(1,Dr.length):Dr,Mr=parseInt(255*Mr/100),Dr=`#${$r(Dr.substring(0,2),Mr)}${$r(Dr.substring(2,4),Mr)}${$r(Dr.substring(4,6),Mr)}`},throttle:function(Dr,Mr,$r){Dr||(Dr=setTimeout(function(){Mr(),Dr=void 0},$r))},debounce:function(Dr,Mr,$r){clearTimeout(Dr),Dr=setTimeout(Mr,$r)},parseJson:function(Dr){if(typeof Dr=="string"){Dr=Dr.replace(/'/g,'"');var Mr=Dr.replace(/(\w+:)|(\w+ :)/g,function($r){return'"'+$r.substring(0,$r.length-1)+'":'});try{Dr=JSON.parse(Mr)}catch{}}return Dr},getResponsiveValue:function(Dr,Mr){var $r=this.getViewPort().width,Br=null;if(Dr=KTUtil$1.parseJson(Dr),typeof Dr=="object"){var zr,Vr=-1,jr;for(var Gr in Dr)Gr==="default"?jr=0:jr=this.getBreakpoint(Gr)?this.getBreakpoint(Gr):parseInt(Gr),jr<=$r&&jr>Vr&&(zr=Gr,Vr=jr);zr?Br=Dr[zr]:Br=Dr}else Br=Dr;return Br},each:function(Dr,Mr){return[].slice.call(Dr).map(Mr)},getSelectorMatchValue:function(Dr){var Mr=null;if(Dr=KTUtil$1.parseJson(Dr),typeof Dr=="object"){if(Dr.match!==void 0){var $r=Object.keys(Dr.match)[0];Dr=Object.values(Dr.match)[0],document.querySelector($r)!==null&&(Mr=Dr)}}else Mr=Dr;return Mr},getConditionalValue:function(Mr){var Mr=KTUtil$1.parseJson(Mr),$r=KTUtil$1.getResponsiveValue(Mr);return $r!==null&&$r.match!==void 0&&($r=KTUtil$1.getSelectorMatchValue($r)),$r===null&&Mr!==null&&Mr.default!==void 0&&($r=Mr.default),$r},getCssVariableValue:function(Dr){var Mr=getComputedStyle(document.documentElement).getPropertyValue(Dr);return Mr&&Mr.length>0&&(Mr=Mr.trim()),Mr},isInViewport:function(Dr){var Mr=Dr.getBoundingClientRect();return Mr.top>=0&&Mr.left>=0&&Mr.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&Mr.right<=(window.innerWidth||document.documentElement.clientWidth)},isPartiallyInViewport:function(Dr){let Mr=Dr.getBoundingClientRect().left,$r=Dr.getBoundingClientRect().top,Br=Math.max(document.documentElement.clientWidth,window.innerWidth||0),zr=Math.max(document.documentElement.clientHeight,window.innerHeight||0),Vr=Dr.clientWidth,jr=Dr.clientHeight;return $r<zr&&$r+jr>0&&Mr<Br&&Mr+Vr>0},onDOMContentLoaded:function(Dr){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Dr):Dr()},inIframe:function(){try{return window.self!==window.top}catch{return!0}},isHexColor(Dr){return/^#[0-9A-F]{6}$/i.test(Dr)}}}();window.KTUtil=KTUtil$1;var KTApp=function(){var _r=!1,Be=!1,Dr=!1,Mr=function(dn,wn){if(dn.getAttribute("data-kt-initialized")!=="1"){var xn={};dn.hasAttribute("data-bs-delay-hide")&&(xn.hide=dn.getAttribute("data-bs-delay-hide")),dn.hasAttribute("data-bs-delay-show")&&(xn.show=dn.getAttribute("data-bs-delay-show")),xn&&(wn.delay=xn),dn.hasAttribute("data-bs-dismiss")&&dn.getAttribute("data-bs-dismiss")=="click"&&(wn.dismiss="click");var Mn=new bootstrap.Tooltip(dn,wn);return wn.dismiss&&wn.dismiss==="click"&&dn.addEventListener("click",function(In){Mn.hide()}),dn.setAttribute("data-kt-initialized","1"),Mn}},$r=function(){var dn=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));dn.map(function(wn){Mr(wn,{})})},Br=function(dn,wn){if(dn.getAttribute("data-kt-initialized")!=="1"){var xn={};dn.hasAttribute("data-bs-delay-hide")&&(xn.hide=dn.getAttribute("data-bs-delay-hide")),dn.hasAttribute("data-bs-delay-show")&&(xn.show=dn.getAttribute("data-bs-delay-show")),xn&&(wn.delay=xn),dn.getAttribute("data-bs-dismiss")=="true"&&(wn.dismiss=!0),wn.dismiss===!0&&(wn.template='<div class="popover" role="tooltip"><div class="popover-arrow"></div><span class="popover-dismiss btn btn-icon"></span><h3 class="popover-header"></h3><div class="popover-body"></div></div>');var Mn=new bootstrap.Popover(dn,wn);if(wn.dismiss===!0){var In=function(Hn){Mn.hide()};dn.addEventListener("shown.bs.popover",function(){var Hn=document.getElementById(dn.getAttribute("aria-describedby"));Hn.addEventListener("click",In)}),dn.addEventListener("hide.bs.popover",function(){var Hn=document.getElementById(dn.getAttribute("aria-describedby"));Hn.removeEventListener("click",In)})}return dn.setAttribute("data-kt-initialized","1"),Mn}},zr=function(){var dn=[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));dn.map(function(wn){Br(wn,{})})},Vr=function(){var dn=[].slice.call(document.querySelectorAll('[data-kt-buttons="true"]'));dn.map(function(wn){if(wn.getAttribute("data-kt-initialized")!=="1"){var xn=wn.hasAttribute("data-kt-buttons-target")?wn.getAttribute("data-kt-buttons-target"):".btn",Mn=[].slice.call(wn.querySelectorAll(xn));KTUtil.on(wn,xn,"click",function(In){Mn.map(function(Hn){Hn.classList.remove("active")}),this.classList.add("active")}),wn.setAttribute("data-kt-initialized","1")}})},jr=function(){if(!(typeof jQuery>"u")&&!(typeof $.fn.daterangepicker>"u")){var dn=[].slice.call(document.querySelectorAll('[data-kt-daterangepicker="true"]')),wn=moment().subtract(29,"days"),xn=moment();dn.map(function(Mn){if(Mn.getAttribute("data-kt-initialized")!=="1"){var In=Mn.querySelector("div"),Hn=Mn.hasAttribute("data-kt-daterangepicker-opens")?Mn.getAttribute("data-kt-daterangepicker-opens"):"left",$n=Mn.getAttribute("data-kt-daterangepicker-range"),jn=function(Bn,Gn){var ei=moment();In&&(ei.isSame(Bn,"day")&&ei.isSame(Gn,"day")?In.innerHTML=Bn.format("D MMM YYYY"):In.innerHTML=Bn.format("D MMM YYYY")+" - "+Gn.format("D MMM YYYY"))};$n==="today"&&(wn=moment(),xn=moment()),$(Mn).daterangepicker({startDate:wn,endDate:xn,opens:Hn,ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},jn),jn(wn,xn),Mn.setAttribute("data-kt-initialized","1")}})}},Gr=function(){if(!(typeof jQuery>"u")&&!(typeof $.fn.select2>"u")){var dn=[].slice.call(document.querySelectorAll('[data-control="select2"], [data-kt-select2="true"]'));dn.map(function(wn){if(wn.getAttribute("data-kt-initialized")!=="1"){var xn={dir:document.body.getAttribute("direction")};wn.getAttribute("data-hide-search")=="true"&&(xn.minimumResultsForSearch=1/0),$(wn).select2(xn),wn.setAttribute("data-kt-initialized","1")}}),Be===!1&&(Be=!0,$(document).on("select2:open",function(wn){var xn=document.querySelectorAll(".select2-container--open .select2-search__field");xn.length>0&&xn[xn.length-1].focus()}))}},Wr=function(){if(!(typeof autosize>"u")){var dn=[].slice.call(document.querySelectorAll('[data-kt-autosize="true"]'));dn.map(function(wn){wn.getAttribute("data-kt-initialized")!=="1"&&(autosize(wn),wn.setAttribute("data-kt-initialized","1"))})}},Kr=function(){if(!(typeof countUp>"u")){var dn=[].slice.call(document.querySelectorAll('[data-kt-countup="true"]:not(.counted)'));dn.map(function(wn){if(KTUtil.isInViewport(wn)&&KTUtil.visible(wn)){if(wn.getAttribute("data-kt-initialized")==="1")return;var xn={},Mn=wn.getAttribute("data-kt-countup-value");Mn=parseFloat(Mn.replace(/,/g,"")),wn.hasAttribute("data-kt-countup-start-val")&&(xn.startVal=parseFloat(wn.getAttribute("data-kt-countup-start-val"))),wn.hasAttribute("data-kt-countup-duration")&&(xn.duration=parseInt(wn.getAttribute("data-kt-countup-duration"))),wn.hasAttribute("data-kt-countup-decimal-places")&&(xn.decimalPlaces=parseInt(wn.getAttribute("data-kt-countup-decimal-places"))),wn.hasAttribute("data-kt-countup-prefix")&&(xn.prefix=wn.getAttribute("data-kt-countup-prefix")),wn.hasAttribute("data-kt-countup-separator")&&(xn.separator=wn.getAttribute("data-kt-countup-separator")),wn.hasAttribute("data-kt-countup-suffix")&&(xn.suffix=wn.getAttribute("data-kt-countup-suffix"));var In=new countUp.CountUp(wn,Mn,xn);In.start(),wn.classList.add("counted"),wn.setAttribute("data-kt-initialized","1")}})}},Zr=function(){if(!(typeof countUp>"u")){Dr===!1&&(Kr(),window.addEventListener("scroll",Kr));var dn=[].slice.call(document.querySelectorAll('[data-kt-countup-tabs="true"][data-bs-toggle="tab"]'));dn.map(function(wn){wn.getAttribute("data-kt-initialized")!=="1"&&(wn.addEventListener("shown.bs.tab",Kr),wn.setAttribute("data-kt-initialized","1"))}),Dr=!0}},Jr=function(){if(typeof tns>"u")return;var dn=function(xn){if(!xn)return;const Mn={},In=function($n){return $n==="true"?!0:$n==="false"?!1:$n};xn.getAttributeNames().forEach(function($n){if(/^data-tns-.*/g.test($n)){let jn=$n.replace("data-tns-","").toLowerCase().replace(/(?:[\s-])\w/g,function(Bn){return Bn.replace("-","").toUpperCase()});if($n==="data-tns-responsive"){const Bn=xn.getAttribute($n).replace(/(\w+:)|(\w+ :)/g,function(Gn){return'"'+Gn.substring(0,Gn.length-1)+'":'});try{Mn[jn]=JSON.parse(Bn)}catch{}}else Mn[jn]=In(xn.getAttribute($n))}});const Hn=Object.assign({},{container:xn,slideBy:"page",autoplay:!0,autoplayButtonOutput:!1},Mn);return xn.closest(".tns")&&KTUtil.addClass(xn.closest(".tns"),"tns-initiazlied"),tns(Hn)};const wn=Array.prototype.slice.call(document.querySelectorAll('[data-tns="true"]'),0);!wn&&wn.length===0||wn.forEach(function(xn){xn.getAttribute("data-kt-initialized")!=="1"&&(dn(xn),xn.setAttribute("data-kt-initialized","1"))})},rn=function(){_r!==!0&&(typeof SmoothScroll>"u"||new SmoothScroll('a[data-kt-scroll-toggle][href*="#"]',{speed:1e3,speedAsDuration:!0,offset:function(dn,wn){if(dn.hasAttribute("data-kt-scroll-offset")){var xn=KTUtil.getResponsiveValue(dn.getAttribute("data-kt-scroll-offset"));return xn}else return 0}}))},nn=function(){KTUtil.on(document.body,'[data-kt-card-action="remove"]',"click",function(dn){dn.preventDefault();const wn=this.closest(".card");if(!wn)return;const xn=this.getAttribute("data-kt-card-confirm-message");this.getAttribute("data-kt-card-confirm")==="true"?Swal.fire({text:xn||"Are you sure to remove ?",icon:"warning",buttonsStyling:!1,confirmButtonText:"Confirm",denyButtonText:"Cancel",customClass:{confirmButton:"btn btn-primary",denyButton:"btn btn-danger"}}).then(function(In){In.isConfirmed&&wn.remove()}):wn.remove()})},ln=function(){var dn=Array.prototype.slice.call(document.querySelectorAll("[data-bs-stacked-modal]"));dn&&dn.length>0&&dn.forEach(wn=>{wn.getAttribute("data-kt-initialized")!=="1"&&(wn.setAttribute("data-kt-initialized","1"),wn.addEventListener("click",function(xn){xn.preventDefault();const Mn=document.querySelector(this.getAttribute("data-bs-stacked-modal"));Mn&&new bootstrap.Modal(Mn).show()}))})},cn=function(){_r!==!0&&KTUtil.on(document.body,'[data-kt-check="true"]',"change",function(dn){var wn=this,xn=document.querySelectorAll(wn.getAttribute("data-kt-check-target"));KTUtil.each(xn,function(Mn){Mn.type=="checkbox"?Mn.checked=wn.checked:Mn.classList.toggle("active")})})},hn=function(){_r!==!0&&KTUtil.on(document.body,'.collapsible[data-bs-toggle="collapse"]',"click",function(dn){if(this.classList.contains("collapsed")?(this.classList.remove("active"),this.blur()):this.classList.add("active"),this.hasAttribute("data-kt-toggle-text")){var wn=this.getAttribute("data-kt-toggle-text"),xn=this.querySelector('[data-kt-toggle-text-target="true"]'),xn=xn||this;this.setAttribute("data-kt-toggle-text",xn.innerText),xn.innerText=wn}})},mn=function(){_r!==!0&&KTUtil.on(document.body,'[data-kt-rotate="true"]',"click",function(dn){this.classList.contains("active")?(this.classList.remove("active"),this.blur()):this.classList.add("active")})},bn=function(){if(typeof lozad>"u")return;lozad().observe()},An=function(){document.body.classList.add("page-loading"),document.body.setAttribute("data-kt-app-page-loading","on")},vn=function(){document.body.classList.remove("page-loading"),document.body.removeAttribute("data-kt-app-page-loading")};return{init:function(){bn(),rn(),nn(),ln(),cn(),hn(),mn(),$r(),zr(),jr(),Vr(),Gr(),Kr(),Zr(),Wr(),Jr(),_r=!0},showPageLoading:function(){An()},hidePageLoading:function(){vn()},createBootstrapPopover:function(dn,wn){return Br(dn,wn)},createBootstrapTooltip:function(dn,wn){return Mr(dn,wn)}}}();window.addEventListener("DOMContentLoaded",_r=>{window.KTApp=KTApp.init()});const initDatatable=()=>{var _r={language:{info:_LANG_.Showing+" _START_ "+_LANG_.to+" _END_ "+_LANG_.of+" _TOTAL_ ",infoEmpty:_LANG_.ShowingNoRecords,emptyTable:_LANG_.NoDataAvailableInTable,lengthMenu:"_MENU_",paginate:{first:'<i class="first"></i>',last:'<i class="last"></i>',next:'<i class="next"></i>',previous:'<i class="previous"></i>'},zeroRecords:_LANG_.sZeroRecords,infoFiltered:"(Affichage de _MAX_ ligne(s))"}};$.extend(!0,$.fn.dataTable.defaults,_r);var Be=$.fn.dataTable;$.extend(!0,Be.defaults,{dom:"<'table-responsive'tr><'flex flex-col items-start justify-between p-4 space-y-3 md:flex-row md:items-center md:space-y-0'<'text-sm font-normal text-gray-500 dark:text-gray-400 flex flex-row items-center justify-between'li><'inline-flex items-stretch -space-x-px'p>>",renderer:"bootstrap"}),$.extend(Be.ext.classes,{sWrapper:"dataTables_wrapper dt-tailwindcss",sFilterInput:"form-control form-control-sm form-control-solid",sLengthSelect:"form-select form-select-sm form-select-solid",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),Be.ext.renderer.pageButton.bootstrap=function(Dr,Mr,$r,Br,zr,Vr){var jr=new Be.Api(Dr),Gr=Dr.oClasses,Wr=Dr.oLanguage.oPaginate,Kr=Dr.oLanguage.oAria.paginate||{},Zr,Jr,rn=0,nn=function(cn,hn){var mn,bn,An,vn,dn=function(wn){wn.preventDefault(),!$(wn.currentTarget).hasClass("disabled")&&jr.page()!=wn.data.action&&jr.page(wn.data.action).draw("page")};for(mn=0,bn=hn.length;mn<bn;mn++)if(vn=hn[mn],Array.isArray(vn))nn(cn,vn);else{switch(Zr="",Jr="",vn){case"ellipsis":Zr="&#x2026;",Jr="disabled";break;case"first":Zr=Wr.sFirst,Jr=vn+(zr>0?"":" disabled");break;case"previous":Zr=Wr.sPrevious,Jr=vn+(zr>0?"":" disabled");break;case"next":Zr=Wr.sNext,Jr=vn+(zr<Vr-1?"":" disabled");break;case"last":Zr=Wr.sLast,Jr=vn+(zr<Vr-1?"":" disabled");break;default:Zr=vn+1,Jr=zr===vn?"active":"";break}Zr&&(An=$("<li>",{class:Gr.sPageButton+" "+Jr,id:$r===0&&typeof vn=="string"?Dr.sTableId+"_"+vn:null}).append($("<a>",{href:"#","aria-controls":Dr.sTableId,"aria-label":Kr[vn],"data-dt-idx":rn,tabindex:Dr.iTabIndex,class:"page-link"}).html(Zr)).appendTo(cn),Dr.oApi._fnBindAction(An,{action:vn},dn),rn++)}},ln;try{ln=$(Mr).find(document.activeElement).data("dt-idx")}catch{}nn($(Mr).empty().html('<ul class="pagination"/>').children("ul"),Br),ln!==void 0&&$(Mr).find("[data-dt-idx="+ln+"]").trigger("focus")}},initPhoneIntl=()=>{const _r=document.querySelectorAll(".phoneintl"),Be=document.querySelector('[name="country"]');Be&&$(".select2-country").on("select2:select",function(Dr){console.info(Be.value),_r&&_r.forEach(function(Mr){var $r=intlTelInput(Mr,{initialCountry:Be.value,allowDropdown:!1,localizedCountries:Be.value,autoPlaceholder:"aggressive",placeholderNumberType:"FIXED_LINE",nationalMode:!1,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"});$r.setCountry(Be.value),Mr.addEventListener("countrychange",function(){var Br=document.querySelector('[name="country"]');Br&&(Br.value=$r.getSelectedCountryData().dialCode)}),Mr.addEventListener("open:countrydropdown",function(){}),Mr.addEventListener("close:countrydropdown",function(){})})}),_r&&_r.forEach(function(Dr){var Mr=intlTelInput(Dr,{initialCountry:Be.value??"US",allowDropdown:!1,localizedCountries:Be.value,autoPlaceholder:"aggressive",placeholderNumberType:"FIXED_LINE",nationalMode:!1,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"});Dr.addEventListener("countrychange",function(){var $r=document.querySelector('[name="country"]');$r&&($r.value=Mr.getSelectedCountryData().iso2.toUpperCase())}),Dr.addEventListener("open:countrydropdown",function(){}),Dr.addEventListener("close:countrydropdown",function(){})})};document.addEventListener("alpine:init",()=>{Alpine.data("listen",()=>({confirmationModal:!1,emitTo(_r,Be,Dr){console.log(_r),console.log(Be),console.log(Dr),this.confirmationModal=!0}})),Alpine.store("config",{userIsAuthenticated:!0}),Alpine.store("toasts",{counter:0,list:[],createToast(_r,Be="info"){const Dr=this.list.length;let Mr=this.list.filter($r=>$r.visible).length+1;this.list.push({id:this.counter++,message:_r,type:Be,visible:!0}),setTimeout(()=>{this.destroyToast(Dr)},4e3*Mr)},destroyToast(_r){this.list[_r].visible=!1}}),Alpine.store("sidebar",{full:!1,active:"home",navOpen:!1}),Alpine.data("dropdown",()=>({open:!1,toggle(_r){this.open=!this.open,Alpine.store("sidebar").active=_r},activeClass:"bg-gray-800 text-gray-200",expandedClass:"border-l border-gray-400 ml-4 pl-4",shrinkedClass:"sm:absolute top-0 left-20 sm:shadow-md sm:z-10 sm:bg-gray-900 sm:rounded-md sm:p-4 border-l sm:border-none border-gray-400 ml-4 pl-4 sm:ml-0 w-28"})),Alpine.data("sub_dropdown",()=>({sub_open:!1,sub_toggle(){this.sub_open=!this.sub_open},sub_expandedClass:"border-l border-gray-400 ml-4 pl-4",sub_shrinkedClass:"sm:absolute top-0 left-28 sm:shadow-md sm:z-10 sm:bg-gray-900 sm:rounded-md sm:p-4 border-l sm:border-none border-gray-400 ml-4 pl-4 sm:ml-0 w-28"})),Alpine.data("tooltip",()=>({show:!1,visibleClass:"block sm:absolute -top-7 sm:border border-gray-800 left-5 sm:text-sm sm:bg-gray-900 sm:px-2 sm:py-1 sm:rounded-md z-50"})),Alpine.data("noticesHandler",()=>({notices:[],visible:[],add(_r){_r.id=Date.now(),this.notices.push(_r),this.fire(_r.id)},fire(_r){this.visible.push(this.notices.find(Dr=>Dr.id==_r));const Be=4500*this.visible.length;setTimeout(()=>{this.remove(_r)},Be)},remove(_r){const Be=this.visible.find(Mr=>Mr.id==_r),Dr=this.visible.indexOf(Be);this.visible.splice(Dr,1)},getIcon(_r){if(_r.type=="success")return"<div class='text-green-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-check' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z'/></svg></div>";if(_r.type=="info")return"<div class='text-blue-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-info' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z'/><circle cx='8' cy='4.5' r='1'/></svg></div>";if(_r.type=="warning")return"<div class='text-orange-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-exclamation' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z'/></svg></div>";if(_r.type=="error")return"<div class='text-red-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-x' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z'/><path fill-rule='evenodd' d='M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z'/></svg></div>"}})),Alpine.data("appGeneratePassword",()=>({showPasswordField:!0,passwordScore:0,new_password:"",pass_confirm:"",chars:{lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",numeric:"0123456789",symbols:"!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"},init(){console.log("changePassword loaded"),this.generatePassword()},charsLength:12,checkStrength:function(){if(!this.new_password)return this.passwordScore=0;this.passwordScore=zxcvbn(this.new_password).score+1},generatePassword:function(){console.log(document.getElementById("charsSymbols").checked);var _r=this.shuffleArray(((document.getElementById("charsLower").checked?this.chars.lower:"")+(document.getElementById("charsUpper").checked?this.chars.upper:"")+(document.getElementById("charsNumeric").checked?this.chars.numeric:"")+(document.getElementById("charsSymbols").checked?this.chars.symbols:"")).split("")).join("").substring(0,this.charsLength);this.new_password=_r,this.pass_confirm=_r,this.checkStrength()},shuffleArray(_r){for(let Be=_r.length-1;Be>0;Be--){const Dr=Math.floor(Math.random()*(Be+1));[_r[Be],_r[Dr]]=[_r[Dr],_r[Be]]}return _r}})),Alpine.data("initSelect2Alpine",()=>({selectedCity:"",init(){this.select2=$(this.$refs.select).select2(),this.select2.on("select2:select",_r=>{this.selectedCity=_r.target.value}),this.$watch("selectedCity",_r=>{this.select2.val(_r).trigger("change")})}})),Alpine.data("initDatePickerRange",()=>({value:[moment().subtract(1,"M"),moment()],init(){_LANG_.today,_LANG_.yesterday,$(this.$refs.picker).daterangepicker({minYear:parseInt(moment().subtract(10,"years").format("YYYY"),10),maxYear:parseInt(moment().add(10,"years").format("YYYY"),10),autoUpdateInput:!1,startDate:this.value[0],endDate:this.value[1],locale:{applyLabel:_LANG_.appliquer,format:moment.localeData().longDateFormat("L"),cancelLabel:_LANG_.annuler,weekLabel:"W",customRangeLabel:_LANG_.custom,daysOfWeek:moment.weekdaysMin(),monthNames:moment.monthsShort(),firstDay:moment.localeData().firstDayOfWeek()},ranges:{todaylang:[moment(),moment()],yesterdaLang:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]}},(_r,Be)=>{this.value[0]=_r.format("DD/MM/YYYY"),this.value[1]=Be.format("DD/MM/YYYY")}),this.$watch("value",()=>{$(this.$refs.picker).data("daterangepicker").setStartDate(this.value[0]),$(this.$refs.picker).data("daterangepicker").setEndDate(this.value[1])})}})),Alpine.data("xModalMedia",_r=>({dataUUID:"",file:[],identifier:"test",multiple:!1,container:"element",media_selected:"",media_target:"",init(Be){console.log("modal MÃ©dia loaded"),this.identifier=this.$el.getAttribute("data-media-identifier"),this.multiple=this.$el.getAttribute("data-media-multiple"),this.container=this.$el.getAttribute("data-media-container"),this.media_selected=this.$el.querySelector(".media_selected"),this.media_target=this.$el.querySelector(".media_target"),this.$el.querySelectorAll(".element-media-modal").forEach(Dr=>{Dr.addEventListener("click",Mr=>{let $r=Dr.querySelector("img");const Br=Dr.classList.contains("selected");for(var zr=0;zr<this.$el.querySelectorAll(".element-media-modal").length;zr++)this.$el.querySelectorAll(".element-media-modal")[zr].classList.remove("selected");this.media_selected.value="",Br||(Dr.classList.add("selected"),this.dataUUID=Dr.getAttribute("data-uuid"),console.log("mÃ©dia selected : "+this.dataUUID),console.log(this.identifier),this.file=$r.getAttribute("data-media-file"),console.log(this.media_selected),this.media_selected.value=this.dataUUID,this.insert())})})},insert(){console.log("fafa"),console.log(this.dataUUID),console.log(this.container),console.log(this.file),this.$el.querySelector('[name="btwinserer"]').addEventListener("click",function(Be){console.log(Be.__x.getUnobservedData());var Dr=document.querySelector(".selected");if(console.log(Be),console.log(Dr),console.log(this.container),console.log(this.file),containerBody=document.querySelector("body"),containerBody){let Mr=container.querySelector("img");Mr.src=this.file[0]}})}})),Alpine.data("drop_file_component",()=>({dropingFile:!1,handleFileDrop(_r){event.dataTransfer.files.length>0&&_r.dataTransfer.files}}))});const initHtmx$1=()=>{typeof window.htmx<"u"&&(htmx.config.useTemplateFragments=!0);let _r=[];function Be(jr){return htmx.closest(jr,"[data-loading-states]")||document.body}function Dr(jr,Gr){document.body.contains(jr)&&Gr()}function Mr(jr,Gr){const Wr=htmx.closest(jr,"[data-loading-path]");return Wr?Wr.getAttribute("data-loading-path")===Gr:!0}function $r(jr,Gr,Wr,Kr){const Zr=htmx.closest(jr,"[data-loading-delay]");if(Zr){const Jr=Zr.getAttribute("data-loading-delay")||2e3,rn=setTimeout(()=>{Wr(),_r.push(()=>{Dr(Gr,()=>Kr())})},Jr);_r.push(()=>{Dr(Gr,()=>clearTimeout(rn))})}else Wr(),_r.push(()=>{Dr(Gr,()=>Kr())})}function Br(jr,Gr,Wr){return Array.from(htmx.findAll(jr,`[${Gr}]`)).filter(Kr=>Mr(Kr,Wr))}function zr(jr){return jr.getAttribute("data-loading-target")?Array.from(htmx.findAll(jr.getAttribute("data-loading-target"))):[jr]}htmx.defineExtension("loading-states",{onEvent:function(jr,Gr){if(jr==="htmx:beforeRequest"){const Wr=Be(Gr.target),Kr=["data-loading","data-loading-class","data-loading-class-remove","data-loading-disable","data-loading-aria-busy"];let Zr={};Kr.forEach(Jr=>{Zr[Jr]=Br(Wr,Jr,Gr.detail.pathInfo.requestPath)}),Zr["data-loading"].forEach(Jr=>{zr(Jr).forEach(rn=>{$r(Jr,rn,()=>rn.style.display=Jr.getAttribute("data-loading")||"inline-block",()=>rn.style.display="none")})}),Zr["data-loading-class"].forEach(Jr=>{const rn=Jr.getAttribute("data-loading-class").split(" ");zr(Jr).forEach(nn=>{$r(Jr,nn,()=>rn.forEach(ln=>nn.classList.add(ln)),()=>rn.forEach(ln=>nn.classList.remove(ln)))})}),Zr["data-loading-class-remove"].forEach(Jr=>{const rn=Jr.getAttribute("data-loading-class-remove").split(" ");zr(Jr).forEach(nn=>{zr(Jr).forEach(ln=>{$r(Jr,ln,()=>rn.forEach(cn=>ln.classList.remove(cn)),()=>rn.forEach(cn=>ln.classList.add(cn)))})})}),Zr["data-loading-disable"].forEach(Jr=>{zr(Jr).forEach(rn=>{rn.setAttribute("disabled",!0),setTimeout(()=>{rn.removeAttribute("disabled")},"2000")})}),Zr["data-loading-aria-busy"].forEach(Jr=>{zr(Jr).forEach(rn=>{$r(Jr,rn,()=>rn.setAttribute("aria-busy","true"),()=>rn.removeAttribute("aria-busy"))})})}if(jr==="htmx:beforeOnLoad")for(;_r.length>0;)_r.shift()()}}),htmx.defineExtension("alpine-morph",{isInlineSwap:function(jr){return jr==="morph"},handleSwap:function(jr,Gr,Wr){if(jr==="morph")return Wr.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(Alpine.morph(Gr,Wr.firstElementChild),[Gr]):(Alpine.morph(Gr,Wr.outerHTML),[Gr])}}),htmx.defineExtension("restored",{onEvent:function(jr,Gr){if(jr==="htmx:restored"){var Wr=Gr.detail.document.querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']"),Kr=Array.from(Wr).find(Zr=>Zr.outerHTML===Gr.detail.elt.outerHTML);Gr.detail.triggerEvent(Kr,"restored")}}}),htmx.defineExtension("json-enc",{onEvent:function(jr,Gr){jr==="htmx:configRequest"&&(Gr.detail.headers["Content-Type"]="application/json")},encodeParameters:function(jr,Gr,Wr){return jr.overrideMimeType("text/json"),JSON.stringify(Gr)}}),htmx.defineExtension("debug",{onEvent:function(jr,Gr){if(console.debug)console.debug(jr,Gr);else if(console)console.log("DEBUG:",jr,Gr);else throw"NO CONSOLE SUPPORTED"}}),function(){function jr(Gr){var Wr={};for(var Kr in Gr)Wr[Kr]=Gr[Kr];return JSON.stringify(Wr,function(Zr,Jr){if(Jr instanceof Node){var rn=Jr.tagName;return rn?(rn=rn.toLowerCase(),Jr.id&&(rn+="#"+Jr.id),Jr.classList&&Jr.classList.length&&(rn+="."+Jr.classList.toString().replace(" ",".")),rn):"Node"}return Jr instanceof Window?"Window":Jr})}htmx.defineExtension("event-header",{onEvent:function(Gr,Wr){Gr==="htmx:configRequest"&&Wr.detail.triggeringEvent&&(Wr.detail.headers["Triggering-Event"]=jr(Wr.detail.triggeringEvent))}})}(),htmx.defineExtension("client-side-templates",{transformResponse:function(jr,Gr,Wr){var Kr=htmx.closest(Wr,"[mustache-template]");if(Kr){var Zr=JSON.parse(jr),Jr=Kr.getAttribute("mustache-template"),rn=htmx.find("#"+Jr);if(rn)return Mustache.render(rn.innerHTML,Zr);throw"Unknown mustache template: "+Jr}var nn=htmx.closest(Wr,"[handlebars-template]");if(nn){var Zr=JSON.parse(jr),ln=nn.getAttribute("handlebars-template");return Handlebars.partials[ln](Zr)}var cn=htmx.closest(Wr,"[nunjucks-template]");if(cn){var Zr=JSON.parse(jr),ln=cn.getAttribute("nunjucks-template"),rn=htmx.find("#"+ln);return rn?nunjucks.renderString(rn.innerHTML,Zr):nunjucks.render(ln,Zr)}return jr}}),htmx.defineExtension("disable-element",{onEvent:function(jr,Gr){let Wr=Gr.detail.elt,Kr=Wr.getAttribute("hx-disable-element"),Zr=Kr=="self"?Wr:document.querySelector(Kr);jr==="htmx:beforeRequest"&&Zr?Zr.disabled=!0:jr=="htmx:afterRequest"&&Zr&&(Zr.disabled=!1)}}),htmx.defineExtension("echarts",{transformResponse:function(jr,Gr,Wr){var Kr=JSON.parse(jr),Zr=Kr,Jr=document.getElementById("charts"),rn=window.echarts.getInstanceByDom(Jr);delete Kr.id,rn.setOption(Zr)}}),htmx.defineExtension("reset-on-success",{onEvent:function(jr,Gr){if(jr!=="htmx:beforeSwap"||Gr.detail.isError)return;const Wr=Gr.detail.requestConfig.elt;if(!(!Wr.closest('[hx-reset-on-success="true"]')&&!Wr.closest("[data-hx-reset-on-success]")))switch(Wr.tagName){case"INPUT":Wr.value="";case"TEXTAREA":Wr.value="";break;case"SELECT":break;case"FORM":Wr.reset();break}}});const Vr={initHTMXXRequestedWithXMLHttpRequest:function(){document.body.addEventListener("htmx:configRequest",jr=>{jr.detail.headers["X-CSRF-TOKEN"]=document.querySelector("[name=X-CSRF-TOKEN]").content,jr.detail.headers["X-Requested-With"]="XMLHttpRequest"}),document.body.addEventListener("htmx:beforeSwap",function(jr){}),htmx.on("htmx:afterSettle",function(jr){jr.detail.xhr.getResponseHeader("content-type")}),htmx.on("htmx:afterSwap",function(jr){}),htmx.on("htmx:afterRequest",function(jr){}),htmx.on("htmx:responseError",function(jr){let Gr=new CustomEvent("notify",{bubbles:!0,cancelable:!0,detail:{content:jr.detail.xhr.statusText,type:"error"}});document.dispatchEvent(Gr)})},listenToHTMXRequests:function(){htmx.on("htmx:afterSettle",function(jr){const Gr=document.getElementById("location_notice");let Wr={type:"error",text:"Server encountered error"};Gr&&(Wr={type:Gr.dataset.noticeType,text:Gr.value});const Kr="notice";Vr.dispatchCustomEvent(Kr,Wr)})},getCSRFToken:function(){return htmx.find("._post_token")},dispatchCustomEvent:function(jr,Gr,Wr){const Kr=new CustomEvent(jr,{detail:Gr});Wr?Wr.dispatchEvent(Kr):window.dispatchEvent(Kr)},noticesHandler:function(){return{notices:[],visible:[],add(jr){jr.id=Date.now(),this.notices.push(jr),this.fire(jr.id)},fire(jr){this.visible.push(this.notices.find(Wr=>Wr.id==jr));const Gr=2500*this.visible.length;setTimeout(()=>{this.remove(jr)},Gr)},remove(jr){const Gr=this.visible.find(Kr=>Kr.id==jr),Wr=this.visible.indexOf(Gr);this.visible.splice(Wr,1)},getIcon(jr){if(jr.type=="success")return"<div class='text-green-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-check' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.236.236 0 0 1 .02-.022z'/></svg></div>";if(jr.type=="info")return"<div class='text-blue-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-info' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z'/><circle cx='8' cy='4.5' r='1'/></svg></div>";if(jr.type=="warning")return"<div class='text-orange-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-exclamation' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path d='M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z'/></svg></div>";if(jr.type=="error")return"<div class='text-red-500 rounded-full bg-white float-left ml-3'><svg width='1.8em' height='1.8em' viewBox='0 0 16 16' class='bi bi-x' fill='currentColor' xmlns='http://www.w3.org/2000/svg'><path fill-rule='evenodd' d='M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z'/><path fill-rule='evenodd' d='M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z'/></svg></div>"}}}};document.addEventListener("DOMContentLoaded",function(jr){typeof htmx<"u"&&(Vr.initHTMXXRequestedWithXMLHttpRequest(),Vr.listenToHTMXRequests())})},initHtmx=()=>{var _r=null;function Be(Dr,Mr){if(Dr&&Dr.indexOf("<head")>-1){const hn=document.createElement("html");var $r=Dr.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),Br=$r.match(/(<head(\s[^>]*>|>)([\s\S]*?)<\/head>)/im);if(Br){var zr=[],Vr=[],jr=[],Gr=[];hn.innerHTML=Br;var Wr=hn.querySelector("head"),Kr=document.head;if(Wr==null)return;var Zr=new Map;for(const mn of Wr.children)Zr.set(mn.outerHTML,mn);var Jr=_r.getAttributeValue(Wr,"hx-head")||Mr;for(const mn of Kr.children){var rn=Zr.has(mn.outerHTML),nn=mn.getAttribute("hx-head")==="re-eval",ln=_r.getAttributeValue(mn,"hx-preserve")==="true";rn||ln?nn?Vr.push(mn):(Zr.delete(mn.outerHTML),jr.push(mn)):Jr==="append"?nn&&(Vr.push(mn),Gr.push(mn)):_r.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:mn})!==!1&&Vr.push(mn)}Gr.push(...Zr.values());for(const mn of Gr){var cn=document.createRange().createContextualFragment(mn.outerHTML);_r.triggerEvent(document.body,"htmx:addingHeadElement",{headElement:cn})!==!1&&(Kr.appendChild(cn),zr.push(cn))}for(const mn of Vr)_r.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:mn})!==!1&&Kr.removeChild(mn);_r.triggerEvent(document.body,"htmx:afterHeadMerge",{added:zr,kept:jr,removed:Vr})}}}htmx.defineExtension("head-support",{init:function(Dr){_r=Dr,htmx.on("htmx:afterSwap",function(Mr){var $r=Mr.detail.xhr.response;_r.triggerEvent(document.body,"htmx:beforeHeadMerge",Mr.detail)&&Be($r,Mr.detail.boosted?"merge":"append")}),htmx.on("htmx:historyRestore",function(Mr){_r.triggerEvent(document.body,"htmx:beforeHeadMerge",Mr.detail)&&(Mr.detail.cacheMiss?Be(Mr.detail.serverResponse,"merge"):Be(Mr.detail.item.head,"merge"))}),htmx.on("htmx:historyItemCreated",function(Mr){var $r=Mr.detail.item;$r.head=document.head.outerHTML})}})};window.Ci4DataTables=window.Ci4DataTables||{};document.querySelector("html");window.jQuery=window.$=$$3;window.intlTelInput=intlTelInput$3;window.Swal=Swal$1;window.Sortable=Sortable;window.nestedSort=NestedSort;window.axios=axios$1;select2$1();window.select2=select2$1;window.daterangepicker=daterangepicker;window.EasyMDE=EasyMDE$1;window.ClassicEditor=ClassicEditor;window.Alpine=module_default$6;window.datatable=DataTable;window.echarts=echarts;window.dropzone=$3ed269f2f0fb224b$export$2e2bcd8739ae039;window.htmx=htmx$1;module_default$6.plugin(module_default$4);module_default$6.plugin(module_default$3);module_default$6.plugin(module_default$5);module_default$6.plugin(module_default$2);module_default$6.plugin(module_default);module_default$6.plugin(Clipboard.configure({onCopy:()=>{console.log("Copied!")}}));module_default$6.plugin(module_default$1);window.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":document.querySelector('meta[name="X-CSRF-TOKEN"]').getAttribute("content")};module_default$6.start();initDatatable();initPhoneIntl();initHtmx$1();initHtmx();htmx_minExports.on("htmx:afterSettle",function(_r){initPhoneIntl()});function _getElementById(_r){return document.getElementById(_r)}window._getElementById=_getElementById();function toggleSelectAll(_r){for(var Be=_r.closest("table"),Dr=Be.getElementsByTagName("input"),Mr=0;Mr<Dr.length;Mr++)Dr[Mr].type=="checkbox"&&(Dr[Mr].checked=_r.checked)}document.querySelector(".select-all")&&document.querySelector(".select-all").addEventListener("click",function(_r){toggleSelectAll(_r.target)});document.body.addEventListener("deleteConfirmed",function(_r){document.getElementById("recordSelector").dispatchEvent(new CustomEvent("deleteOK"))});document.body.addEventListener("showMessage",function(_r){if(typeof _r.detail.content=="object"){var Be=_r.detail.content,Dr="<ul>";Object.keys(Be).forEach(Mr=>{Dr+="<li>"+Be[Mr]+"</li>"}),Dr+="</ul>"}else Dr=_r.detail.content;document.dispatchEvent(new CustomEvent("notify",{detail:{content:Dr,type:_r.detail.type},bubbles:!0}))});function updateOnlineStatus(_r){let Be=navigator.onLine?"online":"offline",Dr=navigator.onLine?"success":"error";_r.type!=null&&document.dispatchEvent(new CustomEvent("notify",{detail:{content:Be,type:Dr},bubbles:!0}))}window.addEventListener("online",updateOnlineStatus);window.addEventListener("offline",updateOnlineStatus);updateOnlineStatus({});window.dispatchEvent(new CustomEvent("deletemodalcomponent",{detail:{showDeleteModal:!1,title:"my-modal",message:"my-modal",id:"8"},bubbles:!0}));window.dispatchEvent(new CustomEvent("authdisplaydatamodalcomponent",{detail:{showAuthDisplayDataModal:!1,title:"my-modal",message:"my-modal",id:"8"},bubbles:!0}));window.dispatchEvent(new CustomEvent("modalcomponent",{detail:{showModal:!1},bubbles:!0}));const searchField=document.getElementById("search-field");searchField&&searchField.addEventListener("keypress",function(_r){_r.keyCode==13&&_r.preventDefault()});htmx_minExports.onLoad(function(_r){document.querySelectorAll(".maxlength").forEach(Dr=>{var Mr=document.querySelector("."+Dr.getAttribute("id"));const $r=Dr.getAttribute("data-limit-word"),Br=()=>{let zr=Mr.value.length,Vr=$r-zr;Dr.textContent=Vr+"/"+$r,Vr<=0?(Dr.classList.remove("text-black-800","text-warning-800"),Dr.classList.add("text-red-800")):Vr<20?(Dr.classList.remove("text-black-800","text-red-800"),Dr.classList.add("text-warning-800")):(Dr.classList.remove("text-warning-800","text-red-800"),Dr.classList.add("text-black-800"))};Mr.addEventListener("input",Br),Br()})});window.onload=function(){let _r=document.querySelectorAll("input.noenter,select.noenter");for(var Be=0;Be<_r.length;Be++)_r[Be].addEventListener("keypress",function(Dr){Dr.which==13&&Dr.preventDefault()})};const INACTIVE_USER_TIME_THRESHOLD=9e5;let userActivityTimeout=null;activateActivityTracker();function activateActivityTracker(){window.addEventListener("mousemove",resetUserActivityTimeout),window.addEventListener("scroll",resetUserActivityTimeout),window.addEventListener("keydown",resetUserActivityTimeout),window.addEventListener("resize",resetUserActivityTimeout),window.addEventListener("beforeunload",deactivateActivityTracker)}function deactivateActivityTracker(){window.removeEventListener("mousemove",resetUserActivityTimeout),window.removeEventListener("scroll",resetUserActivityTimeout),window.removeEventListener("keydown",resetUserActivityTimeout),window.removeEventListener("resize",resetUserActivityTimeout),window.removeEventListener("beforeunload",deactivateActivityTracker)}function resetUserActivityTimeout(){clearTimeout(userActivityTimeout),userActivityTimeout=setTimeout(()=>{inactiveUserAction()},INACTIVE_USER_TIME_THRESHOLD),console.log("User is inactive = false")}function inactiveUserAction(){console.log("User is inactive = true"),window.dispatchEvent(new CustomEvent("modaldelainotactivity",{detail:{userActivity:!0},bubbles:!0}))}});export default BE();
